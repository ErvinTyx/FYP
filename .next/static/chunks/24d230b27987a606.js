(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55838,(e,t,r)=>{"use strict";var s=e.r(71645),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=s.useState,i=s.useEffect,l=s.useLayoutEffect,o=s.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(e){return!0}}var d="u"<typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),s=n({inst:{value:r,getSnapshot:t}}),a=s[0].inst,d=s[1];return l(function(){a.value=r,a.getSnapshot=t,c(a)&&d({inst:a})},[e,r,t]),i(function(){return c(a)&&d({inst:a}),e(function(){c(a)&&d({inst:a})})},[e]),o(r),r};r.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:d},2239,(e,t,r)=>{"use strict";t.exports=e.r(55838)},78756,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isUnsafeProperty=function(e){return"__proto__"===e}},33858,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},96736,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.toKey=function(e){return"string"==typeof e||"symbol"==typeof e?e:Object.is(e?.valueOf?.(),-0)?"-0":String(e)}},79232,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.toPath=function(e){let t=[],r=e.length;if(0===r)return t;let s=0,a="",n="",i=!1;for(46===e.charCodeAt(0)&&(t.push(""),s++);s<r;){let l=e[s];n?"\\"===l&&s+1<r?a+=e[++s]:l===n?n="":a+=l:i?'"'===l||"'"===l?n=l:"]"===l?(i=!1,t.push(a),a=""):a+=l:"["===l?(i=!0,a&&(t.push(a),a="")):"."===l?a&&(t.push(a),a=""):a+=l,s++}return a&&t.push(a),t}},18915,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let s=e.r(78756),a=e.r(33858),n=e.r(96736),i=e.r(79232);r.get=function e(t,r,l){if(null==t)return l;switch(typeof r){case"string":{if(s.isUnsafeProperty(r))return l;let n=t[r];if(void 0===n)if(a.isDeepKey(r))return e(t,i.toPath(r),l);else return l;return n}case"number":case"symbol":{"number"==typeof r&&(r=n.toKey(r));let e=t[r];if(void 0===e)return l;return e}default:{if(Array.isArray(r)){var o=t,c=r,d=l;if(0===c.length)return d;let e=o;for(let t=0;t<c.length;t++){if(null==e||s.isUnsafeProperty(c[t]))return d;e=e[c[t]]}return void 0===e?d:e}if(r=Object.is(r?.valueOf(),-0)?"-0":String(r),s.isUnsafeProperty(r))return l;let e=t[r];if(void 0===e)return l;return e}}}},92068,(e,t,r)=>{t.exports=e.r(18915).get},14595,(e,t,r)=>{"use strict";var s=e.r(71645),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=s.useSyncExternalStore,i=s.useRef,l=s.useEffect,o=s.useMemo,c=s.useDebugValue;r.useSyncExternalStoreWithSelector=function(e,t,r,s,d){var u=i(null);if(null===u.current){var m={hasValue:!1,value:null};u.current=m}else m=u.current;var h=n(e,(u=o(function(){function e(e){if(!l){if(l=!0,n=e,e=s(e),void 0!==d&&m.hasValue){var t=m.value;if(d(t,e))return i=t}return i=e}if(t=i,a(n,e))return t;var r=s(e);return void 0!==d&&d(t,r)?(n=e,t):(n=e,i=r)}var n,i,l=!1,o=void 0===r?null:r;return[function(){return e(t())},null===o?void 0:function(){return e(o())}]},[t,r,s,d]))[0],u[1]);return l(function(){m.hasValue=!0,m.value=h},[h]),c(h),h}},13027,(e,t,r)=>{"use strict";t.exports=e.r(14595)},52822,(e,t,r)=>{"use strict";var s=e.r(71645),a=e.r(2239),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=a.useSyncExternalStore,l=s.useRef,o=s.useEffect,c=s.useMemo,d=s.useDebugValue;r.useSyncExternalStoreWithSelector=function(e,t,r,s,a){var u=l(null);if(null===u.current){var m={hasValue:!1,value:null};u.current=m}else m=u.current;var h=i(e,(u=c(function(){function e(e){if(!o){if(o=!0,i=e,e=s(e),void 0!==a&&m.hasValue){var t=m.value;if(a(t,e))return l=t}return l=e}if(t=l,n(i,e))return t;var r=s(e);return void 0!==a&&a(t,r)?(i=e,t):(i=e,l=r)}var i,l,o=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,s,a]))[0],u[1]);return o(function(){m.hasValue=!0,m.value=h},[h]),d(h),h}},30224,(e,t,r)=>{"use strict";t.exports=e.r(52822)},45403,(e,t,r)=>{"use strict";function s(e){return"symbol"==typeof e?1:null===e?2:void 0===e?3:4*(e!=e)}Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.compareValues=(e,t,r)=>{if(e!==t){let a=s(e),n=s(t);if(a===n&&0===a){if(e<t)return"desc"===r?1:-1;if(e>t)return"desc"===r?-1:1}return"desc"===r?n-a:a-n}return 0}},9542,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isSymbol=function(e){return"symbol"==typeof e||e instanceof Symbol}},38104,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let s=e.r(9542),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;r.isKey=function(e,t){return!Array.isArray(e)&&(!!("number"==typeof e||"boolean"==typeof e||null==e||s.isSymbol(e))||"string"==typeof e&&(n.test(e)||!a.test(e))||null!=t&&Object.hasOwn(t,e))}},910,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let s=e.r(45403),a=e.r(38104),n=e.r(79232);r.orderBy=function(e,t,r,i){if(null==e)return[];r=i?void 0:r,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(r)||(r=null==r?[]:[r]),r=r.map(e=>String(e));let l=(e,t)=>{let r=e;for(let e=0;e<t.length&&null!=r;++e)r=r[t[e]];return r},o=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"==typeof e||Array.isArray(e)||a.isKey(e))?e:{key:e,path:n.toPath(e)});return e.map(e=>({original:e,criteria:o.map(t=>{var r,s;return r=t,null==(s=e)||null==r?s:"object"==typeof r&&"key"in r?Object.hasOwn(s,r.key)?s[r.key]:l(s,r.path):"function"==typeof r?r(s):Array.isArray(r)?l(s,r):"object"==typeof s?s[r]:s})})).slice().sort((e,t)=>{for(let a=0;a<o.length;a++){let n=s.compareValues(e.criteria[a],t.criteria[a],r[a]);if(0!==n)return n}return 0}).map(e=>e.original)}},44647,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.flatten=function(e,t=1){let r=[],s=Math.floor(t),a=(e,t)=>{for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)&&t<s?a(i,t+1):r.push(i)}};return a(e,0),r}},5257,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let s=/^(?:0|[1-9]\d*)$/;r.isIndex=function(e,t=Number.MAX_SAFE_INTEGER){switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return s.test(e)}}},70871,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},69642,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let s=e.r(70871);r.isArrayLike=function(e){return null!=e&&"function"!=typeof e&&s.isLength(e.length)}},90820,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isObject=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}},23855,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}},15111,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let s=e.r(5257),a=e.r(69642),n=e.r(90820),i=e.r(23855);r.isIterateeCall=function(e,t,r){return!!n.isObject(r)&&(!!("number"==typeof t&&a.isArrayLike(r)&&s.isIndex(t))&&t<r.length||"string"==typeof t&&t in r)&&i.eq(r[t],e)}},69955,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let s=e.r(910),a=e.r(44647),n=e.r(15111);r.sortBy=function(e,...t){let r=t.length;return r>1&&n.isIterateeCall(e,t[0],t[1])?t=[]:r>2&&n.isIterateeCall(t[0],t[1],t[2])&&(t=[t[0]]),s.orderBy(e,a.flatten(t),["asc"])}},42342,(e,t,r)=>{t.exports=e.r(69955).sortBy},41015,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let s=e.r(9542);r.toNumber=function(e){return s.isSymbol(e)?NaN:Number(e)}},89793,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let s=e.r(41015);r.toFinite=function(e){return e?(e=s.toNumber(e))===1/0||e===-1/0?(e<0?-1:1)*Number.MAX_VALUE:e==e?e:0:0===e?e:0}},45264,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let s=e.r(15111),a=e.r(89793);r.range=function(e,t,r){r&&"number"!=typeof r&&s.isIterateeCall(e,t,r)&&(t=r=void 0),e=a.toFinite(e),void 0===t?(t=e,e=0):t=a.toFinite(t),r=void 0===r?e<t?1:-1:a.toFinite(r);let n=Math.max(Math.ceil((t-e)/(r||1)),0),i=Array(n);for(let t=0;t<n;t++)i[t]=e,e+=r;return i}},66814,(e,t,r)=>{t.exports=e.r(45264).range},51655,(e,t,r)=>{!function(r){"use strict";var s,a={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},n=!0,i="[DecimalError] ",l=i+"Invalid argument: ",o=i+"Exponent out of range: ",c=Math.floor,d=Math.pow,u=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,m=c(1286742750677284.5),h={};function x(e,t){var r,s,a,i,l,o,c,d,u=e.constructor,m=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),n?C(t,m):t;if(c=e.d,d=t.d,l=e.e,a=t.e,c=c.slice(),i=l-a){for(i<0?(s=c,i=-i,o=d.length):(s=d,a=l,o=c.length),i>(o=(l=Math.ceil(m/7))>o?l+1:o+1)&&(i=o,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for((o=c.length)-(i=d.length)<0&&(i=o,s=d,d=c,c=s),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/1e7|0,c[i]%=1e7;for(r&&(c.unshift(r),++a),o=c.length;0==c[--o];)c.pop();return t.d=c,t.e=a,n?C(t,m):t}function p(e,t,r){if(e!==~~e||e<t||e>r)throw Error(l+e)}function f(e){var t,r,s,a=e.length-1,n="",i=e[0];if(a>0){for(n+=i,t=1;t<a;t++)(r=7-(s=e[t]+"").length)&&(n+=b(r)),n+=s;(r=7-(s=(i=e[t])+"").length)&&(n+=b(r))}else if(0===i)return"0";for(;i%10==0;)i/=10;return n+i}h.absoluteValue=h.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},h.comparedTo=h.cmp=function(e){var t,r,s,a;if(e=new this.constructor(e),this.s!==e.s)return this.s||-e.s;if(this.e!==e.e)return this.e>e.e^this.s<0?1:-1;for(t=0,r=(s=this.d.length)<(a=e.d.length)?s:a;t<r;++t)if(this.d[t]!==e.d[t])return this.d[t]>e.d[t]^this.s<0?1:-1;return s===a?0:s>a^this.s<0?1:-1},h.decimalPlaces=h.dp=function(){var e=this.d.length-1,t=(e-this.e)*7;if(e=this.d[e])for(;e%10==0;e/=10)t--;return t<0?0:t},h.dividedBy=h.div=function(e){return g(this,new this.constructor(e))},h.dividedToIntegerBy=h.idiv=function(e){var t=this.constructor;return C(g(this,new t(e),0,1),t.precision)},h.equals=h.eq=function(e){return!this.cmp(e)},h.exponent=function(){return j(this)},h.greaterThan=h.gt=function(e){return this.cmp(e)>0},h.greaterThanOrEqualTo=h.gte=function(e){return this.cmp(e)>=0},h.isInteger=h.isint=function(){return this.e>this.d.length-2},h.isNegative=h.isneg=function(){return this.s<0},h.isPositive=h.ispos=function(){return this.s>0},h.isZero=function(){return 0===this.s},h.lessThan=h.lt=function(e){return 0>this.cmp(e)},h.lessThanOrEqualTo=h.lte=function(e){return 1>this.cmp(e)},h.logarithm=h.log=function(e){var t,r=this.constructor,a=r.precision,l=a+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(s))throw Error(i+"NaN");if(this.s<1)throw Error(i+(this.s?"NaN":"-Infinity"));return this.eq(s)?new r(0):(n=!1,t=g(N(this,l),N(e,l),l),n=!0,C(t,a))},h.minus=h.sub=function(e){return e=new this.constructor(e),this.s==e.s?S(this,e):x(this,(e.s=-e.s,e))},h.modulo=h.mod=function(e){var t,r=this.constructor,s=r.precision;if(!(e=new r(e)).s)throw Error(i+"NaN");return this.s?(n=!1,t=g(this,e,0,1).times(e),n=!0,this.minus(t)):C(new r(this),s)},h.naturalExponential=h.exp=function(){return v(this)},h.naturalLogarithm=h.ln=function(){return N(this)},h.negated=h.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},h.plus=h.add=function(e){return e=new this.constructor(e),this.s==e.s?x(this,e):S(this,(e.s=-e.s,e))},h.precision=h.sd=function(e){var t,r,s;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(l+e);if(t=j(this)+1,r=7*(s=this.d.length-1)+1,s=this.d[s]){for(;s%10==0;s/=10)r--;for(s=this.d[0];s>=10;s/=10)r++}return e&&t>r?t:r},h.squareRoot=h.sqrt=function(){var e,t,r,s,a,l,o,d=this.constructor;if(this.s<1){if(!this.s)return new d(0);throw Error(i+"NaN")}for(e=j(this),n=!1,0==(a=Math.sqrt(+this))||a==1/0?(((t=f(this.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=c((e+1)/2)-(e<0||e%2),s=new d(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):s=new d(a.toString()),a=o=(r=d.precision)+3;;)if(s=(l=s).plus(g(this,l,o+2)).times(.5),f(l.d).slice(0,o)===(t=f(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&"4999"==t){if(C(l,r+1,0),l.times(l).eq(this)){s=l;break}}else if("9999"!=t)break;o+=4}return n=!0,C(s,r)},h.times=h.mul=function(e){var t,r,s,a,i,l,o,c,d,u=this.constructor,m=this.d,h=(e=new u(e)).d;if(!this.s||!e.s)return new u(0);for(e.s*=this.s,r=this.e+e.e,(c=m.length)<(d=h.length)&&(i=m,m=h,h=i,l=c,c=d,d=l),i=[],s=l=c+d;s--;)i.push(0);for(s=d;--s>=0;){for(t=0,a=c+s;a>s;)o=i[a]+h[s]*m[a-s-1]+t,i[a--]=o%1e7|0,t=o/1e7|0;i[a]=(i[a]+t)%1e7|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,n?C(e,u.precision):e},h.toDecimalPlaces=h.todp=function(e,t){var r=this,s=r.constructor;return(r=new s(r),void 0===e)?r:(p(e,0,1e9),void 0===t?t=s.rounding:p(t,0,8),C(r,e+j(r)+1,t))},h.toExponential=function(e,t){var r,s=this,a=s.constructor;return void 0===e?r=D(s,!0):(p(e,0,1e9),void 0===t?t=a.rounding:p(t,0,8),r=D(s=C(new a(s),e+1,t),!0,e+1)),r},h.toFixed=function(e,t){var r,s,a=this.constructor;return void 0===e?D(this):(p(e,0,1e9),void 0===t?t=a.rounding:p(t,0,8),r=D((s=C(new a(this),e+j(this)+1,t)).abs(),!1,e+j(s)+1),this.isneg()&&!this.isZero()?"-"+r:r)},h.toInteger=h.toint=function(){var e=this.constructor;return C(new e(this),j(this)+1,e.rounding)},h.toNumber=function(){return+this},h.toPower=h.pow=function(e){var t,r,a,l,o,d,u=this,m=u.constructor,h=+(e=new m(e));if(!e.s)return new m(s);if(!(u=new m(u)).s){if(e.s<1)throw Error(i+"Infinity");return u}if(u.eq(s))return u;if(a=m.precision,e.eq(s))return C(u,a);if(d=(t=e.e)>=(r=e.d.length-1),o=u.s,d){if((r=h<0?-h:h)<=0x1fffffffffffff){for(l=new m(s),t=Math.ceil(a/7+4),n=!1;r%2&&P((l=l.times(u)).d,t),0!==(r=c(r/2));)P((u=u.times(u)).d,t);return n=!0,e.s<0?new m(s).div(l):C(l,a)}}else if(o<0)throw Error(i+"NaN");return o=o<0&&1&e.d[Math.max(t,r)]?-1:1,u.s=1,n=!1,l=e.times(N(u,a+12)),n=!0,(l=v(l)).s=o,l},h.toPrecision=function(e,t){var r,s,a=this,n=a.constructor;return void 0===e?(r=j(a),s=D(a,r<=n.toExpNeg||r>=n.toExpPos)):(p(e,1,1e9),void 0===t?t=n.rounding:p(t,0,8),r=j(a=C(new n(a),e,t)),s=D(a,e<=r||r<=n.toExpNeg,e)),s},h.toSignificantDigits=h.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(p(e,1,1e9),void 0===t?t=r.rounding:p(t,0,8)),C(new r(this),e,t)},h.toString=h.valueOf=h.val=h.toJSON=function(){var e=j(this),t=this.constructor;return D(this,e<=t.toExpNeg||e>=t.toExpPos)};var g=function(){function e(e,t){var r,s=0,a=e.length;for(e=e.slice();a--;)r=e[a]*t+s,e[a]=r%1e7|0,s=r/1e7|0;return s&&e.unshift(s),e}function t(e,t,r,s){var a,n;if(r!=s)n=r>s?1:-1;else for(a=n=0;a<r;a++)if(e[a]!=t[a]){n=e[a]>t[a]?1:-1;break}return n}function r(e,t,r){for(var s=0;r--;)e[r]-=s,s=+(e[r]<t[r]),e[r]=1e7*s+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(s,a,n,l){var o,c,d,u,m,h,x,p,f,g,v,y,b,N,w,S,D,P,k=s.constructor,E=s.s==a.s?1:-1,A=s.d,F=a.d;if(!s.s)return new k(s);if(!a.s)throw Error(i+"Division by zero");for(d=0,c=s.e-a.e,D=F.length,w=A.length,p=(x=new k(E)).d=[];F[d]==(A[d]||0);)++d;if(F[d]>(A[d]||0)&&--c,(y=null==n?n=k.precision:l?n+(j(s)-j(a))+1:n)<0)return new k(0);if(y=y/7+2|0,d=0,1==D)for(u=0,F=F[0],y++;(d<w||u)&&y--;d++)b=1e7*u+(A[d]||0),p[d]=b/F|0,u=b%F|0;else{for((u=1e7/(F[0]+1)|0)>1&&(F=e(F,u),A=e(A,u),D=F.length,w=A.length),N=D,g=(f=A.slice(0,D)).length;g<D;)f[g++]=0;(P=F.slice()).unshift(0),S=F[0],F[1]>=1e7/2&&++S;do u=0,(o=t(F,f,D,g))<0?(v=f[0],D!=g&&(v=1e7*v+(f[1]||0)),(u=v/S|0)>1?(u>=1e7&&(u=1e7-1),h=(m=e(F,u)).length,g=f.length,1==(o=t(m,f,h,g))&&(u--,r(m,D<h?P:F,h))):(0==u&&(o=u=1),m=F.slice()),(h=m.length)<g&&m.unshift(0),r(f,m,g),-1==o&&(g=f.length,(o=t(F,f,D,g))<1&&(u++,r(f,D<g?P:F,g))),g=f.length):0===o&&(u++,f=[0]),p[d++]=u,o&&f[0]?f[g++]=A[N]||0:(f=[A[N]],g=1);while((N++<w||void 0!==f[0])&&y--)}return p[0]||p.shift(),x.e=c,C(x,l?n+j(x)+1:n)}}();function v(e,t){var r,a,i,l,c,u=0,m=0,h=e.constructor,x=h.precision;if(j(e)>16)throw Error(o+j(e));if(!e.s)return new h(s);for(null==t?(n=!1,c=x):c=t,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),m+=5;for(c+=Math.log(d(2,m))/Math.LN10*2+5|0,r=a=i=new h(s),h.precision=c;;){if(a=C(a.times(e),c),r=r.times(++u),f((l=i.plus(g(a,r,c))).d).slice(0,c)===f(i.d).slice(0,c)){for(;m--;)i=C(i.times(i),c);return h.precision=x,null==t?(n=!0,C(i,x)):i}i=l}}function j(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function y(e,t,r){if(t>e.LN10.sd())throw n=!0,r&&(e.precision=r),Error(i+"LN10 precision limit exceeded");return C(new e(e.LN10),t)}function b(e){for(var t="";e--;)t+="0";return t}function N(e,t){var r,a,l,o,c,d,u,m,h,x=1,p=e,v=p.d,b=p.constructor,w=b.precision;if(p.s<1)throw Error(i+(p.s?"NaN":"-Infinity"));if(p.eq(s))return new b(0);if(null==t?(n=!1,m=w):m=t,p.eq(10))return null==t&&(n=!0),y(b,m);if(b.precision=m+=10,a=(r=f(v)).charAt(0),!(15e14>Math.abs(o=j(p))))return u=y(b,m+2,w).times(o+""),p=N(new b(a+"."+r.slice(1)),m-10).plus(u),b.precision=w,null==t?(n=!0,C(p,w)):p;for(;a<7&&1!=a||1==a&&r.charAt(1)>3;)a=(r=f((p=p.times(e)).d)).charAt(0),x++;for(o=j(p),a>1?(p=new b("0."+r),o++):p=new b(a+"."+r.slice(1)),d=c=p=g(p.minus(s),p.plus(s),m),h=C(p.times(p),m),l=3;;){if(c=C(c.times(h),m),f((u=d.plus(g(c,new b(l),m))).d).slice(0,m)===f(d.d).slice(0,m))return d=d.times(2),0!==o&&(d=d.plus(y(b,m+2,w).times(o+""))),d=g(d,new b(x),m),b.precision=w,null==t?(n=!0,C(d,w)):d;d=u,l+=2}}function w(e,t){var r,s,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;48===t.charCodeAt(s);)++s;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(s,a)){if(a-=s,e.e=c((r=r-s-1)/7),e.d=[],s=(r+1)%7,r<0&&(s+=7),s<a){for(s&&e.d.push(+t.slice(0,s)),a-=7;s<a;)e.d.push(+t.slice(s,s+=7));s=7-(t=t.slice(s)).length}else s-=a;for(;s--;)t+="0";if(e.d.push(+t),n&&(e.e>m||e.e<-m))throw Error(o+r)}else e.s=0,e.e=0,e.d=[0];return e}function C(e,t,r){var s,a,i,l,u,h,x,p,f=e.d;for(l=1,i=f[0];i>=10;i/=10)l++;if((s=t-l)<0)s+=7,a=t,x=f[p=0];else{if((p=Math.ceil((s+1)/7))>=(i=f.length))return e;for(l=1,x=i=f[p];i>=10;i/=10)l++;s%=7,a=s-7+l}if(void 0!==r&&(u=x/(i=d(10,l-a-1))%10|0,h=t<0||void 0!==f[p+1]||x%i,h=r<4?(u||h)&&(0==r||r==(e.s<0?3:2)):u>5||5==u&&(4==r||h||6==r&&(s>0?a>0?x/d(10,l-a):0:f[p-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return h?(i=j(e),f.length=1,t=t-i-1,f[0]=d(10,(7-t%7)%7),e.e=c(-t/7)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(0==s?(f.length=p,i=1,p--):(f.length=p+1,i=d(10,7-s),f[p]=a>0?(x/d(10,l-a)%d(10,a)|0)*i:0),h)for(;;)if(0==p){1e7==(f[0]+=i)&&(f[0]=1,++e.e);break}else{if(f[p]+=i,1e7!=f[p])break;f[p--]=0,i=1}for(s=f.length;0===f[--s];)f.pop();if(n&&(e.e>m||e.e<-m))throw Error(o+j(e));return e}function S(e,t){var r,s,a,i,l,o,c,d,u,m,h=e.constructor,x=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),n?C(t,x):t;if(c=e.d,m=t.d,s=t.e,d=e.e,c=c.slice(),l=d-s){for((u=l<0)?(r=c,l=-l,o=m.length):(r=m,s=d,o=c.length),l>(a=Math.max(Math.ceil(x/7),o)+2)&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for((u=(a=c.length)<(o=m.length))&&(o=a),a=0;a<o;a++)if(c[a]!=m[a]){u=c[a]<m[a];break}l=0}for(u&&(r=c,c=m,m=r,t.s=-t.s),o=c.length,a=m.length-o;a>0;--a)c[o++]=0;for(a=m.length;a>l;){if(c[--a]<m[a]){for(i=a;i&&0===c[--i];)c[i]=1e7-1;--c[i],c[a]+=1e7}c[a]-=m[a]}for(;0===c[--o];)c.pop();for(;0===c[0];c.shift())--s;return c[0]?(t.d=c,t.e=s,n?C(t,x):t):new h(0)}function D(e,t,r){var s,a=j(e),n=f(e.d),i=n.length;return t?(r&&(s=r-i)>0?n=n.charAt(0)+"."+n.slice(1)+b(s):i>1&&(n=n.charAt(0)+"."+n.slice(1)),n=n+(a<0?"e":"e+")+a):a<0?(n="0."+b(-a-1)+n,r&&(s=r-i)>0&&(n+=b(s))):a>=i?(n+=b(a+1-i),r&&(s=r-a-1)>0&&(n=n+"."+b(s))):((s=a+1)<i&&(n=n.slice(0,s)+"."+n.slice(s)),r&&(s=r-i)>0&&(a+1===i&&(n+="."),n+=b(s))),e.s<0?"-"+n:n}function P(e,t){if(e.length>t)return e.length=t,!0}function k(e){if(!e||"object"!=typeof e)throw Error(i+"Object expected");var t,r,s,a=["precision",1,1e9,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(s=e[r=a[t]]))if(c(s)===s&&s>=a[t+1]&&s<=a[t+2])this[r]=s;else throw Error(l+r+": "+s);if(void 0!==(s=e[r="LN10"]))if(s==Math.LN10)this[r]=new this(s);else throw Error(l+r+": "+s);return this}if((a=function e(t){var r,s,a;function n(e){if(!(this instanceof n))return new n(e);if(this.constructor=n,e instanceof n){this.s=e.s,this.e=e.e,this.d=(e=e.d)?e.slice():e;return}if("number"==typeof e){if(0*e!=0)throw Error(l+e);if(e>0)this.s=1;else if(e<0)e=-e,this.s=-1;else{this.s=0,this.e=0,this.d=[0];return}if(e===~~e&&e<1e7){this.e=0,this.d=[e];return}return w(this,e.toString())}if("string"!=typeof e)throw Error(l+e);if(45===e.charCodeAt(0)?(e=e.slice(1),this.s=-1):this.s=1,u.test(e))w(this,e);else throw Error(l+e)}if(n.prototype=h,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=e,n.config=n.set=k,void 0===t&&(t={}),t)for(r=0,a=["precision","rounding","toExpNeg","toExpPos","LN10"];r<a.length;)t.hasOwnProperty(s=a[r++])||(t[s]=this[s]);return n.config(t),n}(a)).default=a.Decimal=a,s=new a(1),"function"==typeof define&&define.amd){let t;e.r,void 0!==(t=a)&&e.v(t)}else t.exports?t.exports=a:(r||(r="u">typeof self&&self&&self.self==self?self:Function("return this")()),r.Decimal=a)}(e.e)},78804,(e,t,r)=>{"use strict";var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler");Symbol.for("react.provider");var o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),f=Symbol.for("react.client.reference");function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case s:switch(e=e.type){case n:case l:case i:case u:case m:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case x:case h:case o:return e;default:return t}}case a:return t}}}r.ContextConsumer=o,r.ContextProvider=c,r.Element=s,r.ForwardRef=d,r.Fragment=n,r.Lazy=x,r.Memo=h,r.Portal=a,r.Profiler=l,r.StrictMode=i,r.Suspense=u,r.SuspenseList=m,r.isContextConsumer=function(e){return g(e)===o},r.isContextProvider=function(e){return g(e)===c},r.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===s},r.isForwardRef=function(e){return g(e)===d},r.isFragment=function(e){return g(e)===n},r.isLazy=function(e){return g(e)===x},r.isMemo=function(e){return g(e)===h},r.isPortal=function(e){return g(e)===a},r.isProfiler=function(e){return g(e)===l},r.isStrictMode=function(e){return g(e)===i},r.isSuspense=function(e){return g(e)===u},r.isSuspenseList=function(e){return g(e)===m},r.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===n||e===l||e===i||e===u||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===x||e.$$typeof===h||e.$$typeof===c||e.$$typeof===o||e.$$typeof===d||e.$$typeof===f||void 0!==e.getModuleId)||!1},r.typeOf=g},79684,(e,t,r)=>{"use strict";t.exports=e.r(78804)},78492,(e,t,r)=>{"use strict";var s=Object.prototype.hasOwnProperty,a="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function l(e,t,r,s,n){if("function"!=typeof r)throw TypeError("The listener must be a function");var l=new i(r,s||e,n),o=a?a+t:t;return e._events[o]?e._events[o].fn?e._events[o]=[e._events[o],l]:e._events[o].push(l):(e._events[o]=l,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function c(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(a=!1)),c.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)s.call(e,t)&&r.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},c.prototype.listeners=function(e){var t=a?a+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,n=r.length,i=Array(n);s<n;s++)i[s]=r[s].fn;return i},c.prototype.listenerCount=function(e){var t=a?a+e:e,r=this._events[t];return r?r.fn?1:r.length:0},c.prototype.emit=function(e,t,r,s,n,i){var l=a?a+e:e;if(!this._events[l])return!1;var o,c,d=this._events[l],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,s),!0;case 5:return d.fn.call(d.context,t,r,s,n),!0;case 6:return d.fn.call(d.context,t,r,s,n,i),!0}for(c=1,o=Array(u-1);c<u;c++)o[c-1]=arguments[c];d.fn.apply(d.context,o)}else{var m,h=d.length;for(c=0;c<h;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,r);break;case 4:d[c].fn.call(d[c].context,t,r,s);break;default:if(!o)for(m=1,o=Array(u-1);m<u;m++)o[m-1]=arguments[m];d[c].fn.apply(d[c].context,o)}}return!0},c.prototype.on=function(e,t,r){return l(this,e,t,r,!1)},c.prototype.once=function(e,t,r){return l(this,e,t,r,!0)},c.prototype.removeListener=function(e,t,r,s){var n=a?a+e:e;if(!this._events[n])return this;if(!t)return o(this,n),this;var i=this._events[n];if(i.fn)i.fn!==t||s&&!i.once||r&&i.context!==r||o(this,n);else{for(var l=0,c=[],d=i.length;l<d;l++)(i[l].fn!==t||s&&!i[l].once||r&&i[l].context!==r)&&c.push(i[l]);c.length?this._events[n]=1===c.length?c[0]:c:o(this,n)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=a,c.EventEmitter=c,t.exports=c},43210,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.last=function(e){return e[e.length-1]}},75576,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},5518,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let s=e.r(43210),a=e.r(75576),n=e.r(69642);r.last=function(e){if(n.isArrayLike(e))return s.last(a.toArray(e))}},4178,(e,t,r)=>{t.exports=e.r(5518).last},18256,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isPlainObject=function(e){if("object"!=typeof e||null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){let t=e[Symbol.toStringTag];return null!=t&&!!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable&&e.toString()===`[object ${t}]`}let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},7328,(e,t,r)=>{t.exports=e.r(18256).isPlainObject},67034,(e,t,r)=>{var s={675:function(e,t){"use strict";t.byteLength=function(e){var t=o(e),r=t[0],s=t[1];return(r+s)*3/4-s},t.toByteArray=function(e){var t,r,n=o(e),i=n[0],l=n[1],c=new a((i+l)*3/4-l),d=0,u=l>0?i-4:i;for(r=0;r<u;r+=4)t=s[e.charCodeAt(r)]<<18|s[e.charCodeAt(r+1)]<<12|s[e.charCodeAt(r+2)]<<6|s[e.charCodeAt(r+3)],c[d++]=t>>16&255,c[d++]=t>>8&255,c[d++]=255&t;return 2===l&&(t=s[e.charCodeAt(r)]<<2|s[e.charCodeAt(r+1)]>>4,c[d++]=255&t),1===l&&(t=s[e.charCodeAt(r)]<<10|s[e.charCodeAt(r+1)]<<4|s[e.charCodeAt(r+2)]>>2,c[d++]=t>>8&255,c[d++]=255&t),c},t.fromByteArray=function(e){for(var t,s=e.length,a=s%3,n=[],i=0,l=s-a;i<l;i+=16383)n.push(function(e,t,s){for(var a,n=[],i=t;i<s;i+=3)a=(e[i]<<16&0xff0000)+(e[i+1]<<8&65280)+(255&e[i+2]),n.push(r[a>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return n.join("")}(e,i,i+16383>l?l:i+16383));return 1===a?n.push(r[(t=e[s-1])>>2]+r[t<<4&63]+"=="):2===a&&n.push(r[(t=(e[s-2]<<8)+e[s-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),n.join("")};for(var r=[],s=[],a="u">typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,l=n.length;i<l;++i)r[i]=n[i],s[n.charCodeAt(i)]=i;function o(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var s=r===t?0:4-r%4;return[r,s]}s[45]=62,s[95]=63},72:function(e,t,r){"use strict";var s=r(675),a=r(783),n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function i(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return d(e)}return o(e,t,r)}function o(e,t,r){if("string"==typeof e){var s=e,a=t;if(("string"!=typeof a||""===a)&&(a="utf8"),!l.isEncoding(a))throw TypeError("Unknown encoding: "+a);var n=0|h(s,a),o=i(n),c=o.write(s,a);return c!==n&&(o=o.slice(0,c)),o}if(ArrayBuffer.isView(e))return u(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(E(e,ArrayBuffer)||e&&E(e.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(E(e,SharedArrayBuffer)||e&&E(e.buffer,SharedArrayBuffer)))return function(e,t,r){var s;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(s=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),l.prototype),s}(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var d=e.valueOf&&e.valueOf();if(null!=d&&d!==e)return l.from(d,t,r);var x=function(e){if(l.isBuffer(e)){var t=0|m(e.length),r=i(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?i(0):u(e):"Buffer"===e.type&&Array.isArray(e.data)?u(e.data):void 0}(e);if(x)return x;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return c(e),i(e<0?0:0|m(e))}function u(e){for(var t=e.length<0?0:0|m(e.length),r=i(t),s=0;s<t;s+=1)r[s]=255&e[s];return r}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,l.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!l.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,r){return o(e,t,r)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,r){return(c(e),e<=0)?i(e):void 0!==t?"string"==typeof r?i(e).fill(t,r):i(e).fill(t):i(e)},l.allocUnsafe=function(e){return d(e)},l.allocUnsafeSlow=function(e){return d(e)};function m(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function h(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||E(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,s=arguments.length>2&&!0===arguments[2];if(!s&&0===r)return 0;for(var a=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return S(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return P(e).length;default:if(a)return s?-1:S(e).length;t=(""+t).toLowerCase(),a=!0}}function x(e,t,r){var a,n,i,l=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var s=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>s)&&(r=s);for(var a="",n=t;n<r;++n)a+=A[e[n]];return a}(this,t,r);case"utf8":case"utf-8":return v(this,t,r);case"ascii":return function(e,t,r){var s="";r=Math.min(e.length,r);for(var a=t;a<r;++a)s+=String.fromCharCode(127&e[a]);return s}(this,t,r);case"latin1":case"binary":return function(e,t,r){var s="";r=Math.min(e.length,r);for(var a=t;a<r;++a)s+=String.fromCharCode(e[a]);return s}(this,t,r);case"base64":return a=this,n=t,i=r,0===n&&i===a.length?s.fromByteArray(a):s.fromByteArray(a.slice(n,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var s=e.slice(t,r),a="",n=0;n<s.length;n+=2)a+=String.fromCharCode(s[n]+256*s[n+1]);return a}(this,t,r);default:if(l)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),l=!0}}function p(e,t,r){var s=e[t];e[t]=e[r],e[r]=s}function f(e,t,r,s,a){var n;if(0===e.length)return -1;if("string"==typeof r?(s=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(n=r*=1)!=n&&(r=a?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(a)return -1;else r=e.length-1;else if(r<0)if(!a)return -1;else r=0;if("string"==typeof t&&(t=l.from(t,s)),l.isBuffer(t))return 0===t.length?-1:g(e,t,r,s,a);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(a)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return g(e,[t],r,s,a)}throw TypeError("val must be string, number or Buffer")}function g(e,t,r,s,a){var n,i=1,l=e.length,o=t.length;if(void 0!==s&&("ucs2"===(s=String(s).toLowerCase())||"ucs-2"===s||"utf16le"===s||"utf-16le"===s)){if(e.length<2||t.length<2)return -1;i=2,l/=2,o/=2,r/=2}function c(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(a){var d=-1;for(n=r;n<l;n++)if(c(e,n)===c(t,-1===d?0:n-d)){if(-1===d&&(d=n),n-d+1===o)return d*i}else -1!==d&&(n-=n-d),d=-1}else for(r+o>l&&(r=l-o),n=r;n>=0;n--){for(var u=!0,m=0;m<o;m++)if(c(e,n+m)!==c(t,m)){u=!1;break}if(u)return n}return -1}l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(E(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),E(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,s=t.length,a=0,n=Math.min(r,s);a<n;++a)if(e[a]!==t[a]){r=e[a],s=t[a];break}return r<s?-1:+(s<r)},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,s=l.allocUnsafe(t),a=0;for(r=0;r<e.length;++r){var n=e[r];if(E(n,Uint8Array)&&(n=l.from(n)),!l.isBuffer(n))throw TypeError('"list" argument must be an Array of Buffers');n.copy(s,a),a+=n.length}return s},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},l.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?v(this,0,e):x.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(e,t,r,s,a){if(E(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===s&&(s=0),void 0===a&&(a=this.length),t<0||r>e.length||s<0||a>this.length)throw RangeError("out of range index");if(s>=a&&t>=r)return 0;if(s>=a)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,s>>>=0,a>>>=0,this===e)return 0;for(var n=a-s,i=r-t,o=Math.min(n,i),c=this.slice(s,a),d=e.slice(t,r),u=0;u<o;++u)if(c[u]!==d[u]){n=c[u],i=d[u];break}return n<i?-1:+(i<n)},l.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return f(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return f(this,e,t,r,!1)};function v(e,t,r){r=Math.min(e.length,r);for(var s=[],a=t;a<r;){var n,i,l,o,c=e[a],d=null,u=c>239?4:c>223?3:c>191?2:1;if(a+u<=r)switch(u){case 1:c<128&&(d=c);break;case 2:(192&(n=e[a+1]))==128&&(o=(31&c)<<6|63&n)>127&&(d=o);break;case 3:n=e[a+1],i=e[a+2],(192&n)==128&&(192&i)==128&&(o=(15&c)<<12|(63&n)<<6|63&i)>2047&&(o<55296||o>57343)&&(d=o);break;case 4:n=e[a+1],i=e[a+2],l=e[a+3],(192&n)==128&&(192&i)==128&&(192&l)==128&&(o=(15&c)<<18|(63&n)<<12|(63&i)<<6|63&l)>65535&&o<1114112&&(d=o)}null===d?(d=65533,u=1):d>65535&&(d-=65536,s.push(d>>>10&1023|55296),d=56320|1023&d),s.push(d),a+=u}var m=s,h=m.length;if(h<=4096)return String.fromCharCode.apply(String,m);for(var x="",p=0;p<h;)x+=String.fromCharCode.apply(String,m.slice(p,p+=4096));return x}function j(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function y(e,t,r,s,a,n){if(!l.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<n)throw RangeError('"value" argument is out of bounds');if(r+s>e.length)throw RangeError("Index out of range")}function b(e,t,r,s,a,n){if(r+s>e.length||r<0)throw RangeError("Index out of range")}function N(e,t,r,s,n){return t*=1,r>>>=0,n||b(e,t,r,4,34028234663852886e22,-34028234663852886e22),a.write(e,t,r,s,23,4),r+4}function w(e,t,r,s,n){return t*=1,r>>>=0,n||b(e,t,r,8,17976931348623157e292,-17976931348623157e292),a.write(e,t,r,s,52,8),r+8}l.prototype.write=function(e,t,r,s){if(void 0===t)s="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)s=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===s&&(s="utf8")):(s=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var a,n,i,l,o,c,d,u,m=this.length-t;if((void 0===r||r>m)&&(r=m),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");s||(s="utf8");for(var h=!1;;)switch(s){case"hex":return function(e,t,r,s){r=Number(r)||0;var a=e.length-r;s?(s=Number(s))>a&&(s=a):s=a;var n=t.length;s>n/2&&(s=n/2);for(var i=0;i<s;++i){var l,o=parseInt(t.substr(2*i,2),16);if((l=o)!=l)break;e[r+i]=o}return i}(this,e,t,r);case"utf8":case"utf-8":return a=t,n=r,k(S(e,this.length-a),this,a,n);case"ascii":return i=t,l=r,k(D(e),this,i,l);case"latin1":case"binary":return function(e,t,r,s){return k(D(t),e,r,s)}(this,e,t,r);case"base64":return o=t,c=r,k(P(e),this,o,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d=t,u=r,k(function(e,t){for(var r,s,a=[],n=0;n<e.length&&!((t-=2)<0);++n)s=(r=e.charCodeAt(n))>>8,a.push(r%256),a.push(s);return a}(e,this.length-d),this,d,u);default:if(h)throw TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),h=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},l.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var s=this.subarray(e,t);return Object.setPrototypeOf(s,l.prototype),s},l.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var s=this[e],a=1,n=0;++n<t&&(a*=256);)s+=this[e+n]*a;return s},l.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var s=this[e+--t],a=1;t>0&&(a*=256);)s+=this[e+--t]*a;return s},l.prototype.readUInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var s=this[e],a=1,n=0;++n<t&&(a*=256);)s+=this[e+n]*a;return s>=(a*=128)&&(s-=Math.pow(2,8*t)),s},l.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var s=t,a=1,n=this[e+--s];s>0&&(a*=256);)n+=this[e+--s]*a;return n>=(a*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readInt8=function(e,t){return(e>>>=0,t||j(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||j(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},l.prototype.readInt16BE=function(e,t){e>>>=0,t||j(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return e>>>=0,t||j(e,4,this.length),a.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||j(e,4,this.length),a.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||j(e,8,this.length),a.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||j(e,8,this.length),a.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,r,s){if(e*=1,t>>>=0,r>>>=0,!s){var a=Math.pow(2,8*r)-1;y(this,e,t,r,a,0)}var n=1,i=0;for(this[t]=255&e;++i<r&&(n*=256);)this[t+i]=e/n&255;return t+r},l.prototype.writeUIntBE=function(e,t,r,s){if(e*=1,t>>>=0,r>>>=0,!s){var a=Math.pow(2,8*r)-1;y(this,e,t,r,a,0)}var n=r-1,i=1;for(this[t+n]=255&e;--n>=0&&(i*=256);)this[t+n]=e/i&255;return t+r},l.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||y(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||y(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||y(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||y(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||y(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeIntLE=function(e,t,r,s){if(e*=1,t>>>=0,!s){var a=Math.pow(2,8*r-1);y(this,e,t,r,a-1,-a)}var n=0,i=1,l=0;for(this[t]=255&e;++n<r&&(i*=256);)e<0&&0===l&&0!==this[t+n-1]&&(l=1),this[t+n]=(e/i|0)-l&255;return t+r},l.prototype.writeIntBE=function(e,t,r,s){if(e*=1,t>>>=0,!s){var a=Math.pow(2,8*r-1);y(this,e,t,r,a-1,-a)}var n=r-1,i=1,l=0;for(this[t+n]=255&e;--n>=0&&(i*=256);)e<0&&0===l&&0!==this[t+n+1]&&(l=1),this[t+n]=(e/i|0)-l&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||y(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||y(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||y(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||y(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||y(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return w(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return w(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,s){if(!l.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),s||0===s||(s=this.length),t>=e.length&&(t=e.length),t||(t=0),s>0&&s<r&&(s=r),s===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(s<0)throw RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-t<s-r&&(s=e.length-t+r);var a=s-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,s);else if(this===e&&r<t&&t<s)for(var n=a-1;n>=0;--n)e[n+t]=this[n+r];else Uint8Array.prototype.set.call(e,this.subarray(r,s),t);return a},l.prototype.fill=function(e,t,r,s){if("string"==typeof e){if("string"==typeof t?(s=t,t=0,r=this.length):"string"==typeof r&&(s=r,r=this.length),void 0!==s&&"string"!=typeof s)throw TypeError("encoding must be a string");if("string"==typeof s&&!l.isEncoding(s))throw TypeError("Unknown encoding: "+s);if(1===e.length){var a,n=e.charCodeAt(0);("utf8"===s&&n<128||"latin1"===s)&&(e=n)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var i=l.isBuffer(e)?e:l.from(e,s),o=i.length;if(0===o)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-t;++a)this[a+t]=i[a%o]}return this};var C=/[^+/0-9A-Za-z-_]/g;function S(e,t){t=t||1/0;for(var r,s=e.length,a=null,n=[],i=0;i<s;++i){if((r=e.charCodeAt(i))>55295&&r<57344){if(!a){if(r>56319||i+1===s){(t-=3)>-1&&n.push(239,191,189);continue}a=r;continue}if(r<56320){(t-=3)>-1&&n.push(239,191,189),a=r;continue}r=(a-55296<<10|r-56320)+65536}else a&&(t-=3)>-1&&n.push(239,191,189);if(a=null,r<128){if((t-=1)<0)break;n.push(r)}else if(r<2048){if((t-=2)<0)break;n.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;n.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;n.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return n}function D(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function P(e){return s.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(C,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function k(e,t,r,s){for(var a=0;a<s&&!(a+r>=t.length)&&!(a>=e.length);++a)t[a+r]=e[a];return a}function E(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var A=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var s=16*r,a=0;a<16;++a)t[s+a]=e[r]+e[a];return t}()},783:function(e,t){t.read=function(e,t,r,s,a){var n,i,l=8*a-s-1,o=(1<<l)-1,c=o>>1,d=-7,u=r?a-1:0,m=r?-1:1,h=e[t+u];for(u+=m,n=h&(1<<-d)-1,h>>=-d,d+=l;d>0;n=256*n+e[t+u],u+=m,d-=8);for(i=n&(1<<-d)-1,n>>=-d,d+=s;d>0;i=256*i+e[t+u],u+=m,d-=8);if(0===n)n=1-c;else{if(n===o)return i?NaN:1/0*(h?-1:1);i+=Math.pow(2,s),n-=c}return(h?-1:1)*i*Math.pow(2,n-s)},t.write=function(e,t,r,s,a,n){var i,l,o,c=8*n-a-1,d=(1<<c)-1,u=d>>1,m=5960464477539062e-23*(23===a),h=s?0:n-1,x=s?1:-1,p=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(l=+!!isNaN(t),i=d):(i=Math.floor(Math.log(t)/Math.LN2),t*(o=Math.pow(2,-i))<1&&(i--,o*=2),i+u>=1?t+=m/o:t+=m*Math.pow(2,1-u),t*o>=2&&(i++,o/=2),i+u>=d?(l=0,i=d):i+u>=1?(l=(t*o-1)*Math.pow(2,a),i+=u):(l=t*Math.pow(2,u-1)*Math.pow(2,a),i=0));a>=8;e[r+h]=255&l,h+=x,l/=256,a-=8);for(i=i<<a|l,c+=a;c>0;e[r+h]=255&i,h+=x,i/=256,c-=8);e[r+h-x]|=128*p}}},a={};function n(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}},i=!0;try{s[e](r,r.exports,n),i=!1}finally{i&&delete a[e]}return r.exports}n.ab="/ROOT/node_modules/next/dist/compiled/buffer/",t.exports=n(72)},38351,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isPlainObject=function(e){if(!e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}},9866,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},23678,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},55813,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.argumentsTag="[object Arguments]",r.arrayBufferTag="[object ArrayBuffer]",r.arrayTag="[object Array]",r.bigInt64ArrayTag="[object BigInt64Array]",r.bigUint64ArrayTag="[object BigUint64Array]",r.booleanTag="[object Boolean]",r.dataViewTag="[object DataView]",r.dateTag="[object Date]",r.errorTag="[object Error]",r.float32ArrayTag="[object Float32Array]",r.float64ArrayTag="[object Float64Array]",r.functionTag="[object Function]",r.int16ArrayTag="[object Int16Array]",r.int32ArrayTag="[object Int32Array]",r.int8ArrayTag="[object Int8Array]",r.mapTag="[object Map]",r.numberTag="[object Number]",r.objectTag="[object Object]",r.regexpTag="[object RegExp]",r.setTag="[object Set]",r.stringTag="[object String]",r.symbolTag="[object Symbol]",r.uint16ArrayTag="[object Uint16Array]",r.uint32ArrayTag="[object Uint32Array]",r.uint8ArrayTag="[object Uint8Array]",r.uint8ClampedArrayTag="[object Uint8ClampedArray]"},1645,(e,t,r)=>{"use strict";var s=e.i(67034);Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(38351),n=e.r(9866),i=e.r(23678),l=e.r(55813),o=e.r(23855);r.isEqualWith=function(e,t,r){return function e(t,r,c,d,u,m,h){let x=h(t,r,c,d,u,m);if(void 0!==x)return x;if(typeof t==typeof r)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return t===r;case"number":return t===r||Object.is(t,r)}return function t(r,c,d,u){if(Object.is(r,c))return!0;let m=i.getTag(r),h=i.getTag(c);if(m===l.argumentsTag&&(m=l.objectTag),h===l.argumentsTag&&(h=l.objectTag),m!==h)return!1;switch(m){case l.stringTag:return r.toString()===c.toString();case l.numberTag:{let e=r.valueOf(),t=c.valueOf();return o.eq(e,t)}case l.booleanTag:case l.dateTag:case l.symbolTag:return Object.is(r.valueOf(),c.valueOf());case l.regexpTag:return r.source===c.source&&r.flags===c.flags;case l.functionTag:return r===c}let x=(d=d??new Map).get(r),p=d.get(c);if(null!=x&&null!=p)return x===c;d.set(r,c),d.set(c,r);try{switch(m){case l.mapTag:if(r.size!==c.size)return!1;for(let[t,s]of r.entries())if(!c.has(t)||!e(s,c.get(t),t,r,c,d,u))return!1;return!0;case l.setTag:{if(r.size!==c.size)return!1;let t=Array.from(r.values()),s=Array.from(c.values());for(let a=0;a<t.length;a++){let n=t[a],i=s.findIndex(t=>e(n,t,void 0,r,c,d,u));if(-1===i)return!1;s.splice(i,1)}return!0}case l.arrayTag:case l.uint8ArrayTag:case l.uint8ClampedArrayTag:case l.uint16ArrayTag:case l.uint32ArrayTag:case l.bigUint64ArrayTag:case l.int8ArrayTag:case l.int16ArrayTag:case l.int32ArrayTag:case l.bigInt64ArrayTag:case l.float32ArrayTag:case l.float64ArrayTag:if(void 0!==s.Buffer&&s.Buffer.isBuffer(r)!==s.Buffer.isBuffer(c)||r.length!==c.length)return!1;for(let t=0;t<r.length;t++)if(!e(r[t],c[t],t,r,c,d,u))return!1;return!0;case l.arrayBufferTag:if(r.byteLength!==c.byteLength)return!1;return t(new Uint8Array(r),new Uint8Array(c),d,u);case l.dataViewTag:if(r.byteLength!==c.byteLength||r.byteOffset!==c.byteOffset)return!1;return t(new Uint8Array(r),new Uint8Array(c),d,u);case l.errorTag:return r.name===c.name&&r.message===c.message;case l.objectTag:{if(!(t(r.constructor,c.constructor,d,u)||a.isPlainObject(r)&&a.isPlainObject(c)))return!1;let s=[...Object.keys(r),...n.getSymbols(r)],i=[...Object.keys(c),...n.getSymbols(c)];if(s.length!==i.length)return!1;for(let t=0;t<s.length;t++){let a=s[t],n=r[a];if(!Object.hasOwn(c,a))return!1;let i=c[a];if(!e(n,i,a,r,c,d,u))return!1}return!0}default:return!1}}finally{d.delete(r),d.delete(c)}}(t,r,m,h)}(e,t,void 0,void 0,void 0,void 0,r)}},75752,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.noop=function(){}},95144,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let s=e.r(1645),a=e.r(75752);r.isEqual=function(e,t){return s.isEqualWith(e,t,a.noop)}},13287,(e,t,r)=>{t.exports=e.r(95144).isEqual},10185,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.uniqBy=function(e,t){let r=new Map;for(let s=0;s<e.length;s++){let a=e[s],n=t(a);r.has(n)||r.set(n,a)}return Array.from(r.values())}},36074,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.identity=function(e){return e}},52603,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isObjectLike=function(e){return"object"==typeof e&&null!==e}},44936,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let s=e.r(69642),a=e.r(52603);r.isArrayLikeObject=function(e){return a.isObjectLike(e)&&s.isArrayLike(e)}},77473,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let s=e.r(18915);r.property=function(e){return function(t){return s.get(t,e)}}},75234,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isPrimitive=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e}},44695,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let s=e.r(3450),a=e.r(90820),n=e.r(75234),i=e.r(23855);function l(e,t,r,s){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,r,s){if(null==t)return!0;if(Array.isArray(t))return o(e,t,r,s);if(t instanceof Map){var a=e,i=t,l=r,d=s;if(0===i.size)return!0;if(!(a instanceof Map))return!1;for(let[e,t]of i.entries())if(!1===l(a.get(e),t,e,a,i,d))return!1;return!0}if(t instanceof Set)return c(e,t,r,s);let u=Object.keys(t);if(null==e)return 0===u.length;if(0===u.length)return!0;if(s&&s.has(t))return s.get(t)===e;s&&s.set(t,e);try{for(let a=0;a<u.length;a++){let i=u[a];if(!n.isPrimitive(e)&&!(i in e)||void 0===t[i]&&void 0!==e[i]||null===t[i]&&null!==e[i]||!r(e[i],t[i],i,e,t,s))return!1}return!0}finally{s&&s.delete(t)}}(e,t,r,s);case"function":if(Object.keys(t).length>0)return l(e,{...t},r,s);return i.eq(e,t);default:if(!a.isObject(e))return i.eq(e,t);if("string"==typeof t)return""===t;return!0}}function o(e,t,r,s){if(0===t.length)return!0;if(!Array.isArray(e))return!1;let a=new Set;for(let n=0;n<t.length;n++){let i=t[n],l=!1;for(let o=0;o<e.length;o++){if(a.has(o))continue;let c=e[o],d=!1;if(r(c,i,n,e,t,s)&&(d=!0),d){a.add(o),l=!0;break}}if(!l)return!1}return!0}function c(e,t,r,s){return 0===t.size||e instanceof Set&&o([...e],[...t],r,s)}r.isMatchWith=function(e,t,r){return"function"!=typeof r?s.isMatch(e,t):l(e,t,function e(t,s,a,n,i,o){let c=r(t,s,a,n,i,o);return void 0!==c?!!c:l(t,s,e,o)},new Map)},r.isSetMatch=c},3450,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let s=e.r(44695);r.isMatch=function(e,t){return s.isMatchWith(e,t,()=>void 0)}},55424,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},92348,(e,t,r)=>{"use strict";var s=e.i(67034);Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let a=e.r(9866),n=e.r(23678),i=e.r(55813),l=e.r(75234),o=e.r(55424);function c(e,t,r,a=new Map,u){let m=u?.(e,t,r,a);if(void 0!==m)return m;if(l.isPrimitive(e))return e;if(a.has(e))return a.get(e);if(Array.isArray(e)){let t=Array(e.length);a.set(e,t);for(let s=0;s<e.length;s++)t[s]=c(e[s],s,r,a,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){let t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){let t=new Map;for(let[s,n]of(a.set(e,t),e))t.set(s,c(n,s,r,a,u));return t}if(e instanceof Set){let t=new Set;for(let s of(a.set(e,t),e))t.add(c(s,void 0,r,a,u));return t}if(void 0!==s.Buffer&&s.Buffer.isBuffer(e))return e.subarray();if(o.isTypedArray(e)){let t=new(Object.getPrototypeOf(e)).constructor(e.length);a.set(e,t);for(let s=0;s<e.length;s++)t[s]=c(e[s],s,r,a,u);return t}if(e instanceof ArrayBuffer||"u">typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){let t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return a.set(e,t),d(t,e,r,a,u),t}if("u">typeof File&&e instanceof File){let t=new File([e],e.name,{type:e.type});return a.set(e,t),d(t,e,r,a,u),t}if(e instanceof Blob){let t=new Blob([e],{type:e.type});return a.set(e,t),d(t,e,r,a,u),t}if(e instanceof Error){let t=new e.constructor;return a.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,d(t,e,r,a,u),t}if("object"==typeof e&&function(e){switch(n.getTag(e)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}(e)){let t=Object.create(Object.getPrototypeOf(e));return a.set(e,t),d(t,e,r,a,u),t}return e}function d(e,t,r=e,s,n){let i=[...Object.keys(t),...a.getSymbols(t)];for(let a=0;a<i.length;a++){let l=i[a],o=Object.getOwnPropertyDescriptor(e,l);(null==o||o.writable)&&(e[l]=c(t[l],l,r,s,n))}}r.cloneDeepWith=function(e,t){return c(e,void 0,e,new Map,t)},r.cloneDeepWithImpl=c,r.copyProperties=d},99510,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let s=e.r(92348);r.cloneDeep=function(e){return s.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},67284,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let s=e.r(3450),a=e.r(99510);r.matches=function(e){return e=a.cloneDeep(e),t=>s.isMatch(t,e)}},68110,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let s=e.r(92348),a=e.r(55813);r.cloneDeepWith=function(e,t){return s.cloneDeepWith(e,(r,n,i,l)=>{let o=t?.(r,n,i,l);if(void 0!==o)return o;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case a.numberTag:case a.stringTag:case a.booleanTag:{let t=new e.constructor(e?.valueOf());return s.copyProperties(t,e),t}case a.argumentsTag:{let t={};return s.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},93141,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let s=e.r(68110);r.cloneDeep=function(e){return s.cloneDeepWith(e)}},17858,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let s=e.r(23678);r.isArguments=function(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===s.getTag(e)}},56518,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let s=e.r(33858),a=e.r(5257),n=e.r(17858),i=e.r(79232);r.has=function(e,t){let r;if(0===(r=Array.isArray(t)?t:"string"==typeof t&&s.isDeepKey(t)&&e?.[t]==null?i.toPath(t):[t]).length)return!1;let l=e;for(let e=0;e<r.length;e++){let t=r[e];if((null==l||!Object.hasOwn(l,t))&&!((Array.isArray(l)||n.isArguments(l))&&a.isIndex(t)&&t<l.length))return!1;l=l[t]}return!0}},40656,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let s=e.r(3450),a=e.r(96736),n=e.r(93141),i=e.r(18915),l=e.r(56518);r.matchesProperty=function(e,t){switch(typeof e){case"object":Object.is(e?.valueOf(),-0)&&(e="-0");break;case"number":e=a.toKey(e)}return t=n.cloneDeep(t),function(r){let a=i.get(r,e);return void 0===a?l.has(r,e):void 0===t?void 0===a:s.isMatch(a,t)}}},27519,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let s=e.r(36074),a=e.r(77473),n=e.r(67284),i=e.r(40656);r.iteratee=function(e){if(null==e)return s.identity;switch(typeof e){case"function":return e;case"object":if(Array.isArray(e)&&2===e.length)return i.matchesProperty(e[0],e[1]);return n.matches(e);case"string":case"symbol":case"number":return a.property(e)}}},77008,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let s=e.r(10185),a=e.r(36074),n=e.r(44936),i=e.r(27519);r.uniqBy=function(e,t=a.identity){return n.isArrayLikeObject(e)?s.uniqBy(Array.from(e),i.iteratee(t)):[]}},92809,(e,t,r)=>{t.exports=e.r(77008).uniqBy},24798,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.debounce=function(e,t,{signal:r,edges:s}={}){let a,n=null,i=null!=s&&s.includes("leading"),l=null==s||s.includes("trailing"),o=()=>{null!==n&&(e.apply(a,n),a=void 0,n=null)},c=null,d=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,l&&o(),u()},t)},u=()=>{null!==c&&(clearTimeout(c),c=null),a=void 0,n=null},m=function(...e){if(r?.aborted)return;a=this,n=e;let t=null==c;d(),i&&t&&o()};return m.schedule=d,m.cancel=u,m.flush=()=>{o()},r?.addEventListener("abort",u,{once:!0}),m}},96074,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let s=e.r(24798);r.debounce=function(e,t=0,r={}){let a;"object"!=typeof r&&(r={});let{leading:n=!1,trailing:i=!0,maxWait:l}=r,o=[,,];n&&(o[0]="leading"),i&&(o[1]="trailing");let c=null,d=s.debounce(function(...t){a=e.apply(this,t),c=null},t,{edges:o}),u=function(...t){return null!=l&&(null===c&&(c=Date.now()),Date.now()-c>=l)?(a=e.apply(this,t),c=Date.now(),d.cancel(),d.schedule(),a):(d.apply(this,t),a)};return u.cancel=d.cancel,u.flush=()=>(d.flush(),a),u}},46508,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let s=e.r(96074);r.throttle=function(e,t=0,r={}){let{leading:a=!0,trailing:n=!0}=r;return s.debounce(e,t,{leading:a,maxWait:t,trailing:n})}},58723,(e,t,r)=>{t.exports=e.r(46508).throttle},31713,e=>{"use strict";let t,r,s,a,n,i,l;var o,c,d,u,m,h,x,p,f,g,v,j,y,b,N,w,C,S,D,P,k,E,A,F,R,O,I,M,T,B,_,L,z=e.i(43476),q=e.i(71645),U=e.i(26732);let $=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},V=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var W={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let H=(0,q.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:n,iconNode:i,...l},o)=>(0,q.createElement)("svg",{ref:o,...W,width:t,height:t,stroke:e,strokeWidth:s?24*Number(r)/Number(t):r,className:V("lucide",a),...!n&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(l)&&{"aria-hidden":"true"},...l},[...i.map(([e,t])=>(0,q.createElement)(e,t)),...Array.isArray(n)?n:[n]])),Y=(e,t)=>{let r=(0,q.forwardRef)(({className:r,...s},a)=>(0,q.createElement)(H,{ref:a,iconNode:t,className:V(`lucide-${$(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...s}));return r.displayName=$(e),r},G=Y("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),X=Y("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),K=Y("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Z=Y("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Q=Y("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),J=Y("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),ee=Y("file-spreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]),et=Y("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),er=Y("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),es=Y("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),ea=Y("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),en=Y("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ei=Y("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),el=Y("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),eo=Y("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),ec=Y("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),ed=Y("newspaper",[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]]),eu=Y("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),em=Y("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),eh=Y("clipboard-check",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),ex=Y("package-check",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),ep=Y("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),ef=Y("file-pen-line",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]]),eg=Y("file-x",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]]),ev=Y("package-open",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]),ej=Y("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);function ey(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function eb(...e){return t=>{let r=!1,s=e.map(e=>{let s=ey(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():ey(e[t],null)}}}}function eN(...e){return q.useCallback(eb(...e),e)}function ew(e){var t;let r,s=(t=e,(r=q.forwardRef((e,t)=>{let{children:r,...s}=e;if(q.isValidElement(r)){var a;let e,n,i=(a=r,(n=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(n=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref),l=function(e,t){let r={...t};for(let s in t){let a=e[s],n=t[s];/^on[A-Z]/.test(s)?a&&n?r[s]=(...e)=>{let t=n(...e);return a(...e),t}:a&&(r[s]=a):"style"===s?r[s]={...a,...n}:"className"===s&&(r[s]=[a,n].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props);return r.type!==q.Fragment&&(l.ref=t?eb(t,i):i),q.cloneElement(r,l)}return q.Children.count(r)>1?q.Children.only(null):null})).displayName=`${t}.SlotClone`,r),a=q.forwardRef((e,t)=>{let{children:r,...a}=e,n=q.Children.toArray(r),i=n.find(eP);if(i){let e=i.props.children,r=n.map(t=>t!==i?t:q.Children.count(e)>1?q.Children.only(null):q.isValidElement(e)?e.props.children:null);return(0,z.jsx)(s,{...a,ref:t,children:q.isValidElement(e)?q.cloneElement(e,void 0,r):null})}return(0,z.jsx)(s,{...a,ref:t,children:r})});return a.displayName=`${e}.Slot`,a}var eC=ew("Slot"),eS=Symbol("radix.slottable");function eD(e){let t=({children:e})=>(0,z.jsx)(z.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=eS,t}function eP(e){return q.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===eS}function ek(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=function e(t){var r,s,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t)if(Array.isArray(t)){var n=t.length;for(r=0;r<n;r++)t[r]&&(s=e(t[r]))&&(a&&(a+=" "),a+=s)}else for(s in t)t[s]&&(a&&(a+=" "),a+=s);return a}(e))&&(s&&(s+=" "),s+=t);return s}let eE=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,eA=(e,t)=>r=>{var s;if((null==t?void 0:t.variants)==null)return ek(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:a,defaultVariants:n}=t,i=Object.keys(a).map(e=>{let t=null==r?void 0:r[e],s=null==n?void 0:n[e];if(null===t)return null;let i=eE(t)||eE(s);return a[e][i]}),l=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return ek(e,i,null==t||null==(s=t.compoundVariants)?void 0:s.reduce((e,t)=>{let{class:r,className:s,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...n,...l}[t]):({...n,...l})[t]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)},eF=(e,t)=>{if(0===e.length)return t.classGroupId;let r=e[0],s=t.nextPart.get(r),a=s?eF(e.slice(1),s):void 0;if(a)return a;if(0===t.validators.length)return;let n=e.join("-");return t.validators.find(({validator:e})=>e(n))?.classGroupId},eR=/^\[(.+)\]$/,eO=(e,t,r,s)=>{e.forEach(e=>{if("string"==typeof e){(""===e?t:eI(t,e)).classGroupId=r;return}"function"==typeof e?eM(e)?eO(e(s),t,r,s):t.validators.push({validator:e,classGroupId:r}):Object.entries(e).forEach(([e,a])=>{eO(a,eI(t,e),r,s)})})},eI=(e,t)=>{let r=e;return t.split("-").forEach(e=>{r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)}),r},eM=e=>e.isThemeGetter,eT=/\s+/;function eB(){let e,t,r=0,s="";for(;r<arguments.length;)(e=arguments[r++])&&(t=e_(e))&&(s&&(s+=" "),s+=t);return s}let e_=e=>{let t;if("string"==typeof e)return e;let r="";for(let s=0;s<e.length;s++)e[s]&&(t=e_(e[s]))&&(r&&(r+=" "),r+=t);return r},eL=e=>{let t=t=>t[e]||[];return t.isThemeGetter=!0,t},ez=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,eq=/^\((?:(\w[\w-]*):)?(.+)\)$/i,eU=/^\d+\/\d+$/,e$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eW=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,eH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,eG=e=>eU.test(e),eX=e=>!!e&&!Number.isNaN(Number(e)),eK=e=>!!e&&Number.isInteger(Number(e)),eZ=e=>e.endsWith("%")&&eX(e.slice(0,-1)),eQ=e=>e$.test(e),eJ=()=>!0,e0=e=>eV.test(e)&&!eW.test(e),e1=()=>!1,e2=e=>eH.test(e),e4=e=>eY.test(e),e5=e=>!e3(e)&&!tr(e),e6=e=>tc(e,th,e1),e3=e=>ez.test(e),e8=e=>tc(e,tx,e0),e7=e=>tc(e,tp,eX),e9=e=>tc(e,tu,e1),te=e=>tc(e,tm,e4),tt=e=>tc(e,tg,e2),tr=e=>eq.test(e),ts=e=>td(e,tx),ta=e=>td(e,tf),tn=e=>td(e,tu),ti=e=>td(e,th),tl=e=>td(e,tm),to=e=>td(e,tg,!0),tc=(e,t,r)=>{let s=ez.exec(e);return!!s&&(s[1]?t(s[1]):r(s[2]))},td=(e,t,r=!1)=>{let s=eq.exec(e);return!!s&&(s[1]?t(s[1]):r)},tu=e=>"position"===e||"percentage"===e,tm=e=>"image"===e||"url"===e,th=e=>"length"===e||"size"===e||"bg-size"===e,tx=e=>"length"===e,tp=e=>"number"===e,tf=e=>"family-name"===e,tg=e=>"shadow"===e,tv=function(e,...t){let r,s,a,n=function(l){var o;let c;return s=(r={cache:(e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,r=new Map,s=new Map,a=(a,n)=>{r.set(a,n),++t>e&&(t=0,s=r,r=new Map)};return{get(e){let t=r.get(e);return void 0!==t?t:void 0!==(t=s.get(e))?(a(e,t),t):void 0},set(e,t){r.has(e)?r.set(e,t):a(e,t)}}})((o=t.reduce((e,t)=>t(e),e())).cacheSize),parseClassName:(e=>{let{prefix:t,experimentalParseClassName:r}=e,s=e=>{let t,r,s=[],a=0,n=0,i=0;for(let t=0;t<e.length;t++){let l=e[t];if(0===a&&0===n){if(":"===l){s.push(e.slice(i,t)),i=t+1;continue}if("/"===l){r=t;continue}}"["===l?a++:"]"===l?a--:"("===l?n++:")"===l&&n--}let l=0===s.length?e:e.substring(i),o=(t=l).endsWith("!")?t.substring(0,t.length-1):t.startsWith("!")?t.substring(1):t;return{modifiers:s,hasImportantModifier:o!==l,baseClassName:o,maybePostfixModifierPosition:r&&r>i?r-i:void 0}};if(t){let e=t+":",r=s;s=t=>t.startsWith(e)?r(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(r){let e=s;s=t=>r({className:t,parseClassName:e})}return s})(o),sortModifiers:(c=Object.fromEntries(o.orderSensitiveModifiers.map(e=>[e,!0])),e=>{if(e.length<=1)return e;let t=[],r=[];return e.forEach(e=>{"["===e[0]||c[e]?(t.push(...r.sort(),e),r=[]):r.push(e)}),t.push(...r.sort()),t}),...(e=>{let t=(e=>{let{theme:t,classGroups:r}=e,s={nextPart:new Map,validators:[]};for(let e in r)eO(r[e],s,e,t);return s})(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:e=>{let r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),eF(r,t)||(e=>{if(eR.test(e)){let t=eR.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}})(e)},getConflictingClassGroupIds:(e,t)=>{let a=r[e]||[];return t&&s[e]?[...a,...s[e]]:a}}})(o)}).cache.get,a=r.cache.set,n=i,i(l)};function i(e){let t=s(e);if(t)return t;let n=((e,t)=>{let{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:n}=t,i=[],l=e.trim().split(eT),o="";for(let e=l.length-1;e>=0;e-=1){let t=l[e],{isExternal:c,modifiers:d,hasImportantModifier:u,baseClassName:m,maybePostfixModifierPosition:h}=r(t);if(c){o=t+(o.length>0?" "+o:o);continue}let x=!!h,p=s(x?m.substring(0,h):m);if(!p){if(!x||!(p=s(m))){o=t+(o.length>0?" "+o:o);continue}x=!1}let f=n(d).join(":"),g=u?f+"!":f,v=g+p;if(i.includes(v))continue;i.push(v);let j=a(p,x);for(let e=0;e<j.length;++e){let t=j[e];i.push(g+t)}o=t+(o.length>0?" "+o:o)}return o})(e,r);return a(e,n),n}return function(){return n(eB.apply(null,arguments))}}(()=>{let e=eL("color"),t=eL("font"),r=eL("text"),s=eL("font-weight"),a=eL("tracking"),n=eL("leading"),i=eL("breakpoint"),l=eL("container"),o=eL("spacing"),c=eL("radius"),d=eL("shadow"),u=eL("inset-shadow"),m=eL("text-shadow"),h=eL("drop-shadow"),x=eL("blur"),p=eL("perspective"),f=eL("aspect"),g=eL("ease"),v=eL("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],y=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],b=()=>[...y(),tr,e3],N=()=>["auto","hidden","clip","visible","scroll"],w=()=>["auto","contain","none"],C=()=>[tr,e3,o],S=()=>[eG,"full","auto",...C()],D=()=>[eK,"none","subgrid",tr,e3],P=()=>["auto",{span:["full",eK,tr,e3]},eK,tr,e3],k=()=>[eK,"auto",tr,e3],E=()=>["auto","min","max","fr",tr,e3],A=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],F=()=>["start","end","center","stretch","center-safe","end-safe"],R=()=>["auto",...C()],O=()=>[eG,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],I=()=>[e,tr,e3],M=()=>[...y(),tn,e9,{position:[tr,e3]}],T=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",ti,e6,{size:[tr,e3]}],_=()=>[eZ,ts,e8],L=()=>["","none","full",c,tr,e3],z=()=>["",eX,ts,e8],q=()=>["solid","dashed","dotted","double"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>[eX,eZ,tn,e9],V=()=>["","none",x,tr,e3],W=()=>["none",eX,tr,e3],H=()=>["none",eX,tr,e3],Y=()=>[eX,tr,e3],G=()=>[eG,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[eQ],breakpoint:[eQ],color:[eJ],container:[eQ],"drop-shadow":[eQ],ease:["in","out","in-out"],font:[e5],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[eQ],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[eQ],shadow:[eQ],spacing:["px",eX],text:[eQ],"text-shadow":[eQ],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",eG,e3,tr,f]}],container:["container"],columns:[{columns:[eX,e3,tr,l]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:b()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:w()}],"overscroll-x":[{"overscroll-x":w()}],"overscroll-y":[{"overscroll-y":w()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:S()}],"inset-x":[{"inset-x":S()}],"inset-y":[{"inset-y":S()}],start:[{start:S()}],end:[{end:S()}],top:[{top:S()}],right:[{right:S()}],bottom:[{bottom:S()}],left:[{left:S()}],visibility:["visible","invisible","collapse"],z:[{z:[eK,"auto",tr,e3]}],basis:[{basis:[eG,"full","auto",l,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[eX,eG,"auto","initial","none",e3]}],grow:[{grow:["",eX,tr,e3]}],shrink:[{shrink:["",eX,tr,e3]}],order:[{order:[eK,"first","last","none",tr,e3]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":E()}],"auto-rows":[{"auto-rows":E()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...A(),"normal"]}],"justify-items":[{"justify-items":[...F(),"normal"]}],"justify-self":[{"justify-self":["auto",...F()]}],"align-content":[{content:["normal",...A()]}],"align-items":[{items:[...F(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...F(),{baseline:["","last"]}]}],"place-content":[{"place-content":A()}],"place-items":[{"place-items":[...F(),"baseline"]}],"place-self":[{"place-self":["auto",...F()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:R()}],mx:[{mx:R()}],my:[{my:R()}],ms:[{ms:R()}],me:[{me:R()}],mt:[{mt:R()}],mr:[{mr:R()}],mb:[{mb:R()}],ml:[{ml:R()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:O()}],w:[{w:[l,"screen",...O()]}],"min-w":[{"min-w":[l,"screen","none",...O()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[i]},...O()]}],h:[{h:["screen","lh",...O()]}],"min-h":[{"min-h":["screen","lh","none",...O()]}],"max-h":[{"max-h":["screen","lh",...O()]}],"font-size":[{text:["base",r,ts,e8]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,tr,e7]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",eZ,e3]}],"font-family":[{font:[ta,e3,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,tr,e3]}],"line-clamp":[{"line-clamp":[eX,"none",tr,e7]}],leading:[{leading:[n,...C()]}],"list-image":[{"list-image":["none",tr,e3]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",tr,e3]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:I()}],"text-color":[{text:I()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:[eX,"from-font","auto",tr,e8]}],"text-decoration-color":[{decoration:I()}],"underline-offset":[{"underline-offset":[eX,"auto",tr,e3]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tr,e3]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tr,e3]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:M()}],"bg-repeat":[{bg:T()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},eK,tr,e3],radial:["",tr,e3],conic:[eK,tr,e3]},tl,te]}],"bg-color":[{bg:I()}],"gradient-from-pos":[{from:_()}],"gradient-via-pos":[{via:_()}],"gradient-to-pos":[{to:_()}],"gradient-from":[{from:I()}],"gradient-via":[{via:I()}],"gradient-to":[{to:I()}],rounded:[{rounded:L()}],"rounded-s":[{"rounded-s":L()}],"rounded-e":[{"rounded-e":L()}],"rounded-t":[{"rounded-t":L()}],"rounded-r":[{"rounded-r":L()}],"rounded-b":[{"rounded-b":L()}],"rounded-l":[{"rounded-l":L()}],"rounded-ss":[{"rounded-ss":L()}],"rounded-se":[{"rounded-se":L()}],"rounded-ee":[{"rounded-ee":L()}],"rounded-es":[{"rounded-es":L()}],"rounded-tl":[{"rounded-tl":L()}],"rounded-tr":[{"rounded-tr":L()}],"rounded-br":[{"rounded-br":L()}],"rounded-bl":[{"rounded-bl":L()}],"border-w":[{border:z()}],"border-w-x":[{"border-x":z()}],"border-w-y":[{"border-y":z()}],"border-w-s":[{"border-s":z()}],"border-w-e":[{"border-e":z()}],"border-w-t":[{"border-t":z()}],"border-w-r":[{"border-r":z()}],"border-w-b":[{"border-b":z()}],"border-w-l":[{"border-l":z()}],"divide-x":[{"divide-x":z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...q(),"hidden","none"]}],"divide-style":[{divide:[...q(),"hidden","none"]}],"border-color":[{border:I()}],"border-color-x":[{"border-x":I()}],"border-color-y":[{"border-y":I()}],"border-color-s":[{"border-s":I()}],"border-color-e":[{"border-e":I()}],"border-color-t":[{"border-t":I()}],"border-color-r":[{"border-r":I()}],"border-color-b":[{"border-b":I()}],"border-color-l":[{"border-l":I()}],"divide-color":[{divide:I()}],"outline-style":[{outline:[...q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[eX,tr,e3]}],"outline-w":[{outline:["",eX,ts,e8]}],"outline-color":[{outline:I()}],shadow:[{shadow:["","none",d,to,tt]}],"shadow-color":[{shadow:I()}],"inset-shadow":[{"inset-shadow":["none",u,to,tt]}],"inset-shadow-color":[{"inset-shadow":I()}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:I()}],"ring-offset-w":[{"ring-offset":[eX,e8]}],"ring-offset-color":[{"ring-offset":I()}],"inset-ring-w":[{"inset-ring":z()}],"inset-ring-color":[{"inset-ring":I()}],"text-shadow":[{"text-shadow":["none",m,to,tt]}],"text-shadow-color":[{"text-shadow":I()}],opacity:[{opacity:[eX,tr,e3]}],"mix-blend":[{"mix-blend":[...U(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":U()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[eX]}],"mask-image-linear-from-pos":[{"mask-linear-from":$()}],"mask-image-linear-to-pos":[{"mask-linear-to":$()}],"mask-image-linear-from-color":[{"mask-linear-from":I()}],"mask-image-linear-to-color":[{"mask-linear-to":I()}],"mask-image-t-from-pos":[{"mask-t-from":$()}],"mask-image-t-to-pos":[{"mask-t-to":$()}],"mask-image-t-from-color":[{"mask-t-from":I()}],"mask-image-t-to-color":[{"mask-t-to":I()}],"mask-image-r-from-pos":[{"mask-r-from":$()}],"mask-image-r-to-pos":[{"mask-r-to":$()}],"mask-image-r-from-color":[{"mask-r-from":I()}],"mask-image-r-to-color":[{"mask-r-to":I()}],"mask-image-b-from-pos":[{"mask-b-from":$()}],"mask-image-b-to-pos":[{"mask-b-to":$()}],"mask-image-b-from-color":[{"mask-b-from":I()}],"mask-image-b-to-color":[{"mask-b-to":I()}],"mask-image-l-from-pos":[{"mask-l-from":$()}],"mask-image-l-to-pos":[{"mask-l-to":$()}],"mask-image-l-from-color":[{"mask-l-from":I()}],"mask-image-l-to-color":[{"mask-l-to":I()}],"mask-image-x-from-pos":[{"mask-x-from":$()}],"mask-image-x-to-pos":[{"mask-x-to":$()}],"mask-image-x-from-color":[{"mask-x-from":I()}],"mask-image-x-to-color":[{"mask-x-to":I()}],"mask-image-y-from-pos":[{"mask-y-from":$()}],"mask-image-y-to-pos":[{"mask-y-to":$()}],"mask-image-y-from-color":[{"mask-y-from":I()}],"mask-image-y-to-color":[{"mask-y-to":I()}],"mask-image-radial":[{"mask-radial":[tr,e3]}],"mask-image-radial-from-pos":[{"mask-radial-from":$()}],"mask-image-radial-to-pos":[{"mask-radial-to":$()}],"mask-image-radial-from-color":[{"mask-radial-from":I()}],"mask-image-radial-to-color":[{"mask-radial-to":I()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":y()}],"mask-image-conic-pos":[{"mask-conic":[eX]}],"mask-image-conic-from-pos":[{"mask-conic-from":$()}],"mask-image-conic-to-pos":[{"mask-conic-to":$()}],"mask-image-conic-from-color":[{"mask-conic-from":I()}],"mask-image-conic-to-color":[{"mask-conic-to":I()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:M()}],"mask-repeat":[{mask:T()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",tr,e3]}],filter:[{filter:["","none",tr,e3]}],blur:[{blur:V()}],brightness:[{brightness:[eX,tr,e3]}],contrast:[{contrast:[eX,tr,e3]}],"drop-shadow":[{"drop-shadow":["","none",h,to,tt]}],"drop-shadow-color":[{"drop-shadow":I()}],grayscale:[{grayscale:["",eX,tr,e3]}],"hue-rotate":[{"hue-rotate":[eX,tr,e3]}],invert:[{invert:["",eX,tr,e3]}],saturate:[{saturate:[eX,tr,e3]}],sepia:[{sepia:["",eX,tr,e3]}],"backdrop-filter":[{"backdrop-filter":["","none",tr,e3]}],"backdrop-blur":[{"backdrop-blur":V()}],"backdrop-brightness":[{"backdrop-brightness":[eX,tr,e3]}],"backdrop-contrast":[{"backdrop-contrast":[eX,tr,e3]}],"backdrop-grayscale":[{"backdrop-grayscale":["",eX,tr,e3]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[eX,tr,e3]}],"backdrop-invert":[{"backdrop-invert":["",eX,tr,e3]}],"backdrop-opacity":[{"backdrop-opacity":[eX,tr,e3]}],"backdrop-saturate":[{"backdrop-saturate":[eX,tr,e3]}],"backdrop-sepia":[{"backdrop-sepia":["",eX,tr,e3]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",tr,e3]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[eX,"initial",tr,e3]}],ease:[{ease:["linear","initial",g,tr,e3]}],delay:[{delay:[eX,tr,e3]}],animate:[{animate:["none",v,tr,e3]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,tr,e3]}],"perspective-origin":[{"perspective-origin":b()}],rotate:[{rotate:W()}],"rotate-x":[{"rotate-x":W()}],"rotate-y":[{"rotate-y":W()}],"rotate-z":[{"rotate-z":W()}],scale:[{scale:H()}],"scale-x":[{"scale-x":H()}],"scale-y":[{"scale-y":H()}],"scale-z":[{"scale-z":H()}],"scale-3d":["scale-3d"],skew:[{skew:Y()}],"skew-x":[{"skew-x":Y()}],"skew-y":[{"skew-y":Y()}],transform:[{transform:[tr,e3,"","none","gpu","cpu"]}],"transform-origin":[{origin:b()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:G()}],"translate-x":[{"translate-x":G()}],"translate-y":[{"translate-y":G()}],"translate-z":[{"translate-z":G()}],"translate-none":["translate-none"],accent:[{accent:I()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:I()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tr,e3]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tr,e3]}],fill:[{fill:["none",...I()]}],"stroke-w":[{stroke:[eX,ts,e8,e7]}],stroke:[{stroke:["none",...I()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function tj(...e){return tv(ek(e))}let ty=eA("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),tb=q.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...a},n)=>(0,z.jsx)(s?eC:"button",{"data-slot":"button",className:tj(ty({variant:t,size:r,className:e})),ref:n,...a}));function tN({className:e,type:t,...r}){return(0,z.jsx)("input",{type:t,"data-slot":"input",className:tj("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}function tw(e,t=[]){let r=[],s=()=>{let t=r.map(e=>q.createContext(e));return function(r){let s=r?.[e]||t;return q.useMemo(()=>({[`__scope${e}`]:{...r,[e]:s}}),[r,s])}};return s.scopeName=e,[function(t,s){let a=q.createContext(s),n=r.length;r=[...r,s];let i=t=>{let{scope:r,children:s,...i}=t,l=r?.[e]?.[n]||a,o=q.useMemo(()=>i,Object.values(i));return(0,z.jsx)(l.Provider,{value:o,children:s})};return i.displayName=t+"Provider",[i,function(r,i){let l=i?.[e]?.[n]||a,o=q.useContext(l);if(o)return o;if(void 0!==s)return s;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=r.reduce((t,{useScope:r,scopeName:s})=>{let a=r(e)[`__scope${s}`];return{...t,...a}},{});return q.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}(s,...t)]}function tC(e){let t=q.useRef(e);return q.useEffect(()=>{t.current=e}),q.useMemo(()=>(...e)=>t.current?.(...e),[])}tb.displayName="Button";var tS=globalThis?.document?q.useLayoutEffect:()=>{},tD=e.i(74080),tP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=ew(`Primitive.${t}`),s=q.forwardRef((e,s)=>{let{asChild:a,...n}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,z.jsx)(a?r:t,{...n,ref:s})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function tk(e,t){e&&tD.flushSync(()=>e.dispatchEvent(t))}var tE=e.i(2239);function tA(){return()=>{}}var tF="Avatar",[tR,tO]=tw(tF),[tI,tM]=tR(tF),tT=q.forwardRef((e,t)=>{let{__scopeAvatar:r,...s}=e,[a,n]=q.useState("idle");return(0,z.jsx)(tI,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:n,children:(0,z.jsx)(tP.span,{...s,ref:t})})});tT.displayName=tF;var tB="AvatarImage";q.forwardRef((e,t)=>{let{__scopeAvatar:r,src:s,onLoadingStatusChange:a=()=>{},...n}=e,i=tM(tB,r),l=function(e,{referrerPolicy:t,crossOrigin:r}){let s=(0,tE.useSyncExternalStore)(tA,()=>!0,()=>!1),a=q.useRef(null),n=s?(a.current||(a.current=new window.Image),a.current):null,[i,l]=q.useState(()=>tz(n,e));return tS(()=>{l(tz(n,e))},[n,e]),tS(()=>{let e=e=>()=>{l(e)};if(!n)return;let s=e("loaded"),a=e("error");return n.addEventListener("load",s),n.addEventListener("error",a),t&&(n.referrerPolicy=t),"string"==typeof r&&(n.crossOrigin=r),()=>{n.removeEventListener("load",s),n.removeEventListener("error",a)}},[n,r,t]),i}(s,n),o=tC(e=>{a(e),i.onImageLoadingStatusChange(e)});return tS(()=>{"idle"!==l&&o(l)},[l,o]),"loaded"===l?(0,z.jsx)(tP.img,{...n,ref:t,src:s}):null}).displayName=tB;var t_="AvatarFallback",tL=q.forwardRef((e,t)=>{let{__scopeAvatar:r,delayMs:s,...a}=e,n=tM(t_,r),[i,l]=q.useState(void 0===s);return q.useEffect(()=>{if(void 0!==s){let e=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(e)}},[s]),i&&"loaded"!==n.imageLoadingStatus?(0,z.jsx)(tP.span,{...a,ref:t}):null});function tz(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function tq({className:e,...t}){return(0,z.jsx)(tT,{"data-slot":"avatar",className:tj("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function tU({className:e,...t}){return(0,z.jsx)(tL,{"data-slot":"avatar-fallback",className:tj("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}function t$(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),!1===r||!s.defaultPrevented)return t?.(s)}}tL.displayName=t_,q[" useEffectEvent ".trim().toString()],q[" useInsertionEffect ".trim().toString()];var tV=q[" useInsertionEffect ".trim().toString()]||tS;function tW({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){let[a,n,i]=function({defaultProp:e,onChange:t}){let[r,s]=q.useState(e),a=q.useRef(r),n=q.useRef(t);return tV(()=>{n.current=t},[t]),q.useEffect(()=>{a.current!==r&&(n.current?.(r),a.current=r)},[r,a]),[r,s,n]}({defaultProp:t,onChange:r}),l=void 0!==e,o=l?e:a;{let t=q.useRef(void 0!==e);q.useEffect(()=>{let e=t.current;if(e!==l){let t=l?"controlled":"uncontrolled";console.warn(`${s} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=l},[l,s])}return[o,q.useCallback(t=>{if(l){let r="function"==typeof t?t(e):t;r!==e&&i.current?.(r)}else n(t)},[l,e,n,i])]}function tH(e){let t=e+"CollectionProvider",[r,s]=tw(t),[a,n]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=e=>{let{scope:t,children:r}=e,s=q.default.useRef(null),n=q.default.useRef(new Map).current;return(0,z.jsx)(a,{scope:t,itemMap:n,collectionRef:s,children:r})};i.displayName=t;let l=e+"CollectionSlot",o=ew(l),c=q.default.forwardRef((e,t)=>{let{scope:r,children:s}=e,a=eN(t,n(l,r).collectionRef);return(0,z.jsx)(o,{ref:a,children:s})});c.displayName=l;let d=e+"CollectionItemSlot",u="data-radix-collection-item",m=ew(d),h=q.default.forwardRef((e,t)=>{let{scope:r,children:s,...a}=e,i=q.default.useRef(null),l=eN(t,i),o=n(d,r);return q.default.useEffect(()=>(o.itemMap.set(i,{ref:i,...a}),()=>void o.itemMap.delete(i))),(0,z.jsx)(m,{...{[u]:""},ref:l,children:s})});return h.displayName=d,[{Provider:i,Slot:c,ItemSlot:h},function(t){let r=n(e+"CollectionConsumer",t);return q.default.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${u}]`));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},s]}Symbol("RADIX:SYNC_STATE");var tY=new WeakMap;function tG(e,t){var r,s;let a,n,i;if("at"in Array.prototype)return Array.prototype.at.call(e,t);let l=(r=e,s=t,a=r.length,(i=(n=tX(s))>=0?n:a+n)<0||i>=a?-1:i);return -1===l?void 0:e[l]}function tX(e){return e!=e||0===e?0:Math.trunc(e)}(class e extends Map{#e;constructor(e){super(e),this.#e=[...super.keys()],tY.set(this,!0)}set(e,t){return tY.get(this)&&(this.has(e)?this.#e[this.#e.indexOf(e)]=e:this.#e.push(e)),super.set(e,t),this}insert(e,t,r){let s,a=this.has(t),n=this.#e.length,i=tX(e),l=i>=0?i:n+i,o=l<0||l>=n?-1:l;if(o===this.size||a&&o===this.size-1||-1===o)return this.set(t,r),this;let c=this.size+ +!a;i<0&&l++;let d=[...this.#e],u=!1;for(let e=l;e<c;e++)if(l===e){let n=d[e];d[e]===t&&(n=d[e+1]),a&&this.delete(t),s=this.get(n),this.set(t,r)}else{u||d[e-1]!==t||(u=!0);let r=d[u?e:e-1],a=s;s=this.get(r),this.delete(r),this.set(r,a)}return this}with(t,r,s){let a=new e(this);return a.insert(t,r,s),a}before(e){let t=this.#e.indexOf(e)-1;if(!(t<0))return this.entryAt(t)}setBefore(e,t,r){let s=this.#e.indexOf(e);return -1===s?this:this.insert(s,t,r)}after(e){let t=this.#e.indexOf(e);if(-1!==(t=-1===t||t===this.size-1?-1:t+1))return this.entryAt(t)}setAfter(e,t,r){let s=this.#e.indexOf(e);return -1===s?this:this.insert(s+1,t,r)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return this.#e=[],super.clear()}delete(e){let t=super.delete(e);return t&&this.#e.splice(this.#e.indexOf(e),1),t}deleteAt(e){let t=this.keyAt(e);return void 0!==t&&this.delete(t)}at(e){let t=tG(this.#e,e);if(void 0!==t)return this.get(t)}entryAt(e){let t=tG(this.#e,e);if(void 0!==t)return[t,this.get(t)]}indexOf(e){return this.#e.indexOf(e)}keyAt(e){return tG(this.#e,e)}from(e,t){let r=this.indexOf(e);if(-1===r)return;let s=r+t;return s<0&&(s=0),s>=this.size&&(s=this.size-1),this.at(s)}keyFrom(e,t){let r=this.indexOf(e);if(-1===r)return;let s=r+t;return s<0&&(s=0),s>=this.size&&(s=this.size-1),this.keyAt(s)}find(e,t){let r=0;for(let s of this){if(Reflect.apply(e,t,[s,r,this]))return s;r++}}findIndex(e,t){let r=0;for(let s of this){if(Reflect.apply(e,t,[s,r,this]))return r;r++}return -1}filter(t,r){let s=[],a=0;for(let e of this)Reflect.apply(t,r,[e,a,this])&&s.push(e),a++;return new e(s)}map(t,r){let s=[],a=0;for(let e of this)s.push([e[0],Reflect.apply(t,r,[e,a,this])]),a++;return new e(s)}reduce(...e){let[t,r]=e,s=0,a=r??this.at(0);for(let r of this)a=0===s&&1===e.length?r:Reflect.apply(t,this,[a,r,s,this]),s++;return a}reduceRight(...e){let[t,r]=e,s=r??this.at(-1);for(let r=this.size-1;r>=0;r--){let a=this.at(r);s=r===this.size-1&&1===e.length?a:Reflect.apply(t,this,[s,a,r,this])}return s}toSorted(t){return new e([...this.entries()].sort(t))}toReversed(){let t=new e;for(let e=this.size-1;e>=0;e--){let r=this.keyAt(e),s=this.get(r);t.set(r,s)}return t}toSpliced(...t){let r=[...this.entries()];return r.splice(...t),new e(r)}slice(t,r){let s=new e,a=this.size-1;if(void 0===t)return s;t<0&&(t+=this.size),void 0!==r&&r>0&&(a=r-1);for(let e=t;e<=a;e++){let t=this.keyAt(e),r=this.get(t);s.set(t,r)}return s}every(e,t){let r=0;for(let s of this){if(!Reflect.apply(e,t,[s,r,this]))return!1;r++}return!0}some(e,t){let r=0;for(let s of this){if(Reflect.apply(e,t,[s,r,this]))return!0;r++}return!1}});var tK=q.createContext(void 0);function tZ(e){let t=q.useContext(tK);return e||t||"ltr"}var tQ="dismissableLayer.update",tJ=q.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),t0=q.forwardRef((e,t)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:n,onInteractOutside:i,onDismiss:l,...o}=e,c=q.useContext(tJ),[d,u]=q.useState(null),m=d?.ownerDocument??globalThis?.document,[,h]=q.useState({}),x=eN(t,e=>u(e)),p=Array.from(c.layers),[f]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=p.indexOf(f),v=d?p.indexOf(d):-1,j=c.layersWithOutsidePointerEventsDisabled.size>0,y=v>=g,b=function(e,t=globalThis?.document){let r=tC(e),s=q.useRef(!1),a=q.useRef(()=>{});return q.useEffect(()=>{let e=e=>{if(e.target&&!s.current){let s=function(){t2("dismissableLayer.pointerDownOutside",r,n,{discrete:!0})},n={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",a.current),a.current=s,t.addEventListener("click",a.current,{once:!0})):s()}else t.removeEventListener("click",a.current);s.current=!1},n=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(n),t.removeEventListener("pointerdown",e),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}(e=>{let t=e.target,r=[...c.branches].some(e=>e.contains(t));y&&!r&&(a?.(e),i?.(e),e.defaultPrevented||l?.())},m),N=function(e,t=globalThis?.document){let r=tC(e),s=q.useRef(!1);return q.useEffect(()=>{let e=e=>{e.target&&!s.current&&t2("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}(e=>{let t=e.target;![...c.branches].some(e=>e.contains(t))&&(n?.(e),i?.(e),e.defaultPrevented||l?.())},m);return!function(e,t=globalThis?.document){let r=tC(e);q.useEffect(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}(e=>{v===c.layers.size-1&&(s?.(e),!e.defaultPrevented&&l&&(e.preventDefault(),l()))},m),q.useEffect(()=>{if(d)return r&&(0===c.layersWithOutsidePointerEventsDisabled.size&&(C=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),t1(),()=>{r&&1===c.layersWithOutsidePointerEventsDisabled.size&&(m.body.style.pointerEvents=C)}},[d,m,r,c]),q.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),t1())},[d,c]),q.useEffect(()=>{let e=()=>h({});return document.addEventListener(tQ,e),()=>document.removeEventListener(tQ,e)},[]),(0,z.jsx)(tP.div,{...o,ref:x,style:{pointerEvents:j?y?"auto":"none":void 0,...e.style},onFocusCapture:t$(e.onFocusCapture,N.onFocusCapture),onBlurCapture:t$(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:t$(e.onPointerDownCapture,b.onPointerDownCapture)})});function t1(){let e=new CustomEvent(tQ);document.dispatchEvent(e)}function t2(e,t,r,{discrete:s}){let a=r.originalEvent.target,n=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?tk(a,n):a.dispatchEvent(n)}t0.displayName="DismissableLayer",q.forwardRef((e,t)=>{let r=q.useContext(tJ),s=q.useRef(null),a=eN(t,s);return q.useEffect(()=>{let e=s.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,z.jsx)(tP.div,{...e,ref:a})}).displayName="DismissableLayerBranch";var t4=0;function t5(){q.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??t6()),document.body.insertAdjacentElement("beforeend",e[1]??t6()),t4++,()=>{1===t4&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),t4--}},[])}function t6(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var t3="focusScope.autoFocusOnMount",t8="focusScope.autoFocusOnUnmount",t7={bubbles:!1,cancelable:!0},t9=q.forwardRef((e,t)=>{let{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:n,...i}=e,[l,o]=q.useState(null),c=tC(a),d=tC(n),u=q.useRef(null),m=eN(t,e=>o(e)),h=q.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;q.useEffect(()=>{if(s){let e=function(e){if(h.paused||!l)return;let t=e.target;l.contains(t)?u.current=t:rr(u.current,{select:!0})},t=function(e){if(h.paused||!l)return;let t=e.relatedTarget;null!==t&&(l.contains(t)||rr(u.current,{select:!0}))};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let r=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&rr(l)});return l&&r.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[s,l,h.paused]),q.useEffect(()=>{if(l){rs.add(h);let e=document.activeElement;if(!l.contains(e)){let t=new CustomEvent(t3,t7);l.addEventListener(t3,c),l.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let r=document.activeElement;for(let s of e)if(rr(s,{select:t}),document.activeElement!==r)return}(re(l).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&rr(l))}return()=>{l.removeEventListener(t3,c),setTimeout(()=>{let t=new CustomEvent(t8,t7);l.addEventListener(t8,d),l.dispatchEvent(t),t.defaultPrevented||rr(e??document.body,{select:!0}),l.removeEventListener(t8,d),rs.remove(h)},0)}}},[l,c,d,h]);let x=q.useCallback(e=>{if(!r&&!s||h.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,a=document.activeElement;if(t&&a){var n;let t,s=e.currentTarget,[i,l]=[rt(t=re(n=s),n),rt(t.reverse(),n)];i&&l?e.shiftKey||a!==l?e.shiftKey&&a===i&&(e.preventDefault(),r&&rr(l,{select:!0})):(e.preventDefault(),r&&rr(i,{select:!0})):a===s&&e.preventDefault()}},[r,s,h.paused]);return(0,z.jsx)(tP.div,{tabIndex:-1,...i,ref:m,onKeyDown:x})});function re(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function rt(e,t){for(let r of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(r,{upTo:t}))return r}function rr(e,{select:t=!1}={}){if(e&&e.focus){var r;let s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&(r=e)instanceof HTMLInputElement&&"select"in r&&t&&e.select()}}t9.displayName="FocusScope";var rs=(l=[],{add(e){let t=l[0];e!==t&&t?.pause(),(l=ra(l,e)).unshift(e)},remove(e){l=ra(l,e),l[0]?.resume()}});function ra(e,t){let r=[...e],s=r.indexOf(t);return -1!==s&&r.splice(s,1),r}var rn=q[" useId ".trim().toString()]||(()=>void 0),ri=0;function rl(e){let[t,r]=q.useState(rn());return tS(()=>{e||r(e=>e??String(ri++))},[e]),e||(t?`radix-${t}`:"")}let ro=["top","right","bottom","left"],rc=Math.min,rd=Math.max,ru=Math.round,rm=Math.floor,rh=e=>({x:e,y:e}),rx={left:"right",right:"left",bottom:"top",top:"bottom"},rp={start:"end",end:"start"};function rf(e,t){return"function"==typeof e?e(t):e}function rg(e){return e.split("-")[0]}function rv(e){return e.split("-")[1]}function rj(e){return"x"===e?"y":"x"}function ry(e){return"y"===e?"height":"width"}let rb=new Set(["top","bottom"]);function rN(e){return rb.has(rg(e))?"y":"x"}function rw(e){return e.replace(/start|end/g,e=>rp[e])}let rC=["left","right"],rS=["right","left"],rD=["top","bottom"],rP=["bottom","top"];function rk(e){return e.replace(/left|right|bottom|top/g,e=>rx[e])}function rE(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function rA(e){let{x:t,y:r,width:s,height:a}=e;return{width:s,height:a,top:r,left:t,right:t+s,bottom:r+a,x:t,y:r}}function rF(e,t,r){let s,{reference:a,floating:n}=e,i=rN(t),l=rj(rN(t)),o=ry(l),c=rg(t),d="y"===i,u=a.x+a.width/2-n.width/2,m=a.y+a.height/2-n.height/2,h=a[o]/2-n[o]/2;switch(c){case"top":s={x:u,y:a.y-n.height};break;case"bottom":s={x:u,y:a.y+a.height};break;case"right":s={x:a.x+a.width,y:m};break;case"left":s={x:a.x-n.width,y:m};break;default:s={x:a.x,y:a.y}}switch(rv(t)){case"start":s[l]-=h*(r&&d?-1:1);break;case"end":s[l]+=h*(r&&d?-1:1)}return s}let rR=async(e,t,r)=>{let{placement:s="bottom",strategy:a="absolute",middleware:n=[],platform:i}=r,l=n.filter(Boolean),o=await (null==i.isRTL?void 0:i.isRTL(t)),c=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:u}=rF(c,s,o),m=s,h={},x=0;for(let r=0;r<l.length;r++){let{name:n,fn:p}=l[r],{x:f,y:g,data:v,reset:j}=await p({x:d,y:u,initialPlacement:s,placement:m,strategy:a,middlewareData:h,rects:c,platform:i,elements:{reference:e,floating:t}});d=null!=f?f:d,u=null!=g?g:u,h={...h,[n]:{...h[n],...v}},j&&x<=50&&(x++,"object"==typeof j&&(j.placement&&(m=j.placement),j.rects&&(c=!0===j.rects?await i.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:d,y:u}=rF(c,m,o)),r=-1)}return{x:d,y:u,placement:m,strategy:a,middlewareData:h}};async function rO(e,t){var r;void 0===t&&(t={});let{x:s,y:a,platform:n,rects:i,elements:l,strategy:o}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:m=!1,padding:h=0}=rf(t,e),x=rE(h),p=l[m?"floating"===u?"reference":"floating":u],f=rA(await n.getClippingRect({element:null==(r=await (null==n.isElement?void 0:n.isElement(p)))||r?p:p.contextElement||await (null==n.getDocumentElement?void 0:n.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:o})),g="floating"===u?{x:s,y:a,width:i.floating.width,height:i.floating.height}:i.reference,v=await (null==n.getOffsetParent?void 0:n.getOffsetParent(l.floating)),j=await (null==n.isElement?void 0:n.isElement(v))&&await (null==n.getScale?void 0:n.getScale(v))||{x:1,y:1},y=rA(n.convertOffsetParentRelativeRectToViewportRelativeRect?await n.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:v,strategy:o}):g);return{top:(f.top-y.top+x.top)/j.y,bottom:(y.bottom-f.bottom+x.bottom)/j.y,left:(f.left-y.left+x.left)/j.x,right:(y.right-f.right+x.right)/j.x}}function rI(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function rM(e){return ro.some(t=>e[t]>=0)}let rT=new Set(["left","top"]);async function rB(e,t){let{placement:r,platform:s,elements:a}=e,n=await (null==s.isRTL?void 0:s.isRTL(a.floating)),i=rg(r),l=rv(r),o="y"===rN(r),c=rT.has(i)?-1:1,d=n&&o?-1:1,u=rf(t,e),{mainAxis:m,crossAxis:h,alignmentAxis:x}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&"number"==typeof x&&(h="end"===l?-1*x:x),o?{x:h*d,y:m*c}:{x:m*c,y:h*d}}function r_(){return"u">typeof window}function rL(e){return rU(e)?(e.nodeName||"").toLowerCase():"#document"}function rz(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function rq(e){var t;return null==(t=(rU(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function rU(e){return!!r_()&&(e instanceof Node||e instanceof rz(e).Node)}function r$(e){return!!r_()&&(e instanceof Element||e instanceof rz(e).Element)}function rV(e){return!!r_()&&(e instanceof HTMLElement||e instanceof rz(e).HTMLElement)}function rW(e){return!(!r_()||"u"<typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof rz(e).ShadowRoot)}let rH=new Set(["inline","contents"]);function rY(e){let{overflow:t,overflowX:r,overflowY:s,display:a}=r5(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!rH.has(a)}let rG=new Set(["table","td","th"]),rX=[":popover-open",":modal"];function rK(e){return rX.some(t=>{try{return e.matches(t)}catch(e){return!1}})}let rZ=["transform","translate","scale","rotate","perspective"],rQ=["transform","translate","scale","rotate","perspective","filter"],rJ=["paint","layout","strict","content"];function r0(e){let t=r1(),r=r$(e)?r5(e):e;return rZ.some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||rQ.some(e=>(r.willChange||"").includes(e))||rJ.some(e=>(r.contain||"").includes(e))}function r1(){return!("u"<typeof CSS)&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}let r2=new Set(["html","body","#document"]);function r4(e){return r2.has(rL(e))}function r5(e){return rz(e).getComputedStyle(e)}function r6(e){return r$(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function r3(e){if("html"===rL(e))return e;let t=e.assignedSlot||e.parentNode||rW(e)&&e.host||rq(e);return rW(t)?t.host:t}function r8(e,t,r){var s;void 0===t&&(t=[]),void 0===r&&(r=!0);let a=function e(t){let r=r3(t);return r4(r)?t.ownerDocument?t.ownerDocument.body:t.body:rV(r)&&rY(r)?r:e(r)}(e),n=a===(null==(s=e.ownerDocument)?void 0:s.body),i=rz(a);if(n){let e=r7(i);return t.concat(i,i.visualViewport||[],rY(a)?a:[],e&&r?r8(e):[])}return t.concat(a,r8(a,[],r))}function r7(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function r9(e){let t=r5(e),r=parseFloat(t.width)||0,s=parseFloat(t.height)||0,a=rV(e),n=a?e.offsetWidth:r,i=a?e.offsetHeight:s,l=ru(r)!==n||ru(s)!==i;return l&&(r=n,s=i),{width:r,height:s,$:l}}function se(e){return r$(e)?e:e.contextElement}function st(e){let t=se(e);if(!rV(t))return rh(1);let r=t.getBoundingClientRect(),{width:s,height:a,$:n}=r9(t),i=(n?ru(r.width):r.width)/s,l=(n?ru(r.height):r.height)/a;return i&&Number.isFinite(i)||(i=1),l&&Number.isFinite(l)||(l=1),{x:i,y:l}}let sr=rh(0);function ss(e){let t=rz(e);return r1()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:sr}function sa(e,t,r,s){var a;void 0===t&&(t=!1),void 0===r&&(r=!1);let n=e.getBoundingClientRect(),i=se(e),l=rh(1);t&&(s?r$(s)&&(l=st(s)):l=st(e));let o=(void 0===(a=r)&&(a=!1),s&&(!a||s===rz(i))&&a)?ss(i):rh(0),c=(n.left+o.x)/l.x,d=(n.top+o.y)/l.y,u=n.width/l.x,m=n.height/l.y;if(i){let e=rz(i),t=s&&r$(s)?rz(s):s,r=e,a=r7(r);for(;a&&s&&t!==r;){let e=st(a),t=a.getBoundingClientRect(),s=r5(a),n=t.left+(a.clientLeft+parseFloat(s.paddingLeft))*e.x,i=t.top+(a.clientTop+parseFloat(s.paddingTop))*e.y;c*=e.x,d*=e.y,u*=e.x,m*=e.y,c+=n,d+=i,a=r7(r=rz(a))}}return rA({width:u,height:m,x:c,y:d})}function sn(e,t){let r=r6(e).scrollLeft;return t?t.left+r:sa(rq(e)).left+r}function si(e,t,r){void 0===r&&(r=!1);let s=e.getBoundingClientRect();return{x:s.left+t.scrollLeft-(r?0:sn(e,s)),y:s.top+t.scrollTop}}let sl=new Set(["absolute","fixed"]);function so(e,t,r){var s;let a;if("viewport"===t)a=function(e,t){let r=rz(e),s=rq(e),a=r.visualViewport,n=s.clientWidth,i=s.clientHeight,l=0,o=0;if(a){n=a.width,i=a.height;let e=r1();(!e||e&&"fixed"===t)&&(l=a.offsetLeft,o=a.offsetTop)}return{width:n,height:i,x:l,y:o}}(e,r);else if("document"===t){let t,r,n,i,l,o,c;s=rq(e),t=rq(s),r=r6(s),n=s.ownerDocument.body,i=rd(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),l=rd(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight),o=-r.scrollLeft+sn(s),c=-r.scrollTop,"rtl"===r5(n).direction&&(o+=rd(t.clientWidth,n.clientWidth)-i),a={width:i,height:l,x:o,y:c}}else if(r$(t)){let e,s,n,i,l,o;s=(e=sa(t,!0,"fixed"===r)).top+t.clientTop,n=e.left+t.clientLeft,i=rV(t)?st(t):rh(1),l=t.clientWidth*i.x,o=t.clientHeight*i.y,a={width:l,height:o,x:n*i.x,y:s*i.y}}else{let r=ss(e);a={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return rA(a)}function sc(e){return"static"===r5(e).position}function sd(e,t){if(!rV(e)||"fixed"===r5(e).position)return null;if(t)return t(e);let r=e.offsetParent;return rq(e)===r&&(r=r.ownerDocument.body),r}function su(e,t){var r;let s=rz(e);if(rK(e))return s;if(!rV(e)){let t=r3(e);for(;t&&!r4(t);){if(r$(t)&&!sc(t))return t;t=r3(t)}return s}let a=sd(e,t);for(;a&&(r=a,rG.has(rL(r)))&&sc(a);)a=sd(a,t);return a&&r4(a)&&sc(a)&&!r0(a)?s:a||function(e){let t=r3(e);for(;rV(t)&&!r4(t);){if(r0(t))return t;if(rK(t))break;t=r3(t)}return null}(e)||s}let sm=async function(e){let t=this.getOffsetParent||su,r=this.getDimensions,s=await r(e.floating);return{reference:function(e,t,r){let s=rV(t),a=rq(t),n="fixed"===r,i=sa(e,!0,n,t),l={scrollLeft:0,scrollTop:0},o=rh(0);if(s||!s&&!n)if(("body"!==rL(t)||rY(a))&&(l=r6(t)),s){let e=sa(t,!0,n,t);o.x=e.x+t.clientLeft,o.y=e.y+t.clientTop}else a&&(o.x=sn(a));n&&!s&&a&&(o.x=sn(a));let c=!a||s||n?rh(0):si(a,l);return{x:i.left+l.scrollLeft-o.x-c.x,y:i.top+l.scrollTop-o.y-c.y,width:i.width,height:i.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}},sh={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:s,strategy:a}=e,n="fixed"===a,i=rq(s),l=!!t&&rK(t.floating);if(s===i||l&&n)return r;let o={scrollLeft:0,scrollTop:0},c=rh(1),d=rh(0),u=rV(s);if((u||!u&&!n)&&(("body"!==rL(s)||rY(i))&&(o=r6(s)),rV(s))){let e=sa(s);c=st(s),d.x=e.x+s.clientLeft,d.y=e.y+s.clientTop}let m=!i||u||n?rh(0):si(i,o,!0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-o.scrollLeft*c.x+d.x+m.x,y:r.y*c.y-o.scrollTop*c.y+d.y+m.y}},getDocumentElement:rq,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:s,strategy:a}=e,n=[..."clippingAncestors"===r?rK(t)?[]:function(e,t){let r=t.get(e);if(r)return r;let s=r8(e,[],!1).filter(e=>r$(e)&&"body"!==rL(e)),a=null,n="fixed"===r5(e).position,i=n?r3(e):e;for(;r$(i)&&!r4(i);){let t=r5(i),r=r0(i);r||"fixed"!==t.position||(a=null),(n?!r&&!a:!r&&"static"===t.position&&!!a&&sl.has(a.position)||rY(i)&&!r&&function e(t,r){let s=r3(t);return!(s===r||!r$(s)||r4(s))&&("fixed"===r5(s).position||e(s,r))}(e,i))?s=s.filter(e=>e!==i):a=t,i=r3(i)}return t.set(e,s),s}(t,this._c):[].concat(r),s],i=n[0],l=n.reduce((e,r)=>{let s=so(t,r,a);return e.top=rd(s.top,e.top),e.right=rc(s.right,e.right),e.bottom=rc(s.bottom,e.bottom),e.left=rd(s.left,e.left),e},so(t,i,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:su,getElementRects:sm,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:r}=r9(e);return{width:t,height:r}},getScale:st,isElement:r$,isRTL:function(e){return"rtl"===r5(e).direction}};function sx(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}let sp=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:s,placement:a,rects:n,platform:i,elements:l,middlewareData:o}=t,{element:c,padding:d=0}=rf(e,t)||{};if(null==c)return{};let u=rE(d),m={x:r,y:s},h=rj(rN(a)),x=ry(h),p=await i.getDimensions(c),f="y"===h,g=f?"clientHeight":"clientWidth",v=n.reference[x]+n.reference[h]-m[h]-n.floating[x],j=m[h]-n.reference[h],y=await (null==i.getOffsetParent?void 0:i.getOffsetParent(c)),b=y?y[g]:0;b&&await (null==i.isElement?void 0:i.isElement(y))||(b=l.floating[g]||n.floating[x]);let N=b/2-p[x]/2-1,w=rc(u[f?"top":"left"],N),C=rc(u[f?"bottom":"right"],N),S=b-p[x]-C,D=b/2-p[x]/2+(v/2-j/2),P=rd(w,rc(D,S)),k=!o.arrow&&null!=rv(a)&&D!==P&&n.reference[x]/2-(D<w?w:C)-p[x]/2<0,E=k?D<w?D-w:D-S:0;return{[h]:m[h]+E,data:{[h]:P,centerOffset:D-P-E,...k&&{alignmentOffset:E}},reset:k}}});var sf="u">typeof document?q.useLayoutEffect:function(){};function sg(e,t){let r,s,a;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((r=e.length)!==t.length)return!1;for(s=r;0!=s--;)if(!sg(e[s],t[s]))return!1;return!0}if((r=(a=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(s=r;0!=s--;)if(!({}).hasOwnProperty.call(t,a[s]))return!1;for(s=r;0!=s--;){let r=a[s];if(("_owner"!==r||!e.$$typeof)&&!sg(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function sv(e){return"u"<typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function sj(e,t){let r=sv(e);return Math.round(t*r)/r}function sy(e){let t=q.useRef(e);return sf(()=>{t.current=e}),t}var sb=q.forwardRef((e,t)=>{let{children:r,width:s=10,height:a=5,...n}=e;return(0,z.jsx)(tP.svg,{...n,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,z.jsx)("polygon",{points:"0,0 30,0 15,10"})})});function sN(e){let[t,r]=q.useState(void 0);return tS(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let s,a;if(!Array.isArray(t)||!t.length)return;let n=t[0];if("borderBoxSize"in n){let e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;s=t.inlineSize,a=t.blockSize}else s=e.offsetWidth,a=e.offsetHeight;r({width:s,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}sb.displayName="Arrow";var sw="Popper",[sC,sS]=tw(sw),[sD,sP]=sC(sw),sk=e=>{let{__scopePopper:t,children:r}=e,[s,a]=q.useState(null);return(0,z.jsx)(sD,{scope:t,anchor:s,onAnchorChange:a,children:r})};sk.displayName=sw;var sE="PopperAnchor",sA=q.forwardRef((e,t)=>{let{__scopePopper:r,virtualRef:s,...a}=e,n=sP(sE,r),i=q.useRef(null),l=eN(t,i);return q.useEffect(()=>{n.onAnchorChange(s?.current||i.current)}),s?null:(0,z.jsx)(tP.div,{...a,ref:l})});sA.displayName=sE;var sF="PopperContent",[sR,sO]=sC(sF),sI=q.forwardRef((e,t)=>{var r,s,a,n,i,l,o,c,d,u,m,h,x,p,f,g,v,j,y,b,N;let{__scopePopper:w,side:C="bottom",sideOffset:S=0,align:D="center",alignOffset:P=0,arrowPadding:k=0,avoidCollisions:E=!0,collisionBoundary:A=[],collisionPadding:F=0,sticky:R="partial",hideWhenDetached:O=!1,updatePositionStrategy:I="optimized",onPlaced:M,...T}=e,B=sP(sF,w),[_,L]=q.useState(null),U=eN(t,e=>L(e)),[$,V]=q.useState(null),W=sN($),H=W?.width??0,Y=W?.height??0,G="number"==typeof F?F:{top:0,right:0,bottom:0,left:0,...F},X=Array.isArray(A)?A:[A],K=X.length>0,Z={padding:G,boundary:X.filter(s_),altBoundary:K},{refs:Q,floatingStyles:J,placement:ee,isPositioned:et,middlewareData:er}=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:n,floating:i}={},transform:l=!0,whileElementsMounted:o,open:c}=e,[d,u]=q.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=q.useState(s);sg(m,s)||h(s);let[x,p]=q.useState(null),[f,g]=q.useState(null),v=q.useCallback(e=>{e!==N.current&&(N.current=e,p(e))},[]),j=q.useCallback(e=>{e!==w.current&&(w.current=e,g(e))},[]),y=n||x,b=i||f,N=q.useRef(null),w=q.useRef(null),C=q.useRef(d),S=null!=o,D=sy(o),P=sy(a),k=sy(c),E=q.useCallback(()=>{var e,s;let a,n,i;if(!N.current||!w.current)return;let l={placement:t,strategy:r,middleware:m};P.current&&(l.platform=P.current),(e=N.current,s=w.current,a=new Map,i={...(n={platform:sh,...l}).platform,_c:a},rR(e,s,{...n,platform:i})).then(e=>{let t={...e,isPositioned:!1!==k.current};A.current&&!sg(C.current,t)&&(C.current=t,tD.flushSync(()=>{u(t)}))})},[m,t,r,P,k]);sf(()=>{!1===c&&C.current.isPositioned&&(C.current.isPositioned=!1,u(e=>({...e,isPositioned:!1})))},[c]);let A=q.useRef(!1);sf(()=>(A.current=!0,()=>{A.current=!1}),[]),sf(()=>{if(y&&(N.current=y),b&&(w.current=b),y&&b){if(D.current)return D.current(y,b,E);E()}},[y,b,E,D,S]);let F=q.useMemo(()=>({reference:N,floating:w,setReference:v,setFloating:j}),[v,j]),R=q.useMemo(()=>({reference:y,floating:b}),[y,b]),O=q.useMemo(()=>{let e={position:r,left:0,top:0};if(!R.floating)return e;let t=sj(R.floating,d.x),s=sj(R.floating,d.y);return l?{...e,transform:"translate("+t+"px, "+s+"px)",...sv(R.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:s}},[r,l,R.floating,d.x,d.y]);return q.useMemo(()=>({...d,update:E,refs:F,elements:R,floatingStyles:O}),[d,E,F,R,O])}({strategy:"fixed",placement:C+("center"!==D?"-"+D:""),whileElementsMounted:(...e)=>(function(e,t,r,s){let a;void 0===s&&(s={});let{ancestorScroll:n=!0,ancestorResize:i=!0,elementResize:l="function"==typeof ResizeObserver,layoutShift:o="function"==typeof IntersectionObserver,animationFrame:c=!1}=s,d=se(e),u=n||i?[...d?r8(d):[],...r8(t)]:[];u.forEach(e=>{n&&e.addEventListener("scroll",r,{passive:!0}),i&&e.addEventListener("resize",r)});let m=d&&o?function(e,t){let r,s=null,a=rq(e);function n(){var e;clearTimeout(r),null==(e=s)||e.disconnect(),s=null}return!function i(l,o){void 0===l&&(l=!1),void 0===o&&(o=1),n();let c=e.getBoundingClientRect(),{left:d,top:u,width:m,height:h}=c;if(l||t(),!m||!h)return;let x={rootMargin:-rm(u)+"px "+-rm(a.clientWidth-(d+m))+"px "+-rm(a.clientHeight-(u+h))+"px "+-rm(d)+"px",threshold:rd(0,rc(1,o))||1},p=!0;function f(t){let s=t[0].intersectionRatio;if(s!==o){if(!p)return i();s?i(!1,s):r=setTimeout(()=>{i(!1,1e-7)},1e3)}1!==s||sx(c,e.getBoundingClientRect())||i(),p=!1}try{s=new IntersectionObserver(f,{...x,root:a.ownerDocument})}catch(e){s=new IntersectionObserver(f,x)}s.observe(e)}(!0),n}(d,r):null,h=-1,x=null;l&&(x=new ResizeObserver(e=>{let[s]=e;s&&s.target===d&&x&&(x.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var e;null==(e=x)||e.observe(t)})),r()}),d&&!c&&x.observe(d),x.observe(t));let p=c?sa(e):null;return c&&function t(){let s=sa(e);p&&!sx(p,s)&&r(),p=s,a=requestAnimationFrame(t)}(),r(),()=>{var e;u.forEach(e=>{n&&e.removeEventListener("scroll",r),i&&e.removeEventListener("resize",r)}),null==m||m(),null==(e=x)||e.disconnect(),x=null,c&&cancelAnimationFrame(a)}})(...e,{animationFrame:"always"===I}),elements:{reference:B.anchor},middleware:[{...{name:"offset",options:a=r={mainAxis:S+Y,alignmentAxis:P},async fn(e){var t,r;let{x:s,y:n,placement:i,middlewareData:l}=e,o=await rB(e,a);return i===(null==(t=l.offset)?void 0:t.placement)&&null!=(r=l.arrow)&&r.alignmentOffset?{}:{x:s+o.x,y:n+o.y,data:{...o,placement:i}}}},options:[r,s]},E&&{...{name:"shift",options:d=o={mainAxis:!0,crossAxis:!1,limiter:"partial"===R?{...(void 0===(l=n)&&(l={}),{options:l,fn(e){let{x:t,y:r,placement:s,rects:a,middlewareData:n}=e,{offset:i=0,mainAxis:o=!0,crossAxis:c=!0}=rf(l,e),d={x:t,y:r},u=rN(s),m=rj(u),h=d[m],x=d[u],p=rf(i,e),f="number"==typeof p?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(o){let e="y"===m?"height":"width",t=a.reference[m]-a.floating[e]+f.mainAxis,r=a.reference[m]+a.reference[e]-f.mainAxis;h<t?h=t:h>r&&(h=r)}if(c){var g,v;let e="y"===m?"width":"height",t=rT.has(rg(s)),r=a.reference[u]-a.floating[e]+(t&&(null==(g=n.offset)?void 0:g[u])||0)+(t?0:f.crossAxis),i=a.reference[u]+a.reference[e]+(t?0:(null==(v=n.offset)?void 0:v[u])||0)-(t?f.crossAxis:0);x<r?x=r:x>i&&(x=i)}return{[m]:h,[u]:x}}}),options:[n,i]}:void 0,...Z},async fn(e){let{x:t,y:r,placement:s}=e,{mainAxis:a=!0,crossAxis:n=!1,limiter:i={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...l}=rf(d,e),o={x:t,y:r},c=await rO(e,l),u=rN(rg(s)),m=rj(u),h=o[m],x=o[u];if(a){let e="y"===m?"top":"left",t="y"===m?"bottom":"right",r=h+c[e],s=h-c[t];h=rd(r,rc(h,s))}if(n){let e="y"===u?"top":"left",t="y"===u?"bottom":"right",r=x+c[e],s=x-c[t];x=rd(r,rc(x,s))}let p=i.fn({...e,[m]:h,[u]:x});return{...p,data:{x:p.x-t,y:p.y-r,enabled:{[m]:a,[u]:n}}}}},options:[o,c]},E&&{...{name:"flip",options:h=u={...Z},async fn(e){var t,r,s,a,n,i,l,o;let c,d,u,{placement:m,middlewareData:x,rects:p,initialPlacement:f,platform:g,elements:v}=e,{mainAxis:j=!0,crossAxis:y=!0,fallbackPlacements:b,fallbackStrategy:N="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:C=!0,...S}=rf(h,e);if(null!=(t=x.arrow)&&t.alignmentOffset)return{};let D=rg(m),P=rN(f),k=rg(f)===f,E=await (null==g.isRTL?void 0:g.isRTL(v.floating)),A=b||(k||!C?[rk(f)]:(c=rk(f),[rw(f),c,rw(c)])),F="none"!==w;!b&&F&&A.push(...(d=rv(f),u=function(e,t,r){switch(e){case"top":case"bottom":if(r)return t?rS:rC;return t?rC:rS;case"left":case"right":return t?rD:rP;default:return[]}}(rg(f),"start"===w,E),d&&(u=u.map(e=>e+"-"+d),C&&(u=u.concat(u.map(rw)))),u));let R=[f,...A],O=await rO(e,S),I=[],M=(null==(r=x.flip)?void 0:r.overflows)||[];if(j&&I.push(O[D]),y){let e,t,r,s,a=(i=m,l=p,void 0===(o=E)&&(o=!1),e=rv(i),r=ry(t=rj(rN(i))),s="x"===t?e===(o?"end":"start")?"right":"left":"start"===e?"bottom":"top",l.reference[r]>l.floating[r]&&(s=rk(s)),[s,rk(s)]);I.push(O[a[0]],O[a[1]])}if(M=[...M,{placement:m,overflows:I}],!I.every(e=>e<=0)){let e=((null==(s=x.flip)?void 0:s.index)||0)+1,t=R[e];if(t&&("alignment"!==y||P===rN(t)||M.every(e=>e.overflows[0]>0&&rN(e.placement)===P)))return{data:{index:e,overflows:M},reset:{placement:t}};let r=null==(a=M.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:a.placement;if(!r)switch(N){case"bestFit":{let e=null==(n=M.filter(e=>{if(F){let t=rN(e.placement);return t===P||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:n[0];e&&(r=e);break}case"initialPlacement":r=f}if(m!==r)return{reset:{placement:r}}}return{}}},options:[u,m]},{...{name:"size",options:f=x={...Z,apply:({elements:e,rects:t,availableWidth:r,availableHeight:s})=>{let{width:a,height:n}=t.reference,i=e.floating.style;i.setProperty("--radix-popper-available-width",`${r}px`),i.setProperty("--radix-popper-available-height",`${s}px`),i.setProperty("--radix-popper-anchor-width",`${a}px`),i.setProperty("--radix-popper-anchor-height",`${n}px`)}},async fn(e){var t,r;let s,a,{placement:n,rects:i,platform:l,elements:o}=e,{apply:c=()=>{},...d}=rf(f,e),u=await rO(e,d),m=rg(n),h=rv(n),x="y"===rN(n),{width:p,height:g}=i.floating;"top"===m||"bottom"===m?(s=m,a=h===(await (null==l.isRTL?void 0:l.isRTL(o.floating))?"start":"end")?"left":"right"):(a=m,s="end"===h?"top":"bottom");let v=g-u.top-u.bottom,j=p-u.left-u.right,y=rc(g-u[s],v),b=rc(p-u[a],j),N=!e.middlewareData.shift,w=y,C=b;if(null!=(t=e.middlewareData.shift)&&t.enabled.x&&(C=j),null!=(r=e.middlewareData.shift)&&r.enabled.y&&(w=v),N&&!h){let e=rd(u.left,0),t=rd(u.right,0),r=rd(u.top,0),s=rd(u.bottom,0);x?C=p-2*(0!==e||0!==t?e+t:rd(u.left,u.right)):w=g-2*(0!==r||0!==s?r+s:rd(u.top,u.bottom))}await c({...e,availableWidth:C,availableHeight:w});let S=await l.getDimensions(o.floating);return p!==S.width||g!==S.height?{reset:{rects:!0}}:{}}},options:[x,p]},$&&{...{name:"arrow",options:j=g={element:$,padding:k},fn(e){let{element:t,padding:r}="function"==typeof j?j(e):j;return t&&({}).hasOwnProperty.call(t,"current")?null!=t.current?sp({element:t.current,padding:r}).fn(e):{}:t?sp({element:t,padding:r}).fn(e):{}}},options:[g,v]},sL({arrowWidth:H,arrowHeight:Y}),O&&{...{name:"hide",options:N=y={strategy:"referenceHidden",...Z},async fn(e){let{rects:t}=e,{strategy:r="referenceHidden",...s}=rf(N,e);switch(r){case"referenceHidden":{let r=rI(await rO(e,{...s,elementContext:"reference"}),t.reference);return{data:{referenceHiddenOffsets:r,referenceHidden:rM(r)}}}case"escaped":{let r=rI(await rO(e,{...s,altBoundary:!0}),t.floating);return{data:{escapedOffsets:r,escaped:rM(r)}}}default:return{}}}},options:[y,b]}]}),[es,ea]=sz(ee),en=tC(M);tS(()=>{et&&en?.()},[et,en]);let ei=er.arrow?.x,el=er.arrow?.y,eo=er.arrow?.centerOffset!==0,[ec,ed]=q.useState();return tS(()=>{_&&ed(window.getComputedStyle(_).zIndex)},[_]),(0,z.jsx)("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:et?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ec,"--radix-popper-transform-origin":[er.transformOrigin?.x,er.transformOrigin?.y].join(" "),...er.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,z.jsx)(sR,{scope:w,placedSide:es,onArrowChange:V,arrowX:ei,arrowY:el,shouldHideArrow:eo,children:(0,z.jsx)(tP.div,{"data-side":es,"data-align":ea,...T,ref:U,style:{...T.style,animation:et?void 0:"none"}})})})});sI.displayName=sF;var sM="PopperArrow",sT={top:"bottom",right:"left",bottom:"top",left:"right"},sB=q.forwardRef(function(e,t){let{__scopePopper:r,...s}=e,a=sO(sM,r),n=sT[a.placedSide];return(0,z.jsx)("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[n]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:(0,z.jsx)(sb,{...s,ref:t,style:{...s.style,display:"block"}})})});function s_(e){return null!==e}sB.displayName=sM;var sL=e=>({name:"transformOrigin",options:e,fn(t){let{placement:r,rects:s,middlewareData:a}=t,n=a.arrow?.centerOffset!==0,i=n?0:e.arrowWidth,l=n?0:e.arrowHeight,[o,c]=sz(r),d={start:"0%",center:"50%",end:"100%"}[c],u=(a.arrow?.x??0)+i/2,m=(a.arrow?.y??0)+l/2,h="",x="";return"bottom"===o?(h=n?d:`${u}px`,x=`${-l}px`):"top"===o?(h=n?d:`${u}px`,x=`${s.floating.height+l}px`):"right"===o?(h=`${-l}px`,x=n?d:`${m}px`):"left"===o&&(h=`${s.floating.width+l}px`,x=n?d:`${m}px`),{data:{x:h,y:x}}}});function sz(e){let[t,r="center"]=e.split("-");return[t,r]}var sq=q.forwardRef((e,t)=>{let{container:r,...s}=e,[a,n]=q.useState(!1);tS(()=>n(!0),[]);let i=r||a&&globalThis?.document?.body;return i?tD.default.createPortal((0,z.jsx)(tP.div,{...s,ref:t}),i):null});sq.displayName="Portal";var sU=e=>{var t;let r,s,{present:a,children:n}=e,i=function(e){var t,r;let[s,a]=q.useState(),n=q.useRef(null),i=q.useRef(e),l=q.useRef("none"),[o,c]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},q.useReducer((e,t)=>r[e][t]??e,t));return q.useEffect(()=>{let e=s$(n.current);l.current="mounted"===o?e:"none"},[o]),tS(()=>{let t=n.current,r=i.current;if(r!==e){let s=l.current,a=s$(t);e?c("MOUNT"):"none"===a||t?.display==="none"?c("UNMOUNT"):r&&s!==a?c("ANIMATION_OUT"):c("UNMOUNT"),i.current=e}},[e,c]),tS(()=>{if(s){let e,t=s.ownerDocument.defaultView??window,r=r=>{let a=s$(n.current).includes(r.animationName);if(r.target===s&&a&&(c("ANIMATION_END"),!i.current)){let r=s.style.animationFillMode;s.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===s.style.animationFillMode&&(s.style.animationFillMode=r)})}},a=e=>{e.target===s&&(l.current=s$(n.current))};return s.addEventListener("animationstart",a),s.addEventListener("animationcancel",r),s.addEventListener("animationend",r),()=>{t.clearTimeout(e),s.removeEventListener("animationstart",a),s.removeEventListener("animationcancel",r),s.removeEventListener("animationend",r)}}c("ANIMATION_END")},[s,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:q.useCallback(e=>{n.current=e?getComputedStyle(e):null,a(e)},[])}}(a),l="function"==typeof n?n({present:i.isPresent}):q.Children.only(n),o=eN(i.ref,(t=l,(s=(r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?t.ref:(s=(r=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof n||i.isPresent?q.cloneElement(l,{ref:o}):null};function s$(e){return e?.animationName||"none"}sU.displayName="Presence";var sV="rovingFocusGroup.onEntryFocus",sW={bubbles:!1,cancelable:!0},sH="RovingFocusGroup",[sY,sG,sX]=tH(sH),[sK,sZ]=tw(sH,[sX]),[sQ,sJ]=sK(sH),s0=q.forwardRef((e,t)=>(0,z.jsx)(sY.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,z.jsx)(sY.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,z.jsx)(s1,{...e,ref:t})})}));s0.displayName=sH;var s1=q.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:n,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:o,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...u}=e,m=q.useRef(null),h=eN(t,m),x=tZ(n),[p,f]=tW({prop:i,defaultProp:l??null,onChange:o,caller:sH}),[g,v]=q.useState(!1),j=tC(c),y=sG(r),b=q.useRef(!1),[N,w]=q.useState(0);return q.useEffect(()=>{let e=m.current;if(e)return e.addEventListener(sV,j),()=>e.removeEventListener(sV,j)},[j]),(0,z.jsx)(sQ,{scope:r,orientation:s,dir:x,loop:a,currentTabStopId:p,onItemFocus:q.useCallback(e=>f(e),[f]),onItemShiftTab:q.useCallback(()=>v(!0),[]),onFocusableItemAdd:q.useCallback(()=>w(e=>e+1),[]),onFocusableItemRemove:q.useCallback(()=>w(e=>e-1),[]),children:(0,z.jsx)(tP.div,{tabIndex:g||0===N?-1:0,"data-orientation":s,...u,ref:h,style:{outline:"none",...e.style},onMouseDown:t$(e.onMouseDown,()=>{b.current=!0}),onFocus:t$(e.onFocus,e=>{let t=!b.current;if(e.target===e.currentTarget&&t&&!g){let t=new CustomEvent(sV,sW);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=y().filter(e=>e.focusable);s6([e.find(e=>e.active),e.find(e=>e.id===p),...e].filter(Boolean).map(e=>e.ref.current),d)}}b.current=!1}),onBlur:t$(e.onBlur,()=>v(!1))})})}),s2="RovingFocusGroupItem",s4=q.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:n,children:i,...l}=e,o=rl(),c=n||o,d=sJ(s2,r),u=d.currentTabStopId===c,m=sG(r),{onFocusableItemAdd:h,onFocusableItemRemove:x,currentTabStopId:p}=d;return q.useEffect(()=>{if(s)return h(),()=>x()},[s,h,x]),(0,z.jsx)(sY.ItemSlot,{scope:r,id:c,focusable:s,active:a,children:(0,z.jsx)(tP.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:t$(e.onMouseDown,e=>{s?d.onItemFocus(c):e.preventDefault()}),onFocus:t$(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:t$(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void d.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var s;let a=(s=e.key,"rtl"!==r?s:"ArrowLeft"===s?"ArrowRight":"ArrowRight"===s?"ArrowLeft":s);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(a))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(a)))return s5[a]}(e,d.orientation,d.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let a=m().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)a.reverse();else if("prev"===t||"next"===t){var r,s;"prev"===t&&a.reverse();let n=a.indexOf(e.currentTarget);a=d.loop?(r=a,s=n+1,r.map((e,t)=>r[(s+t)%r.length])):a.slice(n+1)}setTimeout(()=>s6(a))}}),children:"function"==typeof i?i({isCurrentTabStop:u,hasTabStop:null!=p}):i})})});s4.displayName=s2;var s5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function s6(e,t=!1){let r=document.activeElement;for(let s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}var s3=new WeakMap,s8=new WeakMap,s7={},s9=0,ae=function(e){return e&&(e.host||ae(e.parentNode))},at=function(e,t,r,s){var a=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var r=ae(e);return r&&t.contains(r)?r:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});s7[r]||(s7[r]=new WeakMap);var n=s7[r],i=[],l=new Set,o=new Set(a),c=function(e){!e||l.has(e)||(l.add(e),c(e.parentNode))};a.forEach(c);var d=function(e){!e||o.has(e)||Array.prototype.forEach.call(e.children,function(e){if(l.has(e))d(e);else try{var t=e.getAttribute(s),a=null!==t&&"false"!==t,o=(s3.get(e)||0)+1,c=(n.get(e)||0)+1;s3.set(e,o),n.set(e,c),i.push(e),1===o&&a&&s8.set(e,!0),1===c&&e.setAttribute(r,"true"),a||e.setAttribute(s,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return d(t),l.clear(),s9++,function(){i.forEach(function(e){var t=s3.get(e)-1,a=n.get(e)-1;s3.set(e,t),n.set(e,a),t||(s8.has(e)||e.removeAttribute(s),s8.delete(e)),a||e.removeAttribute(r)}),--s9||(s3=new WeakMap,s3=new WeakMap,s8=new WeakMap,s7={})}},ar=function(e,t,r){void 0===r&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=t||("u"<typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),at(s,a,r,"aria-hidden")):function(){return null}},as=function(){return(as=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function aa(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&0>t.indexOf(s)&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)0>t.indexOf(s[a])&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}var an=("function"==typeof SuppressedError&&SuppressedError,"right-scroll-bar-position"),ai="width-before-scroll-bar";function al(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var ao="u">typeof window?q.useLayoutEffect:q.useEffect,ac=new WeakMap,ad=(void 0===c&&(c={}),(void 0===d&&(d=function(e){return e}),u=[],m=!1,h={read:function(){if(m)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return u.length?u[u.length-1]:null},useMedium:function(e){var t=d(e,m);return u.push(t),function(){u=u.filter(function(e){return e!==t})}},assignSyncMedium:function(e){for(m=!0;u.length;){var t=u;u=[],t.forEach(e)}u={push:function(t){return e(t)},filter:function(){return u}}},assignMedium:function(e){m=!0;var t=[];if(u.length){var r=u;u=[],r.forEach(e),t=u}var s=function(){var r=t;t=[],r.forEach(e)},a=function(){return Promise.resolve().then(s)};a(),u={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),u}}}}).options=as({async:!0,ssr:!1},c),h),au=function(){},am=q.forwardRef(function(e,t){var r,s,a,n,i=q.useRef(null),l=q.useState({onScrollCapture:au,onWheelCapture:au,onTouchMoveCapture:au}),o=l[0],c=l[1],d=e.forwardProps,u=e.children,m=e.className,h=e.removeScrollBar,x=e.enabled,p=e.shards,f=e.sideCar,g=e.noRelative,v=e.noIsolation,j=e.inert,y=e.allowPinchZoom,b=e.as,N=e.gapMode,w=aa(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=(r=[i,t],s=function(e){return r.forEach(function(t){return al(t,e)})},(a=(0,q.useState)(function(){return{value:null,callback:s,facade:{get current(){return a.value},set current(value){var e=a.value;e!==value&&(a.value=value,a.callback(value,e))}}}})[0]).callback=s,n=a.facade,ao(function(){var e=ac.get(n);if(e){var t=new Set(e),s=new Set(r),a=n.current;t.forEach(function(e){s.has(e)||al(e,null)}),s.forEach(function(e){t.has(e)||al(e,a)})}ac.set(n,r)},[r]),n),S=as(as({},w),o);return q.createElement(q.Fragment,null,x&&q.createElement(f,{sideCar:ad,removeScrollBar:h,shards:p,noRelative:g,noIsolation:v,inert:j,setCallbacks:c,allowPinchZoom:!!y,lockRef:i,gapMode:N}),d?q.cloneElement(q.Children.only(u),as(as({},S),{ref:C})):q.createElement(void 0===b?"div":b,as({},S,{className:m,ref:C}),u))});am.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},am.classNames={fullWidth:ai,zeroRight:an};var ah=function(e){var t=e.sideCar,r=aa(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw Error("Sidecar medium not found");return q.createElement(s,as({},r))};ah.isSideCarExport=!0;var ax=function(){var e=0,t=null;return{add:function(r){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=S||("u">typeof __webpack_nonce__?__webpack_nonce__:void 0);return t&&e.setAttribute("nonce",t),e}())){var s,a;(s=t).styleSheet?s.styleSheet.cssText=r:s.appendChild(document.createTextNode(r)),a=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(a)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ap=function(){var e=ax();return function(t,r){q.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},af=function(){var e=ap();return function(t){return e(t.styles,t.dynamic),null}},ag={left:0,top:0,right:0,gap:0},av=function(e){return parseInt(e||"",10)||0},aj=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],s=t["padding"===e?"paddingTop":"marginTop"],a=t["padding"===e?"paddingRight":"marginRight"];return[av(r),av(s),av(a)]},ay=function(e){if(void 0===e&&(e="margin"),"u"<typeof window)return ag;var t=aj(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},ab=af(),aN="data-scroll-locked",aw=function(e,t,r,s){var a=e.left,n=e.top,i=e.right,l=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(s,";\n   padding-right: ").concat(l,"px ").concat(s,";\n  }\n  body[").concat(aN,"] {\n    overflow: hidden ").concat(s,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(s,";"),"margin"===r&&"\n    padding-left: ".concat(a,"px;\n    padding-top: ").concat(n,"px;\n    padding-right: ").concat(i,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(l,"px ").concat(s,";\n    "),"padding"===r&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(an," {\n    right: ").concat(l,"px ").concat(s,";\n  }\n  \n  .").concat(ai," {\n    margin-right: ").concat(l,"px ").concat(s,";\n  }\n  \n  .").concat(an," .").concat(an," {\n    right: 0 ").concat(s,";\n  }\n  \n  .").concat(ai," .").concat(ai," {\n    margin-right: 0 ").concat(s,";\n  }\n  \n  body[").concat(aN,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(l,"px;\n  }\n")},aC=function(){var e=parseInt(document.body.getAttribute(aN)||"0",10);return isFinite(e)?e:0},aS=function(){q.useEffect(function(){return document.body.setAttribute(aN,(aC()+1).toString()),function(){var e=aC()-1;e<=0?document.body.removeAttribute(aN):document.body.setAttribute(aN,e.toString())}},[])},aD=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=void 0===s?"margin":s;aS();var n=q.useMemo(function(){return ay(a)},[a]);return q.createElement(ab,{styles:aw(n,!t,a,r?"":"!important")})},aP=!1;if("u">typeof window)try{var ak=Object.defineProperty({},"passive",{get:function(){return aP=!0,!0}});window.addEventListener("test",ak,ak),window.removeEventListener("test",ak,ak)}catch(e){aP=!1}var aE=!!aP&&{passive:!1},aA=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&(r.overflowY!==r.overflowX||"TEXTAREA"===e.tagName||"visible"!==r[t])},aF=function(e,t){var r=t.ownerDocument,s=t;do{if("u">typeof ShadowRoot&&s instanceof ShadowRoot&&(s=s.host),aR(e,s)){var a=aO(e,s);if(a[1]>a[2])return!0}s=s.parentNode}while(s&&s!==r.body)return!1},aR=function(e,t){return"v"===e?aA(t,"overflowY"):aA(t,"overflowX")},aO=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},aI=function(e,t,r,s,a){var n,i=(n=window.getComputedStyle(t).direction,"h"===e&&"rtl"===n?-1:1),l=i*s,o=r.target,c=t.contains(o),d=!1,u=l>0,m=0,h=0;do{if(!o)break;var x=aO(e,o),p=x[0],f=x[1]-x[2]-i*p;(p||f)&&aR(e,o)&&(m+=f,h+=p);var g=o.parentNode;o=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&o!==document.body||c&&(t.contains(o)||t===o))return u&&(a&&1>Math.abs(m)||!a&&l>m)?d=!0:!u&&(a&&1>Math.abs(h)||!a&&-l>h)&&(d=!0),d},aM=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},aT=function(e){return[e.deltaX,e.deltaY]},aB=function(e){return e&&"current"in e?e.current:e},a_=0,aL=[];let az=(x=function(e){var t=q.useRef([]),r=q.useRef([0,0]),s=q.useRef(),a=q.useState(a_++)[0],n=q.useState(af)[0],i=q.useRef(e);q.useEffect(function(){i.current=e},[e]),q.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var t=(function(e,t,r){if(r||2==arguments.length)for(var s,a=0,n=t.length;a<n;a++)!s&&a in t||(s||(s=Array.prototype.slice.call(t,0,a)),s[a]=t[a]);return e.concat(s||Array.prototype.slice.call(t))})([e.lockRef.current],(e.shards||[]).map(aB),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=q.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!i.current.allowPinchZoom;var a,n=aM(e),l=r.current,o="deltaX"in e?e.deltaX:l[0]-n[0],c="deltaY"in e?e.deltaY:l[1]-n[1],d=e.target,u=Math.abs(o)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var m=aF(u,d);if(!m)return!0;if(m?a=u:(a="v"===u?"h":"v",m=aF(u,d)),!m)return!1;if(!s.current&&"changedTouches"in e&&(o||c)&&(s.current=a),!a)return!0;var h=s.current||a;return aI(h,t,e,"h"===h?o:c,!0)},[]),o=q.useCallback(function(e){if(aL.length&&aL[aL.length-1]===n){var r="deltaY"in e?aT(e):aM(e),s=t.current.filter(function(t){var s;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(s=t.delta,s[0]===r[0]&&s[1]===r[1])})[0];if(s&&s.should){e.cancelable&&e.preventDefault();return}if(!s){var a=(i.current.shards||[]).map(aB).filter(Boolean).filter(function(t){return t.contains(e.target)});(a.length>0?l(e,a[0]):!i.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),c=q.useCallback(function(e,r,s,a){var n={name:e,delta:r,target:s,should:a,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(s)};t.current.push(n),setTimeout(function(){t.current=t.current.filter(function(e){return e!==n})},1)},[]),d=q.useCallback(function(e){r.current=aM(e),s.current=void 0},[]),u=q.useCallback(function(t){c(t.type,aT(t),t.target,l(t,e.lockRef.current))},[]),m=q.useCallback(function(t){c(t.type,aM(t),t.target,l(t,e.lockRef.current))},[]);q.useEffect(function(){return aL.push(n),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:m}),document.addEventListener("wheel",o,aE),document.addEventListener("touchmove",o,aE),document.addEventListener("touchstart",d,aE),function(){aL=aL.filter(function(e){return e!==n}),document.removeEventListener("wheel",o,aE),document.removeEventListener("touchmove",o,aE),document.removeEventListener("touchstart",d,aE)}},[]);var h=e.removeScrollBar,x=e.inert;return q.createElement(q.Fragment,null,x?q.createElement(n,{styles:"\n  .block-interactivity-".concat(a," {pointer-events: none;}\n  .allow-interactivity-").concat(a," {pointer-events: all;}\n")}):null,h?q.createElement(aD,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},ad.useMedium(x),ah);var aq=q.forwardRef(function(e,t){return q.createElement(am,as({},e,{ref:t,sideCar:az}))});aq.classNames=am.classNames;var aU=["Enter"," "],a$=["ArrowUp","PageDown","End"],aV=["ArrowDown","PageUp","Home",...a$],aW={ltr:[...aU,"ArrowRight"],rtl:[...aU,"ArrowLeft"]},aH={ltr:["ArrowLeft"],rtl:["ArrowRight"]},aY="Menu",[aG,aX,aK]=tH(aY),[aZ,aQ]=tw(aY,[aK,sS,sZ]),aJ=sS(),a0=sZ(),[a1,a2]=aZ(aY),[a4,a5]=aZ(aY),a6=e=>{let{__scopeMenu:t,open:r=!1,children:s,dir:a,onOpenChange:n,modal:i=!0}=e,l=aJ(t),[o,c]=q.useState(null),d=q.useRef(!1),u=tC(n),m=tZ(a);return q.useEffect(()=>{let e=()=>{d.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>d.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,z.jsx)(sk,{...l,children:(0,z.jsx)(a1,{scope:t,open:r,onOpenChange:u,content:o,onContentChange:c,children:(0,z.jsx)(a4,{scope:t,onClose:q.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:d,dir:m,modal:i,children:s})})})};a6.displayName=aY;var a3=q.forwardRef((e,t)=>{let{__scopeMenu:r,...s}=e,a=aJ(r);return(0,z.jsx)(sA,{...a,...s,ref:t})});a3.displayName="MenuAnchor";var a8="MenuPortal",[a7,a9]=aZ(a8,{forceMount:void 0}),ne=e=>{let{__scopeMenu:t,forceMount:r,children:s,container:a}=e,n=a2(a8,t);return(0,z.jsx)(a7,{scope:t,forceMount:r,children:(0,z.jsx)(sU,{present:r||n.open,children:(0,z.jsx)(sq,{asChild:!0,container:a,children:s})})})};ne.displayName=a8;var nt="MenuContent",[nr,ns]=aZ(nt),na=q.forwardRef((e,t)=>{let r=a9(nt,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,n=a2(nt,e.__scopeMenu),i=a5(nt,e.__scopeMenu);return(0,z.jsx)(aG.Provider,{scope:e.__scopeMenu,children:(0,z.jsx)(sU,{present:s||n.open,children:(0,z.jsx)(aG.Slot,{scope:e.__scopeMenu,children:i.modal?(0,z.jsx)(nn,{...a,ref:t}):(0,z.jsx)(ni,{...a,ref:t})})})})}),nn=q.forwardRef((e,t)=>{let r=a2(nt,e.__scopeMenu),s=q.useRef(null),a=eN(t,s);return q.useEffect(()=>{let e=s.current;if(e)return ar(e)},[]),(0,z.jsx)(no,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:t$(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),ni=q.forwardRef((e,t)=>{let r=a2(nt,e.__scopeMenu);return(0,z.jsx)(no,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),nl=ew("MenuContent.ScrollLock"),no=q.forwardRef((e,t)=>{let{__scopeMenu:r,loop:s=!1,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:o,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:m,onDismiss:h,disableOutsideScroll:x,...p}=e,f=a2(nt,r),g=a5(nt,r),v=aJ(r),j=a0(r),y=aX(r),[b,N]=q.useState(null),w=q.useRef(null),C=eN(t,w,f.onContentChange),S=q.useRef(0),D=q.useRef(""),P=q.useRef(0),k=q.useRef(null),E=q.useRef("right"),A=q.useRef(0),F=x?aq:q.Fragment;q.useEffect(()=>()=>window.clearTimeout(S.current),[]),t5();let R=q.useCallback(e=>{var t,r;return E.current===k.current?.side&&(t=e,!!(r=k.current?.area)&&function(e,t){let{x:r,y:s}=e,a=!1;for(let e=0,n=t.length-1;e<t.length;n=e++){let i=t[e],l=t[n],o=i.x,c=i.y,d=l.x,u=l.y;c>s!=u>s&&r<(d-o)*(s-c)/(u-c)+o&&(a=!a)}return a}({x:t.clientX,y:t.clientY},r))},[]);return(0,z.jsx)(nr,{scope:r,searchRef:D,onItemEnter:q.useCallback(e=>{R(e)&&e.preventDefault()},[R]),onItemLeave:q.useCallback(e=>{R(e)||(w.current?.focus(),N(null))},[R]),onTriggerLeave:q.useCallback(e=>{R(e)&&e.preventDefault()},[R]),pointerGraceTimerRef:P,onPointerGraceIntentChange:q.useCallback(e=>{k.current=e},[]),children:(0,z.jsx)(F,{...x?{as:nl,allowPinchZoom:!0}:void 0,children:(0,z.jsx)(t9,{asChild:!0,trapped:a,onMountAutoFocus:t$(n,e=>{e.preventDefault(),w.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:(0,z.jsx)(t0,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:m,onDismiss:h,children:(0,z.jsx)(s0,{asChild:!0,...j,dir:g.dir,orientation:"vertical",loop:s,currentTabStopId:b,onCurrentTabStopIdChange:N,onEntryFocus:t$(o,e=>{g.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,z.jsx)(sI,{role:"menu","aria-orientation":"vertical","data-state":nI(f.open),"data-radix-menu-content":"",dir:g.dir,...v,...p,ref:C,style:{outline:"none",...p.style},onKeyDown:t$(p.onKeyDown,e=>{let t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,r=e.ctrlKey||e.altKey||e.metaKey,s=1===e.key.length;if(t){var a;let t,n,i,l,o,c;"Tab"===e.key&&e.preventDefault(),!r&&s&&(a=e.key,t=D.current+a,n=y().filter(e=>!e.disabled),i=document.activeElement,l=n.find(e=>e.ref.current===i)?.textValue,o=function(e,t,r){var s;let a=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,n=r?e.indexOf(r):-1,i=(s=Math.max(n,0),e.map((t,r)=>e[(s+r)%e.length]));1===a.length&&(i=i.filter(e=>e!==r));let l=i.find(e=>e.toLowerCase().startsWith(a.toLowerCase()));return l!==r?l:void 0}(n.map(e=>e.textValue),t,l),c=n.find(e=>e.textValue===o)?.ref.current,function e(t){D.current=t,window.clearTimeout(S.current),""!==t&&(S.current=window.setTimeout(()=>e(""),1e3))}(t),c&&setTimeout(()=>c.focus()))}let n=w.current;if(e.target!==n||!aV.includes(e.key))return;e.preventDefault();let i=y().filter(e=>!e.disabled).map(e=>e.ref.current);a$.includes(e.key)&&i.reverse(),function(e){let t=document.activeElement;for(let r of e)if(r===t||(r.focus(),document.activeElement!==t))return}(i)}),onBlur:t$(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(S.current),D.current="")}),onPointerMove:t$(e.onPointerMove,nB(e=>{let t=e.target,r=A.current!==e.clientX;e.currentTarget.contains(t)&&r&&(E.current=e.clientX>A.current?"right":"left",A.current=e.clientX)}))})})})})})})});na.displayName=nt;var nc=q.forwardRef((e,t)=>{let{__scopeMenu:r,...s}=e;return(0,z.jsx)(tP.div,{role:"group",...s,ref:t})});nc.displayName="MenuGroup";var nd=q.forwardRef((e,t)=>{let{__scopeMenu:r,...s}=e;return(0,z.jsx)(tP.div,{...s,ref:t})});nd.displayName="MenuLabel";var nu="MenuItem",nm="menu.itemSelect",nh=q.forwardRef((e,t)=>{let{disabled:r=!1,onSelect:s,...a}=e,n=q.useRef(null),i=a5(nu,e.__scopeMenu),l=ns(nu,e.__scopeMenu),o=eN(t,n),c=q.useRef(!1);return(0,z.jsx)(nx,{...a,ref:o,disabled:r,onClick:t$(e.onClick,()=>{let e=n.current;if(!r&&e){let t=new CustomEvent(nm,{bubbles:!0,cancelable:!0});e.addEventListener(nm,e=>s?.(e),{once:!0}),tk(e,t),t.defaultPrevented?c.current=!1:i.onClose()}}),onPointerDown:t=>{e.onPointerDown?.(t),c.current=!0},onPointerUp:t$(e.onPointerUp,e=>{c.current||e.currentTarget?.click()}),onKeyDown:t$(e.onKeyDown,e=>{let t=""!==l.searchRef.current;r||t&&" "===e.key||aU.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});nh.displayName=nu;var nx=q.forwardRef((e,t)=>{let{__scopeMenu:r,disabled:s=!1,textValue:a,...n}=e,i=ns(nu,r),l=a0(r),o=q.useRef(null),c=eN(t,o),[d,u]=q.useState(!1),[m,h]=q.useState("");return q.useEffect(()=>{let e=o.current;e&&h((e.textContent??"").trim())},[n.children]),(0,z.jsx)(aG.ItemSlot,{scope:r,disabled:s,textValue:a??m,children:(0,z.jsx)(s4,{asChild:!0,...l,focusable:!s,children:(0,z.jsx)(tP.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...n,ref:c,onPointerMove:t$(e.onPointerMove,nB(e=>{s?i.onItemLeave(e):(i.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:t$(e.onPointerLeave,nB(e=>i.onItemLeave(e))),onFocus:t$(e.onFocus,()=>u(!0)),onBlur:t$(e.onBlur,()=>u(!1))})})})}),np=q.forwardRef((e,t)=>{let{checked:r=!1,onCheckedChange:s,...a}=e;return(0,z.jsx)(nw,{scope:e.__scopeMenu,checked:r,children:(0,z.jsx)(nh,{role:"menuitemcheckbox","aria-checked":nM(r)?"mixed":r,...a,ref:t,"data-state":nT(r),onSelect:t$(a.onSelect,()=>s?.(!!nM(r)||!r),{checkForDefaultPrevented:!1})})})});np.displayName="MenuCheckboxItem";var nf="MenuRadioGroup",[ng,nv]=aZ(nf,{value:void 0,onValueChange:()=>{}}),nj=q.forwardRef((e,t)=>{let{value:r,onValueChange:s,...a}=e,n=tC(s);return(0,z.jsx)(ng,{scope:e.__scopeMenu,value:r,onValueChange:n,children:(0,z.jsx)(nc,{...a,ref:t})})});nj.displayName=nf;var ny="MenuRadioItem",nb=q.forwardRef((e,t)=>{let{value:r,...s}=e,a=nv(ny,e.__scopeMenu),n=r===a.value;return(0,z.jsx)(nw,{scope:e.__scopeMenu,checked:n,children:(0,z.jsx)(nh,{role:"menuitemradio","aria-checked":n,...s,ref:t,"data-state":nT(n),onSelect:t$(s.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});nb.displayName=ny;var nN="MenuItemIndicator",[nw,nC]=aZ(nN,{checked:!1}),nS=q.forwardRef((e,t)=>{let{__scopeMenu:r,forceMount:s,...a}=e,n=nC(nN,r);return(0,z.jsx)(sU,{present:s||nM(n.checked)||!0===n.checked,children:(0,z.jsx)(tP.span,{...a,ref:t,"data-state":nT(n.checked)})})});nS.displayName=nN;var nD=q.forwardRef((e,t)=>{let{__scopeMenu:r,...s}=e;return(0,z.jsx)(tP.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});nD.displayName="MenuSeparator";var nP=q.forwardRef((e,t)=>{let{__scopeMenu:r,...s}=e,a=aJ(r);return(0,z.jsx)(sB,{...a,...s,ref:t})});nP.displayName="MenuArrow";var[nk,nE]=aZ("MenuSub"),nA="MenuSubTrigger",nF=q.forwardRef((e,t)=>{let r=a2(nA,e.__scopeMenu),s=a5(nA,e.__scopeMenu),a=nE(nA,e.__scopeMenu),n=ns(nA,e.__scopeMenu),i=q.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:o}=n,c={__scopeMenu:e.__scopeMenu},d=q.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return q.useEffect(()=>d,[d]),q.useEffect(()=>{let e=l.current;return()=>{window.clearTimeout(e),o(null)}},[l,o]),(0,z.jsx)(a3,{asChild:!0,...c,children:(0,z.jsx)(nx,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":nI(r.open),...e,ref:eb(t,a.onTriggerChange),onClick:t=>{e.onClick?.(t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:t$(e.onPointerMove,nB(t=>{n.onItemEnter(t),!t.defaultPrevented&&(e.disabled||r.open||i.current||(n.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100)))})),onPointerLeave:t$(e.onPointerLeave,nB(e=>{d();let t=r.content?.getBoundingClientRect();if(t){let s=r.content?.dataset.side,a="right"===s,i=t[a?"left":"right"],o=t[a?"right":"left"];n.onPointerGraceIntentChange({area:[{x:e.clientX+(a?-5:5),y:e.clientY},{x:i,y:t.top},{x:o,y:t.top},{x:o,y:t.bottom},{x:i,y:t.bottom}],side:s}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>n.onPointerGraceIntentChange(null),300)}else{if(n.onTriggerLeave(e),e.defaultPrevented)return;n.onPointerGraceIntentChange(null)}})),onKeyDown:t$(e.onKeyDown,t=>{let a=""!==n.searchRef.current;e.disabled||a&&" "===t.key||aW[s.dir].includes(t.key)&&(r.onOpenChange(!0),r.content?.focus(),t.preventDefault())})})})});nF.displayName=nA;var nR="MenuSubContent",nO=q.forwardRef((e,t)=>{let r=a9(nt,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,n=a2(nt,e.__scopeMenu),i=a5(nt,e.__scopeMenu),l=nE(nR,e.__scopeMenu),o=q.useRef(null),c=eN(t,o);return(0,z.jsx)(aG.Provider,{scope:e.__scopeMenu,children:(0,z.jsx)(sU,{present:s||n.open,children:(0,z.jsx)(aG.Slot,{scope:e.__scopeMenu,children:(0,z.jsx)(no,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:c,align:"start",side:"rtl"===i.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{i.isUsingKeyboardRef.current&&o.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:t$(e.onFocusOutside,e=>{e.target!==l.trigger&&n.onOpenChange(!1)}),onEscapeKeyDown:t$(e.onEscapeKeyDown,e=>{i.onClose(),e.preventDefault()}),onKeyDown:t$(e.onKeyDown,e=>{let t=e.currentTarget.contains(e.target),r=aH[i.dir].includes(e.key);t&&r&&(n.onOpenChange(!1),l.trigger?.focus(),e.preventDefault())})})})})})});function nI(e){return e?"open":"closed"}function nM(e){return"indeterminate"===e}function nT(e){return nM(e)?"indeterminate":e?"checked":"unchecked"}function nB(e){return t=>"mouse"===t.pointerType?e(t):void 0}nO.displayName=nR;var n_="DropdownMenu",[nL,nz]=tw(n_,[aQ]),nq=aQ(),[nU,n$]=nL(n_),nV=e=>{let{__scopeDropdownMenu:t,children:r,dir:s,open:a,defaultOpen:n,onOpenChange:i,modal:l=!0}=e,o=nq(t),c=q.useRef(null),[d,u]=tW({prop:a,defaultProp:n??!1,onChange:i,caller:n_});return(0,z.jsx)(nU,{scope:t,triggerId:rl(),triggerRef:c,contentId:rl(),open:d,onOpenChange:u,onOpenToggle:q.useCallback(()=>u(e=>!e),[u]),modal:l,children:(0,z.jsx)(a6,{...o,open:d,onOpenChange:u,dir:s,modal:l,children:r})})};nV.displayName=n_;var nW="DropdownMenuTrigger",nH=q.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,disabled:s=!1,...a}=e,n=n$(nW,r),i=nq(r);return(0,z.jsx)(a3,{asChild:!0,...i,children:(0,z.jsx)(tP.button,{type:"button",id:n.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":n.open?n.contentId:void 0,"data-state":n.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:eb(t,n.triggerRef),onPointerDown:t$(e.onPointerDown,e=>{!s&&0===e.button&&!1===e.ctrlKey&&(n.onOpenToggle(),n.open||e.preventDefault())}),onKeyDown:t$(e.onKeyDown,e=>{!s&&(["Enter"," "].includes(e.key)&&n.onOpenToggle(),"ArrowDown"===e.key&&n.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});nH.displayName=nW;var nY=e=>{let{__scopeDropdownMenu:t,...r}=e,s=nq(t);return(0,z.jsx)(ne,{...s,...r})};nY.displayName="DropdownMenuPortal";var nG="DropdownMenuContent",nX=q.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...s}=e,a=n$(nG,r),n=nq(r),i=q.useRef(!1);return(0,z.jsx)(na,{id:a.contentId,"aria-labelledby":a.triggerId,...n,...s,ref:t,onCloseAutoFocus:t$(e.onCloseAutoFocus,e=>{i.current||a.triggerRef.current?.focus(),i.current=!1,e.preventDefault()}),onInteractOutside:t$(e.onInteractOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,s=2===t.button||r;(!a.modal||s)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nX.displayName=nG,q.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...s}=e,a=nq(r);return(0,z.jsx)(nc,{...a,...s,ref:t})}).displayName="DropdownMenuGroup",q.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...s}=e,a=nq(r);return(0,z.jsx)(nd,{...a,...s,ref:t})}).displayName="DropdownMenuLabel";var nK=q.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...s}=e,a=nq(r);return(0,z.jsx)(nh,{...a,...s,ref:t})});nK.displayName="DropdownMenuItem",q.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...s}=e,a=nq(r);return(0,z.jsx)(np,{...a,...s,ref:t})}).displayName="DropdownMenuCheckboxItem",q.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...s}=e,a=nq(r);return(0,z.jsx)(nj,{...a,...s,ref:t})}).displayName="DropdownMenuRadioGroup",q.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...s}=e,a=nq(r);return(0,z.jsx)(nb,{...a,...s,ref:t})}).displayName="DropdownMenuRadioItem",q.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...s}=e,a=nq(r);return(0,z.jsx)(nS,{...a,...s,ref:t})}).displayName="DropdownMenuItemIndicator";var nZ=q.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...s}=e,a=nq(r);return(0,z.jsx)(nD,{...a,...s,ref:t})});nZ.displayName="DropdownMenuSeparator",q.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...s}=e,a=nq(r);return(0,z.jsx)(nP,{...a,...s,ref:t})}).displayName="DropdownMenuArrow",q.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...s}=e,a=nq(r);return(0,z.jsx)(nF,{...a,...s,ref:t})}).displayName="DropdownMenuSubTrigger",q.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...s}=e,a=nq(r);return(0,z.jsx)(nO,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})}).displayName="DropdownMenuSubContent";let nQ=Y("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),nJ=Y("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),n0=Y("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function n1({...e}){return(0,z.jsx)(nV,{"data-slot":"dropdown-menu",...e})}function n2({...e}){return(0,z.jsx)(nH,{"data-slot":"dropdown-menu-trigger",...e})}function n4({className:e,sideOffset:t=4,...r}){return(0,z.jsx)(nY,{children:(0,z.jsx)(nX,{"data-slot":"dropdown-menu-content",sideOffset:t,className:tj("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function n5({className:e,inset:t,variant:r="default",...s}){return(0,z.jsx)(nK,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:tj("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s})}function n6({className:e,...t}){return(0,z.jsx)(nZ,{"data-slot":"dropdown-menu-separator",className:tj("bg-border -mx-1 my-1 h-px",e),...t})}var n3="Dialog",[n8,n7]=tw(n3),[n9,ie]=n8(n3),it=e=>{let{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:n,modal:i=!0}=e,l=q.useRef(null),o=q.useRef(null),[c,d]=tW({prop:s,defaultProp:a??!1,onChange:n,caller:n3});return(0,z.jsx)(n9,{scope:t,triggerRef:l,contentRef:o,contentId:rl(),titleId:rl(),descriptionId:rl(),open:c,onOpenChange:d,onOpenToggle:q.useCallback(()=>d(e=>!e),[d]),modal:i,children:r})};it.displayName=n3;var ir="DialogTrigger",is=q.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,a=ie(ir,r),n=eN(t,a.triggerRef);return(0,z.jsx)(tP.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":iS(a.open),...s,ref:n,onClick:t$(e.onClick,a.onOpenToggle)})});is.displayName=ir;var ia="DialogPortal",[ii,il]=n8(ia,{forceMount:void 0}),io=e=>{let{__scopeDialog:t,forceMount:r,children:s,container:a}=e,n=ie(ia,t);return(0,z.jsx)(ii,{scope:t,forceMount:r,children:q.Children.map(s,e=>(0,z.jsx)(sU,{present:r||n.open,children:(0,z.jsx)(sq,{asChild:!0,container:a,children:e})}))})};io.displayName=ia;var ic="DialogOverlay",id=q.forwardRef((e,t)=>{let r=il(ic,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,n=ie(ic,e.__scopeDialog);return n.modal?(0,z.jsx)(sU,{present:s||n.open,children:(0,z.jsx)(im,{...a,ref:t})}):null});id.displayName=ic;var iu=ew("DialogOverlay.RemoveScroll"),im=q.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,a=ie(ic,r);return(0,z.jsx)(aq,{as:iu,allowPinchZoom:!0,shards:[a.contentRef],children:(0,z.jsx)(tP.div,{"data-state":iS(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),ih="DialogContent",ix=q.forwardRef((e,t)=>{let r=il(ih,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,n=ie(ih,e.__scopeDialog);return(0,z.jsx)(sU,{present:s||n.open,children:n.modal?(0,z.jsx)(ip,{...a,ref:t}):(0,z.jsx)(ig,{...a,ref:t})})});ix.displayName=ih;var ip=q.forwardRef((e,t)=>{let r=ie(ih,e.__scopeDialog),s=q.useRef(null),a=eN(t,r.contentRef,s);return q.useEffect(()=>{let e=s.current;if(e)return ar(e)},[]),(0,z.jsx)(iv,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:t$(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:t$(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:t$(e.onFocusOutside,e=>e.preventDefault())})}),ig=q.forwardRef((e,t)=>{let r=ie(ih,e.__scopeDialog),s=q.useRef(!1),a=q.useRef(!1);return(0,z.jsx)(iv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(s.current||r.triggerRef.current?.focus(),t.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(s.current=!0,"pointerdown"===t.detail.originalEvent.type&&(a.current=!0));let n=t.target;r.triggerRef.current?.contains(n)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&a.current&&t.preventDefault()}})}),iv=q.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:n,...i}=e,l=ie(ih,r),o=q.useRef(null),c=eN(t,o);return t5(),(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(t9,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:n,children:(0,z.jsx)(t0,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":iS(l.open),...i,ref:c,onDismiss:()=>l.onOpenChange(!1)})}),(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(iE,{titleId:l.titleId}),(0,z.jsx)(iA,{contentRef:o,descriptionId:l.descriptionId})]})]})}),ij="DialogTitle",iy=q.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,a=ie(ij,r);return(0,z.jsx)(tP.h2,{id:a.titleId,...s,ref:t})});iy.displayName=ij;var ib="DialogDescription",iN=q.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,a=ie(ib,r);return(0,z.jsx)(tP.p,{id:a.descriptionId,...s,ref:t})});iN.displayName=ib;var iw="DialogClose",iC=q.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,a=ie(iw,r);return(0,z.jsx)(tP.button,{type:"button",...s,ref:t,onClick:t$(e.onClick,()=>a.onOpenChange(!1))})});function iS(e){return e?"open":"closed"}iC.displayName=iw;var iD="DialogTitleWarning",[iP,ik]=(p={contentName:ih,titleName:ij,docsSlug:"dialog"},t=q.createContext(p),(r=e=>{let{children:r,...s}=e,a=q.useMemo(()=>s,Object.values(s));return(0,z.jsx)(t.Provider,{value:a,children:r})}).displayName=iD+"Provider",[r,function(e){let r=q.useContext(t);if(r)return r;if(void 0!==p)return p;throw Error(`\`${e}\` must be used within \`${iD}\``)}]),iE=({titleId:e})=>{let t=ik(iD),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return q.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},iA=({contentRef:e,descriptionId:t})=>{let r=ik("DialogDescriptionWarning"),s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return q.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},iF="AlertDialog",[iR,iO]=tw(iF,[n7]),iI=n7(),iM=e=>{let{__scopeAlertDialog:t,...r}=e,s=iI(t);return(0,z.jsx)(it,{...s,...r,modal:!0})};iM.displayName=iF,q.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,a=iI(r);return(0,z.jsx)(is,{...a,...s,ref:t})}).displayName="AlertDialogTrigger";var iT=e=>{let{__scopeAlertDialog:t,...r}=e,s=iI(t);return(0,z.jsx)(io,{...s,...r})};iT.displayName="AlertDialogPortal";var iB=q.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,a=iI(r);return(0,z.jsx)(id,{...a,...s,ref:t})});iB.displayName="AlertDialogOverlay";var i_="AlertDialogContent",[iL,iz]=iR(i_),iq=eD("AlertDialogContent"),iU=q.forwardRef((e,t)=>{let{__scopeAlertDialog:r,children:s,...a}=e,n=iI(r),i=q.useRef(null),l=eN(t,i),o=q.useRef(null);return(0,z.jsx)(iP,{contentName:i_,titleName:i$,docsSlug:"alert-dialog",children:(0,z.jsx)(iL,{scope:r,cancelRef:o,children:(0,z.jsxs)(ix,{role:"alertdialog",...n,...a,ref:l,onOpenAutoFocus:t$(a.onOpenAutoFocus,e=>{e.preventDefault(),o.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,z.jsx)(iq,{children:s}),(0,z.jsx)(iK,{contentRef:i})]})})})});iU.displayName=i_;var i$="AlertDialogTitle",iV=q.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,a=iI(r);return(0,z.jsx)(iy,{...a,...s,ref:t})});iV.displayName=i$;var iW="AlertDialogDescription",iH=q.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,a=iI(r);return(0,z.jsx)(iN,{...a,...s,ref:t})});iH.displayName=iW;var iY=q.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,a=iI(r);return(0,z.jsx)(iC,{...a,...s,ref:t})});iY.displayName="AlertDialogAction";var iG="AlertDialogCancel",iX=q.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,{cancelRef:a}=iz(iG,r),n=iI(r),i=eN(t,a);return(0,z.jsx)(iC,{...n,...s,ref:i})});iX.displayName=iG;var iK=({contentRef:e})=>{let t=`\`${i_}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${i_}\` by passing a \`${iW}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${i_}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return q.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null};function iZ({...e}){return(0,z.jsx)(iM,{"data-slot":"alert-dialog",...e})}function iQ({...e}){return(0,z.jsx)(iT,{"data-slot":"alert-dialog-portal",...e})}function iJ({className:e,...t}){return(0,z.jsx)(iB,{"data-slot":"alert-dialog-overlay",className:tj("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function i0({className:e,...t}){return(0,z.jsxs)(iQ,{children:[(0,z.jsx)(iJ,{}),(0,z.jsx)(iU,{"data-slot":"alert-dialog-content",className:tj("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function i1({className:e,...t}){return(0,z.jsx)("div",{"data-slot":"alert-dialog-header",className:tj("flex flex-col gap-2 text-center sm:text-left",e),...t})}function i2({className:e,...t}){return(0,z.jsx)("div",{"data-slot":"alert-dialog-footer",className:tj("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function i4({className:e,...t}){return(0,z.jsx)(iV,{"data-slot":"alert-dialog-title",className:tj("text-lg font-semibold",e),...t})}function i5({className:e,...t}){return(0,z.jsx)(iH,{"data-slot":"alert-dialog-description",className:tj("text-muted-foreground text-sm",e),...t})}function i6({className:e,...t}){return(0,z.jsx)(iY,{className:tj(ty(),e),...t})}function i3({className:e,...t}){return(0,z.jsx)(iX,{className:tj(ty({variant:"outline"}),e),...t})}var i8=(e,t,r,s,a,n,i,l)=>{let o=document.documentElement,c=["light","dark"];function d(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,s=r&&n?a.map(e=>n[e]||e):a;r?(o.classList.remove(...s),o.classList.add(n&&n[t]?n[t]:t)):o.setAttribute(e,t)}),r=t,l&&c.includes(r)&&(o.style.colorScheme=r)}if(s)d(s);else try{let e=localStorage.getItem(t)||r,s=i&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;d(s)}catch(e){}},i7=q.createContext(void 0),i9={setTheme:e=>{},themes:[]};q.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:s,enableColorScheme:a,defaultTheme:n,value:i,themes:l,nonce:o,scriptProps:c})=>{let d=JSON.stringify([r,t,n,e,l,i,s,a]).slice(1,-1);return q.createElement("script",{...c,suppressHydrationWarning:!0,nonce:"u"<typeof window?o:"",dangerouslySetInnerHTML:{__html:`(${i8.toString()})(${d})`}})});let le=Array(12).fill(0),lt=({visible:e,className:t})=>q.default.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},q.default.createElement("div",{className:"sonner-spinner"},le.map((e,t)=>q.default.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),lr=q.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.default.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ls=q.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.default.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),la=q.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.default.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ln=q.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.default.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),li=q.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.default.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.default.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),ll=1,lo=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...s}=e,a="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:ll++,n=this.toasts.find(e=>e.id===a),i=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),n?this.toasts=this.toasts.map(t=>t.id===a?(this.publish({...t,...e,id:a,title:r}),{...t,...e,id:a,dismissible:i,title:r}):t):this.addToast({title:r,...s,dismissible:i,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{let r,s;if(!t)return;void 0!==t.loading&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let a=Promise.resolve(e instanceof Function?e():e),n=void 0!==s,i=a.then(async e=>{if(r=["resolve",e],q.default.isValidElement(e))n=!1,this.create({id:s,type:"default",message:e});else if(lc(e)&&!e.ok){n=!1;let r="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,a="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description,i="object"!=typeof r||q.default.isValidElement(r)?{message:r}:r;this.create({id:s,type:"error",description:a,...i})}else if(e instanceof Error){n=!1;let r="function"==typeof t.error?await t.error(e):t.error,a="function"==typeof t.description?await t.description(e):t.description,i="object"!=typeof r||q.default.isValidElement(r)?{message:r}:r;this.create({id:s,type:"error",description:a,...i})}else if(void 0!==t.success){n=!1;let r="function"==typeof t.success?await t.success(e):t.success,a="function"==typeof t.description?await t.description(e):t.description,i="object"!=typeof r||q.default.isValidElement(r)?{message:r}:r;this.create({id:s,type:"success",description:a,...i})}}).catch(async e=>{if(r=["reject",e],void 0!==t.error){n=!1;let r="function"==typeof t.error?await t.error(e):t.error,a="function"==typeof t.description?await t.description(e):t.description,i="object"!=typeof r||q.default.isValidElement(r)?{message:r}:r;this.create({id:s,type:"error",description:a,...i})}}).finally(()=>{n&&(this.dismiss(s),s=void 0),null==t.finally||t.finally.call(t)}),l=()=>new Promise((e,t)=>i.then(()=>"reject"===r[0]?t(r[1]):e(r[1])).catch(t));return"string"!=typeof s&&"number"!=typeof s?{unwrap:l}:Object.assign(s,{unwrap:l})},this.custom=(e,t)=>{let r=(null==t?void 0:t.id)||ll++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},lc=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,ld=Object.assign((e,t)=>{let r=(null==t?void 0:t.id)||ll++;return lo.addToast({title:e,...t,id:r}),r},{success:lo.success,info:lo.info,warning:lo.warning,error:lo.error,custom:lo.custom,message:lo.message,promise:lo.promise,dismiss:lo.dismiss,loading:lo.loading},{getHistory:()=>lo.toasts,getToasts:()=>lo.getActiveToasts()});function lu(e){return void 0!==e.label}function lm(...e){return e.filter(Boolean).join(" ")}!function(e){if(!e||"u"<typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");let lh=e=>{var t,r,s,a,n,i,l,o,c,d,u,m,h;let{invert:x,toast:p,unstyled:f,interacting:g,setHeights:v,visibleToasts:j,heights:y,index:b,toasts:N,expanded:w,removeToast:C,defaultRichColors:S,closeButton:D,style:P,cancelButtonStyle:k,actionButtonStyle:E,className:A="",descriptionClassName:F="",duration:R,position:O,gap:I,expandByDefault:M,classNames:T,icons:B,closeButtonAriaLabel:_="Close toast"}=e,[L,z]=q.default.useState(null),[U,$]=q.default.useState(null),[V,W]=q.default.useState(!1),[H,Y]=q.default.useState(!1),[G,X]=q.default.useState(!1),[K,Z]=q.default.useState(!1),[Q,J]=q.default.useState(!1),[ee,et]=q.default.useState(0),[er,es]=q.default.useState(0),ea=q.default.useRef(p.duration||R||4e3),en=q.default.useRef(null),ei=q.default.useRef(null),el=0===b,eo=b+1<=j,ec=p.type,ed=!1!==p.dismissible,eu=p.className||"",em=p.descriptionClassName||"",eh=q.default.useMemo(()=>y.findIndex(e=>e.toastId===p.id)||0,[y,p.id]),ex=q.default.useMemo(()=>{var e;return null!=(e=p.closeButton)?e:D},[p.closeButton,D]),ep=q.default.useMemo(()=>p.duration||R||4e3,[p.duration,R]),ef=q.default.useRef(0),eg=q.default.useRef(0),ev=q.default.useRef(0),ej=q.default.useRef(null),[ey,eb]=O.split("-"),eN=q.default.useMemo(()=>y.reduce((e,t,r)=>r>=eh?e:e+t.height,0),[y,eh]),ew=(()=>{let[e,t]=q.default.useState(document.hidden);return q.default.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),eC=p.invert||x,eS="loading"===ec;eg.current=q.default.useMemo(()=>eh*I+eN,[eh,eN]),q.default.useEffect(()=>{ea.current=ep},[ep]),q.default.useEffect(()=>{W(!0)},[]),q.default.useEffect(()=>{let e=ei.current;if(e){let t=e.getBoundingClientRect().height;return es(t),v(e=>[{toastId:p.id,height:t,position:p.position},...e]),()=>v(e=>e.filter(e=>e.toastId!==p.id))}},[v,p.id]),q.default.useLayoutEffect(()=>{if(!V)return;let e=ei.current,t=e.style.height;e.style.height="auto";let r=e.getBoundingClientRect().height;e.style.height=t,es(r),v(e=>e.find(e=>e.toastId===p.id)?e.map(e=>e.toastId===p.id?{...e,height:r}:e):[{toastId:p.id,height:r,position:p.position},...e])},[V,p.title,p.description,v,p.id,p.jsx,p.action,p.cancel]);let eD=q.default.useCallback(()=>{Y(!0),et(eg.current),v(e=>e.filter(e=>e.toastId!==p.id)),setTimeout(()=>{C(p)},200)},[p,C,v,eg]);q.default.useEffect(()=>{let e;if((!p.promise||"loading"!==ec)&&p.duration!==1/0&&"loading"!==p.type){if(w||g||ew){if(ev.current<ef.current){let e=new Date().getTime()-ef.current;ea.current=ea.current-e}ev.current=new Date().getTime()}else ea.current!==1/0&&(ef.current=new Date().getTime(),e=setTimeout(()=>{null==p.onAutoClose||p.onAutoClose.call(p,p),eD()},ea.current));return()=>clearTimeout(e)}},[w,g,p,ec,ew,eD]),q.default.useEffect(()=>{p.delete&&(eD(),null==p.onDismiss||p.onDismiss.call(p,p))},[eD,p.delete]);let eP=p.icon||(null==B?void 0:B[ec])||(e=>{switch(e){case"success":return lr;case"info":return la;case"warning":return ls;case"error":return ln;default:return null}})(ec);return q.default.createElement("li",{tabIndex:0,ref:ei,className:lm(A,eu,null==T?void 0:T.toast,null==p||null==(t=p.classNames)?void 0:t.toast,null==T?void 0:T.default,null==T?void 0:T[ec],null==p||null==(r=p.classNames)?void 0:r[ec]),"data-sonner-toast":"","data-rich-colors":null!=(d=p.richColors)?d:S,"data-styled":!(p.jsx||p.unstyled||f),"data-mounted":V,"data-promise":!!p.promise,"data-swiped":Q,"data-removed":H,"data-visible":eo,"data-y-position":ey,"data-x-position":eb,"data-index":b,"data-front":el,"data-swiping":G,"data-dismissible":ed,"data-type":ec,"data-invert":eC,"data-swipe-out":K,"data-swipe-direction":U,"data-expanded":!!(w||M&&V),style:{"--index":b,"--toasts-before":b,"--z-index":N.length-b,"--offset":`${H?ee:eg.current}px`,"--initial-height":M?"auto":`${er}px`,...P,...p.style},onDragEnd:()=>{X(!1),z(null),ej.current=null},onPointerDown:e=>{2===e.button||eS||!ed||(en.current=new Date,et(eg.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(X(!0),ej.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,r,s,a;if(K||!ed)return;ej.current=null;let n=Number((null==(e=ei.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),i=Number((null==(t=ei.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),l=new Date().getTime()-(null==(r=en.current)?void 0:r.getTime()),o="x"===L?n:i,c=Math.abs(o)/l;if(Math.abs(o)>=45||c>.11){et(eg.current),null==p.onDismiss||p.onDismiss.call(p,p),"x"===L?$(n>0?"right":"left"):$(i>0?"down":"up"),eD(),Z(!0);return}null==(s=ei.current)||s.style.setProperty("--swipe-amount-x","0px"),null==(a=ei.current)||a.style.setProperty("--swipe-amount-y","0px"),J(!1),X(!1),z(null)},onPointerMove:t=>{var r,s,a,n;if(!ej.current||!ed||(null==(r=window.getSelection())?void 0:r.toString().length)>0)return;let i=t.clientY-ej.current.y,l=t.clientX-ej.current.x,o=null!=(n=e.swipeDirections)?n:function(e){let[t,r]=e.split("-"),s=[];return t&&s.push(t),r&&s.push(r),s}(O);!L&&(Math.abs(l)>1||Math.abs(i)>1)&&z(Math.abs(l)>Math.abs(i)?"x":"y");let c={x:0,y:0},d=e=>1/(1.5+Math.abs(e)/20);if("y"===L){if(o.includes("top")||o.includes("bottom"))if(o.includes("top")&&i<0||o.includes("bottom")&&i>0)c.y=i;else{let e=i*d(i);c.y=Math.abs(e)<Math.abs(i)?e:i}}else if("x"===L&&(o.includes("left")||o.includes("right")))if(o.includes("left")&&l<0||o.includes("right")&&l>0)c.x=l;else{let e=l*d(l);c.x=Math.abs(e)<Math.abs(l)?e:l}(Math.abs(c.x)>0||Math.abs(c.y)>0)&&J(!0),null==(s=ei.current)||s.style.setProperty("--swipe-amount-x",`${c.x}px`),null==(a=ei.current)||a.style.setProperty("--swipe-amount-y",`${c.y}px`)}},ex&&!p.jsx&&"loading"!==ec?q.default.createElement("button",{"aria-label":_,"data-disabled":eS,"data-close-button":!0,onClick:eS||!ed?()=>{}:()=>{eD(),null==p.onDismiss||p.onDismiss.call(p,p)},className:lm(null==T?void 0:T.closeButton,null==p||null==(s=p.classNames)?void 0:s.closeButton)},null!=(u=null==B?void 0:B.close)?u:li):null,(ec||p.icon||p.promise)&&null!==p.icon&&((null==B?void 0:B[ec])!==null||p.icon)?q.default.createElement("div",{"data-icon":"",className:lm(null==T?void 0:T.icon,null==p||null==(a=p.classNames)?void 0:a.icon)},p.promise||"loading"===p.type&&!p.icon?p.icon||((null==B?void 0:B.loading)?q.default.createElement("div",{className:lm(null==T?void 0:T.loader,null==p||null==(h=p.classNames)?void 0:h.loader,"sonner-loader"),"data-visible":"loading"===ec},B.loading):q.default.createElement(lt,{className:lm(null==T?void 0:T.loader,null==p||null==(m=p.classNames)?void 0:m.loader),visible:"loading"===ec})):null,"loading"!==p.type?eP:null):null,q.default.createElement("div",{"data-content":"",className:lm(null==T?void 0:T.content,null==p||null==(n=p.classNames)?void 0:n.content)},q.default.createElement("div",{"data-title":"",className:lm(null==T?void 0:T.title,null==p||null==(i=p.classNames)?void 0:i.title)},p.jsx?p.jsx:"function"==typeof p.title?p.title():p.title),p.description?q.default.createElement("div",{"data-description":"",className:lm(F,em,null==T?void 0:T.description,null==p||null==(l=p.classNames)?void 0:l.description)},"function"==typeof p.description?p.description():p.description):null),q.default.isValidElement(p.cancel)?p.cancel:p.cancel&&lu(p.cancel)?q.default.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||k,onClick:e=>{!lu(p.cancel)||ed&&(null==p.cancel.onClick||p.cancel.onClick.call(p.cancel,e),eD())},className:lm(null==T?void 0:T.cancelButton,null==p||null==(o=p.classNames)?void 0:o.cancelButton)},p.cancel.label):null,q.default.isValidElement(p.action)?p.action:p.action&&lu(p.action)?q.default.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||E,onClick:e=>{!lu(p.action)||(null==p.action.onClick||p.action.onClick.call(p.action,e),e.defaultPrevented||eD())},className:lm(null==T?void 0:T.actionButton,null==p||null==(c=p.classNames)?void 0:c.actionButton)},p.action.label):null)};function lx(){if("u"<typeof window||"u"<typeof document)return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}let lp=q.default.forwardRef(function(e,t){let{invert:r,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:n,closeButton:i,className:l,offset:o,mobileOffset:c,theme:d="light",richColors:u,duration:m,style:h,visibleToasts:x=3,toastOptions:p,dir:f=lx(),gap:g=14,icons:v,containerAriaLabel:j="Notifications"}=e,[y,b]=q.default.useState([]),N=q.default.useMemo(()=>Array.from(new Set([s].concat(y.filter(e=>e.position).map(e=>e.position)))),[y,s]),[w,C]=q.default.useState([]),[S,D]=q.default.useState(!1),[P,k]=q.default.useState(!1),[E,A]=q.default.useState("system"!==d?d:"u">typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=q.default.useRef(null),R=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=q.default.useRef(null),I=q.default.useRef(!1),M=q.default.useCallback(e=>{b(t=>{var r;return(null==(r=t.find(t=>t.id===e.id))?void 0:r.delete)||lo.dismiss(e.id),t.filter(({id:t})=>t!==e.id)})},[]);return q.default.useEffect(()=>lo.subscribe(e=>{e.dismiss?requestAnimationFrame(()=>{b(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t))}):setTimeout(()=>{tD.default.flushSync(()=>{b(t=>{let r=t.findIndex(t=>t.id===e.id);return -1!==r?[...t.slice(0,r),{...t[r],...e},...t.slice(r+1)]:[e,...t]})})})}),[y]),q.default.useEffect(()=>{if("system"!==d)return void A(d);if("system"===d&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),"u"<typeof window)return;let e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{e?A("dark"):A("light")})}catch(t){e.addListener(({matches:e})=>{try{e?A("dark"):A("light")}catch(e){console.error(e)}})}},[d]),q.default.useEffect(()=>{y.length<=1&&D(!1)},[y]),q.default.useEffect(()=>{let e=e=>{var t,r;a.every(t=>e[t]||e.code===t)&&(D(!0),null==(r=F.current)||r.focus()),"Escape"===e.code&&(document.activeElement===F.current||(null==(t=F.current)?void 0:t.contains(document.activeElement)))&&D(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[a]),q.default.useEffect(()=>{if(F.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,I.current=!1)}},[F.current]),q.default.createElement("section",{ref:t,"aria-label":`${j} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((t,s)=>{var a;let d,[j,b]=t.split("-");return y.length?q.default.createElement("ol",{key:t,dir:"auto"===f?lx():f,tabIndex:-1,ref:F,className:l,"data-sonner-toaster":!0,"data-sonner-theme":E,"data-y-position":j,"data-x-position":b,style:{"--front-toast-height":`${(null==(a=w[0])?void 0:a.height)||0}px`,"--width":"356px","--gap":`${g}px`,...h,...(d={},[o,c].forEach((e,t)=>{let r=1===t,s=r?"--mobile-offset":"--offset",a=r?"16px":"24px";function n(e){["top","right","bottom","left"].forEach(t=>{d[`${s}-${t}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?n(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?d[`${s}-${t}`]=a:d[`${s}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]}):n(a)}),d)},onBlur:e=>{I.current&&!e.currentTarget.contains(e.relatedTarget)&&(I.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:e=>{!(e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible)&&(I.current||(I.current=!0,O.current=e.relatedTarget))},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{P||D(!1)},onDragEnd:()=>D(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||k(!0)},onPointerUp:()=>k(!1)},y.filter(e=>!e.position&&0===s||e.position===t).map((s,a)=>{var l,o;return q.default.createElement(lh,{key:s.id,icons:v,index:a,toast:s,defaultRichColors:u,duration:null!=(l=null==p?void 0:p.duration)?l:m,className:null==p?void 0:p.className,descriptionClassName:null==p?void 0:p.descriptionClassName,invert:r,visibleToasts:x,closeButton:null!=(o=null==p?void 0:p.closeButton)?o:i,interacting:P,position:t,style:null==p?void 0:p.style,unstyled:null==p?void 0:p.unstyled,classNames:null==p?void 0:p.classNames,cancelButtonStyle:null==p?void 0:p.cancelButtonStyle,actionButtonStyle:null==p?void 0:p.actionButtonStyle,closeButtonAriaLabel:null==p?void 0:p.closeButtonAriaLabel,removeToast:M,toasts:y.filter(e=>e.position==s.position),heights:w.filter(e=>e.position==s.position),setHeights:C,expandByDefault:n,gap:g,expanded:S,swipeDirections:e.swipeDirections})})):null}))}),lf=({...e})=>{var t;let{theme:r="system"}=null!=(t=q.useContext(i7))?t:i9;return(0,z.jsx)(lp,{theme:r,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})},lg=Y("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]),lv=Y("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),lj=Y("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),ly=Y("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);var lb=q.forwardRef((e,t)=>(0,z.jsx)(tP.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));function lN({className:e,...t}){return(0,z.jsx)(lb,{"data-slot":"label",className:tj("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function lw({onLogin:e,onNavigateToRegister:t,onNavigateToForgotPassword:r,callbackUrl:s="/"}){let[a,n]=(0,q.useState)(""),[i,l]=(0,q.useState)(""),[o,c]=(0,q.useState)(!1),[d,u]=(0,q.useState)(!1),[m,h]=(0,q.useState)(""),x=async t=>{if(t.preventDefault(),h(""),!a||!i)return void ld.error("Please enter both email and password");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a))return void ld.error("Please enter a valid email address");u(!0);try{let t=await (0,U.signIn)("credentials",{email:a,password:i,redirect:!1,callbackUrl:s});if(t?.error){h("Invalid email or password. Please try again."),u(!1);return}t?.ok&&(ld.success("Welcome!"),e&&e("authenticated"),window.location.href=s)}catch{h("An error occurred. Please try again."),u(!1)}};return(0,z.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#F15929] via-[#F15929] to-[#D14820] flex items-center justify-center p-4",children:(0,z.jsxs)("div",{className:"w-full max-w-md",children:[(0,z.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[(0,z.jsx)("div",{className:"flex justify-center mb-8",children:(0,z.jsx)("div",{className:"w-16 h-16 bg-[#F15929] rounded-xl flex items-center justify-center",children:(0,z.jsx)(ly,{className:"h-8 w-8 text-white"})})}),(0,z.jsxs)("div",{className:"text-center mb-8",children:[(0,z.jsx)("h1",{className:"text-[#231F20] mb-2",children:"Power Metal & Steel"}),(0,z.jsx)("p",{className:"text-[#6B7280]",children:"Sign in to your account"})]}),(0,z.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[m&&(0,z.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg flex items-start gap-2 animate-in fade-in slide-in-from-top-2 duration-300",children:[(0,z.jsx)("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,z.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,z.jsx)("span",{className:"text-sm",children:m})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"email",className:"text-[#374151]",children:"Email Address"}),(0,z.jsx)(tN,{id:"email",type:"email",placeholder:"Enter your email",value:a,onChange:e=>{n(e.target.value),h("")},className:"h-12 border-[#D1D5DB] focus:border-[#F15929] focus:ring-[#F15929]",disabled:d})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"password",className:"text-[#374151]",children:"Password"}),(0,z.jsxs)("div",{className:"relative",children:[(0,z.jsx)(tN,{id:"password",type:o?"text":"password",placeholder:"Enter your password",value:i,onChange:e=>{l(e.target.value),h("")},className:"h-12 border-[#D1D5DB] focus:border-[#F15929] focus:ring-[#F15929] pr-12",disabled:d}),(0,z.jsx)("button",{type:"button",onClick:()=>c(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280] hover:text-[#374151]",tabIndex:-1,children:o?(0,z.jsx)(lj,{className:"h-5 w-5"}):(0,z.jsx)(lv,{className:"h-5 w-5"})})]})]}),(0,z.jsx)("div",{className:"flex justify-end",children:(0,z.jsx)("button",{type:"button",className:"text-sm text-[#F15929] hover:text-[#D14820] hover:underline",onClick:r||(()=>ld.info("Please contact administrator to reset your password")),children:"Forgot Password?"})}),(0,z.jsx)(tb,{type:"submit",className:"w-full h-12 bg-[#F15929] hover:bg-[#D14820] text-white",disabled:d,children:d?(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Signing in..."]}):(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(lg,{className:"mr-2 h-5 w-5"}),"Sign In"]})})]}),(0,z.jsxs)("div",{className:"mt-8 p-4 bg-[#F3F4F6] rounded-lg",children:[(0,z.jsx)("p",{className:"text-xs text-[#6B7280] mb-2",children:"Super Admin Credentials:"}),(0,z.jsxs)("div",{className:"text-xs text-[#374151] space-y-1",children:[(0,z.jsx)("p",{children:" superadmin@powermetalsteel.com"}),(0,z.jsx)("p",{className:"mt-2 text-[#6B7280]",children:"Password: SuperAdmin@2024!"})]})]}),(0,z.jsx)("div",{className:"mt-6 text-center",children:(0,z.jsxs)("p",{className:"text-sm text-[#6B7280]",children:["Don't have an account?"," ",(0,z.jsx)("button",{type:"button",onClick:t,className:"text-[#F15929] hover:text-[#D14820] hover:underline",children:"Sign up"})]})})]}),(0,z.jsx)("div",{className:"text-center mt-6 text-white text-sm",children:" 2025 Power Metal & Steel. All rights reserved."})]})})}lb.displayName="Label";let lC=Y("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);function lS(e){let t=q.useRef({value:e,previous:e});return q.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var lD="Checkbox",[lP,lk]=tw(lD),[lE,lA]=lP(lD);function lF(e){let{__scopeCheckbox:t,checked:r,children:s,defaultChecked:a,disabled:n,form:i,name:l,onCheckedChange:o,required:c,value:d="on",internal_do_not_use_render:u}=e,[m,h]=tW({prop:r,defaultProp:a??!1,onChange:o,caller:lD}),[x,p]=q.useState(null),[f,g]=q.useState(null),v=q.useRef(!1),j=!x||!!i||!!x.closest("form"),y={checked:m,disabled:n,setChecked:h,control:x,setControl:p,name:l,form:i,value:d,hasConsumerStoppedPropagationRef:v,required:c,defaultChecked:!lL(a)&&a,isFormControl:j,bubbleInput:f,setBubbleInput:g};return(0,z.jsx)(lE,{scope:t,...y,children:"function"==typeof u?u(y):s})}var lR="CheckboxTrigger",lO=q.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...s},a)=>{let{control:n,value:i,disabled:l,checked:o,required:c,setControl:d,setChecked:u,hasConsumerStoppedPropagationRef:m,isFormControl:h,bubbleInput:x}=lA(lR,e),p=eN(a,d),f=q.useRef(o);return q.useEffect(()=>{let e=n?.form;if(e){let t=()=>u(f.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[n,u]),(0,z.jsx)(tP.button,{type:"button",role:"checkbox","aria-checked":lL(o)?"mixed":o,"aria-required":c,"data-state":lz(o),"data-disabled":l?"":void 0,disabled:l,value:i,...s,ref:p,onKeyDown:t$(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:t$(r,e=>{u(e=>!!lL(e)||!e),x&&h&&(m.current=e.isPropagationStopped(),m.current||e.stopPropagation())})})});lO.displayName=lR;var lI=q.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:s,checked:a,defaultChecked:n,required:i,disabled:l,value:o,onCheckedChange:c,form:d,...u}=e;return(0,z.jsx)(lF,{__scopeCheckbox:r,checked:a,defaultChecked:n,disabled:l,required:i,onCheckedChange:c,name:s,form:d,value:o,internal_do_not_use_render:({isFormControl:e})=>(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(lO,{...u,ref:t,__scopeCheckbox:r}),e&&(0,z.jsx)(l_,{__scopeCheckbox:r})]})})});lI.displayName=lD;var lM="CheckboxIndicator",lT=q.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:s,...a}=e,n=lA(lM,r);return(0,z.jsx)(sU,{present:s||lL(n.checked)||!0===n.checked,children:(0,z.jsx)(tP.span,{"data-state":lz(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});lT.displayName=lM;var lB="CheckboxBubbleInput",l_=q.forwardRef(({__scopeCheckbox:e,...t},r)=>{let{control:s,hasConsumerStoppedPropagationRef:a,checked:n,defaultChecked:i,required:l,disabled:o,name:c,value:d,form:u,bubbleInput:m,setBubbleInput:h}=lA(lB,e),x=eN(r,h),p=lS(n),f=sN(s);q.useEffect(()=>{if(!m)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!a.current;if(p!==n&&e){let r=new Event("click",{bubbles:t});m.indeterminate=lL(n),e.call(m,!lL(n)&&n),m.dispatchEvent(r)}},[m,p,n,a]);let g=q.useRef(!lL(n)&&n);return(0,z.jsx)(tP.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??g.current,required:l,disabled:o,name:c,value:d,form:u,...t,tabIndex:-1,ref:x,style:{...t.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function lL(e){return"indeterminate"===e}function lz(e){return lL(e)?"indeterminate":e?"checked":"unchecked"}function lq({className:e,...t}){return(0,z.jsx)(lI,{"data-slot":"checkbox",className:tj("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,z.jsx)(lT,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,z.jsx)(nQ,{className:"size-3.5"})})})}l_.displayName=lB;let lU=eA("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function l$({className:e,variant:t,...r}){return(0,z.jsx)("div",{"data-slot":"alert",role:"alert",className:tj(lU({variant:t}),e),...r})}function lV({className:e,...t}){return(0,z.jsx)("div",{"data-slot":"alert-description",className:tj("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}function lW({onLogin:e,onNavigateToRegister:t,onBack:r}){let[s,a]=(0,q.useState)(""),[n,i]=(0,q.useState)(""),[l,o]=(0,q.useState)(!1),[c,d]=(0,q.useState)(!1),[u,m]=(0,q.useState)(""),[h,x]=(0,q.useState)(!1),p=async t=>{t.preventDefault(),m(""),x(!0),setTimeout(()=>{s&&"1234"===n?s.includes("admin")?e("admin"):s.includes("sales")?e("sales"):s.includes("finance")?e("finance"):s.includes("production")?e("production"):s.includes("operations")?e("operations"):s.includes("vendor")?e("vendor"):e("admin"):(m("Please check your email and password (use 1234)"),x(!1))},1e3)};return(0,z.jsx)("div",{className:"min-h-screen w-full bg-gradient-to-br from-[#1E40AF] to-[#1E3A8A] flex items-center justify-center p-4 bg-[rgba(0,0,0,0)]",children:(0,z.jsxs)("div",{className:"w-full max-w-[440px] bg-white rounded-2xl shadow-2xl p-10",children:[(0,z.jsxs)("button",{onClick:r,className:"flex items-center gap-2 text-[#6B7280] hover:text-[#374151] mb-6",children:[(0,z.jsx)(lC,{className:"h-4 w-4"}),"Back"]}),(0,z.jsx)("div",{className:"flex justify-center mb-8",children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)("div",{className:"w-11 h-11 bg-[#F15929] rounded-lg flex items-center justify-center",children:(0,z.jsx)(ly,{className:"h-6 w-6 text-white"})}),(0,z.jsx)("span",{className:"text-[#231F20]",children:"Staff Portal"})]})}),(0,z.jsxs)("div",{className:"text-center mb-8",children:[(0,z.jsx)("h1",{className:"text-[#231F20] mb-2",children:"Welcome Back!"}),(0,z.jsx)("p",{className:"text-[#374151]",children:"Sign in to your staff account"})]}),u&&(0,z.jsxs)(l$,{className:"mb-6 border-[#DC2626] bg-[#FEE2E2]",children:[(0,z.jsx)(ej,{className:"h-4 w-4 text-[#DC2626]"}),(0,z.jsx)(lV,{className:"text-[#DC2626]",children:u})]}),(0,z.jsxs)("form",{onSubmit:p,className:"space-y-6",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"email",children:"Email Address"}),(0,z.jsx)(tN,{id:"email",type:"email",placeholder:"user@company.com",value:s,onChange:e=>a(e.target.value),className:"h-10 border-[#D1D5DB] focus:border-[#F15929] focus:ring-2 focus:ring-[#F15929]/20"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"password",children:"Password"}),(0,z.jsxs)("div",{className:"relative",children:[(0,z.jsx)(tN,{id:"password",type:l?"text":"password",placeholder:"",value:n,onChange:e=>i(e.target.value),className:"h-10 pr-10 border-[#D1D5DB] focus:border-[#F15929] focus:ring-2 focus:ring-[#F15929]/20"}),(0,z.jsx)("button",{type:"button",onClick:()=>o(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280] hover:text-[#374151]",children:l?(0,z.jsx)(lj,{className:"h-4 w-4"}):(0,z.jsx)(lv,{className:"h-4 w-4"})})]})]}),(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,z.jsx)(lq,{id:"remember",checked:c,onCheckedChange:e=>d(e)}),(0,z.jsx)(lN,{htmlFor:"remember",className:"text-[14px] cursor-pointer",children:"Remember me"})]}),(0,z.jsx)("button",{type:"button",className:"text-[14px] text-[#F15929] hover:text-[#D94E23]",children:"Forgot password?"})]}),(0,z.jsx)(tb,{type:"submit",className:"w-full h-12 bg-[#F15929] hover:bg-[#D94E23] text-white rounded-lg",disabled:h,children:h?"Signing in...":"SIGN IN"})]}),(0,z.jsxs)("div",{className:"relative my-6",children:[(0,z.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,z.jsx)("div",{className:"w-full border-t border-[#E5E7EB]"})}),(0,z.jsx)("div",{className:"relative flex justify-center text-[14px]",children:(0,z.jsx)("span",{className:"px-2 bg-white text-[#6B7280]",children:"or continue with"})})]}),(0,z.jsxs)(tb,{variant:"outline",className:"w-full h-12 border-[#D1D5DB] hover:bg-[#F3F4F6] rounded-lg",children:[(0,z.jsx)(ly,{className:"mr-2 h-5 w-5"}),"SSO - Company Portal"]}),(0,z.jsxs)("p",{className:"text-center mt-6 text-[14px] text-[#374151]",children:["Don't have an account?"," ",(0,z.jsx)("button",{type:"button",onClick:t,className:"text-[#1E40AF] hover:text-[#1E3A8A]",children:"Sign up"})]}),(0,z.jsxs)("div",{className:"mt-8 p-4 bg-[#EFF6FF] rounded-lg border border-[#DBEAFE]",children:[(0,z.jsx)("p",{className:"text-[12px] text-[#1E40AF] mb-2",children:"Demo credentials:"}),(0,z.jsxs)("div",{className:"space-y-1 text-[12px] text-[#1E3A8A]",children:[(0,z.jsx)("p",{children:" admin@company.com (Admin)"}),(0,z.jsx)("p",{children:" sales@company.com (Sales)"}),(0,z.jsx)("p",{children:" finance@company.com (Finance)"}),(0,z.jsx)("p",{children:" Password: 1234"})]})]})]})})}function lH({onLogin:e,onNavigateToRegister:t,onBack:r}){let[s,a]=(0,q.useState)(""),[n,i]=(0,q.useState)(""),[l,o]=(0,q.useState)(!1),[c,d]=(0,q.useState)(!1),[u,m]=(0,q.useState)(""),[h,x]=(0,q.useState)(!1),p=async t=>{t.preventDefault(),m(""),x(!0),setTimeout(()=>{s&&"1234"===n?e():(m("Please check your email and password (use 1234)"),x(!1))},1e3)};return(0,z.jsx)("div",{className:"min-h-screen w-full bg-gradient-to-br from-[#059669] to-[#047857] flex items-center justify-center p-4",children:(0,z.jsxs)("div",{className:"w-full max-w-[440px] bg-white rounded-2xl shadow-2xl p-10",children:[(0,z.jsxs)("button",{onClick:r,className:"flex items-center gap-2 text-[#6B7280] hover:text-[#374151] mb-6",children:[(0,z.jsx)(lC,{className:"h-4 w-4"}),"Back"]}),(0,z.jsx)("div",{className:"flex justify-center mb-8",children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)("div",{className:"w-11 h-11 bg-[#059669] rounded-lg flex items-center justify-center",children:(0,z.jsx)(el,{className:"h-6 w-6 text-white"})}),(0,z.jsx)("span",{className:"text-[#111827]",children:"Customer Portal"})]})}),(0,z.jsxs)("div",{className:"text-center mb-8",children:[(0,z.jsx)("h1",{className:"text-[#111827] mb-2",children:"Welcome Back!"}),(0,z.jsx)("p",{className:"text-[#374151]",children:"Sign in to your customer account"})]}),u&&(0,z.jsxs)(l$,{className:"mb-6 border-[#DC2626] bg-[#FEE2E2]",children:[(0,z.jsx)(ej,{className:"h-4 w-4 text-[#DC2626]"}),(0,z.jsx)(lV,{className:"text-[#DC2626]",children:u})]}),(0,z.jsxs)("form",{onSubmit:p,className:"space-y-6",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"email",children:"Email Address"}),(0,z.jsx)(tN,{id:"email",type:"email",placeholder:"customer@email.com",value:s,onChange:e=>a(e.target.value),className:"h-10 border-[#D1D5DB] focus:border-[#059669] focus:ring-2 focus:ring-[#059669]/20"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"password",children:"Password"}),(0,z.jsxs)("div",{className:"relative",children:[(0,z.jsx)(tN,{id:"password",type:l?"text":"password",placeholder:"",value:n,onChange:e=>i(e.target.value),className:"h-10 pr-10 border-[#D1D5DB] focus:border-[#059669] focus:ring-2 focus:ring-[#059669]/20"}),(0,z.jsx)("button",{type:"button",onClick:()=>o(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280] hover:text-[#374151]",children:l?(0,z.jsx)(lj,{className:"h-4 w-4"}):(0,z.jsx)(lv,{className:"h-4 w-4"})})]})]}),(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,z.jsx)(lq,{id:"remember",checked:c,onCheckedChange:e=>d(e)}),(0,z.jsx)(lN,{htmlFor:"remember",className:"text-[14px] cursor-pointer",children:"Remember me"})]}),(0,z.jsx)("button",{type:"button",className:"text-[14px] text-[#059669] hover:text-[#047857]",children:"Forgot password?"})]}),(0,z.jsx)(tb,{type:"submit",className:"w-full h-12 bg-[#059669] hover:bg-[#047857] text-white rounded-lg",disabled:h,children:h?"Signing in...":"SIGN IN"})]}),(0,z.jsxs)("p",{className:"text-center mt-6 text-[14px] text-[#374151]",children:["Don't have an account?"," ",(0,z.jsx)("button",{type:"button",onClick:t,className:"text-[#059669] hover:text-[#047857]",children:"Sign up"})]}),(0,z.jsxs)("div",{className:"mt-8 p-4 bg-[#F0FDF4] rounded-lg border border-[#D1FAE5]",children:[(0,z.jsx)("p",{className:"text-[12px] text-[#047857] mb-2",children:"Demo credentials:"}),(0,z.jsxs)("div",{className:"space-y-1 text-[12px] text-[#065F46]",children:[(0,z.jsx)("p",{children:" Email: customer@demo.com"}),(0,z.jsx)("p",{children:" Password: 1234"})]})]})]})})}function lY({onSelectType:e,onBackToLogin:t}){return(0,z.jsx)("div",{className:"min-h-screen w-full bg-gradient-to-br from-[#059669] to-[#047857] flex items-center justify-center p-4",children:(0,z.jsxs)("div",{className:"w-full max-w-[600px] bg-white rounded-2xl shadow-2xl p-10",children:[(0,z.jsx)("div",{className:"flex justify-center mb-8",children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)("div",{className:"w-11 h-11 bg-[rgb(235,86,40)] rounded-lg flex items-center justify-center",children:(0,z.jsx)(ly,{className:"h-6 w-6 text-white"})}),(0,z.jsx)("span",{className:"text-[#111827]",children:"Power Metal & Steel"})]})}),(0,z.jsxs)("div",{className:"text-center mb-8",children:[(0,z.jsx)("h1",{className:"text-[#111827] mb-2",children:"Get Started"}),(0,z.jsx)("p",{className:"text-[#374151]",children:"Choose your account type"})]}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[(0,z.jsx)("button",{onClick:()=>e("internal"),className:"p-6 border-2 border-[#E5E7EB] rounded-xl hover:border-[#059669] hover:bg-[#F0FDF4] transition-all group",children:(0,z.jsxs)("div",{className:"flex flex-col items-center text-center space-y-3",children:[(0,z.jsx)("div",{className:"w-16 h-16 bg-[#F0FDF4] rounded-full flex items-center justify-center group-hover:bg-[#059669] transition-colors",children:(0,z.jsx)(ly,{className:"h-8 w-8 text-[#059669] group-hover:text-white"})}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h3",{className:"text-[#111827] mb-1",children:"Internal Team"}),(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Company employees"})]})]})}),(0,z.jsx)("button",{onClick:()=>e("customer"),className:"p-6 border-2 border-[#E5E7EB] rounded-xl hover:border-[#1E40AF] hover:bg-[#EFF6FF] transition-all group",children:(0,z.jsxs)("div",{className:"flex flex-col items-center text-center space-y-3",children:[(0,z.jsx)("div",{className:"w-16 h-16 bg-[#EFF6FF] rounded-full flex items-center justify-center group-hover:bg-[#1E40AF] transition-colors",children:(0,z.jsx)(G,{className:"h-8 w-8 text-[#1E40AF] group-hover:text-white"})}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h3",{className:"text-[#111827] mb-1",children:"Customer"}),(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Business or individual"})]})]})})]}),(0,z.jsx)("div",{className:"text-center mt-8",children:(0,z.jsxs)("p",{className:"text-[14px] text-[#374151]",children:["Already have an account?"," ",(0,z.jsx)("button",{type:"button",onClick:t,className:"text-[#059669] hover:text-[#047857]",children:"Sign in"})]})})]})})}let lG=Y("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),lX=Y("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),lK=Y("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);var lZ="Progress",[lQ,lJ]=tw(lZ),[l0,l1]=lQ(lZ),l2=q.forwardRef((e,t)=>{var r,s;let{__scopeProgress:a,value:n=null,max:i,getValueLabel:l=l6,...o}=e;(i||0===i)&&!l7(i)&&console.error((r=`${i}`,`Invalid prop \`max\` of value \`${r}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let c=l7(i)?i:100;null===n||l9(n,c)||console.error((s=`${n}`,`Invalid prop \`value\` of value \`${s}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let d=l9(n,c)?n:null,u=l8(d)?l(d,c):void 0;return(0,z.jsx)(l0,{scope:a,value:d,max:c,children:(0,z.jsx)(tP.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":l8(d)?d:void 0,"aria-valuetext":u,role:"progressbar","data-state":l3(d,c),"data-value":d??void 0,"data-max":c,...o,ref:t})})});l2.displayName=lZ;var l4="ProgressIndicator",l5=q.forwardRef((e,t)=>{let{__scopeProgress:r,...s}=e,a=l1(l4,r);return(0,z.jsx)(tP.div,{"data-state":l3(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});function l6(e,t){return`${Math.round(e/t*100)}%`}function l3(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function l8(e){return"number"==typeof e}function l7(e){return l8(e)&&!isNaN(e)&&e>0}function l9(e,t){return l8(e)&&!isNaN(e)&&e<=t&&e>=0}function oe({className:e,value:t,...r}){return(0,z.jsx)(l2,{"data-slot":"progress",className:tj("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...r,children:(0,z.jsx)(l5,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}function ot({className:e,...t}){return(0,z.jsx)("div",{"data-slot":"card",className:tj("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function or({className:e,...t}){return(0,z.jsx)("div",{"data-slot":"card-header",className:tj("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function os({className:e,...t}){return(0,z.jsx)("h4",{"data-slot":"card-title",className:tj("leading-none",e),...t})}function oa({className:e,...t}){return(0,z.jsx)("p",{"data-slot":"card-description",className:tj("text-muted-foreground",e),...t})}function on({className:e,...t}){return(0,z.jsx)("div",{"data-slot":"card-content",className:tj("px-6 [&:last-child]:pb-6",e),...t})}function oi({onBack:e,onComplete:t}){let[r,s]=(0,q.useState)(1),[a,n]=(0,q.useState)(!1),[i,l]=(0,q.useState)(!1),[o,c]=(0,q.useState)(""),[d,u]=(0,q.useState)(""),[m,h]=(0,q.useState)(!1),[x,p]=(0,q.useState)(0),[f,g]=(0,q.useState)(!0),[v,j]=(0,q.useState)({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",enable2FA:!1,twoFAMethod:"authenticator",agreeTerms:!1,agreePolicy:!1,agreeAccess:!1}),[y,b]=(0,q.useState)(0);(0,q.useEffect)(()=>{if(x>0){let e=setTimeout(()=>p(x-1),1e3);return()=>clearTimeout(e)}0!==x||f||g(!0)},[x,f]);let N=(e,t)=>{if(j({...v,[e]:t}),"password"===e){let e=0;t.length>=12&&(e+=25),/[a-z]/.test(t)&&/[A-Z]/.test(t)&&(e+=25),/[0-9]/.test(t)&&(e+=25),/[^a-zA-Z0-9]/.test(t)&&(e+=25),b(e)}},w=()=>{h(!0),setTimeout(()=>{h(!1),p(60),g(!1),u("")},1e3)};return(0,z.jsx)("div",{className:"min-h-screen w-full bg-gradient-to-br from-[#1E40AF] to-[#1E3A8A] flex items-center justify-center p-4",children:(0,z.jsxs)("div",{className:"w-full max-w-[520px] bg-white rounded-2xl shadow-2xl p-8",children:[(0,z.jsxs)("div",{className:"mb-6",children:[(0,z.jsxs)("button",{onClick:e,className:"flex items-center gap-2 text-[#6B7280] hover:text-[#374151] mb-4",children:[(0,z.jsx)(lC,{className:"h-4 w-4"}),"Back"]}),(0,z.jsx)("h2",{className:"text-[#111827] mb-2",children:"Internal Team Registration"}),(0,z.jsx)(oe,{value:r/3*100,className:"h-2 [&>div]:bg-[#1E3FA6]"}),(0,z.jsxs)("p",{className:"text-[12px] text-[#6B7280] mt-2",children:["Step ",r," of 3"]})]}),1===r&&(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("h3",{className:"text-[#111827] mb-4",children:"Personal Information"}),(0,z.jsx)("div",{className:"border-b border-[#E5E7EB] mb-4"})]}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"firstName",children:["First Name ",(0,z.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,z.jsx)(tN,{id:"firstName",value:v.firstName,onChange:e=>N("firstName",e.target.value),className:"h-10 border-[#D1D5DB]"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"lastName",children:["Last Name ",(0,z.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,z.jsx)(tN,{id:"lastName",value:v.lastName,onChange:e=>N("lastName",e.target.value),className:"h-10 border-[#D1D5DB]"})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"email",children:["Email Address ",(0,z.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,z.jsx)(tN,{id:"email",type:"email",value:v.email,onChange:e=>N("email",e.target.value),className:"h-10 border-[#D1D5DB]"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"phone",children:["Phone Number ",(0,z.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,z.jsx)(tN,{id:"phone",type:"tel",placeholder:"+60 12-345-6789",value:v.phone,onChange:e=>N("phone",e.target.value),className:"h-10 border-[#D1D5DB]"})]}),(0,z.jsx)("div",{className:"flex justify-end",children:(0,z.jsx)(tb,{onClick:()=>{w(),s(2)},className:"bg-[#1E40AF] hover:bg-[#1E3A8A] h-10 px-6",disabled:!v.email,children:"Next"})})]}),2===r&&(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("h3",{className:"text-[#111827] mb-4",children:"Email Verification"}),(0,z.jsx)("div",{className:"border-b border-[#E5E7EB] mb-4"})]}),(0,z.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,z.jsx)("p",{className:"text-sm text-blue-800 mb-2",children:(0,z.jsx)("strong",{children:"Demo Verification Code:"})}),(0,z.jsx)("p",{className:"text-2xl text-blue-900 tracking-wider",children:"123456"})]}),(0,z.jsx)("div",{className:"space-y-2",children:(0,z.jsxs)("p",{className:"text-sm text-[#6B7280]",children:["We've sent a verification code to ",(0,z.jsx)("strong",{children:v.email})]})}),d&&(0,z.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg flex items-start gap-2",children:[(0,z.jsx)("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,z.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,z.jsx)("span",{className:"text-sm",children:d})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"verificationCode",children:["Verification Code ",(0,z.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,z.jsxs)("div",{className:"relative",children:[(0,z.jsx)(tN,{id:"verificationCode",type:"text",placeholder:"Enter 6-digit code",value:o,onChange:e=>{c(e.target.value),u("")},maxLength:6,className:"h-12 border-[#D1D5DB] pl-12 text-center text-2xl tracking-widest"}),(0,z.jsx)(lK,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-[#6B7280]"})]})]}),(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsx)("p",{className:"text-sm text-[#6B7280]",children:"Didn't receive the code?"}),(0,z.jsx)(tb,{variant:"ghost",onClick:()=>{f&&w()},disabled:!f||m,className:"text-[#1E40AF] hover:text-[#1E3A8A] h-auto p-0",children:m?"Sending...":f?"Resend Code":`Resend in ${x}s`})]}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)(tb,{variant:"outline",onClick:()=>s(1),className:"h-10 px-6",children:"Back"}),(0,z.jsx)(tb,{onClick:()=>{"123456"===o?(u(""),s(3)):u("Invalid verification code. Please try again.")},className:"bg-[#1E40AF] hover:bg-[#1E3A8A] h-10 px-6",disabled:6!==o.length,children:"Verify & Continue"})]})]}),3===r&&(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("h3",{className:"text-[#111827] mb-4",children:"Security Settings"}),(0,z.jsx)("div",{className:"border-b border-[#E5E7EB] mb-4"})]}),(0,z.jsx)(ot,{className:"border-[#E5E7EB] bg-[#F9FAFB]",children:(0,z.jsxs)(on,{className:"pt-4",children:[(0,z.jsx)("p",{className:"text-[12px] text-[#374151] mb-2",children:"Password Requirements:"}),(0,z.jsxs)("ul",{className:"text-[12px] text-[#6B7280] space-y-1",children:[(0,z.jsx)("li",{children:" Minimum 12 characters"}),(0,z.jsx)("li",{children:" Upper & lowercase letters"}),(0,z.jsx)("li",{children:" Numbers & special characters"}),(0,z.jsx)("li",{children:" Not similar to personal info"})]})]})}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"password",children:"Password"}),(0,z.jsxs)("div",{className:"relative",children:[(0,z.jsx)(tN,{id:"password",type:a?"text":"password",value:v.password,onChange:e=>N("password",e.target.value),className:"h-10 pr-10 border-[#D1D5DB]"}),(0,z.jsx)("button",{type:"button",onClick:()=>n(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280]",children:a?(0,z.jsx)(lj,{className:"h-4 w-4"}):(0,z.jsx)(lv,{className:"h-4 w-4"})})]}),v.password&&(0,z.jsx)("div",{className:"space-y-1",children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)("div",{className:"flex-1 h-2 bg-[#E5E7EB] rounded-full overflow-hidden",children:(0,z.jsx)("div",{className:`h-full ${y<34?"bg-[#DC2626]":y<67?"bg-[#F59E0B]":y<90?"bg-[#059669]":"bg-[#047857]"} transition-all`,style:{width:`${y}%`}})}),(0,z.jsxs)("span",{className:"text-[12px] text-[#6B7280]",children:["Strength: ",y<34?"Weak":y<67?"Fair":y<90?"Good":"Excellent"," ",y,"%"]})]})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,z.jsxs)("div",{className:"relative",children:[(0,z.jsx)(tN,{id:"confirmPassword",type:i?"text":"password",value:v.confirmPassword,onChange:e=>N("confirmPassword",e.target.value),className:"h-10 pr-10 border-[#D1D5DB]"}),(0,z.jsx)("button",{type:"button",onClick:()=>l(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280]",children:i?(0,z.jsx)(lj,{className:"h-4 w-4"}):(0,z.jsx)(lv,{className:"h-4 w-4"})})]}),v.confirmPassword&&v.password===v.confirmPassword&&(0,z.jsxs)("p",{className:"text-[12px] text-[#059669] flex items-center gap-1",children:[(0,z.jsx)(lX,{className:"h-3 w-3"}),"Passwords match"]})]}),(0,z.jsxs)("div",{className:"space-y-3",children:[(0,z.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,z.jsx)(lq,{id:"agreeTerms",checked:v.agreeTerms,onCheckedChange:e=>N("agreeTerms",e)}),(0,z.jsx)(lN,{htmlFor:"agreeTerms",className:"cursor-pointer",children:"I agree to the terms and conditions"})]}),(0,z.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,z.jsx)(lq,{id:"agreePolicy",checked:v.agreePolicy,onCheckedChange:e=>N("agreePolicy",e)}),(0,z.jsx)(lN,{htmlFor:"agreePolicy",className:"cursor-pointer",children:"I accept the data privacy policy"})]}),(0,z.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,z.jsx)(lq,{id:"agreeAccess",checked:v.agreeAccess,onCheckedChange:e=>N("agreeAccess",e)}),(0,z.jsx)(lN,{htmlFor:"agreeAccess",className:"cursor-pointer",children:"I understand the access rules"})]})]}),(0,z.jsx)(ot,{className:"border-[#E5E7EB] bg-[#F9FAFB]",children:(0,z.jsxs)(on,{className:"pt-4",children:[(0,z.jsxs)("h4",{className:"text-[#111827] mb-2 flex items-center gap-2",children:[(0,z.jsx)(lG,{className:"h-4 w-4"}),"Approval Workflow"]}),(0,z.jsxs)("ol",{className:"text-[14px] text-[#6B7280] space-y-1 ml-6",children:[(0,z.jsx)("li",{children:"1. Manager approval required"}),(0,z.jsx)("li",{children:"2. IT department review"}),(0,z.jsx)("li",{children:"3. Account activation in 24-48h"})]})]})}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)(tb,{variant:"outline",onClick:()=>s(2),className:"h-10 px-6",children:"Back"}),(0,z.jsx)(tb,{onClick:t,className:"bg-[#1E40AF] hover:bg-[#1E3A8A] h-10 px-6",disabled:!v.agreeTerms||!v.agreePolicy||!v.agreeAccess,children:"Submit for Approval"})]})]})]})})}l5.displayName=l4;let ol=Y("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),oo=Y("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),oc=Y("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),od=Y("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),ou=Y("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);function om({onBack:e,onComplete:t}){let[r,s]=(0,q.useState)(null),[a,n]=(0,q.useState)(1),[i,l]=(0,q.useState)(1),[o,c]=(0,q.useState)({firstName:"",lastName:"",email:"",phone:"",tin:"",verificationCode:"",password:"",confirmPassword:"",icNumber:"",icFrontImage:null,icBackImage:null}),[d,u]=(0,q.useState)({firstName:"",lastName:"",email:"",phone:"",verificationCode:"",password:"",confirmPassword:"",brn:"",tin:""}),[m,h]=(0,q.useState)({}),[x,p]=(0,q.useState)({}),[f,g]=(0,q.useState)(0),[v,j]=(0,q.useState)(!1),y=()=>{g(60);let e=setInterval(()=>{g(t=>t<=1?(clearInterval(e),0):t-1)},1e3)},b=(e,t)=>{c({...o,[e]:t}),t&&h({...m,[e]:void 0})};return r?"business"===r?(0,z.jsx)("div",{className:"min-h-screen w-full bg-gradient-to-br from-[#1E40AF] to-[#1E3A8A] flex items-center justify-center p-4",children:(0,z.jsxs)("div",{className:"w-full max-w-[520px] bg-white rounded-2xl shadow-2xl p-8",children:[i<5&&(0,z.jsxs)("div",{className:"mb-8",children:[(0,z.jsx)("div",{className:"flex items-center justify-between mb-2",children:[1,2,3,4].map(e=>(0,z.jsxs)("div",{className:"flex items-center flex-1",children:[(0,z.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm ${i>=e?"bg-[#1E40AF] text-white":"bg-gray-200 text-gray-500"}`,children:e}),e<4&&(0,z.jsx)("div",{className:`flex-1 h-1 mx-2 ${i>e?"bg-[#1E40AF]":"bg-gray-200"}`})]},e))}),(0,z.jsx)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:["Info","Verify","Password","Business"].map((e,t)=>(0,z.jsxs)("div",{className:"flex items-center flex-1",children:[(0,z.jsx)("span",{className:"w-8 text-center",children:e}),t<3&&(0,z.jsx)("div",{className:"flex-1"})]},e))})]}),1===i&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("button",{onClick:()=>s(null),className:"flex items-center gap-2 text-[#6B7280] hover:text-[#374151] mb-6",children:[(0,z.jsx)(lC,{className:"h-4 w-4"}),"Back"]}),(0,z.jsxs)("div",{className:"mb-6",children:[(0,z.jsx)("h2",{className:"text-[#111827] mb-2",children:"Account Creator Information"}),(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Please provide your personal details"}),(0,z.jsx)("div",{className:"border-b border-[#E5E7EB] my-4"})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"businessFirstName",children:["First Name ",(0,z.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,z.jsx)(tN,{id:"businessFirstName",value:d.firstName,onChange:e=>u({...d,firstName:e.target.value}),className:`h-10 border-[#D1D5DB] ${x.firstName?"border-red-500":""}`}),x.firstName&&(0,z.jsx)("p",{className:"text-xs text-red-500",children:x.firstName})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"businessLastName",children:["Last Name ",(0,z.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,z.jsx)(tN,{id:"businessLastName",value:d.lastName,onChange:e=>u({...d,lastName:e.target.value}),className:`h-10 border-[#D1D5DB] ${x.lastName?"border-red-500":""}`}),x.lastName&&(0,z.jsx)("p",{className:"text-xs text-red-500",children:x.lastName})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"businessEmail",children:["Email Address ",(0,z.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,z.jsx)(tN,{id:"businessEmail",type:"email",value:d.email,onChange:e=>u({...d,email:e.target.value}),className:`h-10 border-[#D1D5DB] ${x.email?"border-red-500":""}`}),x.email&&(0,z.jsx)("p",{className:"text-xs text-red-500",children:x.email})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"businessPhone",children:["Phone Number ",(0,z.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,z.jsx)(tN,{id:"businessPhone",type:"tel",placeholder:"+60 12-345-6789",value:d.phone,onChange:e=>u({...d,phone:e.target.value}),className:`h-10 border-[#D1D5DB] ${x.phone?"border-red-500":""}`}),x.phone&&(0,z.jsx)("p",{className:"text-xs text-red-500",children:x.phone})]}),(0,z.jsx)("div",{className:"flex justify-end pt-4",children:(0,z.jsx)(tb,{type:"button",onClick:()=>{let e;e={},d.firstName.trim()||(e.firstName="First name is required"),d.lastName.trim()||(e.lastName="Last name is required"),d.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)||(e.email="Invalid email format"):e.email="Email is required",d.phone.trim()||(e.phone="Phone number is required"),p(e),0===Object.keys(e).length&&(l(2),j(!0),y())},className:"bg-[#1E40AF] hover:bg-[#1E3A8A] h-10 px-6",children:"Continue"})})]})]}),2===i&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:"mb-6",children:[(0,z.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,z.jsx)("div",{className:"w-16 h-16 bg-[#EFF6FF] rounded-full flex items-center justify-center",children:(0,z.jsx)(lK,{className:"h-8 w-8 text-[#1E40AF]"})})}),(0,z.jsx)("h2",{className:"text-[#111827] mb-2 text-center",children:"Verify Your Email"}),(0,z.jsxs)("p",{className:"text-sm text-gray-600 text-center",children:["We've sent a verification code to",(0,z.jsx)("br",{}),(0,z.jsx)("span",{className:"font-medium",children:d.email})]}),(0,z.jsx)("div",{className:"border-b border-[#E5E7EB] my-4"})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"businessVerificationCode",children:["Verification Code ",(0,z.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,z.jsx)(tN,{id:"businessVerificationCode",placeholder:"Enter 6-digit code",maxLength:6,value:d.verificationCode,onChange:e=>u({...d,verificationCode:e.target.value}),className:`h-10 border-[#D1D5DB] text-center text-lg tracking-widest ${x.verificationCode?"border-red-500":""}`}),x.verificationCode&&(0,z.jsxs)("div",{className:"flex items-center gap-2 text-xs text-red-500",children:[(0,z.jsx)(ej,{className:"h-4 w-4"}),(0,z.jsx)("span",{children:x.verificationCode})]})]}),(0,z.jsx)("div",{className:"flex items-center justify-center gap-2 text-sm",children:f>0?(0,z.jsxs)("div",{className:"flex items-center gap-2 text-gray-500",children:[(0,z.jsx)(od,{className:"h-4 w-4"}),(0,z.jsxs)("span",{children:["Resend code in ",f,"s"]})]}):(0,z.jsx)("button",{onClick:()=>{alert("Verification code resent to "+d.email),y()},className:"text-[#1E40AF] hover:text-[#1E3A8A] font-medium",children:"Resend Code"})}),(0,z.jsxs)("div",{className:"flex justify-between gap-3 pt-4",children:[(0,z.jsx)(tb,{type:"button",variant:"outline",onClick:()=>l(1),className:"h-10 px-6",children:"Back"}),(0,z.jsx)(tb,{type:"button",onClick:()=>{(d.verificationCode.trim()?"123456"!==d.verificationCode?(p({verificationCode:"Invalid verification code. Please try again."}),1):(p({}),0):(p({verificationCode:"Verification code is required"}),1))||l(3)},className:"bg-[#1E40AF] hover:bg-[#1E3A8A] h-10 px-6",children:"Verify Email"})]}),(0,z.jsxs)("p",{className:"text-xs text-center text-gray-500 pt-2",children:["Demo: Use code ",(0,z.jsx)("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"123456"})," to verify"]})]})]}),3===i&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:"mb-6",children:[(0,z.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,z.jsx)("div",{className:"w-16 h-16 bg-[#EFF6FF] rounded-full flex items-center justify-center",children:(0,z.jsx)(ou,{className:"h-8 w-8 text-[#1E40AF]"})})}),(0,z.jsx)("h2",{className:"text-[#111827] mb-2 text-center",children:"Set Your Password"}),(0,z.jsx)("p",{className:"text-sm text-gray-600 text-center",children:"Create a secure password for your account"}),(0,z.jsx)("div",{className:"border-b border-[#E5E7EB] my-4"})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"businessPassword",children:["Password ",(0,z.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,z.jsx)(tN,{id:"businessPassword",type:"password",placeholder:"At least 8 characters",value:d.password,onChange:e=>u({...d,password:e.target.value}),className:`h-10 border-[#D1D5DB] ${x.password?"border-red-500":""}`}),x.password&&(0,z.jsx)("p",{className:"text-xs text-red-500",children:x.password})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"businessConfirmPassword",children:["Confirm Password ",(0,z.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,z.jsx)(tN,{id:"businessConfirmPassword",type:"password",placeholder:"Re-enter your password",value:d.confirmPassword,onChange:e=>u({...d,confirmPassword:e.target.value}),className:`h-10 border-[#D1D5DB] ${x.confirmPassword?"border-red-500":""}`}),x.confirmPassword&&(0,z.jsx)("p",{className:"text-xs text-red-500",children:x.confirmPassword})]}),(0,z.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[(0,z.jsx)("p",{className:"text-xs text-gray-700 mb-2",children:"Password must contain:"}),(0,z.jsxs)("ul",{className:"text-xs text-gray-600 space-y-1",children:[(0,z.jsx)("li",{className:d.password.length>=8?"text-green-600":"",children:" At least 8 characters"}),(0,z.jsx)("li",{className:/[A-Z]/.test(d.password)?"text-green-600":"",children:" At least one uppercase letter"}),(0,z.jsx)("li",{className:/[a-z]/.test(d.password)?"text-green-600":"",children:" At least one lowercase letter"}),(0,z.jsx)("li",{className:/[0-9]/.test(d.password)?"text-green-600":"",children:" At least one number"}),(0,z.jsx)("li",{className:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(d.password)?"text-green-600":"",children:" At least one symbol"})]})]}),(0,z.jsxs)("div",{className:"flex justify-between gap-3 pt-4",children:[(0,z.jsx)(tb,{type:"button",variant:"outline",onClick:()=>l(2),className:"h-10 px-6",children:"Back"}),(0,z.jsx)(tb,{type:"button",onClick:()=>{let e;e={},d.password.trim()?d.password.length<8&&(e.password="Password must be at least 8 characters"):e.password="Password is required",d.confirmPassword.trim()?d.password!==d.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",p(e),0===Object.keys(e).length&&l(4)},className:"bg-[#1E40AF] hover:bg-[#1E3A8A] h-10 px-6",children:"Continue"})]})]})]}),4===i&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:"mb-6",children:[(0,z.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,z.jsx)("div",{className:"w-16 h-16 bg-[#EFF6FF] rounded-full flex items-center justify-center",children:(0,z.jsx)(K,{className:"h-8 w-8 text-[#1E40AF]"})})}),(0,z.jsx)("h2",{className:"text-[#111827] mb-2 text-center",children:"Business Details"}),(0,z.jsx)("p",{className:"text-sm text-gray-600 text-center",children:"Enter your company registration and tax information"}),(0,z.jsx)("div",{className:"border-b border-[#E5E7EB] my-4"})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"brn",children:["Business Registration Number (BRN) ",(0,z.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,z.jsx)(tN,{id:"brn",placeholder:"202201234565",value:d.brn,onChange:e=>u({...d,brn:e.target.value}),className:`h-10 border-[#D1D5DB] ${x.brn?"border-red-500":""}`}),(0,z.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-xs text-blue-900",children:[(0,z.jsx)("p",{className:"mb-2",children:"Format: YYYY-TT-NNNNNN (12 digits)"}),(0,z.jsxs)("ul",{className:"space-y-1 ml-2",children:[(0,z.jsx)("li",{children:" First 4 digits: Year of incorporation"}),(0,z.jsx)("li",{children:" Next 2 digits: Entity type (01-06)"}),(0,z.jsx)("li",{children:" Last 6 digits: Unique entity number"})]}),(0,z.jsx)("p",{className:"mt-2",children:"Example: 2022 01 234565"})]}),x.brn&&(0,z.jsx)("p",{className:"text-xs text-red-500",children:x.brn})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"businessTin",children:["Tax Identification Number (TIN) ",(0,z.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,z.jsx)(tN,{id:"businessTin",placeholder:"C123456789012",value:d.tin,onChange:e=>u({...d,tin:e.target.value.toUpperCase()}),className:`h-10 border-[#D1D5DB] ${x.tin?"border-red-500":""}`}),(0,z.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-xs text-blue-900",children:[(0,z.jsx)("p",{className:"mb-2",children:"Format: Prefix + 12 digits"}),(0,z.jsx)("p",{className:"mb-1",children:"Valid prefixes:"}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 ml-2",children:[(0,z.jsx)("span",{children:" C (Companies)"}),(0,z.jsx)("span",{children:" CS (Cooperative)"}),(0,z.jsx)("span",{children:" D (Partnerships)"}),(0,z.jsx)("span",{children:" E (Employers)"}),(0,z.jsx)("span",{children:" F (Associations)"}),(0,z.jsx)("span",{children:" FA (Entertainers)"}),(0,z.jsx)("span",{children:" PT (LLPs)"}),(0,z.jsx)("span",{children:" TA (Trust Bodies)"}),(0,z.jsx)("span",{children:" TC (Unit Trusts)"}),(0,z.jsx)("span",{children:" TN (Business Trusts)"}),(0,z.jsx)("span",{children:" TR (REITs)"}),(0,z.jsx)("span",{children:" TP (Estates)"}),(0,z.jsx)("span",{children:" J (Hindu Families)"}),(0,z.jsx)("span",{children:" LE (Labuan)"})]})]}),x.tin&&(0,z.jsx)("p",{className:"text-xs text-red-500",children:x.tin})]}),(0,z.jsxs)("div",{className:"flex justify-between gap-3 pt-4",children:[(0,z.jsx)(tb,{type:"button",variant:"outline",onClick:()=>l(3),className:"h-10 px-6",children:"Back"}),(0,z.jsx)(tb,{type:"button",onClick:()=>{let e;e={},d.brn.trim()?(e=>{let t=e.replace(/[\s-]/g,"");if(!/^\d{12}$/.test(t))return!1;let r=parseInt(t.substring(0,4)),s=t.substring(4,6);return!(r<1900||r>new Date().getFullYear())&&!!["01","02","03","04","05","06"].includes(s)})(d.brn)||(e.brn="Invalid BRN format. Must be 12 digits (YYYY-TT-NNNNNN)"):e.brn="Business Registration Number is required",d.tin.trim()?(e=>{let t=["C","CS","D","E","F","FA","PT","TA","TC","TN","TR","TP","J","LE"].find(t=>e.toUpperCase().startsWith(t));if(!t)return!1;let r=e.substring(t.length);return!!/^\d{12}$/.test(r)})(d.tin)||(e.tin="Invalid TIN format. Must be a valid prefix (C, CS, D, E, F, FA, PT, TA, TC, TN, TR, TP, J, LE) followed by 12 digits"):e.tin="Tax Identification Number is required",p(e),0===Object.keys(e).length&&l(5)},className:"bg-[#1E40AF] hover:bg-[#1E3A8A] h-10 px-6",children:"Submit Registration"})]})]})]}),5===i&&(0,z.jsxs)("div",{className:"text-center space-y-6",children:[(0,z.jsx)("div",{className:"flex items-center justify-center",children:(0,z.jsx)("div",{className:"w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center",children:(0,z.jsx)(od,{className:"h-10 w-10 text-yellow-600"})})}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h2",{className:"text-[#111827] mb-2",children:"Company Registration Pending Approval"}),(0,z.jsx)("p",{className:"text-gray-600",children:"Your company registration has been submitted and is now pending admin approval."})]}),(0,z.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-left",children:[(0,z.jsx)("h3",{className:"text-sm text-yellow-900 mb-2",children:"What happens next?"}),(0,z.jsxs)("ul",{className:"text-sm text-yellow-800 space-y-2",children:[(0,z.jsxs)("li",{className:"flex items-start gap-2",children:[(0,z.jsx)(oc,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),(0,z.jsx)("span",{children:"Our team will review your company registration details"})]}),(0,z.jsxs)("li",{className:"flex items-start gap-2",children:[(0,z.jsx)(oc,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),(0,z.jsx)("span",{children:"We'll verify your Business Registration Number and TIN"})]}),(0,z.jsxs)("li",{className:"flex items-start gap-2",children:[(0,z.jsx)(oc,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),(0,z.jsx)("span",{children:"You'll receive an email once approved (usually within 1-2 business days)"})]})]})]}),(0,z.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,z.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Registration Summary:"}),(0,z.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-left space-y-2 text-sm",children:[(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Account Creator:"}),(0,z.jsxs)("span",{className:"text-gray-900",children:[d.firstName," ",d.lastName]})]}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Email:"}),(0,z.jsx)("span",{className:"text-gray-900",children:d.email})]}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Phone:"}),(0,z.jsx)("span",{className:"text-gray-900",children:d.phone})]}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-gray-600",children:"BRN:"}),(0,z.jsx)("span",{className:"text-gray-900",children:d.brn})]}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-gray-600",children:"TIN:"}),(0,z.jsx)("span",{className:"text-gray-900",children:d.tin})]})]})]}),(0,z.jsx)(tb,{type:"button",onClick:t,className:"bg-[#1E40AF] hover:bg-[#1E3A8A] h-10 px-8",children:"Return to Login"})]})]})}):(0,z.jsx)("div",{className:"min-h-screen w-full bg-gradient-to-br from-[#059669] to-[#047857] flex items-center justify-center p-4",children:(0,z.jsxs)("div",{className:"w-full max-w-[520px] bg-white rounded-2xl shadow-2xl p-8",children:[a<5&&(0,z.jsxs)("div",{className:"mb-8",children:[(0,z.jsx)("div",{className:"flex items-center justify-between mb-2",children:[1,2,3,4].map(e=>(0,z.jsxs)("div",{className:"flex items-center flex-1",children:[(0,z.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm ${a>=e?"bg-[#059669] text-white":"bg-gray-200 text-gray-500"}`,children:e}),e<4&&(0,z.jsx)("div",{className:`flex-1 h-1 mx-2 ${a>e?"bg-[#059669]":"bg-gray-200"}`})]},e))}),(0,z.jsx)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:["Info","Verify","Password","ID"].map((e,t)=>(0,z.jsxs)("div",{className:"flex items-center flex-1",children:[(0,z.jsx)("span",{className:"w-8 text-center",children:e}),t<3&&(0,z.jsx)("div",{className:"flex-1"})]},e))})]}),1===a&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("button",{onClick:()=>s(null),className:"flex items-center gap-2 text-[#6B7280] hover:text-[#374151] mb-6",children:[(0,z.jsx)(lC,{className:"h-4 w-4"}),"Back"]}),(0,z.jsxs)("div",{className:"mb-6",children:[(0,z.jsx)("h2",{className:"text-[#111827] mb-2",children:"Individual Information"}),(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Please provide your personal details"}),(0,z.jsx)("div",{className:"border-b border-[#E5E7EB] my-4"})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"firstName",children:["First Name ",(0,z.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,z.jsx)(tN,{id:"firstName",value:o.firstName,onChange:e=>c({...o,firstName:e.target.value}),className:`h-10 border-[#D1D5DB] ${m.firstName?"border-red-500":""}`}),m.firstName&&(0,z.jsx)("p",{className:"text-xs text-red-500",children:m.firstName})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"lastName",children:["Last Name ",(0,z.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,z.jsx)(tN,{id:"lastName",value:o.lastName,onChange:e=>c({...o,lastName:e.target.value}),className:`h-10 border-[#D1D5DB] ${m.lastName?"border-red-500":""}`}),m.lastName&&(0,z.jsx)("p",{className:"text-xs text-red-500",children:m.lastName})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"email",children:["Email Address ",(0,z.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,z.jsx)(tN,{id:"email",type:"email",value:o.email,onChange:e=>c({...o,email:e.target.value}),className:`h-10 border-[#D1D5DB] ${m.email?"border-red-500":""}`}),m.email&&(0,z.jsx)("p",{className:"text-xs text-red-500",children:m.email})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"phone",children:["Phone Number ",(0,z.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,z.jsx)(tN,{id:"phone",type:"tel",placeholder:"+60 12-345-6789",value:o.phone,onChange:e=>c({...o,phone:e.target.value}),className:`h-10 border-[#D1D5DB] ${m.phone?"border-red-500":""}`}),m.phone&&(0,z.jsx)("p",{className:"text-xs text-red-500",children:m.phone})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"tin",children:["Tax Identification Number (TIN) ",(0,z.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,z.jsx)(tN,{id:"tin",placeholder:"IG123456789012",value:o.tin,onChange:e=>c({...o,tin:e.target.value.toUpperCase()}),className:`h-10 border-[#D1D5DB] ${m.tin?"border-red-500":""}`}),(0,z.jsx)("p",{className:"text-xs text-gray-500",children:"Format: IG followed by 12 digits"}),m.tin&&(0,z.jsx)("p",{className:"text-xs text-red-500",children:m.tin})]}),(0,z.jsx)("div",{className:"flex justify-end pt-4",children:(0,z.jsx)(tb,{type:"button",onClick:()=>{(()=>{let e={};if(o.firstName.trim()||(e.firstName="First name is required"),o.lastName.trim()||(e.lastName="Last name is required"),o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(e.email="Invalid email format"):e.email="Email is required",o.phone.trim()||(e.phone="Phone number is required"),o.tin.trim()){var t;t=o.tin,/^IG\d{12}$/.test(t)||(e.tin="TIN must be in format: IG followed by 12 digits (e.g., IG123456789012)")}else e.tin="TIN is required";return h(e),0===Object.keys(e).length})()&&(n(2),j(!0),y())},className:"bg-[#059669] hover:bg-[#047857] h-10 px-6",children:"Continue"})})]})]}),2===a&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:"mb-6",children:[(0,z.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,z.jsx)("div",{className:"w-16 h-16 bg-[#F0FDF4] rounded-full flex items-center justify-center",children:(0,z.jsx)(lK,{className:"h-8 w-8 text-[#059669]"})})}),(0,z.jsx)("h2",{className:"text-[#111827] mb-2 text-center",children:"Verify Your Email"}),(0,z.jsxs)("p",{className:"text-sm text-gray-600 text-center",children:["We've sent a verification code to",(0,z.jsx)("br",{}),(0,z.jsx)("span",{className:"font-medium",children:o.email})]}),(0,z.jsx)("div",{className:"border-b border-[#E5E7EB] my-4"})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"verificationCode",children:["Verification Code ",(0,z.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,z.jsx)(tN,{id:"verificationCode",placeholder:"Enter 6-digit code",maxLength:6,value:o.verificationCode,onChange:e=>c({...o,verificationCode:e.target.value}),className:`h-10 border-[#D1D5DB] text-center text-lg tracking-widest ${m.verificationCode?"border-red-500":""}`}),m.verificationCode&&(0,z.jsxs)("div",{className:"flex items-center gap-2 text-xs text-red-500",children:[(0,z.jsx)(ej,{className:"h-4 w-4"}),(0,z.jsx)("span",{children:m.verificationCode})]})]}),(0,z.jsx)("div",{className:"flex items-center justify-center gap-2 text-sm",children:f>0?(0,z.jsxs)("div",{className:"flex items-center gap-2 text-gray-500",children:[(0,z.jsx)(od,{className:"h-4 w-4"}),(0,z.jsxs)("span",{children:["Resend code in ",f,"s"]})]}):(0,z.jsx)("button",{onClick:()=>{0===f&&(alert("Verification code resent to "+o.email),y())},className:"text-[#059669] hover:text-[#047857] font-medium",children:"Resend Code"})}),(0,z.jsxs)("div",{className:"flex justify-between gap-3 pt-4",children:[(0,z.jsx)(tb,{type:"button",variant:"outline",onClick:()=>n(1),className:"h-10 px-6",children:"Back"}),(0,z.jsx)(tb,{type:"button",onClick:()=>{o.verificationCode.trim()?"123456"!==o.verificationCode?h({verificationCode:"Invalid verification code. Please try again."}):(h({}),n(3)):h({verificationCode:"Verification code is required"})},className:"bg-[#059669] hover:bg-[#047857] h-10 px-6",children:"Verify Email"})]}),(0,z.jsxs)("p",{className:"text-xs text-center text-gray-500 pt-2",children:["Demo: Use code ",(0,z.jsx)("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"123456"})," to verify"]})]})]}),3===a&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:"mb-6",children:[(0,z.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,z.jsx)("div",{className:"w-16 h-16 bg-[#F0FDF4] rounded-full flex items-center justify-center",children:(0,z.jsx)(ou,{className:"h-8 w-8 text-[#059669]"})})}),(0,z.jsx)("h2",{className:"text-[#111827] mb-2 text-center",children:"Set Your Password"}),(0,z.jsx)("p",{className:"text-sm text-gray-600 text-center",children:"Create a secure password for your account"}),(0,z.jsx)("div",{className:"border-b border-[#E5E7EB] my-4"})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"password",children:["Password ",(0,z.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,z.jsx)(tN,{id:"password",type:"password",placeholder:"At least 8 characters",value:o.password,onChange:e=>c({...o,password:e.target.value}),className:`h-10 border-[#D1D5DB] ${m.password?"border-red-500":""}`}),m.password&&(0,z.jsx)("p",{className:"text-xs text-red-500",children:m.password})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"confirmPassword",children:["Confirm Password ",(0,z.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,z.jsx)(tN,{id:"confirmPassword",type:"password",placeholder:"Re-enter your password",value:o.confirmPassword,onChange:e=>c({...o,confirmPassword:e.target.value}),className:`h-10 border-[#D1D5DB] ${m.confirmPassword?"border-red-500":""}`}),m.confirmPassword&&(0,z.jsx)("p",{className:"text-xs text-red-500",children:m.confirmPassword})]}),(0,z.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[(0,z.jsx)("p",{className:"text-xs text-gray-700 mb-2",children:"Password must contain:"}),(0,z.jsxs)("ul",{className:"text-xs text-gray-600 space-y-1",children:[(0,z.jsx)("li",{className:o.password.length>=8?"text-green-600":"",children:" At least 8 characters"}),(0,z.jsx)("li",{children:" Recommended: Mix of letters, numbers, and symbols"})]})]}),(0,z.jsxs)("div",{className:"flex justify-between gap-3 pt-4",children:[(0,z.jsx)(tb,{type:"button",variant:"outline",onClick:()=>n(2),className:"h-10 px-6",children:"Back"}),(0,z.jsx)(tb,{type:"button",onClick:()=>{let e={};o.password.trim()?o.password.length<8&&(e.password="Password must be at least 8 characters"):e.password="Password is required",o.confirmPassword.trim()?o.password!==o.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",h(e),0===Object.keys(e).length&&n(4)},className:"bg-[#059669] hover:bg-[#047857] h-10 px-6",children:"Continue"})]})]})]}),4===a&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:"mb-6",children:[(0,z.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,z.jsx)("div",{className:"w-16 h-16 bg-[#F0FDF4] rounded-full flex items-center justify-center",children:(0,z.jsx)(lG,{className:"h-8 w-8 text-[#059669]"})})}),(0,z.jsx)("h2",{className:"text-[#111827] mb-2 text-center",children:"Identity Verification"}),(0,z.jsx)("p",{className:"text-sm text-gray-600 text-center",children:"Upload your identification card for verification"}),(0,z.jsx)("div",{className:"border-b border-[#E5E7EB] my-4"})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"icNumber",children:["IC Number ",(0,z.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,z.jsx)(tN,{id:"icNumber",placeholder:"Enter your IC number",value:o.icNumber,onChange:e=>c({...o,icNumber:e.target.value}),className:`h-10 border-[#D1D5DB] ${m.icNumber?"border-red-500":""}`}),m.icNumber&&(0,z.jsx)("p",{className:"text-xs text-red-500",children:m.icNumber})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{children:["IC Front Image ",(0,z.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,z.jsxs)("div",{className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:border-[#059669] transition-colors ${m.icFrontImage?"border-red-500":"border-gray-300"}`,onClick:()=>document.getElementById("icFrontInput")?.click(),children:[(0,z.jsx)("input",{id:"icFrontInput",type:"file",accept:"image/*",className:"hidden",onChange:e=>b("icFrontImage",e.target.files?.[0]||null)}),o.icFrontImage?(0,z.jsxs)("div",{className:"flex items-center justify-center gap-2 text-green-600",children:[(0,z.jsx)(oc,{className:"h-5 w-5"}),(0,z.jsx)("span",{className:"text-sm",children:o.icFrontImage.name})]}):(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(oo,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Click to upload IC front image"}),(0,z.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 10MB"})]})]}),m.icFrontImage&&(0,z.jsx)("p",{className:"text-xs text-red-500",children:m.icFrontImage})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{children:["IC Back Image ",(0,z.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,z.jsxs)("div",{className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:border-[#059669] transition-colors ${m.icBackImage?"border-red-500":"border-gray-300"}`,onClick:()=>document.getElementById("icBackInput")?.click(),children:[(0,z.jsx)("input",{id:"icBackInput",type:"file",accept:"image/*",className:"hidden",onChange:e=>b("icBackImage",e.target.files?.[0]||null)}),o.icBackImage?(0,z.jsxs)("div",{className:"flex items-center justify-center gap-2 text-green-600",children:[(0,z.jsx)(oc,{className:"h-5 w-5"}),(0,z.jsx)("span",{className:"text-sm",children:o.icBackImage.name})]}):(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(oo,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Click to upload IC back image"}),(0,z.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 10MB"})]})]}),m.icBackImage&&(0,z.jsx)("p",{className:"text-xs text-red-500",children:m.icBackImage})]}),(0,z.jsxs)("div",{className:"flex justify-between gap-3 pt-4",children:[(0,z.jsx)(tb,{type:"button",variant:"outline",onClick:()=>n(3),className:"h-10 px-6",children:"Back"}),(0,z.jsx)(tb,{type:"button",onClick:()=>{let e={};o.icNumber.trim()||(e.icNumber="IC number is required"),o.icFrontImage||(e.icFrontImage="IC front image is required"),o.icBackImage||(e.icBackImage="IC back image is required"),h(e),0===Object.keys(e).length&&n(5)},className:"bg-[#059669] hover:bg-[#047857] h-10 px-6",children:"Submit Registration"})]})]})]}),5===a&&(0,z.jsxs)("div",{className:"text-center space-y-6",children:[(0,z.jsx)("div",{className:"flex items-center justify-center",children:(0,z.jsx)("div",{className:"w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center",children:(0,z.jsx)(od,{className:"h-10 w-10 text-yellow-600"})})}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h2",{className:"text-[#111827] mb-2",children:"Account Pending Approval"}),(0,z.jsx)("p",{className:"text-gray-600",children:"Thank you for registering! Your account is currently under review."})]}),(0,z.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-left",children:[(0,z.jsx)("h3",{className:"text-sm text-yellow-900 mb-2",children:"What happens next?"}),(0,z.jsxs)("ul",{className:"text-sm text-yellow-800 space-y-2",children:[(0,z.jsxs)("li",{className:"flex items-start gap-2",children:[(0,z.jsx)(oc,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),(0,z.jsx)("span",{children:"Our team will review your registration details"})]}),(0,z.jsxs)("li",{className:"flex items-start gap-2",children:[(0,z.jsx)(oc,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),(0,z.jsx)("span",{children:"We'll verify your identity documents"})]}),(0,z.jsxs)("li",{className:"flex items-start gap-2",children:[(0,z.jsx)(oc,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),(0,z.jsx)("span",{children:"You'll receive an email once approved (usually within 1-2 business days)"})]})]})]}),(0,z.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,z.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Registration Summary:"}),(0,z.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-left space-y-2 text-sm",children:[(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Name:"}),(0,z.jsxs)("span",{className:"text-gray-900",children:[o.firstName," ",o.lastName]})]}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Email:"}),(0,z.jsx)("span",{className:"text-gray-900",children:o.email})]}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Phone:"}),(0,z.jsx)("span",{className:"text-gray-900",children:o.phone})]}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-gray-600",children:"TIN:"}),(0,z.jsx)("span",{className:"text-gray-900",children:o.tin})]})]})]}),(0,z.jsx)(tb,{type:"button",onClick:t,className:"bg-[#059669] hover:bg-[#047857] h-10 px-8",children:"Return to Login"})]})]})}):(0,z.jsx)("div",{className:"min-h-screen w-full bg-gradient-to-br from-[#1E40AF] to-[#1E3A8A] flex items-center justify-center p-4",children:(0,z.jsxs)("div",{className:"w-full max-w-[520px] bg-white rounded-2xl shadow-2xl p-8",children:[(0,z.jsxs)("button",{onClick:e,className:"flex items-center gap-2 text-[#6B7280] hover:text-[#374151] mb-6",children:[(0,z.jsx)(lC,{className:"h-4 w-4"}),"Back"]}),(0,z.jsxs)("div",{className:"text-center mb-8",children:[(0,z.jsx)("h2",{className:"text-[#111827] mb-2",children:"Customer Type"}),(0,z.jsx)("div",{className:"border-b border-[#E5E7EB] my-4"})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)("button",{onClick:()=>s("business"),className:"w-full p-6 border-2 border-[#E5E7EB] rounded-xl hover:border-[#1E40AF] hover:bg-[#EFF6FF] transition-all text-left",children:(0,z.jsxs)("div",{className:"flex items-start gap-4",children:[(0,z.jsx)("div",{className:"w-12 h-12 bg-[#EFF6FF] rounded-lg flex items-center justify-center flex-shrink-0",children:(0,z.jsx)(ly,{className:"h-6 w-6 text-[#1E40AF]"})}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h3",{className:"text-[#111827] mb-1",children:"Business Customer"}),(0,z.jsxs)("ul",{className:"text-[14px] text-[#6B7280] space-y-1",children:[(0,z.jsx)("li",{children:" Company account"}),(0,z.jsx)("li",{children:" Multiple users, contracts"}),(0,z.jsx)("li",{children:" Tax invoices, credit terms"})]})]})]})}),(0,z.jsx)("button",{onClick:()=>s("individual"),className:"w-full p-6 border-2 border-[#E5E7EB] rounded-xl hover:border-[#059669] hover:bg-[#F0FDF4] transition-all text-left",children:(0,z.jsxs)("div",{className:"flex items-start gap-4",children:[(0,z.jsx)("div",{className:"w-12 h-12 bg-[#F0FDF4] rounded-lg flex items-center justify-center flex-shrink-0",children:(0,z.jsx)(ol,{className:"h-6 w-6 text-[#059669]"})}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h3",{className:"text-[#111827] mb-1",children:"Individual Customer"}),(0,z.jsxs)("ul",{className:"text-[14px] text-[#6B7280] space-y-1",children:[(0,z.jsx)("li",{children:" Personal account"}),(0,z.jsx)("li",{children:" Single user, simple billing"}),(0,z.jsx)("li",{children:" Receipts only, prepayment"})]})]})]})})]})]})})}function oh(e,[t,r]){return Math.min(r,Math.max(t,e))}var ox=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),op=q.forwardRef((e,t)=>(0,z.jsx)(tP.span,{...e,ref:t,style:{...ox,...e.style}}));op.displayName="VisuallyHidden";var of=[" ","Enter","ArrowUp","ArrowDown"],og=[" ","Enter"],ov="Select",[oj,oy,ob]=tH(ov),[oN,ow]=tw(ov,[ob,sS]),oC=sS(),[oS,oD]=oN(ov),[oP,ok]=oN(ov),oE=e=>{let{__scopeSelect:t,children:r,open:s,defaultOpen:a,onOpenChange:n,value:i,defaultValue:l,onValueChange:o,dir:c,name:d,autoComplete:u,disabled:m,required:h,form:x}=e,p=oC(t),[f,g]=q.useState(null),[v,j]=q.useState(null),[y,b]=q.useState(!1),N=tZ(c),[w,C]=tW({prop:s,defaultProp:a??!1,onChange:n,caller:ov}),[S,D]=tW({prop:i,defaultProp:l,onChange:o,caller:ov}),P=q.useRef(null),k=!f||x||!!f.closest("form"),[E,A]=q.useState(new Set),F=Array.from(E).map(e=>e.props.value).join(";");return(0,z.jsx)(sk,{...p,children:(0,z.jsxs)(oS,{required:h,scope:t,trigger:f,onTriggerChange:g,valueNode:v,onValueNodeChange:j,valueNodeHasChildren:y,onValueNodeHasChildrenChange:b,contentId:rl(),value:S,onValueChange:D,open:w,onOpenChange:C,dir:N,triggerPointerDownPosRef:P,disabled:m,children:[(0,z.jsx)(oj.Provider,{scope:t,children:(0,z.jsx)(oP,{scope:e.__scopeSelect,onNativeOptionAdd:q.useCallback(e=>{A(t=>new Set(t).add(e))},[]),onNativeOptionRemove:q.useCallback(e=>{A(t=>{let r=new Set(t);return r.delete(e),r})},[]),children:r})}),k?(0,z.jsxs)(cr,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:u,value:S,onChange:e=>D(e.target.value),disabled:m,form:x,children:[void 0===S?(0,z.jsx)("option",{value:""}):null,Array.from(E)]},F):null]})})};oE.displayName=ov;var oA="SelectTrigger",oF=q.forwardRef((e,t)=>{let{__scopeSelect:r,disabled:s=!1,...a}=e,n=oC(r),i=oD(oA,r),l=i.disabled||s,o=eN(t,i.onTriggerChange),c=oy(r),d=q.useRef("touch"),[u,m,h]=ca(e=>{let t=c().filter(e=>!e.disabled),r=t.find(e=>e.value===i.value),s=cn(t,e,r);void 0!==s&&i.onValueChange(s.value)}),x=e=>{l||(i.onOpenChange(!0),h()),e&&(i.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,z.jsx)(sA,{asChild:!0,...n,children:(0,z.jsx)(tP.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":cs(i.value)?"":void 0,...a,ref:o,onClick:t$(a.onClick,e=>{e.currentTarget.focus(),"mouse"!==d.current&&x(e)}),onPointerDown:t$(a.onPointerDown,e=>{d.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(x(e),e.preventDefault())}),onKeyDown:t$(a.onKeyDown,e=>{let t=""!==u.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||m(e.key),(!t||" "!==e.key)&&of.includes(e.key)&&(x(),e.preventDefault())})})})});oF.displayName=oA;var oR="SelectValue",oO=q.forwardRef((e,t)=>{let{__scopeSelect:r,className:s,style:a,children:n,placeholder:i="",...l}=e,o=oD(oR,r),{onValueNodeHasChildrenChange:c}=o,d=void 0!==n,u=eN(t,o.onValueNodeChange);return tS(()=>{c(d)},[c,d]),(0,z.jsx)(tP.span,{...l,ref:u,style:{pointerEvents:"none"},children:cs(o.value)?(0,z.jsx)(z.Fragment,{children:i}):n})});oO.displayName=oR;var oI=q.forwardRef((e,t)=>{let{__scopeSelect:r,children:s,...a}=e;return(0,z.jsx)(tP.span,{"aria-hidden":!0,...a,ref:t,children:s||""})});oI.displayName="SelectIcon";var oM=e=>(0,z.jsx)(sq,{asChild:!0,...e});oM.displayName="SelectPortal";var oT="SelectContent",oB=q.forwardRef((e,t)=>{let r=oD(oT,e.__scopeSelect),[s,a]=q.useState();return(tS(()=>{a(new DocumentFragment)},[]),r.open)?(0,z.jsx)(oq,{...e,ref:t}):s?tD.createPortal((0,z.jsx)(o_,{scope:e.__scopeSelect,children:(0,z.jsx)(oj.Slot,{scope:e.__scopeSelect,children:(0,z.jsx)("div",{children:e.children})})}),s):null});oB.displayName=oT;var[o_,oL]=oN(oT),oz=ew("SelectContent.RemoveScroll"),oq=q.forwardRef((e,t)=>{let{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:n,onPointerDownOutside:i,side:l,sideOffset:o,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:m,collisionPadding:h,sticky:x,hideWhenDetached:p,avoidCollisions:f,...g}=e,v=oD(oT,r),[j,y]=q.useState(null),[b,N]=q.useState(null),w=eN(t,e=>y(e)),[C,S]=q.useState(null),[D,P]=q.useState(null),k=oy(r),[E,A]=q.useState(!1),F=q.useRef(!1);q.useEffect(()=>{if(j)return ar(j)},[j]),t5();let R=q.useCallback(e=>{let[t,...r]=k().map(e=>e.ref.current),[s]=r.slice(-1),a=document.activeElement;for(let r of e)if(r===a||(r?.scrollIntoView({block:"nearest"}),r===t&&b&&(b.scrollTop=0),r===s&&b&&(b.scrollTop=b.scrollHeight),r?.focus(),document.activeElement!==a))return},[k,b]),O=q.useCallback(()=>R([C,j]),[R,C,j]);q.useEffect(()=>{E&&O()},[E,O]);let{onOpenChange:I,triggerPointerDownPosRef:M}=v;q.useEffect(()=>{if(j){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(M.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(M.current?.y??0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():j.contains(r.target)||I(!1),document.removeEventListener("pointermove",t),M.current=null};return null!==M.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[j,I,M]),q.useEffect(()=>{let e=()=>I(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[I]);let[T,B]=ca(e=>{let t=k().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),s=cn(t,e,r);s&&setTimeout(()=>s.ref.current.focus())}),_=q.useCallback((e,t,r)=>{let s=!F.current&&!r;(void 0!==v.value&&v.value===t||s)&&(S(e),s&&(F.current=!0))},[v.value]),L=q.useCallback(()=>j?.focus(),[j]),U=q.useCallback((e,t,r)=>{let s=!F.current&&!r;(void 0!==v.value&&v.value===t||s)&&P(e)},[v.value]),$="popper"===s?o$:oU,V=$===o$?{side:l,sideOffset:o,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:m,collisionPadding:h,sticky:x,hideWhenDetached:p,avoidCollisions:f}:{};return(0,z.jsx)(o_,{scope:r,content:j,viewport:b,onViewportChange:N,itemRefCallback:_,selectedItem:C,onItemLeave:L,itemTextRefCallback:U,focusSelectedItem:O,selectedItemText:D,position:s,isPositioned:E,searchRef:T,children:(0,z.jsx)(aq,{as:oz,allowPinchZoom:!0,children:(0,z.jsx)(t9,{asChild:!0,trapped:v.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:t$(a,e=>{v.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,z.jsx)(t0,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:(0,z.jsx)($,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:e=>e.preventDefault(),...g,...V,onPlaced:()=>A(!0),ref:w,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:t$(g.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||B(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=k().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let r=e.target,s=t.indexOf(r);t=t.slice(s+1)}setTimeout(()=>R(t)),e.preventDefault()}})})})})})})});oq.displayName="SelectContentImpl";var oU=q.forwardRef((e,t)=>{let{__scopeSelect:r,onPlaced:s,...a}=e,n=oD(oT,r),i=oL(oT,r),[l,o]=q.useState(null),[c,d]=q.useState(null),u=eN(t,e=>d(e)),m=oy(r),h=q.useRef(!1),x=q.useRef(!0),{viewport:p,selectedItem:f,selectedItemText:g,focusSelectedItem:v}=i,j=q.useCallback(()=>{if(n.trigger&&n.valueNode&&l&&c&&p&&f&&g){let e=n.trigger.getBoundingClientRect(),t=c.getBoundingClientRect(),r=n.valueNode.getBoundingClientRect(),a=g.getBoundingClientRect();if("rtl"!==n.dir){let s=a.left-t.left,n=r.left-s,i=e.left-n,o=e.width+i,c=Math.max(o,t.width),d=oh(n,[10,Math.max(10,window.innerWidth-10-c)]);l.style.minWidth=o+"px",l.style.left=d+"px"}else{let s=t.right-a.right,n=window.innerWidth-r.right-s,i=window.innerWidth-e.right-n,o=e.width+i,c=Math.max(o,t.width),d=oh(n,[10,Math.max(10,window.innerWidth-10-c)]);l.style.minWidth=o+"px",l.style.right=d+"px"}let i=m(),o=window.innerHeight-20,d=p.scrollHeight,u=window.getComputedStyle(c),x=parseInt(u.borderTopWidth,10),v=parseInt(u.paddingTop,10),j=parseInt(u.borderBottomWidth,10),y=x+v+d+parseInt(u.paddingBottom,10)+j,b=Math.min(5*f.offsetHeight,y),N=window.getComputedStyle(p),w=parseInt(N.paddingTop,10),C=parseInt(N.paddingBottom,10),S=e.top+e.height/2-10,D=f.offsetHeight/2,P=x+v+(f.offsetTop+D);if(P<=S){let e=i.length>0&&f===i[i.length-1].ref.current;l.style.bottom="0px";let t=Math.max(o-S,D+(e?C:0)+(c.clientHeight-p.offsetTop-p.offsetHeight)+j);l.style.height=P+t+"px"}else{let e=i.length>0&&f===i[0].ref.current;l.style.top="0px";let t=Math.max(S,x+p.offsetTop+(e?w:0)+D);l.style.height=t+(y-P)+"px",p.scrollTop=P-S+p.offsetTop}l.style.margin="10px 0",l.style.minHeight=b+"px",l.style.maxHeight=o+"px",s?.(),requestAnimationFrame(()=>h.current=!0)}},[m,n.trigger,n.valueNode,l,c,p,f,g,n.dir,s]);tS(()=>j(),[j]);let[y,b]=q.useState();tS(()=>{c&&b(window.getComputedStyle(c).zIndex)},[c]);let N=q.useCallback(e=>{e&&!0===x.current&&(j(),v?.(),x.current=!1)},[j,v]);return(0,z.jsx)(oV,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:N,children:(0,z.jsx)("div",{ref:o,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:y},children:(0,z.jsx)(tP.div,{...a,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});oU.displayName="SelectItemAlignedPosition";var o$=q.forwardRef((e,t)=>{let{__scopeSelect:r,align:s="start",collisionPadding:a=10,...n}=e,i=oC(r);return(0,z.jsx)(sI,{...i,...n,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...n.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});o$.displayName="SelectPopperPosition";var[oV,oW]=oN(oT,{}),oH="SelectViewport",oY=q.forwardRef((e,t)=>{let{__scopeSelect:r,nonce:s,...a}=e,n=oL(oH,r),i=oW(oH,r),l=eN(t,n.onViewportChange),o=q.useRef(0);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),(0,z.jsx)(oj.Slot,{scope:r,children:(0,z.jsx)(tP.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:t$(a.onScroll,e=>{let t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:s}=i;if(s?.current&&r){let e=Math.abs(o.current-t.scrollTop);if(e>0){let s=window.innerHeight-20,a=Math.max(parseFloat(r.style.minHeight),parseFloat(r.style.height));if(a<s){let n=a+e,i=Math.min(s,n),l=n-i;r.style.height=i+"px","0px"===r.style.bottom&&(t.scrollTop=l>0?l:0,r.style.justifyContent="flex-end")}}}o.current=t.scrollTop})})})]})});oY.displayName=oH;var oG="SelectGroup",[oX,oK]=oN(oG);q.forwardRef((e,t)=>{let{__scopeSelect:r,...s}=e,a=rl();return(0,z.jsx)(oX,{scope:r,id:a,children:(0,z.jsx)(tP.div,{role:"group","aria-labelledby":a,...s,ref:t})})}).displayName=oG;var oZ="SelectLabel";q.forwardRef((e,t)=>{let{__scopeSelect:r,...s}=e,a=oK(oZ,r);return(0,z.jsx)(tP.div,{id:a.id,...s,ref:t})}).displayName=oZ;var oQ="SelectItem",[oJ,o0]=oN(oQ),o1=q.forwardRef((e,t)=>{let{__scopeSelect:r,value:s,disabled:a=!1,textValue:n,...i}=e,l=oD(oQ,r),o=oL(oQ,r),c=l.value===s,[d,u]=q.useState(n??""),[m,h]=q.useState(!1),x=eN(t,e=>o.itemRefCallback?.(e,s,a)),p=rl(),f=q.useRef("touch"),g=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(""===s)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,z.jsx)(oJ,{scope:r,value:s,disabled:a,textId:p,isSelected:c,onItemTextChange:q.useCallback(e=>{u(t=>t||(e?.textContent??"").trim())},[]),children:(0,z.jsx)(oj.ItemSlot,{scope:r,value:s,disabled:a,textValue:d,children:(0,z.jsx)(tP.div,{role:"option","aria-labelledby":p,"data-highlighted":m?"":void 0,"aria-selected":c&&m,"data-state":c?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:x,onFocus:t$(i.onFocus,()=>h(!0)),onBlur:t$(i.onBlur,()=>h(!1)),onClick:t$(i.onClick,()=>{"mouse"!==f.current&&g()}),onPointerUp:t$(i.onPointerUp,()=>{"mouse"===f.current&&g()}),onPointerDown:t$(i.onPointerDown,e=>{f.current=e.pointerType}),onPointerMove:t$(i.onPointerMove,e=>{f.current=e.pointerType,a?o.onItemLeave?.():"mouse"===f.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:t$(i.onPointerLeave,e=>{e.currentTarget===document.activeElement&&o.onItemLeave?.()}),onKeyDown:t$(i.onKeyDown,e=>{(o.searchRef?.current===""||" "!==e.key)&&(og.includes(e.key)&&g()," "===e.key&&e.preventDefault())})})})})});o1.displayName=oQ;var o2="SelectItemText",o4=q.forwardRef((e,t)=>{let{__scopeSelect:r,className:s,style:a,...n}=e,i=oD(o2,r),l=oL(o2,r),o=o0(o2,r),c=ok(o2,r),[d,u]=q.useState(null),m=eN(t,e=>u(e),o.onItemTextChange,e=>l.itemTextRefCallback?.(e,o.value,o.disabled)),h=d?.textContent,x=q.useMemo(()=>(0,z.jsx)("option",{value:o.value,disabled:o.disabled,children:h},o.value),[o.disabled,o.value,h]),{onNativeOptionAdd:p,onNativeOptionRemove:f}=c;return tS(()=>(p(x),()=>f(x)),[p,f,x]),(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(tP.span,{id:o.textId,...n,ref:m}),o.isSelected&&i.valueNode&&!i.valueNodeHasChildren?tD.createPortal(n.children,i.valueNode):null]})});o4.displayName=o2;var o5="SelectItemIndicator",o6=q.forwardRef((e,t)=>{let{__scopeSelect:r,...s}=e;return o0(o5,r).isSelected?(0,z.jsx)(tP.span,{"aria-hidden":!0,...s,ref:t}):null});o6.displayName=o5;var o3="SelectScrollUpButton",o8=q.forwardRef((e,t)=>{let r=oL(o3,e.__scopeSelect),s=oW(o3,e.__scopeSelect),[a,n]=q.useState(!1),i=eN(t,s.onScrollButtonChange);return tS(()=>{if(r.viewport&&r.isPositioned){let e=function(){n(t.scrollTop>0)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),a?(0,z.jsx)(ce,{...e,ref:i,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});o8.displayName=o3;var o7="SelectScrollDownButton",o9=q.forwardRef((e,t)=>{let r=oL(o7,e.__scopeSelect),s=oW(o7,e.__scopeSelect),[a,n]=q.useState(!1),i=eN(t,s.onScrollButtonChange);return tS(()=>{if(r.viewport&&r.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;n(Math.ceil(t.scrollTop)<e)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),a?(0,z.jsx)(ce,{...e,ref:i,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});o9.displayName=o7;var ce=q.forwardRef((e,t)=>{let{__scopeSelect:r,onAutoScroll:s,...a}=e,n=oL("SelectScrollButton",r),i=q.useRef(null),l=oy(r),o=q.useCallback(()=>{null!==i.current&&(window.clearInterval(i.current),i.current=null)},[]);return q.useEffect(()=>()=>o(),[o]),tS(()=>{let e=l().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[l]),(0,z.jsx)(tP.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:t$(a.onPointerDown,()=>{null===i.current&&(i.current=window.setInterval(s,50))}),onPointerMove:t$(a.onPointerMove,()=>{n.onItemLeave?.(),null===i.current&&(i.current=window.setInterval(s,50))}),onPointerLeave:t$(a.onPointerLeave,()=>{o()})})});q.forwardRef((e,t)=>{let{__scopeSelect:r,...s}=e;return(0,z.jsx)(tP.div,{"aria-hidden":!0,...s,ref:t})}).displayName="SelectSeparator";var ct="SelectArrow";q.forwardRef((e,t)=>{let{__scopeSelect:r,...s}=e,a=oC(r),n=oD(ct,r),i=oL(ct,r);return n.open&&"popper"===i.position?(0,z.jsx)(sB,{...a,...s,ref:t}):null}).displayName=ct;var cr=q.forwardRef(({__scopeSelect:e,value:t,...r},s)=>{let a=q.useRef(null),n=eN(s,a),i=lS(t);return q.useEffect(()=>{let e=a.current;if(!e)return;let r=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(i!==t&&r){let s=new Event("change",{bubbles:!0});r.call(e,t),e.dispatchEvent(s)}},[i,t]),(0,z.jsx)(tP.select,{...r,style:{...ox,...r.style},ref:n,defaultValue:t})});function cs(e){return""===e||void 0===e}function ca(e){let t=tC(e),r=q.useRef(""),s=q.useRef(0),a=q.useCallback(e=>{let a=r.current+e;t(a),function e(t){r.current=t,window.clearTimeout(s.current),""!==t&&(s.current=window.setTimeout(()=>e(""),1e3))}(a)},[t]),n=q.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return q.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,n]}function cn(e,t,r){var s,a;let n=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,i=r?e.indexOf(r):-1,l=(s=e,a=Math.max(i,0),s.map((e,t)=>s[(a+t)%s.length]));1===n.length&&(l=l.filter(e=>e!==r));let o=l.find(e=>e.textValue.toLowerCase().startsWith(n.toLowerCase()));return o!==r?o:void 0}cr.displayName="SelectBubbleInput";let ci=Y("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);function cl({...e}){return(0,z.jsx)(oE,{"data-slot":"select",...e})}function co({...e}){return(0,z.jsx)(oO,{"data-slot":"select-value",...e})}function cc({className:e,size:t="default",children:r,...s}){return(0,z.jsxs)(oF,{"data-slot":"select-trigger","data-size":t,className:tj("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s,children:[r,(0,z.jsx)(oI,{asChild:!0,children:(0,z.jsx)(en,{className:"size-4 opacity-50"})})]})}function cd({className:e,children:t,position:r="popper",...s}){return(0,z.jsx)(oM,{children:(0,z.jsxs)(oB,{"data-slot":"select-content",className:tj("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[(0,z.jsx)(cm,{}),(0,z.jsx)(oY,{className:tj("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,z.jsx)(ch,{})]})})}function cu({className:e,children:t,...r}){return(0,z.jsxs)(o1,{"data-slot":"select-item",className:tj("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[(0,z.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,z.jsx)(o6,{children:(0,z.jsx)(nQ,{className:"size-4"})})}),(0,z.jsx)(o4,{children:t})]})}function cm({className:e,...t}){return(0,z.jsx)(o8,{"data-slot":"select-scroll-up-button",className:tj("flex cursor-default items-center justify-center py-1",e),...t,children:(0,z.jsx)(ci,{className:"size-4"})})}function ch({className:e,...t}){return(0,z.jsx)(o9,{"data-slot":"select-scroll-down-button",className:tj("flex cursor-default items-center justify-center py-1",e),...t,children:(0,z.jsx)(en,{className:"size-4"})})}function cx({onBack:e,onComplete:t}){let[r,s]=(0,q.useState)(1);return(0,z.jsx)("div",{className:"min-h-screen w-full bg-gradient-to-br from-[#F59E0B] to-[#D97706] flex items-center justify-center p-4",children:(0,z.jsxs)("div",{className:"w-full max-w-[520px] bg-white rounded-2xl shadow-2xl p-8",children:[(0,z.jsxs)("div",{className:"mb-6",children:[(0,z.jsxs)("button",{onClick:e,className:"flex items-center gap-2 text-[#6B7280] hover:text-[#374151] mb-4",children:[(0,z.jsx)(lC,{className:"h-4 w-4"}),"Back"]}),(0,z.jsx)("h2",{className:"text-[#111827] mb-2",children:"Vendor Registration"}),(0,z.jsx)(oe,{value:r/4*100,className:"h-2"}),(0,z.jsxs)("p",{className:"text-[12px] text-[#6B7280] mt-2",children:["Step ",r," of 4"]})]}),1===r&&(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("h3",{className:"text-[#111827] mb-4",children:"Vendor Profile"}),(0,z.jsx)("div",{className:"border-b border-[#E5E7EB] mb-4"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"companyName",children:"Company Name"}),(0,z.jsx)(tN,{id:"companyName",className:"h-10 border-[#D1D5DB]"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"businessClassification",children:"Business Classification"}),(0,z.jsxs)(cl,{children:[(0,z.jsx)(cc,{className:"h-10 border-[#D1D5DB]",children:(0,z.jsx)(co,{placeholder:"Select classification..."})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"equipment",children:"Equipment Supplier"}),(0,z.jsx)(cu,{value:"services",children:"Service Provider"}),(0,z.jsx)(cu,{value:"materials",children:"Materials Supplier"}),(0,z.jsx)(cu,{value:"contractor",children:"Contractor"})]})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"services",children:"Services/Products Offered"}),(0,z.jsx)(tN,{id:"services",className:"h-10 border-[#D1D5DB]",placeholder:"e.g., Construction equipment rental"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"yearsInOperation",children:"Years in Operation"}),(0,z.jsx)(tN,{id:"yearsInOperation",type:"number",className:"h-10 border-[#D1D5DB]"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"contactPerson",children:"Primary Contact Person"}),(0,z.jsx)(tN,{id:"contactPerson",className:"h-10 border-[#D1D5DB]"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"email",children:"Email Address"}),(0,z.jsx)(tN,{id:"email",type:"email",className:"h-10 border-[#D1D5DB]"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"phone",children:"Phone Number"}),(0,z.jsx)(tN,{id:"phone",type:"tel",placeholder:"+60 12-345-6789",className:"h-10 border-[#D1D5DB]"})]}),(0,z.jsx)("div",{className:"flex justify-end",children:(0,z.jsx)(tb,{onClick:()=>s(2),className:"bg-[#F59E0B] hover:bg-[#D97706] h-10 px-6",children:"Next"})})]}),2===r&&(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("h3",{className:"text-[#111827] mb-4",children:"Document Upload"}),(0,z.jsx)("div",{className:"border-b border-[#E5E7EB] mb-4"})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"border-2 border-dashed border-[#D1D5DB] rounded-lg p-8 text-center hover:border-[#F59E0B] hover:bg-[#FFFBEB] transition-colors cursor-pointer",children:[(0,z.jsx)(oo,{className:"h-12 w-12 text-[#6B7280] mx-auto mb-3"}),(0,z.jsx)("p",{className:"text-[14px] text-[#374151] mb-1",children:"Business Registration"}),(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Drag & drop or click to upload"}),(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"PDF, JPG, PNG (Max 10MB)"})]}),(0,z.jsxs)("div",{className:"border-2 border-dashed border-[#D1D5DB] rounded-lg p-8 text-center hover:border-[#F59E0B] hover:bg-[#FFFBEB] transition-colors cursor-pointer",children:[(0,z.jsx)(oo,{className:"h-12 w-12 text-[#6B7280] mx-auto mb-3"}),(0,z.jsx)("p",{className:"text-[14px] text-[#374151] mb-1",children:"Tax Certificates"}),(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Drag & drop or click to upload"}),(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"PDF, JPG, PNG (Max 10MB)"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"bankName",children:"Bank Name"}),(0,z.jsx)(tN,{id:"bankName",className:"h-10 border-[#D1D5DB]"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"accountNumber",children:"Account Number"}),(0,z.jsx)(tN,{id:"accountNumber",className:"h-10 border-[#D1D5DB]"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"accountName",children:"Account Name"}),(0,z.jsx)(tN,{id:"accountName",className:"h-10 border-[#D1D5DB]"})]})]}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)(tb,{variant:"outline",onClick:()=>s(1),className:"h-10 px-6",children:"Back"}),(0,z.jsx)(tb,{onClick:()=>s(3),className:"bg-[#F59E0B] hover:bg-[#D97706] h-10 px-6",children:"Next"})]})]}),3===r&&(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("h3",{className:"text-[#111827] mb-4",children:"Service Agreements"}),(0,z.jsx)("div",{className:"border-b border-[#E5E7EB] mb-4"})]}),(0,z.jsx)(ot,{className:"border-[#E5E7EB]",children:(0,z.jsx)(on,{className:"pt-4",children:(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(K,{className:"h-5 w-5 text-[#F59E0B] flex-shrink-0 mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h4",{className:"text-[#111827] mb-2",children:"Terms & Conditions"}),(0,z.jsxs)("div",{className:"text-[12px] text-[#6B7280] space-y-1 max-h-40 overflow-y-auto p-3 bg-[#F9FAFB] rounded",children:[(0,z.jsx)("p",{children:"1. Vendor agrees to provide services/products as specified"}),(0,z.jsx)("p",{children:"2. Payment terms: Net 30 days from invoice date"}),(0,z.jsx)("p",{children:"3. Quality standards must be maintained"}),(0,z.jsx)("p",{children:"4. Compliance with all local regulations required"}),(0,z.jsx)("p",{children:"5. Confidentiality and data protection obligations"})]})]})]})})}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"paymentTerms",children:"Preferred Payment Terms"}),(0,z.jsxs)(cl,{children:[(0,z.jsx)(cc,{className:"h-10 border-[#D1D5DB]",children:(0,z.jsx)(co,{placeholder:"Select payment terms..."})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"net15",children:"Net 15 days"}),(0,z.jsx)(cu,{value:"net30",children:"Net 30 days"}),(0,z.jsx)(cu,{value:"net45",children:"Net 45 days"}),(0,z.jsx)(cu,{value:"net60",children:"Net 60 days"})]})]})]}),(0,z.jsxs)("div",{className:"space-y-3",children:[(0,z.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,z.jsx)(lq,{id:"agreeTerms"}),(0,z.jsx)(lN,{htmlFor:"agreeTerms",className:"cursor-pointer",children:"I agree to the terms and conditions"})]}),(0,z.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,z.jsx)(lq,{id:"agreeSLA"}),(0,z.jsx)(lN,{htmlFor:"agreeSLA",className:"cursor-pointer",children:"I accept the service level agreements"})]}),(0,z.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,z.jsx)(lq,{id:"agreeConfidentiality"}),(0,z.jsx)(lN,{htmlFor:"agreeConfidentiality",className:"cursor-pointer",children:"I understand confidentiality requirements"})]})]}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)(tb,{variant:"outline",onClick:()=>s(2),className:"h-10 px-6",children:"Back"}),(0,z.jsx)(tb,{onClick:()=>s(4),className:"bg-[#F59E0B] hover:bg-[#D97706] h-10 px-6",children:"Next"})]})]}),4===r&&(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("h3",{className:"text-[#111827] mb-4",children:"Review & Submit"}),(0,z.jsx)("div",{className:"border-b border-[#E5E7EB] mb-4"})]}),(0,z.jsx)(ot,{className:"border-[#E5E7EB] bg-[#FFFBEB]",children:(0,z.jsx)(on,{className:"pt-4",children:(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(lG,{className:"h-5 w-5 text-[#F59E0B] flex-shrink-0 mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h4",{className:"text-[#111827] mb-2",children:"Approval Process"}),(0,z.jsxs)("ol",{className:"text-[14px] text-[#6B7280] space-y-1",children:[(0,z.jsx)("li",{children:"1. Procurement team review"}),(0,z.jsx)("li",{children:"2. Document verification"}),(0,z.jsx)("li",{children:"3. Compliance check"}),(0,z.jsx)("li",{children:"4. Contract signing"}),(0,z.jsx)("li",{children:"5. Vendor portal access granted (3-5 business days)"})]})]})]})})}),(0,z.jsx)(ot,{className:"border-[#E5E7EB]",children:(0,z.jsxs)(on,{className:"pt-4",children:[(0,z.jsx)("h4",{className:"text-[#111827] mb-3",children:"What happens next?"}),(0,z.jsxs)("div",{className:"text-[14px] text-[#6B7280] space-y-2",children:[(0,z.jsx)("p",{children:" You'll receive a confirmation email"}),(0,z.jsx)("p",{children:" Our team will review your application"}),(0,z.jsx)("p",{children:" We may contact you for additional information"}),(0,z.jsx)("p",{children:" Upon approval, you'll get vendor portal credentials"})]})]})}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)(tb,{variant:"outline",onClick:()=>s(3),className:"h-10 px-6",children:"Back"}),(0,z.jsx)(tb,{onClick:t,className:"bg-[#F59E0B] hover:bg-[#D97706] h-10 px-6",children:"Submit for Approval"})]})]})]})})}let cp=Y("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);var cf="Radio",[cg,cv]=tw(cf),[cj,cy]=cg(cf),cb=q.forwardRef((e,t)=>{let{__scopeRadio:r,name:s,checked:a=!1,required:n,disabled:i,value:l="on",onCheck:o,form:c,...d}=e,[u,m]=q.useState(null),h=eN(t,e=>m(e)),x=q.useRef(!1),p=!u||c||!!u.closest("form");return(0,z.jsxs)(cj,{scope:r,checked:a,disabled:i,children:[(0,z.jsx)(tP.button,{type:"button",role:"radio","aria-checked":a,"data-state":cS(a),"data-disabled":i?"":void 0,disabled:i,value:l,...d,ref:h,onClick:t$(e.onClick,e=>{a||o?.(),p&&(x.current=e.isPropagationStopped(),x.current||e.stopPropagation())})}),p&&(0,z.jsx)(cC,{control:u,bubbles:!x.current,name:s,value:l,checked:a,required:n,disabled:i,form:c,style:{transform:"translateX(-100%)"}})]})});cb.displayName=cf;var cN="RadioIndicator",cw=q.forwardRef((e,t)=>{let{__scopeRadio:r,forceMount:s,...a}=e,n=cy(cN,r);return(0,z.jsx)(sU,{present:s||n.checked,children:(0,z.jsx)(tP.span,{"data-state":cS(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:t})})});cw.displayName=cN;var cC=q.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:s=!0,...a},n)=>{let i=q.useRef(null),l=eN(i,n),o=lS(r),c=sN(t);return q.useEffect(()=>{let e=i.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==r&&t){let a=new Event("click",{bubbles:s});t.call(e,r),e.dispatchEvent(a)}},[o,r,s]),(0,z.jsx)(tP.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function cS(e){return e?"checked":"unchecked"}cC.displayName="RadioBubbleInput";var cD=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],cP="RadioGroup",[ck,cE]=tw(cP,[sZ,cv]),cA=sZ(),cF=cv(),[cR,cO]=ck(cP),cI=q.forwardRef((e,t)=>{let{__scopeRadioGroup:r,name:s,defaultValue:a,value:n,required:i=!1,disabled:l=!1,orientation:o,dir:c,loop:d=!0,onValueChange:u,...m}=e,h=cA(r),x=tZ(c),[p,f]=tW({prop:n,defaultProp:a??null,onChange:u,caller:cP});return(0,z.jsx)(cR,{scope:r,name:s,required:i,disabled:l,value:p,onValueChange:f,children:(0,z.jsx)(s0,{asChild:!0,...h,orientation:o,dir:x,loop:d,children:(0,z.jsx)(tP.div,{role:"radiogroup","aria-required":i,"aria-orientation":o,"data-disabled":l?"":void 0,dir:x,...m,ref:t})})})});cI.displayName=cP;var cM="RadioGroupItem",cT=q.forwardRef((e,t)=>{let{__scopeRadioGroup:r,disabled:s,...a}=e,n=cO(cM,r),i=n.disabled||s,l=cA(r),o=cF(r),c=q.useRef(null),d=eN(t,c),u=n.value===a.value,m=q.useRef(!1);return q.useEffect(()=>{let e=e=>{cD.includes(e.key)&&(m.current=!0)},t=()=>m.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,z.jsx)(s4,{asChild:!0,...l,focusable:!i,active:u,children:(0,z.jsx)(cb,{disabled:i,required:n.required,checked:u,...o,...a,name:n.name,ref:d,onCheck:()=>n.onValueChange(a.value),onKeyDown:t$(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:t$(a.onFocus,()=>{m.current&&c.current?.click()})})})});cT.displayName=cM;var cB=q.forwardRef((e,t)=>{let{__scopeRadioGroup:r,...s}=e,a=cF(r);return(0,z.jsx)(cw,{...a,...s,ref:t})});function c_({className:e,...t}){return(0,z.jsx)(cI,{"data-slot":"radio-group",className:tj("grid gap-3",e),...t})}function cL({className:e,...t}){return(0,z.jsx)(cT,{"data-slot":"radio-group-item",className:tj("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,z.jsx)(cB,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,z.jsx)(n0,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function cz({onBack:e,onContinue:t}){let[r,s]=(0,q.useState)("email"),[a,n]=(0,q.useState)(""),[i,l]=(0,q.useState)(""),[o,c]=(0,q.useState)(""),[d,u]=(0,q.useState)(!1);return(0,z.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#F15929] via-[#F15929] to-[#D14820] flex items-center justify-center p-4",children:(0,z.jsxs)("div",{className:"w-full max-w-md",children:[(0,z.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[(0,z.jsxs)("div",{className:"mb-6",children:[(0,z.jsxs)("button",{onClick:e,className:"flex items-center gap-2 text-[#6B7280] hover:text-[#374151] mb-4",children:[(0,z.jsx)(lC,{className:"h-4 w-4"}),"Back to Login"]}),(0,z.jsx)("h2",{className:"text-[#231F20] mb-2",children:"Reset Password"}),(0,z.jsx)("p",{className:"text-[#6B7280]",children:"email"===r?"Enter the email associated with your account. We'll send a verification code.":"Enter the phone number associated with your account. We'll send a verification code via SMS."})]}),(0,z.jsxs)("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,z.jsx)("p",{className:"text-sm text-blue-800 mb-2",children:(0,z.jsx)("strong",{children:"Demo Credentials:"})}),(0,z.jsxs)("div",{className:"text-xs text-blue-700 space-y-1",children:[(0,z.jsx)("p",{children:" Email: customer@demo.com"}),(0,z.jsx)("p",{children:" Phone: +60123456789"})]})]}),(0,z.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),c(""),"email"===r){if(!a)return void c("Please enter your email address.");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a))return void c("Please enter a valid email address.")}else{if(!i)return void c("Please enter your phone number.");if(!/^(\+?60)?[0-9\s\-]{9,15}$/.test(i.replace(/\s/g,"")))return void c("Please enter a valid phone number.")}u(!0),setTimeout(()=>{if("email"===r&&!["customer@demo.com","admin@company.com","sales@company.com","finance@company.com","operations@company.com","production@company.com"].includes(a)){c("No account found for this email."),u(!1);return}if("phone"===r&&!["+60123456789","+60198765432","0123456789"].includes(i.replace(/\s/g,""))){c("No account found for this phone number."),u(!1);return}u(!1),t("email"===r?a:i)},800)},className:"space-y-6",children:[o&&(0,z.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg flex items-start gap-2",children:[(0,z.jsx)("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,z.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,z.jsx)("span",{className:"text-sm",children:o})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"method",children:"Select Method"}),(0,z.jsxs)(c_,{value:r,onValueChange:e=>s(e),children:[(0,z.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,z.jsx)(cL,{value:"email"}),(0,z.jsx)(lN,{htmlFor:"email",children:"Email"})]}),(0,z.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,z.jsx)(cL,{value:"phone"}),(0,z.jsx)(lN,{htmlFor:"phone",children:"Phone"})]})]})]}),"email"===r&&(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"email",children:"Email Address"}),(0,z.jsxs)("div",{className:"relative",children:[(0,z.jsx)(tN,{id:"email",type:"email",placeholder:"name@example.com",value:a,onChange:e=>{n(e.target.value),c("")},className:"h-12 border-[#D1D5DB] pl-12",disabled:d}),(0,z.jsx)(lK,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-[#6B7280]"})]})]}),"phone"===r&&(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"phone",children:"Phone Number"}),(0,z.jsxs)("div",{className:"relative",children:[(0,z.jsx)(tN,{id:"phone",type:"tel",placeholder:"+60 XX-XXX-XXXX",value:i,onChange:e=>{l(e.target.value),c("")},className:"h-12 border-[#D1D5DB] pl-12",disabled:d}),(0,z.jsx)(cp,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-[#6B7280]"})]})]}),(0,z.jsx)(tb,{type:"submit",className:"w-full h-12 bg-[#F15929] hover:bg-[#D14820]",disabled:d||!a&&!i,children:d?(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):"Send Verification Code"})]})]}),(0,z.jsx)("div",{className:"text-center mt-6 text-white text-sm",children:" 2025 Power Metal & Steel. All rights reserved."})]})})}function cq({email:e,onBack:t,onContinue:r,onChangEmail:s}){let[a,n]=(0,q.useState)(["","","","","",""]),[i,l]=(0,q.useState)(""),[o,c]=(0,q.useState)(300),[d,u]=(0,q.useState)(0),[m,h]=(0,q.useState)(!1),x=(0,q.useRef)([]);(0,q.useEffect)(()=>{if(o>0){let e=setTimeout(()=>c(o-1),1e3);return()=>clearTimeout(e)}},[o]);let p=e=>{let t=Math.floor(e/60);return`${t.toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`},f=e=>{e.preventDefault();let t=e.clipboardData.getData("text").slice(0,6);/^\d+$/.test(t)&&(n(t.split("").concat(Array(6).fill("")).slice(0,6)),l(""),6===t.length?(x.current[5]?.focus(),setTimeout(()=>g(t),100)):x.current[t.length]?.focus())},g=e=>{let t=e||a.join("");6!==t.length?l("Please enter all 6 digits."):(h(!0),setTimeout(()=>{if("123456"===t)h(!1),ld.success("Code verified successfully!"),r();else{let e=d+1;u(e),e>=3?(l("Too many failed attempts. Please request a new code."),n(["","","","","",""]),setTimeout(()=>{s()},2e3)):(l(`Invalid or expired code. ${3-e} attempts remaining.`),n(["","","","","",""]),x.current[0]?.focus()),h(!1)}},800))},v=a.every(e=>""!==e);return(0,z.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#F15929] via-[#F15929] to-[#D14820] flex items-center justify-center p-4",children:(0,z.jsxs)("div",{className:"w-full max-w-md",children:[(0,z.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[(0,z.jsxs)("div",{className:"mb-6",children:[(0,z.jsxs)("button",{onClick:t,className:"flex items-center gap-2 text-[#6B7280] hover:text-[#374151] mb-4",children:[(0,z.jsx)(lC,{className:"h-4 w-4"}),"Back"]}),(0,z.jsx)("h2",{className:"text-[#231F20] mb-2",children:"Enter Verification Code"}),(0,z.jsxs)("p",{className:"text-[#6B7280] text-sm",children:["We sent a 6-digit verification code to"," ",(0,z.jsx)("span",{className:"text-[#231F20]",children:e}),". Code expires in"," ",(0,z.jsx)("span",{className:"text-[#F15929]",children:p(o)}),"."]})]}),i&&(0,z.jsxs)("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg flex items-start gap-2",children:[(0,z.jsx)("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,z.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,z.jsx)("span",{className:"text-sm",children:i})]}),(0,z.jsxs)("div",{className:"mb-6",children:[(0,z.jsx)("div",{className:"flex gap-2 justify-center",children:a.map((e,t)=>(0,z.jsx)(tN,{ref:e=>x.current[t]=e,type:"text",inputMode:"numeric",maxLength:1,value:e,onChange:e=>((e,t)=>{if(t&&!/^\d$/.test(t))return;let r=[...a];r[e]=t,n(r),l(""),t&&e<5&&x.current[e+1]?.focus(),r.every(e=>""!==e)&&5===e&&setTimeout(()=>g(r.join("")),100)})(t,e.target.value),onKeyDown:e=>{"Backspace"===e.key&&!a[t]&&t>0&&x.current[t-1]?.focus()},onPaste:0===t?f:void 0,className:"w-12 h-14 text-center border-[#D1D5DB] focus:border-[#F15929] focus:ring-[#F15929]",disabled:m},t))}),(0,z.jsx)("p",{className:"text-xs text-[#6B7280] text-center mt-3",children:"Check your spam folder if you don't see the email."})]}),(0,z.jsx)("div",{className:"mb-6 p-3 bg-[#F3F4F6] rounded-lg",children:(0,z.jsxs)("p",{className:"text-xs text-[#6B7280]",children:["Demo: Use code ",(0,z.jsx)("span",{className:"text-[#231F20]",children:"123456"})]})}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)(tb,{onClick:()=>g(),className:"w-full h-12 bg-[#F15929] hover:bg-[#D14820]",disabled:!v||m,children:m?(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Verifying..."]}):"Verify Code"}),(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsx)("button",{type:"button",onClick:()=>{o>0||(ld.success(`Verification code resent to ${e}`),c(300),n(["","","","","",""]),l(""),u(0),x.current[0]?.focus())},disabled:o>0,className:`text-sm ${o>0?"text-[#9CA3AF] cursor-not-allowed":"text-[#F15929] hover:text-[#D14820] hover:underline"}`,children:o>0?`Resend in ${p(o)}`:"Resend Code"}),(0,z.jsx)("button",{type:"button",onClick:s,className:"text-sm text-[#6B7280] hover:text-[#374151] hover:underline",children:"Use a different email"})]})]})]}),(0,z.jsx)("div",{className:"text-center mt-6 text-white text-sm",children:" 2025 Power Metal & Steel. All rights reserved."})]})})}cB.displayName="RadioGroupIndicator";let cU=Y("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),c$=[{id:"length",label:"At least 8 characters",test:e=>e.length>=8},{id:"letter",label:"At least 1 letter",test:e=>/[a-zA-Z]/.test(e)},{id:"digit",label:"At least 1 number",test:e=>/\d/.test(e)},{id:"special",label:"At least 1 special character",test:e=>/[!@#$%^&*(),.?":{}|<>]/.test(e)}];function cV({onBack:e,onSuccess:t}){let[r,s]=(0,q.useState)(""),[a,n]=(0,q.useState)(""),[i,l]=(0,q.useState)(!1),[o,c]=(0,q.useState)(!1),[d,u]=(0,q.useState)(""),[m,h]=(0,q.useState)(""),[x,p]=(0,q.useState)(!1),f=()=>c$.every(e=>e.test(r)),g=c$.map(e=>({...e,passed:e.test(r)})),v=f()&&r===a&&a.length>0;return(0,z.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#F15929] via-[#F15929] to-[#D14820] flex items-center justify-center p-4",children:(0,z.jsxs)("div",{className:"w-full max-w-md",children:[(0,z.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[(0,z.jsxs)("div",{className:"mb-6",children:[(0,z.jsxs)("button",{onClick:e,className:"flex items-center gap-2 text-[#6B7280] hover:text-[#374151] mb-4",children:[(0,z.jsx)(lC,{className:"h-4 w-4"}),"Back"]}),(0,z.jsx)("h2",{className:"text-[#231F20] mb-2",children:"Create New Password"}),(0,z.jsx)("p",{className:"text-[#6B7280]",children:"Choose a strong password. You'll use it to sign in."})]}),(0,z.jsxs)("form",{onSubmit:e=>{(e.preventDefault(),u(""),h(""),r)?f()?a?r!==a?h("Passwords do not match."):"1234"===r?u("New password cannot be same as previous password."):(p(!0),setTimeout(()=>{p(!1),t()},1e3)):h("Please confirm your password."):u("Password must meet all requirements."):u("Please enter a new password.")},className:"space-y-6",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"newPassword",children:"New Password"}),(0,z.jsxs)("div",{className:"relative",children:[(0,z.jsx)(tN,{id:"newPassword",type:i?"text":"password",placeholder:"Enter new password",value:r,onChange:e=>{var t;s(t=e.target.value),u(""),a&&t===a&&h("")},className:`h-12 border-[#D1D5DB] pr-12 ${d?"border-red-500":""}`,disabled:x}),(0,z.jsx)("button",{type:"button",onClick:()=>l(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280] hover:text-[#374151]",tabIndex:-1,children:i?(0,z.jsx)(lj,{className:"h-5 w-5"}):(0,z.jsx)(lv,{className:"h-5 w-5"})})]}),d&&(0,z.jsx)("p",{className:"text-sm text-red-600",children:d}),r&&(0,z.jsx)("div",{className:"mt-3 space-y-2",children:g.map(e=>(0,z.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[e.passed?(0,z.jsx)(lX,{className:"h-4 w-4 text-[#059669]"}):(0,z.jsx)(cU,{className:"h-4 w-4 text-[#DC2626]"}),(0,z.jsx)("span",{className:e.passed?"text-[#059669]":"text-[#6B7280]",children:e.label})]},e.id))})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,z.jsxs)("div",{className:"relative",children:[(0,z.jsx)(tN,{id:"confirmPassword",type:o?"text":"password",placeholder:"Re-enter new password",value:a,onChange:e=>{var t;n(t=e.target.value),t&&r&&t!==r?h("Passwords do not match."):h("")},className:`h-12 border-[#D1D5DB] pr-12 ${m?"border-red-500":""}`,disabled:x}),(0,z.jsx)("button",{type:"button",onClick:()=>c(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280] hover:text-[#374151]",tabIndex:-1,children:o?(0,z.jsx)(lj,{className:"h-5 w-5"}):(0,z.jsx)(lv,{className:"h-5 w-5"})})]}),m&&(0,z.jsx)("p",{className:"text-sm text-red-600",children:m}),!m&&a&&r===a&&(0,z.jsxs)("p",{className:"text-sm text-[#059669] flex items-center gap-1",children:[(0,z.jsx)(lX,{className:"h-4 w-4"}),"Passwords match"]})]}),(0,z.jsx)("div",{className:"p-4 bg-[#F3F4F6] rounded-lg",children:(0,z.jsx)("p",{className:"text-xs text-[#6B7280]",children:"By saving, your password will be updated immediately."})}),(0,z.jsx)(tb,{type:"submit",className:"w-full h-12 bg-[#F15929] hover:bg-[#D14820]",disabled:!v||x,children:x?(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):"Save New Password"})]})]}),(0,z.jsx)("div",{className:"text-center mt-6 text-white text-sm",children:" 2025 Power Metal & Steel. All rights reserved."})]})})}function cW({onReturnToLogin:e}){return(0,z.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#F15929] via-[#F15929] to-[#D14820] flex items-center justify-center p-4",children:(0,z.jsxs)("div",{className:"w-full max-w-md",children:[(0,z.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[(0,z.jsx)("div",{className:"flex justify-center mb-6",children:(0,z.jsx)("div",{className:"w-20 h-20 bg-[#059669] rounded-full flex items-center justify-center",children:(0,z.jsx)(oc,{className:"h-10 w-10 text-white"})})}),(0,z.jsxs)("div",{className:"text-center mb-8",children:[(0,z.jsx)("h2",{className:"text-[#231F20] mb-3",children:"Password Updated Successfully"}),(0,z.jsx)("p",{className:"text-[#6B7280]",children:"Your password has been changed. You can now sign in using your new password."})]}),(0,z.jsx)("div",{className:"mb-6 p-4 bg-[#F3F4F6] rounded-lg",children:(0,z.jsx)("p",{className:"text-sm text-[#374151]",children:"For your security, we've sent a confirmation email to your registered email address."})}),(0,z.jsx)(tb,{onClick:e,className:"w-full h-12 bg-[#F15929] hover:bg-[#D14820]",children:"Return to Login"})]}),(0,z.jsx)("div",{className:"text-center mt-6 text-white text-sm",children:" 2025 Power Metal & Steel. All rights reserved."})]})})}let cH=Y("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),cY=Y("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),cG=Y("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),cX=Y("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),cK=eA("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function cZ({className:e,variant:t,asChild:r=!1,...s}){return(0,z.jsx)(r?eC:"span",{"data-slot":"badge",className:tj(cK({variant:t}),e),...s})}function cQ({...e}){return(0,z.jsx)(it,{"data-slot":"dialog",...e})}function cJ({...e}){return(0,z.jsx)(is,{"data-slot":"dialog-trigger",...e})}function c0({...e}){return(0,z.jsx)(io,{"data-slot":"dialog-portal",...e})}let c1=q.forwardRef(({className:e,...t},r)=>(0,z.jsx)(id,{ref:r,"data-slot":"dialog-overlay",className:tj("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));c1.displayName="DialogOverlay";let c2=q.forwardRef(({className:e,children:t,...r},s)=>(0,z.jsxs)(c0,{"data-slot":"dialog-portal",children:[(0,z.jsx)(c1,{}),(0,z.jsxs)(ix,{ref:s,"data-slot":"dialog-content",className:tj("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,(0,z.jsxs)(iC,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,z.jsx)(ea,{}),(0,z.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));function c4({className:e,...t}){return(0,z.jsx)("div",{"data-slot":"dialog-header",className:tj("flex flex-col gap-2 text-center sm:text-left",e),...t})}function c5({className:e,...t}){return(0,z.jsx)("div",{"data-slot":"dialog-footer",className:tj("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function c6({className:e,...t}){return(0,z.jsx)(iy,{"data-slot":"dialog-title",className:tj("text-lg leading-none font-semibold",e),...t})}function c3({className:e,...t}){return(0,z.jsx)(iN,{"data-slot":"dialog-description",className:tj("text-muted-foreground text-sm",e),...t})}function c8({className:e,...t}){return(0,z.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,z.jsx)("table",{"data-slot":"table",className:tj("w-full caption-bottom text-sm",e),...t})})}function c7({className:e,...t}){return(0,z.jsx)("thead",{"data-slot":"table-header",className:tj("[&_tr]:border-b",e),...t})}function c9({className:e,...t}){return(0,z.jsx)("tbody",{"data-slot":"table-body",className:tj("[&_tr:last-child]:border-0",e),...t})}function de({className:e,...t}){return(0,z.jsx)("tr",{"data-slot":"table-row",className:tj("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function dt({className:e,...t}){return(0,z.jsx)("th",{"data-slot":"table-head",className:tj("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function dr({className:e,...t}){return(0,z.jsx)("td",{"data-slot":"table-cell",className:tj("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}c2.displayName="DialogContent";var ds="horizontal",da=["horizontal","vertical"],dn=q.forwardRef((e,t)=>{var r;let{decorative:s,orientation:a=ds,...n}=e,i=(r=a,da.includes(r))?a:ds;return(0,z.jsx)(tP.div,{"data-orientation":i,...s?{role:"none"}:{"aria-orientation":"vertical"===i?i:void 0,role:"separator"},...n,ref:t})});function di({className:e,orientation:t="horizontal",decorative:r=!0,...s}){return(0,z.jsx)(dn,{"data-slot":"separator-root",decorative:r,orientation:t,className:tj("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...s})}function dl({className:e,...t}){return(0,z.jsx)("textarea",{"data-slot":"textarea",className:tj("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}dn.displayName="Separator";let dc=[{id:"1",firstName:"John",lastName:"Doe",email:"john.doe@company.com",phone:"+60 12-345-6789",userType:"Internal Staff",role:"Admin",status:"Active",lastLogin:"2024-11-03"},{id:"2",firstName:"Sarah",lastName:"Williams",email:"sarah.w@company.com",phone:"+60 12-456-7890",userType:"Internal Staff",role:"Sales",status:"Active",lastLogin:"2024-11-04"},{id:"3",firstName:"Mike",lastName:"Johnson",email:"mike.j@gmail.com",phone:"+60 13-234-5678",userType:"Individual Customer",status:"Pending Approval",tin:"IG123456789012",idCardNumber:"920415-10-5234",idCardFrontImage:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=400",idCardBackImage:"https://images.unsplash.com/photo-1554224154-26032ffc0d07?w=400",lastLogin:"Never"},{id:"4",firstName:"Ahmad",lastName:"Hassan",email:"ahmad@steelworks.com",phone:"+60 19-876-5432",userType:"Business Customer",status:"Pending Approval",brn:"202201123456",companyTin:"C987654321012",lastLogin:"Never"},{id:"5",firstName:"Lisa",lastName:"Tan",email:"lisa.tan@outlook.com",phone:"+60 16-555-4321",userType:"Individual Customer",status:"Active",tin:"IG998877665544",idCardNumber:"880320-08-1234",lastLogin:"2024-11-01"},{id:"6",firstName:"David",lastName:"Lee",email:"david@construction.my",phone:"+60 17-222-3333",userType:"Business Customer",status:"Active",brn:"201905234567",companyTin:"PT123456789012",lastLogin:"2024-11-02"},{id:"7",firstName:"Emily",lastName:"Wong",email:"emily.wong@company.com",phone:"+60 12-888-9999",userType:"Internal Staff",status:"Pending Approval",lastLogin:"Never"}];function dd(){let[e,t]=(0,q.useState)(dc),[r,s]=(0,q.useState)(""),[a,n]=(0,q.useState)("all"),[i,l]=(0,q.useState)("all"),[o,c]=(0,q.useState)(!1),[d,u]=(0,q.useState)(!1),[m,h]=(0,q.useState)("list"),[x,p]=(0,q.useState)(!1),[f,g]=(0,q.useState)(!1),[v,j]=(0,q.useState)(null),[y,b]=(0,q.useState)("Sales"),[N,w]=(0,q.useState)(""),[C,S]=(0,q.useState)({firstName:"",lastName:"",email:"",phone:"",role:"",status:"Active"}),[D,P]=(0,q.useState)({firstName:"",lastName:"",email:"",phone:"",role:"",status:"Active"}),k=e.filter(e=>{let t=e.firstName.toLowerCase().includes(r.toLowerCase())||e.lastName.toLowerCase().includes(r.toLowerCase())||e.email.toLowerCase().includes(r.toLowerCase()),s="all"===a||e.userType===a,n="all"===i||e.status===i;return t&&s&&n}),E=e=>{switch(e){case"Internal Staff":return(0,z.jsx)(lG,{className:"h-3.5 w-3.5"});case"Individual Customer":return(0,z.jsx)(ol,{className:"h-3.5 w-3.5"});case"Business Customer":return(0,z.jsx)(ly,{className:"h-3.5 w-3.5"})}},A=e=>{switch(e){case"Internal Staff":return"bg-[#1E40AF] hover:bg-[#1E3A8A] text-white";case"Individual Customer":return"bg-[#8B5CF6] hover:bg-[#7C3AED] text-white";case"Business Customer":return"bg-[#059669] hover:bg-[#047857] text-white"}};return(0,z.jsxs)("div",{className:"space-y-6",children:["detail"===m&&v?(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{className:"flex items-center gap-4",children:[(0,z.jsx)(tb,{variant:"outline",size:"icon",onClick:()=>{h("list"),j(null),w("")},className:"h-10 w-10",children:(0,z.jsx)(lC,{className:"h-5 w-5"})}),(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsx)("h1",{children:"User Details"}),(0,z.jsx)("p",{className:"text-[#374151]",children:"Pending Approval"===v.status?"Review user information and approve or reject the registration":"View detailed user information"})]})]}),(0,z.jsx)("div",{className:"bg-white rounded-lg border border-[#E5E7EB] p-6",children:(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsx)("div",{children:"Active"===v.status?(0,z.jsxs)(cZ,{className:"bg-[#059669] hover:bg-[#047857]",children:[(0,z.jsx)(oc,{className:"mr-1 h-3 w-3"}),"Active"]}):"Pending Approval"===v.status?(0,z.jsxs)(cZ,{className:"bg-[#F59E0B] hover:bg-[#D97706]",children:[(0,z.jsx)(od,{className:"mr-1 h-3 w-3"}),"Pending Approval"]}):(0,z.jsxs)(cZ,{className:"bg-[#6B7280] hover:bg-[#4B5563]",children:[(0,z.jsx)(cU,{className:"mr-1 h-3 w-3"}),"Inactive"]})}),(0,z.jsxs)(cZ,{className:A(v.userType),children:[E(v.userType),(0,z.jsx)("span",{className:"ml-1.5",children:v.userType})]})]}),(0,z.jsx)(di,{}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)("h3",{className:"text-[#111827]",children:"Personal Information"}),(0,z.jsx)(ot,{className:"border-[#E5E7EB]",children:(0,z.jsxs)(on,{className:"pt-6 space-y-4",children:[(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"First Name"}),(0,z.jsx)("p",{className:"text-[#111827] mt-1",children:v.firstName})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Last Name"}),(0,z.jsx)("p",{className:"text-[#111827] mt-1",children:v.lastName})]})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Email Address"}),(0,z.jsx)("p",{className:"text-[#111827] mt-1",children:v.email})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Phone Number"}),(0,z.jsx)("p",{className:"text-[#111827] mt-1",children:v.phone})]})]})})]}),"Internal Staff"===v.userType&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(di,{}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)("h3",{className:"text-[#111827]",children:"Role Assignment"}),(0,z.jsx)(ot,{className:"border-[#E5E7EB] bg-[#F9FAFB]",children:(0,z.jsx)(on,{className:"pt-6",children:"Pending Approval"===v.status?(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"role-select",children:["Assign Role ",(0,z.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,z.jsxs)(cl,{value:y,onValueChange:e=>b(e),children:[(0,z.jsx)(cc,{id:"role-select",className:"h-10",children:(0,z.jsx)(co,{placeholder:"Select role"})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"Admin",children:"Admin"}),(0,z.jsx)(cu,{value:"Sales",children:"Sales"}),(0,z.jsx)(cu,{value:"Finance",children:"Finance"}),(0,z.jsx)(cu,{value:"Support",children:"Support"}),(0,z.jsx)(cu,{value:"Operations",children:"Operations"}),(0,z.jsx)(cu,{value:"Production",children:"Production"})]})]}),(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Role must be assigned before approval"})]}):(0,z.jsxs)("div",{children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Current Role"}),(0,z.jsx)("p",{className:"text-[#111827] mt-1",children:v.role})]})})})]})]}),"Individual Customer"===v.userType&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(di,{}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)("h3",{className:"text-[#111827]",children:"Tax & Identity Verification"}),(0,z.jsx)(ot,{className:"border-[#E5E7EB]",children:(0,z.jsxs)(on,{className:"pt-6 space-y-4",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Tax Identification Number (TIN)"}),(0,z.jsx)("p",{className:"text-[#111827] mt-1 font-mono",children:v.tin})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Identification Card Number"}),(0,z.jsx)("p",{className:"text-[#111827] mt-1",children:v.idCardNumber})]})]})}),v.idCardFrontImage&&v.idCardBackImage&&(0,z.jsx)(ot,{className:"border-[#E5E7EB]",children:(0,z.jsxs)(on,{className:"pt-6 space-y-4",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)(lN,{className:"text-[#6B7280] mb-2 block",children:"ID Card Front"}),(0,z.jsx)("img",{src:v.idCardFrontImage,alt:"ID Card Front",className:"w-full h-48 object-cover rounded-lg border border-[#E5E7EB]"})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)(lN,{className:"text-[#6B7280] mb-2 block",children:"ID Card Back"}),(0,z.jsx)("img",{src:v.idCardBackImage,alt:"ID Card Back",className:"w-full h-48 object-cover rounded-lg border border-[#E5E7EB]"})]})]})})]})]}),"Business Customer"===v.userType&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(di,{}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)("h3",{className:"text-[#111827]",children:"Business Details"}),(0,z.jsx)(ot,{className:"border-[#E5E7EB]",children:(0,z.jsxs)(on,{className:"pt-6 space-y-4",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Business Registration Number (BRN)"}),(0,z.jsx)("p",{className:"text-[#111827] mt-1 font-mono",children:v.brn}),(0,z.jsxs)("p",{className:"text-[12px] text-[#6B7280] mt-1",children:["Year: ",v.brn?.substring(0,4)," | Type: ",v.brn?.substring(4,6)," | ID: ",v.brn?.substring(6)]})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Company Tax Identification Number (TIN)"}),(0,z.jsx)("p",{className:"text-[#111827] mt-1 font-mono",children:v.companyTin})]})]})})]})]}),"Pending Approval"===v.status&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(di,{}),(0,z.jsxs)("div",{className:"flex gap-3",children:[(0,z.jsxs)(tb,{onClick:()=>g(!0),variant:"outline",className:"flex-1 h-11 border-[#DC2626] text-[#DC2626] hover:bg-[#FEF2F2] hover:text-[#DC2626]",children:[(0,z.jsx)(ea,{className:"mr-2 h-4 w-4"}),"Reject"]}),(0,z.jsxs)(tb,{onClick:()=>p(!0),className:"flex-1 h-11 bg-[#059669] hover:bg-[#047857]",children:[(0,z.jsx)(nQ,{className:"mr-2 h-4 w-4"}),"Approve"]})]})]})]})})]}):(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)("h1",{children:"User Management"}),(0,z.jsx)("p",{className:"text-[#374151]",children:"Manage system users and permissions"})]}),(0,z.jsxs)("div",{className:"flex gap-3",children:[(0,z.jsxs)(tb,{className:"bg-[#1E40AF] hover:bg-[#1E3A8A] h-10 px-6 rounded-lg",onClick:()=>{P({firstName:"",lastName:"",email:"",phone:"",role:"",status:"Active"}),u(!0)},children:[(0,z.jsx)(cH,{className:"mr-2 h-4 w-4"}),"Add New User"]}),(0,z.jsxs)(tb,{variant:"outline",className:"h-10 px-6 rounded-lg",children:[(0,z.jsx)(oo,{className:"mr-2 h-4 w-4"}),"Import Users"]}),(0,z.jsxs)(tb,{variant:"outline",className:"h-10 px-6 rounded-lg",children:[(0,z.jsx)(cY,{className:"mr-2 h-4 w-4"}),"Export Users"]})]}),(0,z.jsxs)("div",{className:"flex gap-4 items-center bg-white p-4 rounded-lg border border-[#E5E7EB]",children:[(0,z.jsxs)("div",{className:"relative flex-1 max-w-[300px]",children:[(0,z.jsx)(et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[#6B7280]"}),(0,z.jsx)(tN,{placeholder:"Search users...",className:"pl-10 h-10 bg-white border-[#D1D5DB] rounded-md",value:r,onChange:e=>s(e.target.value)})]}),(0,z.jsxs)(cl,{value:a,onValueChange:n,children:[(0,z.jsx)(cc,{className:"w-[200px] h-10 bg-white border-[#D1D5DB] rounded-md",children:(0,z.jsx)(co,{placeholder:"User Type"})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"all",children:"All User Types"}),(0,z.jsx)(cu,{value:"Internal Staff",children:"Internal Staff"}),(0,z.jsx)(cu,{value:"Individual Customer",children:"Individual Customer"}),(0,z.jsx)(cu,{value:"Business Customer",children:"Business Customer"})]})]}),(0,z.jsxs)(cl,{value:i,onValueChange:l,children:[(0,z.jsx)(cc,{className:"w-[180px] h-10 bg-white border-[#D1D5DB] rounded-md",children:(0,z.jsx)(co,{placeholder:"Status"})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"all",children:"All Status"}),(0,z.jsx)(cu,{value:"Active",children:"Active"}),(0,z.jsx)(cu,{value:"Pending Approval",children:"Pending Approval"}),(0,z.jsx)(cu,{value:"Inactive",children:"Inactive"})]})]})]}),(0,z.jsx)("div",{className:"bg-white rounded-lg border border-[#E5E7EB] overflow-hidden",children:(0,z.jsxs)(c8,{children:[(0,z.jsx)(c7,{children:(0,z.jsxs)(de,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,z.jsx)(dt,{className:"w-[40px]",children:(0,z.jsx)(lq,{})}),(0,z.jsx)(dt,{className:"w-[200px]",children:"Name"}),(0,z.jsx)(dt,{className:"w-[240px]",children:"Email"}),(0,z.jsx)(dt,{className:"w-[160px]",children:"User Type"}),(0,z.jsx)(dt,{className:"w-[140px]",children:"Status"}),(0,z.jsx)(dt,{className:"w-[120px]",children:"Role"}),(0,z.jsx)(dt,{className:"w-[140px]",children:"Last Login"}),(0,z.jsx)(dt,{className:"w-[120px] text-right",children:"Actions"})]})}),(0,z.jsx)(c9,{children:k.map(e=>(0,z.jsxs)(de,{className:"h-14 hover:bg-[#F3F4F6]",children:[(0,z.jsx)(dr,{children:(0,z.jsx)(lq,{})}),(0,z.jsx)(dr,{children:(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)(tq,{className:"h-8 w-8",children:(0,z.jsx)(tU,{className:"bg-[#E5E7EB] text-[#374151]",children:(e.firstName+" "+e.lastName).split(" ").map(e=>e[0]).join("").toUpperCase()})}),(0,z.jsxs)("span",{className:"text-[#111827]",children:[e.firstName," ",e.lastName]})]})}),(0,z.jsx)(dr,{className:"text-[#374151]",children:e.email}),(0,z.jsx)(dr,{children:(0,z.jsxs)(cZ,{className:A(e.userType),children:[E(e.userType),(0,z.jsx)("span",{className:"ml-1.5",children:e.userType})]})}),(0,z.jsx)(dr,{children:"Active"===e.status?(0,z.jsxs)(cZ,{className:"bg-[#059669] hover:bg-[#047857]",children:[(0,z.jsx)(oc,{className:"mr-1 h-3 w-3"}),"Active"]}):"Pending Approval"===e.status?(0,z.jsxs)(cZ,{className:"bg-[#F59E0B] hover:bg-[#D97706]",children:[(0,z.jsx)(od,{className:"mr-1 h-3 w-3"}),"Pending"]}):(0,z.jsxs)(cZ,{className:"bg-[#6B7280] hover:bg-[#4B5563]",children:[(0,z.jsx)(cU,{className:"mr-1 h-3 w-3"}),"Inactive"]})}),(0,z.jsx)(dr,{children:e.role?(0,z.jsx)(cZ,{variant:"secondary",className:"bg-[#F3F4F6] text-[#374151] hover:bg-[#E5E7EB]",children:e.role}):(0,z.jsx)("span",{className:"text-[#9CA3AF] text-sm",children:""})}),(0,z.jsx)(dr,{className:"text-[#374151]",children:e.lastLogin}),(0,z.jsx)(dr,{className:"text-right",children:(0,z.jsxs)(n1,{children:[(0,z.jsx)(n2,{asChild:!0,children:(0,z.jsx)(tb,{variant:"ghost",className:"h-8 w-8 p-0 hover:bg-[#F3F4F6]",children:(0,z.jsx)(cG,{className:"h-4 w-4"})})}),(0,z.jsxs)(n4,{align:"end",children:[(0,z.jsxs)(n5,{onClick:()=>{j(e),b(e.role||"Sales"),w(""),h("detail")},children:[(0,z.jsx)(lv,{className:"mr-2 h-4 w-4"}),"View Details"]}),"Pending Approval"!==e.status&&(0,z.jsxs)(n5,{onClick:()=>{j(e),S({firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,role:e.role||"",status:e.status}),c(!0)},children:[(0,z.jsx)(cX,{className:"mr-2 h-4 w-4"}),"Edit"]})]})]})})]},e.id))})]})}),(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsxs)("p",{className:"text-[#6B7280]",children:["Showing ",k.length," of ",e.length," users"]}),(0,z.jsxs)("div",{className:"flex gap-2",children:[(0,z.jsx)(tb,{variant:"outline",className:"h-10 px-4",children:"Previous"}),(0,z.jsx)(tb,{className:"bg-[#1E40AF] hover:bg-[#1E3A8A] h-10 px-4",children:"1"}),(0,z.jsx)(tb,{variant:"outline",className:"h-10 px-4",children:"2"}),(0,z.jsx)(tb,{variant:"outline",className:"h-10 px-4",children:"3"}),(0,z.jsx)(tb,{variant:"outline",className:"h-10 px-4",children:"Next"})]})]})]}),(0,z.jsx)(iZ,{open:x,onOpenChange:p,children:(0,z.jsxs)(i0,{children:[(0,z.jsxs)(i1,{children:[(0,z.jsx)(i4,{children:"Approve User Registration"}),(0,z.jsx)(i5,{children:v&&(0,z.jsxs)(z.Fragment,{children:["Are you sure you want to approve the registration for ",(0,z.jsxs)("strong",{children:[v.firstName," ",v.lastName]}),"?","Internal Staff"===v.userType&&(0,z.jsxs)("span",{className:"block mt-2 text-[#059669]",children:["Role will be set to: ",(0,z.jsx)("strong",{children:y})]}),(0,z.jsx)("span",{className:"block mt-2",children:"The user will be granted access to the system immediately."})]})})]}),(0,z.jsxs)(i2,{children:[(0,z.jsx)(i3,{children:"Cancel"}),(0,z.jsx)(i6,{onClick:()=>{if(v){if("Internal Staff"===v.userType&&!y)return void ld.error("Please select a role for the staff member");t(e.map(e=>e.id===v.id?{...e,status:"Active",role:"Internal Staff"===v.userType?y:e.role,lastLogin:new Date().toISOString().split("T")[0]}:e)),ld.success(`${v.firstName} ${v.lastName} has been approved`),p(!1),h("list"),j(null)}},className:"bg-[#059669] hover:bg-[#047857]",children:"Approve User"})]})]})}),(0,z.jsx)(iZ,{open:f,onOpenChange:e=>{g(e),e||w("")},children:(0,z.jsxs)(i0,{className:"max-w-[500px]",children:[(0,z.jsxs)(i1,{children:[(0,z.jsx)(i4,{children:"Reject User Registration"}),(0,z.jsx)(i5,{children:v&&(0,z.jsxs)(z.Fragment,{children:["Are you sure you want to reject the registration for ",(0,z.jsxs)("strong",{children:[v.firstName," ",v.lastName]}),"?",(0,z.jsx)("span",{className:"block mt-2 text-[#DC2626]",children:"This action cannot be undone. The user will be removed from the system."})]})})]}),(0,z.jsxs)("div",{className:"space-y-2 py-4",children:[(0,z.jsxs)(lN,{htmlFor:"rejection-reason",children:["Reason for Rejection ",(0,z.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,z.jsx)(dl,{id:"rejection-reason",placeholder:"Please provide a reason for rejecting this registration...",value:N,onChange:e=>w(e.target.value),className:"min-h-[100px] resize-none"}),(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"This reason will be recorded for audit purposes."})]}),(0,z.jsxs)(i2,{children:[(0,z.jsx)(i3,{children:"Cancel"}),(0,z.jsx)(i6,{onClick:()=>{if(v){if(!N.trim())return void ld.error("Please provide a reason for rejection");t(e.filter(e=>e.id!==v.id)),ld.success(`Registration for ${v.firstName} ${v.lastName} has been rejected`),g(!1),w(""),h("list"),j(null)}},className:"bg-[#DC2626] hover:bg-[#B91C1C]",children:"Reject User"})]})]})}),(0,z.jsx)(cQ,{open:d,onOpenChange:u,children:(0,z.jsxs)(c2,{className:"sm:max-w-[500px]",children:[(0,z.jsxs)(c4,{children:[(0,z.jsx)(c6,{children:"Add New User"}),(0,z.jsx)(c3,{children:"Create a new user account with access to the system"})]}),(0,z.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,z.jsxs)("div",{className:"grid gap-2",children:[(0,z.jsx)(lN,{htmlFor:"add-first-name",children:"First Name *"}),(0,z.jsx)(tN,{id:"add-first-name",value:D.firstName,onChange:e=>P({...D,firstName:e.target.value}),placeholder:"Enter first name",className:"h-10"})]}),(0,z.jsxs)("div",{className:"grid gap-2",children:[(0,z.jsx)(lN,{htmlFor:"add-last-name",children:"Last Name *"}),(0,z.jsx)(tN,{id:"add-last-name",value:D.lastName,onChange:e=>P({...D,lastName:e.target.value}),placeholder:"Enter last name",className:"h-10"})]}),(0,z.jsxs)("div",{className:"grid gap-2",children:[(0,z.jsx)(lN,{htmlFor:"add-email",children:"Email Address *"}),(0,z.jsx)(tN,{id:"add-email",type:"email",value:D.email,onChange:e=>P({...D,email:e.target.value}),placeholder:"Enter email address",className:"h-10"})]}),(0,z.jsxs)("div",{className:"grid gap-2",children:[(0,z.jsx)(lN,{htmlFor:"add-phone",children:"Phone Number *"}),(0,z.jsx)(tN,{id:"add-phone",type:"tel",value:D.phone,onChange:e=>P({...D,phone:e.target.value}),placeholder:"+60 12-345-6789",className:"h-10"})]}),(0,z.jsxs)("div",{className:"grid gap-2",children:[(0,z.jsx)(lN,{htmlFor:"add-role",children:"Role *"}),(0,z.jsxs)(cl,{value:D.role,onValueChange:e=>P({...D,role:e}),children:[(0,z.jsx)(cc,{id:"add-role",className:"h-10",children:(0,z.jsx)(co,{placeholder:"Select role"})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"Admin",children:"Admin"}),(0,z.jsx)(cu,{value:"Sales",children:"Sales"}),(0,z.jsx)(cu,{value:"Finance",children:"Finance"}),(0,z.jsx)(cu,{value:"Support",children:"Support"}),(0,z.jsx)(cu,{value:"Operations",children:"Operations"}),(0,z.jsx)(cu,{value:"Production",children:"Production"})]})]})]}),(0,z.jsxs)("div",{className:"grid gap-2",children:[(0,z.jsx)(lN,{htmlFor:"add-status",children:"Status *"}),(0,z.jsxs)(cl,{value:D.status,onValueChange:e=>P({...D,status:e}),children:[(0,z.jsx)(cc,{id:"add-status",className:"h-10",children:(0,z.jsx)(co,{placeholder:"Select status"})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"Active",children:"Active"}),(0,z.jsx)(cu,{value:"Inactive",children:"Inactive"})]})]})]})]}),(0,z.jsxs)(c5,{children:[(0,z.jsx)(tb,{variant:"outline",onClick:()=>u(!1),className:"h-10 px-6",children:"Cancel"}),(0,z.jsx)(tb,{onClick:()=>{if(!D.firstName.trim()||!D.lastName.trim()||!D.email.trim()||!D.role)return void ld.error("Please fill in all required fields");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(D.email))return void ld.error("Please enter a valid email address");if(e.some(e=>e.email.toLowerCase()===D.email.toLowerCase()))return void ld.error("A user with this email already exists");let r={id:(Math.max(...e.map(e=>parseInt(e.id)))+1).toString(),firstName:D.firstName,lastName:D.lastName,email:D.email,phone:D.phone,userType:"Internal Staff",role:D.role,status:D.status,lastLogin:new Date().toISOString().split("T")[0]};t([...e,r]),ld.success("User added successfully"),u(!1)},className:"bg-[#F15929] hover:bg-[#D14820] h-10 px-6",children:"Add User"})]})]})}),(0,z.jsx)(cQ,{open:o,onOpenChange:c,children:(0,z.jsxs)(c2,{className:"sm:max-w-[500px]",children:[(0,z.jsxs)(c4,{children:[(0,z.jsx)(c6,{children:"Edit User"}),(0,z.jsx)(c3,{children:"Update user information and account details"})]}),(0,z.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,z.jsxs)("div",{className:"grid gap-2",children:[(0,z.jsx)(lN,{htmlFor:"edit-first-name",children:"First Name *"}),(0,z.jsx)(tN,{id:"edit-first-name",value:C.firstName,onChange:e=>S({...C,firstName:e.target.value}),placeholder:"Enter first name",className:"h-10"})]}),(0,z.jsxs)("div",{className:"grid gap-2",children:[(0,z.jsx)(lN,{htmlFor:"edit-last-name",children:"Last Name *"}),(0,z.jsx)(tN,{id:"edit-last-name",value:C.lastName,onChange:e=>S({...C,lastName:e.target.value}),placeholder:"Enter last name",className:"h-10"})]}),(0,z.jsxs)("div",{className:"grid gap-2",children:[(0,z.jsx)(lN,{htmlFor:"edit-email",children:"Email Address *"}),(0,z.jsx)(tN,{id:"edit-email",type:"email",value:C.email,onChange:e=>S({...C,email:e.target.value}),placeholder:"Enter email address",className:"h-10"})]}),(0,z.jsxs)("div",{className:"grid gap-2",children:[(0,z.jsx)(lN,{htmlFor:"edit-phone",children:"Phone Number *"}),(0,z.jsx)(tN,{id:"edit-phone",type:"tel",value:C.phone,onChange:e=>S({...C,phone:e.target.value}),placeholder:"+60 12-345-6789",className:"h-10"})]}),v?.userType==="Internal Staff"&&(0,z.jsxs)("div",{className:"grid gap-2",children:[(0,z.jsx)(lN,{htmlFor:"edit-role",children:"Role *"}),(0,z.jsxs)(cl,{value:C.role,onValueChange:e=>S({...C,role:e}),children:[(0,z.jsx)(cc,{id:"edit-role",className:"h-10",children:(0,z.jsx)(co,{placeholder:"Select role"})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"Admin",children:"Admin"}),(0,z.jsx)(cu,{value:"Sales",children:"Sales"}),(0,z.jsx)(cu,{value:"Finance",children:"Finance"}),(0,z.jsx)(cu,{value:"Support",children:"Support"}),(0,z.jsx)(cu,{value:"Operations",children:"Operations"}),(0,z.jsx)(cu,{value:"Production",children:"Production"})]})]})]}),(0,z.jsxs)("div",{className:"grid gap-2",children:[(0,z.jsx)(lN,{htmlFor:"edit-status",children:"Status *"}),(0,z.jsxs)(cl,{value:C.status,onValueChange:e=>S({...C,status:e}),children:[(0,z.jsx)(cc,{id:"edit-status",className:"h-10",children:(0,z.jsx)(co,{placeholder:"Select status"})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"Active",children:"Active"}),(0,z.jsx)(cu,{value:"Inactive",children:"Inactive"})]})]})]})]}),(0,z.jsxs)(c5,{children:[(0,z.jsx)(tb,{variant:"outline",onClick:()=>c(!1),className:"h-10 px-6",children:"Cancel"}),(0,z.jsx)(tb,{onClick:()=>{v&&(C.firstName.trim()&&C.lastName.trim()&&C.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(C.email)?(t(e.map(e=>e.id===v.id?{...e,...C}:e)),ld.success("User updated successfully"),c(!1),j(null)):ld.error("Please enter a valid email address"):ld.error("Please fill in all required fields"))},className:"bg-[#F15929] hover:bg-[#D14820] h-10 px-6",children:"Save Changes"})]})]})})]})}let du=Y("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),dm=Y("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),dh=Y("file-output",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4 7V4a2 2 0 0 1 2-2 2 2 0 0 0-2 2",key:"1vk7w2"}],["path",{d:"M4.063 20.999a2 2 0 0 0 2 1L18 22a2 2 0 0 0 2-2V7l-5-5H6",key:"1jink5"}],["path",{d:"m5 11-3 3",key:"1dgrs4"}],["path",{d:"m5 17-3-3h10",key:"1mvvaf"}]]);function dx({title:e,amount:t,trend:r,icon:s,subtitle:a}){return(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsxs)(or,{className:"flex flex-row items-center justify-between pb-2",children:[(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:e}),(0,z.jsx)("div",{className:"text-[#6B7280]",children:s})]}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,z.jsx)("span",{className:"text-[#111827]",children:t}),r&&(0,z.jsxs)("span",{className:"text-[12px] text-[#059669] flex items-center gap-1",children:[(0,z.jsx)(du,{className:"h-3 w-3"}),r]})]}),a&&(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:a})]})})]})}let dp=[{id:"INV-2024-001",date:"2024-11-01",type:"Invoice",description:"Monthly rental - October 2024",amount:"RM2,450.00",status:"Paid"},{id:"INV-2024-002",date:"2024-11-02",type:"Invoice",description:"Equipment deposit",amount:"RM5,000.00",status:"Pending"},{id:"CN-2024-001",date:"2024-11-03",type:"Credit Note",description:"Item return credit",amount:"-RM750.00",status:"Paid"},{id:"INV-2024-003",date:"2024-10-28",type:"Invoice",description:"Monthly rental - September 2024",amount:"RM2,450.00",status:"Overdue"},{id:"INV-2024-004",date:"2024-11-04",type:"Invoice",description:"Additional equipment",amount:"RM1,200.00",status:"Pending"}];function df({onNavigateToCreditNotes:e,onNavigateToFinancialReports:t,onNavigateToMonthlyRental:r,onNavigateToManageDeposits:s,onNavigateToRefunds:a}={}){return(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)("h1",{children:"Billing & Payments"}),(0,z.jsx)("p",{className:"text-[#374151]",children:"Manage invoices, payments, and financial records"})]}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,z.jsx)(dx,{title:"Total Outstanding",amount:"RM45,230.00",trend:"+12%",icon:(0,z.jsx)(X,{className:"h-5 w-5"}),subtitle:"from last month"}),(0,z.jsx)(dx,{title:"Payments Due",amount:"23 invoices",icon:(0,z.jsx)(Z,{className:"h-5 w-5"}),subtitle:"RM12,450.00"}),(0,z.jsx)(dx,{title:"Recent Payments",amount:"15 payments",icon:(0,z.jsx)(oc,{className:"h-5 w-5"}),subtitle:"RM8,720.00"}),(0,z.jsx)(dx,{title:"Credit Notes",amount:"3 notes",icon:(0,z.jsx)(K,{className:"h-5 w-5"}),subtitle:"RM1,230.00"})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px]",children:"Quick Actions"})}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,z.jsxs)(tb,{className:"bg-[#1E40AF] hover:bg-[#1E3A8A] h-10 px-6 rounded-lg",onClick:r,children:[(0,z.jsx)(dm,{className:"mr-2 h-4 w-4"}),"Monthly Rental"]}),(0,z.jsxs)(tb,{variant:"outline",className:"h-10 px-6 rounded-lg",onClick:s,children:[(0,z.jsx)(Q,{className:"mr-2 h-4 w-4"}),"Manage Deposits"]}),(0,z.jsxs)(tb,{variant:"outline",className:"h-10 px-6 rounded-lg",onClick:e,children:[(0,z.jsx)(K,{className:"mr-2 h-4 w-4"}),"Issue Credit Note"]}),(0,z.jsxs)(tb,{variant:"outline",className:"h-10 px-6 rounded-lg",onClick:a,children:[(0,z.jsx)(J,{className:"mr-2 h-4 w-4"}),"Issue Refund"]}),(0,z.jsxs)(tb,{variant:"outline",className:"h-10 px-6 rounded-lg",onClick:t,children:[(0,z.jsx)(dh,{className:"mr-2 h-4 w-4"}),"Generate Report"]})]})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px]",children:"Recent Activity"})}),(0,z.jsx)(on,{children:(0,z.jsxs)(c8,{children:[(0,z.jsx)(c7,{children:(0,z.jsxs)(de,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,z.jsx)(dt,{children:"Date"}),(0,z.jsx)(dt,{children:"Type"}),(0,z.jsx)(dt,{children:"Description"}),(0,z.jsx)(dt,{children:"Amount"}),(0,z.jsx)(dt,{children:"Status"}),(0,z.jsx)(dt,{className:"text-right",children:"Actions"})]})}),(0,z.jsx)(c9,{children:dp.map(e=>(0,z.jsxs)(de,{className:"h-14 hover:bg-[#F3F4F6]",children:[(0,z.jsx)(dr,{className:"text-[#374151]",children:e.date}),(0,z.jsx)(dr,{children:(0,z.jsx)(cZ,{variant:"secondary",className:"bg-[#F3F4F6] text-[#374151]",children:e.type})}),(0,z.jsx)(dr,{className:"text-[#374151]",children:e.description}),(0,z.jsx)(dr,{className:"text-[#111827]",children:e.amount}),(0,z.jsxs)(dr,{children:["Paid"===e.status&&(0,z.jsx)(cZ,{className:"bg-[#059669] hover:bg-[#047857]",children:"Paid"}),"Pending"===e.status&&(0,z.jsx)(cZ,{className:"bg-[#F59E0B] hover:bg-[#D97706]",children:"Pending"}),"Overdue"===e.status&&(0,z.jsx)(cZ,{className:"bg-[#DC2626] hover:bg-[#B91C1C]",children:"Overdue"})]}),(0,z.jsx)(dr,{className:"text-right",children:(0,z.jsx)(tb,{variant:"ghost",size:"sm",className:"hover:bg-[#F3F4F6]",children:"View"})})]},e.id))})]})})]})]})}let dg=Y("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);function dv({invoices:e,onView:t,onEditPayment:r,userRole:s}){let[a,n]=(0,q.useState)(""),[i,l]=(0,q.useState)("all"),o=e.filter(e=>{let t=e.invoiceNumber.toLowerCase().includes(a.toLowerCase())||e.customerName.toLowerCase().includes(a.toLowerCase())||e.deliveryOrderNumber.toLowerCase().includes(a.toLowerCase()),r="all"===i||e.status===i;return t&&r}),c={total:e.length,pending:e.filter(e=>"Pending Payment"===e.status).length,pendingApproval:e.filter(e=>"Pending Approval"===e.status).length,paid:e.filter(e=>"Paid"===e.status).length,rejected:e.filter(e=>"Rejected"===e.status).length,overdue:e.filter(e=>"Overdue"===e.status).length,totalRevenue:e.filter(e=>"Paid"===e.status).reduce((e,t)=>e+t.grandTotal,0)};return(0,z.jsxs)("div",{className:"space-y-6",children:[c.overdue>0&&(0,z.jsx)(ot,{className:"border-orange-500 bg-orange-50",children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)(ej,{className:"h-5 w-5 text-orange-600"}),(0,z.jsxs)("div",{children:[(0,z.jsxs)("p",{className:"text-orange-900",children:["You have ",c.overdue," overdue invoice",c.overdue>1?"s":""]}),(0,z.jsx)("p",{className:"text-sm text-orange-700 mt-1",children:"Please review and follow up on overdue payments"})]})]})})}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"Total Invoices"})}),(0,z.jsx)(on,{children:(0,z.jsx)("p",{className:"text-[#111827]",children:c.total})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"Pending Payment"})}),(0,z.jsx)(on,{children:(0,z.jsx)("p",{className:"text-blue-600",children:c.pending})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"Awaiting Approval"})}),(0,z.jsx)(on,{children:(0,z.jsx)("p",{className:"text-yellow-600",children:c.pendingApproval})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"Overdue"})}),(0,z.jsx)(on,{children:(0,z.jsx)("p",{className:"text-orange-600",children:c.overdue})})]})]}),(0,z.jsxs)(ot,{className:"border-[#F15929] bg-gradient-to-br from-[#FFF7F5] to-white",children:[(0,z.jsx)(or,{children:(0,z.jsxs)(os,{className:"text-[18px] text-[#231F20] flex items-center gap-2",children:[(0,z.jsx)(du,{className:"size-5 text-[#F15929]"}),"Total Paid Revenue"]})}),(0,z.jsx)(on,{children:(0,z.jsxs)("p",{className:"text-[#F15929]",children:["RM ",c.totalRevenue.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})]})})]}),(0,z.jsx)(ot,{className:"border-[#E5E7EB]",children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,z.jsxs)("div",{className:"flex-1 relative",children:[(0,z.jsx)(et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[#6B7280]"}),(0,z.jsx)(tN,{placeholder:"Search by invoice number, customer name, or DO number...",value:a,onChange:e=>n(e.target.value),className:"pl-10 h-10 bg-white border-[#D1D5DB] rounded-md"})]}),(0,z.jsxs)(cl,{value:i,onValueChange:l,children:[(0,z.jsx)(cc,{className:"w-full md:w-[200px] h-10 bg-white border-[#D1D5DB] rounded-md",children:(0,z.jsx)(co,{placeholder:"Filter by status"})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"all",children:"All Statuses"}),(0,z.jsx)(cu,{value:"Pending Payment",children:"Pending Payment"}),(0,z.jsx)(cu,{value:"Pending Approval",children:"Pending Approval"}),(0,z.jsx)(cu,{value:"Paid",children:"Paid"}),(0,z.jsx)(cu,{value:"Rejected",children:"Rejected"}),(0,z.jsx)(cu,{value:"Overdue",children:"Overdue"}),(0,z.jsx)(cu,{value:"Completed",children:"Completed"})]})]})]})})}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px]",children:"Monthly Rental Invoices"})}),(0,z.jsx)(on,{children:0===o.length?(0,z.jsxs)("div",{className:"text-center py-12",children:[(0,z.jsx)(K,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,z.jsx)("p",{className:"text-gray-500",children:"No invoices found"})]}):(0,z.jsxs)(c8,{children:[(0,z.jsx)(c7,{children:(0,z.jsxs)(de,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,z.jsx)(dt,{children:"Customer"}),(0,z.jsx)(dt,{children:"DO Number"}),(0,z.jsx)(dt,{children:"Billing Month"}),(0,z.jsx)(dt,{children:"Amount"}),(0,z.jsx)(dt,{children:"Due Date"}),(0,z.jsx)(dt,{children:"Status"}),(0,z.jsx)(dt,{className:"text-right",children:"Actions"})]})}),(0,z.jsx)(c9,{children:o.map(e=>{var s;let a,n;return(0,z.jsxs)(de,{className:"h-14 hover:bg-[#F3F4F6]",children:[(0,z.jsx)(dr,{className:"text-[#111827]",children:e.customerName}),(0,z.jsx)(dr,{className:"text-[#374151]",children:e.deliveryOrderNumber}),(0,z.jsxs)(dr,{className:"text-[#374151]",children:["Month ",e.billingMonth]}),(0,z.jsxs)(dr,{className:"text-[#111827]",children:["RM ",e.grandTotal.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,z.jsx)(dr,{className:"text-[#374151]",children:(0,z.jsxs)("div",{className:"flex items-center gap-1",children:[(0,z.jsx)(Z,{className:"h-4 w-4 text-gray-400"}),new Date(e.dueDate).toLocaleDateString()]})}),(0,z.jsx)(dr,{children:(e=>{switch(e){case"Paid":return(0,z.jsx)(cZ,{className:"bg-green-600 hover:bg-green-700 text-white",children:"Paid"});case"Pending Payment":return(0,z.jsx)(cZ,{className:"bg-[#EEF5FF] hover:bg-[#E6F0FF] text-[#2F6AE0]",children:"Pending Payment"});case"Pending Approval":return(0,z.jsx)(cZ,{className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Pending Approval"});case"Rejected":return(0,z.jsx)(cZ,{className:"bg-red-600 hover:bg-red-700 text-white",children:"Rejected"});case"Overdue":return(0,z.jsx)(cZ,{className:"bg-orange-600 hover:bg-orange-700 text-white",children:"Overdue"});case"Completed":return(0,z.jsx)(cZ,{className:"bg-gray-600 hover:bg-gray-700 text-white",children:"Completed"});default:return(0,z.jsx)(cZ,{children:e})}})(e.status)}),(0,z.jsx)(dr,{className:"text-right",children:(0,z.jsxs)(n1,{children:[(0,z.jsx)(n2,{asChild:!0,children:(0,z.jsx)(tb,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:(0,z.jsx)(dg,{className:"h-4 w-4"})})}),(0,z.jsxs)(n4,{align:"end",children:[(0,z.jsxs)(n5,{onClick:()=>t(e.id),children:[(0,z.jsx)(lv,{className:"h-4 w-4 mr-2"}),"View Details"]}),"Pending Payment"===e.status&&r&&(0,z.jsxs)(n5,{onClick:()=>r(e.id),disabled:(s=e.dueDate,a=new Date,n=new Date(s),a.setHours(0,0,0,0),n.setHours(0,0,0,0),!(a<=n)),children:[(0,z.jsx)(cX,{className:"h-4 w-4 mr-2"}),"Edit Payment Details / Replace Proof"]})]})]})})]},e.id)})})]})})]})]})}function dj({invoice:e,onBack:t,onSubmitPayment:r,onApprove:s,onReject:a,onMarkAsReturned:n,userRole:i}){let[l,o]=(0,q.useState)(null),[c,d]=(0,q.useState)(!1),[u,m]=(0,q.useState)(!1),[h,x]=(0,q.useState)(!1),[p,f]=(0,q.useState)(""),[g,v]=(0,q.useState)("");e.dueDate;let j=("Pending Payment"===e.status||"Rejected"===e.status||"Overdue"===e.status)&&!e.paymentProof,y=("Admin"===i||"Finance"===i)&&"Pending Approval"===e.status,{monthsLate:b,overdueCharge:N,totalWithOverdue:w}=(()=>{let t=new Date,r=new Date(e.dueDate),s=e.paymentSubmittedAt?new Date(e.paymentSubmittedAt):t,a=Math.max(0,(s.getFullYear()-r.getFullYear())*12+(s.getMonth()-r.getMonth()));if(0===a)return{monthsLate:0,overdueCharge:0,totalWithOverdue:e.grandTotal};let n=e.grandTotal*e.defaultInterestRate*a,i=e.grandTotal+n;return{monthsLate:a,overdueCharge:n,totalWithOverdue:i}})(),C=N>0;return(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsxs)("div",{className:"flex items-center gap-4",children:[(0,z.jsxs)(tb,{variant:"outline",onClick:t,className:"h-10",children:[(0,z.jsx)(lC,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h1",{className:"text-[#231F20]",children:"Invoice Details"}),(0,z.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.invoiceNumber})]})]}),(e=>{switch(e){case"Paid":return(0,z.jsx)(cZ,{className:"bg-green-600 hover:bg-green-700 text-white text-base px-4 py-1",children:"Paid"});case"Pending Payment":return(0,z.jsx)(cZ,{className:"bg-[#EEF5FF] hover:bg-[#E6F0FF] text-[#2F6AE0] text-base px-4 py-1",children:"Pending Payment"});case"Pending Approval":return(0,z.jsx)(cZ,{className:"bg-blue-600 hover:bg-blue-700 text-white text-base px-4 py-1",children:"Pending Approval"});case"Rejected":return(0,z.jsx)(cZ,{className:"bg-red-600 hover:bg-red-700 text-white text-base px-4 py-1",children:"Rejected"});case"Overdue":return(0,z.jsx)(cZ,{className:"bg-orange-600 hover:bg-orange-700 text-white text-base px-4 py-1",children:"Overdue"});case"Completed":return(0,z.jsx)(cZ,{className:"bg-gray-600 hover:bg-gray-700 text-white text-base px-4 py-1",children:"Completed"});default:return(0,z.jsx)(cZ,{children:e})}})(e.status)]}),"Overdue"===e.status&&(0,z.jsx)(ot,{className:"border-orange-500 bg-orange-50",children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)(ej,{className:"h-6 w-6 text-orange-600"}),(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsx)("p",{className:"text-orange-900",children:"Payment Overdue"}),(0,z.jsxs)("p",{className:"text-sm text-orange-700 mt-1",children:["This invoice is past its due date. Overdue charges of ",(0,z.jsxs)("span",{className:"font-semibold",children:["RM ",N.toFixed(2)]})," (",b," ",1===b?"month":"months"," late) have been applied."]}),(0,z.jsxs)("p",{className:"text-sm text-orange-700 mt-1",children:["Total amount due: ",(0,z.jsxs)("span",{className:"font-semibold",children:["RM ",w.toFixed(2)]})]})]})]})})}),e.isAutoGenerated&&(0,z.jsx)(ot,{className:"border-blue-500 bg-blue-50",children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)(K,{className:"h-5 w-5 text-blue-600"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-blue-900",children:e.notes}),e.itemsReturned&&(0,z.jsxs)("p",{className:"text-sm text-green-700 mt-2 flex items-center gap-2",children:[(0,z.jsx)(ex,{className:"h-4 w-4"}),"Rental items returned. No further billing will occur."]})]})]})})}),"Rejected"===e.status&&e.rejectionReason&&(0,z.jsx)(ot,{className:"border-[#DC2626] bg-[#FEF2F2]",children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(ej,{className:"h-5 w-5 text-[#DC2626] flex-shrink-0 mt-0.5"}),(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsx)("p",{className:"text-[#991B1B]",children:"Payment Rejected"}),(0,z.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Reason: ",e.rejectionReason]}),(0,z.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Please upload new payment proof below to resubmit for approval."})]})]})})}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[16px]",children:"Customer Information"})}),(0,z.jsxs)(on,{className:"space-y-3",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Customer Name"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.customerName})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Customer ID"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.customerId})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Address"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.customerAddress})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Contact"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.customerContact})]})]})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[16px]",children:"Invoice Information"})}),(0,z.jsxs)(on,{className:"space-y-3",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Delivery Order (DO)"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.deliveryOrderNumber})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Agreement ID"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.agreementId})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Billing Month"}),(0,z.jsxs)("p",{className:"text-[#231F20]",children:["Month ",e.billingMonth," of rental contract"]})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Billing Period"}),(0,z.jsxs)("p",{className:"text-[#231F20]",children:[new Date(e.billingPeriodStart).toLocaleDateString()," - ",new Date(e.billingPeriodEnd).toLocaleDateString()]})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Due Date"}),(0,z.jsxs)("p",{className:"text-[#231F20] flex items-center gap-2",children:[(0,z.jsx)(Z,{className:"h-4 w-4 text-gray-400"}),new Date(e.dueDate).toLocaleDateString()]})]}),(0,z.jsxs)("div",{className:"pt-2 border-t",children:[(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)("p",{className:"text-sm text-[#444444] font-medium",children:"Default Interest (Per Month)"}),(0,z.jsxs)("div",{className:"group relative",children:[(0,z.jsx)(eu,{className:"h-4 w-4 text-gray-400 cursor-help"}),(0,z.jsx)("div",{className:"absolute left-0 bottom-full mb-2 hidden group-hover:block w-64 p-2 bg-gray-900 text-white text-xs rounded shadow-lg z-10",children:"Default interest rate specified in the rental agreement. Applied when payments are overdue."})]})]}),(0,z.jsxs)("p",{className:"text-[#444444] font-semibold mt-1",children:[(100*e.defaultInterestRate).toFixed(1),"% per month"]}),(0,z.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Overdue charges will be calculated automatically based on the default interest rate."})]})]})]})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[16px]",children:"Rental Items"})}),(0,z.jsxs)(on,{children:[(0,z.jsxs)(c8,{children:[(0,z.jsx)(c7,{children:(0,z.jsxs)(de,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,z.jsx)(dt,{children:"Item Name"}),(0,z.jsx)(dt,{className:"text-right",children:"Quantity"}),(0,z.jsx)(dt,{className:"text-right",children:"Unit Price (RM)"}),(0,z.jsx)(dt,{className:"text-center",children:"Rental Duration"}),(0,z.jsx)(dt,{className:"text-right",children:"Monthly Rate (RM)"}),(0,z.jsx)(dt,{className:"text-right",children:"Total (RM)"})]})}),(0,z.jsx)(c9,{children:e.rentalItems.map(e=>(0,z.jsxs)(de,{className:"hover:bg-[#F3F4F6]",children:[(0,z.jsx)(dr,{className:"text-[#231F20]",children:e.itemName}),(0,z.jsx)(dr,{className:"text-right",children:e.quantity}),(0,z.jsx)(dr,{className:"text-right",children:e.unitPrice.toFixed(2)}),(0,z.jsx)(dr,{className:"text-center",children:e.rentalDuration}),(0,z.jsx)(dr,{className:"text-right",children:e.monthlyRate.toFixed(2)}),(0,z.jsx)(dr,{className:"text-right",children:e.totalPrice.toFixed(2)})]},e.id))})]}),(0,z.jsxs)("div",{className:"mt-6 border-t pt-4 space-y-2",children:[(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Subtotal:"}),(0,z.jsxs)("span",{className:"text-[#231F20]",children:["RM ",e.subtotal.toFixed(2)]})]}),e.taxRate>0&&(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsxs)("span",{className:"text-gray-600",children:["Tax (",(100*e.taxRate).toFixed(0),"%):"]}),(0,z.jsxs)("span",{className:"text-[#231F20]",children:["RM ",e.taxAmount.toFixed(2)]})]}),C&&(0,z.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-md p-3 space-y-2 my-2",children:[(0,z.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,z.jsx)(ej,{className:"h-4 w-4 text-orange-600"}),(0,z.jsx)("span",{className:"text-sm font-medium text-orange-900",children:"Overdue Charges"})]}),(0,z.jsxs)("div",{className:"text-sm space-y-1 text-gray-700",children:[(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{children:"Outstanding Balance:"}),(0,z.jsxs)("span",{children:["RM ",e.grandTotal.toFixed(2)]})]}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{children:"Monthly Interest Rate:"}),(0,z.jsxs)("span",{children:[(100*e.defaultInterestRate).toFixed(1),"%"]})]}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{children:"Months Late:"}),(0,z.jsxs)("span",{children:[b," ",1===b?"month":"months"]})]}),(0,z.jsxs)("div",{className:"flex justify-between border-t border-orange-300 pt-1 mt-1",children:[(0,z.jsx)("span",{className:"font-medium text-orange-900",children:"Overdue Charge:"}),(0,z.jsxs)("span",{className:"font-medium text-orange-900",children:["RM ",N.toFixed(2)]})]}),(0,z.jsxs)("p",{className:"text-xs text-gray-600 mt-2 italic",children:["Calculation: RM ",e.grandTotal.toFixed(2),"  ",(100*e.defaultInterestRate).toFixed(1),"%  ",b," ",1===b?"month":"months"]})]})]}),(0,z.jsxs)("div",{className:"flex justify-between border-t pt-2",children:[(0,z.jsx)("span",{className:"text-[#231F20]",children:C?"Original Amount:":"Grand Total:"}),(0,z.jsxs)("span",{className:C?"text-[#231F20]":"text-[#F15929]",children:["RM ",e.grandTotal.toFixed(2)]})]}),C&&(0,z.jsxs)("div",{className:"flex justify-between border-t pt-2 bg-red-50 -mx-4 px-4 py-2",children:[(0,z.jsx)("span",{className:"text-red-900 font-semibold",children:"Total Amount Due (with overdue charges):"}),(0,z.jsxs)("span",{className:"text-red-600 font-semibold",children:["RM ",w.toFixed(2)]})]})]})]})]}),j&&(0,z.jsxs)(ot,{className:"border-[#F15929]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[16px]",children:"Submit Payment Proof"})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)(lN,{htmlFor:"paymentProof",children:"Upload Payment Receipt/Screenshot"}),(0,z.jsx)(tN,{id:"paymentProof",type:"file",accept:"image/*,.pdf",onChange:e=>{e.target.files&&e.target.files[0]&&o(e.target.files[0])},className:"mt-2"}),l&&(0,z.jsxs)("p",{className:"text-sm text-green-600 mt-2",children:["Selected: ",l.name]})]}),(0,z.jsxs)(tb,{onClick:()=>{l?r(e.id,l):ld.error("Please select a payment proof file")},disabled:!l,className:"bg-[#F15929] hover:bg-[#D14620] text-white",children:[(0,z.jsx)(oo,{className:"h-4 w-4 mr-2"}),"Submit Payment Proof"]})]})]}),e.paymentProof&&(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[16px]",children:"Payment Proof"})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"File Name"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.paymentProof.fileName})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Uploaded At"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:new Date(e.paymentProof.uploadedAt).toLocaleString()})]})]}),(0,z.jsx)(tb,{variant:"outline",asChild:!0,children:(0,z.jsxs)("a",{href:e.paymentProof.fileUrl,target:"_blank",rel:"noopener noreferrer",children:[(0,z.jsx)(K,{className:"h-4 w-4 mr-2"}),"View Document"]})}),y&&(0,z.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,z.jsxs)(tb,{onClick:()=>d(!0),className:"bg-green-600 hover:bg-green-700 text-white",children:[(0,z.jsx)(nQ,{className:"h-4 w-4 mr-2"}),"Approve Payment"]}),(0,z.jsxs)(tb,{onClick:()=>m(!0),variant:"destructive",children:[(0,z.jsx)(ea,{className:"h-4 w-4 mr-2"}),"Reject Payment"]})]})]})]}),"Paid"===e.status&&(0,z.jsx)(ot,{className:"border-green-500 bg-green-50",children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsx)("div",{className:"flex items-center justify-between",children:(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)(nQ,{className:"h-5 w-5 text-green-600"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-green-900",children:"Payment Approved"}),(0,z.jsxs)("p",{className:"text-sm text-green-700",children:["Approved by ",e.approvedBy," on ",new Date(e.approvedAt||"").toLocaleDateString()]}),e.transactionReferenceId&&(0,z.jsxs)("p",{className:"text-sm text-green-700 mt-1",children:["Transaction Reference: ",e.transactionReferenceId]})]})]})})})}),("Admin"===i||"Staff"===i)&&"Paid"===e.status&&!e.itemsReturned&&(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[16px]",children:"Item Return Management"})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsx)("p",{className:"text-sm text-gray-600",children:'When rental items are returned, mark them as returned to stop automatic monthly billing and set the invoice status to "Completed".'}),(0,z.jsxs)(tb,{onClick:()=>x(!0),variant:"outline",className:"border-[#F15929] text-[#F15929] hover:bg-[#FFF7F5]",children:[(0,z.jsx)(ex,{className:"h-4 w-4 mr-2"}),"Mark Items as Returned"]})]})]}),"Completed"===e.status&&(0,z.jsx)(ot,{className:"border-gray-500 bg-gray-50",children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsx)("div",{className:"flex items-center justify-between",children:(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)(ex,{className:"h-5 w-5 text-gray-600"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-900",children:"Rental Completed"}),(0,z.jsxs)("p",{className:"text-sm text-gray-700",children:["Items were returned on ",new Date(e.returnedAt||"").toLocaleDateString()]}),(0,z.jsx)("p",{className:"text-sm text-gray-700 mt-1",children:"No further invoices will be generated for this contract."})]})]})})})}),(0,z.jsx)(iZ,{open:c,onOpenChange:d,children:(0,z.jsxs)(i0,{children:[(0,z.jsxs)(i1,{children:[(0,z.jsx)(i4,{children:"Approve Payment"}),(0,z.jsx)(i5,{children:'Are you sure you want to approve this payment? The invoice status will be updated to "Paid".'})]}),C&&(0,z.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-md p-3 space-y-1",children:[(0,z.jsx)("p",{className:"text-sm font-medium text-orange-900",children:"Note: Overdue Charges Applied"}),(0,z.jsxs)("div",{className:"text-sm text-gray-700 space-y-1",children:[(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{children:"Original Amount:"}),(0,z.jsxs)("span",{children:["RM ",e.grandTotal.toFixed(2)]})]}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsxs)("span",{children:["Overdue Charge (",b," ",1===b?"month":"months","  ",(100*e.defaultInterestRate).toFixed(1),"%):"]}),(0,z.jsxs)("span",{children:["RM ",N.toFixed(2)]})]}),(0,z.jsxs)("div",{className:"flex justify-between border-t border-orange-300 pt-1 font-medium text-orange-900",children:[(0,z.jsx)("span",{children:"Total Paid:"}),(0,z.jsxs)("span",{children:["RM ",w.toFixed(2)]})]})]})]}),(0,z.jsxs)("div",{className:"py-4",children:[(0,z.jsx)(lN,{htmlFor:"transactionReferenceId",children:"Transaction Reference ID"}),(0,z.jsx)(tN,{id:"transactionReferenceId",type:"text",value:g,onChange:e=>v(e.target.value),className:"mt-2",placeholder:"Enter transaction reference ID"})]}),(0,z.jsxs)(i2,{children:[(0,z.jsx)(i3,{children:"Cancel"}),(0,z.jsx)(i6,{onClick:()=>{g.trim()?(d(!1),s(e.id,g),v("")):ld.error("Please provide a transaction reference ID")},className:"bg-green-600 hover:bg-green-700 text-white",children:"Approve"})]})]})}),(0,z.jsx)(iZ,{open:u,onOpenChange:m,children:(0,z.jsxs)(i0,{children:[(0,z.jsxs)(i1,{children:[(0,z.jsx)(i4,{children:"Reject Payment"}),(0,z.jsx)(i5,{children:"Please provide a reason for rejecting this payment. The customer will need to resubmit."})]}),(0,z.jsx)("div",{className:"py-4",children:(0,z.jsx)(dl,{placeholder:"Enter rejection reason...",value:p,onChange:e=>f(e.target.value),className:"min-h-[100px]"})}),(0,z.jsxs)(i2,{children:[(0,z.jsx)(i3,{onClick:()=>f(""),children:"Cancel"}),(0,z.jsx)(i6,{onClick:()=>{p.trim()?(m(!1),a(e.id,p),f("")):ld.error("Please provide a rejection reason")},className:"bg-red-600 hover:bg-red-700 text-white",children:"Reject"})]})]})}),(0,z.jsx)(iZ,{open:h,onOpenChange:x,children:(0,z.jsxs)(i0,{children:[(0,z.jsxs)(i1,{children:[(0,z.jsx)(i4,{children:"Mark Items as Returned"}),(0,z.jsx)(i5,{children:"This will stop all future automatic billing for this contract. Are you sure the rental items have been returned and verified?"})]}),(0,z.jsxs)(i2,{children:[(0,z.jsx)(i3,{children:"Cancel"}),(0,z.jsx)(i6,{onClick:()=>{x(!1),n(e.id)},className:"bg-[#F15929] hover:bg-[#D14620] text-white",children:"Confirm Return"})]})]})})]})}let dy=[{id:"item-1",scaffoldingItemId:"std-frame-1",itemName:"Standard Frame 1.8m x 1.2m",quantity:50,unitPrice:15,rentalDuration:"30 days",monthlyRate:450,totalPrice:22500},{id:"item-2",scaffoldingItemId:"cross-brace-1",itemName:"Cross Brace 1.8m",quantity:100,unitPrice:8,rentalDuration:"30 days",monthlyRate:240,totalPrice:24e3},{id:"item-3",scaffoldingItemId:"base-jack-1",itemName:"Base Jack (Adjustable)",quantity:60,unitPrice:12,rentalDuration:"30 days",monthlyRate:360,totalPrice:21600}],db=[{id:"contract-1",agreementId:"AGR-2024-001",deliveryOrderNumber:"DO-2024-001",customerId:"CUST-001",customerName:"Acme Construction Ltd.",customerAddress:"123 Construction Ave, Johor Bahru, Johor 81200",customerContact:"+60 12-345 6789",contractStartDate:"2024-10-01T00:00:00Z",billingCycleDay:1,rentalItems:dy,isActive:!0,itemsReturned:!1,doSignedAt:"2024-10-01T10:00:00Z",createdAt:"2024-10-01T09:00:00Z",lastUpdated:"2024-10-01T09:00:00Z"},{id:"contract-2",agreementId:"AGR-2024-002",deliveryOrderNumber:"DO-2024-002",customerId:"CUST-002",customerName:"BuildRight Inc.",customerAddress:"456 Builder Street, Kuala Lumpur 50000",customerContact:"+60 13-456 7890",contractStartDate:"2024-11-15T00:00:00Z",billingCycleDay:15,rentalItems:[{id:"item-4",scaffoldingItemId:"plank-1",itemName:"Steel Plank 2.0m",quantity:80,unitPrice:20,rentalDuration:"30 days",monthlyRate:600,totalPrice:48e3}],isActive:!0,itemsReturned:!1,doSignedAt:"2024-11-15T14:00:00Z",createdAt:"2024-11-15T13:00:00Z",lastUpdated:"2024-11-15T13:00:00Z"}],dN=[{id:"inv-1",invoiceNumber:"INV-MR-2024-10-0001",deliveryOrderNumber:"DO-2024-001",agreementId:"AGR-2024-001",customerId:"CUST-001",customerName:"Acme Construction Ltd.",customerAddress:"123 Construction Ave, Johor Bahru, Johor 81200",customerContact:"+60 12-345 6789",billingMonth:1,billingPeriodStart:"2024-10-01T00:00:00Z",billingPeriodEnd:"2024-10-31T23:59:59Z",rentalItems:dy,subtotal:68100,taxRate:0,taxAmount:0,grandTotal:68100,defaultInterestRate:.015,status:"Paid",dueDate:"2024-10-08T00:00:00Z",createdAt:"2024-10-01T10:00:00Z",lastUpdated:"2024-10-05T15:00:00Z",isAutoGenerated:!0,autoGeneratedAt:"2024-10-01T10:00:00Z",itemsReturned:!1,notes:"First month invoice - automatically generated upon delivery order confirmation.",paymentProof:{id:"proof-1",fileName:"payment_oct_2024.pdf",fileUrl:"#",fileSize:245e3,fileType:"application/pdf",uploadedAt:"2024-10-03T09:00:00Z"},paymentSubmittedAt:"2024-10-03T09:00:00Z",transactionReferenceId:"TXN-20241003-001234",approvedBy:"Finance Manager",approvedAt:"2024-10-05T15:00:00Z"},{id:"inv-2",invoiceNumber:"INV-MR-2024-11-0002",deliveryOrderNumber:"DO-2024-001",agreementId:"AGR-2024-001",customerId:"CUST-001",customerName:"Acme Construction Ltd.",customerAddress:"123 Construction Ave, Johor Bahru, Johor 81200",customerContact:"+60 12-345 6789",billingMonth:2,billingPeriodStart:"2024-11-01T00:00:00Z",billingPeriodEnd:"2024-11-30T23:59:59Z",rentalItems:dy,subtotal:68100,taxRate:0,taxAmount:0,grandTotal:68100,defaultInterestRate:.015,status:"Pending Approval",dueDate:"2024-11-08T00:00:00Z",createdAt:"2024-11-01T00:00:00Z",lastUpdated:"2024-11-25T10:00:00Z",isAutoGenerated:!0,autoGeneratedAt:"2024-11-01T00:00:00Z",itemsReturned:!1,notes:"Month 2 invoice - automatically generated as rental continues. Items have not yet been returned.",paymentProof:{id:"proof-2",fileName:"payment_nov_2024.jpg",fileUrl:"#",fileSize:189e3,fileType:"image/jpeg",uploadedAt:"2024-11-25T10:00:00Z"},paymentSubmittedAt:"2024-11-25T10:00:00Z"},{id:"inv-3",invoiceNumber:"INV-MR-2024-11-0003",deliveryOrderNumber:"DO-2024-002",agreementId:"AGR-2024-002",customerId:"CUST-002",customerName:"BuildRight Inc.",customerAddress:"456 Builder Street, Kuala Lumpur 50000",customerContact:"+60 13-456 7890",billingMonth:1,billingPeriodStart:"2024-11-15T00:00:00Z",billingPeriodEnd:"2024-12-14T23:59:59Z",rentalItems:[{id:"item-4",scaffoldingItemId:"plank-1",itemName:"Steel Plank 2.0m",quantity:80,unitPrice:20,rentalDuration:"30 days",monthlyRate:600,totalPrice:48e3}],subtotal:48e3,taxRate:0,taxAmount:0,grandTotal:48e3,defaultInterestRate:.015,status:"Pending Payment",dueDate:"2024-11-22T00:00:00Z",createdAt:"2024-11-15T14:00:00Z",lastUpdated:"2024-11-15T14:00:00Z",isAutoGenerated:!0,autoGeneratedAt:"2024-11-15T14:00:00Z",itemsReturned:!1,notes:"First month invoice - automatically generated upon delivery order confirmation."},{id:"inv-4",invoiceNumber:"INV-MR-2024-12-0004",deliveryOrderNumber:"DO-2024-001",agreementId:"AGR-2024-001",customerId:"CUST-001",customerName:"Acme Construction Ltd.",customerAddress:"123 Construction Ave, Johor Bahru, Johor 81200",customerContact:"+60 12-345 6789",billingMonth:3,billingPeriodStart:"2024-12-01T00:00:00Z",billingPeriodEnd:"2024-12-31T23:59:59Z",rentalItems:dy,subtotal:68100,taxRate:0,taxAmount:0,grandTotal:68100,defaultInterestRate:.015,status:"Rejected",dueDate:"2024-12-15T00:00:00Z",createdAt:"2024-12-01T00:00:00Z",lastUpdated:"2024-12-08T14:30:00Z",isAutoGenerated:!0,autoGeneratedAt:"2024-12-01T00:00:00Z",itemsReturned:!1,notes:"Month 3 invoice - automatically generated as rental continues. Items have not yet been returned.",rejectedBy:"Finance Manager",rejectedAt:"2024-12-08T14:30:00Z",rejectionReason:"Payment proof image is unclear. Please upload a clearer screenshot showing transaction details and amount."},{id:"inv-5",invoiceNumber:"INV-MR-2025-12-0005",deliveryOrderNumber:"DO-2024-002",agreementId:"AGR-2024-002",customerId:"CUST-002",customerName:"BuildRight Inc.",customerAddress:"456 Builder Street, Kuala Lumpur 50000",customerContact:"+60 13-456 7890",billingMonth:2,billingPeriodStart:"2025-12-01T00:00:00Z",billingPeriodEnd:"2025-12-31T23:59:59Z",rentalItems:[{id:"item-5",scaffoldingItemId:"plank-1",itemName:"Steel Plank 2.0m",quantity:80,unitPrice:20,rentalDuration:"30 days",monthlyRate:600,totalPrice:48e3}],subtotal:48e3,taxRate:0,taxAmount:0,grandTotal:48e3,defaultInterestRate:.015,status:"Pending Payment",dueDate:"2025-12-31T00:00:00Z",createdAt:"2025-12-01T00:00:00Z",lastUpdated:"2025-12-01T00:00:00Z",isAutoGenerated:!0,autoGeneratedAt:"2025-12-01T00:00:00Z",itemsReturned:!1,notes:"Month 2 invoice - automatically generated as rental continues. Items have not yet been returned."}];function dw({userRole:e="Admin"}){let[t,r]=(0,q.useState)("list"),[s,a]=(0,q.useState)(dN),[n,i]=(0,q.useState)(db),[l,o]=(0,q.useState)(null),[c,d]=(0,q.useState)([]);(0,q.useEffect)(()=>{let e=localStorage.getItem("monthlyRentalInvoices"),t=localStorage.getItem("rentalContracts"),r=localStorage.getItem("billingCycleLogs");if(e)try{a(JSON.parse(e))}catch(e){console.error("Failed to load invoices")}if(t)try{i(JSON.parse(t))}catch(e){console.error("Failed to load contracts")}if(r)try{d(JSON.parse(r))}catch(e){console.error("Failed to load billing logs")}},[]),(0,q.useEffect)(()=>{localStorage.setItem("monthlyRentalInvoices",JSON.stringify(s))},[s]),(0,q.useEffect)(()=>{localStorage.setItem("rentalContracts",JSON.stringify(n))},[n]),(0,q.useEffect)(()=>{localStorage.setItem("billingCycleLogs",JSON.stringify(c))},[c]),(0,q.useEffect)(()=>{let e=()=>{let e=new Date,t=e.getDate();n.forEach(r=>{if(!r.isActive||r.itemsReturned||t!==r.billingCycleDay)return;let a=new Date(r.contractStartDate),n=(e.getFullYear()-a.getFullYear())*12+(e.getMonth()-a.getMonth())+1;s.find(e=>e.agreementId===r.agreementId&&e.billingMonth===n)||u(r,n)})},t=setInterval(e,864e5);return e(),()=>clearInterval(t)},[n,s]),(0,q.useEffect)(()=>{let e=()=>{let e=new Date;e.setHours(0,0,0,0);let t=s.map(t=>{if("Pending Payment"===t.status&&!t.paymentProof){let r=new Date(t.dueDate);if(r.setHours(0,0,0,0),r<e)return{...t,status:"Overdue",lastUpdated:new Date().toISOString()}}return t});t.some((e,t)=>e.status!==s[t].status)&&a(t)};e();let t=setInterval(e,6e4);return()=>clearInterval(t)},[s]);let u=(e,t)=>{let r=new Date,s=`INV-MR-${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}-${String(Date.now()).slice(-4)}`,n=new Date(e.contractStartDate);n.setMonth(n.getMonth()+(t-1));let i=new Date(n);i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1);let l=new Date(r);l.setDate(l.getDate()+7);let o=e.rentalItems.reduce((e,t)=>e+t.totalPrice,0),c=0*o,u={id:`inv-${Date.now()}`,invoiceNumber:s,deliveryOrderNumber:e.deliveryOrderNumber,agreementId:e.agreementId,customerId:e.customerId,customerName:e.customerName,customerAddress:e.customerAddress,customerContact:e.customerContact,billingMonth:t,billingPeriodStart:n.toISOString(),billingPeriodEnd:i.toISOString(),rentalItems:e.rentalItems,subtotal:o,taxRate:0,taxAmount:c,grandTotal:o+c,defaultInterestRate:.015,status:"Pending Payment",dueDate:l.toISOString(),createdAt:r.toISOString(),lastUpdated:r.toISOString(),isAutoGenerated:!0,autoGeneratedAt:r.toISOString(),itemsReturned:!1,notes:1===t?"First month invoice - automatically generated upon delivery order confirmation.":`Month ${t} invoice - automatically generated as rental continues. Items have not yet been returned.`};a(e=>[...e,u]);let m={id:`log-${Date.now()}`,contractId:e.id,cycleNumber:t,generatedAt:r.toISOString(),invoiceId:u.id,status:"generated"};d(e=>[...e,m]),ld.success(`Invoice ${s} generated for ${e.customerName} - Month ${t}`)},m=l?s.find(e=>e.id===l):null;return(0,z.jsxs)("div",{className:"space-y-6",children:["list"===t&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)("h1",{children:"Monthly Rental Billing"}),(0,z.jsx)("p",{className:"text-[#374151]",children:"Automated monthly rental invoicing with payment tracking and approval workflows"})]}),(0,z.jsx)(dv,{invoices:s,onView:e=>{o(e),r("details")},onEditPayment:e=>{o(e),r("details")},userRole:e})]}),"details"===t&&m&&(0,z.jsx)(dj,{invoice:m,onBack:()=>{r("list"),o(null)},onSubmitPayment:(e,t)=>{let n=new Date().toISOString(),i={id:`proof-${Date.now()}`,fileName:t.name,fileUrl:URL.createObjectURL(t),fileSize:t.size,fileType:t.type,uploadedAt:n};a(s.map(t=>t.id===e?{...t,status:"Pending Approval",paymentProof:i,paymentSubmittedAt:n,lastUpdated:n}:t)),ld.success("Payment proof submitted successfully"),r("list")},onApprove:(e,t)=>{let n=new Date().toISOString();a(s.map(r=>r.id===e?{...r,status:"Paid",transactionReferenceId:t,approvedBy:"Current User (Admin)",approvedAt:n,lastUpdated:n}:r)),ld.success("Payment approved successfully"),r("list")},onReject:(e,t)=>{let n=new Date().toISOString();a(s.map(r=>r.id===e?{...r,status:"Rejected",rejectedBy:"Current User (Admin)",rejectedAt:n,rejectionReason:t,paymentProof:void 0,lastUpdated:n}:r)),ld.error("Payment rejected"),r("list")},onMarkAsReturned:e=>{let t=s.find(t=>t.id===e);if(!t)return;let r=new Date().toISOString();a(s.map(t=>t.id===e?{...t,status:"Completed",itemsReturned:!0,returnedAt:r,lastUpdated:r}:t)),i(n.map(e=>e.agreementId===t.agreementId?{...e,itemsReturned:!0,returnDate:r,isActive:!1,lastUpdated:r}:e)),ld.success("Items marked as returned. No further invoices will be generated.")},userRole:e})]})}let dC=Y("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),dS=Y("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function dD({status:e}){switch(e){case"Approved":return(0,z.jsx)(cZ,{className:"bg-[#059669] hover:bg-[#047857] text-white",children:"Approved"});case"Pending Approval":return(0,z.jsx)(cZ,{className:"bg-[#F59E0B] hover:bg-[#D97706] text-white",children:"Pending Approval"});case"Draft":return(0,z.jsx)(cZ,{className:"bg-[#6B7280] hover:bg-[#4B5563] text-white",children:"Draft"});case"Rejected":return(0,z.jsx)(cZ,{className:"bg-[#DC2626] hover:bg-[#B91C1C] text-white",children:"Rejected"})}}function dP({creditNotes:e,onView:t,onEdit:r,onDelete:s}){let[a,n]=(0,q.useState)(""),[i,l]=(0,q.useState)("all"),o=e.filter(e=>{let t=e.creditNoteNumber.toLowerCase().includes(a.toLowerCase())||e.customer.toLowerCase().includes(a.toLowerCase()),r="all"===i||e.status===i;return t&&r}),c=e.filter(e=>"Approved"===e.status).reduce((e,t)=>e+t.amount,0),d=e.filter(e=>"Pending Approval"===e.status).reduce((e,t)=>e+t.amount,0),u=e.filter(e=>"Draft"===e.status).length;return(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"Total Credit Notes"})}),(0,z.jsxs)(on,{children:[(0,z.jsx)("p",{className:"text-[#111827]",children:e.length}),(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280] mt-1",children:"All time"})]})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"Approved Amount"})}),(0,z.jsxs)(on,{children:[(0,z.jsxs)("p",{className:"text-[#111827]",children:["RM",c.toLocaleString()]}),(0,z.jsx)("p",{className:"text-[12px] text-[#059669] mt-1",children:"Processed"})]})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"Pending Approval"})}),(0,z.jsxs)(on,{children:[(0,z.jsxs)("p",{className:"text-[#111827]",children:["RM",d.toLocaleString()]}),(0,z.jsx)("p",{className:"text-[12px] text-[#F59E0B] mt-1",children:"Awaiting review"})]})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"Drafts"})}),(0,z.jsxs)(on,{children:[(0,z.jsx)("p",{className:"text-[#111827]",children:u}),(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280] mt-1",children:"Not submitted"})]})]})]}),(0,z.jsxs)("div",{className:"flex items-center gap-4",children:[(0,z.jsxs)("div",{className:"relative flex-1 max-w-[400px]",children:[(0,z.jsx)(et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[#6B7280]"}),(0,z.jsx)(tN,{placeholder:"Search by credit note # or customer...",className:"pl-10 h-10 bg-white border-[#D1D5DB] rounded-md",value:a,onChange:e=>n(e.target.value)})]}),(0,z.jsxs)(cl,{value:i,onValueChange:l,children:[(0,z.jsx)(cc,{className:"w-[200px] h-10 bg-white border-[#D1D5DB] rounded-md",children:(0,z.jsx)(co,{placeholder:"Filter by status"})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"all",children:"All Status"}),(0,z.jsx)(cu,{value:"Draft",children:"Draft"}),(0,z.jsx)(cu,{value:"Pending Approval",children:"Pending Approval"}),(0,z.jsx)(cu,{value:"Approved",children:"Approved"}),(0,z.jsx)(cu,{value:"Rejected",children:"Rejected"})]})]})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px]",children:"Credit Notes"})}),(0,z.jsx)(on,{children:(0,z.jsxs)(c8,{children:[(0,z.jsx)(c7,{children:(0,z.jsxs)(de,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,z.jsx)(dt,{children:"Customer"}),(0,z.jsx)(dt,{children:"Original Invoice"}),(0,z.jsx)(dt,{children:"Amount"}),(0,z.jsx)(dt,{children:"Reason"}),(0,z.jsx)(dt,{children:"Date"}),(0,z.jsx)(dt,{children:"Status"}),(0,z.jsx)(dt,{className:"text-right",children:"Actions"})]})}),(0,z.jsx)(c9,{children:0===o.length?(0,z.jsx)(de,{children:(0,z.jsx)(dr,{colSpan:7,className:"text-center py-8 text-[#6B7280]",children:"No credit notes found"})}):o.map(e=>(0,z.jsxs)(de,{className:"h-14 hover:bg-[#F3F4F6]",children:[(0,z.jsx)(dr,{className:"text-[#374151]",children:e.customer}),(0,z.jsx)(dr,{className:"text-[#374151]",children:e.originalInvoice}),(0,z.jsxs)(dr,{className:"text-[#111827]",children:["RM",e.amount.toLocaleString()]}),(0,z.jsx)(dr,{children:(0,z.jsx)(cZ,{variant:"secondary",className:"bg-[#F3F4F6] text-[#374151]",children:e.reason})}),(0,z.jsx)(dr,{className:"text-[#374151]",children:new Date(e.date).toLocaleDateString()}),(0,z.jsx)(dr,{children:(0,z.jsx)(dD,{status:e.status})}),(0,z.jsx)(dr,{className:"text-right",children:(0,z.jsxs)(n1,{children:[(0,z.jsx)(n2,{asChild:!0,children:(0,z.jsx)(tb,{variant:"ghost",size:"sm",className:"hover:bg-[#F3F4F6]",children:(0,z.jsx)(dg,{className:"h-4 w-4"})})}),(0,z.jsxs)(n4,{align:"end",children:[(0,z.jsxs)(n5,{onClick:()=>t(e.id),children:[(0,z.jsx)(lv,{className:"h-4 w-4 mr-2"}),"View"]}),"Draft"===e.status&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(n5,{onClick:()=>r(e.id),children:[(0,z.jsx)(dC,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,z.jsxs)(n5,{onClick:()=>s(e.id),className:"text-[#DC2626] focus:text-[#DC2626]",children:[(0,z.jsx)(dS,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})})]},e.id))})]})})]})]})}let dk=Y("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),dE=Y("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),dA=Y("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);function dF({onFilesChange:e,maxFiles:t=5,existingFiles:r=[]}){let[s,a]=(0,q.useState)(r),n=(0,q.useRef)(null);return(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"border-2 border-dashed border-[#D1D5DB] rounded-lg p-8 text-center hover:border-[#F15929] transition-colors cursor-pointer",onClick:()=>n.current?.click(),children:[(0,z.jsx)(oo,{className:"h-12 w-12 text-[#6B7280] mx-auto mb-4"}),(0,z.jsx)("p",{className:"text-[#111827] mb-1",children:"Click to upload or drag and drop"}),(0,z.jsxs)("p",{className:"text-[14px] text-[#6B7280]",children:["PNG, JPG, PDF up to 10MB (Max ",t," files)"]}),(0,z.jsx)("input",{ref:n,type:"file",multiple:!0,accept:"image/*,.pdf",className:"hidden",onChange:r=>{let n=[...s,...Array.from(r.target.files||[])].slice(0,t);a(n),e(n)}})]}),s.length>0&&(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)("p",{className:"text-[14px] text-[#374151]",children:["Uploaded Files (",s.length,"/",t,")"]}),(0,z.jsx)("div",{className:"grid grid-cols-1 gap-2",children:s.map((t,r)=>{var n;return(0,z.jsx)(ot,{className:"p-3 border-[#E5E7EB]",children:(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)("div",{className:"flex-shrink-0",children:t.type.startsWith("image/")?(0,z.jsx)(dA,{className:"h-8 w-8 text-[#F15929]"}):(0,z.jsx)(K,{className:"h-8 w-8 text-[#6B7280]"})}),(0,z.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,z.jsx)("p",{className:"text-[14px] text-[#111827] truncate",children:t.name}),(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:(n=t.size)<1024?n+" B":n<1048576?(n/1024).toFixed(1)+" KB":(n/1048576).toFixed(1)+" MB"})]}),(0,z.jsx)(tb,{type:"button",variant:"ghost",size:"sm",onClick:()=>{let t;a(t=s.filter((e,t)=>t!==r)),e(t)},className:"flex-shrink-0",children:(0,z.jsx)(ea,{className:"h-4 w-4 text-[#DC2626]"})})]})},r)})})]})]})}let dR=[{id:"CUST-001",name:"Acme Construction Ltd."},{id:"CUST-002",name:"BuildRight Inc."},{id:"CUST-003",name:"Metro Builders"},{id:"CUST-004",name:"Premium Projects"},{id:"CUST-005",name:"Steel Masters Co."}],dO=[{id:"INV-2024-045",customerId:"CUST-001",amount:15500},{id:"INV-2024-046",customerId:"CUST-002",amount:22300},{id:"INV-2024-047",customerId:"CUST-003",amount:18900},{id:"INV-2024-048",customerId:"CUST-004",amount:12750},{id:"INV-2024-049",customerId:"CUST-005",amount:31200}],dI=[{id:"DO-2024-001",customerId:"CUST-001",invoiceId:"INV-2024-045",doNumber:"DO-2024-001"},{id:"DO-2024-002",customerId:"CUST-002",invoiceId:"INV-2024-046",doNumber:"DO-2024-002"},{id:"DO-2024-003",customerId:"CUST-003",invoiceId:"INV-2024-047",doNumber:"DO-2024-003"},{id:"DO-2024-004",customerId:"CUST-004",invoiceId:"INV-2024-048",doNumber:"DO-2024-004"},{id:"DO-2024-005",customerId:"CUST-005",invoiceId:"INV-2024-049",doNumber:"DO-2024-005"}],dM=[{id:"ITEM-001",doId:"DO-2024-001",name:"Steel Pipe Scaffolding - Standard (6m)",previousPrice:85,currentPrice:95,maxQty:50},{id:"ITEM-002",doId:"DO-2024-001",name:"Scaffold Board - Wooden (3.9m)",previousPrice:45,currentPrice:50,maxQty:30},{id:"ITEM-003",doId:"DO-2024-002",name:"H-Frame Scaffolding (1.7m x 1.2m)",previousPrice:120,currentPrice:135,maxQty:20},{id:"ITEM-004",doId:"DO-2024-003",name:"Ringlock System - Vertical (3m)",previousPrice:95,currentPrice:105,maxQty:60},{id:"ITEM-005",doId:"DO-2024-004",name:"Steel Tube - Heavy Duty (4m)",previousPrice:75,currentPrice:80,maxQty:100},{id:"ITEM-006",doId:"DO-2024-004",name:"Swivel Coupler",previousPrice:12,currentPrice:15,maxQty:150},{id:"ITEM-007",doId:"DO-2024-005",name:"Aluminum Mobile Tower (5m)",previousPrice:450,currentPrice:480,maxQty:3}];function dT({onBack:e,onSave:t,editingNote:r}){let[s,a]=(0,q.useState)(r?.customerId||""),[n,i]=(0,q.useState)(r?.originalInvoice||""),[l,o]=(0,q.useState)(r?.deliveryOrderId||""),[c,d]=(0,q.useState)(r?.reason||"Returned Items"),[u,m]=(0,q.useState)(r?.reasonDescription||""),[h,x]=(0,q.useState)(r?.date||new Date().toISOString().split("T")[0]),[p,f]=(0,q.useState)(r?.items||[{id:"1",description:"",quantity:1,previousPrice:0,currentPrice:0,unitPrice:0,amount:0}]),[g,v]=(0,q.useState)([]),j=dO.filter(e=>e.customerId===s),y=dI.filter(e=>e.invoiceId===n),b=dM.filter(e=>e.doId===l),N=p.map(e=>e.description).filter(Boolean),w=b.length>0&&N.length>=b.length,C=(e,t,r)=>{f(p.map(s=>{if(s.id===e){let e={...s,[t]:r};if("description"===t&&r){let t=b.find(e=>e.name===r);t&&(e.previousPrice=t.previousPrice,e.currentPrice=t.previousPrice,e.unitPrice=t.previousPrice,e.amount=e.quantity*t.previousPrice)}if("quantity"===t||"currentPrice"===t){let t=e.currentPrice||e.unitPrice;e.amount=e.quantity*t,e.unitPrice=t}return e}return s}))},S=p.reduce((e,t)=>e+t.amount,0);return(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{className:"flex items-center gap-4",children:[(0,z.jsxs)(tb,{variant:"ghost",onClick:e,className:"hover:bg-[#F3F4F6]",children:[(0,z.jsx)(lC,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsx)("h1",{children:r?"Edit Credit Note":"Create Credit Note"}),(0,z.jsx)("p",{className:"text-[#374151]",children:r?"Update credit note details":"Fill in the details to create a new credit note"})]})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px]",children:"Credit Note Information"})}),(0,z.jsxs)(on,{className:"space-y-6",children:[(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)("label",{className:"text-[14px] text-[#374151]",children:["Customer ",(0,z.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,z.jsxs)(cl,{value:s,onValueChange:a,children:[(0,z.jsx)(cc,{className:"h-10 bg-white border-[#D1D5DB] rounded-md",children:(0,z.jsx)(co,{placeholder:"Select customer..."})}),(0,z.jsx)(cd,{children:dR.map(e=>(0,z.jsx)(cu,{value:e.id,children:e.name},e.id))})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)("label",{className:"text-[14px] text-[#374151]",children:["Original Invoice ",(0,z.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,z.jsxs)(cl,{value:n,onValueChange:i,disabled:!s,children:[(0,z.jsx)(cc,{className:"h-10 bg-white border-[#D1D5DB] rounded-md",children:(0,z.jsx)(co,{placeholder:"Select invoice..."})}),(0,z.jsx)(cd,{children:j.map(e=>(0,z.jsxs)(cu,{value:e.id,children:[e.id," - RM",e.amount.toLocaleString()]},e.id))})]})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)("label",{className:"text-[14px] text-[#374151]",children:["Delivery Order (DO) ",(0,z.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,z.jsxs)(cl,{value:l,onValueChange:o,disabled:!n,children:[(0,z.jsx)(cc,{className:"h-10 bg-white border-[#D1D5DB] rounded-md",children:(0,z.jsx)(co,{placeholder:"Select delivery order..."})}),(0,z.jsx)(cd,{children:y.map(e=>(0,z.jsx)(cu,{value:e.id,children:e.doNumber},e.id))})]}),(0,z.jsx)("p",{className:"text-xs text-gray-500",children:"Select the DO to load items with price comparison (Previous Price from DO vs Current Price from Invoice)"})]}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)("label",{className:"text-[14px] text-[#374151]",children:["Reason ",(0,z.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,z.jsxs)(cl,{value:c,onValueChange:e=>d(e),children:[(0,z.jsx)(cc,{className:"h-10 bg-white border-[#D1D5DB] rounded-md",children:(0,z.jsx)(co,{})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"Returned Items",children:"Returned Items"}),(0,z.jsx)(cu,{value:"Price Adjustment",children:"Price Adjustment"}),(0,z.jsx)(cu,{value:"Service Issue",children:"Service Issue"}),(0,z.jsx)(cu,{value:"Damaged Goods",children:"Damaged Goods"}),(0,z.jsx)(cu,{value:"Billing Error",children:"Billing Error"}),(0,z.jsx)(cu,{value:"Other",children:"Other"})]})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)("label",{className:"text-[14px] text-[#374151]",children:"Date"}),(0,z.jsx)(tN,{type:"date",value:h,onChange:e=>x(e.target.value),disabled:!0,className:"h-10 bg-[#F3F4F6] border-[#D1D5DB] rounded-md"})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)("label",{className:"text-[14px] text-[#374151]",children:"Additional Details"}),(0,z.jsx)(dl,{placeholder:"Provide additional details about the credit note...",value:u,onChange:e=>m(e.target.value),className:"min-h-[100px] border-[#D1D5DB] rounded-md"})]})]})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsxs)(or,{className:"flex flex-row items-center justify-between",children:[(0,z.jsx)(os,{className:"text-[18px]",children:"Line Items"}),(0,z.jsxs)(tb,{onClick:()=>{f([...p,{id:Date.now().toString(),description:"",quantity:1,previousPrice:0,currentPrice:0,unitPrice:0,amount:0}])},variant:"outline",className:"h-9 px-4 rounded-lg",disabled:w,children:[(0,z.jsx)(dm,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),(0,z.jsxs)(on,{className:"space-y-4",children:[!l&&(0,z.jsx)("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg text-sm text-amber-800",children:"Please select a Delivery Order (DO) above to load items with price comparison"}),p.map((e,t)=>(0,z.jsx)(ot,{className:"border-[#E5E7EB] bg-[#F9FAFB]",children:(0,z.jsx)(on,{className:"pt-6 pb-6",children:(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)("label",{className:"text-[14px] text-[#374151]",children:["Select Item from DO ",(0,z.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,z.jsxs)(cl,{value:e.description,onValueChange:t=>C(e.id,"description",t),disabled:!l,children:[(0,z.jsx)(cc,{className:"h-10 bg-white border-[#D1D5DB] rounded-md",children:(0,z.jsx)(co,{placeholder:"Select item from DO..."})}),(0,z.jsx)(cd,{children:b.filter(t=>{let r=t.name===e.description,s=p.some(r=>r.id!==e.id&&r.description===t.name);return r||!s}).map(e=>(0,z.jsx)(cu,{value:e.name,children:e.name},e.id))})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)("label",{className:"text-[14px] text-[#6B7280]",children:"Previous Price (from Invoice)"}),(0,z.jsx)("div",{className:"h-10 px-3 bg-[#F9FAFB] border border-[#D1D5DB] rounded-md flex items-center",children:(0,z.jsx)("span",{className:"text-[#6B7280]",children:e.previousPrice>0?`RM${e.previousPrice.toFixed(2)}`:"-"})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)("label",{className:"text-[14px] text-[#231F20]",children:["Current Price ",(0,z.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,z.jsx)(tN,{type:"number",step:"0.01",min:"0",max:e.previousPrice||void 0,value:e.currentPrice||"",onChange:t=>C(e.id,"currentPrice",parseFloat(t.target.value)||0),placeholder:"Enter current price",className:"h-10 bg-white border-[#D1D5DB] rounded-md",disabled:!e.description}),e.currentPrice>e.previousPrice&&e.previousPrice>0&&(0,z.jsxs)("p",{className:"text-xs text-[#DC2626] flex items-center gap-1",children:[(0,z.jsx)("span",{className:"font-semibold",children:""})," Current price cannot exceed previous price (RM",e.previousPrice.toFixed(2),")"]})]}),e.previousPrice>0&&e.currentPrice>0&&(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)("label",{className:"text-[14px] text-[#6B7280]",children:"Price Reduction"}),(0,z.jsx)("div",{className:"h-10 px-3 bg-[#FEF2F2] border border-[#DC2626] rounded-md flex items-center",children:(0,z.jsxs)("span",{className:e.previousPrice-e.currentPrice>0?"text-[#DC2626]":"text-[#16A34A]",children:[e.previousPrice-e.currentPrice>0?"-":"+","RM",Math.abs(e.previousPrice-e.currentPrice).toFixed(2)]})})]})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)("label",{className:"text-[14px] text-[#374151]",children:["Quantity to Credit ",(0,z.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,z.jsx)(tN,{type:"number",min:"1",max:b.find(t=>t.name===e.description)?.maxQty||999,value:e.quantity,onChange:t=>C(e.id,"quantity",parseFloat(t.target.value)||0),placeholder:"Enter quantity",className:"h-10 bg-white border-[#D1D5DB] rounded-md",disabled:!e.description}),e.description&&(0,z.jsxs)("p",{className:"text-xs text-gray-500",children:["Max quantity: ",b.find(t=>t.name===e.description)?.maxQty||0]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)("label",{className:"text-[14px] text-[#374151]",children:"Amount (RM)"}),(0,z.jsx)("div",{className:"h-10 px-3 bg-[#F3F4F6] border border-[#D1D5DB] rounded-md flex items-center",children:(0,z.jsxs)("span",{className:"text-[#231F20]",children:["RM",(e.amount||0).toFixed(2)]})}),(0,z.jsxs)("p",{className:"text-xs text-gray-500",children:["Calculated: ",e.quantity,"  RM",(e.currentPrice||0).toFixed(2)]})]}),p.length>1&&(0,z.jsx)("div",{className:"flex items-end h-10",children:(0,z.jsxs)(tb,{variant:"outline",size:"sm",onClick:()=>{var t;return t=e.id,void(p.length>1&&f(p.filter(e=>e.id!==t)))},className:"hover:bg-[#FEF2F2] text-[#DC2626] border-[#DC2626]",children:[(0,z.jsx)(dS,{className:"h-4 w-4 mr-2"}),"Remove Item"]})})]})]})})},e.id)),(0,z.jsx)("div",{className:"flex justify-end",children:(0,z.jsxs)("div",{className:"w-full md:w-1/3 space-y-2",children:[(0,z.jsxs)("div",{className:"flex justify-between items-center p-4 bg-[#FEF2F2] border border-[#DC2626] rounded-lg",children:[(0,z.jsx)("span",{className:"text-[#231F20]",children:"Total Amount Reduce (RM)"}),(0,z.jsxs)("span",{className:"text-[#DC2626]",children:["-RM",p.reduce((e,t)=>e+(t.previousPrice-t.currentPrice)*t.quantity,0).toFixed(2)]})]}),(0,z.jsxs)("div",{className:"flex justify-between items-center p-4 bg-[#F15929] bg-opacity-10 border border-[#F15929] rounded-lg",children:[(0,z.jsx)("span",{className:"text-[#231F20]",children:"Total Amount Charge:"}),(0,z.jsxs)("span",{className:"text-[#231F20]",children:["RM",S.toLocaleString()]})]})]})})]})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px]",children:"Supporting Documents"})}),(0,z.jsx)(on,{children:(0,z.jsx)(dF,{onFilesChange:v,maxFiles:5})})]}),(0,z.jsxs)("div",{className:"flex justify-end gap-3 pb-6",children:[(0,z.jsxs)(tb,{variant:"outline",onClick:()=>{let e=dR.find(e=>e.id===s),a={id:r?.id,customer:e?.name||"",customerId:s,originalInvoice:n,amount:S,reason:c,reasonDescription:u,date:h,status:"Draft",items:p};t(a,!0)},className:"h-10 px-6 rounded-lg",children:[(0,z.jsx)(dk,{className:"mr-2 h-4 w-4"}),"Save as Draft"]}),(0,z.jsxs)(tb,{onClick:()=>{if(!(s?n?h?p.some(e=>!e.description||e.quantity<=0||e.unitPrice<=0)?(ld.error("Please complete all item details"),!1):!(S<=0)||(ld.error("Total amount must be greater than zero"),!1):(ld.error("Please select a date"),!1):(ld.error("Please select an original invoice"),!1):(ld.error("Please select a customer"),!1)))return;let e=dR.find(e=>e.id===s),a={id:r?.id,customer:e?.name||"",customerId:s,originalInvoice:n,amount:S,reason:c,reasonDescription:u,date:h,status:"Pending Approval",items:p};t(a,!1)},className:"bg-[#F15929] hover:bg-[#D14620] text-white h-10 px-6 rounded-lg",children:[(0,z.jsx)(dE,{className:"mr-2 h-4 w-4"}),"Submit for Approval"]})]})]})}function dB({isOpen:e,onClose:t,onReject:r,creditNoteNumber:s}){let[a,n]=(0,q.useState)(""),[i,l]=(0,q.useState)(""),o=()=>{n(""),l(""),t()};return(0,z.jsx)(cQ,{open:e,onOpenChange:o,children:(0,z.jsxs)(c2,{className:"sm:max-w-[500px]",children:[(0,z.jsxs)(c4,{children:[(0,z.jsx)(c6,{children:"Reject Credit Note"}),(0,z.jsxs)(c3,{children:["You are about to reject credit note ",s,". Please provide a reason for rejection."]})]}),(0,z.jsxs)("div",{className:"space-y-4 py-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)("label",{className:"text-[14px] text-[#374151]",children:["Rejection Reason ",(0,z.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,z.jsx)(dl,{placeholder:"Enter detailed reason for rejection...",value:a,onChange:e=>{n(e.target.value),l("")},className:"min-h-[120px] border-[#D1D5DB] rounded-md"}),i&&(0,z.jsx)("p",{className:"text-[12px] text-[#DC2626]",children:i})]}),(0,z.jsx)("div",{className:"bg-[#FEF2F2] border border-[#FEE2E2] rounded-lg p-4",children:(0,z.jsx)("p",{className:"text-[14px] text-[#991B1B]",children:"This action will reject the credit note and notify the creator. The credit note can be revised and resubmitted."})})]}),(0,z.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,z.jsx)(tb,{variant:"outline",onClick:o,className:"h-10 px-6 rounded-lg",children:"Cancel"}),(0,z.jsx)(tb,{onClick:()=>{a.trim()?a.trim().length<10?l("Rejection reason must be at least 10 characters"):(r(a),n(""),l(""),t()):l("Please provide a reason for rejection")},className:"bg-[#DC2626] hover:bg-[#B91C1C] text-white h-10 px-6 rounded-lg",children:"Reject Credit Note"})]})]})})}function d_({creditNote:e,onBack:t,onApprove:r,onReject:s,userRole:a}){let[n,i]=(0,q.useState)(!1),l=("Admin"===a||"Finance"===a)&&"Pending Approval"===e.status;return(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsxs)("div",{className:"flex items-center gap-4",children:[(0,z.jsxs)(tb,{variant:"ghost",onClick:t,className:"hover:bg-[#F3F4F6]",children:[(0,z.jsx)(lC,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,z.jsxs)("div",{children:[(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)("h1",{children:e.creditNoteNumber}),(0,z.jsx)(dD,{status:e.status})]}),(0,z.jsxs)("p",{className:"text-[#374151]",children:["Created on ",new Date(e.createdAt).toLocaleDateString()]})]})]}),(0,z.jsxs)(tb,{variant:"outline",onClick:()=>{ld.success("PDF download started")},className:"h-10 px-6 rounded-lg",children:[(0,z.jsx)(cY,{className:"mr-2 h-4 w-4"}),"Download PDF"]})]}),l&&(0,z.jsx)(ot,{className:"border-[#F15929] bg-[#FFF7F5]",children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#231F20]",children:"Approval Required"}),(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280] mt-1",children:"This credit note requires your approval before processing"})]}),(0,z.jsxs)("div",{className:"flex gap-3",children:[(0,z.jsxs)(tb,{variant:"outline",onClick:()=>i(!0),className:"h-10 px-6 rounded-lg border-[#DC2626] text-[#DC2626] hover:bg-[#FEF2F2]",children:[(0,z.jsx)(cU,{className:"mr-2 h-4 w-4"}),"Reject"]}),(0,z.jsxs)(tb,{onClick:()=>{r(e.id)},className:"bg-[#059669] hover:bg-[#047857] text-white h-10 px-6 rounded-lg",children:[(0,z.jsx)(oc,{className:"mr-2 h-4 w-4"}),"Approve"]})]})]})})}),"Rejected"===e.status&&e.rejectionReason&&(0,z.jsx)(ot,{className:"border-[#DC2626] bg-[#FEF2F2]",children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(cU,{className:"h-5 w-5 text-[#DC2626] mt-0.5"}),(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsxs)("p",{className:"text-[#991B1B]",children:["Rejected by ",e.rejectedBy||"Unknown"]}),(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280] mt-1",children:new Date(e.rejectedAt||"").toLocaleDateString()}),(0,z.jsx)("div",{className:"mt-3 p-3 bg-white rounded-lg border border-[#FEE2E2]",children:(0,z.jsxs)("p",{className:"text-[14px] text-[#374151]",children:[(0,z.jsx)("span",{className:"text-[#991B1B]",children:"Reason:"})," ",e.rejectionReason]})})]})]})})}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px]",children:"Customer Information"})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Customer Name"}),(0,z.jsx)("p",{className:"text-[#111827]",children:e.customer})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Customer ID"}),(0,z.jsx)("p",{className:"text-[#111827]",children:e.customerId})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Original Invoice"}),(0,z.jsx)("p",{className:"text-[#111827]",children:e.originalInvoice})]})]})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px]",children:"Credit Note Details"})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Reason"}),(0,z.jsx)(cZ,{variant:"secondary",className:"bg-[#F3F4F6] text-[#374151] mt-1",children:e.reason})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Date"}),(0,z.jsx)("p",{className:"text-[#111827]",children:new Date(e.date).toLocaleDateString()})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Total Amount"}),(0,z.jsxs)("p",{className:"text-[#111827]",children:["RM",e.amount.toLocaleString()]})]})]})]})]}),e.reasonDescription&&(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px]",children:"Additional Details"})}),(0,z.jsx)(on,{children:(0,z.jsx)("p",{className:"text-[#374151]",children:e.reasonDescription})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px]",children:"Line Items"})}),(0,z.jsx)(on,{children:(0,z.jsxs)(c8,{children:[(0,z.jsx)(c7,{children:(0,z.jsxs)(de,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,z.jsx)(dt,{children:"Description"}),(0,z.jsx)(dt,{className:"text-right",children:"Quantity"}),(0,z.jsx)(dt,{className:"text-right",children:"Unit Price"}),(0,z.jsx)(dt,{className:"text-right",children:"Amount"})]})}),(0,z.jsxs)(c9,{children:[e.items.map(e=>(0,z.jsxs)(de,{className:"hover:bg-[#F3F4F6]",children:[(0,z.jsx)(dr,{className:"text-[#111827]",children:e.description}),(0,z.jsx)(dr,{className:"text-right text-[#374151]",children:e.quantity}),(0,z.jsxs)(dr,{className:"text-right text-[#374151]",children:["RM",e.unitPrice.toLocaleString()]}),(0,z.jsxs)(dr,{className:"text-right text-[#111827]",children:["RM",e.amount.toLocaleString()]})]},e.id)),(0,z.jsxs)(de,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,z.jsx)(dr,{colSpan:3,className:"text-right",children:"Total"}),(0,z.jsxs)(dr,{className:"text-right text-[#111827]",children:["RM",e.amount.toLocaleString()]})]})]})]})})]}),e.attachments&&e.attachments.length>0&&(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px]",children:"Supporting Documents"})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.attachments.map(e=>(0,z.jsx)(ot,{className:"border-[#E5E7EB]",children:(0,z.jsx)(on,{className:"p-4",children:(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)("div",{className:"flex-shrink-0",children:e.fileName.match(/\.(jpg|jpeg|png|gif)$/i)?(0,z.jsx)(dA,{className:"h-8 w-8 text-[#F15929]"}):(0,z.jsx)(K,{className:"h-8 w-8 text-[#6B7280]"})}),(0,z.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,z.jsx)("p",{className:"text-[14px] text-[#111827] truncate",children:e.fileName}),(0,z.jsxs)("p",{className:"text-[12px] text-[#6B7280]",children:[(e.fileSize/1024).toFixed(1)," KB"]})]}),(0,z.jsx)(tb,{variant:"ghost",size:"sm",className:"flex-shrink-0",children:(0,z.jsx)(cY,{className:"h-4 w-4"})})]})})},e.id))})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px]",children:"Audit Trail"})}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)("div",{className:"h-2 w-2 rounded-full bg-[#6B7280] mt-2"}),(0,z.jsxs)("div",{children:[(0,z.jsxs)("p",{className:"text-[#111827]",children:["Created by ",e.createdBy]}),(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:new Date(e.createdAt).toLocaleString()})]})]}),"Approved"===e.status&&e.approvedBy&&(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)("div",{className:"h-2 w-2 rounded-full bg-[#059669] mt-2"}),(0,z.jsxs)("div",{children:[(0,z.jsxs)("p",{className:"text-[#111827]",children:["Approved by ",e.approvedBy]}),(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:new Date(e.approvedAt||"").toLocaleString()})]})]}),"Rejected"===e.status&&e.rejectedBy&&(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)("div",{className:"h-2 w-2 rounded-full bg-[#DC2626] mt-2"}),(0,z.jsxs)("div",{children:[(0,z.jsxs)("p",{className:"text-[#111827]",children:["Rejected by ",e.rejectedBy]}),(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:new Date(e.rejectedAt||"").toLocaleString()})]})]})]})})]}),(0,z.jsx)(dB,{isOpen:n,onClose:()=>i(!1),onReject:t=>{s(e.id,t)},creditNoteNumber:e.creditNoteNumber})]})}let dL=[{id:"1",creditNoteNumber:"CN-2024-001",customer:"Acme Construction Ltd.",customerId:"CUST-001",originalInvoice:"INV-2024-045",amount:750,reason:"Returned Items",reasonDescription:"Customer returned 5 units of steel bars due to excess inventory",date:"2024-11-03",status:"Approved",createdBy:"John Smith",createdAt:"2024-11-03T09:00:00Z",updatedAt:"2024-11-03T14:30:00Z",approvedBy:"Jane Doe (Finance Manager)",approvedAt:"2024-11-03T14:30:00Z",attachments:[{id:"att-1",fileName:"return_receipt.pdf",fileUrl:"#",fileSize:245600,uploadedAt:"2024-11-03T09:00:00Z"}],items:[{id:"item-1",description:"Steel Bar - 12mm x 6m",quantity:5,unitPrice:150,amount:750}]},{id:"2",creditNoteNumber:"CN-2024-002",customer:"BuildRight Inc.",customerId:"CUST-002",originalInvoice:"INV-2024-043",amount:1200,reason:"Price Adjustment",reasonDescription:"Volume discount applied retroactively for bulk order",date:"2024-11-02",status:"Pending Approval",createdBy:"Sarah Johnson",createdAt:"2024-11-02T10:15:00Z",updatedAt:"2024-11-02T10:15:00Z",attachments:[],items:[{id:"item-1",description:"Price adjustment for scaffolding rental",quantity:1,unitPrice:1200,amount:1200}]},{id:"3",creditNoteNumber:"CN-2024-003",customer:"Metro Builders",customerId:"CUST-003",originalInvoice:"INV-2024-038",amount:450,reason:"Service Issue",reasonDescription:"Late delivery compensation",date:"2024-10-30",status:"Approved",createdBy:"Mike Chen",createdAt:"2024-10-30T11:20:00Z",updatedAt:"2024-10-30T16:45:00Z",approvedBy:"Robert Lee (Admin)",approvedAt:"2024-10-30T16:45:00Z",attachments:[],items:[{id:"item-1",description:"Service credit for late delivery",quantity:1,unitPrice:450,amount:450}]},{id:"4",creditNoteNumber:"CN-2024-004",customer:"Premium Projects",customerId:"CUST-004",originalInvoice:"INV-2024-047",amount:2100,reason:"Returned Items",date:"2024-11-01",status:"Draft",createdBy:"Emily Wong",createdAt:"2024-11-01T08:30:00Z",updatedAt:"2024-11-01T08:30:00Z",attachments:[],items:[{id:"item-1",description:"Scaffolding Tubes - 6m",quantity:10,unitPrice:180,amount:1800},{id:"item-2",description:"Couplers - Standard",quantity:20,unitPrice:15,amount:300}]},{id:"5",creditNoteNumber:"CN-2024-005",customer:"Steel Masters Co.",customerId:"CUST-005",originalInvoice:"INV-2024-049",amount:850,reason:"Damaged Goods",reasonDescription:"3 units received with minor rust damage",date:"2024-11-05",status:"Rejected",createdBy:"Tom Williams",createdAt:"2024-11-05T13:00:00Z",updatedAt:"2024-11-05T15:20:00Z",rejectedBy:"Jane Doe (Finance Manager)",rejectedAt:"2024-11-05T15:20:00Z",rejectionReason:"Insufficient documentation. Please provide photos of the damaged goods and inspection report before resubmitting.",attachments:[],items:[{id:"item-1",description:"Steel Plates - 10mm",quantity:3,unitPrice:283.33,amount:850}]}];function dz(){let[e,t]=(0,q.useState)("list"),[r,s]=(0,q.useState)(dL),[a,n]=(0,q.useState)(null),[i]=(0,q.useState)("Admin");(0,q.useEffect)(()=>{let e=localStorage.getItem("creditNotes");if(e)try{s(JSON.parse(e))}catch(e){console.error("Failed to load credit notes from storage")}},[]),(0,q.useEffect)(()=>{localStorage.setItem("creditNotes",JSON.stringify(r))},[r]);let l=a?r.find(e=>e.id===a):null,o=()=>{t("list"),n(null)};return(0,z.jsxs)("div",{className:"space-y-6",children:["list"===e&&(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)("h1",{children:"Credit Note Management"}),(0,z.jsx)("p",{className:"text-[#374151]",children:"Create and manage credit notes for customer refunds and adjustments"})]}),(0,z.jsxs)(tb,{onClick:()=>{n(null),t("create")},className:"bg-[#F15929] hover:bg-[#D14620] text-white h-10 px-6 rounded-lg",children:[(0,z.jsx)(dm,{className:"mr-2 h-4 w-4"}),"Create Credit Note"]})]})}),"list"===e&&(0,z.jsx)(dP,{creditNotes:r,onView:e=>{n(e),t("details")},onEdit:e=>{n(e),t("edit")},onDelete:e=>{let t=r.find(t=>t.id===e);t&&"Draft"===t.status&&(s(r.filter(t=>t.id!==e)),ld.success("Credit note deleted successfully"))}}),("create"===e||"edit"===e)&&(0,z.jsx)(dT,{onBack:o,onSave:(e,a)=>{let n=new Date().toISOString();e.id?(s(r.map(t=>t.id===e.id?{...t,...e,updatedAt:n}:t)),ld.success(a?"Draft saved successfully":"Credit note submitted for approval")):(s([{id:Date.now().toString(),creditNoteNumber:`CN-2024-${String(r.length+1).padStart(3,"0")}`,customer:e.customer||"",customerId:e.customerId||"",originalInvoice:e.originalInvoice||"",amount:e.amount||0,reason:e.reason||"Other",reasonDescription:e.reasonDescription,date:e.date||new Date().toISOString().split("T")[0],status:e.status||"Draft",createdBy:"Current User",createdAt:n,updatedAt:n,attachments:[],items:e.items||[]},...r]),ld.success(a?"Draft created successfully":"Credit note submitted for approval")),t("list")},editingNote:"edit"===e?l:null}),"details"===e&&l&&(0,z.jsx)(d_,{creditNote:l,onBack:o,onApprove:e=>{let a=new Date().toISOString();s(r.map(t=>t.id===e?{...t,status:"Approved",approvedBy:"Current User (Admin)",approvedAt:a,updatedAt:a}:t)),ld.success("Credit note approved successfully"),t("list")},onReject:(e,a)=>{let n=new Date().toISOString();s(r.map(t=>t.id===e?{...t,status:"Rejected",rejectedBy:"Current User (Admin)",rejectedAt:n,rejectionReason:a,updatedAt:n}:t)),ld.error("Credit note rejected"),t("list")},userRole:i})]})}function dq(){return(0,z.jsx)(dz,{})}function dU({refunds:e,onCreateNew:t,onViewDetails:r}){let s=e.reduce((e,t)=>e+parseFloat(t.refundAmount.replace("RM","").replace(",","")),0),a=e.filter(e=>"Pending Approval"===e.status).length,n=e.filter(e=>"Approved"===e.status).length;return e.filter(e=>"Draft"===e.status).length,(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{className:"flex justify-between items-start",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)("h1",{children:"Refund Management"}),(0,z.jsx)("p",{className:"text-[#374151]",children:"Process and track refund requests across all invoice types"})]}),(0,z.jsxs)(tb,{onClick:t,className:"bg-[#F15929] hover:bg-[#D14821] h-10 px-6 rounded-lg",children:[(0,z.jsx)(dm,{className:"mr-2 h-4 w-4"}),"Issue New Refund"]})]}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"Total Refunds"})}),(0,z.jsx)(on,{children:(0,z.jsx)("p",{className:"text-[#111827]",children:e.length})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"Pending Approval"})}),(0,z.jsx)(on,{children:(0,z.jsx)("p",{className:"text-[#F59E0B]",children:a})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"Approved"})}),(0,z.jsx)(on,{children:(0,z.jsx)("p",{className:"text-[#059669]",children:n})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"Total Amount"})}),(0,z.jsx)(on,{children:(0,z.jsxs)("p",{className:"text-[#111827]",children:["RM",s.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})})]})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px]",children:"Refund Listing"})}),(0,z.jsx)(on,{children:(0,z.jsxs)(c8,{children:[(0,z.jsx)(c7,{children:(0,z.jsxs)(de,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,z.jsx)(dt,{children:"Refund ID"}),(0,z.jsx)(dt,{children:"Invoice No"}),(0,z.jsx)(dt,{children:"Invoice Type"}),(0,z.jsx)(dt,{children:"Customer"}),(0,z.jsx)(dt,{children:"Refund Amount"}),(0,z.jsx)(dt,{children:"Status"}),(0,z.jsx)(dt,{children:"Created Date"}),(0,z.jsx)(dt,{className:"text-right",children:"Action"})]})}),(0,z.jsx)(c9,{children:0===e.length?(0,z.jsx)(de,{children:(0,z.jsx)(dr,{colSpan:8,className:"text-center text-[#6B7280] h-32",children:'No refund records found. Click "Issue New Refund" to create one.'})}):e.map(e=>(0,z.jsxs)(de,{className:"h-14 hover:bg-[#F3F4F6]",children:[(0,z.jsx)(dr,{className:"text-[#111827]",children:e.refundId}),(0,z.jsx)(dr,{className:"text-[#374151]",children:e.invoiceNo}),(0,z.jsx)(dr,{children:(0,z.jsx)(cZ,{variant:"secondary",className:"bg-[#F3F4F6] text-[#374151]",children:e.invoiceType})}),(0,z.jsx)(dr,{className:"text-[#374151]",children:e.customer}),(0,z.jsx)(dr,{className:"text-[#111827]",children:e.refundAmount}),(0,z.jsx)(dr,{children:(e=>{switch(e){case"Draft":return(0,z.jsx)(cZ,{className:"bg-[#6B7280] hover:bg-[#4B5563]",children:"Draft"});case"Pending Approval":return(0,z.jsx)(cZ,{className:"bg-[#F59E0B] hover:bg-[#D97706]",children:"Pending Approval"});case"Approved":return(0,z.jsx)(cZ,{className:"bg-[#059669] hover:bg-[#047857]",children:"Approved"});case"Rejected":return(0,z.jsx)(cZ,{className:"bg-[#DC2626] hover:bg-[#B91C1C]",children:"Rejected"})}})(e.status)}),(0,z.jsx)(dr,{className:"text-[#374151]",children:e.createdDate}),(0,z.jsx)(dr,{className:"text-right",children:(0,z.jsxs)(tb,{variant:"ghost",size:"sm",className:"hover:bg-[#F3F4F6]",onClick:()=>r(e),children:[(0,z.jsx)(lv,{className:"mr-1 h-4 w-4"}),"View"]})})]},e.id))})]})})]})]})}let d$=[{invoiceNo:"DEP-2024-0345",type:"Deposit",customer:"Sunrise Construction Ltd.",items:"Scaffolding Equipment Deposit - 100 units",paidAmount:"RM10,000.00"},{invoiceNo:"MR-2024-0234",type:"Monthly Billing",customer:"BuildMaster Inc.",items:"Monthly Rental - November 2024",paidAmount:"RM4,500.00"},{invoiceNo:"CN-2024-0067",type:"Credit Note",customer:"Metro Construction Group",items:"Credit Note for returned items",paidAmount:"RM1,200.00"},{invoiceNo:"DEP-2024-0389",type:"Deposit",customer:"Premium Builders Sdn Bhd",items:"Equipment Deposit - Phase 2",paidAmount:"RM8,500.00"}];function dV({onBack:e,onSave:t}){let[r,s]=(0,q.useState)(null),[a,n]=(0,q.useState)(""),[i,l]=(0,q.useState)(""),[o,c]=(0,q.useState)(""),[d,u]=(0,q.useState)([]),[m,h]=(0,q.useState)({});return r&&parseFloat(r.paidAmount.replace("RM","").replace(",","")),(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{className:"flex items-center gap-4",children:[(0,z.jsx)(tb,{variant:"ghost",size:"icon",onClick:e,className:"hover:bg-[#F3F4F6]",children:(0,z.jsx)(lC,{className:"h-5 w-5"})}),(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("h1",{children:"Issue New Refund"}),(0,z.jsx)("p",{className:"text-[#374151]",children:"Create a refund request for an existing invoice"})]})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)("div",{className:"w-8 h-8 rounded-lg bg-[#F15929] flex items-center justify-center",children:(0,z.jsx)(K,{className:"h-4 w-4 text-white"})}),(0,z.jsx)(os,{className:"text-[18px]",children:"Select Invoice"})]})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"invoice",children:"Search and Select Invoice"}),(0,z.jsxs)(cl,{onValueChange:e=>{s(d$.find(t=>t.invoiceNo===e)||null),h({})},children:[(0,z.jsx)(cc,{className:`h-10 ${m.invoice?"border-[#DC2626]":""}`,children:(0,z.jsx)(co,{placeholder:"Select an invoice..."})}),(0,z.jsx)(cd,{children:d$.map(e=>(0,z.jsxs)(cu,{value:e.invoiceNo,children:[e.invoiceNo," - ",e.customer," (",e.type,")"]},e.invoiceNo))})]}),m.invoice&&(0,z.jsx)("p",{className:"text-[#DC2626] text-[14px]",children:m.invoice})]}),r&&(0,z.jsx)(ot,{className:"border-[#E5E7EB] bg-[#F9FAFB]",children:(0,z.jsxs)(on,{className:"pt-6 space-y-3",children:[(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-[14px] text-[#6B7280]",children:"Invoice No:"}),(0,z.jsx)("span",{className:"text-[14px] text-[#111827]",children:r.invoiceNo})]}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-[14px] text-[#6B7280]",children:"Type:"}),(0,z.jsx)("span",{className:"text-[14px] text-[#111827]",children:r.type})]}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-[14px] text-[#6B7280]",children:"Customer:"}),(0,z.jsx)("span",{className:"text-[14px] text-[#111827]",children:r.customer})]}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-[14px] text-[#6B7280]",children:"Items:"}),(0,z.jsx)("span",{className:"text-[14px] text-[#111827]",children:r.items})]}),(0,z.jsxs)("div",{className:"border-t border-[#E5E7EB] pt-3 flex justify-between",children:[(0,z.jsx)("span",{className:"text-[14px] text-[#111827]",children:"Paid Amount:"}),(0,z.jsx)("span",{className:"text-[#059669]",children:r.paidAmount})]})]})})]})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)("div",{className:"w-8 h-8 rounded-lg bg-[#F15929] flex items-center justify-center",children:(0,z.jsx)(X,{className:"h-4 w-4 text-white"})}),(0,z.jsx)(os,{className:"text-[18px]",children:"Refund Details"})]})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"refundAmount",children:["Refund Amount ",r&&(0,z.jsxs)("span",{className:"text-[#6B7280] text-[12px]",children:["(Max: ",r.paidAmount,")"]})]}),(0,z.jsxs)("div",{className:"relative",children:[(0,z.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#6B7280]",children:"RM"}),(0,z.jsx)(tN,{id:"refundAmount",type:"number",step:"0.01",value:a,onChange:e=>{n(e.target.value),m.refundAmount&&h({...m,refundAmount:""})},className:`h-10 pl-12 ${m.refundAmount?"border-[#DC2626]":""}`,placeholder:"0.00",disabled:!r})]}),m.refundAmount&&(0,z.jsx)("p",{className:"text-[#DC2626] text-[14px]",children:m.refundAmount})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"refundMethod",children:"Refund Method"}),(0,z.jsxs)(cl,{value:i,onValueChange:e=>{l(e),m.refundMethod&&h({...m,refundMethod:""})},disabled:!r,children:[(0,z.jsx)(cc,{className:`h-10 ${m.refundMethod?"border-[#DC2626]":""}`,children:(0,z.jsx)(co,{placeholder:"Select refund method..."})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"Bank Transfer",children:"Bank Transfer"}),(0,z.jsx)(cu,{value:"Cash",children:"Cash"}),(0,z.jsx)(cu,{value:"Cheque",children:"Cheque"}),(0,z.jsx)(cu,{value:"eWallet",children:"eWallet"})]})]}),m.refundMethod&&(0,z.jsx)("p",{className:"text-[#DC2626] text-[14px]",children:m.refundMethod})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"reason",children:"Reason for Refund"}),(0,z.jsx)(dl,{id:"reason",value:o,onChange:e=>{c(e.target.value),m.reason&&h({...m,reason:""})},className:`min-h-[100px] ${m.reason?"border-[#DC2626]":""}`,placeholder:"Provide a detailed reason for the refund...",disabled:!r}),m.reason&&(0,z.jsx)("p",{className:"text-[#DC2626] text-[14px]",children:m.reason})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"documents",children:"Upload Supporting Documents"}),(0,z.jsxs)("div",{className:"border-2 border-dashed border-[#E5E7EB] rounded-lg p-6 text-center hover:border-[#F15929] transition-colors",children:[(0,z.jsx)(oo,{className:"h-8 w-8 text-[#6B7280] mx-auto mb-2"}),(0,z.jsx)("p",{className:"text-[14px] text-[#374151] mb-2",children:"Click to upload or drag and drop"}),(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280] mb-4",children:"PDF, JPG, PNG up to 10MB"}),(0,z.jsx)("input",{id:"documents",type:"file",multiple:!0,onChange:e=>{let t=e.target.files;t&&u([...d,...Array.from(t).map(e=>e.name)])},className:"hidden",accept:".pdf,.jpg,.jpeg,.png",disabled:!r}),(0,z.jsx)(tb,{type:"button",variant:"outline",size:"sm",onClick:()=>document.getElementById("documents")?.click(),disabled:!r,children:"Select Files"})]}),d.length>0&&(0,z.jsxs)("div",{className:"space-y-2 mt-3",children:[(0,z.jsx)("p",{className:"text-[14px] text-[#374151]",children:"Uploaded Files:"}),d.map((e,t)=>(0,z.jsxs)("div",{className:"flex items-center gap-2 text-[14px] text-[#6B7280] bg-[#F9FAFB] p-2 rounded",children:[(0,z.jsx)(K,{className:"h-4 w-4"}),e]},t))]})]})]})]}),(0,z.jsx)(ot,{className:"border-[#E5E7EB]",children:(0,z.jsxs)(on,{className:"pt-6",children:[(0,z.jsxs)("div",{className:"flex gap-3",children:[(0,z.jsx)(tb,{variant:"outline",className:"flex-1 h-10",onClick:()=>{r?(t({id:Date.now().toString(),refundId:`REF-2024-${String(Date.now()).slice(-3)}`,invoiceNo:r.invoiceNo,invoiceType:r.type,customer:r.customer,refundAmount:a?`RM${parseFloat(a).toLocaleString(void 0,{minimumFractionDigits:2})}`:"RM0.00",status:"Draft",createdDate:new Date().toISOString().split("T")[0],refundMethod:i||void 0,reason:o||void 0,supportingDocs:d.length>0?d:void 0,paidAmount:r.paidAmount,invoiceItems:r.items}),ld.success("Refund saved as draft")):ld.error("Please select an invoice before saving")},disabled:!r,children:"Save as Draft"}),(0,z.jsx)(tb,{className:"flex-1 bg-[#F15929] hover:bg-[#D14821] h-10",onClick:()=>{(()=>{let e={};if(r||(e.invoice="Please select an invoice"),a){let t=parseFloat(a),s=r?parseFloat(r.paidAmount.replace("RM","").replace(",","")):0;t<=0?e.refundAmount="Refund amount must be greater than 0":t>s&&(e.refundAmount=`Refund amount cannot exceed paid amount (${r?.paidAmount})`)}else e.refundAmount="Refund amount is required";return i||(e.refundMethod="Please select a refund method"),o.trim()||(e.reason="Reason for refund is required"),h(e),0===Object.keys(e).length})()?(t({id:Date.now().toString(),refundId:`REF-2024-${String(Date.now()).slice(-3)}`,invoiceNo:r.invoiceNo,invoiceType:r.type,customer:r.customer,refundAmount:`RM${parseFloat(a).toLocaleString(void 0,{minimumFractionDigits:2})}`,status:"Pending Approval",createdDate:new Date().toISOString().split("T")[0],refundMethod:i,reason:o,supportingDocs:d.length>0?d:void 0,paidAmount:r.paidAmount,invoiceItems:r.items}),ld.success("Refund submitted for approval")):ld.error("Please fill in all required fields correctly")},disabled:!r,children:"Submit for Approval"})]}),(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280] mt-3 text-center",children:"Once submitted, the refund cannot be edited unless rejected by Finance/Admin"})]})})]})}function dW({refund:e,userRole:t,onBack:r,onApprove:s,onReject:a,onUpdate:n}){let[i,l]=(0,q.useState)(!1),[o,c]=(0,q.useState)(!1),[d,u]=(0,q.useState)(""),[m,h]=(0,q.useState)(e.supportingDocs||[]),x=("Admin"===t||"Finance"===t)&&"Pending Approval"===e.status,p="Rejected"===e.status;return(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsxs)("div",{className:"flex items-center gap-4",children:[(0,z.jsx)(tb,{variant:"ghost",size:"icon",onClick:r,className:"hover:bg-[#F3F4F6]",children:(0,z.jsx)(lC,{className:"h-5 w-5"})}),(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("h1",{children:e.refundId}),(0,z.jsx)("p",{className:"text-[#374151]",children:"Refund request details and approval workflow"})]})]}),(e=>{switch(e){case"Draft":return(0,z.jsx)(cZ,{className:"bg-[#6B7280] hover:bg-[#4B5563]",children:"Draft"});case"Pending Approval":return(0,z.jsx)(cZ,{className:"bg-[#F59E0B] hover:bg-[#D97706]",children:"Pending Approval"});case"Approved":return(0,z.jsx)(cZ,{className:"bg-[#059669] hover:bg-[#047857]",children:"Approved"});case"Rejected":return(0,z.jsx)(cZ,{className:"bg-[#DC2626] hover:bg-[#B91C1C]",children:"Rejected"})}})(e.status)]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px]",children:"Refund Information"})}),(0,z.jsx)(on,{className:"space-y-4",children:(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Refund ID"}),(0,z.jsx)("p",{className:"text-[#111827]",children:e.refundId})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Created Date"}),(0,z.jsx)("p",{className:"text-[#111827]",children:e.createdDate})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Invoice No"}),(0,z.jsx)("p",{className:"text-[#111827]",children:e.invoiceNo})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Invoice Type"}),(0,z.jsx)(cZ,{variant:"secondary",className:"bg-[#F3F4F6] text-[#374151]",children:e.invoiceType})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Customer"}),(0,z.jsx)("p",{className:"text-[#111827]",children:e.customer})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Refund Method"}),(0,z.jsx)("p",{className:"text-[#111827]",children:e.refundMethod||"Not specified"})]})]})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px]",children:"Invoice Summary"})}),(0,z.jsxs)(on,{className:"space-y-3",children:[(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-[14px] text-[#6B7280]",children:"Invoice Items:"}),(0,z.jsx)("span",{className:"text-[14px] text-[#111827]",children:e.invoiceItems})]}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-[14px] text-[#6B7280]",children:"Paid Amount:"}),(0,z.jsx)("span",{className:"text-[14px] text-[#111827]",children:e.paidAmount})]}),(0,z.jsxs)("div",{className:"border-t border-[#E5E7EB] pt-3 flex justify-between",children:[(0,z.jsx)("span",{className:"text-[#111827]",children:"Refund Amount:"}),(0,z.jsx)("span",{className:"text-[#059669]",children:e.refundAmount})]})]})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px]",children:"Reason for Refund"})}),(0,z.jsx)(on,{children:(0,z.jsx)("p",{className:"text-[#374151]",children:e.reason||"No reason provided"})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsx)(os,{className:"text-[18px]",children:"Supporting Documents"}),p&&(0,z.jsxs)("div",{children:[(0,z.jsx)("input",{id:"reupload-docs",type:"file",multiple:!0,onChange:t=>{let r=t.target.files;if(r){let t=[...m,...Array.from(r).map(e=>e.name)];h(t),n({...e,supportingDocs:t,status:"Pending Approval",rejectionReason:void 0}),ld.success("Documents uploaded. Status changed to Pending Approval.")}},className:"hidden",accept:".pdf,.jpg,.jpeg,.png"}),(0,z.jsxs)(tb,{variant:"outline",size:"sm",onClick:()=>document.getElementById("reupload-docs")?.click(),children:[(0,z.jsx)(oo,{className:"mr-2 h-4 w-4"}),"Upload New Documents"]})]})]})}),(0,z.jsx)(on,{children:m.length>0?(0,z.jsx)("div",{className:"space-y-2",children:m.map((e,t)=>(0,z.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-[#F9FAFB] rounded-lg",children:[(0,z.jsx)(K,{className:"h-4 w-4 text-[#6B7280]"}),(0,z.jsx)("span",{className:"text-[14px] text-[#374151]",children:e})]},t))}):(0,z.jsx)("p",{className:"text-[#6B7280]",children:"No documents uploaded"})})]}),"Rejected"===e.status&&e.rejectionReason&&(0,z.jsxs)(ot,{className:"border-[#DC2626] bg-[#FEE2E2]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px] text-[#DC2626]",children:"Rejection Reason"})}),(0,z.jsxs)(on,{children:[(0,z.jsx)("p",{className:"text-[#991B1B]",children:e.rejectionReason}),(0,z.jsx)("p",{className:"text-[12px] text-[#991B1B] mt-2",children:"Please upload additional documents and the status will automatically change to Pending Approval."})]})]}),"Approved"===e.status&&(0,z.jsxs)(ot,{className:"border-[#059669] bg-[#D1FAE5]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px] text-[#059669]",children:"Approval Information"})}),(0,z.jsxs)(on,{className:"space-y-2",children:[(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-[14px] text-[#065F46]",children:"Approved By:"}),(0,z.jsx)("span",{className:"text-[14px] text-[#065F46]",children:e.approvedBy})]}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-[14px] text-[#065F46]",children:"Approved Date:"}),(0,z.jsx)("span",{className:"text-[14px] text-[#065F46]",children:e.approvedDate})]})]})]}),x&&(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px]",children:"Approval Actions"})}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"flex gap-3",children:[(0,z.jsxs)(tb,{className:"flex-1 bg-[#059669] hover:bg-[#047857] h-10",onClick:()=>l(!0),children:[(0,z.jsx)(oc,{className:"mr-2 h-4 w-4"}),"Approve Refund"]}),(0,z.jsxs)(tb,{variant:"destructive",className:"flex-1 h-10 bg-[#DC2626] hover:bg-[#B91C1C]",onClick:()=>c(!0),children:[(0,z.jsx)(cU,{className:"mr-2 h-4 w-4"}),"Reject Refund"]})]})})]}),(0,z.jsx)(iZ,{open:i,onOpenChange:l,children:(0,z.jsxs)(i0,{children:[(0,z.jsxs)(i1,{children:[(0,z.jsx)(i4,{children:"Approve Refund"}),(0,z.jsxs)(i5,{children:["Are you sure you want to approve this refund of ",e.refundAmount," for ",e.customer,"? This action cannot be undone."]})]}),(0,z.jsxs)(i2,{children:[(0,z.jsx)(i3,{children:"Cancel"}),(0,z.jsx)(i6,{onClick:()=>{s(e.id),l(!1),ld.success("Refund approved successfully")},className:"bg-[#059669] hover:bg-[#047857]",children:"Approve"})]})]})}),(0,z.jsx)(iZ,{open:o,onOpenChange:c,children:(0,z.jsxs)(i0,{children:[(0,z.jsxs)(i1,{children:[(0,z.jsx)(i4,{children:"Reject Refund"}),(0,z.jsx)(i5,{children:"Please provide a reason for rejecting this refund request."})]}),(0,z.jsxs)("div",{className:"py-4",children:[(0,z.jsx)(lN,{htmlFor:"rejectionReason",children:"Rejection Reason"}),(0,z.jsx)(dl,{id:"rejectionReason",value:d,onChange:e=>u(e.target.value),className:"mt-2 min-h-[100px]",placeholder:"Explain why this refund is being rejected..."})]}),(0,z.jsxs)(i2,{children:[(0,z.jsx)(i3,{onClick:()=>u(""),children:"Cancel"}),(0,z.jsx)(i6,{onClick:()=>{d.trim()?(a(e.id,d),c(!1),u(""),ld.success("Refund rejected")):ld.error("Please provide a reason for rejection")},className:"bg-[#DC2626] hover:bg-[#B91C1C]",children:"Reject"})]})]})})]})}function dH({userRole:e="Staff"}){let[t,r]=(0,q.useState)("list"),[s,a]=(0,q.useState)(null),[n,i]=(0,q.useState)([{id:"1",refundId:"REF-2024-001",invoiceNo:"DEP-2024-0234",invoiceType:"Deposit",customer:"Acme Construction Ltd.",refundAmount:"RM5,000.00",status:"Pending Approval",createdDate:"2024-11-25",refundMethod:"Bank Transfer",reason:"Project completed. All equipment returned in good condition.",paidAmount:"RM5,000.00",invoiceItems:"Scaffolding Equipment Deposit"},{id:"2",refundId:"REF-2024-002",invoiceNo:"MR-2024-0156",invoiceType:"Monthly Billing",customer:"BuildRight Inc.",refundAmount:"RM1,200.00",status:"Approved",createdDate:"2024-11-20",refundMethod:"eWallet",reason:"Overpayment refund",paidAmount:"RM3,500.00",invoiceItems:"Monthly Rental - October 2024",approvedBy:"Admin",approvedDate:"2024-11-22"},{id:"3",refundId:"REF-2024-003",invoiceNo:"DEP-2024-0198",invoiceType:"Deposit",customer:"Metro Builders Sdn Bhd",refundAmount:"RM3,500.00",status:"Draft",createdDate:"2024-11-28",refundMethod:"Bank Transfer",reason:"Early contract termination",paidAmount:"RM5,000.00",invoiceItems:"Equipment Deposit"},{id:"4",refundId:"REF-2024-004",invoiceNo:"CN-2024-0045",invoiceType:"Credit Note",customer:"Premium Projects",refundAmount:"RM850.00",status:"Rejected",createdDate:"2024-11-15",refundMethod:"Cash",reason:"Damaged item refund claim",paidAmount:"RM850.00",invoiceItems:"Credit Note for damaged scaffolding",rejectionReason:"Insufficient documentation provided. Please upload damage assessment report."},{id:"5",refundId:"REF-2024-005",invoiceNo:"DEP-2024-0302",invoiceType:"Deposit",customer:"City Construction Group",refundAmount:"RM7,500.00",status:"Approved",createdDate:"2024-11-10",refundMethod:"Bank Transfer",reason:"Project completion, no outstanding issues",paidAmount:"RM7,500.00",invoiceItems:"Full Equipment Deposit",approvedBy:"Finance Manager",approvedDate:"2024-11-12"}]),l=()=>{r("list"),a(null)};return"create"===t?(0,z.jsx)(dV,{onBack:l,onSave:e=>{i([...n,e]),r("list")}}):"details"===t&&s?(0,z.jsx)(dW,{refund:s,userRole:e,onBack:l,onApprove:t=>{let r=n.map(r=>r.id===t?{...r,status:"Approved",approvedBy:e,approvedDate:new Date().toISOString().split("T")[0]}:r);i(r);let s=r.find(e=>e.id===t);s&&a(s)},onReject:(e,t)=>{let r=n.map(r=>r.id===e?{...r,status:"Rejected",rejectionReason:t}:r);i(r);let s=r.find(t=>t.id===e);s&&a(s)},onUpdate:e=>{i(n.map(t=>t.id===e.id?e:t)),"details"===t&&a(e)}}):(0,z.jsx)(dU,{refunds:n,onCreateNew:()=>{r("create")},onViewDetails:e=>{a(e),r("details")}})}let dY=[{id:"SC-001",name:"Aluminum Scaffolding Frame",category:"Frames",quantity:150,available:120,price:85,status:"Available",location:"Warehouse A",itemStatus:"Available"},{id:"SC-002",name:"Steel Platform Board",category:"Platforms",quantity:200,available:15,price:45,status:"Low Stock",location:"Warehouse A",itemStatus:"Available"},{id:"SC-003",name:"Scaffold Caster Wheels",category:"Accessories",quantity:80,available:0,price:25,status:"Out of Stock",location:"Warehouse B",itemStatus:"Unavailable"},{id:"SC-004",name:"Guard Rail Set",category:"Safety",quantity:100,available:85,price:65,status:"Available",location:"Warehouse A",itemStatus:"Available"}];function dG(){let[e,t]=(0,q.useState)(dY),[r,s]=(0,q.useState)(""),[a,n]=(0,q.useState)("all"),[i,l]=(0,q.useState)("all"),[o,c]=(0,q.useState)(!1),[d,u]=(0,q.useState)(!1),[m,h]=(0,q.useState)(null),[x,p]=(0,q.useState)({name:"",category:"",quantity:0,available:0,price:0,location:"",itemStatus:"Available",imageUrl:""}),f=e.filter(e=>{let t=e.name.toLowerCase().includes(r.toLowerCase())||e.id.toLowerCase().includes(r.toLowerCase()),s="all"===a||e.category===a,n="all"===i||e.status===i||e.itemStatus===i;return t&&s&&n}),g=()=>{p({name:"",category:"",quantity:0,available:0,price:0,location:"",itemStatus:"Available",imageUrl:""})};return(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)("h1",{children:"Scaffolding Management"}),(0,z.jsx)("p",{className:"text-[#374151]",children:"Manage inventory, stock levels, and item catalog"})]}),(0,z.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,z.jsxs)("div",{className:"flex gap-4 items-center flex-1",children:[(0,z.jsxs)("div",{className:"relative flex-1 max-w-[300px]",children:[(0,z.jsx)(et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[#6B7280]"}),(0,z.jsx)(tN,{placeholder:"Search items...",className:"pl-10 h-10 bg-white border-[#D1D5DB] rounded-md",value:r,onChange:e=>s(e.target.value)})]}),(0,z.jsxs)(cl,{value:a,onValueChange:n,children:[(0,z.jsx)(cc,{className:"w-[160px] h-10 bg-white border-[#D1D5DB] rounded-md",children:(0,z.jsx)(co,{placeholder:"Category"})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"all",children:"All Categories"}),(0,z.jsx)(cu,{value:"Frames",children:"Frames"}),(0,z.jsx)(cu,{value:"Platforms",children:"Platforms"}),(0,z.jsx)(cu,{value:"Accessories",children:"Accessories"}),(0,z.jsx)(cu,{value:"Safety",children:"Safety"})]})]}),(0,z.jsxs)(cl,{value:i,onValueChange:l,children:[(0,z.jsx)(cc,{className:"w-[160px] h-10 bg-white border-[#D1D5DB] rounded-md",children:(0,z.jsx)(co,{placeholder:"Status"})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"all",children:"All Status"}),(0,z.jsx)(cu,{value:"Available",children:"Available"}),(0,z.jsx)(cu,{value:"Low Stock",children:"Low Stock"}),(0,z.jsx)(cu,{value:"Out of Stock",children:"Out of Stock"}),(0,z.jsx)(cu,{value:"Unavailable",children:"Unavailable"})]})]})]}),(0,z.jsxs)(tb,{className:"bg-[#F15929] hover:bg-[#d94d1f] h-10 px-6 rounded-lg",onClick:()=>{g(),c(!0)},children:[(0,z.jsx)(dm,{className:"mr-2 h-4 w-4"}),"Add New Item"]})]}),(0,z.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:f.map(e=>(0,z.jsxs)(ot,{className:"border-[#E5E7EB] hover:shadow-lg transition-shadow flex flex-col",children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsxs)("div",{className:"flex items-start justify-between gap-2 h-[48px]",children:[(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsx)(os,{className:"text-[16px]",children:e.name}),(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280] mt-1",children:e.id})]}),(0,z.jsx)("div",{className:"flex-shrink-0",children:("Low Stock"===e.status||"Out of Stock"===e.status)&&(e=>{switch(e){case"Available":return(0,z.jsx)(cZ,{className:"bg-[#059669] hover:bg-[#047857]",children:"Available"});case"Low Stock":return(0,z.jsx)(cZ,{className:"bg-[#F59E0B] hover:bg-[#D97706]",children:"Low Stock"});case"Out of Stock":return(0,z.jsx)(cZ,{className:"bg-[#DC2626] hover:bg-[#B91C1C]",children:"Out of Stock"})}})(e.status)})]})}),(0,z.jsxs)(on,{className:"space-y-3 flex-1 flex flex-col",children:[(0,z.jsx)("div",{className:"aspect-video bg-[#F3F4F6] rounded-lg flex items-center justify-center overflow-hidden",children:e.imageUrl?(0,z.jsx)("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover"}):(0,z.jsx)(ei,{className:"h-12 w-12 text-[#9CA3AF]"})}),(0,z.jsxs)("div",{className:"space-y-2 text-[14px] flex-1",children:[(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-[#6B7280] flex-1",children:"Category:"}),(0,z.jsx)("span",{className:"text-[#111827] flex-1 text-right",children:e.category})]}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-[#6B7280] flex-1",children:"Available:"}),(0,z.jsxs)("span",{className:"text-[#111827] flex-1 text-right",children:[e.available," / ",e.quantity]})]}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-[#6B7280] flex-1",children:"Price/Day:"}),(0,z.jsxs)("span",{className:"text-[#111827] flex-1 text-right",children:["RM ",e.price]})]}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-[#6B7280] flex-1",children:"Location:"}),(0,z.jsx)("span",{className:"text-[#111827] flex-1 text-right",children:e.location})]}),(0,z.jsxs)("div",{className:"flex justify-between items-center",children:[(0,z.jsx)("span",{className:"text-[#6B7280] flex-1",children:"Status:"}),(0,z.jsx)("span",{className:"flex-1 flex justify-end",children:(e=>{switch(e){case"Available":return(0,z.jsx)(cZ,{className:"bg-[#059669] hover:bg-[#047857]",children:"Available"});case"Unavailable":return(0,z.jsx)(cZ,{className:"bg-[#DC2626] hover:bg-[#B91C1C]",children:"Unavailable"})}})(e.itemStatus)})]})]}),(0,z.jsx)("div",{className:"pt-2",children:(0,z.jsxs)(tb,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{h(e),p({name:e.name,category:e.category,quantity:e.quantity,available:e.available,price:e.price,location:e.location,itemStatus:e.itemStatus,imageUrl:e.imageUrl}),u(!0)},children:[(0,z.jsx)(cX,{className:"mr-1 h-3 w-3"}),"Edit"]})})]})]},e.id))}),(0,z.jsx)(cQ,{open:o,onOpenChange:c,children:(0,z.jsxs)(c2,{className:"max-w-[600px]",children:[(0,z.jsxs)(c4,{children:[(0,z.jsx)(c6,{children:"Add New Scaffolding Item"}),(0,z.jsx)(c3,{children:"Enter the details of the new scaffolding item"})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"itemName",children:"Item Name *"}),(0,z.jsx)(tN,{id:"itemName",className:"h-10",value:x.name,onChange:e=>p({...x,name:e.target.value})})]}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"category",children:"Category *"}),(0,z.jsxs)(cl,{value:x.category,onValueChange:e=>p({...x,category:e}),children:[(0,z.jsx)(cc,{className:"h-10",children:(0,z.jsx)(co,{placeholder:"Select category"})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"Frames",children:"Frames"}),(0,z.jsx)(cu,{value:"Platforms",children:"Platforms"}),(0,z.jsx)(cu,{value:"Accessories",children:"Accessories"}),(0,z.jsx)(cu,{value:"Safety",children:"Safety"})]})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"quantity",children:"Total Quantity *"}),(0,z.jsx)(tN,{id:"quantity",type:"number",className:"h-10",value:x.quantity,onChange:e=>p({...x,quantity:parseInt(e.target.value)||0})})]})]}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"available",children:"Available Quantity *"}),(0,z.jsx)(tN,{id:"available",type:"number",className:"h-10",value:x.available,onChange:e=>p({...x,available:parseInt(e.target.value)||0})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"price",children:"Price per Day (RM) *"}),(0,z.jsx)(tN,{id:"price",type:"number",placeholder:"0.00",className:"h-10",value:x.price,onChange:e=>p({...x,price:parseFloat(e.target.value)||0})})]})]}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"location",children:"Warehouse Location *"}),(0,z.jsxs)(cl,{value:x.location,onValueChange:e=>p({...x,location:e}),children:[(0,z.jsx)(cc,{className:"h-10",children:(0,z.jsx)(co,{placeholder:"Select location"})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"Warehouse A",children:"Warehouse A"}),(0,z.jsx)(cu,{value:"Warehouse B",children:"Warehouse B"}),(0,z.jsx)(cu,{value:"Warehouse C",children:"Warehouse C"})]})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"itemStatus",children:"Status *"}),(0,z.jsxs)(cl,{value:x.itemStatus,onValueChange:e=>p({...x,itemStatus:e}),children:[(0,z.jsx)(cc,{className:"h-10",children:(0,z.jsx)(co,{placeholder:"Select status"})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"Available",children:"Available"}),(0,z.jsx)(cu,{value:"Unavailable",children:"Unavailable"})]})]})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"image",children:"Item Image (Optional)"}),(0,z.jsxs)("div",{className:"border-2 border-dashed border-[#D1D5DB] rounded-lg p-8 text-center hover:border-[#F15929] hover:bg-[#FEF2EE] transition-colors cursor-pointer",children:[(0,z.jsx)(oo,{className:"h-8 w-8 text-[#6B7280] mx-auto mb-2"}),(0,z.jsx)("p",{className:"text-[14px] text-[#374151]",children:"Click to upload or drag and drop"}),(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"PNG, JPG up to 10MB"})]})]}),(0,z.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,z.jsx)(tb,{type:"button",variant:"outline",className:"flex-1",onClick:()=>{c(!1),g()},children:"Cancel"}),(0,z.jsx)(tb,{type:"button",className:"flex-1 bg-[#F15929] hover:bg-[#d94d1f]",onClick:()=>{if(!x.name||!x.category||!x.location)return void ld.error("Please fill in all required fields");let r="Available";0===x.available?r="Out of Stock":x.available<.2*x.quantity&&(r="Low Stock");let s={id:`SC-${String(e.length+1).padStart(3,"0")}`,name:x.name,category:x.category,quantity:x.quantity,available:x.available,price:x.price,status:r,location:x.location,itemStatus:x.itemStatus,imageUrl:x.imageUrl};t([...e,s]),ld.success("Item added successfully!"),c(!1),g()},children:"Save Item"})]})]})]})}),(0,z.jsx)(cQ,{open:d,onOpenChange:u,children:(0,z.jsxs)(c2,{className:"max-w-[600px]",children:[(0,z.jsxs)(c4,{children:[(0,z.jsx)(c6,{children:"Edit Scaffolding Item"}),(0,z.jsxs)(c3,{children:["Update the details of ",m?.name]})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"editItemName",children:"Item Name *"}),(0,z.jsx)(tN,{id:"editItemName",className:"h-10",value:x.name,onChange:e=>p({...x,name:e.target.value})})]}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"editCategory",children:"Category *"}),(0,z.jsxs)(cl,{value:x.category,onValueChange:e=>p({...x,category:e}),children:[(0,z.jsx)(cc,{className:"h-10",children:(0,z.jsx)(co,{placeholder:"Select category"})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"Frames",children:"Frames"}),(0,z.jsx)(cu,{value:"Platforms",children:"Platforms"}),(0,z.jsx)(cu,{value:"Accessories",children:"Accessories"}),(0,z.jsx)(cu,{value:"Safety",children:"Safety"})]})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"editQuantity",children:"Total Quantity *"}),(0,z.jsx)(tN,{id:"editQuantity",type:"number",className:"h-10",value:x.quantity,onChange:e=>p({...x,quantity:parseInt(e.target.value)||0})})]})]}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"editAvailable",children:"Available Quantity *"}),(0,z.jsx)(tN,{id:"editAvailable",type:"number",className:"h-10",value:x.available,onChange:e=>p({...x,available:parseInt(e.target.value)||0})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"editPrice",children:"Price per Day (RM) *"}),(0,z.jsx)(tN,{id:"editPrice",type:"number",placeholder:"0.00",className:"h-10",value:x.price,onChange:e=>p({...x,price:parseFloat(e.target.value)||0})})]})]}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"editLocation",children:"Warehouse Location *"}),(0,z.jsxs)(cl,{value:x.location,onValueChange:e=>p({...x,location:e}),children:[(0,z.jsx)(cc,{className:"h-10",children:(0,z.jsx)(co,{placeholder:"Select location"})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"Warehouse A",children:"Warehouse A"}),(0,z.jsx)(cu,{value:"Warehouse B",children:"Warehouse B"}),(0,z.jsx)(cu,{value:"Warehouse C",children:"Warehouse C"})]})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"editItemStatus",children:"Status *"}),(0,z.jsxs)(cl,{value:x.itemStatus,onValueChange:e=>p({...x,itemStatus:e}),children:[(0,z.jsx)(cc,{className:"h-10",children:(0,z.jsx)(co,{placeholder:"Select status"})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"Available",children:"Available"}),(0,z.jsx)(cu,{value:"Unavailable",children:"Unavailable"})]})]})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"editImage",children:"Item Image (Optional)"}),(0,z.jsx)("div",{className:"border-2 border-dashed border-[#D1D5DB] rounded-lg p-8 text-center hover:border-[#F15929] hover:bg-[#FEF2EE] transition-colors cursor-pointer",children:x.imageUrl?(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)("img",{src:x.imageUrl,alt:"Preview",className:"max-h-32 mx-auto rounded"}),(0,z.jsx)("p",{className:"text-[14px] text-[#374151]",children:"Click to change image"})]}):(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(oo,{className:"h-8 w-8 text-[#6B7280] mx-auto mb-2"}),(0,z.jsx)("p",{className:"text-[14px] text-[#374151]",children:"Click to upload or drag and drop"}),(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"PNG, JPG up to 10MB"})]})})]}),(0,z.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,z.jsx)(tb,{type:"button",variant:"outline",className:"flex-1",onClick:()=>{u(!1),h(null),g()},children:"Cancel"}),(0,z.jsx)(tb,{type:"button",className:"flex-1 bg-[#F15929] hover:bg-[#d94d1f]",onClick:()=>{if(!m||!x.name||!x.category||!x.location)return void ld.error("Please fill in all required fields");let r="Available";0===x.available?r="Out of Stock":x.available<.2*x.quantity&&(r="Low Stock");let s={...m,name:x.name,category:x.category,quantity:x.quantity,available:x.available,price:x.price,status:r,location:x.location,itemStatus:x.itemStatus,imageUrl:x.imageUrl};t(e.map(e=>e.id===m.id?s:e)),ld.success("Item updated successfully!"),u(!1),h(null),g()},children:"Update Item"})]})]})]})})]})}let dX=[{id:"RFQ-2024-001",customer:"Acme Construction",date:"2024-11-01",items:5,totalValue:"RM12,500",status:"New"},{id:"RFQ-2024-002",customer:"BuildRight Inc.",date:"2024-11-02",items:3,totalValue:"RM8,200",status:"Quoted"},{id:"RFQ-2024-003",customer:"Metro Builders",date:"2024-11-03",items:7,totalValue:"RM18,900",status:"Accepted"}];function dK(){let[e]=(0,q.useState)(dX),[t,r]=(0,q.useState)(!1),[s,a]=(0,q.useState)(!1),[n,i]=(0,q.useState)([{id:"1",name:"Aluminum Scaffolding Frame",quantity:10,pricePerDay:85,days:30,total:25500},{id:"2",name:"Steel Platform Board",quantity:20,pricePerDay:45,days:30,total:27e3}]),l=n.reduce((e,t)=>e+t.total,0),o=.1*l,c=l+o;return(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)("h1",{children:"Order & Sales Management"}),(0,z.jsx)("p",{className:"text-[#374151]",children:"Manage RFQs, quotations, and sales orders"})]}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"Active RFQs"})}),(0,z.jsx)(on,{children:(0,z.jsx)("p",{className:"text-[#111827]",children:e.filter(e=>"New"===e.status).length})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"Pending Quotes"})}),(0,z.jsx)(on,{children:(0,z.jsx)("p",{className:"text-[#F59E0B]",children:e.filter(e=>"Quoted"===e.status).length})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"Accepted"})}),(0,z.jsx)(on,{children:(0,z.jsx)("p",{className:"text-[#059669]",children:e.filter(e=>"Accepted"===e.status).length})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"Total Value"})}),(0,z.jsx)(on,{children:(0,z.jsx)("p",{className:"text-[#111827]",children:"RM39,600"})})]})]}),(0,z.jsx)("div",{className:"flex gap-3",children:(0,z.jsxs)(cQ,{open:t,onOpenChange:r,children:[(0,z.jsx)(cJ,{asChild:!0,children:(0,z.jsxs)(tb,{className:"bg-[#1E40AF] hover:bg-[#1E3A8A] h-10 px-6 rounded-lg",children:[(0,z.jsx)(dm,{className:"mr-2 h-4 w-4"}),"New RFQ"]})}),(0,z.jsxs)(c2,{className:"max-w-[600px]",children:[(0,z.jsxs)(c4,{children:[(0,z.jsx)(c6,{children:"Create Request for Quotation"}),(0,z.jsx)(c3,{children:"Enter customer requirements to generate an RFQ"})]}),(0,z.jsxs)("form",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"customer",children:"Customer"}),(0,z.jsxs)(cl,{children:[(0,z.jsx)(cc,{className:"h-10",children:(0,z.jsx)(co,{placeholder:"Search customer..."})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"acme",children:"Acme Construction Ltd."}),(0,z.jsx)(cu,{value:"buildright",children:"BuildRight Inc."}),(0,z.jsx)(cu,{value:"metro",children:"Metro Builders"})]})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"projectName",children:"Project Name"}),(0,z.jsx)(tN,{id:"projectName",className:"h-10",placeholder:"e.g., Downtown Plaza Development"})]}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"startDate",children:"Start Date"}),(0,z.jsx)(tN,{id:"startDate",type:"date",className:"h-10"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"duration",children:"Duration (Days)"}),(0,z.jsx)(tN,{id:"duration",type:"number",className:"h-10"})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"requirements",children:"Requirements"}),(0,z.jsx)(dl,{id:"requirements",placeholder:"Describe the scaffolding requirements...",className:"min-h-[100px]"})]}),(0,z.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,z.jsx)(tb,{type:"button",variant:"outline",className:"flex-1",onClick:()=>r(!1),children:"Cancel"}),(0,z.jsx)(tb,{type:"button",className:"flex-1 bg-[#1E40AF] hover:bg-[#1E3A8A]",onClick:()=>{ld.success("RFQ created successfully!"),r(!1)},children:"Create RFQ"})]})]})]})]})}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px]",children:"Request for Quotations"})}),(0,z.jsx)(on,{children:(0,z.jsxs)(c8,{children:[(0,z.jsx)(c7,{children:(0,z.jsxs)(de,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,z.jsx)(dt,{children:"RFQ ID"}),(0,z.jsx)(dt,{children:"Customer"}),(0,z.jsx)(dt,{children:"Date"}),(0,z.jsx)(dt,{children:"Items"}),(0,z.jsx)(dt,{children:"Total Value"}),(0,z.jsx)(dt,{children:"Status"}),(0,z.jsx)(dt,{className:"text-right",children:"Actions"})]})}),(0,z.jsx)(c9,{children:e.map(e=>(0,z.jsxs)(de,{className:"h-14 hover:bg-[#F3F4F6]",children:[(0,z.jsx)(dr,{className:"text-[#111827]",children:e.id}),(0,z.jsx)(dr,{className:"text-[#374151]",children:e.customer}),(0,z.jsx)(dr,{className:"text-[#374151]",children:e.date}),(0,z.jsxs)(dr,{className:"text-[#374151]",children:[e.items," items"]}),(0,z.jsx)(dr,{className:"text-[#111827]",children:e.totalValue}),(0,z.jsx)(dr,{children:(e=>{switch(e){case"New":return(0,z.jsx)(cZ,{className:"bg-[#3B82F6] hover:bg-[#2563EB]",children:"New"});case"Quoted":return(0,z.jsx)(cZ,{className:"bg-[#F59E0B] hover:bg-[#D97706]",children:"Quoted"});case"Accepted":return(0,z.jsx)(cZ,{className:"bg-[#059669] hover:bg-[#047857]",children:"Accepted"});case"Rejected":return(0,z.jsx)(cZ,{className:"bg-[#DC2626] hover:bg-[#B91C1C]",children:"Rejected"})}})(e.status)}),(0,z.jsx)(dr,{className:"text-right",children:(0,z.jsx)("div",{className:"flex items-center justify-end gap-2",children:(0,z.jsx)(tb,{variant:"ghost",size:"sm",onClick:()=>a(!0),children:(0,z.jsx)(K,{className:"h-4 w-4"})})})})]},e.id))})]})})]}),(0,z.jsx)(cQ,{open:s,onOpenChange:a,children:(0,z.jsxs)(c2,{className:"max-w-[800px] max-h-[90vh] overflow-y-auto",children:[(0,z.jsxs)(c4,{children:[(0,z.jsx)(c6,{children:"Generate Quotation - RFQ-2024-001"}),(0,z.jsx)(c3,{children:"Create a detailed quotation for the customer"})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)(ot,{className:"border-[#E5E7EB]",children:(0,z.jsx)(on,{className:"pt-4",children:(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-[14px]",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#6B7280]",children:"Customer"}),(0,z.jsx)("p",{className:"text-[#111827]",children:"Acme Construction Ltd."})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#6B7280]",children:"Project"}),(0,z.jsx)("p",{className:"text-[#111827]",children:"Downtown Plaza Development"})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#6B7280]",children:"Duration"}),(0,z.jsx)("p",{className:"text-[#111827]",children:"30 days"})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#6B7280]",children:"Quotation Date"}),(0,z.jsx)("p",{className:"text-[#111827]",children:"2024-11-04"})]})]})})}),(0,z.jsxs)("div",{className:"space-y-3",children:[(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsx)(lN,{children:"Items"}),(0,z.jsxs)(tb,{type:"button",variant:"outline",size:"sm",onClick:()=>{let e={id:String(n.length+1),name:"",quantity:1,pricePerDay:0,days:1,total:0};i([...n,e])},children:[(0,z.jsx)(dm,{className:"mr-1 h-3 w-3"}),"Add Item"]})]}),(0,z.jsxs)(c8,{children:[(0,z.jsx)(c7,{children:(0,z.jsxs)(de,{className:"bg-[#F9FAFB]",children:[(0,z.jsx)(dt,{children:"Item"}),(0,z.jsx)(dt,{children:"Qty"}),(0,z.jsx)(dt,{children:"Price/Day"}),(0,z.jsx)(dt,{children:"Days"}),(0,z.jsx)(dt,{children:"Total"}),(0,z.jsx)(dt,{})]})}),(0,z.jsxs)(c9,{children:[n.map(e=>(0,z.jsxs)(de,{children:[(0,z.jsx)(dr,{children:e.name}),(0,z.jsx)(dr,{children:e.quantity}),(0,z.jsxs)(dr,{children:["RM",e.pricePerDay]}),(0,z.jsx)(dr,{children:e.days}),(0,z.jsxs)(dr,{className:"text-[#111827]",children:["RM",e.total.toLocaleString()]}),(0,z.jsx)(dr,{children:(0,z.jsx)(tb,{variant:"ghost",size:"sm",onClick:()=>{var t;return t=e.id,void i(n.filter(e=>e.id!==t))},children:(0,z.jsx)("span",{className:"text-[#DC2626]",children:""})})})]},e.id)),(0,z.jsxs)(de,{className:"bg-[#F9FAFB]",children:[(0,z.jsx)(dr,{colSpan:4,className:"text-right",children:"Subtotal"}),(0,z.jsxs)(dr,{className:"text-[#111827]",children:["RM",l.toLocaleString()]}),(0,z.jsx)(dr,{})]}),(0,z.jsxs)(de,{children:[(0,z.jsx)(dr,{colSpan:4,className:"text-right",children:"Tax (10%)"}),(0,z.jsxs)(dr,{className:"text-[#111827]",children:["RM",o.toLocaleString()]}),(0,z.jsx)(dr,{})]}),(0,z.jsxs)(de,{className:"bg-[#F9FAFB]",children:[(0,z.jsx)(dr,{colSpan:4,className:"text-right",children:"Total"}),(0,z.jsxs)(dr,{className:"text-[#111827]",children:["RM",c.toLocaleString()]}),(0,z.jsx)(dr,{})]})]})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"notes",children:"Terms & Conditions"}),(0,z.jsx)(dl,{id:"notes",placeholder:"Enter terms and conditions...",className:"min-h-[80px]",defaultValue:"Payment: 50% deposit, 50% on completion Delivery: Within 3 business days Validity: 30 days from quotation date"})]}),(0,z.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,z.jsx)(tb,{variant:"outline",className:"flex-1",onClick:()=>a(!1),children:"Save Draft"}),(0,z.jsxs)(tb,{variant:"outline",className:"flex-1",children:[(0,z.jsx)(cY,{className:"mr-2 h-4 w-4"}),"Download PDF"]}),(0,z.jsxs)(tb,{className:"flex-1 bg-[#1E40AF] hover:bg-[#1E3A8A]",onClick:()=>{ld.success("Quotation sent to customer!"),a(!1)},children:[(0,z.jsx)(dE,{className:"mr-2 h-4 w-4"}),"Send to Customer"]})]})]})]})})]})}let dZ=Y("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);Symbol.for("constructDateFrom");let dQ={},dJ={};function d0(e,t){try{let r=(dQ[e]||=new Intl.DateTimeFormat("en-GB",{timeZone:e,hour:"numeric",timeZoneName:"longOffset"}).format)(t).split("GMT")[1]||"";if(r in dJ)return dJ[r];return d2(r,r.split(":"))}catch{if(e in dJ)return dJ[e];let t=e?.match(d1);if(t)return d2(e,t.slice(1));return NaN}}let d1=/([+-]\d\d):?(\d\d)?/;function d2(e,t){let r=+t[0],s=+(t[1]||0);return dJ[e]=r>0?60*r+s:60*r-s}class d4 extends Date{constructor(...e){super(),e.length>1&&"string"==typeof e[e.length-1]&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(d0(this.timeZone,this))?this.setTime(NaN):e.length?"number"==typeof e[0]&&(1===e.length||2===e.length&&"number"!=typeof e[1])?this.setTime(e[0]):"string"==typeof e[0]?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),d3(this,NaN),d6(this)):this.setTime(Date.now())}static tz(e,...t){return t.length?new d4(...t,e):new d4(Date.now(),e)}withTimeZone(e){return new d4(+this,e)}getTimezoneOffset(){return-d0(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),d6(this),+this}[Symbol.for("constructDateFrom")](e){return new d4(+new Date(e),this.timeZone)}}let d5=/^(get|set)(?!UTC)/;function d6(e){e.internal.setTime(+e),e.internal.setUTCMinutes(e.internal.getUTCMinutes()-e.getTimezoneOffset())}function d3(e){let t=d0(e.timeZone,e),r=new Date(+e);r.setUTCHours(r.getUTCHours()-1);let s=-new Date(+e).getTimezoneOffset(),a=s- -new Date(+r).getTimezoneOffset(),n=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();a&&n&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+a);let i=s-t;i&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+i);let l=d0(e.timeZone,e),o=-new Date(+e).getTimezoneOffset()-l-i;if(l!==t&&o){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+o);let t=l-d0(e.timeZone,e);t&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+t),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+t))}}Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!d5.test(e))return;let t=e.replace(d5,"$1UTC");d4.prototype[t]&&(e.startsWith("get")?d4.prototype[e]=function(){return this.internal[t]()}:(d4.prototype[e]=function(){var e;return Date.prototype[t].apply(this.internal,arguments),e=this,Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),d3(e),+this},d4.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),d6(this),+this}))});class d8 extends d4{static tz(e,...t){return t.length?new d8(...t,e):new d8(Date.now(),e)}toISOString(){let[e,t,r]=this.tzComponents(),s=`${e}${t}:${r}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){let[e,t,r,s]=this.internal.toUTCString().split(" ");return`${e?.slice(0,-1)} ${r} ${t} ${s}`}toTimeString(){var e,t;let r=this.internal.toUTCString().split(" ")[4],[s,a,n]=this.tzComponents();return`${r} GMT${s}${a}${n} (${e=this.timeZone,t=this,new Intl.DateTimeFormat("en-GB",{timeZone:e,timeZoneName:"long"}).format(t).slice(12)})`}toLocaleString(e,t){return Date.prototype.toLocaleString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}toLocaleDateString(e,t){return Date.prototype.toLocaleDateString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}toLocaleTimeString(e,t){return Date.prototype.toLocaleTimeString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}tzComponents(){let e=this.getTimezoneOffset(),t=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),r=String(Math.abs(e)%60).padStart(2,"0");return[e>0?"-":"+",t,r]}withTimeZone(e){return new d8(+this,e)}[Symbol.for("constructDateFrom")](e){return new d8(+new Date(e),this.timeZone)}}(f=D||(D={})).Root="root",f.Chevron="chevron",f.Day="day",f.DayButton="day_button",f.CaptionLabel="caption_label",f.Dropdowns="dropdowns",f.Dropdown="dropdown",f.DropdownRoot="dropdown_root",f.Footer="footer",f.MonthGrid="month_grid",f.MonthCaption="month_caption",f.MonthsDropdown="months_dropdown",f.Month="month",f.Months="months",f.Nav="nav",f.NextMonthButton="button_next",f.PreviousMonthButton="button_previous",f.Week="week",f.Weeks="weeks",f.Weekday="weekday",f.Weekdays="weekdays",f.WeekNumber="week_number",f.WeekNumberHeader="week_number_header",f.YearsDropdown="years_dropdown",(g=P||(P={})).disabled="disabled",g.hidden="hidden",g.outside="outside",g.focused="focused",g.today="today",(v=k||(k={})).range_end="range_end",v.range_middle="range_middle",v.range_start="range_start",v.selected="selected",(j=E||(E={})).weeks_before_enter="weeks_before_enter",j.weeks_before_exit="weeks_before_exit",j.weeks_after_enter="weeks_after_enter",j.weeks_after_exit="weeks_after_exit",j.caption_after_enter="caption_after_enter",j.caption_after_exit="caption_after_exit",j.caption_before_enter="caption_before_enter",j.caption_before_exit="caption_before_exit";let d7=Symbol.for("constructDateFrom");function d9(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&d7 in e?e[d7](t):e instanceof Date?new e.constructor(t):new Date(t)}function ue(e,t){return d9(t||e,e)}function ut(e,t,r){let s=ue(e,r?.in);return isNaN(t)?d9(r?.in||e,NaN):(t&&s.setDate(s.getDate()+t),s)}function ur(e,t,r){let s=ue(e,r?.in);if(isNaN(t))return d9(r?.in||e,NaN);if(!t)return s;let a=s.getDate(),n=d9(r?.in||e,s.getTime());return(n.setMonth(s.getMonth()+t+1,0),a>=n.getDate())?n:(s.setFullYear(n.getFullYear(),n.getMonth(),a),s)}function us(e){let t=ue(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),e-r}function ua(e,...t){let r=d9.bind(null,e||t.find(e=>"object"==typeof e));return t.map(r)}function un(e,t){let r=ue(e,t?.in);return r.setHours(0,0,0,0),r}function ui(e,t,r){let[s,a]=ua(r?.in,e,t),n=un(s),i=un(a);return Math.round((n-us(n)-(i-us(i)))/864e5)}let ul={};function uo(e,t){let r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??ul.weekStartsOn??ul.locale?.options?.weekStartsOn??0,s=ue(e,t?.in),a=s.getDay();return s.setDate(s.getDate()+((a<r?-7:0)+6-(a-r))),s.setHours(23,59,59,999),s}let uc={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function ud(e){return (t={})=>{let r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}let uu={date:ud({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:ud({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:ud({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},um={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function uh(e){return(t,r)=>{let s;if("formatting"===(r?.context?String(r.context):"standalone")&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,a=r?.width?String(r.width):t;s=e.formattingValues[a]||e.formattingValues[t]}else{let t=e.defaultWidth,a=r?.width?String(r.width):e.defaultWidth;s=e.values[a]||e.values[t]}return s[e.argumentCallback?e.argumentCallback(t):t]}}function ux(e){return(t,r={})=>{let s,a=r.width,n=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(n);if(!i)return null;let l=i[0],o=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?function(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}(o,e=>e.test(l)):function(e,t){for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}(o,e=>e.test(l));return s=e.valueCallback?e.valueCallback(c):c,{value:s=r.valueCallback?r.valueCallback(s):s,rest:t.slice(l.length)}}}let up={code:"en-US",formatDistance:(e,t,r)=>{let s,a=uc[e];if(s="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),r?.addSuffix)if(r.comparison&&r.comparison>0)return"in "+s;else return s+" ago";return s},formatLong:uu,formatRelative:(e,t,r,s)=>um[e],localize:{ordinalNumber:(e,t)=>{let r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:uh({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:uh({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:uh({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:uh({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:uh({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(y={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,t={})=>{let r=e.match(y.matchPattern);if(!r)return null;let s=r[0],a=e.match(y.parsePattern);if(!a)return null;let n=y.valueCallback?y.valueCallback(a[0]):a[0];return{value:n=t.valueCallback?t.valueCallback(n):n,rest:e.slice(s.length)}}),era:ux({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:ux({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:ux({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:ux({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:ux({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function uf(e,t){let r=ue(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function ug(e,t){let r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??ul.weekStartsOn??ul.locale?.options?.weekStartsOn??0,s=ue(e,t?.in),a=s.getDay();return s.setDate(s.getDate()-(7*(a<r)+a-r)),s.setHours(0,0,0,0),s}function uv(e,t){return ug(e,{...t,weekStartsOn:1})}function uj(e,t){let r=ue(e,t?.in),s=r.getFullYear(),a=d9(r,0);a.setFullYear(s+1,0,4),a.setHours(0,0,0,0);let n=uv(a),i=d9(r,0);i.setFullYear(s,0,4),i.setHours(0,0,0,0);let l=uv(i);return r.getTime()>=n.getTime()?s+1:r.getTime()>=l.getTime()?s:s-1}function uy(e,t){let r,s,a=ue(e,t?.in);return Math.round((uv(a)-(r=uj(a,void 0),(s=d9(a,0)).setFullYear(r,0,4),s.setHours(0,0,0,0),uv(s)))/6048e5)+1}function ub(e,t){let r=ue(e,t?.in),s=r.getFullYear(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??ul.firstWeekContainsDate??ul.locale?.options?.firstWeekContainsDate??1,n=d9(t?.in||e,0);n.setFullYear(s+1,0,a),n.setHours(0,0,0,0);let i=ug(n,t),l=d9(t?.in||e,0);l.setFullYear(s,0,a),l.setHours(0,0,0,0);let o=ug(l,t);return+r>=+i?s+1:+r>=+o?s:s-1}function uN(e,t){let r,s,a,n=ue(e,t?.in);return Math.round((ug(n,t)-(r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??ul.firstWeekContainsDate??ul.locale?.options?.firstWeekContainsDate??1,s=ub(n,t),(a=d9(t?.in||n,0)).setFullYear(s,0,r),a.setHours(0,0,0,0),ug(a,t)))/6048e5)+1}function uw(e,t){let r=Math.abs(e).toString().padStart(t,"0");return(e<0?"-":"")+r}let uC={y(e,t){let r=e.getFullYear(),s=r>0?r:1-r;return uw("yy"===t?s%100:s,t.length)},M(e,t){let r=e.getMonth();return"M"===t?String(r+1):uw(r+1,2)},d:(e,t)=>uw(e.getDate(),t.length),a(e,t){let r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:(e,t)=>uw(e.getHours()%12||12,t.length),H:(e,t)=>uw(e.getHours(),t.length),m:(e,t)=>uw(e.getMinutes(),t.length),s:(e,t)=>uw(e.getSeconds(),t.length),S(e,t){let r=t.length;return uw(Math.trunc(e.getMilliseconds()*Math.pow(10,r-3)),t.length)}},uS={G:function(e,t,r){let s=+(e.getFullYear()>0);switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if("yo"===t){let t=e.getFullYear();return r.ordinalNumber(t>0?t:1-t,{unit:"year"})}return uC.y(e,t)},Y:function(e,t,r,s){let a=ub(e,s),n=a>0?a:1-a;return"YY"===t?uw(n%100,2):"Yo"===t?r.ordinalNumber(n,{unit:"year"}):uw(n,t.length)},R:function(e,t){return uw(uj(e),t.length)},u:function(e,t){return uw(e.getFullYear(),t.length)},Q:function(e,t,r){let s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return uw(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){let s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return uw(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){let s=e.getMonth();switch(t){case"M":case"MM":return uC.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){let s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return uw(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){let a=uN(e,s);return"wo"===t?r.ordinalNumber(a,{unit:"week"}):uw(a,t.length)},I:function(e,t,r){let s=uy(e);return"Io"===t?r.ordinalNumber(s,{unit:"week"}):uw(s,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getDate(),{unit:"date"}):uC.d(e,t)},D:function(e,t,r){let s,a=ui(s=ue(e,void 0),uf(s))+1;return"Do"===t?r.ordinalNumber(a,{unit:"dayOfYear"}):uw(a,t.length)},E:function(e,t,r){let s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){let a=e.getDay(),n=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(n);case"ee":return uw(n,2);case"eo":return r.ordinalNumber(n,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){let a=e.getDay(),n=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(n);case"cc":return uw(n,t.length);case"co":return r.ordinalNumber(n,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){let s=e.getDay(),a=0===s?7:s;switch(t){case"i":return String(a);case"ii":return uw(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){let s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){let s,a=e.getHours();switch(s=12===a?"noon":0===a?"midnight":a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){let s,a=e.getHours();switch(s=a>=17?"evening":a>=12?"afternoon":a>=4?"morning":"night",t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return uC.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getHours(),{unit:"hour"}):uC.H(e,t)},K:function(e,t,r){let s=e.getHours()%12;return"Ko"===t?r.ordinalNumber(s,{unit:"hour"}):uw(s,t.length)},k:function(e,t,r){let s=e.getHours();return(0===s&&(s=24),"ko"===t)?r.ordinalNumber(s,{unit:"hour"}):uw(s,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):uC.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getSeconds(),{unit:"second"}):uC.s(e,t)},S:function(e,t){return uC.S(e,t)},X:function(e,t,r){let s=e.getTimezoneOffset();if(0===s)return"Z";switch(t){case"X":return uP(s);case"XXXX":case"XX":return uk(s);default:return uk(s,":")}},x:function(e,t,r){let s=e.getTimezoneOffset();switch(t){case"x":return uP(s);case"xxxx":case"xx":return uk(s);default:return uk(s,":")}},O:function(e,t,r){let s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+uD(s,":");default:return"GMT"+uk(s,":")}},z:function(e,t,r){let s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+uD(s,":");default:return"GMT"+uk(s,":")}},t:function(e,t,r){return uw(Math.trunc(e/1e3),t.length)},T:function(e,t,r){return uw(+e,t.length)}};function uD(e,t=""){let r=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),n=s%60;return 0===n?r+String(a):r+String(a)+t+uw(n,2)}function uP(e,t){return e%60==0?(e>0?"-":"+")+uw(Math.abs(e)/60,2):uk(e,t)}function uk(e,t=""){let r=Math.abs(e);return(e>0?"-":"+")+uw(Math.trunc(r/60),2)+t+uw(r%60,2)}let uE=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},uA=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},uF={p:uA,P:(e,t)=>{let r,s=e.match(/(P+)(p+)?/)||[],a=s[1],n=s[2];if(!n)return uE(e,t);switch(a){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;default:r=t.dateTime({width:"full"})}return r.replace("{{date}}",uE(a,t)).replace("{{time}}",uA(n,t))}},uR=/^D+$/,uO=/^Y+$/,uI=["D","DD","YY","YYYY"];function uM(e){return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}let uT=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,u_=/^'([^]*?)'?$/,uL=/''/g,uz=/[a-zA-Z]/;function uq(e,t,r){let s=r?.locale??ul.locale??up,a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??ul.firstWeekContainsDate??ul.locale?.options?.firstWeekContainsDate??1,n=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??ul.weekStartsOn??ul.locale?.options?.weekStartsOn??0,i=ue(e,r?.in);if(!uM(i)&&"number"!=typeof i||isNaN(+ue(i)))throw RangeError("Invalid time value");let l=t.match(uB).map(e=>{let t=e[0];return"p"===t||"P"===t?(0,uF[t])(e,s.formatLong):e}).join("").match(uT).map(e=>{if("''"===e)return{isToken:!1,value:"'"};let t=e[0];if("'"===t){var r;let t;return{isToken:!1,value:(t=(r=e).match(u_))?t[1].replace(uL,"'"):r}}if(uS[t])return{isToken:!0,value:e};if(t.match(uz))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});s.localize.preprocessor&&(l=s.localize.preprocessor(i,l));let o={firstWeekContainsDate:a,weekStartsOn:n,locale:s};return l.map(a=>{if(!a.isToken)return a.value;let n=a.value;return(!r?.useAdditionalWeekYearTokens&&uO.test(n)||!r?.useAdditionalDayOfYearTokens&&uR.test(n))&&function(e,t,r){var s,a,n;let i,l=(s=e,a=t,n=r,i="Y"===s[0]?"years":"days of the month",`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${a}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`);if(console.warn(l),uI.includes(e))throw RangeError(l)}(n,t,String(e)),(0,uS[n[0]])(i,n,s.localize,o)}).join("")}function uU(e,t){let r=t.startOfMonth(e),s=r.getDay();return 1===s?r:0===s?t.addDays(r,-6):t.addDays(r,-1*(s-1))}class u${constructor(e,t){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?d8.tz(this.options.timeZone):new this.Date,this.newDate=(e,t,r)=>this.overrides?.newDate?this.overrides.newDate(e,t,r):this.options.timeZone?new d8(e,t,r,this.options.timeZone):new Date(e,t,r),this.addDays=(e,t)=>this.overrides?.addDays?this.overrides.addDays(e,t):ut(e,t),this.addMonths=(e,t)=>this.overrides?.addMonths?this.overrides.addMonths(e,t):ur(e,t),this.addWeeks=(e,t)=>this.overrides?.addWeeks?this.overrides.addWeeks(e,t):ut(e,7*t,void 0),this.addYears=(e,t)=>this.overrides?.addYears?this.overrides.addYears(e,t):ur(e,12*t,void 0),this.differenceInCalendarDays=(e,t)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(e,t):ui(e,t),this.differenceInCalendarMonths=(e,t)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(e,t):function(e,t,r){let[s,a]=ua(void 0,e,t);return 12*(s.getFullYear()-a.getFullYear())+(s.getMonth()-a.getMonth())}(e,t),this.eachMonthOfInterval=e=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(e):function(e,t){let{start:r,end:s}=function(e,t){let[r,s]=ua(e,t.start,t.end);return{start:r,end:s}}(void 0,e),a=+r>+s,n=a?+r:+s,i=a?s:r;i.setHours(0,0,0,0),i.setDate(1);let l=(void 0)??1;if(!l)return[];l<0&&(l=-l,a=!a);let o=[];for(;+i<=n;)o.push(d9(r,i)),i.setMonth(i.getMonth()+l);return a?o.reverse():o}(e),this.endOfBroadcastWeek=e=>{let t,r,s,a,n,i;return this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(e):(t=uU(e,this),s=(r=this.startOfMonth(e)).getDay()>0?r.getDay():7,a=this.addDays(e,-s+1),n=this.addDays(a,34),i=this.getMonth(e)===this.getMonth(n)?5:4,this.addDays(t,7*i-1))},this.endOfISOWeek=e=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(e):uo(e,{...void 0,weekStartsOn:1}),this.endOfMonth=e=>{let t,r;return this.overrides?.endOfMonth?this.overrides.endOfMonth(e):(r=(t=ue(e,void 0)).getMonth(),t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t)},this.endOfWeek=(e,t)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(e,t):uo(e,this.options),this.endOfYear=e=>{let t,r;return this.overrides?.endOfYear?this.overrides.endOfYear(e):(r=(t=ue(e,void 0)).getFullYear(),t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t)},this.format=(e,t,r)=>{let s=this.overrides?.format?this.overrides.format(e,t,this.options):uq(e,t,this.options);return this.options.numerals&&"latn"!==this.options.numerals?this.replaceDigits(s):s},this.getISOWeek=e=>this.overrides?.getISOWeek?this.overrides.getISOWeek(e):uy(e),this.getMonth=(e,t)=>{var r;return this.overrides?.getMonth?this.overrides.getMonth(e,this.options):(r=this.options,ue(e,r?.in).getMonth())},this.getYear=(e,t)=>{var r;return this.overrides?.getYear?this.overrides.getYear(e,this.options):(r=this.options,ue(e,r?.in).getFullYear())},this.getWeek=(e,t)=>this.overrides?.getWeek?this.overrides.getWeek(e,this.options):uN(e,this.options),this.isAfter=(e,t)=>this.overrides?.isAfter?this.overrides.isAfter(e,t):+ue(e)>+ue(t),this.isBefore=(e,t)=>this.overrides?.isBefore?this.overrides.isBefore(e,t):+ue(e)<+ue(t),this.isDate=e=>this.overrides?.isDate?this.overrides.isDate(e):uM(e),this.isSameDay=(e,t)=>this.overrides?.isSameDay?this.overrides.isSameDay(e,t):function(e,t,r){let[s,a]=ua(void 0,e,t);return+un(s)==+un(a)}(e,t),this.isSameMonth=(e,t)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(e,t):function(e,t,r){let[s,a]=ua(void 0,e,t);return s.getFullYear()===a.getFullYear()&&s.getMonth()===a.getMonth()}(e,t),this.isSameYear=(e,t)=>this.overrides?.isSameYear?this.overrides.isSameYear(e,t):function(e,t,r){let[s,a]=ua(void 0,e,t);return s.getFullYear()===a.getFullYear()}(e,t),this.max=e=>{let t,r;return this.overrides?.max?this.overrides.max(e):(r=void 0,e.forEach(e=>{r||"object"!=typeof e||(r=d9.bind(null,e));let s=ue(e,r);(!t||t<s||isNaN(+s))&&(t=s)}),d9(r,t||NaN))},this.min=e=>{let t,r;return this.overrides?.min?this.overrides.min(e):(r=void 0,e.forEach(e=>{r||"object"!=typeof e||(r=d9.bind(null,e));let s=ue(e,r);(!t||t>s||isNaN(+s))&&(t=s)}),d9(r,t||NaN))},this.setMonth=(e,t)=>{let r,s,a,n,i,l,o,c,d;return this.overrides?.setMonth?this.overrides.setMonth(e,t):(s=(r=ue(e,void 0)).getFullYear(),a=r.getDate(),(n=d9(e,0)).setFullYear(s,t,15),n.setHours(0,0,0,0),l=(i=ue(n,void 0)).getFullYear(),o=i.getMonth(),(c=d9(i,0)).setFullYear(l,o+1,0),c.setHours(0,0,0,0),d=c.getDate(),r.setMonth(t,Math.min(a,d)),r)},this.setYear=(e,t)=>{let r;return this.overrides?.setYear?this.overrides.setYear(e,t):isNaN(+(r=ue(e,void 0)))?d9(e,NaN):(r.setFullYear(t),r)},this.startOfBroadcastWeek=(e,t)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(e,this):uU(e,this),this.startOfDay=e=>this.overrides?.startOfDay?this.overrides.startOfDay(e):un(e),this.startOfISOWeek=e=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(e):uv(e),this.startOfMonth=e=>{let t;return this.overrides?.startOfMonth?this.overrides.startOfMonth(e):((t=ue(e,void 0)).setDate(1),t.setHours(0,0,0,0),t)},this.startOfWeek=(e,t)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(e,this.options):ug(e,this.options),this.startOfYear=e=>this.overrides?.startOfYear?this.overrides.startOfYear(e):uf(e),this.options={locale:up,...e},this.overrides=t}getDigitMap(){let{numerals:e="latn"}=this.options,t=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let e=0;e<10;e++)r[e.toString()]=t.format(e);return r}replaceDigits(e){let t=this.getDigitMap();return e.replace(/\d/g,e=>t[e]||e)}formatNumber(e){return this.replaceDigits(e.toString())}}let uV=new u$;function uW(e,t,r=!1,s=uV){let{from:a,to:n}=e,{differenceInCalendarDays:i,isSameDay:l}=s;return a&&n?(0>i(n,a)&&([a,n]=[n,a]),i(t,a)>=+!!r&&i(n,t)>=+!!r):!r&&n?l(n,t):!r&&!!a&&l(a,t)}function uH(e){return!!(e&&"object"==typeof e&&"before"in e&&"after"in e)}function uY(e){return!!(e&&"object"==typeof e&&"from"in e)}function uG(e){return!!(e&&"object"==typeof e&&"after"in e)}function uX(e){return!!(e&&"object"==typeof e&&"before"in e)}function uK(e){return!!(e&&"object"==typeof e&&"dayOfWeek"in e)}function uZ(e,t){return Array.isArray(e)&&e.every(t.isDate)}function uQ(e,t,r=uV){let s=Array.isArray(t)?t:[t],{isSameDay:a,differenceInCalendarDays:n,isAfter:i}=r;return s.some(t=>{if("boolean"==typeof t)return t;if(r.isDate(t))return a(e,t);if(uZ(t,r))return t.includes(e);if(uY(t))return uW(t,e,!1,r);if(uK(t))return Array.isArray(t.dayOfWeek)?t.dayOfWeek.includes(e.getDay()):t.dayOfWeek===e.getDay();if(uH(t)){let r=n(t.before,e),s=n(t.after,e),a=r>0,l=s<0;return i(t.before,t.after)?l&&a:a||l}return uG(t)?n(e,t.after)>0:uX(t)?n(t.before,e)>0:"function"==typeof t&&t(e)})}function uJ(e){return q.default.createElement("button",{...e})}function u0(e){return q.default.createElement("span",{...e})}function u1(e){let{size:t=24,orientation:r="left",className:s}=e;return q.default.createElement("svg",{className:s,width:t,height:t,viewBox:"0 0 24 24"},"up"===r&&q.default.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),"down"===r&&q.default.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),"left"===r&&q.default.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),"right"===r&&q.default.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function u2(e){let{day:t,modifiers:r,...s}=e;return q.default.createElement("td",{...s})}function u4(e){let{day:t,modifiers:r,...s}=e,a=q.default.useRef(null);return q.default.useEffect(()=>{r.focused&&a.current?.focus()},[r.focused]),q.default.createElement("button",{ref:a,...s})}function u5(e){let{options:t,className:r,components:s,classNames:a,...n}=e,i=[a[D.Dropdown],r].join(" "),l=t?.find(({value:e})=>e===n.value);return q.default.createElement("span",{"data-disabled":n.disabled,className:a[D.DropdownRoot]},q.default.createElement(s.Select,{className:i,...n},t?.map(({value:e,label:t,disabled:r})=>q.default.createElement(s.Option,{key:e,value:e,disabled:r},t))),q.default.createElement("span",{className:a[D.CaptionLabel],"aria-hidden":!0},l?.label,q.default.createElement(s.Chevron,{orientation:"down",size:18,className:a[D.Chevron]})))}function u6(e){return q.default.createElement("div",{...e})}function u3(e){return q.default.createElement("div",{...e})}function u8(e){let{calendarMonth:t,displayIndex:r,...s}=e;return q.default.createElement("div",{...s},e.children)}function u7(e){let{calendarMonth:t,displayIndex:r,...s}=e;return q.default.createElement("div",{...s})}function u9(e){return q.default.createElement("table",{...e})}function me(e){return q.default.createElement("div",{...e})}e.s([],1521),e.i(1521),e.s(["Button",()=>uJ],7034),e.i(7034),e.s(["CaptionLabel",()=>u0],2978),e.i(2978),e.s(["Chevron",()=>u1],6301),e.i(6301),e.s(["Day",()=>u2],77090),e.i(77090),e.s(["DayButton",()=>u4],138),e.i(138),e.s(["Dropdown",()=>u5],79218),e.i(79218),e.s(["DropdownNav",()=>u6],61482),e.i(61482),e.s(["Footer",()=>u3],81864),e.i(81864),e.s(["Month",()=>u8],54349),e.i(54349),e.s(["MonthCaption",()=>u7],62258),e.i(62258),e.s(["MonthGrid",()=>u9],72957),e.i(72957),e.s(["Months",()=>me],99223),e.i(99223);let mt=(0,q.createContext)(void 0);function mr(){let e=(0,q.useContext)(mt);if(void 0===e)throw Error("useDayPicker() must be used within a custom component.");return e}function ms(e){let{components:t}=mr();return q.default.createElement(t.Dropdown,{...e})}function ma(e){let{onPreviousClick:t,onNextClick:r,previousMonth:s,nextMonth:a,...n}=e,{components:i,classNames:l,labels:{labelPrevious:o,labelNext:c}}=mr(),d=(0,q.useCallback)(e=>{a&&r?.(e)},[a,r]),u=(0,q.useCallback)(e=>{s&&t?.(e)},[s,t]);return q.default.createElement("nav",{...n},q.default.createElement(i.PreviousMonthButton,{type:"button",className:l[D.PreviousMonthButton],tabIndex:s?void 0:-1,"aria-disabled":!s||void 0,"aria-label":o(s),onClick:u},q.default.createElement(i.Chevron,{disabled:!s||void 0,className:l[D.Chevron],orientation:"left"})),q.default.createElement(i.NextMonthButton,{type:"button",className:l[D.NextMonthButton],tabIndex:a?void 0:-1,"aria-disabled":!a||void 0,"aria-label":c(a),onClick:d},q.default.createElement(i.Chevron,{disabled:!a||void 0,orientation:"right",className:l[D.Chevron]})))}function mn(e){let{components:t}=mr();return q.default.createElement(t.Button,{...e})}function mi(e){return q.default.createElement("option",{...e})}function ml(e){let{components:t}=mr();return q.default.createElement(t.Button,{...e})}function mo(e){let{rootRef:t,...r}=e;return q.default.createElement("div",{...r,ref:t})}function mc(e){return q.default.createElement("select",{...e})}function md(e){let{week:t,...r}=e;return q.default.createElement("tr",{...r})}function mu(e){return q.default.createElement("th",{...e})}function mm(e){return q.default.createElement("thead",{"aria-hidden":!0},q.default.createElement("tr",{...e}))}function mh(e){let{week:t,...r}=e;return q.default.createElement("th",{...r})}function mx(e){return q.default.createElement("th",{...e})}function mp(e){return q.default.createElement("tbody",{...e})}function mf(e){let{components:t}=mr();return q.default.createElement(t.Dropdown,{...e})}e.s(["MonthsDropdown",()=>ms],3781),e.i(3781),e.s(["Nav",()=>ma],67369),e.i(67369),e.s(["NextMonthButton",()=>mn],85499),e.i(85499),e.s(["Option",()=>mi],12199),e.i(12199),e.s(["PreviousMonthButton",()=>ml],43714),e.i(43714),e.s(["Root",()=>mo],10075),e.i(10075),e.s(["Select",()=>mc],36498),e.i(36498),e.s(["Week",()=>md],10308),e.i(10308),e.s(["Weekday",()=>mu],21164),e.i(21164),e.s(["Weekdays",()=>mm],98498),e.i(98498),e.s(["WeekNumber",()=>mh],6302),e.i(6302),e.s(["WeekNumberHeader",()=>mx],77210),e.i(77210),e.s(["Weeks",()=>mp],44821),e.i(44821),e.s(["YearsDropdown",()=>mf],76096),e.i(76096),e.s(["Button",()=>uJ,"CaptionLabel",()=>u0,"Chevron",()=>u1,"Day",()=>u2,"DayButton",()=>u4,"Dropdown",()=>u5,"DropdownNav",()=>u6,"Footer",()=>u3,"Month",()=>u8,"MonthCaption",()=>u7,"MonthGrid",()=>u9,"Months",()=>me,"MonthsDropdown",()=>ms,"Nav",()=>ma,"NextMonthButton",()=>mn,"Option",()=>mi,"PreviousMonthButton",()=>ml,"Root",()=>mo,"Select",()=>mc,"Week",()=>md,"WeekNumber",()=>mh,"WeekNumberHeader",()=>mx,"Weekday",()=>mu,"Weekdays",()=>mm,"Weeks",()=>mp,"YearsDropdown",()=>mf],93133);var mg=e.i(93133);function mv(e,t,r){return(r??new u$(t)).format(e,"LLLL y")}function mj(e,t,r){return(r??new u$(t)).format(e,"d")}function my(e,t=uV){return t.format(e,"LLLL")}function mb(e,t=uV){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function mN(){return""}function mw(e,t,r){return(r??new u$(t)).format(e,"cccccc")}function mC(e,t=uV){return t.format(e,"yyyy")}e.s([],18388),e.i(18388),e.s(["formatCaption",()=>mv,"formatMonthCaption",0,mv],28627),e.i(28627),e.s(["formatDay",()=>mj],20594),e.i(20594),e.s(["formatMonthDropdown",()=>my],42462),e.i(42462),e.s(["formatWeekNumber",()=>mb],77630),e.i(77630),e.s(["formatWeekNumberHeader",()=>mN],69411),e.i(69411),e.s(["formatWeekdayName",()=>mw],12230),e.i(12230),e.s(["formatYearCaption",0,mC,"formatYearDropdown",()=>mC],97723),e.i(97723),e.s(["formatCaption",()=>mv,"formatDay",()=>mj,"formatMonthCaption",0,mv,"formatMonthDropdown",()=>my,"formatWeekNumber",()=>mb,"formatWeekNumberHeader",()=>mN,"formatWeekdayName",()=>mw,"formatYearCaption",0,mC,"formatYearDropdown",()=>mC],27208);var mS=e.i(27208);function mD(e,t,r){return(r??new u$(t)).format(e,"LLLL y")}function mP(e,t,r,s){let a=(s??new u$(r)).format(e,"PPPP");return t?.today&&(a=`Today, ${a}`),a}function mk(e,t,r,s){let a=(s??new u$(r)).format(e,"PPPP");return t.today&&(a=`Today, ${a}`),t.selected&&(a=`${a}, selected`),a}function mE(){return""}function mA(e){return"Choose the Month"}function mF(e){return"Go to the Next Month"}function mR(e){return"Go to the Previous Month"}function mO(e,t,r){return(r??new u$(t)).format(e,"cccc")}function mI(e,t){return`Week ${e}`}function mM(e){return"Week Number"}function mT(e){return"Choose the Year"}e.s([],88509),e.i(88509),e.s(["labelCaption",0,mD,"labelGrid",()=>mD],10802),e.i(10802),e.s(["labelGridcell",()=>mP],39572),e.i(39572),e.s(["labelDay",0,mk,"labelDayButton",()=>mk],20510),e.i(20510),e.s(["labelNav",()=>mE],38559),e.i(38559),e.s(["labelMonthDropdown",()=>mA],19317),e.i(19317),e.s(["labelNext",()=>mF],67698),e.i(67698),e.s(["labelPrevious",()=>mR],54880),e.i(54880),e.s(["labelWeekday",()=>mO],11532),e.i(11532),e.s(["labelWeekNumber",()=>mI],57247),e.i(57247),e.s(["labelWeekNumberHeader",()=>mM],1831),e.i(1831),e.s(["labelYearDropdown",()=>mT],77009),e.i(77009),e.s(["labelCaption",0,mD,"labelDay",0,mk,"labelDayButton",()=>mk,"labelGrid",()=>mD,"labelGridcell",()=>mP,"labelMonthDropdown",()=>mA,"labelNav",()=>mE,"labelNext",()=>mF,"labelPrevious",()=>mR,"labelWeekNumber",()=>mI,"labelWeekNumberHeader",()=>mM,"labelWeekday",()=>mO,"labelYearDropdown",()=>mT],20343);var mB=e.i(20343);let m_=e=>e instanceof HTMLElement?e:null,mL=e=>[...e.querySelectorAll("[data-animated-month]")??[]],mz=e=>m_(e.querySelector("[data-animated-caption]")),mq=e=>m_(e.querySelector("[data-animated-weeks]"));function mU(e,t,r,s){let{month:a,defaultMonth:n,today:i=s.today(),numberOfMonths:l=1}=e,o=a||n||i,{differenceInCalendarMonths:c,addMonths:d,startOfMonth:u}=s;return r&&c(r,o)<l-1&&(o=d(r,-1*(l-1))),t&&0>c(o,t)&&(o=t),u(o)}class m${constructor(e,t){this.days=t,this.weekNumber=e}}class mV{constructor(e,t,r=uV){this.date=e,this.displayMonth=t,this.outside=!!(t&&!r.isSameMonth(e,t)),this.dateLib=r}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class mW{constructor(e,t){this.date=e,this.weeks=t}}function mH(e,t){let[r,s]=(0,q.useState)(e);return[void 0===t?r:t,s]}function mY(e){return!e[P.disabled]&&!e[P.hidden]&&!e[P.outside]}function mG(e,t,r=uV){return uW(e,t.from,!1,r)||uW(e,t.to,!1,r)||uW(t,e.from,!1,r)||uW(t,e.to,!1,r)}function mX(e){var t;let r,s=e;s.timeZone&&((s={...e}).today&&(s.today=new d8(s.today,s.timeZone)),s.month&&(s.month=new d8(s.month,s.timeZone)),s.defaultMonth&&(s.defaultMonth=new d8(s.defaultMonth,s.timeZone)),s.startMonth&&(s.startMonth=new d8(s.startMonth,s.timeZone)),s.endMonth&&(s.endMonth=new d8(s.endMonth,s.timeZone)),"single"===s.mode&&s.selected?s.selected=new d8(s.selected,s.timeZone):"multiple"===s.mode&&s.selected?s.selected=s.selected?.map(e=>new d8(e,s.timeZone)):"range"===s.mode&&s.selected&&(s.selected={from:s.selected.from?new d8(s.selected.from,s.timeZone):void 0,to:s.selected.to?new d8(s.selected.to,s.timeZone):void 0}));let{components:a,formatters:n,labels:i,dateLib:l,locale:o,classNames:c}=(0,q.useMemo)(()=>{var e,t;let r={...up,...s.locale};return{dateLib:new u$({locale:r,weekStartsOn:s.broadcastCalendar?1:s.weekStartsOn,firstWeekContainsDate:s.firstWeekContainsDate,useAdditionalWeekYearTokens:s.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:s.useAdditionalDayOfYearTokens,timeZone:s.timeZone,numerals:s.numerals},s.dateLib),components:(e=s.components,{...mg,...e}),formatters:(t=s.formatters,t?.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t?.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...mS,...t}),labels:{...mB,...s.labels},locale:r,classNames:{...function(){let e={};for(let t in D)e[D[t]]=`rdp-${D[t]}`;for(let t in P)e[P[t]]=`rdp-${P[t]}`;for(let t in k)e[k[t]]=`rdp-${k[t]}`;for(let t in E)e[E[t]]=`rdp-${E[t]}`;return e}(),...s.classNames}}},[s.locale,s.broadcastCalendar,s.weekStartsOn,s.firstWeekContainsDate,s.useAdditionalWeekYearTokens,s.useAdditionalDayOfYearTokens,s.timeZone,s.numerals,s.dateLib,s.components,s.formatters,s.labels,s.classNames]),{captionLayout:d,mode:u,navLayout:m,numberOfMonths:h=1,onDayBlur:x,onDayClick:p,onDayFocus:f,onDayKeyDown:g,onDayMouseEnter:v,onDayMouseLeave:j,onNextClick:y,onPrevClick:b,showWeekNumber:N,styles:w}=s,{formatCaption:C,formatDay:S,formatMonthDropdown:F,formatWeekNumber:R,formatWeekNumberHeader:O,formatWeekdayName:I,formatYearDropdown:M}=n,T=function(e,t){let r,[s,a]=function(e,t){let{startMonth:r,endMonth:s}=e,{startOfYear:a,startOfDay:n,startOfMonth:i,endOfMonth:l,addYears:o,endOfYear:c,newDate:d,today:u}=t,{fromYear:m,toYear:h,fromMonth:x,toMonth:p}=e;!r&&x&&(r=x),!r&&m&&(r=t.newDate(m,0,1)),!s&&p&&(s=p),!s&&h&&(s=d(h,11,31));let f="dropdown"===e.captionLayout||"dropdown-years"===e.captionLayout;return r?r=i(r):m?r=d(m,0,1):!r&&f&&(r=a(o(e.today??u(),-100))),s?s=l(s):h?s=d(h,11,31):!s&&f&&(s=c(e.today??u())),[r?n(r):r,s?n(s):s]}(e,t),{startOfMonth:n,endOfMonth:i}=t,l=mU(e,s,a,t),[o,c]=mH(l,e.month?l:void 0);(0,q.useEffect)(()=>{c(mU(e,s,a,t))},[e.timeZone]);let d=function(e,t,r,s){let{numberOfMonths:a=1}=r,n=[];for(let r=0;r<a;r++){let a=s.addMonths(e,r);if(t&&a>t)break;n.push(a)}return n}(o,a,e,t),u=function(e,t,r,s){let a=e[0],n=e[e.length-1],{ISOWeek:i,fixedWeeks:l,broadcastCalendar:o}=r??{},{addDays:c,differenceInCalendarDays:d,differenceInCalendarMonths:u,endOfBroadcastWeek:m,endOfISOWeek:h,endOfMonth:x,endOfWeek:p,isAfter:f,startOfBroadcastWeek:g,startOfISOWeek:v,startOfWeek:j}=s,y=o?g(a,s):i?v(a):j(a),b=d(o?m(n):i?h(x(n)):p(x(n)),y),N=u(n,a)+1,w=[];for(let e=0;e<=b;e++){let r=c(y,e);if(t&&f(r,t))break;w.push(r)}let C=(o?35:42)*N;if(l&&w.length<C){let e=C-w.length;for(let t=0;t<e;t++){let e=c(w[w.length-1],1);w.push(e)}}return w}(d,e.endMonth?i(e.endMonth):void 0,e,t),m=function(e,t,r,s){let{addDays:a,endOfBroadcastWeek:n,endOfISOWeek:i,endOfMonth:l,endOfWeek:o,getISOWeek:c,getWeek:d,startOfBroadcastWeek:u,startOfISOWeek:m,startOfWeek:h}=s,x=e.reduce((e,x)=>{let p=r.broadcastCalendar?u(x,s):r.ISOWeek?m(x):h(x),f=r.broadcastCalendar?n(x):r.ISOWeek?i(l(x)):o(l(x)),g=t.filter(e=>e>=p&&e<=f),v=r.broadcastCalendar?35:42;if(r.fixedWeeks&&g.length<v){let e=t.filter(e=>{let t=v-g.length;return e>f&&e<=a(f,t)});g.push(...e)}let j=g.reduce((e,t)=>{let a=r.ISOWeek?c(t):d(t),n=e.find(e=>e.weekNumber===a),i=new mV(t,x,s);return n?n.days.push(i):e.push(new m$(a,[i])),e},[]),y=new mW(x,j);return e.push(y),e},[]);return r.reverseMonths?x.reverse():x}(d,u,e,t),h=m.reduce((e,t)=>[...e,...t.weeks],[]),x=(r=[],m.reduce((e,t)=>[...e,...t.weeks.reduce((e,t)=>[...e,...t.days],r)],r)),p=function(e,t,r,s){if(r.disableNavigation)return;let{pagedNavigation:a,numberOfMonths:n}=r,{startOfMonth:i,addMonths:l,differenceInCalendarMonths:o}=s,c=i(e);if(!t||!(0>=o(c,t)))return l(c,-(a?n??1:1))}(o,s,e,t),f=function(e,t,r,s){if(r.disableNavigation)return;let{pagedNavigation:a,numberOfMonths:n=1}=r,{startOfMonth:i,addMonths:l,differenceInCalendarMonths:o}=s,c=i(e);if(!t||!(o(t,e)<n))return l(c,a?n:1)}(o,a,e,t),{disableNavigation:g,onMonthChange:v}=e,j=e=>{if(g)return;let t=n(e);s&&t<n(s)&&(t=n(s)),a&&t>n(a)&&(t=n(a)),c(t),v?.(t)};return{months:m,weeks:h,days:x,navStart:s,navEnd:a,previousMonth:p,nextMonth:f,goToMonth:j,goToDay:e=>{h.some(t=>t.days.some(t=>t.isEqualTo(e)))||j(e.date)}}}(s,l),{days:B,months:_,navStart:L,navEnd:z,previousMonth:U,nextMonth:$,goToMonth:V}=T,W=function(e,t,r,s,a){let{disabled:n,hidden:i,modifiers:l,showOutsideDays:o,broadcastCalendar:c,today:d}=t,{isSameDay:u,isSameMonth:m,startOfMonth:h,isBefore:x,endOfMonth:p,isAfter:f}=a,g=r&&h(r),v=s&&p(s),j={[P.focused]:[],[P.outside]:[],[P.disabled]:[],[P.hidden]:[],[P.today]:[]},y={};for(let t of e){let{date:e,displayMonth:r}=t,s=!!(r&&!m(e,r)),h=!!(g&&x(e,g)),p=!!(v&&f(e,v)),b=!!(n&&uQ(e,n,a)),N=!!(i&&uQ(e,i,a))||h||p||!c&&!o&&s||c&&!1===o&&s,w=u(e,d??a.today());s&&j.outside.push(t),b&&j.disabled.push(t),N&&j.hidden.push(t),w&&j.today.push(t),l&&Object.keys(l).forEach(r=>{let s=l?.[r];s&&uQ(e,s,a)&&(y[r]?y[r].push(t):y[r]=[t])})}return e=>{let t={[P.focused]:!1,[P.disabled]:!1,[P.hidden]:!1,[P.outside]:!1,[P.today]:!1},r={};for(let r in j){let s=j[r];t[r]=s.some(t=>t===e)}for(let t in y)r[t]=y[t].some(t=>t===e);return{...t,...r}}}(B,s,L,z,l),{isSelected:H,select:Y,selected:G}=function(e,t){let r=function(e,t){let{selected:r,required:s,onSelect:a}=e,[n,i]=mH(r,a?r:void 0),l=a?r:n,{isSameDay:o}=t;return{selected:l,select:(e,t,r)=>{let n=e;return!s&&l&&l&&o(e,l)&&(n=void 0),a||i(n),a?.(n,e,t,r),n},isSelected:e=>!!l&&o(l,e)}}(e,t),s=function(e,t){let{selected:r,required:s,onSelect:a}=e,[n,i]=mH(r,a?r:void 0),l=a?r:n,{isSameDay:o}=t,c=e=>l?.some(t=>o(t,e))??!1,{min:d,max:u}=e;return{selected:l,select:(e,t,r)=>{let n=[...l??[]];if(c(e)){if(l?.length===d||s&&l?.length===1)return;n=l?.filter(t=>!o(t,e))}else n=l?.length===u?[e]:[...n,e];return a||i(n),a?.(n,e,t,r),n},isSelected:c}}(e,t),a=function(e,t){let{disabled:r,excludeDisabled:s,selected:a,required:n,onSelect:i}=e,[l,o]=mH(a,i?a:void 0),c=i?a:l;return{selected:c,select:(a,l,d)=>{let{min:u,max:m}=e,h=a?function(e,t,r=0,s=0,a=!1,n=uV){let i,{from:l,to:o}=t||{},{isSameDay:c,isAfter:d,isBefore:u}=n;if(l||o){if(l&&!o)i=c(l,e)?a?{from:l,to:void 0}:void 0:u(e,l)?{from:e,to:l}:{from:l,to:e};else if(l&&o)if(c(l,e)&&c(o,e))i=a?{from:l,to:o}:void 0;else if(c(l,e))i={from:l,to:r>0?void 0:e};else if(c(o,e))i={from:e,to:r>0?void 0:e};else if(u(e,l))i={from:e,to:o};else if(d(e,l))i={from:l,to:e};else if(d(e,o))i={from:l,to:e};else throw Error("Invalid range")}else i={from:e,to:r>0?void 0:e};if(i?.from&&i?.to){let t=n.differenceInCalendarDays(i.to,i.from);s>0&&t>s?i={from:e,to:void 0}:r>1&&t<r&&(i={from:e,to:void 0})}return i}(a,c,u,m,n,t):void 0;return s&&r&&h?.from&&h.to&&function(e,t,r=uV){let s=Array.isArray(t)?t:[t];if(s.filter(e=>"function"!=typeof e).some(t=>"boolean"==typeof t?t:r.isDate(t)?uW(e,t,!1,r):uZ(t,r)?t.some(t=>uW(e,t,!1,r)):uY(t)?!!t.from&&!!t.to&&mG(e,{from:t.from,to:t.to},r):uK(t)?function(e,t,r=uV){let s=Array.isArray(t)?t:[t],a=e.from,n=Math.min(r.differenceInCalendarDays(e.to,e.from),6);for(let e=0;e<=n;e++){if(s.includes(a.getDay()))return!0;a=r.addDays(a,1)}return!1}(e,t.dayOfWeek,r):uH(t)?r.isAfter(t.before,t.after)?mG(e,{from:r.addDays(t.after,1),to:r.addDays(t.before,-1)},r):uQ(e.from,t,r)||uQ(e.to,t,r):!!(uG(t)||uX(t))&&(uQ(e.from,t,r)||uQ(e.to,t,r))))return!0;let a=s.filter(e=>"function"==typeof e);if(a.length){let t=e.from,s=r.differenceInCalendarDays(e.to,e.from);for(let e=0;e<=s;e++){if(a.some(e=>e(t)))return!0;t=r.addDays(t,1)}}return!1}({from:h.from,to:h.to},r,t)&&(h.from=a,h.to=void 0),i||o(h),i?.(h,a,l,d),h},isSelected:e=>c&&uW(c,e,!1,t)}}(e,t);switch(e.mode){case"single":return r;case"multiple":return s;case"range":return a;default:return}}(s,l)??{},{blur:X,focused:K,isFocusTarget:Z,moveFocus:Q,setFocused:J}=function(e,t,r,s,a){let{autoFocus:n}=e,[i,l]=(0,q.useState)(),o=function(e,t,r,s){let a,n=-1;for(let i of e){let e=t(i);mY(e)&&(e[P.focused]&&n<A.FocusedModifier?(a=i,n=A.FocusedModifier):s?.isEqualTo(i)&&n<A.LastFocused?(a=i,n=A.LastFocused):r(i.date)&&n<A.Selected?(a=i,n=A.Selected):e[P.today]&&n<A.Today&&(a=i,n=A.Today))}return a||(a=e.find(e=>mY(t(e)))),a}(t.days,r,s||(()=>!1),i),[c,d]=(0,q.useState)(n?o:void 0);return{isFocusTarget:e=>!!o?.isEqualTo(e),setFocused:d,focused:c,blur:()=>{l(c),d(void 0)},moveFocus:(r,s)=>{if(!c)return;let n=function e(t,r,s,a,n,i,l,o=0){if(o>365)return;let c=function(e,t,r,s,a,n,i){let{ISOWeek:l,broadcastCalendar:o}=n,{addDays:c,addMonths:d,addWeeks:u,addYears:m,endOfBroadcastWeek:h,endOfISOWeek:x,endOfWeek:p,max:f,min:g,startOfBroadcastWeek:v,startOfISOWeek:j,startOfWeek:y}=i,b=({day:c,week:u,month:d,year:m,startOfWeek:e=>o?v(e,i):l?j(e):y(e),endOfWeek:e=>o?h(e):l?x(e):p(e)})[e](r,"after"===t?1:-1);return"before"===t&&s?b=f([s,b]):"after"===t&&a&&(b=g([a,b])),b}(t,r,s.date,a,n,i,l),d=!!(i.disabled&&uQ(c,i.disabled,l)),u=!!(i.hidden&&uQ(c,i.hidden,l)),m=new mV(c,c,l);return d||u?e(t,r,m,a,n,i,l,o+1):m}(r,s,c,t.navStart,t.navEnd,e,a);n&&(t.goToDay(n),d(n))}}}(s,T,W,H??(()=>!1),l),{labelDayButton:ee,labelGridcell:et,labelGrid:er,labelMonthDropdown:es,labelNav:ea,labelPrevious:en,labelNext:ei,labelWeekday:el,labelWeekNumber:eo,labelWeekNumberHeader:ec,labelYearDropdown:ed}=i,eu=(0,q.useMemo)(()=>(function(e,t,r){let s=e.today(),a=t?e.startOfISOWeek(s):e.startOfWeek(s),n=[];for(let t=0;t<7;t++){let r=e.addDays(a,t);n.push(r)}return n})(l,s.ISOWeek),[l,s.ISOWeek]),em=void 0!==u||void 0!==p,eh=(0,q.useCallback)(()=>{U&&(V(U),b?.(U))},[U,V,b]),ex=(0,q.useCallback)(()=>{$&&(V($),y?.($))},[V,$,y]),ep=(0,q.useCallback)((e,t)=>r=>{r.preventDefault(),r.stopPropagation(),J(e),Y?.(e.date,t,r),p?.(e.date,t,r)},[Y,p,J]),ef=(0,q.useCallback)((e,t)=>r=>{J(e),f?.(e.date,t,r)},[f,J]),eg=(0,q.useCallback)((e,t)=>r=>{X(),x?.(e.date,t,r)},[X,x]),ev=(0,q.useCallback)((e,t)=>r=>{let a={ArrowLeft:[r.shiftKey?"month":"day","rtl"===s.dir?"after":"before"],ArrowRight:[r.shiftKey?"month":"day","rtl"===s.dir?"before":"after"],ArrowDown:[r.shiftKey?"year":"week","after"],ArrowUp:[r.shiftKey?"year":"week","before"],PageUp:[r.shiftKey?"year":"month","before"],PageDown:[r.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(a[r.key]){r.preventDefault(),r.stopPropagation();let[e,t]=a[r.key];Q(e,t)}g?.(e.date,t,r)},[Q,g,s.dir]),ej=(0,q.useCallback)((e,t)=>r=>{v?.(e.date,t,r)},[v]),ey=(0,q.useCallback)((e,t)=>r=>{j?.(e.date,t,r)},[j]),eb=(0,q.useCallback)(e=>t=>{let r=Number(t.target.value);V(l.setMonth(l.startOfMonth(e),r))},[l,V]),eN=(0,q.useCallback)(e=>t=>{let r=Number(t.target.value);V(l.setYear(l.startOfMonth(e),r))},[l,V]),{className:ew,style:eC}=(0,q.useMemo)(()=>({className:[c[D.Root],s.className].filter(Boolean).join(" "),style:{...w?.[D.Root],...s.style}}),[c,s.className,s.style,w]),eS=(r={"data-mode":(t=s).mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0},Object.entries(t).forEach(([e,t])=>{e.startsWith("data-")&&(r[e]=t)}),r),eD=(0,q.useRef)(null);!function(e,t,{classNames:r,months:s,focused:a,dateLib:n}){let i=(0,q.useRef)(null),l=(0,q.useRef)(s),o=(0,q.useRef)(!1);(0,q.useLayoutEffect)(()=>{let c=l.current;if(l.current=s,!t||!e.current||!(e.current instanceof HTMLElement)||0===s.length||0===c.length||s.length!==c.length)return;let d=n.isSameMonth(s[0].date,c[0].date),u=n.isAfter(s[0].date,c[0].date),m=u?r[E.caption_after_enter]:r[E.caption_before_enter],h=u?r[E.weeks_after_enter]:r[E.weeks_before_enter],x=i.current,p=e.current.cloneNode(!0);if(p instanceof HTMLElement?(mL(p).forEach(e=>{if(!(e instanceof HTMLElement))return;let t=m_(e.querySelector("[data-animated-month]"));t&&e.contains(t)&&e.removeChild(t);let r=mz(e);r&&r.classList.remove(m);let s=mq(e);s&&s.classList.remove(h)}),i.current=p):i.current=null,o.current||d||a)return;let f=x instanceof HTMLElement?mL(x):[],g=mL(e.current);if(g&&g.every(e=>e instanceof HTMLElement)&&f&&f.every(e=>e instanceof HTMLElement)){o.current=!0;let t=[];e.current.style.isolation="isolate";let s=m_(e.current.querySelector("[data-animated-nav]"));s&&(s.style.zIndex="1"),g.forEach((a,n)=>{let i=f[n];if(!i)return;a.style.position="relative",a.style.overflow="hidden";let l=mz(a);l&&l.classList.add(m);let c=mq(a);c&&c.classList.add(h);let d=()=>{o.current=!1,e.current&&(e.current.style.isolation=""),s&&(s.style.zIndex=""),l&&l.classList.remove(m),c&&c.classList.remove(h),a.style.position="",a.style.overflow="",a.contains(i)&&a.removeChild(i)};t.push(d),i.style.pointerEvents="none",i.style.position="absolute",i.style.overflow="hidden",i.setAttribute("aria-hidden","true");let x=m_(i.querySelector("[data-animated-weekdays]"));x&&(x.style.opacity="0");let p=mz(i);p&&(p.classList.add(u?r[E.caption_before_exit]:r[E.caption_after_exit]),p.addEventListener("animationend",d));let g=mq(i);g&&g.classList.add(u?r[E.weeks_before_exit]:r[E.weeks_after_exit]),a.insertBefore(i,a.firstChild)})}})}(eD,!!s.animate,{classNames:c,months:_,focused:K,dateLib:l});let eP={dayPickerProps:s,selected:G,select:Y,isSelected:H,months:_,nextMonth:$,previousMonth:U,goToMonth:V,getModifiers:W,components:a,classNames:c,styles:w,labels:i,formatters:n};return q.default.createElement(mt.Provider,{value:eP},q.default.createElement(a.Root,{rootRef:s.animate?eD:void 0,className:ew,style:eC,dir:s.dir,id:s.id,lang:s.lang,nonce:s.nonce,title:s.title,role:s.role,"aria-label":s["aria-label"],...eS},q.default.createElement(a.Months,{className:c[D.Months],style:w?.[D.Months]},!s.hideNavigation&&!m&&q.default.createElement(a.Nav,{"data-animated-nav":s.animate?"true":void 0,className:c[D.Nav],style:w?.[D.Nav],"aria-label":ea(),onPreviousClick:eh,onNextClick:ex,previousMonth:U,nextMonth:$}),_.map((e,t)=>{let r=function(e,t,r,s,a){let{startOfMonth:n,startOfYear:i,endOfYear:l,eachMonthOfInterval:o,getMonth:c}=a;return o({start:i(e),end:l(e)}).map(e=>{let i=s.formatMonthDropdown(e,a);return{value:c(e),label:i,disabled:t&&e<n(t)||r&&e>n(r)||!1}})}(e.date,L,z,n,l),i=function(e,t,r,s){if(!e||!t)return;let{startOfYear:a,endOfYear:n,addYears:i,getYear:l,isBefore:o,isSameYear:c}=s,d=a(e),u=n(t),m=[],h=d;for(;o(h,u)||c(h,u);)m.push(h),h=i(h,1);return m.map(e=>{let t=r.formatYearDropdown(e,s);return{value:l(e),label:t,disabled:!1}})}(L,z,n,l);return q.default.createElement(a.Month,{"data-animated-month":s.animate?"true":void 0,className:c[D.Month],style:w?.[D.Month],key:t,displayIndex:t,calendarMonth:e},"around"===m&&!s.hideNavigation&&0===t&&q.default.createElement(a.PreviousMonthButton,{type:"button",className:c[D.PreviousMonthButton],tabIndex:U?void 0:-1,"aria-disabled":!U||void 0,"aria-label":en(U),onClick:eh,"data-animated-button":s.animate?"true":void 0},q.default.createElement(a.Chevron,{disabled:!U||void 0,className:c[D.Chevron],orientation:"rtl"===s.dir?"right":"left"})),q.default.createElement(a.MonthCaption,{"data-animated-caption":s.animate?"true":void 0,className:c[D.MonthCaption],style:w?.[D.MonthCaption],calendarMonth:e,displayIndex:t},d?.startsWith("dropdown")?q.default.createElement(a.DropdownNav,{className:c[D.Dropdowns],style:w?.[D.Dropdowns]},"dropdown"===d||"dropdown-months"===d?q.default.createElement(a.MonthsDropdown,{className:c[D.MonthsDropdown],"aria-label":es(),classNames:c,components:a,disabled:!!s.disableNavigation,onChange:eb(e.date),options:r,style:w?.[D.Dropdown],value:l.getMonth(e.date)}):q.default.createElement("span",null,F(e.date,l)),"dropdown"===d||"dropdown-years"===d?q.default.createElement(a.YearsDropdown,{className:c[D.YearsDropdown],"aria-label":ed(l.options),classNames:c,components:a,disabled:!!s.disableNavigation,onChange:eN(e.date),options:i,style:w?.[D.Dropdown],value:l.getYear(e.date)}):q.default.createElement("span",null,M(e.date,l)),q.default.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},C(e.date,l.options,l))):q.default.createElement(a.CaptionLabel,{className:c[D.CaptionLabel],role:"status","aria-live":"polite"},C(e.date,l.options,l))),"around"===m&&!s.hideNavigation&&t===h-1&&q.default.createElement(a.NextMonthButton,{type:"button",className:c[D.NextMonthButton],tabIndex:$?void 0:-1,"aria-disabled":!$||void 0,"aria-label":ei($),onClick:ex,"data-animated-button":s.animate?"true":void 0},q.default.createElement(a.Chevron,{disabled:!$||void 0,className:c[D.Chevron],orientation:"rtl"===s.dir?"left":"right"})),t===h-1&&"after"===m&&!s.hideNavigation&&q.default.createElement(a.Nav,{"data-animated-nav":s.animate?"true":void 0,className:c[D.Nav],style:w?.[D.Nav],"aria-label":ea(),onPreviousClick:eh,onNextClick:ex,previousMonth:U,nextMonth:$}),q.default.createElement(a.MonthGrid,{role:"grid","aria-multiselectable":"multiple"===u||"range"===u,"aria-label":er(e.date,l.options,l)||void 0,className:c[D.MonthGrid],style:w?.[D.MonthGrid]},!s.hideWeekdays&&q.default.createElement(a.Weekdays,{"data-animated-weekdays":s.animate?"true":void 0,className:c[D.Weekdays],style:w?.[D.Weekdays]},N&&q.default.createElement(a.WeekNumberHeader,{"aria-label":ec(l.options),className:c[D.WeekNumberHeader],style:w?.[D.WeekNumberHeader],scope:"col"},O()),eu.map((e,t)=>q.default.createElement(a.Weekday,{"aria-label":el(e,l.options,l),className:c[D.Weekday],key:t,style:w?.[D.Weekday],scope:"col"},I(e,l.options,l)))),q.default.createElement(a.Weeks,{"data-animated-weeks":s.animate?"true":void 0,className:c[D.Weeks],style:w?.[D.Weeks]},e.weeks.map((e,t)=>q.default.createElement(a.Week,{className:c[D.Week],key:e.weekNumber,style:w?.[D.Week],week:e},N&&q.default.createElement(a.WeekNumber,{week:e,style:w?.[D.WeekNumber],"aria-label":eo(e.weekNumber,{locale:o}),className:c[D.WeekNumber],scope:"row",role:"rowheader"},R(e.weekNumber,l)),e.days.map(e=>{let{date:t}=e,r=W(e);if(r[P.focused]=!r.hidden&&!!K?.isEqualTo(e),r[k.selected]=H?.(t)||r.selected,uY(G)){let{from:e,to:s}=G;r[k.range_start]=!!(e&&s&&l.isSameDay(t,e)),r[k.range_end]=!!(e&&s&&l.isSameDay(t,s)),r[k.range_middle]=uW(G,t,!0,l)}let n=function(e,t={},r={}){let s={...t?.[D.Day]};return Object.entries(e).filter(([,e])=>!0===e).forEach(([e])=>{s={...s,...r?.[e]}}),s}(r,w,s.modifiersStyles),i=function(e,t,r={}){return Object.entries(e).filter(([,e])=>!0===e).reduce((e,[s])=>(r[s]?e.push(r[s]):t[P[s]]?e.push(t[P[s]]):t[k[s]]&&e.push(t[k[s]]),e),[t[D.Day]])}(r,c,s.modifiersClassNames),o=em||r.hidden?void 0:et(t,r,l.options,l);return q.default.createElement(a.Day,{key:`${l.format(t,"yyyy-MM-dd")}_${l.format(e.displayMonth,"yyyy-MM")}`,day:e,modifiers:r,className:i.join(" "),style:n,role:"gridcell","aria-selected":r.selected||void 0,"aria-label":o,"data-day":l.format(t,"yyyy-MM-dd"),"data-month":e.outside?l.format(t,"yyyy-MM"):void 0,"data-selected":r.selected||void 0,"data-disabled":r.disabled||void 0,"data-hidden":r.hidden||void 0,"data-outside":e.outside||void 0,"data-focused":r.focused||void 0,"data-today":r.today||void 0},!r.hidden&&em?q.default.createElement(a.DayButton,{className:c[D.DayButton],style:w?.[D.DayButton],type:"button",day:e,modifiers:r,disabled:r.disabled||void 0,tabIndex:Z(e)?0:-1,"aria-label":ee(t,r,l.options,l),onClick:ep(e,r),onBlur:eg(e,r),onFocus:ef(e,r),onKeyDown:ev(e,r),onMouseEnter:ej(e,r),onMouseLeave:ey(e,r)},S(t,l.options,l)):!r.hidden&&S(e.date,l.options,l))}))))))})),s.footer&&q.default.createElement(a.Footer,{className:c[D.Footer],style:w?.[D.Footer],role:"status","aria-live":"polite"},s.footer)))}function mK({className:e,classNames:t,showOutsideDays:r=!0,...s}){return(0,z.jsx)(mX,{showOutsideDays:r,className:tj("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:tj(ty({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:tj("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md","range"===s.mode?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:tj(ty({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:e,...t})=>(0,z.jsx)(dZ,{className:tj("size-4",e),...t}),IconRight:({className:e,...t})=>(0,z.jsx)(nJ,{className:tj("size-4",e),...t})},...s})}(b=A||(A={}))[b.Today=0]="Today",b[b.Selected=1]="Selected",b[b.LastFocused=2]="LastFocused",b[b.FocusedModifier=3]="FocusedModifier";var mZ="Popover",[mQ,mJ]=tw(mZ,[sS]),m0=sS(),[m1,m2]=mQ(mZ),m4=e=>{let{__scopePopover:t,children:r,open:s,defaultOpen:a,onOpenChange:n,modal:i=!1}=e,l=m0(t),o=q.useRef(null),[c,d]=q.useState(!1),[u,m]=tW({prop:s,defaultProp:a??!1,onChange:n,caller:mZ});return(0,z.jsx)(sk,{...l,children:(0,z.jsx)(m1,{scope:t,contentId:rl(),triggerRef:o,open:u,onOpenChange:m,onOpenToggle:q.useCallback(()=>m(e=>!e),[m]),hasCustomAnchor:c,onCustomAnchorAdd:q.useCallback(()=>d(!0),[]),onCustomAnchorRemove:q.useCallback(()=>d(!1),[]),modal:i,children:r})})};m4.displayName=mZ;var m5="PopoverAnchor";q.forwardRef((e,t)=>{let{__scopePopover:r,...s}=e,a=m2(m5,r),n=m0(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=a;return q.useEffect(()=>(i(),()=>l()),[i,l]),(0,z.jsx)(sA,{...n,...s,ref:t})}).displayName=m5;var m6="PopoverTrigger",m3=q.forwardRef((e,t)=>{let{__scopePopover:r,...s}=e,a=m2(m6,r),n=m0(r),i=eN(t,a.triggerRef),l=(0,z.jsx)(tP.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":ho(a.open),...s,ref:i,onClick:t$(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:(0,z.jsx)(sA,{asChild:!0,...n,children:l})});m3.displayName=m6;var m8="PopoverPortal",[m7,m9]=mQ(m8,{forceMount:void 0}),he=e=>{let{__scopePopover:t,forceMount:r,children:s,container:a}=e,n=m2(m8,t);return(0,z.jsx)(m7,{scope:t,forceMount:r,children:(0,z.jsx)(sU,{present:r||n.open,children:(0,z.jsx)(sq,{asChild:!0,container:a,children:s})})})};he.displayName=m8;var ht="PopoverContent",hr=q.forwardRef((e,t)=>{let r=m9(ht,e.__scopePopover),{forceMount:s=r.forceMount,...a}=e,n=m2(ht,e.__scopePopover);return(0,z.jsx)(sU,{present:s||n.open,children:n.modal?(0,z.jsx)(ha,{...a,ref:t}):(0,z.jsx)(hn,{...a,ref:t})})});hr.displayName=ht;var hs=ew("PopoverContent.RemoveScroll"),ha=q.forwardRef((e,t)=>{let r=m2(ht,e.__scopePopover),s=q.useRef(null),a=eN(t,s),n=q.useRef(!1);return q.useEffect(()=>{let e=s.current;if(e)return ar(e)},[]),(0,z.jsx)(aq,{as:hs,allowPinchZoom:!0,children:(0,z.jsx)(hi,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:t$(e.onCloseAutoFocus,e=>{e.preventDefault(),n.current||r.triggerRef.current?.focus()}),onPointerDownOutside:t$(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;n.current=2===t.button||r},{checkForDefaultPrevented:!1}),onFocusOutside:t$(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),hn=q.forwardRef((e,t)=>{let r=m2(ht,e.__scopePopover),s=q.useRef(!1),a=q.useRef(!1);return(0,z.jsx)(hi,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(s.current||r.triggerRef.current?.focus(),t.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(s.current=!0,"pointerdown"===t.detail.originalEvent.type&&(a.current=!0));let n=t.target;r.triggerRef.current?.contains(n)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&a.current&&t.preventDefault()}})}),hi=q.forwardRef((e,t)=>{let{__scopePopover:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:n,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:d,...u}=e,m=m2(ht,r),h=m0(r);return t5(),(0,z.jsx)(t9,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:n,children:(0,z.jsx)(t0,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:o,onFocusOutside:c,onDismiss:()=>m.onOpenChange(!1),children:(0,z.jsx)(sI,{"data-state":ho(m.open),role:"dialog",id:m.contentId,...h,...u,ref:t,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),hl="PopoverClose";function ho(e){return e?"open":"closed"}function hc({...e}){return(0,z.jsx)(m4,{"data-slot":"popover",...e})}function hd({...e}){return(0,z.jsx)(m3,{"data-slot":"popover-trigger",...e})}function hu({className:e,align:t="center",sideOffset:r=4,...s}){return(0,z.jsx)(he,{children:(0,z.jsx)(hr,{"data-slot":"popover-content",align:t,sideOffset:r,className:tj("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...s})})}q.forwardRef((e,t)=>{let{__scopePopover:r,...s}=e,a=m2(hl,r);return(0,z.jsx)(tP.button,{type:"button",...s,ref:t,onClick:t$(e.onClick,()=>a.onOpenChange(!1))})}).displayName=hl,q.forwardRef((e,t)=>{let{__scopePopover:r,...s}=e,a=m0(r);return(0,z.jsx)(sB,{...a,...s,ref:t})}).displayName="PopoverArrow";let hm=[{id:"DEL-2024-001",customer:"Acme Construction",items:15,date:"2024-11-05",timeSlot:"09:00 - 12:00",status:"Scheduled",address:"Downtown Plaza, Main St"},{id:"DEL-2024-002",customer:"BuildRight Inc.",items:8,date:"2024-11-04",timeSlot:"14:00 - 17:00",status:"In Transit",address:"Riverside Complex, Oak Ave"},{id:"DEL-2024-003",customer:"Metro Builders",items:12,date:"2024-11-03",timeSlot:"09:00 - 12:00",status:"Delivered",address:"City Center Tower, Park Rd"}],hh=[{id:"RET-2024-001",customer:"Premium Projects",items:5,date:"2024-11-06",status:"Requested",condition:"Good"},{id:"RET-2024-002",customer:"Skyline Developers",items:3,date:"2024-11-05",status:"Approved",condition:"Damaged"}];function hx(){let[e]=(0,q.useState)(hm),[t,r]=(0,q.useState)(hh),[s,a]=(0,q.useState)(!1),[n,i]=(0,q.useState)(!1),[l,o]=(0,q.useState)(),[c,d]=(0,q.useState)("");return(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)("h1",{children:"Delivery & Returns Management"}),(0,z.jsx)("p",{className:"text-[#374151]",children:"Schedule deliveries and process returns"})]}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"Today's Deliveries"})}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(eo,{className:"h-5 w-5 text-[#3B82F6]"}),(0,z.jsx)("p",{className:"text-[#111827]",children:"3"})]})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"In Transit"})}),(0,z.jsx)(on,{children:(0,z.jsx)("p",{className:"text-[#F59E0B]",children:e.filter(e=>"In Transit"===e.status).length})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"Pending Returns"})}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(ei,{className:"h-5 w-5 text-[#F59E0B]"}),(0,z.jsx)("p",{className:"text-[#111827]",children:t.filter(e=>"Requested"===e.status).length})]})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"Completed Today"})}),(0,z.jsx)(on,{children:(0,z.jsx)("p",{className:"text-[#059669]",children:e.filter(e=>"Delivered"===e.status).length})})]})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsxs)(or,{className:"flex flex-row items-center justify-between",children:[(0,z.jsx)(os,{className:"text-[18px]",children:"Deliveries"}),(0,z.jsxs)(cQ,{open:s,onOpenChange:a,children:[(0,z.jsx)(cJ,{asChild:!0,children:(0,z.jsxs)(tb,{className:"bg-[#1E40AF] hover:bg-[#1E3A8A] h-10 px-6 rounded-lg",children:[(0,z.jsx)(Z,{className:"mr-2 h-4 w-4"}),"Schedule Delivery"]})}),(0,z.jsxs)(c2,{className:"max-w-[500px]",children:[(0,z.jsxs)(c4,{children:[(0,z.jsx)(c6,{children:"Schedule Delivery"}),(0,z.jsx)(c3,{children:"Select delivery date and time slot"})]}),(0,z.jsxs)("form",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Customer Order"}),(0,z.jsx)(tN,{value:"ORD-2024-045 - Acme Construction",disabled:!0,className:"h-10"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Delivery Date"}),(0,z.jsxs)(hc,{children:[(0,z.jsx)(hd,{asChild:!0,children:(0,z.jsxs)(tb,{variant:"outline",className:"w-full h-10 justify-start text-left",children:[(0,z.jsx)(Z,{className:"mr-2 h-4 w-4"}),l?uq(l,"PPP"):"Pick a date"]})}),(0,z.jsx)(hu,{className:"w-auto p-0",children:(0,z.jsx)(mK,{mode:"single",selected:l,onSelect:o})})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Time Slot"}),(0,z.jsxs)(c_,{value:c,onValueChange:d,children:[(0,z.jsxs)("div",{className:"flex items-center space-x-2 p-3 border rounded-lg hover:bg-[#F3F4F6] cursor-pointer",children:[(0,z.jsx)(cL,{value:"morning",id:"morning"}),(0,z.jsx)(lN,{htmlFor:"morning",className:"cursor-pointer flex-1",children:"Morning (09:00 - 12:00)"})]}),(0,z.jsxs)("div",{className:"flex items-center space-x-2 p-3 border rounded-lg hover:bg-[#F3F4F6] cursor-pointer",children:[(0,z.jsx)(cL,{value:"afternoon",id:"afternoon"}),(0,z.jsx)(lN,{htmlFor:"afternoon",className:"cursor-pointer flex-1",children:"Afternoon (14:00 - 17:00)"})]})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"address",children:"Delivery Address"}),(0,z.jsx)(dl,{id:"address",placeholder:"Enter delivery address",className:"min-h-[80px]"})]}),(0,z.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,z.jsx)(tb,{type:"button",variant:"outline",className:"flex-1",onClick:()=>a(!1),children:"Cancel"}),(0,z.jsx)(tb,{type:"button",className:"flex-1 bg-[#1E40AF] hover:bg-[#1E3A8A]",onClick:()=>{ld.success("Delivery scheduled successfully!"),a(!1)},children:"Confirm Schedule"})]})]})]})]})]}),(0,z.jsx)(on,{children:(0,z.jsxs)(c8,{children:[(0,z.jsx)(c7,{children:(0,z.jsxs)(de,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,z.jsx)(dt,{children:"Delivery ID"}),(0,z.jsx)(dt,{children:"Customer"}),(0,z.jsx)(dt,{children:"Items"}),(0,z.jsx)(dt,{children:"Date"}),(0,z.jsx)(dt,{children:"Time Slot"}),(0,z.jsx)(dt,{children:"Status"}),(0,z.jsx)(dt,{children:"Actions"})]})}),(0,z.jsx)(c9,{children:e.map(e=>(0,z.jsxs)(de,{className:"h-14 hover:bg-[#F3F4F6]",children:[(0,z.jsx)(dr,{className:"text-[#111827]",children:e.id}),(0,z.jsx)(dr,{className:"text-[#374151]",children:e.customer}),(0,z.jsxs)(dr,{className:"text-[#374151]",children:[e.items," items"]}),(0,z.jsx)(dr,{className:"text-[#374151]",children:e.date}),(0,z.jsx)(dr,{className:"text-[#374151]",children:e.timeSlot}),(0,z.jsx)(dr,{children:(e=>{switch(e){case"Scheduled":return(0,z.jsx)(cZ,{className:"bg-[#3B82F6] hover:bg-[#2563EB]",children:"Scheduled"});case"In Transit":return(0,z.jsx)(cZ,{className:"bg-[#F59E0B] hover:bg-[#D97706]",children:"In Transit"});case"Delivered":return(0,z.jsx)(cZ,{className:"bg-[#059669] hover:bg-[#047857]",children:"Delivered"});case"Failed":return(0,z.jsx)(cZ,{className:"bg-[#DC2626] hover:bg-[#B91C1C]",children:"Failed"})}})(e.status)}),(0,z.jsx)(dr,{children:(0,z.jsx)(tb,{variant:"ghost",size:"sm",children:"Track"})})]},e.id))})]})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px]",children:"Returns Processing"})}),(0,z.jsx)(on,{children:(0,z.jsxs)(c8,{children:[(0,z.jsx)(c7,{children:(0,z.jsxs)(de,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,z.jsx)(dt,{children:"Return ID"}),(0,z.jsx)(dt,{children:"Customer"}),(0,z.jsx)(dt,{children:"Items"}),(0,z.jsx)(dt,{children:"Return Date"}),(0,z.jsx)(dt,{children:"Condition"}),(0,z.jsx)(dt,{children:"Status"}),(0,z.jsx)(dt,{children:"Actions"})]})}),(0,z.jsx)(c9,{children:t.map(e=>(0,z.jsxs)(de,{className:"h-14 hover:bg-[#F3F4F6]",children:[(0,z.jsx)(dr,{className:"text-[#111827]",children:e.id}),(0,z.jsx)(dr,{className:"text-[#374151]",children:e.customer}),(0,z.jsxs)(dr,{className:"text-[#374151]",children:[e.items," items"]}),(0,z.jsx)(dr,{className:"text-[#374151]",children:e.date}),(0,z.jsx)(dr,{children:(e=>{switch(e){case"Good":return(0,z.jsx)(cZ,{className:"bg-[#059669] hover:bg-[#047857]",children:"Good"});case"Damaged":return(0,z.jsx)(cZ,{className:"bg-[#DC2626] hover:bg-[#B91C1C]",children:"Damaged"});case"Needs Repair":return(0,z.jsx)(cZ,{className:"bg-[#F59E0B] hover:bg-[#D97706]",children:"Needs Repair"})}})(e.condition)}),(0,z.jsx)(dr,{children:(e=>{switch(e){case"Requested":return(0,z.jsx)(cZ,{className:"bg-[#3B82F6] hover:bg-[#2563EB]",children:"Requested"});case"Approved":return(0,z.jsx)(cZ,{className:"bg-[#059669] hover:bg-[#047857]",children:"Approved"});case"In Transit":return(0,z.jsx)(cZ,{className:"bg-[#F59E0B] hover:bg-[#D97706]",children:"In Transit"});case"Received":return(0,z.jsx)(cZ,{className:"bg-[#6B7280] hover:bg-[#4B5563]",children:"Received"})}})(e.status)}),(0,z.jsx)(dr,{children:"Requested"===e.status&&(0,z.jsx)(tb,{variant:"ghost",size:"sm",onClick:()=>{var s;return s=e.id,void(r(t.map(e=>e.id===s?{...e,status:"Approved"}:e)),ld.success("Return approved and processed!"),i(!1))},children:"Process"})})]},e.id))})]})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px]",children:"Delivery Tracking - DEL-2024-002"})}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"flex items-start gap-4",children:[(0,z.jsx)("div",{className:"mt-1",children:(0,z.jsx)(lX,{className:"h-6 w-6 text-[#059669]"})}),(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsx)("h4",{className:"text-[#111827]",children:"Order Confirmed"}),(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"November 4, 2024 at 8:30 AM"})]})]}),(0,z.jsx)("div",{className:"ml-3 border-l-2 border-[#E5E7EB] h-6"}),(0,z.jsxs)("div",{className:"flex items-start gap-4",children:[(0,z.jsx)("div",{className:"mt-1",children:(0,z.jsx)(lX,{className:"h-6 w-6 text-[#059669]"})}),(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsx)("h4",{className:"text-[#111827]",children:"Items Prepared"}),(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"November 4, 2024 at 9:15 AM"})]})]}),(0,z.jsx)("div",{className:"ml-3 border-l-2 border-[#E5E7EB] h-6"}),(0,z.jsxs)("div",{className:"flex items-start gap-4",children:[(0,z.jsx)("div",{className:"mt-1",children:(0,z.jsx)("div",{className:"h-6 w-6 bg-[#F59E0B] rounded-full flex items-center justify-center",children:(0,z.jsx)(eo,{className:"h-4 w-4 text-white"})})}),(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsx)("h4",{className:"text-[#111827]",children:"Out for Delivery"}),(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"November 4, 2024 at 2:00 PM"}),(0,z.jsx)("p",{className:"text-[12px] text-[#F59E0B] mt-1",children:"Driver: John Smith - Contact: +60 12-345-6789"})]})]}),(0,z.jsx)("div",{className:"ml-3 border-l-2 border-dashed border-[#E5E7EB] h-6"}),(0,z.jsxs)("div",{className:"flex items-start gap-4",children:[(0,z.jsx)("div",{className:"mt-1",children:(0,z.jsx)("div",{className:"h-6 w-6 border-2 border-[#E5E7EB] rounded-full"})}),(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsx)("h4",{className:"text-[#6B7280]",children:"Delivered"}),(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Expected: 2:00 PM - 5:00 PM"})]})]})]})})]})]})}let hp=Y("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),hf=Y("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),hg=[{id:"P-001",name:"Aluminum Scaffolding Frame - 6ft",category:"Frames",price:85,rating:4.5,reviews:24,available:!0,image:""},{id:"P-002",name:"Steel Platform Board",category:"Platforms",price:45,rating:4.8,reviews:38,available:!0,image:""},{id:"P-003",name:"Safety Guard Rail Set",category:"Safety",price:65,rating:4.6,reviews:15,available:!0,image:""},{id:"P-004",name:"Scaffold Caster Wheels",category:"Accessories",price:25,rating:4.3,reviews:42,available:!1,image:""}];function hv(){let[e]=(0,q.useState)(hg),[t,r]=(0,q.useState)([]),[s,a]=(0,q.useState)(""),[n,i]=(0,q.useState)("all"),[l,o]=(0,q.useState)(null),[c,d]=(0,q.useState)(!1),[u,m]=(0,q.useState)(!1),h=e.filter(e=>{let t=e.name.toLowerCase().includes(s.toLowerCase()),r="all"===n||e.category===n;return t&&r}),x=e=>{r(t.filter(t=>t.id!==e)),ld.success("Removed from cart")},p=(e,s)=>{s<=0?x(e):r(t.map(t=>t.id===e?{...t,quantity:s}:t))},f=t.reduce((e,t)=>e+t.price*t.quantity,0),g=t.reduce((e,t)=>e+t.quantity,0);return(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("h1",{children:"Scaffolding Marketplace"}),(0,z.jsx)("p",{className:"text-[#374151]",children:"Browse and rent scaffolding equipment"})]}),(0,z.jsxs)(cQ,{open:c,onOpenChange:d,children:[(0,z.jsx)(cJ,{asChild:!0,children:(0,z.jsxs)(tb,{className:"bg-[#1E40AF] hover:bg-[#1E3A8A] relative",children:[(0,z.jsx)(el,{className:"mr-2 h-4 w-4"}),"Cart (",g,")",g>0&&(0,z.jsx)("span",{className:"absolute -top-1 -right-1 bg-[#DC2626] text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:g})]})}),(0,z.jsxs)(c2,{className:"max-w-[600px]",children:[(0,z.jsxs)(c4,{children:[(0,z.jsx)(c6,{children:"Shopping Cart"}),(0,z.jsx)(c3,{children:"Review your selected items"})]}),(0,z.jsx)("div",{className:"space-y-4",children:0===t.length?(0,z.jsxs)("div",{className:"text-center py-8",children:[(0,z.jsx)(el,{className:"h-12 w-12 text-[#9CA3AF] mx-auto mb-3"}),(0,z.jsx)("p",{className:"text-[#6B7280]",children:"Your cart is empty"})]}):(0,z.jsxs)(z.Fragment,{children:[t.map(e=>(0,z.jsxs)("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[(0,z.jsx)("div",{className:"w-16 h-16 bg-[#F3F4F6] rounded flex items-center justify-center",children:(0,z.jsx)(ei,{className:"h-8 w-8 text-[#9CA3AF]"})}),(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsx)("h4",{className:"text-[#111827]",children:e.name}),(0,z.jsxs)("p",{className:"text-[14px] text-[#6B7280]",children:["RM",e.price,"/day"]})]}),(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(tb,{variant:"outline",size:"sm",onClick:()=>p(e.id,e.quantity-1),children:"-"}),(0,z.jsx)("span",{className:"w-8 text-center",children:e.quantity}),(0,z.jsx)(tb,{variant:"outline",size:"sm",onClick:()=>p(e.id,e.quantity+1),children:"+"})]}),(0,z.jsxs)("p",{className:"text-[#111827] w-24 text-right",children:["RM",e.price*e.quantity]}),(0,z.jsx)(tb,{variant:"ghost",size:"sm",onClick:()=>x(e.id),children:(0,z.jsx)("span",{className:"text-[#DC2626]",children:""})})]},e.id)),(0,z.jsxs)("div",{className:"border-t pt-4",children:[(0,z.jsxs)("div",{className:"flex justify-between text-[18px] mb-4",children:[(0,z.jsx)("span",{className:"text-[#111827]",children:"Total"}),(0,z.jsxs)("span",{className:"text-[#111827]",children:["RM",f,"/day"]})]}),(0,z.jsx)(tb,{className:"w-full bg-[#1E40AF] hover:bg-[#1E3A8A]",onClick:()=>{d(!1),m(!0)},children:"Proceed to Checkout"})]})]})})]})]})]}),(0,z.jsxs)("div",{className:"flex gap-4",children:[(0,z.jsxs)("div",{className:"relative flex-1",children:[(0,z.jsx)(et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[#6B7280]"}),(0,z.jsx)(tN,{placeholder:"Search scaffolding equipment...",className:"pl-10 h-10 bg-white border-[#D1D5DB] rounded-md",value:s,onChange:e=>a(e.target.value)})]}),(0,z.jsxs)(cl,{value:n,onValueChange:i,children:[(0,z.jsx)(cc,{className:"w-[180px] h-10 bg-white border-[#D1D5DB] rounded-md",children:(0,z.jsx)(co,{placeholder:"Category"})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"all",children:"All Categories"}),(0,z.jsx)(cu,{value:"Frames",children:"Frames"}),(0,z.jsx)(cu,{value:"Platforms",children:"Platforms"}),(0,z.jsx)(cu,{value:"Safety",children:"Safety"}),(0,z.jsx)(cu,{value:"Accessories",children:"Accessories"})]})]})]}),(0,z.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:h.map(e=>(0,z.jsx)(ot,{className:"border-[#E5E7EB] hover:shadow-lg transition-shadow",children:(0,z.jsxs)(on,{className:"p-0",children:[(0,z.jsxs)("div",{className:"aspect-square bg-[#F3F4F6] rounded-t-lg flex items-center justify-center relative",children:[(0,z.jsx)(ei,{className:"h-20 w-20 text-[#9CA3AF]"}),(0,z.jsx)("button",{className:"absolute top-3 right-3 p-2 bg-white rounded-full hover:bg-[#F3F4F6]",children:(0,z.jsx)(hp,{className:"h-4 w-4 text-[#6B7280]"})})]}),(0,z.jsxs)("div",{className:"p-4 space-y-3",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("h3",{className:"text-[#111827] mb-1",children:e.name}),(0,z.jsx)(cZ,{variant:"secondary",className:"bg-[#F3F4F6] text-[#374151]",children:e.category})]}),(0,z.jsxs)("div",{className:"flex items-center gap-1 text-[14px]",children:[(0,z.jsx)(hf,{className:"h-4 w-4 fill-[#F59E0B] text-[#F59E0B]"}),(0,z.jsx)("span",{className:"text-[#111827]",children:e.rating}),(0,z.jsxs)("span",{className:"text-[#6B7280]",children:["(",e.reviews," reviews)"]})]}),(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsxs)("div",{children:[(0,z.jsxs)("p",{className:"text-[20px] text-[#111827]",children:["RM",e.price]}),(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"per day"})]}),e.available?(0,z.jsx)(cZ,{className:"bg-[#059669] hover:bg-[#047857]",children:"Available"}):(0,z.jsx)(cZ,{className:"bg-[#DC2626] hover:bg-[#B91C1C]",children:"Out of Stock"})]}),(0,z.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,z.jsx)(tb,{variant:"outline",className:"flex-1",onClick:()=>o(e),children:"View Details"}),(0,z.jsxs)(tb,{className:"flex-1 bg-[#1E40AF] hover:bg-[#1E3A8A]",disabled:!e.available,onClick:()=>{t.find(t=>t.id===e.id)?r(t.map(t=>t.id===e.id?{...t,quantity:t.quantity+1}:t)):r([...t,{...e,quantity:1}]),ld.success("Added to cart!")},children:[(0,z.jsx)(el,{className:"mr-1 h-4 w-4"}),"Add"]})]})]})]})},e.id))}),(0,z.jsx)(cQ,{open:u,onOpenChange:m,children:(0,z.jsxs)(c2,{className:"max-w-[600px]",children:[(0,z.jsxs)(c4,{children:[(0,z.jsx)(c6,{children:"Checkout"}),(0,z.jsx)(c3,{children:"Complete your order"})]}),(0,z.jsxs)("form",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"rentalPeriod",children:"Rental Period (Days)"}),(0,z.jsx)(tN,{id:"rentalPeriod",type:"number",defaultValue:"30",className:"h-10"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"deliveryAddress",children:"Delivery Address"}),(0,z.jsx)(dl,{id:"deliveryAddress",placeholder:"Enter delivery address",className:"min-h-[80px]"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"projectDetails",children:"Project Details"}),(0,z.jsx)(dl,{id:"projectDetails",placeholder:"Describe your project...",className:"min-h-[80px]"})]}),(0,z.jsx)(ot,{className:"border-[#E5E7EB] bg-[#F9FAFB]",children:(0,z.jsxs)(on,{className:"pt-4 space-y-2",children:[(0,z.jsxs)("div",{className:"flex justify-between text-[14px]",children:[(0,z.jsx)("span",{className:"text-[#6B7280]",children:"Subtotal (30 days)"}),(0,z.jsxs)("span",{className:"text-[#111827]",children:["RM",30*f]})]}),(0,z.jsxs)("div",{className:"flex justify-between text-[14px]",children:[(0,z.jsx)("span",{className:"text-[#6B7280]",children:"Delivery"}),(0,z.jsx)("span",{className:"text-[#111827]",children:"RM150"})]}),(0,z.jsxs)("div",{className:"flex justify-between text-[14px]",children:[(0,z.jsx)("span",{className:"text-[#6B7280]",children:"Deposit (50%)"}),(0,z.jsxs)("span",{className:"text-[#111827]",children:["RM",(30*f+150)*.5]})]}),(0,z.jsxs)("div",{className:"border-t border-[#E5E7EB] pt-2 flex justify-between",children:[(0,z.jsx)("span",{className:"text-[#111827]",children:"Total Due"}),(0,z.jsxs)("span",{className:"text-[#111827]",children:["RM",(30*f+150)*.5]})]})]})}),(0,z.jsxs)("div",{className:"flex gap-3",children:[(0,z.jsx)(tb,{type:"button",variant:"outline",className:"flex-1",onClick:()=>m(!1),children:"Cancel"}),(0,z.jsx)(tb,{type:"button",className:"flex-1 bg-[#1E40AF] hover:bg-[#1E3A8A]",onClick:()=>{ld.success("Order placed successfully!"),r([]),m(!1)},children:"Place Order"})]})]})]})})]})}let hj=Y("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),hy=Y("file-check",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),hb=Y("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),hN=Y("megaphone",[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]]),hw=Y("map-pinned",[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]]),hC=Y("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);var hS="Tabs",[hD,hP]=tw(hS,[sZ]),hk=sZ(),[hE,hA]=hD(hS),hF=q.forwardRef((e,t)=>{let{__scopeTabs:r,value:s,onValueChange:a,defaultValue:n,orientation:i="horizontal",dir:l,activationMode:o="automatic",...c}=e,d=tZ(l),[u,m]=tW({prop:s,onChange:a,defaultProp:n??"",caller:hS});return(0,z.jsx)(hE,{scope:r,baseId:rl(),value:u,onValueChange:m,orientation:i,dir:d,activationMode:o,children:(0,z.jsx)(tP.div,{dir:d,"data-orientation":i,...c,ref:t})})});hF.displayName=hS;var hR="TabsList",hO=q.forwardRef((e,t)=>{let{__scopeTabs:r,loop:s=!0,...a}=e,n=hA(hR,r),i=hk(r);return(0,z.jsx)(s0,{asChild:!0,...i,orientation:n.orientation,dir:n.dir,loop:s,children:(0,z.jsx)(tP.div,{role:"tablist","aria-orientation":n.orientation,...a,ref:t})})});hO.displayName=hR;var hI="TabsTrigger",hM=q.forwardRef((e,t)=>{let{__scopeTabs:r,value:s,disabled:a=!1,...n}=e,i=hA(hI,r),l=hk(r),o=h_(i.baseId,s),c=hL(i.baseId,s),d=s===i.value;return(0,z.jsx)(s4,{asChild:!0,...l,focusable:!a,active:d,children:(0,z.jsx)(tP.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:o,...n,ref:t,onMouseDown:t$(e.onMouseDown,e=>{a||0!==e.button||!1!==e.ctrlKey?e.preventDefault():i.onValueChange(s)}),onKeyDown:t$(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&i.onValueChange(s)}),onFocus:t$(e.onFocus,()=>{let e="manual"!==i.activationMode;d||a||!e||i.onValueChange(s)})})})});hM.displayName=hI;var hT="TabsContent",hB=q.forwardRef((e,t)=>{let{__scopeTabs:r,value:s,forceMount:a,children:n,...i}=e,l=hA(hT,r),o=h_(l.baseId,s),c=hL(l.baseId,s),d=s===l.value,u=q.useRef(d);return q.useEffect(()=>{let e=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,z.jsx)(sU,{present:a||d,children:({present:r})=>(0,z.jsx)(tP.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":o,hidden:!r,id:c,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:r&&n})})});function h_(e,t){return`${e}-trigger-${t}`}function hL(e,t){return`${e}-content-${t}`}function hz({className:e,...t}){return(0,z.jsx)(hF,{"data-slot":"tabs",className:tj("flex flex-col gap-2",e),...t})}function hq({className:e,...t}){return(0,z.jsx)(hO,{"data-slot":"tabs-list",className:tj("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function hU({className:e,...t}){return(0,z.jsx)(hM,{"data-slot":"tabs-trigger",className:tj("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function h$({className:e,...t}){return(0,z.jsx)(hB,{"data-slot":"tabs-content",className:tj("flex-1 outline-none",e),...t})}hB.displayName=hT;var hV="Switch",[hW,hH]=tw(hV),[hY,hG]=hW(hV),hX=q.forwardRef((e,t)=>{let{__scopeSwitch:r,name:s,checked:a,defaultChecked:n,required:i,disabled:l,value:o="on",onCheckedChange:c,form:d,...u}=e,[m,h]=q.useState(null),x=eN(t,e=>h(e)),p=q.useRef(!1),f=!m||d||!!m.closest("form"),[g,v]=tW({prop:a,defaultProp:n??!1,onChange:c,caller:hV});return(0,z.jsxs)(hY,{scope:r,checked:g,disabled:l,children:[(0,z.jsx)(tP.button,{type:"button",role:"switch","aria-checked":g,"aria-required":i,"data-state":hJ(g),"data-disabled":l?"":void 0,disabled:l,value:o,...u,ref:x,onClick:t$(e.onClick,e=>{v(e=>!e),f&&(p.current=e.isPropagationStopped(),p.current||e.stopPropagation())})}),f&&(0,z.jsx)(hQ,{control:m,bubbles:!p.current,name:s,value:o,checked:g,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});hX.displayName=hV;var hK="SwitchThumb",hZ=q.forwardRef((e,t)=>{let{__scopeSwitch:r,...s}=e,a=hG(hK,r);return(0,z.jsx)(tP.span,{"data-state":hJ(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});hZ.displayName=hK;var hQ=q.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:s=!0,...a},n)=>{let i=q.useRef(null),l=eN(i,n),o=lS(r),c=sN(t);return q.useEffect(()=>{let e=i.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==r&&t){let a=new Event("click",{bubbles:s});t.call(e,r),e.dispatchEvent(a)}},[o,r,s]),(0,z.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function hJ(e){return e?"checked":"unchecked"}function h0({className:e,...t}){return(0,z.jsx)(hX,{"data-slot":"switch",className:tj("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,z.jsx)(hZ,{"data-slot":"switch-thumb",className:tj("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}hQ.displayName="SwitchBubbleInput";let h1=[{id:"about",label:"About Us",icon:K,description:"Company information and history"},{id:"faq",label:"FAQs",icon:hj,description:"Frequently asked questions"},{id:"terms",label:"Terms & Conditions",icon:hy,description:"Legal terms and policies"},{id:"delivery-zones",label:"Delivery Zones & Pricing",icon:hb,description:"Service areas and delivery costs"},{id:"banners",label:"Promotional Banners",icon:dA,description:"Marketing and promotional content"},{id:"safety",label:"Safety Guidelines",icon:lG,description:"Safety protocols and guidelines"},{id:"announcements",label:"Announcements",icon:hN,description:"Company news and updates"},{id:"permits",label:"Permits",icon:eh,description:"Required permits and documentation"},{id:"site-access",label:"Site Access Instructions",icon:hw,description:"Access procedures and requirements"},{id:"blogs",label:"Blogs",icon:hC,description:"Industry insights and articles"}],h2=[{id:"1",type:"about",title:"About Our Company",content:"We are a leading provider of scaffolding solutions with over 20 years of experience in the construction industry. Our commitment to safety and quality has made us the trusted choice for contractors across the region.",status:"published",lastUpdated:"2025-11-10",updatedBy:"Admin User"},{id:"2",type:"faq",title:"What is your delivery time?",content:"Typically 24-48 hours for standard orders",status:"published",lastUpdated:"2025-11-08",updatedBy:"Support Team",metadata:{question:"What is your delivery time?",answer:"Typically 24-48 hours for standard orders in covered zones."}},{id:"3",type:"delivery-zones",title:"Zone A - City Center",content:"Downtown and surrounding areas",status:"published",lastUpdated:"2025-11-05",updatedBy:"Operations Team",metadata:{zone:"Zone A",price:"$150"}},{id:"4",type:"banners",title:"Winter Promotion 2025",content:"Get 20% off on all scaffolding rentals this winter season!",status:"published",lastUpdated:"2025-11-12",updatedBy:"Marketing Team",metadata:{priority:1,imageUrl:"https://images.unsplash.com/photo-1541888946425-d81bb19240f5"}},{id:"5",type:"safety",title:"Scaffolding Safety Guidelines",content:"Always ensure proper anchoring and load distribution. Never exceed weight limits. Use personal protective equipment at all times.",status:"published",lastUpdated:"2025-11-01",updatedBy:"Safety Officer"},{id:"6",type:"announcements",title:"Holiday Schedule",content:"Our offices will be closed on December 25-26. Emergency services available 24/7.",status:"draft",lastUpdated:"2025-11-11",updatedBy:"Admin User"},{id:"7",type:"blogs",title:"Best Practices for Scaffolding Installation",content:"In this article, we explore the essential steps and considerations for safe and efficient scaffolding installation on construction sites...",status:"published",lastUpdated:"2025-11-09",updatedBy:"Content Team"}];function h4(){let[e,t]=(0,q.useState)("about"),[r,s]=(0,q.useState)(h2),[a,n]=(0,q.useState)(!1),[i,l]=(0,q.useState)(!1),[o,c]=(0,q.useState)(null),[d,u]=(0,q.useState)(!1),[m,h]=(0,q.useState)(""),[x,p]=(0,q.useState)(""),[f,g]=(0,q.useState)("draft"),[v,j]=(0,q.useState)({}),y=r.filter(t=>t.type===e),b=()=>{u(!0),c(null),h(""),p(""),g("draft"),j({}),n(!0)},N=e=>{u(!1),c(e),h(e.title),p(e.content),g(e.status),j(e.metadata||{}),n(!0)},w=()=>h1.find(t=>t.id===e);return(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("h1",{className:"text-[#111827] mb-2",children:"Content Management"}),(0,z.jsx)("p",{className:"text-[#6B7280]",children:"Create, update, and manage company-related content for the customer portal"})]}),(0,z.jsxs)(ot,{children:[(0,z.jsxs)(or,{children:[(0,z.jsx)(os,{children:"Content Categories"}),(0,z.jsx)(oa,{children:"Select a category to view and manage its content"})]}),(0,z.jsx)(on,{children:(0,z.jsxs)(hz,{value:e,onValueChange:e=>t(e),children:[(0,z.jsx)(hq,{className:"grid w-full grid-cols-2 md:grid-cols-5 gap-2 h-auto p-2",children:h1.map(e=>{let t=e.icon,s=r.filter(t=>t.type===e.id).length;return(0,z.jsxs)(hU,{value:e.id,className:"flex flex-col items-center gap-1 p-3 h-auto data-[state=active]:bg-[#1E40AF] data-[state=active]:text-white",children:[(0,z.jsx)(t,{className:"h-5 w-5"}),(0,z.jsx)("span",{className:"text-xs text-center",children:e.label}),(0,z.jsx)(cZ,{variant:"secondary",className:"text-[10px] px-1.5 py-0.5 min-w-[20px]",children:s})]},e.id)})}),h1.map(e=>(0,z.jsxs)(h$,{value:e.id,className:"mt-6 space-y-4",children:[(0,z.jsxs)("div",{className:"flex items-start justify-between",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("h3",{className:"text-[#111827] mb-1",children:e.label}),(0,z.jsx)("p",{className:"text-[#6B7280] text-sm",children:e.description})]}),(0,z.jsxs)(tb,{onClick:b,className:"bg-[#1E40AF] hover:bg-[#1E3A8A] text-white",children:[(0,z.jsx)(dm,{className:"h-4 w-4 mr-2"}),"Create New"]})]}),0===y.length?(0,z.jsx)(ot,{className:"border-dashed",children:(0,z.jsxs)(on,{className:"flex flex-col items-center justify-center py-12",children:[(0,z.jsx)(e.icon,{className:"h-12 w-12 text-[#9CA3AF] mb-4"}),(0,z.jsx)("p",{className:"text-[#6B7280] mb-4",children:"No content available for this category"}),(0,z.jsxs)(tb,{onClick:b,variant:"outline",className:"border-[#1E40AF] text-[#1E40AF]",children:[(0,z.jsx)(dm,{className:"h-4 w-4 mr-2"}),"Create First Item"]})]})}):(0,z.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,z.jsxs)(c8,{children:[(0,z.jsx)(c7,{children:(0,z.jsxs)(de,{className:"bg-[#F9FAFB]",children:[(0,z.jsx)(dt,{children:"Title"}),(0,z.jsx)(dt,{children:"Status"}),(0,z.jsx)(dt,{children:"Last Updated"}),(0,z.jsx)(dt,{children:"Updated By"}),(0,z.jsx)(dt,{className:"text-right",children:"Actions"})]})}),(0,z.jsx)(c9,{children:y.map(e=>(0,z.jsxs)(de,{children:[(0,z.jsx)(dr,{children:(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"text-[#111827]",children:e.title}),(0,z.jsx)("p",{className:"text-sm text-[#6B7280] line-clamp-1",children:e.content})]})}),(0,z.jsx)(dr,{children:(0,z.jsx)(cZ,{variant:"published"===e.status?"default":"secondary",className:"published"===e.status?"bg-[#059669] hover:bg-[#047857]":"",children:e.status})}),(0,z.jsx)(dr,{className:"text-[#6B7280]",children:new Date(e.lastUpdated).toLocaleDateString()}),(0,z.jsx)(dr,{className:"text-[#6B7280]",children:e.updatedBy}),(0,z.jsx)(dr,{children:(0,z.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,z.jsx)(tb,{variant:"ghost",size:"icon",onClick:()=>{c(e),l(!0)},className:"h-8 w-8",children:(0,z.jsx)(lv,{className:"h-4 w-4 text-[#6B7280]"})}),(0,z.jsx)(tb,{variant:"ghost",size:"icon",onClick:()=>N(e),className:"h-8 w-8",children:(0,z.jsx)(cX,{className:"h-4 w-4 text-[#1E40AF]"})}),(0,z.jsx)(tb,{variant:"ghost",size:"icon",onClick:()=>{var t;return t=e.id,void(s(r.filter(e=>e.id!==t)),ld.success("Content deleted successfully"))},className:"h-8 w-8",children:(0,z.jsx)(dS,{className:"h-4 w-4 text-[#DC2626]"})})]})})]},e.id))})]})})]},e.id))]})})]}),(0,z.jsx)(cQ,{open:a,onOpenChange:n,children:(0,z.jsxs)(c2,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,z.jsxs)(c4,{children:[(0,z.jsxs)(c6,{children:[d?"Create New":"Edit"," ",w()?.label]}),(0,z.jsxs)(c3,{children:[d?"Add new content to":"Update content for"," ",w()?.label.toLowerCase()]})]}),(0,z.jsxs)("div",{className:"space-y-4 py-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"title",children:["Title ",(0,z.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,z.jsx)(tN,{id:"title",value:m,onChange:e=>h(e.target.value),placeholder:"Enter content title"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"content",children:["Content ",(0,z.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,z.jsx)(dl,{id:"content",value:x,onChange:e=>p(e.target.value),placeholder:"Enter content details",rows:8,className:"resize-none"})]}),(()=>{switch(e){case"faq":return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"question",children:"Question"}),(0,z.jsx)(tN,{id:"question",value:v.question||"",onChange:e=>j({...v,question:e.target.value}),placeholder:"Enter the question"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"answer",children:"Answer"}),(0,z.jsx)(dl,{id:"answer",value:v.answer||"",onChange:e=>j({...v,answer:e.target.value}),placeholder:"Enter the answer",rows:4})]})]});case"delivery-zones":return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"zone",children:"Zone Name"}),(0,z.jsx)(tN,{id:"zone",value:v.zone||"",onChange:e=>j({...v,zone:e.target.value}),placeholder:"e.g., Zone A"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"price",children:"Delivery Price"}),(0,z.jsx)(tN,{id:"price",value:v.price||"",onChange:e=>j({...v,price:e.target.value}),placeholder:"e.g., $150"})]})]});case"banners":return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"imageUrl",children:"Banner Image URL"}),(0,z.jsx)(tN,{id:"imageUrl",value:v.imageUrl||"",onChange:e=>j({...v,imageUrl:e.target.value}),placeholder:"Enter image URL"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"priority",children:"Priority (1-10)"}),(0,z.jsx)(tN,{id:"priority",type:"number",min:"1",max:"10",value:v.priority||"",onChange:e=>j({...v,priority:parseInt(e.target.value)}),placeholder:"1"})]})]});default:return null}})(),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"status",children:"Status"}),(0,z.jsxs)("div",{className:"flex items-center gap-4",children:[(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(h0,{id:"status",checked:"published"===f,onCheckedChange:e=>g(e?"published":"draft")}),(0,z.jsx)(lN,{htmlFor:"status",className:"cursor-pointer",children:"published"===f?"Published":"Draft"})]}),(0,z.jsx)("p",{className:"text-sm text-[#6B7280]",children:"published"===f?"Visible to customers":"Hidden from customers"})]})]})]}),(0,z.jsxs)(c5,{children:[(0,z.jsxs)(tb,{variant:"outline",onClick:()=>n(!1),className:"border-[#E5E7EB]",children:[(0,z.jsx)(ea,{className:"h-4 w-4 mr-2"}),"Cancel"]}),(0,z.jsxs)(tb,{onClick:()=>{m&&x?(d?(s([...r,{id:Date.now().toString(),type:e,title:m,content:x,status:f,lastUpdated:new Date().toISOString().split("T")[0],updatedBy:"Current User",metadata:v}]),ld.success("Content created successfully")):o&&(s(r.map(e=>e.id===o.id?{...e,title:m,content:x,status:f,lastUpdated:new Date().toISOString().split("T")[0],metadata:v}:e)),ld.success("Content updated successfully")),n(!1)):ld.error("Please fill in all required fields")},className:"bg-[#1E40AF] hover:bg-[#1E3A8A] text-white",children:[(0,z.jsx)(dk,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})}),(0,z.jsx)(cQ,{open:i,onOpenChange:l,children:(0,z.jsxs)(c2,{className:"max-w-2xl",children:[(0,z.jsxs)(c4,{children:[(0,z.jsx)(c6,{children:o?.title}),(0,z.jsx)(c3,{children:(0,z.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,z.jsx)(cZ,{variant:o?.status==="published"?"default":"secondary",className:o?.status==="published"?"bg-[#059669] hover:bg-[#047857]":"",children:o?.status}),(0,z.jsx)("span",{className:"text-[#6B7280]",children:""}),(0,z.jsxs)("span",{children:["Updated on"," ",o?.lastUpdated&&new Date(o.lastUpdated).toLocaleDateString()]}),(0,z.jsx)("span",{className:"text-[#6B7280]",children:""}),(0,z.jsxs)("span",{children:["by ",o?.updatedBy]})]})})]}),(0,z.jsxs)("div",{className:"py-4 space-y-4",children:[o?.type==="banners"&&o.metadata?.imageUrl&&(0,z.jsx)("div",{className:"rounded-lg overflow-hidden border",children:(0,z.jsx)("img",{src:o.metadata.imageUrl,alt:o.title,className:"w-full h-48 object-cover"})}),o?.type==="faq"&&o.metadata&&(0,z.jsxs)("div",{className:"space-y-3",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Question"}),(0,z.jsx)("p",{className:"text-[#111827] mt-1",children:o.metadata.question})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Answer"}),(0,z.jsx)("p",{className:"text-[#111827] mt-1",children:o.metadata.answer})]})]}),o?.type==="delivery-zones"&&o.metadata&&(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Zone"}),(0,z.jsx)("p",{className:"text-[#111827] mt-1",children:o.metadata.zone})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Price"}),(0,z.jsx)("p",{className:"text-[#111827] mt-1",children:o.metadata.price})]})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Content"}),(0,z.jsx)("div",{className:"mt-2 p-4 bg-[#F9FAFB] rounded-lg border",children:(0,z.jsx)("p",{className:"text-[#111827] whitespace-pre-wrap",children:o?.content})})]})]}),(0,z.jsxs)(c5,{children:[(0,z.jsx)(tb,{variant:"outline",onClick:()=>l(!1),className:"border-[#E5E7EB]",children:"Close"}),(0,z.jsxs)(tb,{onClick:()=>{l(!1),o&&N(o)},className:"bg-[#1E40AF] hover:bg-[#1E3A8A] text-white",children:[(0,z.jsx)(cX,{className:"h-4 w-4 mr-2"}),"Edit Content"]})]})]})})]})}var h5="Collapsible",[h6,h3]=tw(h5),[h8,h7]=h6(h5),h9=q.forwardRef((e,t)=>{let{__scopeCollapsible:r,open:s,defaultOpen:a,disabled:n,onOpenChange:i,...l}=e,[o,c]=tW({prop:s,defaultProp:a??!1,onChange:i,caller:h5});return(0,z.jsx)(h8,{scope:r,disabled:n,contentId:rl(),open:o,onOpenToggle:q.useCallback(()=>c(e=>!e),[c]),children:(0,z.jsx)(tP.div,{"data-state":xn(o),"data-disabled":n?"":void 0,...l,ref:t})})});h9.displayName=h5;var xe="CollapsibleTrigger",xt=q.forwardRef((e,t)=>{let{__scopeCollapsible:r,...s}=e,a=h7(xe,r);return(0,z.jsx)(tP.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":xn(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:t,onClick:t$(e.onClick,a.onOpenToggle)})});xt.displayName=xe;var xr="CollapsibleContent",xs=q.forwardRef((e,t)=>{let{forceMount:r,...s}=e,a=h7(xr,e.__scopeCollapsible);return(0,z.jsx)(sU,{present:r||a.open,children:({present:e})=>(0,z.jsx)(xa,{...s,ref:t,present:e})})});xs.displayName=xr;var xa=q.forwardRef((e,t)=>{let{__scopeCollapsible:r,present:s,children:a,...n}=e,i=h7(xr,r),[l,o]=q.useState(s),c=q.useRef(null),d=eN(t,c),u=q.useRef(0),m=u.current,h=q.useRef(0),x=h.current,p=i.open||l,f=q.useRef(p),g=q.useRef(void 0);return q.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),tS(()=>{let e=c.current;if(e){g.current=g.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();u.current=t.height,h.current=t.width,f.current||(e.style.transitionDuration=g.current.transitionDuration,e.style.animationName=g.current.animationName),o(s)}},[i.open,s]),(0,z.jsx)(tP.div,{"data-state":xn(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!p,...n,ref:d,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:p&&a})});function xn(e){return e?"open":"closed"}var xi="Accordion",xl=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[xo,xc,xd]=tH(xi),[xu,xm]=tw(xi,[xd,h3]),xh=h3(),xx=q.default.forwardRef((e,t)=>{let{type:r,...s}=e;return(0,z.jsx)(xo.Provider,{scope:e.__scopeAccordion,children:"multiple"===r?(0,z.jsx)(xy,{...s,ref:t}):(0,z.jsx)(xj,{...s,ref:t})})});xx.displayName=xi;var[xp,xf]=xu(xi),[xg,xv]=xu(xi,{collapsible:!1}),xj=q.default.forwardRef((e,t)=>{let{value:r,defaultValue:s,onValueChange:a=()=>{},collapsible:n=!1,...i}=e,[l,o]=tW({prop:r,defaultProp:s??"",onChange:a,caller:xi});return(0,z.jsx)(xp,{scope:e.__scopeAccordion,value:q.default.useMemo(()=>l?[l]:[],[l]),onItemOpen:o,onItemClose:q.default.useCallback(()=>n&&o(""),[n,o]),children:(0,z.jsx)(xg,{scope:e.__scopeAccordion,collapsible:n,children:(0,z.jsx)(xw,{...i,ref:t})})})}),xy=q.default.forwardRef((e,t)=>{let{value:r,defaultValue:s,onValueChange:a=()=>{},...n}=e,[i,l]=tW({prop:r,defaultProp:s??[],onChange:a,caller:xi}),o=q.default.useCallback(e=>l((t=[])=>[...t,e]),[l]),c=q.default.useCallback(e=>l((t=[])=>t.filter(t=>t!==e)),[l]);return(0,z.jsx)(xp,{scope:e.__scopeAccordion,value:i,onItemOpen:o,onItemClose:c,children:(0,z.jsx)(xg,{scope:e.__scopeAccordion,collapsible:!0,children:(0,z.jsx)(xw,{...n,ref:t})})})}),[xb,xN]=xu(xi),xw=q.default.forwardRef((e,t)=>{let{__scopeAccordion:r,disabled:s,dir:a,orientation:n="vertical",...i}=e,l=eN(q.default.useRef(null),t),o=xc(r),c="ltr"===tZ(a),d=t$(e.onKeyDown,e=>{if(!xl.includes(e.key))return;let t=e.target,r=o().filter(e=>!e.ref.current?.disabled),s=r.findIndex(e=>e.ref.current===t),a=r.length;if(-1===s)return;e.preventDefault();let i=s,l=a-1,d=()=>{(i=s+1)>l&&(i=0)},u=()=>{(i=s-1)<0&&(i=l)};switch(e.key){case"Home":i=0;break;case"End":i=l;break;case"ArrowRight":"horizontal"===n&&(c?d():u());break;case"ArrowDown":"vertical"===n&&d();break;case"ArrowLeft":"horizontal"===n&&(c?u():d());break;case"ArrowUp":"vertical"===n&&u()}let m=i%a;r[m].ref.current?.focus()});return(0,z.jsx)(xb,{scope:r,disabled:s,direction:a,orientation:n,children:(0,z.jsx)(xo.Slot,{scope:r,children:(0,z.jsx)(tP.div,{...i,"data-orientation":n,ref:l,onKeyDown:s?void 0:d})})})}),xC="AccordionItem",[xS,xD]=xu(xC),xP=q.default.forwardRef((e,t)=>{let{__scopeAccordion:r,value:s,...a}=e,n=xN(xC,r),i=xf(xC,r),l=xh(r),o=rl(),c=s&&i.value.includes(s)||!1,d=n.disabled||e.disabled;return(0,z.jsx)(xS,{scope:r,open:c,disabled:d,triggerId:o,children:(0,z.jsx)(h9,{"data-orientation":n.orientation,"data-state":xI(c),...l,...a,ref:t,disabled:d,open:c,onOpenChange:e=>{e?i.onItemOpen(s):i.onItemClose(s)}})})});xP.displayName=xC;var xk="AccordionHeader",xE=q.default.forwardRef((e,t)=>{let{__scopeAccordion:r,...s}=e,a=xN(xi,r),n=xD(xk,r);return(0,z.jsx)(tP.h3,{"data-orientation":a.orientation,"data-state":xI(n.open),"data-disabled":n.disabled?"":void 0,...s,ref:t})});xE.displayName=xk;var xA="AccordionTrigger",xF=q.default.forwardRef((e,t)=>{let{__scopeAccordion:r,...s}=e,a=xN(xi,r),n=xD(xA,r),i=xv(xA,r),l=xh(r);return(0,z.jsx)(xo.ItemSlot,{scope:r,children:(0,z.jsx)(xt,{"aria-disabled":n.open&&!i.collapsible||void 0,"data-orientation":a.orientation,id:n.triggerId,...l,...s,ref:t})})});xF.displayName=xA;var xR="AccordionContent",xO=q.default.forwardRef((e,t)=>{let{__scopeAccordion:r,...s}=e,a=xN(xi,r),n=xD(xR,r),i=xh(r);return(0,z.jsx)(xs,{role:"region","aria-labelledby":n.triggerId,"data-orientation":a.orientation,...i,...s,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function xI(e){return e?"open":"closed"}function xM({...e}){return(0,z.jsx)(xx,{"data-slot":"accordion",...e})}function xT({className:e,...t}){return(0,z.jsx)(xP,{"data-slot":"accordion-item",className:tj("border-b last:border-b-0",e),...t})}function xB({className:e,children:t,...r}){return(0,z.jsx)(xE,{className:"flex",children:(0,z.jsxs)(xF,{"data-slot":"accordion-trigger",className:tj("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,(0,z.jsx)(en,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function x_({className:e,children:t,...r}){return(0,z.jsx)(xO,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...r,children:(0,z.jsx)("div",{className:tj("pt-0 pb-4",e),children:t})})}xO.displayName=xR;let xL=[{id:"1",type:"about",title:"About Our Company",content:"We are a leading provider of scaffolding solutions with over 20 years of experience in the construction industry. Our commitment to safety and quality has made us the trusted choice for contractors across the region.\n\nOur Mission:\nTo provide reliable, safe, and cost-effective scaffolding solutions that enable our clients to complete their projects efficiently and safely.\n\nOur Values:\n Safety First - We never compromise on safety standards\n Quality Service - Excellence in every interaction\n Innovation - Constantly improving our offerings\n Reliability - You can count on us, every time",status:"published",lastUpdated:"2025-11-10"},{id:"2",type:"faq",title:"Delivery Time",content:"",status:"published",lastUpdated:"2025-11-08",metadata:{question:"What is your typical delivery time?",answer:"Typically 24-48 hours for standard orders in covered zones. Rush delivery available upon request."}},{id:"3",type:"faq",title:"Rental Period",content:"",status:"published",lastUpdated:"2025-11-08",metadata:{question:"What is the minimum rental period?",answer:"Our minimum rental period is one month. Monthly billing cycles apply with prorated calculations for partial months."}},{id:"4",type:"faq",title:"Safety Certification",content:"",status:"published",lastUpdated:"2025-11-08",metadata:{question:"Are your scaffolding materials safety certified?",answer:"Yes, all our scaffolding equipment meets international safety standards and undergoes regular inspections."}},{id:"5",type:"delivery-zones",title:"Zone A - City Center",content:"Downtown and surrounding areas including Central Business District",status:"published",lastUpdated:"2025-11-05",metadata:{zone:"Zone A",price:"$150"}},{id:"6",type:"delivery-zones",title:"Zone B - Suburbs",content:"Suburban areas within 25km radius",status:"published",lastUpdated:"2025-11-05",metadata:{zone:"Zone B",price:"$200"}},{id:"7",type:"delivery-zones",title:"Zone C - Extended Areas",content:"Areas 25-50km from city center",status:"published",lastUpdated:"2025-11-05",metadata:{zone:"Zone C",price:"$300"}},{id:"8",type:"banners",title:"Winter Promotion 2025",content:"Get 20% off on all scaffolding rentals this winter season!",status:"published",lastUpdated:"2025-11-12",metadata:{priority:1,imageUrl:"https://images.unsplash.com/photo-1541888946425-d81bb19240f5"}},{id:"9",type:"safety",title:"General Safety Guidelines",content:"1. Inspection Before Use\n Visually inspect all scaffolding components before assembly\n Check for damage, rust, or wear\n Report any defects immediately\n\n2. Proper Assembly\n Follow manufacturer's assembly instructions\n Ensure all connections are secure\n Use base plates on solid, level ground\n Install guardrails at all open sides\n\n3. Load Distribution\n Never exceed maximum load capacity\n Distribute weight evenly across platform\n Account for workers, tools, and materials\n\n4. Personal Protective Equipment\n Hard hats are mandatory\n Non-slip footwear required\n Use fall protection when working at height\n Safety harnesses for heights above 6 feet",status:"published",lastUpdated:"2025-11-01"},{id:"10",type:"safety",title:"Weather Precautions",content:"Do not use scaffolding during:\n High winds (over 25 mph)\n Heavy rain or storms\n Icy conditions\n Poor visibility\n\nSecure all materials and equipment when adverse weather is expected.",status:"published",lastUpdated:"2025-11-01"},{id:"11",type:"announcements",title:"New Service Area Expansion",content:"We're excited to announce that we've expanded our service coverage to include the Northern Industrial Zone! Deliveries to this area are now available with standard pricing.",status:"published",lastUpdated:"2025-11-10"},{id:"12",type:"permits",title:"Street Occupancy Permit",content:"Required when scaffolding extends into public right-of-way.\n\nDocuments needed:\n Site plan showing scaffolding location\n Proof of liability insurance\n Contractor license\n Traffic management plan\n\nProcessing time: 5-7 business days\nFee: Varies by municipality",status:"published",lastUpdated:"2025-10-28"},{id:"13",type:"site-access",title:"Standard Site Access Procedure",content:"1. Delivery Coordination\n Confirm delivery window 24 hours in advance\n Provide site contact name and phone number\n Ensure access route is clear\n\n2. Site Requirements\n Level ground for unloading\n Clear path to installation location\n Adequate space for delivery vehicle\n Access to water and power (if needed)\n\n3. Safety Briefing\n Site-specific hazards review\n PPE requirements\n Emergency procedures\n Site rules and regulations",status:"published",lastUpdated:"2025-10-15"},{id:"14",type:"blogs",title:"Best Practices for Scaffolding Installation",content:"In this comprehensive guide, we explore essential steps for safe and efficient scaffolding installation on construction sites.\n\nPlanning Phase:\nBefore installation begins, conduct a thorough site assessment. Identify potential hazards, overhead obstructions, and underground utilities. Plan the scaffolding layout to optimize workflow and safety.\n\nFoundation Preparation:\nThe foundation is critical for scaffolding stability. Ensure the ground is level, stable, and capable of supporting the anticipated loads. Use base plates and mud sills on soft ground.\n\nAssembly Best Practices:\n Work systematically from one end to the other\n Install components in correct sequence\n Ensure all connections are properly secured\n Add bracing as you build upward\n Install safety features immediately\n\nFinal Inspection:\nBefore use, conduct a comprehensive inspection of the completed scaffolding system. Verify all connections, check plumb and level, and ensure all safety features are in place.",status:"published",lastUpdated:"2025-11-09"},{id:"15",type:"blogs",title:"Understanding Scaffolding Load Capacity",content:"Load capacity is one of the most critical factors in scaffolding safety. Understanding how to calculate and manage loads can prevent accidents and ensure project success.\n\nTypes of Loads:\n1. Dead Load - The weight of the scaffolding itself\n2. Live Load - Workers, tools, and materials\n3. Environmental Load - Wind, snow, ice\n\nLoad Classes:\n Light Duty (25 psf) - Inspection and light work\n Medium Duty (50 psf) - Plastering and painting\n Heavy Duty (75 psf) - Masonry and heavy materials\n\nSafety Tips:\n Never exceed the rated capacity\n Account for dynamic loads (movement)\n Distribute weight evenly\n Remove debris regularly\n Post load capacity signs",status:"published",lastUpdated:"2025-11-07"},{id:"16",type:"terms",title:"Terms and Conditions",content:"SCAFFOLDING RENTAL AGREEMENT\n\n1. RENTAL TERMS\n1.1 Minimum rental period is one (1) month\n1.2 Billing is monthly with prorated calculations for partial months\n1.3 Rental begins upon delivery and ends upon pickup\n\n2. PAYMENT TERMS\n2.1 Deposit required before delivery\n2.2 Monthly rental invoiced at start of each period\n2.3 Payment due within 14 days of invoice date\n2.4 Late payments subject to 1.5% monthly interest\n\n3. CUSTOMER RESPONSIBILITIES\n3.1 Ensure site access for delivery and pickup\n3.2 Provide safe working environment\n3.3 Use equipment in accordance with safety guidelines\n3.4 Maintain equipment in good condition\n3.5 Report damage or issues immediately\n\n4. LIABILITY\n4.1 Customer assumes liability once equipment is delivered\n4.2 Customer responsible for loss, damage, or theft\n4.3 Customer must maintain adequate insurance\n\n5. TERMINATION\n5.1 Either party may terminate with 7 days written notice\n5.2 Early termination may incur fees\n5.3 Equipment must be returned in original condition\n\n6. INDEMNIFICATION\nCustomer agrees to indemnify and hold harmless the Company from any claims arising from equipment use.\n\nBy accepting delivery, customer agrees to these terms and conditions.",status:"published",lastUpdated:"2025-10-01"}];function xz(){let[e,t]=(0,q.useState)(""),[r,s]=(0,q.useState)("info"),a=t=>xL.filter(e=>e.type===t).filter(t=>t.title.toLowerCase().includes(e.toLowerCase())||t.content.toLowerCase().includes(e.toLowerCase())),n=a("banners"),i=a("about"),l=a("faq"),o=a("terms"),c=a("delivery-zones"),d=a("safety"),u=a("announcements"),m=a("permits"),h=a("site-access"),x=a("blogs");return(0,z.jsxs)("div",{className:"space-y-6",children:[n.length>0&&(0,z.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map(e=>(0,z.jsxs)(ot,{className:"overflow-hidden border-[#059669]",children:[e.metadata?.imageUrl&&(0,z.jsx)("div",{className:"h-40 overflow-hidden",children:(0,z.jsx)("img",{src:e.metadata.imageUrl,alt:e.title,className:"w-full h-full object-cover"})}),(0,z.jsx)(or,{className:"bg-gradient-to-r from-[#059669] to-[#047857]",children:(0,z.jsx)(os,{className:"text-white",children:e.title})}),(0,z.jsx)(on,{className:"pt-4",children:(0,z.jsx)("p",{className:"text-[#111827]",children:e.content})})]},e.id))}),u.length>0&&(0,z.jsxs)(ot,{className:"border-[#F59E0B]",children:[(0,z.jsx)(or,{className:"bg-[#FEF3C7] border-b border-[#F59E0B]",children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(hN,{className:"h-5 w-5 text-[#F59E0B]"}),(0,z.jsx)(os,{className:"text-[#92400E]",children:"Latest Announcements"})]})}),(0,z.jsx)(on,{className:"pt-4 space-y-3",children:u.map(e=>(0,z.jsx)("div",{className:"p-4 bg-[#FFFBEB] rounded-lg border border-[#FDE68A]",children:(0,z.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsx)("h4",{className:"text-[#111827] mb-1",children:e.title}),(0,z.jsx)("p",{className:"text-[#6B7280] text-sm",children:e.content})]}),(0,z.jsx)(cZ,{variant:"outline",className:"shrink-0",children:new Date(e.lastUpdated).toLocaleDateString()})]})},e.id))})]}),(0,z.jsx)(ot,{children:(0,z.jsxs)(or,{children:[(0,z.jsx)(os,{children:"Information Center"}),(0,z.jsx)(oa,{children:"Find information about our services, policies, and guidelines"}),(0,z.jsxs)("div",{className:"relative mt-4",children:[(0,z.jsx)(et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[#6B7280]"}),(0,z.jsx)(tN,{placeholder:"Search for information...",value:e,onChange:e=>t(e.target.value),className:"pl-10"})]})]})}),(0,z.jsxs)(hz,{value:r,onValueChange:s,children:[(0,z.jsxs)(hq,{className:"grid w-full grid-cols-2 md:grid-cols-4 lg:grid-cols-8",children:[(0,z.jsxs)(hU,{value:"info",children:[(0,z.jsx)(K,{className:"h-4 w-4 mr-2"}),"About"]}),(0,z.jsxs)(hU,{value:"faq",children:[(0,z.jsx)(hj,{className:"h-4 w-4 mr-2"}),"FAQs"]}),(0,z.jsxs)(hU,{value:"delivery",children:[(0,z.jsx)(hb,{className:"h-4 w-4 mr-2"}),"Delivery"]}),(0,z.jsxs)(hU,{value:"safety",children:[(0,z.jsx)(lG,{className:"h-4 w-4 mr-2"}),"Safety"]}),(0,z.jsxs)(hU,{value:"permits",children:[(0,z.jsx)(eh,{className:"h-4 w-4 mr-2"}),"Permits"]}),(0,z.jsxs)(hU,{value:"access",children:[(0,z.jsx)(hw,{className:"h-4 w-4 mr-2"}),"Site Access"]}),(0,z.jsxs)(hU,{value:"blogs",children:[(0,z.jsx)(hC,{className:"h-4 w-4 mr-2"}),"Blogs"]}),(0,z.jsxs)(hU,{value:"terms",children:[(0,z.jsx)(hy,{className:"h-4 w-4 mr-2"}),"Terms"]})]}),(0,z.jsx)(h$,{value:"info",className:"space-y-4",children:i.map(e=>(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{children:e.title})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,z.jsx)("p",{className:"whitespace-pre-wrap text-[#374151]",children:e.content})})})]},e.id))}),(0,z.jsx)(h$,{value:"faq",children:(0,z.jsxs)(ot,{children:[(0,z.jsxs)(or,{children:[(0,z.jsx)(os,{children:"Frequently Asked Questions"}),(0,z.jsx)(oa,{children:"Find answers to common questions about our scaffolding services"})]}),(0,z.jsx)(on,{children:(0,z.jsx)(xM,{type:"single",collapsible:!0,className:"w-full",children:l.map((e,t)=>(0,z.jsxs)(xT,{value:`item-${t}`,children:[(0,z.jsx)(xB,{className:"text-left",children:e.metadata?.question||e.title}),(0,z.jsx)(x_,{children:(0,z.jsx)("p",{className:"text-[#6B7280]",children:e.metadata?.answer||e.content})})]},e.id))})})]})}),(0,z.jsx)(h$,{value:"delivery",children:(0,z.jsxs)(ot,{children:[(0,z.jsxs)(or,{children:[(0,z.jsx)(os,{children:"Delivery Zones & Pricing"}),(0,z.jsx)(oa,{children:"Our service areas and delivery rates"})]}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:c.map(e=>(0,z.jsxs)(ot,{className:"border-[#1E40AF]",children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsx)(os,{className:"text-[#1E40AF]",children:e.metadata?.zone}),(0,z.jsx)(cZ,{className:"bg-[#1E40AF] text-white",children:e.metadata?.price})]})}),(0,z.jsx)(on,{children:(0,z.jsx)("p",{className:"text-[#6B7280] text-sm",children:e.content})})]},e.id))})})]})}),(0,z.jsx)(h$,{value:"safety",className:"space-y-4",children:d.map(e=>(0,z.jsxs)(ot,{className:"border-[#DC2626]",children:[(0,z.jsx)(or,{className:"bg-[#FEE2E2]",children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(lG,{className:"h-5 w-5 text-[#DC2626]"}),(0,z.jsx)(os,{className:"text-[#991B1B]",children:e.title})]})}),(0,z.jsx)(on,{className:"pt-4",children:(0,z.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,z.jsx)("p",{className:"whitespace-pre-wrap text-[#374151]",children:e.content})})})]},e.id))}),(0,z.jsx)(h$,{value:"permits",className:"space-y-4",children:m.map(e=>(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(eh,{className:"h-5 w-5 text-[#1E40AF]"}),(0,z.jsx)(os,{children:e.title})]})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,z.jsx)("p",{className:"whitespace-pre-wrap text-[#374151]",children:e.content})})})]},e.id))}),(0,z.jsx)(h$,{value:"access",className:"space-y-4",children:h.map(e=>(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(hw,{className:"h-5 w-5 text-[#059669]"}),(0,z.jsx)(os,{children:e.title})]})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,z.jsx)("p",{className:"whitespace-pre-wrap text-[#374151]",children:e.content})})})]},e.id))}),(0,z.jsx)(h$,{value:"blogs",className:"space-y-4",children:(0,z.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:x.map(e=>(0,z.jsxs)(ot,{className:"hover:shadow-lg transition-shadow",children:[(0,z.jsx)(or,{children:(0,z.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,z.jsx)(os,{className:"text-[#111827]",children:e.title}),(0,z.jsx)(cZ,{variant:"outline",className:"shrink-0",children:new Date(e.lastUpdated).toLocaleDateString()})]})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsx)("p",{className:"text-[#6B7280] line-clamp-3",children:e.content}),(0,z.jsxs)(tb,{variant:"outline",className:"w-full border-[#1E40AF] text-[#1E40AF] hover:bg-[#1E40AF] hover:text-white",children:["Read More",(0,z.jsx)(nJ,{className:"h-4 w-4 ml-2"})]})]})]},e.id))})}),(0,z.jsx)(h$,{value:"terms",children:o.map(e=>(0,z.jsxs)(ot,{children:[(0,z.jsxs)(or,{children:[(0,z.jsx)(os,{children:e.title}),(0,z.jsxs)(oa,{children:["Last updated: ",new Date(e.lastUpdated).toLocaleDateString()]})]}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,z.jsx)("p",{className:"whitespace-pre-wrap text-[#374151]",children:e.content})})})]},e.id))})]})]})}let xq=Y("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),xU=Y("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),x$=[{id:"std-frame-1",name:"Standard Frame 1.8m x 1.2m",description:"Heavy-duty steel frame for general construction",unit:"piece",basePrice:85},{id:"std-frame-2",name:"Standard Frame 2.4m x 1.2m",description:"Extended height steel frame",unit:"piece",basePrice:105},{id:"cross-brace",name:"Cross Brace",description:"Diagonal support for frame stability",unit:"piece",basePrice:25},{id:"platform-board",name:"Platform Board 2.4m",description:"Wooden working platform",unit:"piece",basePrice:45},{id:"platform-board-1.8",name:"Platform Board 1.8m",description:"Shorter wooden working platform",unit:"piece",basePrice:35},{id:"base-jack",name:"Base Jack",description:"Adjustable base support",unit:"piece",basePrice:55},{id:"u-head-jack",name:"U-Head Jack",description:"Top support for beams",unit:"piece",basePrice:65},{id:"coupler-right",name:"Right Angle Coupler",description:"Heavy-duty connection coupler",unit:"piece",basePrice:12},{id:"coupler-swivel",name:"Swivel Coupler",description:"Rotating connection coupler",unit:"piece",basePrice:15},{id:"toe-board",name:"Toe Board 2.4m",description:"Safety edge protection",unit:"piece",basePrice:20},{id:"ladder-access",name:"Ladder Access Frame",description:"Built-in ladder for vertical access",unit:"piece",basePrice:95},{id:"stair-tower",name:"Stair Tower Section",description:"Modular stairway access",unit:"set",basePrice:450},{id:"guardrail-post",name:"Guardrail Post",description:"Safety railing support",unit:"piece",basePrice:30},{id:"guardrail-bar",name:"Guardrail Bar 2.4m",description:"Horizontal safety rail",unit:"piece",basePrice:22},{id:"wheel-set",name:"Mobile Wheel Set",description:"Set of 4 lockable wheels",unit:"set",basePrice:180}];function xV({rfq:e,onSave:t,onCancel:r}){let[s,a]=(0,q.useState)({customerName:"",customerEmail:"",customerPhone:"",projectName:"",projectLocation:"",requestedDate:new Date().toISOString().split("T")[0],requiredDate:"",status:"draft",items:[],totalAmount:0,notes:"",createdBy:"Current User"}),[n,i]=(0,q.useState)([]),[l,o]=(0,q.useState)(null);(0,q.useEffect)(()=>{e&&(o(JSON.parse(JSON.stringify(e))),a({customerName:e.customerName,customerEmail:e.customerEmail,customerPhone:e.customerPhone,projectName:e.projectName,projectLocation:e.projectLocation,requestedDate:e.requestedDate,requiredDate:e.requiredDate,status:e.status,items:e.items,totalAmount:e.totalAmount,notes:e.notes,createdBy:e.createdBy}),i(e.items))},[e]);let c=(e,t,r)=>{i(n.map(s=>{if(s.id===e){let e={...s,[t]:r};if("scaffoldingItemId"===t){let t=x$.find(e=>e.id===r);t&&(e.scaffoldingItemName=t.name,e.unit=t.unit,e.unitPrice=t.basePrice)}return e.totalPrice=e.quantity*e.unitPrice,e}return s}))},d=()=>n.reduce((e,t)=>e+t.totalPrice,0);(0,q.useEffect)(()=>{a(e=>({...e,items:n,totalAmount:d()}))},[n]);let u=(e,t,r)=>{let s=JSON.parse(localStorage.getItem("rfqNotifications")||"[]"),a="updated",n=`RFQ ${e.rfqNumber} was updated`;r?(a="created",n=`New RFQ ${e.rfqNumber} was created`):t.some(e=>"items"===e.field&&null===e.oldValue)?(a="item_added",n=`Items added to RFQ ${e.rfqNumber}`):t.some(e=>"items"===e.field&&null===e.newValue)?(a="item_removed",n=`Items removed from RFQ ${e.rfqNumber}`):t.some(e=>e.field.startsWith("item_"))?(a="item_modified",n=`Items modified in RFQ ${e.rfqNumber}`):t.some(e=>"status"===e.field)&&(a="status_changed",n=`RFQ ${e.rfqNumber} status changed`);let i={id:`notif-${Date.now()}`,rfqId:e.id,rfqNumber:e.rfqNumber,type:a,message:n,changes:t,createdBy:"Current User",createdAt:new Date().toISOString(),read:!1};s.unshift(i),localStorage.setItem("rfqNotifications",JSON.stringify(s))},m=r=>{if(!s.customerName||!s.customerEmail||!s.customerPhone||!s.projectName||!s.projectLocation)return void ld.error("Please fill in all required fields");if(0===n.length)return void ld.error("Please add at least one item");if(n.some(e=>!e.scaffoldingItemId||e.quantity<=0))return void ld.error("Please complete all item details");let a=e?.rfqNumber||`RFQ-${Date.now().toString().slice(-8)}`,i=new Date().toISOString(),o={id:e?.id||`rfq-${Date.now()}`,rfqNumber:a,...s,status:r,items:n,totalAmount:d(),createdAt:e?.createdAt||i,updatedAt:i};if(l){let e,t=(e=[],o.items.forEach(t=>{l.items.find(e=>e.id===t.id)||e.push({field:"items",oldValue:null,newValue:t,description:`Added item: ${t.scaffoldingItemName} (Qty: ${t.quantity})`})}),l.items.forEach(t=>{o.items.find(e=>e.id===t.id)||e.push({field:"items",oldValue:t,newValue:null,description:`Removed item: ${t.scaffoldingItemName}`})}),o.items.forEach(t=>{let r=l.items.find(e=>e.id===t.id);r&&(r.quantity!==t.quantity&&e.push({field:"item_quantity",oldValue:r.quantity,newValue:t.quantity,description:`Modified ${t.scaffoldingItemName}: quantity changed from ${r.quantity} to ${t.quantity}`}),r.scaffoldingItemId!==t.scaffoldingItemId&&e.push({field:"item_type",oldValue:r.scaffoldingItemName,newValue:t.scaffoldingItemName,description:`Modified item: changed from ${r.scaffoldingItemName} to ${t.scaffoldingItemName}`}),r.unitPrice!==t.unitPrice&&e.push({field:"item_price",oldValue:r.unitPrice,newValue:t.unitPrice,description:`Modified ${t.scaffoldingItemName}: price changed from RM ${r.unitPrice.toFixed(2)} to RM ${t.unitPrice.toFixed(2)}`}))}),[{field:"status",label:"Status"},{field:"customerName",label:"Customer Name"},{field:"projectName",label:"Project Name"},{field:"requiredDate",label:"Required Date"}].forEach(({field:t,label:r})=>{l[t]!==o[t]&&e.push({field:t,oldValue:l[t],newValue:o[t],description:`${r} changed from "${l[t]}" to "${o[t]}"`})}),e);t.length>0&&u(o,t,!1)}else{let e=n.map(e=>`${e.scaffoldingItemName} (Qty: ${e.quantity})`).join(", ");u(o,[{field:"created",oldValue:null,newValue:o,description:`RFQ created with ${n.length} item${n.length>1?"s":""}: ${e}`}],!0)}t(o);let c=n.length<=3?n.map(e=>e.scaffoldingItemName).join(", "):`${n.slice(0,2).map(e=>e.scaffoldingItemName).join(", ")} +${n.length-2} more`;ld.success("draft"===r?"RFQ saved as draft":"RFQ submitted successfully",{description:`Items: ${c}`})};return(0,z.jsxs)("div",{className:"p-6 space-y-6",children:[(0,z.jsxs)("div",{className:"flex items-center gap-4",children:[(0,z.jsx)(tb,{variant:"outline",onClick:r,children:(0,z.jsx)(lC,{className:"size-4"})}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h1",{className:"text-[#231F20]",children:e?"Edit RFQ":"New RFQ"}),(0,z.jsx)("p",{className:"text-gray-600",children:e?`Editing ${e.rfqNumber}`:"Create a new request for quotation"})]})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{children:"Customer Information"})}),(0,z.jsx)(on,{className:"space-y-4",children:(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"customerName",children:"Customer Name *"}),(0,z.jsx)(tN,{id:"customerName",value:s.customerName,onChange:e=>a({...s,customerName:e.target.value}),placeholder:"Enter customer name"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"customerEmail",children:"Email *"}),(0,z.jsx)(tN,{id:"customerEmail",type:"email",value:s.customerEmail,onChange:e=>a({...s,customerEmail:e.target.value}),placeholder:"customer@example.com"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"customerPhone",children:"Phone *"}),(0,z.jsx)(tN,{id:"customerPhone",value:s.customerPhone,onChange:e=>a({...s,customerPhone:e.target.value}),placeholder:"+60 12-345 6789"})]})]})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{children:"Project Details"})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"projectName",children:"Project Name *"}),(0,z.jsx)(tN,{id:"projectName",value:s.projectName,onChange:e=>a({...s,projectName:e.target.value}),placeholder:"Enter project name"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"projectLocation",children:"Project Location *"}),(0,z.jsx)(tN,{id:"projectLocation",value:s.projectLocation,onChange:e=>a({...s,projectLocation:e.target.value}),placeholder:"Enter project location"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"requestedDate",children:"Requested Date"}),(0,z.jsx)(tN,{id:"requestedDate",type:"date",value:s.requestedDate,onChange:e=>a({...s,requestedDate:e.target.value})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"requiredDate",children:"Required Date *"}),(0,z.jsx)(tN,{id:"requiredDate",type:"date",value:s.requiredDate,onChange:e=>a({...s,requiredDate:e.target.value})})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"notes",children:"Notes"}),(0,z.jsx)(dl,{id:"notes",value:s.notes,onChange:e=>a({...s,notes:e.target.value}),placeholder:"Additional notes or requirements",rows:3})]})]})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsxs)("div",{className:"flex justify-between items-center",children:[(0,z.jsx)(os,{children:"Scaffolding Items"}),(0,z.jsxs)(tb,{onClick:()=>{i([...n,{id:`item-${Date.now()}`,scaffoldingItemId:"",scaffoldingItemName:"",quantity:1,unit:"",unitPrice:0,totalPrice:0,notes:""}])},size:"sm",className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,z.jsx)(dm,{className:"size-4 mr-2"}),"Add Item"]})]})}),(0,z.jsxs)(on,{className:"space-y-4",children:[0===n.length?(0,z.jsx)("div",{className:"text-center py-8 text-gray-500",children:'No items added yet. Click "Add Item" to start.'}):(0,z.jsx)("div",{className:"space-y-4",children:n.map((e,t)=>(0,z.jsxs)("div",{className:"p-4 border rounded-lg space-y-4",children:[(0,z.jsxs)("div",{className:"flex justify-between items-start",children:[(0,z.jsxs)("h4",{className:"text-[#231F20]",children:["Item ",t+1]}),(0,z.jsx)(tb,{variant:"ghost",size:"sm",onClick:()=>{var t;return t=e.id,void i(n.filter(e=>e.id!==t))},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,z.jsx)(dS,{className:"size-4"})})]}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,z.jsxs)("div",{className:"lg:col-span-2 space-y-2",children:[(0,z.jsx)(lN,{children:"Scaffolding Type *"}),(0,z.jsxs)(cl,{value:e.scaffoldingItemId,onValueChange:t=>c(e.id,"scaffoldingItemId",t),children:[(0,z.jsx)(cc,{children:(0,z.jsx)(co,{placeholder:"Select scaffolding type"})}),(0,z.jsx)(cd,{children:x$.map(e=>(0,z.jsxs)(cu,{value:e.id,children:[e.name," - RM ",e.basePrice.toFixed(2),"/",e.unit]},e.id))})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Quantity *"}),(0,z.jsx)(tN,{type:"number",min:"1",value:e.quantity,onChange:t=>c(e.id,"quantity",parseInt(t.target.value)||0)})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Unit Price (RM)"}),(0,z.jsx)(tN,{type:"number",step:"0.01",value:e.unitPrice,onChange:t=>c(e.id,"unitPrice",parseFloat(t.target.value)||0)})]})]}),(0,z.jsxs)("div",{className:"flex justify-between items-center pt-2 border-t",children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Total Price:"}),(0,z.jsxs)("span",{className:"text-[#231F20]",children:["RM ",e.totalPrice.toFixed(2)]})]})]},e.id))}),n.length>0&&(0,z.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t-2",children:[(0,z.jsx)("span",{className:"text-[#231F20]",children:"Grand Total:"}),(0,z.jsxs)("span",{className:"text-[#231F20]",children:["RM ",d().toFixed(2)]})]})]})]}),(0,z.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,z.jsx)(tb,{variant:"outline",onClick:r,children:"Cancel"}),(0,z.jsxs)(tb,{variant:"outline",onClick:()=>m("draft"),className:"border-[#F15929] text-[#F15929] hover:bg-[#F15929]/10",children:[(0,z.jsx)(dk,{className:"size-4 mr-2"}),"Save as Draft"]}),(0,z.jsxs)(tb,{onClick:()=>m("submitted"),className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,z.jsx)(dE,{className:"size-4 mr-2"}),"Submit RFQ"]})]})]})}function xW({rfq:e,onEdit:t,onBack:r,onStatusChange:s}){return(0,z.jsxs)("div",{className:"p-6 space-y-6",children:[(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsxs)("div",{className:"flex items-center gap-4",children:[(0,z.jsx)(tb,{variant:"outline",onClick:r,children:(0,z.jsx)(lC,{className:"size-4"})}),(0,z.jsxs)("div",{children:[(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)("h1",{className:"text-[#231F20]",children:e.rfqNumber}),(0,z.jsx)(cZ,{className:{draft:"bg-gray-100 text-gray-800",submitted:"bg-blue-100 text-blue-800",quoted:"bg-purple-100 text-purple-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",expired:"bg-orange-100 text-orange-800"}[e.status],children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),(0,z.jsx)("p",{className:"text-gray-600",children:e.projectName})]})]}),(0,z.jsxs)("div",{className:"flex gap-2",children:[(0,z.jsxs)(tb,{variant:"outline",onClick:()=>{let t=new Blob([`
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>RFQ ${e.rfqNumber}</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 40px auto;
      padding: 20px;
      color: #231F20;
    }
    .header {
      text-align: center;
      margin-bottom: 40px;
      border-bottom: 3px solid #F15929;
      padding-bottom: 20px;
    }
    .company-name {
      font-size: 28px;
      font-weight: bold;
      color: #231F20;
      margin-bottom: 5px;
    }
    .doc-title {
      font-size: 20px;
      color: #F15929;
      margin: 10px 0;
    }
    .section {
      margin: 30px 0;
    }
    .section-title {
      font-size: 16px;
      font-weight: bold;
      color: #231F20;
      background-color: #F9FAFB;
      padding: 10px;
      border-left: 4px solid #F15929;
      margin-bottom: 15px;
    }
    .info-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin-bottom: 20px;
    }
    .info-item {
      padding: 10px;
    }
    .info-label {
      font-size: 12px;
      color: #6B7280;
      margin-bottom: 5px;
    }
    .info-value {
      font-size: 14px;
      color: #231F20;
      font-weight: 500;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    th {
      background-color: #F9FAFB;
      color: #231F20;
      font-weight: bold;
      padding: 12px;
      text-align: left;
      border: 1px solid #E5E7EB;
    }
    td {
      padding: 12px;
      border: 1px solid #E5E7EB;
    }
    .text-right {
      text-align: right;
    }
    .total-row {
      background-color: #F9FAFB;
      font-weight: bold;
    }
    .total-amount {
      color: #F15929;
      font-size: 18px;
    }
    .signature-section {
      margin-top: 60px;
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 40px;
    }
    .signature-box {
      border-top: 2px solid #231F20;
      padding-top: 10px;
      margin-top: 60px;
    }
    .signature-label {
      font-size: 12px;
      color: #6B7280;
    }
    .footer {
      margin-top: 40px;
      padding-top: 20px;
      border-top: 1px solid #E5E7EB;
      text-align: center;
      font-size: 12px;
      color: #6B7280;
    }
    @media print {
      body {
        margin: 0;
        padding: 20px;
      }
    }
  </style>
</head>
<body>
  <div class="header">
    <div class="company-name">Power Metal & Steel</div>
    <div class="doc-title">REQUEST FOR QUOTATION</div>
    <div style="font-size: 16px; margin-top: 10px;">${e.rfqNumber}</div>
  </div>

  <div class="section">
    <div class="section-title">Customer Information</div>
    <div class="info-grid">
      <div class="info-item">
        <div class="info-label">Customer Name</div>
        <div class="info-value">${e.customerName}</div>
      </div>
      <div class="info-item">
        <div class="info-label">Email</div>
        <div class="info-value">${e.customerEmail}</div>
      </div>
      ${e.customerPhone?`
      <div class="info-item">
        <div class="info-label">Phone</div>
        <div class="info-value">${e.customerPhone}</div>
      </div>
      `:""}
    </div>
  </div>

  <div class="section">
    <div class="section-title">Project Details</div>
    <div class="info-grid">
      <div class="info-item">
        <div class="info-label">Project Name</div>
        <div class="info-value">${e.projectName}</div>
      </div>
      ${e.projectLocation?`
      <div class="info-item">
        <div class="info-label">Location</div>
        <div class="info-value">${e.projectLocation}</div>
      </div>
      `:""}
      <div class="info-item">
        <div class="info-label">Requested Date</div>
        <div class="info-value">${new Date(e.requestedDate).toLocaleDateString()}</div>
      </div>
      <div class="info-item">
        <div class="info-label">Required Date</div>
        <div class="info-value">${new Date(e.requiredDate).toLocaleDateString()}</div>
      </div>
    </div>
    ${e.notes?`
    <div class="info-item" style="margin-top: 10px;">
      <div class="info-label">Notes</div>
      <div class="info-value">${e.notes}</div>
    </div>
    `:""}
  </div>

  <div class="section">
    <div class="section-title">Scaffolding Items</div>
    <table>
      <thead>
        <tr>
          <th style="width: 50px;">#</th>
          <th>Item Description</th>
          <th class="text-right" style="width: 100px;">Quantity</th>
          <th class="text-right" style="width: 100px;">Unit</th>
          <th class="text-right" style="width: 120px;">Unit Price (RM)</th>
          <th class="text-right" style="width: 120px;">Total (RM)</th>
        </tr>
      </thead>
      <tbody>
        ${e.items.map((e,t)=>`
        <tr>
          <td>${t+1}</td>
          <td>${e.scaffoldingItemName}${e.notes?`<br><span style="font-size: 12px; color: #6B7280;">${e.notes}</span>`:""}</td>
          <td class="text-right">${e.quantity}</td>
          <td class="text-right">${e.unit}</td>
          <td class="text-right">${e.unitPrice.toFixed(2)}</td>
          <td class="text-right">${e.totalPrice.toFixed(2)}</td>
        </tr>
        `).join("")}
        <tr class="total-row">
          <td colspan="5" class="text-right">Total Amount:</td>
          <td class="text-right total-amount">RM ${e.totalAmount.toFixed(2)}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="signature-section">
    <div>
      <div class="signature-label">Prepared By</div>
      <div class="signature-box">
        <div>${e.createdBy}</div>
        <div style="font-size: 11px; color: #6B7280; margin-top: 5px;">
          Date: ${new Date(e.createdAt).toLocaleDateString()}
        </div>
      </div>
    </div>
    <div>
      <div class="signature-label">Customer Acceptance</div>
      <div class="signature-box">
        <div>Signature: ___________________</div>
        <div style="font-size: 11px; color: #6B7280; margin-top: 5px;">
          Date: ___________________
        </div>
      </div>
    </div>
  </div>

  <div class="footer">
    <p>This is a computer-generated document. No signature is required for validity.</p>
    <p>Power Metal & Steel | Generated on ${new Date().toLocaleString()}</p>
  </div>
</body>
</html>
    `],{type:"text/html"}),r=URL.createObjectURL(t),s=document.createElement("a");s.href=r,s.download=`${e.rfqNumber}_${e.customerName.replace(/\s+/g,"_")}.html`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r),ld.success("RFQ document downloaded successfully")},className:"text-[#F15929] hover:text-[#d94d1f] hover:bg-[#FFF5F2]",children:[(0,z.jsx)(cY,{className:"size-4 mr-2"}),"Download"]}),s&&(0,z.jsxs)(n1,{children:[(0,z.jsx)(n2,{asChild:!0,children:(0,z.jsx)(tb,{variant:"outline",children:"Change Status"})}),(0,z.jsxs)(n4,{align:"end",children:["quoted"!==e.status&&(0,z.jsxs)(n5,{onClick:()=>s("quoted"),children:[(0,z.jsx)(hy,{className:"size-4 mr-2 text-purple-600"}),"Mark as Quoted"]}),"approved"!==e.status&&(0,z.jsxs)(n5,{onClick:()=>s("approved"),children:[(0,z.jsx)(oc,{className:"size-4 mr-2 text-green-600"}),"Mark as Approved"]}),"rejected"!==e.status&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(n6,{}),(0,z.jsxs)(n5,{onClick:()=>s("rejected"),className:"text-red-600 focus:text-red-600",children:[(0,z.jsx)(cU,{className:"size-4 mr-2"}),"Reject RFQ"]})]})]})]}),(0,z.jsxs)(tb,{onClick:t,className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,z.jsx)(cX,{className:"size-4 mr-2"}),"Edit RFQ"]})]})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{children:"Customer Information"})}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(xU,{className:"size-5 text-gray-400 mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Customer Name"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.customerName})]})]}),(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(lK,{className:"size-5 text-gray-400 mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Email"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.customerEmail})]})]}),e.customerPhone&&(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(cp,{className:"size-5 text-gray-400 mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Phone"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.customerPhone})]})]})]})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{children:"Project Details"})}),(0,z.jsxs)(on,{children:[(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(K,{className:"size-5 text-gray-400 mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Project Name"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.projectName})]})]}),e.projectLocation&&(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(hb,{className:"size-5 text-gray-400 mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Location"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.projectLocation})]})]}),(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(Z,{className:"size-5 text-gray-400 mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Requested Date"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:new Date(e.requestedDate).toLocaleDateString()})]})]}),(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(Z,{className:"size-5 text-gray-400 mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Required Date"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:new Date(e.requiredDate).toLocaleDateString()})]})]})]}),e.notes&&(0,z.jsxs)("div",{className:"mt-6 pt-6 border-t",children:[(0,z.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Notes"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.notes})]})]})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{children:"Scaffolding Items"})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"overflow-x-auto",children:(0,z.jsxs)(c8,{children:[(0,z.jsx)(c7,{children:(0,z.jsxs)(de,{children:[(0,z.jsx)(dt,{className:"w-12",children:"#"}),(0,z.jsx)(dt,{children:"Item Description"}),(0,z.jsx)(dt,{className:"text-right",children:"Quantity"}),(0,z.jsx)(dt,{className:"text-right",children:"Unit"}),(0,z.jsx)(dt,{className:"text-right",children:"Unit Price (RM)"}),(0,z.jsx)(dt,{className:"text-right",children:"Total Price (RM)"})]})}),(0,z.jsxs)(c9,{children:[e.items.map((e,t)=>(0,z.jsxs)(de,{children:[(0,z.jsx)(dr,{children:t+1}),(0,z.jsx)(dr,{children:(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#231F20]",children:e.scaffoldingItemName}),e.notes&&(0,z.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.notes})]})}),(0,z.jsx)(dr,{className:"text-right",children:e.quantity}),(0,z.jsx)(dr,{className:"text-right",children:e.unit}),(0,z.jsx)(dr,{className:"text-right",children:e.unitPrice.toFixed(2)}),(0,z.jsx)(dr,{className:"text-right",children:e.totalPrice.toFixed(2)})]},e.id)),(0,z.jsxs)(de,{children:[(0,z.jsx)(dr,{colSpan:5,className:"text-right",children:(0,z.jsx)("span",{className:"text-[#231F20]",children:"Total Amount:"})}),(0,z.jsx)(dr,{className:"text-right",children:(0,z.jsxs)("span",{className:"text-[#231F20]",children:["RM ",e.totalAmount.toFixed(2)]})})]})]})]})})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{children:"Additional Information"})}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Created By"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.createdBy})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Created At"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:new Date(e.createdAt).toLocaleString()})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Last Updated"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:new Date(e.updatedAt).toLocaleString()})]})]})})]})]})}function xH(){let[e,t]=(0,q.useState)([]),[r,s]=(0,q.useState)(""),[a,n]=(0,q.useState)("all"),[i,l]=(0,q.useState)(!1),[o,c]=(0,q.useState)(null),[d,u]=(0,q.useState)("list"),[m,h]=(0,q.useState)(!1),[x,p]=(0,q.useState)(null);(0,q.useEffect)(()=>{let e=localStorage.getItem("rfqs");e&&t(JSON.parse(e))},[]);let f=e=>{t(e),localStorage.setItem("rfqs",JSON.stringify(e))},g=(t,r)=>{f(e.map(e=>e.id===t?{...e,status:r,updatedAt:new Date().toISOString()}:e)),ld.success(`RFQ status updated to ${r}`)},v=()=>{u("list"),c(null)},j=e.filter(e=>{let t=e.rfqNumber.toLowerCase().includes(r.toLowerCase())||e.customerName.toLowerCase().includes(r.toLowerCase())||e.projectName.toLowerCase().includes(r.toLowerCase()),s="all"===a||e.status===a;return t&&s}),y={total:e.length,draft:e.filter(e=>"draft"===e.status).length,"quoted-for-item":e.filter(e=>"quoted-for-item"===e.status).length,"quoted-for-delivery":e.filter(e=>"quoted-for-delivery"===e.status).length,submitted:e.filter(e=>"submitted"===e.status).length,approved:e.filter(e=>"approved"===e.status).length};return"form"===d?(0,z.jsx)(xV,{rfq:o,onSave:t=>{o?f(e.map(e=>e.id===t.id?t:e)):f([...e,t]),u("list"),c(null)},onCancel:v}):"details"===d&&o?(0,z.jsx)(xW,{rfq:o,onEdit:()=>u("form"),onBack:v,onStatusChange:e=>{g(o.id,e),c({...o,status:e})}}):(0,z.jsxs)("div",{className:"p-6 space-y-6",children:[(0,z.jsxs)("div",{className:"flex justify-between items-center",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("h1",{className:"text-[#231F20]",children:"Request for Quotation (RFQ)"}),(0,z.jsx)("p",{className:"text-gray-600",children:"Manage scaffolding quotation requests"})]}),(0,z.jsxs)(tb,{onClick:()=>{c(null),u("form")},className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,z.jsx)(dm,{className:"size-4 mr-2"}),"New RFQ"]})]}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsx)(os,{className:"text-sm text-gray-600",children:"Total RFQs"})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"text-[#231F20]",children:y.total})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsx)(os,{className:"text-sm text-gray-600",children:"Draft"})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"text-[#231F20]",children:y.draft})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsx)(os,{className:"text-sm text-gray-600",children:"Submitted"})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"text-[#231F20]",children:y.submitted})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsx)(os,{className:"text-sm text-gray-600",children:"Quoted for Item"})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"text-[#231F20]",children:y["quoted-for-item"]})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsx)(os,{className:"text-sm text-gray-600",children:"Quoted for Delivery"})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"text-[#231F20]",children:y["quoted-for-delivery"]})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsx)(os,{className:"text-sm text-gray-600",children:"Approved"})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"text-[#231F20]",children:y.approved})})]})]}),(0,z.jsx)(ot,{children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,z.jsxs)("div",{className:"flex-1 relative",children:[(0,z.jsx)(et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 size-4 text-gray-400"}),(0,z.jsx)(tN,{placeholder:"Search by RFQ number, customer, or project...",value:r,onChange:e=>s(e.target.value),className:"pl-10"})]}),(0,z.jsxs)(cl,{value:a,onValueChange:n,children:[(0,z.jsxs)(cc,{className:"w-full md:w-48",children:[(0,z.jsx)(xq,{className:"size-4 mr-2"}),(0,z.jsx)(co,{placeholder:"Filter by status"})]}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"all",children:"All Status"}),(0,z.jsx)(cu,{value:"draft",children:"Draft"}),(0,z.jsx)(cu,{value:"submitted",children:"Submitted"}),(0,z.jsx)(cu,{value:"quoted-for-item",children:"Quoted for Item"}),(0,z.jsx)(cu,{value:"quoted-for-delivery",children:"Quoted for Delivery"}),(0,z.jsx)(cu,{value:"approved",children:"Approved"}),(0,z.jsx)(cu,{value:"rejected",children:"Rejected"}),(0,z.jsx)(cu,{value:"expired",children:"Expired"})]})]})]})})}),(0,z.jsx)("div",{className:"space-y-4",children:0===j.length?(0,z.jsx)(ot,{children:(0,z.jsxs)(on,{className:"py-12 text-center",children:[(0,z.jsx)(K,{className:"size-12 text-gray-400 mx-auto mb-4"}),(0,z.jsx)("p",{className:"text-gray-600",children:"No RFQs found"}),(0,z.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:r||"all"!==a?"Try adjusting your filters":"Create your first RFQ to get started"})]})}):j.map(e=>{var t;return(0,z.jsx)(ot,{className:"hover:shadow-md transition-shadow",children:(0,z.jsx)(on,{className:"p-6",children:(0,z.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,z.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,z.jsx)("div",{className:"flex items-start justify-between",children:(0,z.jsxs)("div",{children:[(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)("h3",{className:"text-[#231F20]",children:e.rfqNumber}),(0,z.jsx)(cZ,{className:{draft:"bg-gray-100 text-gray-800","quoted-for-item":"bg-purple-100 text-purple-800","quoted-for-delivery":"bg-indigo-100 text-indigo-800",submitted:"bg-blue-100 text-blue-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",expired:"bg-orange-100 text-orange-800"}[e.status]||"bg-gray-100 text-gray-800",children:{draft:"Draft","quoted-for-item":"Quoted for Item","quoted-for-delivery":"Quoted for Delivery",submitted:"Submitted",approved:"Approved",rejected:"Rejected",expired:"Expired"}[t=e.status]||t})]}),(0,z.jsx)("p",{className:"text-gray-600 mt-1",children:e.projectName})]})}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(xU,{className:"size-4 text-gray-400"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-500",children:"Customer"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.customerName})]})]}),(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(Z,{className:"size-4 text-gray-400"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-500",children:"Required Date"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:new Date(e.requiredDate).toLocaleDateString()})]})]}),(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(K,{className:"size-4 text-gray-400"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-500",children:"Items"}),(0,z.jsxs)("p",{className:"text-[#231F20]",children:[e.items.length," items"]})]})]})]})]}),(0,z.jsxs)("div",{className:"flex lg:flex-col items-center lg:items-end gap-4",children:[(0,z.jsxs)("div",{className:"text-right",children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Total Amount"}),(0,z.jsxs)("p",{className:"text-[#231F20]",children:["RM ",e.totalAmount.toFixed(2)]})]}),(0,z.jsxs)("div",{className:"flex gap-2",children:[(0,z.jsx)(tb,{variant:"outline",size:"sm",onClick:()=>{c(e),u("details")},children:(0,z.jsx)(lv,{className:"size-4"})}),(0,z.jsx)(tb,{variant:"outline",size:"sm",onClick:()=>{c(e),u("form")},children:(0,z.jsx)(cX,{className:"size-4"})}),(0,z.jsx)(tb,{variant:"outline",size:"sm",onClick:()=>(e=>{let t=window.open("","_blank");if(!t)return void ld.error("Please allow popups to download RFQ");let r=`
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>RFQ ${e.rfqNumber}</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 40px auto;
      padding: 20px;
      color: #231F20;
    }
    .header {
      text-align: center;
      margin-bottom: 40px;
      border-bottom: 3px solid #F15929;
      padding-bottom: 20px;
    }
    .company-name {
      font-size: 28px;
      font-weight: bold;
      color: #231F20;
      margin-bottom: 5px;
    }
    .doc-title {
      font-size: 20px;
      color: #F15929;
      margin: 10px 0;
    }
    .section {
      margin: 30px 0;
    }
    .section-title {
      font-size: 16px;
      font-weight: bold;
      color: #231F20;
      background-color: #F9FAFB;
      padding: 10px;
      border-left: 4px solid #F15929;
      margin-bottom: 15px;
    }
    .info-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin-bottom: 20px;
    }
    .info-item {
      padding: 10px;
    }
    .info-label {
      font-size: 12px;
      color: #6B7280;
      margin-bottom: 5px;
    }
    .info-value {
      font-size: 14px;
      color: #231F20;
      font-weight: 500;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    th {
      background-color: #F9FAFB;
      color: #231F20;
      font-weight: bold;
      padding: 12px;
      text-align: left;
      border: 1px solid #E5E7EB;
    }
    td {
      padding: 12px;
      border: 1px solid #E5E7EB;
    }
    .text-right {
      text-align: right;
    }
    .total-row {
      background-color: #F9FAFB;
      font-weight: bold;
    }
    .total-amount {
      color: #F15929;
      font-size: 18px;
    }
    .signature-section {
      margin-top: 60px;
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 40px;
    }
    .signature-box {
      border-top: 2px solid #231F20;
      padding-top: 10px;
      margin-top: 60px;
    }
    .signature-label {
      font-size: 12px;
      color: #6B7280;
    }
    .footer {
      margin-top: 40px;
      padding-top: 20px;
      border-top: 1px solid #E5E7EB;
      text-align: center;
      font-size: 12px;
      color: #6B7280;
    }
    @media print {
      body {
        margin: 0;
        padding: 20px;
      }
    }
  </style>
</head>
<body>
  <div class="header">
    <div class="company-name">Power Metal & Steel</div>
    <div class="doc-title">REQUEST FOR QUOTATION</div>
    <div style="font-size: 16px; margin-top: 10px;">${e.rfqNumber}</div>
  </div>

  <div class="section">
    <div class="section-title">Customer Information</div>
    <div class="info-grid">
      <div class="info-item">
        <div class="info-label">Customer Name</div>
        <div class="info-value">${e.customerName}</div>
      </div>
      <div class="info-item">
        <div class="info-label">Email</div>
        <div class="info-value">${e.customerEmail}</div>
      </div>
      ${e.customerPhone?`
      <div class="info-item">
        <div class="info-label">Phone</div>
        <div class="info-value">${e.customerPhone}</div>
      </div>
      `:""}
    </div>
  </div>

  <div class="section">
    <div class="section-title">Project Details</div>
    <div class="info-grid">
      <div class="info-item">
        <div class="info-label">Project Name</div>
        <div class="info-value">${e.projectName}</div>
      </div>
      ${e.projectLocation?`
      <div class="info-item">
        <div class="info-label">Location</div>
        <div class="info-value">${e.projectLocation}</div>
      </div>
      `:""}
      <div class="info-item">
        <div class="info-label">Requested Date</div>
        <div class="info-value">${new Date(e.requestedDate).toLocaleDateString()}</div>
      </div>
      <div class="info-item">
        <div class="info-label">Required Date</div>
        <div class="info-value">${new Date(e.requiredDate).toLocaleDateString()}</div>
      </div>
    </div>
    ${e.notes?`
    <div class="info-item" style="margin-top: 10px;">
      <div class="info-label">Notes</div>
      <div class="info-value">${e.notes}</div>
    </div>
    `:""}
  </div>

  <div class="section">
    <div class="section-title">Scaffolding Items</div>
    <table>
      <thead>
        <tr>
          <th style="width: 50px;">#</th>
          <th>Item Description</th>
          <th class="text-right" style="width: 100px;">Quantity</th>
          <th class="text-right" style="width: 100px;">Unit</th>
          <th class="text-right" style="width: 120px;">Unit Price (RM)</th>
          <th class="text-right" style="width: 120px;">Total (RM)</th>
        </tr>
      </thead>
      <tbody>
        ${e.items.map((e,t)=>`
        <tr>
          <td>${t+1}</td>
          <td>${e.scaffoldingItemName}${e.notes?`<br><span style="font-size: 12px; color: #6B7280;">${e.notes}</span>`:""}</td>
          <td class="text-right">${e.quantity}</td>
          <td class="text-right">${e.unit}</td>
          <td class="text-right">${e.unitPrice.toFixed(2)}</td>
          <td class="text-right">${e.totalPrice.toFixed(2)}</td>
        </tr>
        `).join("")}
        <tr class="total-row">
          <td colspan="5" class="text-right">Total Amount:</td>
          <td class="text-right total-amount">RM ${e.totalAmount.toFixed(2)}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="signature-section">
    <div>
      <div class="signature-label">Prepared By</div>
      <div class="signature-box">
        <div>${e.createdBy}</div>
        <div style="font-size: 11px; color: #6B7280; margin-top: 5px;">
          Date: ${new Date(e.createdAt).toLocaleDateString()}
        </div>
      </div>
    </div>
    <div>
      <div class="signature-label">Customer Acceptance</div>
      <div class="signature-box">
        <div>Signature: ___________________</div>
        <div style="font-size: 11px; color: #6B7280; margin-top: 5px;">
          Date: ___________________
        </div>
      </div>
    </div>
  </div>

  <div class="footer">
    <p>This is a computer-generated document. No signature is required for validity.</p>
    <p>Power Metal & Steel | Generated on ${new Date().toLocaleString()}</p>
  </div>
</body>
</html>
    `;t.document.write(r),t.document.close(),t.onload=()=>{t.print()},ld.success("Print dialog opened - You can save as PDF from the print dialog")})(e),className:"text-[#F15929] hover:text-[#d94d1f] hover:bg-[#FFF5F2]",children:(0,z.jsx)(cY,{className:"size-4"})}),(0,z.jsxs)(n1,{children:[(0,z.jsx)(n2,{asChild:!0,children:(0,z.jsx)(tb,{variant:"outline",size:"sm",children:"Actions"})}),(0,z.jsxs)(n4,{align:"end",children:["quoted-for-item"!==e.status&&(0,z.jsxs)(n5,{onClick:()=>g(e.id,"quoted-for-item"),children:[(0,z.jsx)(hy,{className:"size-4 mr-2 text-purple-600"}),"Mark as Quoted for Item"]}),"quoted-for-delivery"!==e.status&&(0,z.jsxs)(n5,{onClick:()=>g(e.id,"quoted-for-delivery"),children:[(0,z.jsx)(hy,{className:"size-4 mr-2 text-indigo-600"}),"Mark as Quoted for Delivery"]}),"approved"!==e.status&&(0,z.jsxs)(n5,{onClick:()=>g(e.id,"approved"),children:[(0,z.jsx)(oc,{className:"size-4 mr-2 text-green-600"}),"Mark as Approved"]}),"rejected"!==e.status&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(n6,{}),(0,z.jsxs)(n5,{onClick:()=>{p(e.id),h(!0)},className:"text-red-600 focus:text-red-600",children:[(0,z.jsx)(cU,{className:"size-4 mr-2"}),"Reject RFQ"]})]})]})]})]})]})]})})},e.id)})}),(0,z.jsx)(iZ,{open:m,onOpenChange:h,children:(0,z.jsxs)(i0,{children:[(0,z.jsxs)(i1,{children:[(0,z.jsx)(i4,{children:"Reject RFQ"}),(0,z.jsx)(i5,{children:'Are you sure you want to reject this RFQ? The status will be changed to "Rejected" and can be reviewed later.'})]}),(0,z.jsxs)(i2,{children:[(0,z.jsx)(i3,{children:"Cancel"}),(0,z.jsx)(i6,{onClick:()=>{x&&(f(e.map(e=>e.id===x?{...e,status:"rejected"}:e)),h(!1),p(null),ld.success("RFQ has been rejected"))},className:"bg-red-600 hover:bg-red-700",children:"Reject RFQ"})]})]})})]})}let xY=Y("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),xG=Y("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),xX=Y("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var xK="ScrollArea",[xZ,xQ]=tw(xK),[xJ,x0]=xZ(xK),x1=q.forwardRef((e,t)=>{let{__scopeScrollArea:r,type:s="hover",dir:a,scrollHideDelay:n=600,...i}=e,[l,o]=q.useState(null),[c,d]=q.useState(null),[u,m]=q.useState(null),[h,x]=q.useState(null),[p,f]=q.useState(null),[g,v]=q.useState(0),[j,y]=q.useState(0),[b,N]=q.useState(!1),[w,C]=q.useState(!1),S=eN(t,e=>o(e)),D=tZ(a);return(0,z.jsx)(xJ,{scope:r,type:s,dir:D,scrollHideDelay:n,scrollArea:l,viewport:c,onViewportChange:d,content:u,onContentChange:m,scrollbarX:h,onScrollbarXChange:x,scrollbarXEnabled:b,onScrollbarXEnabledChange:N,scrollbarY:p,onScrollbarYChange:f,scrollbarYEnabled:w,onScrollbarYEnabledChange:C,onCornerWidthChange:v,onCornerHeightChange:y,children:(0,z.jsx)(tP.div,{dir:D,...i,ref:S,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});x1.displayName=xK;var x2="ScrollAreaViewport",x4=q.forwardRef((e,t)=>{let{__scopeScrollArea:r,children:s,nonce:a,...n}=e,i=x0(x2,r),l=eN(t,q.useRef(null),i.onViewportChange);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),(0,z.jsx)(tP.div,{"data-radix-scroll-area-viewport":"",...n,ref:l,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:(0,z.jsx)("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});x4.displayName=x2;var x5="ScrollAreaScrollbar",x6=q.forwardRef((e,t)=>{let{forceMount:r,...s}=e,a=x0(x5,e.__scopeScrollArea),{onScrollbarXEnabledChange:n,onScrollbarYEnabledChange:i}=a,l="horizontal"===e.orientation;return q.useEffect(()=>(l?n(!0):i(!0),()=>{l?n(!1):i(!1)}),[l,n,i]),"hover"===a.type?(0,z.jsx)(x3,{...s,ref:t,forceMount:r}):"scroll"===a.type?(0,z.jsx)(x8,{...s,ref:t,forceMount:r}):"auto"===a.type?(0,z.jsx)(x7,{...s,ref:t,forceMount:r}):"always"===a.type?(0,z.jsx)(x9,{...s,ref:t}):null});x6.displayName=x5;var x3=q.forwardRef((e,t)=>{let{forceMount:r,...s}=e,a=x0(x5,e.__scopeScrollArea),[n,i]=q.useState(!1);return q.useEffect(()=>{let e=a.scrollArea,t=0;if(e){let r=()=>{window.clearTimeout(t),i(!0)},s=()=>{t=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",s),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",s)}}},[a.scrollArea,a.scrollHideDelay]),(0,z.jsx)(sU,{present:r||n,children:(0,z.jsx)(x7,{"data-state":n?"visible":"hidden",...s,ref:t})})}),x8=q.forwardRef((e,t)=>{var r;let{forceMount:s,...a}=e,n=x0(x5,e.__scopeScrollArea),i="horizontal"===e.orientation,l=pg(()=>c("SCROLL_END"),100),[o,c]=(r={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},q.useReducer((e,t)=>r[e][t]??e,"hidden"));return q.useEffect(()=>{if("idle"===o){let e=window.setTimeout(()=>c("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(e)}},[o,n.scrollHideDelay,c]),q.useEffect(()=>{let e=n.viewport,t=i?"scrollLeft":"scrollTop";if(e){let r=e[t],s=()=>{let s=e[t];r!==s&&(c("SCROLL"),l()),r=s};return e.addEventListener("scroll",s),()=>e.removeEventListener("scroll",s)}},[n.viewport,i,c,l]),(0,z.jsx)(sU,{present:s||"hidden"!==o,children:(0,z.jsx)(x9,{"data-state":"hidden"===o?"hidden":"visible",...a,ref:t,onPointerEnter:t$(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:t$(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),x7=q.forwardRef((e,t)=>{let r=x0(x5,e.__scopeScrollArea),{forceMount:s,...a}=e,[n,i]=q.useState(!1),l="horizontal"===e.orientation,o=pg(()=>{if(r.viewport){let e=r.viewport.offsetWidth<r.viewport.scrollWidth,t=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?e:t)}},10);return pv(r.viewport,o),pv(r.content,o),(0,z.jsx)(sU,{present:s||n,children:(0,z.jsx)(x9,{"data-state":n?"visible":"hidden",...a,ref:t})})}),x9=q.forwardRef((e,t)=>{let{orientation:r="vertical",...s}=e,a=x0(x5,e.__scopeScrollArea),n=q.useRef(null),i=q.useRef(0),[l,o]=q.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=pm(l.viewport,l.content),d={...s,sizes:l,onSizesChange:o,hasThumb:!!(c>0&&c<1),onThumbChange:e=>n.current=e,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:e=>i.current=e};function u(e,t){return function(e,t,r,s="ltr"){let a=ph(r),n=t||a/2,i=r.scrollbar.paddingStart+n,l=r.scrollbar.size-r.scrollbar.paddingEnd-(a-n),o=r.content-r.viewport;return pp([i,l],"ltr"===s?[0,o]:[-1*o,0])(e)}(e,i.current,l,t)}return"horizontal"===r?(0,z.jsx)(pe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&n.current){let e=px(a.viewport.scrollLeft,l,a.dir);n.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollLeft=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollLeft=u(e,a.dir))}}):"vertical"===r?(0,z.jsx)(pt,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&n.current){let e=px(a.viewport.scrollTop,l);n.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollTop=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollTop=u(e))}}):null}),pe=q.forwardRef((e,t)=>{let{sizes:r,onSizesChange:s,...a}=e,n=x0(x5,e.__scopeScrollArea),[i,l]=q.useState(),o=q.useRef(null),c=eN(t,o,n.onScrollbarXChange);return q.useEffect(()=>{o.current&&l(getComputedStyle(o.current))},[o]),(0,z.jsx)(pa,{"data-orientation":"horizontal",...a,ref:c,sizes:r,style:{bottom:0,left:"rtl"===n.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===n.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ph(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(n.viewport){var s,a;let i=n.viewport.scrollLeft+t.deltaX;e.onWheelScroll(i),s=i,a=r,s>0&&s<a&&t.preventDefault()}},onResize:()=>{o.current&&n.viewport&&i&&s({content:n.viewport.scrollWidth,viewport:n.viewport.offsetWidth,scrollbar:{size:o.current.clientWidth,paddingStart:pu(i.paddingLeft),paddingEnd:pu(i.paddingRight)}})}})}),pt=q.forwardRef((e,t)=>{let{sizes:r,onSizesChange:s,...a}=e,n=x0(x5,e.__scopeScrollArea),[i,l]=q.useState(),o=q.useRef(null),c=eN(t,o,n.onScrollbarYChange);return q.useEffect(()=>{o.current&&l(getComputedStyle(o.current))},[o]),(0,z.jsx)(pa,{"data-orientation":"vertical",...a,ref:c,sizes:r,style:{top:0,right:"ltr"===n.dir?0:void 0,left:"rtl"===n.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ph(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(n.viewport){var s,a;let i=n.viewport.scrollTop+t.deltaY;e.onWheelScroll(i),s=i,a=r,s>0&&s<a&&t.preventDefault()}},onResize:()=>{o.current&&n.viewport&&i&&s({content:n.viewport.scrollHeight,viewport:n.viewport.offsetHeight,scrollbar:{size:o.current.clientHeight,paddingStart:pu(i.paddingTop),paddingEnd:pu(i.paddingBottom)}})}})}),[pr,ps]=xZ(x5),pa=q.forwardRef((e,t)=>{let{__scopeScrollArea:r,sizes:s,hasThumb:a,onThumbChange:n,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:o,onDragScroll:c,onWheelScroll:d,onResize:u,...m}=e,h=x0(x5,r),[x,p]=q.useState(null),f=eN(t,e=>p(e)),g=q.useRef(null),v=q.useRef(""),j=h.viewport,y=s.content-s.viewport,b=tC(d),N=tC(o),w=pg(u,10);function C(e){g.current&&c({x:e.clientX-g.current.left,y:e.clientY-g.current.top})}return q.useEffect(()=>{let e=e=>{let t=e.target;x?.contains(t)&&b(e,y)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[j,x,y,b]),q.useEffect(N,[s,N]),pv(x,w),pv(h.content,w),(0,z.jsx)(pr,{scope:r,scrollbar:x,hasThumb:a,onThumbChange:tC(n),onThumbPointerUp:tC(i),onThumbPositionChange:N,onThumbPointerDown:tC(l),children:(0,z.jsx)(tP.div,{...m,ref:f,style:{position:"absolute",...m.style},onPointerDown:t$(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),g.current=x.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),C(e))}),onPointerMove:t$(e.onPointerMove,C),onPointerUp:t$(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=v.current,h.viewport&&(h.viewport.style.scrollBehavior=""),g.current=null})})})}),pn="ScrollAreaThumb",pi=q.forwardRef((e,t)=>{let{forceMount:r,...s}=e,a=ps(pn,e.__scopeScrollArea);return(0,z.jsx)(sU,{present:r||a.hasThumb,children:(0,z.jsx)(pl,{ref:t,...s})})}),pl=q.forwardRef((e,t)=>{let{__scopeScrollArea:r,style:s,...a}=e,n=x0(pn,r),i=ps(pn,r),{onThumbPositionChange:l}=i,o=eN(t,e=>i.onThumbChange(e)),c=q.useRef(void 0),d=pg(()=>{c.current&&(c.current(),c.current=void 0)},100);return q.useEffect(()=>{let e=n.viewport;if(e){let t=()=>{d(),c.current||(c.current=pf(e,l),l())};return l(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[n.viewport,d,l]),(0,z.jsx)(tP.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:o,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:t$(e.onPointerDownCapture,e=>{let t=e.target.getBoundingClientRect(),r=e.clientX-t.left,s=e.clientY-t.top;i.onThumbPointerDown({x:r,y:s})}),onPointerUp:t$(e.onPointerUp,i.onThumbPointerUp)})});pi.displayName=pn;var po="ScrollAreaCorner",pc=q.forwardRef((e,t)=>{let r=x0(po,e.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return"scroll"!==r.type&&s?(0,z.jsx)(pd,{...e,ref:t}):null});pc.displayName=po;var pd=q.forwardRef((e,t)=>{let{__scopeScrollArea:r,...s}=e,a=x0(po,r),[n,i]=q.useState(0),[l,o]=q.useState(0),c=!!(n&&l);return pv(a.scrollbarX,()=>{let e=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(e),o(e)}),pv(a.scrollbarY,()=>{let e=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(e),i(e)}),c?(0,z.jsx)(tP.div,{...s,ref:t,style:{width:n,height:l,position:"absolute",right:"ltr"===a.dir?0:void 0,left:"rtl"===a.dir?0:void 0,bottom:0,...e.style}}):null});function pu(e){return e?parseInt(e,10):0}function pm(e,t){let r=e/t;return isNaN(r)?0:r}function ph(e){let t=pm(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-r)*t,18)}function px(e,t,r="ltr"){let s=ph(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=t.scrollbar.size-a,i=t.content-t.viewport,l=oh(e,"ltr"===r?[0,i]:[-1*i,0]);return pp([0,i],[0,n-s])(l)}function pp(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}var pf=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return!function a(){let n={left:e.scrollLeft,top:e.scrollTop},i=r.left!==n.left,l=r.top!==n.top;(i||l)&&t(),r=n,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function pg(e,t){let r=tC(e),s=q.useRef(0);return q.useEffect(()=>()=>window.clearTimeout(s.current),[]),q.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,t)},[r,t])}function pv(e,t){let r=tC(t);tS(()=>{let t=0;if(e){let s=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(t),s.unobserve(e)}}},[e,r])}function pj({className:e,children:t,...r}){return(0,z.jsxs)(x1,{"data-slot":"scroll-area",className:tj("relative",e),...r,children:[(0,z.jsx)(x4,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),(0,z.jsx)(py,{}),(0,z.jsx)(pc,{})]})}function py({className:e,orientation:t="vertical",...r}){return(0,z.jsx)(x6,{"data-slot":"scroll-area-scrollbar",orientation:t,className:tj("flex touch-none p-px transition-colors select-none","vertical"===t&&"h-full w-2.5 border-l border-l-transparent","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent",e),...r,children:(0,z.jsx)(pi,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}let pb=Y("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);function pN({notification:e,onClose:t}){let r=(e,t)=>null==e?(0,z.jsx)("span",{className:"text-gray-400 italic",children:"None"}):"object"==typeof e&&e.scaffoldingItemName?(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"text-[#231F20]",children:e.scaffoldingItemName}),(0,z.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,z.jsxs)("p",{children:["Quantity: ",e.quantity," ",e.unit]}),(0,z.jsxs)("p",{children:["Price: RM ",e.unitPrice.toFixed(2)]}),(0,z.jsxs)("p",{className:"text-[#231F20]",children:["Total: RM ",e.totalPrice.toFixed(2)]})]})]}):"number"==typeof e?(0,z.jsx)("span",{className:"text-[#231F20]",children:e}):(0,z.jsx)("span",{className:"text-[#231F20]",children:String(e)});return(0,z.jsx)(cQ,{open:!0,onOpenChange:t,children:(0,z.jsxs)(c2,{className:"max-w-3xl max-h-[80vh]",children:[(0,z.jsx)(c4,{children:(0,z.jsx)(c6,{children:"RFQ Change Details"})}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg space-y-2",children:[(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsx)("h3",{className:"text-[#231F20]",children:e.rfqNumber}),(0,z.jsx)(cZ,{className:"bg-blue-100 text-blue-800",children:e.type.replace(/_/g," ").toUpperCase()})]}),(0,z.jsx)("p",{className:"text-gray-600",children:e.message}),(0,z.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,z.jsxs)("span",{children:["Modified by ",e.createdBy]}),(0,z.jsx)("span",{children:""}),(0,z.jsx)("span",{children:new Date(e.createdAt).toLocaleString("en-MY",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),(0,z.jsxs)("div",{children:[(0,z.jsxs)("h4",{className:"text-[#231F20] mb-3",children:["Changes Made (",e.changes.length,")"]}),(0,z.jsx)(pj,{className:"h-[400px] pr-4",children:(0,z.jsx)("div",{className:"space-y-4",children:e.changes.map((t,s)=>{var a;return(0,z.jsxs)("div",{className:"p-4 border rounded-lg space-y-3",children:[(0,z.jsxs)("div",{className:"flex items-start gap-3",children:["items"===(a=t.field)&&e.changes.find(e=>null===e.oldValue)?(0,z.jsx)(dm,{className:"size-4 text-green-600"}):"items"===a&&e.changes.find(e=>null===e.newValue)?(0,z.jsx)(xG,{className:"size-4 text-red-600"}):a.startsWith("item_")?(0,z.jsx)(cX,{className:"size-4 text-amber-600"}):(0,z.jsx)(eu,{className:"size-4 text-blue-600"}),(0,z.jsx)("div",{className:"flex-1",children:(0,z.jsx)("p",{className:"text-[#231F20]",children:t.description})})]}),null!==t.oldValue&&null!==t.newValue&&(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4 pl-7",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(pb,{className:"size-4 text-red-600"}),(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Previous Value"})]}),(0,z.jsx)("div",{className:"p-3 bg-red-50 rounded border border-red-200",children:r(t.oldValue,"old")})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(du,{className:"size-4 text-green-600"}),(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"New Value"})]}),(0,z.jsx)("div",{className:"p-3 bg-green-50 rounded border border-green-200",children:r(t.newValue,"new")})]})]}),null===t.oldValue&&null!==t.newValue&&(0,z.jsx)("div",{className:"pl-7",children:(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(dm,{className:"size-4 text-green-600"}),(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Added Item"})]}),(0,z.jsx)("div",{className:"p-3 bg-green-50 rounded border border-green-200",children:r(t.newValue,"new")})]})}),null!==t.oldValue&&null===t.newValue&&(0,z.jsx)("div",{className:"pl-7",children:(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(xG,{className:"size-4 text-red-600"}),(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Removed Item"})]}),(0,z.jsx)("div",{className:"p-3 bg-red-50 rounded border border-red-200",children:r(t.oldValue,"old")})]})})]},s)})})})]})]})]})})}function pw(){let[e,t]=(0,q.useState)([]),[r,s]=(0,q.useState)(!1),[a,n]=(0,q.useState)(null),[i,l]=(0,q.useState)(!1);(0,q.useEffect)(()=>{o();let e=setInterval(o,5e3);return()=>clearInterval(e)},[]);let o=()=>{let e=localStorage.getItem("rfqNotifications");e&&t(JSON.parse(e))},c=e.filter(e=>!e.read).length;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(hc,{open:r,onOpenChange:s,children:[(0,z.jsx)(hd,{asChild:!0,children:(0,z.jsxs)(tb,{variant:"ghost",size:"icon",className:"relative",children:[(0,z.jsx)(xY,{className:"size-5"}),c>0&&(0,z.jsx)(cZ,{className:"absolute -top-1 -right-1 size-5 flex items-center justify-center p-0 bg-[#F15929] hover:bg-[#F15929]",children:c>9?"9+":c})]})}),(0,z.jsxs)(hu,{className:"w-96 p-0",align:"end",children:[(0,z.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,z.jsx)("h3",{className:"text-[#231F20]",children:"Notifications"}),(0,z.jsxs)("div",{className:"flex gap-2",children:[c>0&&(0,z.jsxs)(tb,{variant:"ghost",size:"sm",onClick:()=>{let r=e.map(e=>({...e,read:!0}));t(r),localStorage.setItem("rfqNotifications",JSON.stringify(r))},className:"text-sm",children:[(0,z.jsx)(nQ,{className:"size-4 mr-1"}),"Mark all read"]}),e.length>0&&(0,z.jsxs)(tb,{variant:"ghost",size:"sm",onClick:()=>{t([]),localStorage.setItem("rfqNotifications",JSON.stringify([]))},className:"text-sm text-red-600 hover:text-red-700",children:[(0,z.jsx)(ea,{className:"size-4 mr-1"}),"Clear all"]})]})]}),(0,z.jsx)(pj,{className:"h-[400px]",children:0===e.length?(0,z.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[(0,z.jsx)(xY,{className:"size-12 text-gray-300 mb-3"}),(0,z.jsx)("p",{className:"text-gray-600",children:"No notifications"}),(0,z.jsx)("p",{className:"text-sm text-gray-500 text-center mt-1",children:"You'll see notifications here when RFQs are created or modified"})]}):(0,z.jsx)("div",{className:"divide-y",children:e.map(r=>{let a,i,o,c;return(0,z.jsx)("button",{onClick:()=>{var a;let i;a=r.id,t(i=e.map(e=>e.id===a?{...e,read:!0}:e)),localStorage.setItem("rfqNotifications",JSON.stringify(i)),n(r),l(!0),s(!1)},className:`w-full text-left p-4 hover:bg-gray-50 transition-colors ${!r.read?"bg-blue-50":""}`,children:(0,z.jsxs)("div",{className:"flex gap-3",children:[(0,z.jsx)("div",{className:"flex-shrink-0 mt-1",children:(e=>{switch(e){case"created":return(0,z.jsx)(K,{className:"size-4 text-blue-600"});case"item_added":return(0,z.jsx)(dm,{className:"size-4 text-green-600"});case"item_removed":return(0,z.jsx)(xG,{className:"size-4 text-red-600"});case"item_modified":return(0,z.jsx)(cX,{className:"size-4 text-amber-600"});case"status_changed":return(0,z.jsx)(xX,{className:"size-4 text-purple-600"});default:return(0,z.jsx)(xY,{className:"size-4 text-gray-600"})}})(r.type)}),(0,z.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,z.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,z.jsx)("p",{className:`text-sm ${!r.read?"text-[#231F20]":"text-gray-900"}`,children:r.message}),!r.read&&(0,z.jsx)("div",{className:"size-2 rounded-full bg-[#F15929] flex-shrink-0 mt-1.5"})]}),(0,z.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[r.changes.length," change",1!==r.changes.length?"s":""]}),(0,z.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,z.jsx)("span",{className:"text-xs text-gray-500",children:(a=new Date(r.createdAt),c=Math.floor((o=Math.floor((i=Math.floor((new Date().getTime()-a.getTime())/6e4))/60))/24),i<1?"Just now":i<60?`${i}m ago`:o<24?`${o}h ago`:c<7?`${c}d ago`:a.toLocaleDateString())}),(0,z.jsx)("span",{className:"text-xs text-gray-400",children:""}),(0,z.jsxs)("span",{className:"text-xs text-gray-500",children:["by ",r.createdBy]})]})]})]})},r.id)})})})]})]}),i&&a&&(0,z.jsx)(pN,{notification:a,onClose:()=>{l(!1),n(null)}})]})}let pC=Y("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);function pS({reports:e,searchQuery:t,onEdit:r,onCreateRepairSlip:s,existingRepairSlips:a=[]}){let n=e.filter(e=>e.rcfNumber.toLowerCase().includes(t.toLowerCase())||e.deliveryOrderNumber.toLowerCase().includes(t.toLowerCase())||e.customerName.toLowerCase().includes(t.toLowerCase()));return 0===n.length?(0,z.jsx)(ot,{children:(0,z.jsxs)(on,{className:"py-12 text-center",children:[(0,z.jsx)(ei,{className:"size-12 text-gray-400 mx-auto mb-4"}),(0,z.jsx)("p",{className:"text-gray-600",children:"No condition reports found"}),(0,z.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:t?"Try adjusting your search":"Create your first condition report"})]})}):(0,z.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,z.jsx)(ot,{className:"hover:shadow-md transition-shadow",children:(0,z.jsx)(on,{className:"p-6",children:(0,z.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,z.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,z.jsx)("div",{className:"flex items-start justify-between",children:(0,z.jsxs)("div",{children:[(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)("h3",{className:"text-[#231F20]",children:e.rcfNumber}),(0,z.jsx)(cZ,{className:{pending:"bg-amber-100 text-amber-800","in-progress":"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800"}[e.status],children:e.status.toUpperCase()}),e.totalRepair>0&&(0,z.jsxs)(cZ,{className:"bg-amber-100 text-amber-800",children:[e.totalRepair," Need Repair"]}),e.totalWriteOff>0&&(0,z.jsxs)(cZ,{className:"bg-red-100 text-red-800",children:[e.totalWriteOff," Write-off"]})]}),(0,z.jsxs)("p",{className:"text-gray-600 mt-1",children:["DO: ",e.deliveryOrderNumber]})]})}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(xU,{className:"size-4 text-gray-400"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-500",children:"Customer"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.customerName})]})]}),(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(Z,{className:"size-4 text-gray-400"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-500",children:"Inspection Date"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:new Date(e.inspectionDate).toLocaleDateString()})]})]}),(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(ei,{className:"size-4 text-gray-400"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-500",children:"Items Inspected"}),(0,z.jsxs)("p",{className:"text-[#231F20]",children:[e.totalItemsInspected," items"]})]})]}),(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(pC,{className:"size-4 text-gray-400"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-500",children:"Repair Cost"}),(0,z.jsxs)("p",{className:"text-[#231F20]",children:["RM ",e.totalRepairCost.toFixed(2)]})]})]})]})]}),(0,z.jsxs)("div",{className:"flex lg:flex-col items-center gap-2",children:[(0,z.jsx)(tb,{variant:"outline",size:"sm",onClick:()=>r(e),children:(0,z.jsx)(cX,{className:"size-4"})}),e.totalDamaged>0&&!a.some(t=>t.conditionReportId===e.id)&&(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(tb,{size:"sm",onClick:()=>s(e.id),className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,z.jsx)(pC,{className:"size-4 mr-2"}),"Create Repair Slip"]})})]})]})})},e.id))})}function pD({report:e,onSave:t,onCancel:r}){let[s,a]=(0,q.useState)({rcfNumber:"",deliveryOrderNumber:"",customerName:"",returnedBy:"",returnDate:new Date().toISOString().split("T")[0],inspectionDate:new Date().toISOString().split("T")[0],inspectedBy:"Current User",status:"pending",notes:""}),[n,i]=(0,q.useState)([]);(0,q.useEffect)(()=>{e&&(a({rcfNumber:e.rcfNumber,deliveryOrderNumber:e.deliveryOrderNumber,customerName:e.customerName,returnedBy:e.returnedBy||"",returnDate:e.returnDate,inspectionDate:e.inspectionDate,inspectedBy:e.inspectedBy,status:e.status,notes:e.notes||""}),i(e.items))},[e]);let l=(e,t,r)=>{i(n.map(s=>{if(s.id===e){let e={...s,[t]:r};if("scaffoldingItemId"===t){let t=x$.find(e=>e.id===r);t&&(e.scaffoldingItemName=t.name,e.originalItemPrice=t.price||0)}if("quantityGood"===t||"quantityRepair"===t||"quantityWriteOff"===t){e.quantity=(e.quantityGood||0)+(e.quantityRepair||0)+(e.quantityWriteOff||0),e.repairRequired=(e.quantityRepair||0)>0||(e.quantityWriteOff||0)>0;let t=(e.quantityRepair||0)*(e.originalItemPrice||0)*.6,r=(e.quantityWriteOff||0)*(e.originalItemPrice||0)*1.2;e.estimatedRepairCost=t+r,(e.quantityWriteOff||0)>0?e.condition="beyond-repair":(e.quantityRepair||0)>0?e.condition="major-damage":e.condition="good"}if("originalItemPrice"===t){let t=(e.quantityRepair||0)*(r||0)*.6,s=(e.quantityWriteOff||0)*(r||0)*1.2;e.estimatedRepairCost=t+s}return e}return s}))},o=(e,t,r)=>{i(n.map(s=>s.id===e&&s.inspectionChecklist?{...s,inspectionChecklist:{...s.inspectionChecklist,[t]:r}}:s))},c=()=>{let e=n.reduce((e,t)=>e+t.quantity,0),t=n.reduce((e,t)=>e+(t.quantityGood||0),0),r=n.reduce((e,t)=>e+(t.quantityRepair||0),0),s=n.reduce((e,t)=>e+(t.quantityWriteOff||0),0);return{totalItemsInspected:e,totalGood:t,totalRepair:r,totalWriteOff:s,totalDamaged:r+s,totalRepairCost:n.reduce((e,t)=>e+t.estimatedRepairCost,0)}},d=c();return(0,z.jsxs)("div",{className:"p-6 space-y-6",children:[(0,z.jsxs)("div",{className:"flex items-center gap-4",children:[(0,z.jsx)(tb,{variant:"outline",onClick:r,children:(0,z.jsx)(lC,{className:"size-4"})}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h1",{className:"text-[#231F20]",children:e?"Edit Condition Report":"New Condition Report"}),(0,z.jsx)("p",{className:"text-gray-600",children:"Inspection based on Return Completion Form (RCF)"})]})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{children:"Return Information"})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"rcfNumber",children:"RCF Number *"}),(0,z.jsx)(tN,{id:"rcfNumber",value:s.rcfNumber,onChange:e=>a({...s,rcfNumber:e.target.value}),placeholder:"RCF-XXXXXX"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"deliveryOrderNumber",children:"Delivery Order (DO) Number *"}),(0,z.jsx)(tN,{id:"deliveryOrderNumber",value:s.deliveryOrderNumber,onChange:e=>a({...s,deliveryOrderNumber:e.target.value}),placeholder:"DO-XXXXXX"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"customerName",children:"Customer Name *"}),(0,z.jsx)(tN,{id:"customerName",value:s.customerName,onChange:e=>a({...s,customerName:e.target.value}),placeholder:"Enter customer name"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"returnedBy",children:"Returned By *"}),(0,z.jsx)(tN,{id:"returnedBy",value:s.returnedBy,onChange:e=>a({...s,returnedBy:e.target.value}),placeholder:"Person who returned the items"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"returnDate",children:"Return Date"}),(0,z.jsx)(tN,{id:"returnDate",type:"date",value:s.returnDate,onChange:e=>a({...s,returnDate:e.target.value})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"inspectionDate",children:"Inspection Date"}),(0,z.jsx)(tN,{id:"inspectionDate",type:"date",value:s.inspectionDate,onChange:e=>a({...s,inspectionDate:e.target.value})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"inspectedBy",children:"Inspected By"}),(0,z.jsx)(tN,{id:"inspectedBy",value:s.inspectedBy,onChange:e=>a({...s,inspectedBy:e.target.value}),placeholder:"Inspector name"})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"notes",children:"General Notes"}),(0,z.jsx)(dl,{id:"notes",value:s.notes,onChange:e=>a({...s,notes:e.target.value}),placeholder:"Overall condition notes, special observations...",rows:2})]})]})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsxs)("div",{className:"flex justify-between items-center",children:[(0,z.jsx)(os,{children:"Inspection Items"}),(0,z.jsxs)(tb,{onClick:()=>{i([...n,{id:`item-${Date.now()}`,scaffoldingItemId:"",scaffoldingItemName:"",quantity:0,quantityGood:0,quantityRepair:0,quantityWriteOff:0,condition:"good",damageDescription:"",images:[],repairRequired:!1,estimatedRepairCost:0,originalItemPrice:0,inspectionChecklist:{structuralIntegrity:!1,surfaceCondition:!1,connectionsSecure:!1,noCorrosion:!1,safetyCompliance:!1,completeParts:!1}}])},size:"sm",className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,z.jsx)(dm,{className:"size-4 mr-2"}),"Add Item"]})]})}),(0,z.jsxs)(on,{className:"space-y-6",children:[0===n.length?(0,z.jsx)("div",{className:"text-center py-8 text-gray-500",children:'No items added yet. Click "Add Item" to start inspection.'}):n.map((e,t)=>(0,z.jsxs)("div",{className:"p-4 border rounded-lg space-y-4 bg-gray-50",children:[(0,z.jsxs)("div",{className:"flex justify-between items-start",children:[(0,z.jsxs)("h4",{className:"text-[#231F20]",children:["Item ",t+1]}),(0,z.jsx)(tb,{variant:"ghost",size:"sm",onClick:()=>{var t;return t=e.id,void i(n.filter(e=>e.id!==t))},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,z.jsx)(dS,{className:"size-4"})})]}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"md:col-span-2 space-y-2",children:[(0,z.jsx)(lN,{children:"Scaffolding Item *"}),(0,z.jsxs)(cl,{value:e.scaffoldingItemId,onValueChange:t=>l(e.id,"scaffoldingItemId",t),children:[(0,z.jsx)(cc,{children:(0,z.jsx)(co,{placeholder:"Select item type"})}),(0,z.jsx)(cd,{children:x$.map(e=>(0,z.jsx)(cu,{value:e.id,children:e.name},e.id))})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Original Item Price (RM)"}),(0,z.jsx)(tN,{type:"number",step:"0.01",min:"0",value:e.originalItemPrice||0,onChange:t=>l(e.id,"originalItemPrice",parseFloat(t.target.value)||0),placeholder:"0.00"}),(0,z.jsx)("p",{className:"text-xs text-gray-500",children:"Auto-populated from RFQ"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Total Quantity"}),(0,z.jsx)(tN,{type:"number",value:e.quantity,disabled:!0,className:"bg-gray-200"})]})]}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-3 bg-white rounded border",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-green-600",children:"Good"}),(0,z.jsx)(tN,{type:"number",min:"0",value:e.quantityGood||0,onChange:t=>l(e.id,"quantityGood",parseInt(t.target.value)||0),placeholder:"0"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-orange-600",children:"Need Repair"}),(0,z.jsx)(tN,{type:"number",min:"0",value:e.quantityRepair||0,onChange:t=>l(e.id,"quantityRepair",parseInt(t.target.value)||0),placeholder:"0"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-red-600",children:"Write Off"}),(0,z.jsx)(tN,{type:"number",min:"0",value:e.quantityWriteOff||0,onChange:t=>l(e.id,"quantityWriteOff",parseInt(t.target.value)||0),placeholder:"0"})]})]}),(0,z.jsxs)("div",{className:"space-y-3 p-3 bg-white rounded border",children:[(0,z.jsx)(lN,{className:"text-[#231F20]",children:"Item Inspection Checklist"}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,z.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,z.jsx)(lq,{id:`structural-${e.id}`,checked:e.inspectionChecklist?.structuralIntegrity||!1,onCheckedChange:t=>o(e.id,"structuralIntegrity",!!t)}),(0,z.jsxs)("label",{htmlFor:`structural-${e.id}`,className:"text-sm cursor-pointer flex items-center gap-2",children:[(0,z.jsx)(lX,{className:"size-4 text-gray-400"}),"Structural Integrity"]})]}),(0,z.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,z.jsx)(lq,{id:`surface-${e.id}`,checked:e.inspectionChecklist?.surfaceCondition||!1,onCheckedChange:t=>o(e.id,"surfaceCondition",!!t)}),(0,z.jsxs)("label",{htmlFor:`surface-${e.id}`,className:"text-sm cursor-pointer flex items-center gap-2",children:[(0,z.jsx)(lX,{className:"size-4 text-gray-400"}),"Surface Condition"]})]}),(0,z.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,z.jsx)(lq,{id:`connections-${e.id}`,checked:e.inspectionChecklist?.connectionsSecure||!1,onCheckedChange:t=>o(e.id,"connectionsSecure",!!t)}),(0,z.jsxs)("label",{htmlFor:`connections-${e.id}`,className:"text-sm cursor-pointer flex items-center gap-2",children:[(0,z.jsx)(lX,{className:"size-4 text-gray-400"}),"Connections Secure"]})]}),(0,z.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,z.jsx)(lq,{id:`corrosion-${e.id}`,checked:e.inspectionChecklist?.noCorrosion||!1,onCheckedChange:t=>o(e.id,"noCorrosion",!!t)}),(0,z.jsxs)("label",{htmlFor:`corrosion-${e.id}`,className:"text-sm cursor-pointer flex items-center gap-2",children:[(0,z.jsx)(lX,{className:"size-4 text-gray-400"}),"No Corrosion"]})]}),(0,z.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,z.jsx)(lq,{id:`safety-${e.id}`,checked:e.inspectionChecklist?.safetyCompliance||!1,onCheckedChange:t=>o(e.id,"safetyCompliance",!!t)}),(0,z.jsxs)("label",{htmlFor:`safety-${e.id}`,className:"text-sm cursor-pointer flex items-center gap-2",children:[(0,z.jsx)(lX,{className:"size-4 text-gray-400"}),"Safety Compliance"]})]}),(0,z.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,z.jsx)(lq,{id:`complete-${e.id}`,checked:e.inspectionChecklist?.completeParts||!1,onCheckedChange:t=>o(e.id,"completeParts",!!t)}),(0,z.jsxs)("label",{htmlFor:`complete-${e.id}`,className:"text-sm cursor-pointer flex items-center gap-2",children:[(0,z.jsx)(lX,{className:"size-4 text-gray-400"}),"Complete Parts"]})]})]})]}),e.repairRequired&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Damage Description"}),(0,z.jsx)(dl,{value:e.damageDescription,onChange:t=>l(e.id,"damageDescription",t.target.value),placeholder:"Describe the damage in detail...",rows:2})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Estimated Repair Cost (RM) - Auto Calculated"}),(0,z.jsx)(tN,{type:"number",value:e.estimatedRepairCost.toFixed(2),disabled:!0,className:"bg-gray-200"}),(0,z.jsx)("p",{className:"text-xs text-gray-500",children:"Repair: 60%  Price  Qty | Write-off: 120%  Price  Qty"})]}),(0,z.jsxs)("div",{className:"space-y-3",children:[(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsx)(lN,{children:"Damage Photos"}),(0,z.jsxs)(tb,{variant:"outline",size:"sm",onClick:()=>document.getElementById(`file-${e.id}`)?.click(),children:[(0,z.jsx)(oo,{className:"size-4 mr-2"}),"Upload Images"]}),(0,z.jsx)("input",{id:`file-${e.id}`,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:t=>{var r;let s;return r=e.id,void((s=t.target.files)&&(Array.from(s).forEach(e=>{let t=new FileReader;t.onload=t=>{let s={id:`img-${Date.now()}-${Math.random()}`,url:t.target?.result,caption:e.name,uploadedAt:new Date().toISOString()};i(n.map(e=>e.id===r?{...e,images:[...e.images,s]}:e))},t.readAsDataURL(e)}),ld.success(`${s.length} image(s) uploaded`)))}})]}),e.images.length>0&&(0,z.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:e.images.map(t=>(0,z.jsxs)("div",{className:"relative group",children:[(0,z.jsx)("img",{src:t.url,alt:t.caption||"Damage photo",className:"w-full h-24 object-cover rounded border"}),(0,z.jsx)(tb,{variant:"ghost",size:"sm",onClick:()=>{var r,s;return r=e.id,s=t.id,void i(n.map(e=>e.id===r?{...e,images:e.images.filter(e=>e.id!==s)}:e))},className:"absolute top-1 right-1 size-6 p-0 bg-red-600 hover:bg-red-700 text-white opacity-0 group-hover:opacity-100 transition-opacity",children:(0,z.jsx)(ea,{className:"size-4"})}),(0,z.jsx)("p",{className:"text-xs text-gray-600 mt-1 truncate",children:t.caption})]},t.id))})]})]}),(0,z.jsxs)("div",{className:"flex items-center gap-2 pt-2 border-t flex-wrap",children:[(0,z.jsx)(cZ,{className:{good:"bg-green-100 text-green-800","minor-damage":"bg-yellow-100 text-yellow-800","major-damage":"bg-orange-100 text-orange-800","beyond-repair":"bg-red-100 text-red-800"}[e.condition],children:e.condition.replace("-"," ").toUpperCase()}),e.repairRequired&&(0,z.jsx)(cZ,{className:"bg-amber-100 text-amber-800",children:"REPAIR REQUIRED"}),e.images.length>0&&(0,z.jsxs)(cZ,{variant:"outline",className:"flex items-center gap-1",children:[(0,z.jsx)(dA,{className:"size-3"}),e.images.length," photo(s)"]}),e.quantityRepair>0&&(0,z.jsxs)(cZ,{className:"bg-amber-100 text-amber-800 ml-auto",children:["Repair: ",e.quantityRepair," items"]}),e.quantityWriteOff>0&&(0,z.jsxs)(cZ,{className:"bg-red-100 text-red-800 ml-auto",children:["Write-off: ",e.quantityWriteOff," items"]})]})]},e.id)),n.length>0&&(0,z.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2 border border-gray-200",children:[(0,z.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,z.jsx)("span",{className:"text-[#231F20]",children:"Total Items Inspected:"}),(0,z.jsx)("span",{className:"text-[#231F20]",children:d.totalItemsInspected})]}),(0,z.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,z.jsx)("span",{className:"text-[#231F20]",children:"Good Condition:"}),(0,z.jsx)("span",{className:"text-[#231F20]",children:d.totalGood})]}),(0,z.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,z.jsx)("span",{className:"text-[#231F20]",children:"Need Repair:"}),(0,z.jsx)("span",{className:"text-[#231F20]",children:d.totalRepair})]}),(0,z.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,z.jsx)("span",{className:"text-[#231F20]",children:"Write-off:"}),(0,z.jsx)("span",{className:"text-[#231F20]",children:d.totalWriteOff})]}),(0,z.jsxs)("div",{className:"flex justify-between pt-2 border-t border-gray-300",children:[(0,z.jsx)("span",{className:"text-[#231F20]",children:"Estimated Total Repair Cost:"}),(0,z.jsxs)("span",{className:"text-[#231F20]",children:["RM ",d.totalRepairCost.toFixed(2)]})]})]})]})]}),(0,z.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,z.jsx)(tb,{variant:"outline",onClick:r,children:"Cancel"}),(0,z.jsxs)(tb,{onClick:()=>{if(!s.rcfNumber||!s.deliveryOrderNumber||!s.customerName||!s.returnedBy)return void ld.error("Please fill in all required fields");if(0===n.length)return void ld.error("Please add at least one inspection item");if(n.some(e=>!e.scaffoldingItemId))return void ld.error("Please complete all item details");if(n.some(e=>0===e.quantity))return void ld.error("Please enter quantities for all items");let r=c(),a=new Date().toISOString();t({id:e?.id||`cr-${Date.now()}`,...s,items:n,...r,createdAt:e?.createdAt||a,updatedAt:a}),ld.success("Condition report saved successfully")},className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,z.jsx)(dk,{className:"size-4 mr-2"}),"Save Condition Report"]})]})]})}function pP({repairSlips:e,searchQuery:t,onView:r,onUpdateStatus:s,onGenerateDamageInvoice:a}){let n=e.filter(e=>e.orpNumber.toLowerCase().includes(t.toLowerCase())||e.rcfNumber.toLowerCase().includes(t.toLowerCase()));return 0===n.length?(0,z.jsx)(ot,{children:(0,z.jsxs)(on,{className:"py-12 text-center",children:[(0,z.jsx)(ej,{className:"size-12 text-gray-400 mx-auto mb-4"}),(0,z.jsx)("p",{className:"text-gray-600",children:"No repair slips found"}),(0,z.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:t?"Try adjusting your search":"Create repair slips from condition reports"})]})}):(0,z.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,z.jsx)(ot,{className:"hover:shadow-md transition-shadow",children:(0,z.jsx)(on,{className:"p-6",children:(0,z.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,z.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,z.jsx)("div",{className:"flex items-start justify-between",children:(0,z.jsxs)("div",{children:[(0,z.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,z.jsx)("h3",{className:"text-[#231F20]",children:e.orpNumber}),(0,z.jsx)(cZ,{className:{open:"bg-blue-100 text-blue-800","in-repair":"bg-amber-100 text-amber-800",completed:"bg-green-100 text-green-800",cancelled:"bg-gray-100 text-gray-800"}[e.status],children:e.status.toUpperCase()}),(0,z.jsx)(cZ,{className:{low:"bg-gray-100 text-gray-800",medium:"bg-blue-100 text-blue-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"}[e.priority],children:e.priority.toUpperCase()})]}),(0,z.jsxs)("p",{className:"text-gray-600 mt-1",children:["RCF: ",e.rcfNumber]})]})}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(ej,{className:"size-4 text-gray-400"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-500",children:"Repair Items"}),(0,z.jsxs)("p",{className:"text-[#231F20]",children:[e.items.length," items"]})]})]}),(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(Z,{className:"size-4 text-gray-400"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-500",children:"Created"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:new Date(e.createdAt).toLocaleDateString()})]})]}),(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(xU,{className:"size-4 text-gray-400"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-500",children:"Assigned To"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.assignedTo||"Unassigned"})]})]}),(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(oc,{className:"size-4 text-gray-400"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-500",children:"Est. Cost"}),(0,z.jsxs)("p",{className:"text-[#231F20]",children:["RM ",e.estimatedCost.toFixed(2)]})]})]})]}),e.completionDate&&(0,z.jsxs)("div",{className:"text-sm text-green-600",children:["Completed on ",new Date(e.completionDate).toLocaleDateString()]})]}),(0,z.jsxs)("div",{className:"flex lg:flex-col items-center gap-2",children:[(0,z.jsxs)(tb,{variant:"outline",size:"sm",onClick:()=>r(e),children:[(0,z.jsx)(lv,{className:"size-4 mr-2"}),"View Details"]}),!e.damageInvoiceId&&(0,z.jsxs)(tb,{variant:"outline",size:"sm",onClick:()=>a(e.id),className:"bg-[#F15929] text-white hover:bg-[#d94d1f]",children:[(0,z.jsx)(K,{className:"size-4 mr-2"}),"Generate Invoice"]}),e.damageInvoiceId&&(0,z.jsx)(cZ,{className:"bg-green-100 text-green-800",children:"Invoice Generated"})]})]})})},e.id))})}let pk=Y("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);function pE({repairSlip:e,onBack:t,onUpdateStatus:r,onPrint:s}){return(0,z.jsxs)("div",{className:"p-6 space-y-6",children:[(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsxs)("div",{className:"flex items-center gap-4",children:[(0,z.jsx)(tb,{variant:"outline",onClick:t,children:(0,z.jsx)(lC,{className:"size-4"})}),(0,z.jsxs)("div",{children:[(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)("h1",{className:"text-[#231F20]",children:e.orpNumber}),(0,z.jsx)(cZ,{className:{open:"bg-blue-100 text-blue-800","in-repair":"bg-amber-100 text-amber-800",completed:"bg-green-100 text-green-800",cancelled:"bg-gray-100 text-gray-800"}[e.status],children:e.status.toUpperCase()}),(0,z.jsxs)(cZ,{className:{low:"bg-gray-100 text-gray-800",medium:"bg-blue-100 text-blue-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"}[e.priority],children:[e.priority.toUpperCase()," PRIORITY"]})]}),(0,z.jsx)("p",{className:"text-gray-600",children:"Open Repair Slip Details"})]})]}),(0,z.jsxs)("div",{className:"flex gap-2",children:["in-repair"===e.status&&(0,z.jsxs)(tb,{onClick:()=>r(e.id,"completed"),className:"bg-green-600 hover:bg-green-700",children:[(0,z.jsx)(oc,{className:"size-4 mr-2"}),"Mark Complete"]}),(0,z.jsxs)(tb,{onClick:()=>s&&s(e),className:"bg-gray-600 hover:bg-gray-700",children:[(0,z.jsx)(pk,{className:"size-4 mr-2"}),"Print"]})]})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{children:"Repair Slip Information"})}),(0,z.jsxs)(on,{children:[(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(ej,{className:"size-5 text-gray-400 mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Related RCF"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.rcfNumber})]})]}),(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(xU,{className:"size-5 text-gray-400 mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Assigned To"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.assignedTo||"Unassigned"})]})]}),(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(Z,{className:"size-5 text-gray-400 mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Created Date"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:new Date(e.createdAt).toLocaleDateString()})]})]}),(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(X,{className:"size-5 text-gray-400 mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Estimated Cost"}),(0,z.jsxs)("p",{className:"text-[#231F20]",children:["RM ",e.estimatedCost.toFixed(2)]})]})]})]}),e.startDate&&(0,z.jsx)("div",{className:"mt-6 pt-6 border-t",children:(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(Z,{className:"size-5 text-gray-400 mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Start Date"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:new Date(e.startDate).toLocaleDateString()})]})]}),e.completionDate&&(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(oc,{className:"size-5 text-green-600 mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Completion Date"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:new Date(e.completionDate).toLocaleDateString()})]})]}),e.actualCost>0&&(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(X,{className:"size-5 text-gray-400 mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Actual Cost"}),(0,z.jsxs)("p",{className:"text-[#231F20]",children:["RM ",e.actualCost.toFixed(2)]})]})]})]})}),e.repairNotes&&(0,z.jsxs)("div",{className:"mt-6 pt-6 border-t",children:[(0,z.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Repair Notes"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.repairNotes})]})]})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{children:"Items Requiring Repair"})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"overflow-x-auto",children:(0,z.jsxs)(c8,{children:[(0,z.jsx)(c7,{children:(0,z.jsxs)(de,{children:[(0,z.jsx)(dt,{className:"w-12",children:"#"}),(0,z.jsx)(dt,{children:"Item Description"}),(0,z.jsx)(dt,{children:"Quantity"}),(0,z.jsx)(dt,{children:"Damage Type"}),(0,z.jsx)(dt,{children:"Repair Actions"}),(0,z.jsx)(dt,{children:"Status"}),(0,z.jsx)(dt,{className:"text-right",children:"Cost (RM)"})]})}),(0,z.jsxs)(c9,{children:[e.items.map((e,t)=>(0,z.jsxs)(de,{children:[(0,z.jsx)(dr,{children:t+1}),(0,z.jsx)(dr,{children:(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#231F20]",children:e.scaffoldingItemName}),e.damageDescription&&(0,z.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.damageDescription})]})}),(0,z.jsx)(dr,{children:e.quantity}),(0,z.jsx)(dr,{children:(0,z.jsx)(cZ,{variant:"outline",children:e.damageType.replace("-"," ").toUpperCase()})}),(0,z.jsx)(dr,{children:(0,z.jsx)("div",{className:"space-y-1",children:e.repairActions.map((e,t)=>(0,z.jsxs)("div",{className:"text-sm text-gray-600",children:[" ",e]},t))})}),(0,z.jsx)(dr,{children:(0,z.jsx)(cZ,{className:{pending:"bg-gray-100 text-gray-800","in-progress":"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",scrapped:"bg-red-100 text-red-800"}[e.repairStatus]||"bg-gray-100 text-gray-800",children:e.repairStatus.replace("-"," ").toUpperCase()})}),(0,z.jsx)(dr,{className:"text-right",children:e.totalCost.toFixed(2)})]},e.id)),(0,z.jsxs)(de,{children:[(0,z.jsx)(dr,{colSpan:6,className:"text-right",children:(0,z.jsx)("span",{className:"text-[#231F20]",children:"Total Estimated Cost:"})}),(0,z.jsx)(dr,{className:"text-right",children:(0,z.jsxs)("span",{className:"text-[#231F20]",children:["RM ",e.estimatedCost.toFixed(2)]})})]})]})]})})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{children:"Additional Information"})}),(0,z.jsxs)(on,{children:[(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Created By"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.createdBy})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Created At"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:new Date(e.createdAt).toLocaleString()})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Last Updated"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:new Date(e.updatedAt).toLocaleString()})]})]}),e.invoiceNumber&&(0,z.jsxs)("div",{className:"mt-6 pt-6 border-t",children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Associated Invoice"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.invoiceNumber})]})]})]})]})}let pA=[{value:"bent",label:"Bent/Deformed"},{value:"cracked",label:"Cracked/Broken"},{value:"corroded",label:"Rust/Corrosion"},{value:"missing-parts",label:"Missing Parts"},{value:"welding-required",label:"Welding Required"},{value:"other",label:"Other Damage"}],pF=["Straightening","Welding","Rust Removal","Painting","Part Replacement","Cleaning","Load Testing","Reinforcement","Scrap & Replace","Others"];function pR({repairSlip:e,conditionReport:t,onSave:r,onCancel:s}){let[a,n]=(0,q.useState)({orpNumber:e?.orpNumber||`ORP-${Date.now()}`,conditionReportId:e?.conditionReportId||t?.id||"",rcfNumber:e?.rcfNumber||t?.rcfNumber||"",status:e?.status||"open",priority:e?.priority||"medium",estimatedCost:e?.estimatedCost||0,actualCost:e?.actualCost||0,repairNotes:e?.repairNotes||"",assignedTo:e?.assignedTo||"",startDate:e?.startDate||"",createdBy:e?.createdBy||"Current User"}),[i,l]=(0,q.useState)(e?.items||[]);(0,q.useEffect)(()=>{t&&!e&&l(t.items.filter(e=>e.repairRequired).map(e=>{let t=(e.quantityRepair||0)+(e.quantityWriteOff||0),r=t>0?e.estimatedRepairCost/t:e.estimatedRepairCost;return{id:`repair-item-${Date.now()}-${Math.random()}`,inspectionItemId:e.id,scaffoldingItemId:e.scaffoldingItemId,scaffoldingItemName:e.scaffoldingItemName,quantity:t,damageType:"other",damageDescription:e.damageDescription||"",repairActions:[],repairStatus:"pending",costPerUnit:r,totalCost:e.estimatedRepairCost,beforeImages:e.images.map(e=>e.url),afterImages:[]}}))},[t,e]),(0,q.useEffect)(()=>{let e=i.reduce((e,t)=>e+t.totalCost,0);n(t=>({...t,estimatedCost:e}))},[i]);let o=(e,t,r)=>{l(i.map(s=>{if(s.id===e){let e={...s,[t]:r};return("costPerUnit"===t||"quantity"===t)&&(e.totalCost=e.costPerUnit*e.quantity),e}return s}))};return(0,z.jsxs)("div",{className:"p-6 space-y-6",children:[(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsxs)("div",{className:"flex items-center gap-4",children:[(0,z.jsx)(tb,{variant:"ghost",size:"icon",onClick:s,children:(0,z.jsx)(lC,{className:"size-5"})}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h1",{className:"text-[#231F20]",children:e?"Edit Repair Slip":"Create Repair Slip"}),(0,z.jsx)("p",{className:"text-gray-600",children:t?`From RCF: ${t.rcfNumber}`:"Enter repair details"})]})]}),(0,z.jsxs)("div",{className:"flex gap-2",children:[(0,z.jsx)(tb,{variant:"outline",onClick:s,children:"Cancel"}),(0,z.jsxs)(tb,{onClick:()=>{a.rcfNumber?0===i.length?ld.error("At least one repair item is required"):i.filter(e=>!e.scaffoldingItemName||!e.damageDescription||0===e.repairActions.length).length>0?ld.error("Please complete all repair item details"):(r({id:e?.id||`repair-${Date.now()}`,orpNumber:a.orpNumber,conditionReportId:a.conditionReportId,rcfNumber:a.rcfNumber,items:i,status:a.status,priority:a.priority,assignedTo:a.assignedTo,startDate:a.startDate,completionDate:e?.completionDate,estimatedCost:a.estimatedCost,actualCost:a.actualCost,repairNotes:a.repairNotes,invoiceNumber:e?.invoiceNumber,createdBy:a.createdBy,createdAt:e?.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString()}),ld.success(e?"Repair slip updated successfully":"Repair slip created successfully")):ld.error("RCF Number is required")},className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[e?"Update":"Create"," Repair Slip"]})]})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{children:"Basic Information"})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"ORP Number"}),(0,z.jsx)(tN,{value:a.orpNumber,onChange:e=>n({...a,orpNumber:e.target.value}),placeholder:"ORP-XXXXX"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"RCF Number"}),(0,z.jsx)(tN,{value:a.rcfNumber,onChange:e=>n({...a,rcfNumber:e.target.value}),placeholder:"RCF-XXXXX",disabled:!!t})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Priority"}),(0,z.jsxs)(cl,{value:a.priority,onValueChange:e=>n({...a,priority:e}),children:[(0,z.jsx)(cc,{children:(0,z.jsx)(co,{})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"low",children:"Low"}),(0,z.jsx)(cu,{value:"medium",children:"Medium"}),(0,z.jsx)(cu,{value:"high",children:"High"}),(0,z.jsx)(cu,{value:"urgent",children:"Urgent"})]})]})]})]}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Assigned To"}),(0,z.jsx)(tN,{value:a.assignedTo,onChange:e=>n({...a,assignedTo:e.target.value}),placeholder:"Technician name"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Start Date"}),(0,z.jsx)(tN,{type:"date",value:a.startDate,onChange:e=>n({...a,startDate:e.target.value})})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Repair Notes"}),(0,z.jsx)(dl,{value:a.repairNotes,onChange:e=>n({...a,repairNotes:e.target.value}),placeholder:"Additional notes about the repair...",rows:3})]})]})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsx)(os,{children:"Repair Items"}),(0,z.jsxs)(tb,{onClick:()=>{l([...i,{id:`repair-item-${Date.now()}-${Math.random()}`,inspectionItemId:"",scaffoldingItemId:"",scaffoldingItemName:"",quantity:1,damageType:"other",damageDescription:"",repairActions:[],repairStatus:"pending",costPerUnit:0,totalCost:0,beforeImages:[],afterImages:[]}])},variant:"outline",size:"sm",children:[(0,z.jsx)(dm,{className:"size-4 mr-2"}),"Add Item"]})]})}),(0,z.jsxs)(on,{className:"space-y-6",children:[0===i.length?(0,z.jsx)("div",{className:"text-center py-8 text-gray-500",children:'No repair items added. Click "Add Item" to add repair items.'}):i.map((e,r)=>(0,z.jsxs)("div",{className:"p-4 border rounded-lg space-y-4 relative",children:[(0,z.jsxs)("div",{className:"flex items-start justify-between",children:[(0,z.jsxs)("h4",{className:"text-[#231F20]",children:["Item #",r+1]}),(0,z.jsx)(tb,{variant:"ghost",size:"icon",onClick:()=>{var t;return t=e.id,void l(i.filter(e=>e.id!==t))},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,z.jsx)(dS,{className:"size-4"})})]}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Scaffolding Item Name"}),(0,z.jsx)(tN,{value:e.scaffoldingItemName,onChange:t=>o(e.id,"scaffoldingItemName",t.target.value),placeholder:"e.g., Standard Frame",disabled:!!t,className:t?"bg-gray-200":""}),t&&(0,z.jsx)("p",{className:"text-xs text-gray-500",children:"From condition report"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Quantity"}),(0,z.jsx)(tN,{type:"number",value:e.quantity,onChange:t=>o(e.id,"quantity",parseInt(t.target.value)||0),min:"1",disabled:!!t,className:t?"bg-gray-200":""}),t&&(0,z.jsx)("p",{className:"text-xs text-gray-500",children:"From condition report"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Damage Type"}),(0,z.jsxs)(cl,{value:e.damageType,onValueChange:t=>o(e.id,"damageType",t),children:[(0,z.jsx)(cc,{children:(0,z.jsx)(co,{})}),(0,z.jsx)(cd,{children:pA.map(e=>(0,z.jsx)(cu,{value:e.value,children:e.label},e.value))})]})]})]}),"other"===e.damageType&&(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Damage Description"}),(0,z.jsx)(dl,{value:e.damageDescription,onChange:t=>o(e.id,"damageDescription",t.target.value),placeholder:"Describe the damage...",rows:2})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Repair Actions Required"}),(0,z.jsx)("div",{className:"flex flex-wrap gap-2",children:pF.map(t=>(0,z.jsx)(cZ,{variant:e.repairActions.includes(t)?"default":"outline",className:`cursor-pointer ${e.repairActions.includes(t)?"bg-[#F15929] hover:bg-[#d94d1f]":"hover:bg-gray-100"}`,onClick:()=>{var r;return r=e.id,void l(i.map(e=>{if(e.id===r){let r=e.repairActions.includes(t)?e.repairActions.filter(e=>e!==t):[...e.repairActions,t];return{...e,repairActions:r}}return e}))},children:t},t))})]}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Repair Status"}),(0,z.jsxs)(cl,{value:e.repairStatus,onValueChange:t=>o(e.id,"repairStatus",t),children:[(0,z.jsx)(cc,{children:(0,z.jsx)(co,{})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"pending",children:"Pending"}),(0,z.jsx)(cu,{value:"in-progress",children:"In Progress"}),(0,z.jsx)(cu,{value:"completed",children:"Completed"}),(0,z.jsx)(cu,{value:"scrapped",children:"Scrapped"})]})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Total Cost (RM)"}),(0,z.jsx)(tN,{type:"number",value:e.totalCost.toFixed(2),disabled:!0,className:"bg-gray-200"}),t&&(0,z.jsx)("p",{className:"text-xs text-gray-500",children:"Auto-calculated from condition report"})]})]})]},e.id)),i.length>0&&(0,z.jsx)("div",{className:"pt-4 border-t",children:(0,z.jsxs)("div",{className:"flex justify-between items-center",children:[(0,z.jsx)("span",{className:"text-[#231F20]",children:"Estimated Total Cost:"}),(0,z.jsxs)("span",{className:"text-[#231F20]",children:["RM ",a.estimatedCost?.toFixed(2)]})]})})]})]})]})}function pO({repairSlip:e,onClose:t}){let r=(0,q.useRef)(null);return(0,z.jsxs)("div",{className:"p-6",children:[(0,z.jsxs)("div",{className:"flex justify-between items-center mb-6 print:hidden",children:[(0,z.jsx)("h1",{className:"text-[#231F20]",children:"Open Repair Slip - Print Preview"}),(0,z.jsxs)("div",{className:"flex gap-2",children:[(0,z.jsxs)(tb,{variant:"outline",onClick:t,children:[(0,z.jsx)(ea,{className:"size-4 mr-2"}),"Close"]}),(0,z.jsxs)(tb,{variant:"outline",onClick:()=>{ld.info('Use the Print dialog and select "Save as PDF" to download'),window.print()},children:[(0,z.jsx)(cY,{className:"size-4 mr-2"}),"Download PDF"]}),(0,z.jsxs)(tb,{onClick:()=>{window.print()},className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,z.jsx)(pk,{className:"size-4 mr-2"}),"Print"]})]})]}),(0,z.jsx)(ot,{className:"max-w-4xl mx-auto",children:(0,z.jsxs)(on,{className:"p-12",ref:r,children:[(0,z.jsx)("div",{className:"border-b-4 border-[#F15929] pb-6 mb-6",children:(0,z.jsxs)("div",{className:"flex justify-between items-start",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("h1",{className:"text-[#231F20] text-3xl mb-2",children:"Power Metal & Steel"}),(0,z.jsx)("p",{className:"text-gray-600",children:"Scaffolding Rental & Services"})]}),(0,z.jsxs)("div",{className:"text-right",children:[(0,z.jsx)("div",{className:"text-[#F15929] text-xl mb-2",children:"OPEN REPAIR SLIP"}),(0,z.jsx)("div",{className:"text-[#231F20]",children:e.orpNumber})]})]})}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("h3",{className:"text-[#231F20] mb-4",children:"Repair Slip Details"}),(0,z.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,z.jsxs)("div",{className:"flex",children:[(0,z.jsx)("span",{className:"text-gray-600 w-32",children:"RCF Number:"}),(0,z.jsx)("span",{className:"text-[#231F20]",children:e.rcfNumber})]}),(0,z.jsxs)("div",{className:"flex",children:[(0,z.jsx)("span",{className:"text-gray-600 w-32",children:"Priority:"}),(0,z.jsx)("span",{className:"text-[#231F20]",children:e.priority.toUpperCase()})]}),(0,z.jsxs)("div",{className:"flex",children:[(0,z.jsx)("span",{className:"text-gray-600 w-32",children:"Status:"}),(0,z.jsx)("span",{className:"text-[#231F20]",children:e.status.toUpperCase()})]}),(0,z.jsxs)("div",{className:"flex",children:[(0,z.jsx)("span",{className:"text-gray-600 w-32",children:"Created Date:"}),(0,z.jsx)("span",{className:"text-[#231F20]",children:new Date(e.createdAt).toLocaleDateString()})]}),e.startDate&&(0,z.jsxs)("div",{className:"flex",children:[(0,z.jsx)("span",{className:"text-gray-600 w-32",children:"Start Date:"}),(0,z.jsx)("span",{className:"text-[#231F20]",children:new Date(e.startDate).toLocaleDateString()})]}),e.completionDate&&(0,z.jsxs)("div",{className:"flex",children:[(0,z.jsx)("span",{className:"text-gray-600 w-32",children:"Completion Date:"}),(0,z.jsx)("span",{className:"text-[#231F20]",children:new Date(e.completionDate).toLocaleDateString()})]})]})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h3",{className:"text-[#231F20] mb-4",children:"Assignment & Cost"}),(0,z.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,z.jsxs)("div",{className:"flex",children:[(0,z.jsx)("span",{className:"text-gray-600 w-32",children:"Assigned To:"}),(0,z.jsx)("span",{className:"text-[#231F20]",children:e.assignedTo||"Unassigned"})]}),(0,z.jsxs)("div",{className:"flex",children:[(0,z.jsx)("span",{className:"text-gray-600 w-32",children:"Created By:"}),(0,z.jsx)("span",{className:"text-[#231F20]",children:e.createdBy})]}),(0,z.jsxs)("div",{className:"flex",children:[(0,z.jsx)("span",{className:"text-gray-600 w-32",children:"Estimated Cost:"}),(0,z.jsxs)("span",{className:"text-[#231F20]",children:["RM ",e.estimatedCost.toFixed(2)]})]}),e.actualCost>0&&(0,z.jsxs)("div",{className:"flex",children:[(0,z.jsx)("span",{className:"text-gray-600 w-32",children:"Actual Cost:"}),(0,z.jsxs)("span",{className:"text-[#231F20]",children:["RM ",e.actualCost.toFixed(2)]})]})]})]})]}),e.repairNotes&&(0,z.jsxs)("div",{className:"mb-8",children:[(0,z.jsx)("h3",{className:"text-[#231F20] mb-2",children:"Repair Notes"}),(0,z.jsx)("p",{className:"text-sm text-gray-700 p-3 bg-gray-50 rounded",children:e.repairNotes})]}),(0,z.jsxs)("div",{className:"mb-8",children:[(0,z.jsx)("h3",{className:"text-[#231F20] mb-4",children:"Items Requiring Repair"}),(0,z.jsxs)("table",{className:"w-full border-collapse",children:[(0,z.jsx)("thead",{children:(0,z.jsxs)("tr",{className:"bg-gray-100",children:[(0,z.jsx)("th",{className:"border border-gray-300 p-2 text-left text-sm",children:"#"}),(0,z.jsx)("th",{className:"border border-gray-300 p-2 text-left text-sm",children:"Item Description"}),(0,z.jsx)("th",{className:"border border-gray-300 p-2 text-center text-sm",children:"Qty"}),(0,z.jsx)("th",{className:"border border-gray-300 p-2 text-left text-sm",children:"Damage Type"}),(0,z.jsx)("th",{className:"border border-gray-300 p-2 text-left text-sm",children:"Repair Actions"}),(0,z.jsx)("th",{className:"border border-gray-300 p-2 text-left text-sm",children:"Status"}),(0,z.jsx)("th",{className:"border border-gray-300 p-2 text-right text-sm",children:"Cost (RM)"})]})}),(0,z.jsxs)("tbody",{children:[e.items.map((e,t)=>(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{className:"border border-gray-300 p-2 text-sm",children:t+1}),(0,z.jsx)("td",{className:"border border-gray-300 p-2 text-sm",children:(0,z.jsxs)("div",{children:[(0,z.jsx)("div",{className:"text-[#231F20]",children:e.scaffoldingItemName}),e.damageDescription&&(0,z.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:e.damageDescription})]})}),(0,z.jsx)("td",{className:"border border-gray-300 p-2 text-center text-sm",children:e.quantity}),(0,z.jsx)("td",{className:"border border-gray-300 p-2 text-sm",children:e.damageType.replace("-"," ").toUpperCase()}),(0,z.jsx)("td",{className:"border border-gray-300 p-2 text-sm",children:(0,z.jsx)("ul",{className:"list-disc list-inside text-xs",children:e.repairActions.map((e,t)=>(0,z.jsx)("li",{children:e},t))})}),(0,z.jsx)("td",{className:"border border-gray-300 p-2 text-sm",children:e.repairStatus.replace("-"," ").toUpperCase()}),(0,z.jsx)("td",{className:"border border-gray-300 p-2 text-right text-sm",children:e.totalCost.toFixed(2)})]},e.id)),(0,z.jsxs)("tr",{className:"bg-gray-100",children:[(0,z.jsx)("td",{colSpan:6,className:"border border-gray-300 p-2 text-right text-sm",children:(0,z.jsx)("strong",{children:"Total Estimated Cost:"})}),(0,z.jsx)("td",{className:"border border-gray-300 p-2 text-right text-sm",children:(0,z.jsxs)("strong",{className:"text-[#F15929]",children:["RM ",e.estimatedCost.toFixed(2)]})})]})]})]})]}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-12 mt-16",children:[(0,z.jsx)("div",{children:(0,z.jsxs)("div",{className:"border-t-2 border-[#231F20] pt-2 mt-16",children:[(0,z.jsx)("div",{className:"text-sm text-gray-600",children:"Prepared By"}),(0,z.jsx)("div",{className:"text-sm text-[#231F20] mt-1",children:e.createdBy}),(0,z.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Date: ",new Date(e.createdAt).toLocaleDateString()]})]})}),(0,z.jsx)("div",{children:(0,z.jsxs)("div",{className:"border-t-2 border-[#231F20] pt-2 mt-16",children:[(0,z.jsx)("div",{className:"text-sm text-gray-600",children:"Technician Acknowledgment"}),(0,z.jsx)("div",{className:"text-sm text-[#231F20] mt-1",children:e.assignedTo||"_____________________"}),(0,z.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Date: _____________________"})]})})]}),(0,z.jsxs)("div",{className:"mt-12 pt-6 border-t border-gray-300 text-center text-xs text-gray-500",children:[(0,z.jsx)("p",{children:"This is a computer-generated document. No signature is required for validity."}),(0,z.jsxs)("p",{className:"mt-1",children:["Power Metal & Steel | Generated on ",new Date().toLocaleString()]})]})]})}),(0,z.jsx)("style",{children:`
        @media print {
          body * {
            visibility: hidden;
          }
          .print\\:hidden {
            display: none !important;
          }
          #root, #root * {
            visibility: visible;
          }
          ${r.current?`#${r.current.id}`:""} {
            position: absolute;
            left: 0;
            top: 0;
          }
        }
      `})]})}function pI({invoice:e,onClose:t}){let r=(0,q.useRef)(null);return(0,z.jsxs)("div",{className:"p-6",children:[(0,z.jsxs)("div",{className:"flex justify-between items-center mb-6 print:hidden",children:[(0,z.jsx)("h1",{className:"text-[#231F20]",children:"Damage Invoice - Print Preview"}),(0,z.jsxs)("div",{className:"flex gap-2",children:[(0,z.jsxs)(tb,{variant:"outline",onClick:t,children:[(0,z.jsx)(ea,{className:"size-4 mr-2"}),"Close"]}),(0,z.jsxs)(tb,{variant:"outline",onClick:()=>{ld.info('Use the Print dialog and select "Save as PDF" to download'),window.print()},children:[(0,z.jsx)(cY,{className:"size-4 mr-2"}),"Download PDF"]}),(0,z.jsxs)(tb,{onClick:()=>{window.print()},className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,z.jsx)(pk,{className:"size-4 mr-2"}),"Print"]})]})]}),(0,z.jsx)(ot,{className:"max-w-4xl mx-auto",children:(0,z.jsxs)(on,{className:"p-12",ref:r,children:[(0,z.jsx)("div",{className:"border-b-4 border-[#F15929] pb-6 mb-6",children:(0,z.jsxs)("div",{className:"flex justify-between items-start",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("h1",{className:"text-[#231F20] mb-2",children:"POWER METAL & STEEL"}),(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Scaffolding Equipment Supplier"}),(0,z.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:["123 Industrial Park, Johor Bahru",(0,z.jsx)("br",{}),"Johor, Malaysia 81200",(0,z.jsx)("br",{}),"Tel: +60 12-345 6789",(0,z.jsx)("br",{}),"Email: info@powermetalsteel.com"]})]}),(0,z.jsxs)("div",{className:"text-right",children:[(0,z.jsx)("h2",{className:"text-[#231F20] mb-4",children:"DAMAGE INVOICE"}),(0,z.jsxs)("div",{className:"text-sm space-y-1",children:[(0,z.jsxs)("p",{children:[(0,z.jsx)("strong",{children:"Invoice No:"})," ",e.invoiceNumber]}),(0,z.jsxs)("p",{children:[(0,z.jsx)("strong",{children:"ORP No:"})," ",e.orpNumber]}),(0,z.jsxs)("p",{children:[(0,z.jsx)("strong",{children:"Date:"})," ",new Date(e.invoiceDate).toLocaleDateString()]})]})]})]})}),e.vendor&&(0,z.jsxs)("div",{className:"mb-8",children:[(0,z.jsx)("h3",{className:"text-sm text-gray-600 mb-2",children:"BILLED TO:"}),(0,z.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,z.jsx)("p",{className:"text-[#231F20]",children:e.vendor})})]}),(0,z.jsx)("div",{className:"mb-8",children:(0,z.jsxs)("table",{className:"w-full border-collapse",children:[(0,z.jsx)("thead",{children:(0,z.jsxs)("tr",{className:"border-b-2 border-gray-300",children:[(0,z.jsx)("th",{className:"text-left py-3 px-2 text-sm text-[#231F20]",children:"No."}),(0,z.jsx)("th",{className:"text-left py-3 px-2 text-sm text-[#231F20]",children:"Description"}),(0,z.jsx)("th",{className:"text-right py-3 px-2 text-sm text-[#231F20]",children:"Qty"}),(0,z.jsx)("th",{className:"text-right py-3 px-2 text-sm text-[#231F20]",children:"Unit Price (RM)"}),(0,z.jsx)("th",{className:"text-right py-3 px-2 text-sm text-[#231F20]",children:"Total (RM)"})]})}),(0,z.jsx)("tbody",{children:e.items.map((e,t)=>(0,z.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,z.jsx)("td",{className:"py-3 px-2 text-sm",children:t+1}),(0,z.jsx)("td",{className:"py-3 px-2 text-sm",children:e.description}),(0,z.jsx)("td",{className:"py-3 px-2 text-sm text-right",children:e.quantity}),(0,z.jsx)("td",{className:"py-3 px-2 text-sm text-right",children:e.unitPrice.toFixed(2)}),(0,z.jsx)("td",{className:"py-3 px-2 text-sm text-right",children:e.total.toFixed(2)})]},e.id))})]})}),(0,z.jsx)("div",{className:"flex justify-end mb-8",children:(0,z.jsxs)("div",{className:"w-64 space-y-3",children:[(0,z.jsxs)("div",{className:"flex justify-between pb-2",children:[(0,z.jsx)("span",{className:"text-sm text-gray-600",children:"Subtotal:"}),(0,z.jsxs)("span",{className:"text-sm text-[#231F20]",children:["RM ",e.subtotal.toFixed(2)]})]}),(0,z.jsxs)("div",{className:"flex justify-between pb-2",children:[(0,z.jsx)("span",{className:"text-sm text-gray-600",children:"Tax (SST):"}),(0,z.jsxs)("span",{className:"text-sm text-[#231F20]",children:["RM ",e.tax.toFixed(2)]})]}),(0,z.jsxs)("div",{className:"flex justify-between pt-2 border-t-2 border-gray-300",children:[(0,z.jsx)("span",{className:"text-[#231F20]",children:"Total Amount:"}),(0,z.jsxs)("span",{className:"text-[#F15929]",children:["RM ",e.total.toFixed(2)]})]})]})}),(0,z.jsx)("div",{className:"mb-8 p-4 bg-gray-50 rounded-lg",children:(0,z.jsxs)("div",{className:"flex justify-between items-center",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Payment Status:"}),(0,z.jsx)("p",{className:`text-sm mt-1 ${"paid"===e.paymentStatus?"text-green-600":"overdue"===e.paymentStatus?"text-red-600":"text-amber-600"}`,children:e.paymentStatus.toUpperCase()})]}),e.paidDate&&(0,z.jsxs)("div",{className:"text-right",children:[(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Paid On:"}),(0,z.jsx)("p",{className:"text-sm text-green-600 mt-1",children:new Date(e.paidDate).toLocaleDateString()})]})]})}),e.notes&&(0,z.jsxs)("div",{className:"mb-8",children:[(0,z.jsx)("h3",{className:"text-sm text-gray-600 mb-2",children:"NOTES:"}),(0,z.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,z.jsx)("p",{className:"text-sm text-[#231F20]",children:e.notes})})]}),(0,z.jsx)("div",{className:"mt-12 pt-8 border-t-2 border-gray-300",children:(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-12",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("h4",{className:"text-sm text-[#231F20] mb-8",children:"COMPANY REPRESENTATIVE:"}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)("div",{className:"border-b border-gray-400 pb-2",children:(0,z.jsx)("p",{className:"text-xs text-gray-500 mb-8",children:"Signature"})}),(0,z.jsx)("div",{className:"border-b border-gray-400 pb-2",children:(0,z.jsx)("p",{className:"text-xs text-gray-500",children:"Name"})}),(0,z.jsx)("div",{className:"border-b border-gray-400 pb-2",children:(0,z.jsx)("p",{className:"text-xs text-gray-500",children:"Position"})}),(0,z.jsx)("div",{className:"border-b border-gray-400 pb-2",children:(0,z.jsx)("p",{className:"text-xs text-gray-500",children:"Date"})}),(0,z.jsxs)("div",{className:"mt-4",children:[(0,z.jsx)("p",{className:"text-xs text-gray-500 italic",children:"Company Stamp"}),(0,z.jsx)("div",{className:"border-2 border-dashed border-gray-300 h-20 rounded mt-2"})]})]})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h4",{className:"text-sm text-[#231F20] mb-8",children:"AUTHORIZED BY (POWER METAL & STEEL):"}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)("div",{className:"border-b border-gray-400 pb-2",children:(0,z.jsx)("p",{className:"text-xs text-gray-500 mb-8",children:"Signature"})}),(0,z.jsx)("div",{className:"border-b border-gray-400 pb-2",children:(0,z.jsx)("p",{className:"text-xs text-gray-500",children:"Name"})}),(0,z.jsx)("div",{className:"border-b border-gray-400 pb-2",children:(0,z.jsx)("p",{className:"text-xs text-gray-500",children:"Position"})}),(0,z.jsx)("div",{className:"border-b border-gray-400 pb-2",children:(0,z.jsx)("p",{className:"text-xs text-gray-500",children:"Date"})})]})]})]})}),(0,z.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[(0,z.jsx)("h4",{className:"text-xs text-gray-600 mb-2",children:"TERMS & CONDITIONS:"}),(0,z.jsxs)("ul",{className:"text-xs text-gray-500 space-y-1",children:[(0,z.jsx)("li",{children:" Payment is due within 30 days from the invoice date."}),(0,z.jsx)("li",{children:" Late payments will incur a 2% monthly interest charge."}),(0,z.jsx)("li",{children:" All damage charges are based on actual repair costs or replacement value."}),(0,z.jsx)("li",{children:" Customer is responsible for damages beyond normal wear and tear."}),(0,z.jsx)("li",{children:" Any disputes must be raised within 7 days of invoice date."}),(0,z.jsx)("li",{children:" This invoice must be signed and returned within 14 days to acknowledge receipt."})]})]}),(0,z.jsxs)("div",{className:"mt-6 text-center text-xs text-gray-400",children:[(0,z.jsx)("p",{children:"This is an official document from Power Metal & Steel"}),(0,z.jsx)("p",{className:"mt-1",children:"For inquiries, please contact: info@powermetalsteel.com | +60 12-345 6789"})]})]})}),(0,z.jsx)("style",{children:`
        @media print {
          body * {
            visibility: hidden;
          }
          ${r.current?"#print-area, #print-area *":""} {
            visibility: visible;
          }
          .print\\:hidden {
            display: none !important;
          }
          @page {
            margin: 1cm;
            size: A4;
          }
        }
      `})]})}function pM({invoices:e,searchQuery:t}){let[r,s]=(0,q.useState)(null),[a,n]=(0,q.useState)(!1),i=e.filter(e=>e.invoiceNumber.toLowerCase().includes(t.toLowerCase())||e.orpNumber.toLowerCase().includes(t.toLowerCase())),l=e=>({pending:"bg-amber-100 text-amber-800",paid:"bg-green-100 text-green-800",overdue:"bg-red-100 text-red-800"})[e];return a&&r?(0,z.jsx)(pI,{invoice:r,onClose:()=>{n(!1),s(null)}}):0===i.length?(0,z.jsx)(ot,{children:(0,z.jsxs)(on,{className:"py-12 text-center",children:[(0,z.jsx)(K,{className:"size-12 text-gray-400 mx-auto mb-4"}),(0,z.jsx)("p",{className:"text-gray-600",children:"No damage invoices found"}),(0,z.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:t?"Try adjusting your search":"Invoices will appear here when repairs are billed"})]})}):(0,z.jsx)("div",{className:"space-y-4",children:i.map(e=>(0,z.jsx)(ot,{className:"hover:shadow-md transition-shadow",children:(0,z.jsx)(on,{className:"p-6",children:(0,z.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,z.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,z.jsx)("div",{className:"flex items-start justify-between",children:(0,z.jsxs)("div",{children:[(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)("h3",{className:"text-[#231F20]",children:e.invoiceNumber}),"paid"===e.paymentStatus&&(0,z.jsx)(cZ,{className:l(e.paymentStatus),children:e.paymentStatus.toUpperCase()}),"overdue"===e.paymentStatus&&(0,z.jsx)(cZ,{className:l(e.paymentStatus),children:e.paymentStatus.toUpperCase()})]}),(0,z.jsxs)("p",{className:"text-gray-600 mt-1",children:["ORP: ",e.orpNumber]})]})}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(Z,{className:"size-4 text-gray-400"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-500",children:"Invoice Date"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:new Date(e.invoiceDate).toLocaleDateString()})]})]}),e.vendor&&(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(ej,{className:"size-4 text-gray-400"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-500",children:"Vendor"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.vendor})]})]}),(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(K,{className:"size-4 text-gray-400"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-500",children:"Line Items"}),(0,z.jsxs)("p",{className:"text-[#231F20]",children:[e.items.length," items"]})]})]}),(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(X,{className:"size-4 text-gray-400"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-500",children:"Total Amount"}),(0,z.jsxs)("p",{className:"text-[#231F20]",children:["RM ",e.total.toFixed(2)]})]})]})]}),e.paidDate&&(0,z.jsxs)("div",{className:"text-sm text-green-600",children:["Paid on ",new Date(e.paidDate).toLocaleDateString()]}),e.notes&&(0,z.jsxs)("div",{className:"pt-3 border-t",children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Notes"}),(0,z.jsx)("p",{className:"text-sm text-[#231F20] mt-1",children:e.notes})]})]}),(0,z.jsx)("div",{className:"flex flex-col gap-2 lg:ml-4",children:(0,z.jsxs)(tb,{onClick:()=>{s(e),n(!0)},className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,z.jsx)(pk,{className:"size-4 mr-2"}),"Print Invoice"]})})]})})},e.id))})}let pT=Y("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);function pB({adjustments:e,searchQuery:t,onViewReference:r}){let s=e.filter(e=>e.scaffoldingItemName.toLowerCase().includes(t.toLowerCase())||e.referenceId.toLowerCase().includes(t.toLowerCase()));if(0===s.length)return(0,z.jsx)(ot,{children:(0,z.jsxs)(on,{className:"py-12 text-center",children:[(0,z.jsx)(ei,{className:"size-12 text-gray-400 mx-auto mb-4"}),(0,z.jsx)("p",{className:"text-gray-600",children:"No inventory adjustments found"}),(0,z.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:t?"Try adjusting your search":"Inventory adjustments will appear here automatically"})]})});let a=[...s].sort((e,t)=>new Date(t.adjustedAt).getTime()-new Date(e.adjustedAt).getTime());return(0,z.jsx)(ot,{children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsx)("div",{className:"overflow-x-auto",children:(0,z.jsxs)(c8,{children:[(0,z.jsx)(c7,{children:(0,z.jsxs)(de,{children:[(0,z.jsx)(dt,{children:"Date & Time"}),(0,z.jsx)(dt,{children:"Item"}),(0,z.jsx)(dt,{className:"text-center",children:"Quantity"}),(0,z.jsx)(dt,{children:"Status Change"}),(0,z.jsx)(dt,{children:"Type"}),(0,z.jsx)(dt,{children:"Reference"}),(0,z.jsx)(dt,{children:"Adjusted By"})]})}),(0,z.jsx)(c9,{children:a.map(e=>(0,z.jsxs)(de,{children:[(0,z.jsx)(dr,{children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(Z,{className:"size-4 text-gray-400"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-[#231F20]",children:new Date(e.adjustedAt).toLocaleDateString()}),(0,z.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.adjustedAt).toLocaleTimeString()})]})]})}),(0,z.jsx)(dr,{children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(ei,{className:"size-4 text-gray-400"}),(0,z.jsx)("span",{className:"text-[#231F20]",children:e.scaffoldingItemName})]})}),(0,z.jsx)(dr,{className:"text-center",children:(0,z.jsx)("span",{className:"text-[#231F20] px-2 py-1 bg-gray-100 rounded",children:e.quantity})}),(0,z.jsx)(dr,{children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(cZ,{variant:"outline",className:"text-xs",children:e.fromStatus}),(0,z.jsx)(pT,{className:"size-3 text-gray-400"}),(0,z.jsx)(cZ,{variant:"outline",className:"text-xs",children:e.toStatus})]})}),(0,z.jsx)(dr,{children:(0,z.jsx)(cZ,{className:{"damage-detected":"bg-red-100 text-red-800","repair-completed":"bg-green-100 text-green-800",scrapped:"bg-gray-100 text-gray-800"}[e.adjustmentType],children:{"damage-detected":"Damage Detected","repair-completed":"Repair Completed",scrapped:"Scrapped"}[e.adjustmentType]})}),(0,z.jsx)(dr,{children:(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-[#231F20]",children:e.referenceId}),(0,z.jsx)("p",{className:"text-xs text-gray-500",children:e.referenceType}),r&&(0,z.jsxs)(tb,{size:"sm",className:"mt-2",onClick:()=>r(e.referenceId,e.referenceType),children:[(0,z.jsx)(lv,{className:"size-4 mr-1"}),"View"]})]})}),(0,z.jsx)(dr,{children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(xU,{className:"size-4 text-gray-400"}),(0,z.jsx)("span",{className:"text-sm text-gray-600",children:e.adjustedBy})]})})]},e.id))})]})})})})}function p_({repairSlips:e,onUpdateRepairSlip:t,onCreateInventoryLog:r,onBackToInspection:s}){let[a,n]=(0,q.useState)(""),[i,l]=(0,q.useState)(null),[o,c]=(0,q.useState)(null),[d,u]=(0,q.useState)(!1),[m,h]=(0,q.useState)([]),[x,p]=(0,q.useState)({quantityToRepair:0,repairStatus:"",notes:""}),f=e.filter(e=>e.items.some(e=>(e.quantityRemaining||e.quantity)>0)&&("open"===e.status||"in-repair"===e.status)).filter(e=>{if(!a)return!0;let t=a.toLowerCase();return e.orpNumber.toLowerCase().includes(t)||e.rcfNumber.toLowerCase().includes(t)||e.items.some(e=>e.scaffoldingItemName.toLowerCase().includes(t))}),g=e=>{switch(e){case"pending":default:return"bg-gray-100 text-gray-800";case"in-progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800"}};return(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsx)(ot,{children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsxs)("div",{className:"relative",children:[(0,z.jsx)(et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 size-4 text-gray-400"}),(0,z.jsx)(tN,{placeholder:"Search by ORP number, RCF number, or item name...",value:a,onChange:e=>n(e.target.value),className:"pl-10"})]})})}),0===f.length?(0,z.jsx)(ot,{children:(0,z.jsx)(on,{className:"pt-6 text-center text-gray-500",children:"No active repair slips found"})}):(0,z.jsx)("div",{className:"space-y-4",children:f.map(e=>(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsxs)("div",{className:"flex justify-between items-start",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)(os,{className:"text-[#231F20]",children:e.orpNumber}),(0,z.jsxs)("p",{className:"text-gray-600 text-sm mt-1",children:["RCF: ",e.rcfNumber]})]}),(0,z.jsxs)("div",{className:"flex gap-2",children:[(0,z.jsx)(cZ,{className:(e=>{switch(e){case"urgent":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(e.priority),children:e.priority}),(0,z.jsx)(cZ,{className:g(e.status),children:e.status})]})]})}),(0,z.jsxs)(on,{children:[(0,z.jsx)("div",{className:"space-y-3",children:e.items.map(t=>{let r=void 0!==t.quantityRemaining?t.quantityRemaining:t.quantity,s=t.quantityRepaired||0;return(0,z.jsxs)("div",{className:`border rounded-lg p-4 transition-colors ${0===r?"border-green-300 bg-green-50":"border-gray-200 hover:border-[#F15929]"}`,children:[(0,z.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsx)("h4",{className:"text-[#231F20]",children:t.scaffoldingItemName}),(0,z.jsxs)("p",{className:"text-gray-600 text-sm mt-1",children:["Total Qty: ",t.quantity," | Repaired: ",s," | Remaining: ",r]}),(0,z.jsxs)("p",{className:"text-gray-600 text-sm",children:["Damage: ",t.damageType," - ",t.damageDescription]})]}),(0,z.jsx)(cZ,{className:g(0===r?"completed":t.repairStatus),children:0===r?"COMPLETED":t.repairStatus.replace("-"," ").toUpperCase()})]}),(0,z.jsxs)("div",{className:"mt-3",children:[(0,z.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Repair Actions:"})," ",t.repairActions.join(", ")]}),t.repairDescription&&(0,z.jsxs)("p",{className:"text-sm text-gray-700 mt-1",children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Details:"})," ",t.repairDescription]})]}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[(0,z.jsxs)("div",{children:[(0,z.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Before Images (",t.beforeImages.length,")"]}),t.beforeImages.length>0&&(0,z.jsx)("div",{className:"grid grid-cols-2 gap-2",children:t.beforeImages.slice(0,2).map((e,t)=>(0,z.jsx)("img",{src:e,alt:`Before ${t+1}`,className:"w-full h-20 object-cover rounded border"},t))})]}),(0,z.jsxs)("div",{children:[(0,z.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["After Images (",t.afterImages.length,")"]}),t.afterImages.length>0&&(0,z.jsx)("div",{className:"grid grid-cols-2 gap-2",children:t.afterImages.slice(0,2).map((e,t)=>(0,z.jsx)("img",{src:e,alt:`After ${t+1}`,className:"w-full h-20 object-cover rounded border"},t))})]})]}),(0,z.jsx)("div",{className:"mt-4 flex justify-end",children:(0,z.jsxs)(tb,{variant:"outline",size:"sm",onClick:()=>{let r;return l(e),c(t),r=void 0!==t.quantityRemaining?t.quantityRemaining:t.quantity,void(t.quantityRepaired,p({quantityToRepair:r,repairStatus:t.repairStatus,notes:""}),h(t.afterImages||[]),u(!0))},className:"border-[#F15929] text-[#F15929] hover:bg-[#F15929] hover:text-white",children:[(0,z.jsx)(oo,{className:"size-4 mr-2"}),"Update Repair"]})})]},t.id)})}),(0,z.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.assignedTo&&(0,z.jsxs)("div",{children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Assigned To:"})," ",e.assignedTo]}),e.startDate&&(0,z.jsxs)("div",{children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Start Date:"})," ",new Date(e.startDate).toLocaleDateString()]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Estimated Cost:"})," RM ",e.estimatedCost.toFixed(2)]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Actual Cost:"})," RM ",e.actualCost.toFixed(2)]})]})})]})]},e.id))}),(0,z.jsx)(cQ,{open:d,onOpenChange:u,children:(0,z.jsxs)(c2,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,z.jsxs)(c4,{children:[(0,z.jsx)(c6,{children:"Update Repair Item"}),(0,z.jsx)(c3,{children:"Update the repair progress, upload completion photos, and update repair status"})]}),o&&(0,z.jsxs)("div",{className:"space-y-4 overflow-y-auto max-h-[60vh] pr-2",children:[(0,z.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,z.jsx)("h4",{className:"text-[#231F20]",children:o.scaffoldingItemName}),(0,z.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:o.damageDescription}),(0,z.jsxs)("p",{className:"text-gray-600 text-sm mt-1",children:["Total: ",o.quantity," | Repaired: ",o.quantityRepaired||0," | Remaining: ",void 0!==o.quantityRemaining?o.quantityRemaining:o.quantity]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Quantity to Repair *"}),(0,z.jsx)(tN,{type:"number",min:"1",max:void 0!==o.quantityRemaining?o.quantityRemaining:o.quantity,value:x.quantityToRepair,onChange:e=>p({...x,quantityToRepair:parseInt(e.target.value)||0})}),(0,z.jsxs)("p",{className:"text-sm text-gray-500",children:["Remaining quantity: ",void 0!==o.quantityRemaining?o.quantityRemaining:o.quantity]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Repair Status *"}),(0,z.jsxs)(cl,{value:x.repairStatus,onValueChange:e=>p({...x,repairStatus:e}),children:[(0,z.jsx)(cc,{children:(0,z.jsx)(co,{placeholder:"Select status"})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"pending",children:"Pending"}),(0,z.jsx)(cu,{value:"in-progress",children:"In Progress"}),(0,z.jsx)(cu,{value:"completed",children:"Completed"})]})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"After Repair Photos"}),(0,z.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[(0,z.jsx)(tN,{type:"file",accept:"image/*",multiple:!0,onChange:e=>{let t=e.target.files;t&&Array.from(t).forEach(e=>{let t=new FileReader;t.onloadend=()=>{h(e=>[...e,t.result])},t.readAsDataURL(e)})},className:"hidden",id:"repair-images"}),(0,z.jsxs)("label",{htmlFor:"repair-images",className:"cursor-pointer",children:[(0,z.jsx)(oo,{className:"size-8 mx-auto text-gray-400 mb-2"}),(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Click to upload repair completion photos"}),(0,z.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 10MB"})]})]}),m.length>0&&(0,z.jsx)("div",{className:"grid grid-cols-4 gap-3 mt-3",children:m.map((e,t)=>(0,z.jsxs)("div",{className:"relative group",children:[(0,z.jsx)("img",{src:e,alt:`Upload ${t+1}`,className:"w-full h-24 object-cover rounded border"}),(0,z.jsx)("button",{onClick:()=>{h(e=>e.filter((e,r)=>r!==t))},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,z.jsx)(ej,{className:"size-3"})})]},t))})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Notes (Optional)"}),(0,z.jsx)(dl,{value:x.notes,onChange:e=>p({...x,notes:e.target.value}),placeholder:"Add any notes about the repair...",rows:3})]})]}),(0,z.jsxs)(c5,{children:[(0,z.jsx)(tb,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),(0,z.jsxs)(tb,{onClick:()=>{if(!i||!o)return;let e=void 0!==o.quantityRemaining?o.quantityRemaining:o.quantity,a=o.quantityRepaired||0;if(x.quantityToRepair<=0)return void ld.error("Repair quantity must be greater than 0");if(x.quantityToRepair>e)return void ld.error(`Repair quantity cannot exceed remaining quantity (${e})`);if(!x.repairStatus)return void ld.error("Please select a repair status");let n="completed"===x.repairStatus?a+x.quantityToRepair:a,d="completed"===x.repairStatus?e-x.quantityToRepair:e,h=i.items.map(e=>e.id===o.id?{...e,quantityRepaired:n,quantityRemaining:d,repairStatus:x.repairStatus,afterImages:m,completedDate:"completed"===x.repairStatus&&0===d?new Date().toISOString():e.completedDate}:e),p=i.status,f=h.every(e=>0===(void 0!==e.quantityRemaining?e.quantityRemaining:e.quantity)),g=h.some(e=>"in-progress"===e.repairStatus);f?p="completed":g&&(p="in-repair"),t({...i,items:h,status:p,updatedAt:new Date().toISOString()}),"completed"===x.repairStatus&&r({id:`adj-${Date.now()}-${Math.random()}`,adjustmentType:"repair-completed",scaffoldingItemId:o.scaffoldingItemId,scaffoldingItemName:o.scaffoldingItemName,quantity:x.quantityToRepair,fromStatus:"under-repair",toStatus:"available",referenceId:i.orpNumber,referenceType:"repair-slip",adjustedBy:"Current User",adjustedAt:new Date().toISOString(),notes:x.notes||`Repaired ${x.quantityToRepair} units`}),ld.success("Repair item updated successfully"),u(!1),l(null),c(null),s&&s()},className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,z.jsx)(nQ,{className:"size-4 mr-2"}),"Save Update"]})]})]})})]})}function pL(){let[e,t]=(0,q.useState)("reports"),[r,s]=(0,q.useState)("list"),[a,n]=(0,q.useState)(""),[i,l]=(0,q.useState)(null),[o,c]=(0,q.useState)(null),[d,u]=(0,q.useState)([]),[m,h]=(0,q.useState)([]),[x,p]=(0,q.useState)([]),[f,g]=(0,q.useState)([]);(0,q.useEffect)(()=>{let e=localStorage.getItem("conditionReports"),t=localStorage.getItem("repairSlips"),r=localStorage.getItem("damageInvoices"),s=localStorage.getItem("inventoryAdjustments");e&&u(JSON.parse(e)),t&&h(JSON.parse(t)),r&&p(JSON.parse(r)),s&&g(JSON.parse(s))},[]);let v=(e,t)=>{let r=m.map(r=>{if(r.id===e){let e={...r,status:t,updatedAt:new Date().toISOString()};if("completed"===t){e.completionDate=new Date().toISOString();let t=r.items.filter(e=>"completed"===e.repairStatus).map(e=>({id:`adj-${Date.now()}-${Math.random()}`,adjustmentType:"repair-completed",scaffoldingItemId:e.scaffoldingItemId,scaffoldingItemName:e.scaffoldingItemName,quantity:e.quantity,fromStatus:"under-repair",toStatus:"available",referenceId:r.orpNumber,referenceType:"repair-slip",adjustedBy:"System",adjustedAt:new Date().toISOString(),notes:"Repair completed and items returned to inventory"}));if(t.length>0){let e=[...f,...t];g(e),localStorage.setItem("inventoryAdjustments",JSON.stringify(e))}}return e}return r});h(r),localStorage.setItem("repairSlips",JSON.stringify(r))},j={totalReports:d.length,pendingReports:d.filter(e=>"pending"===e.status).length,openRepairs:m.filter(e=>"open"===e.status||"in-repair"===e.status).length,completedRepairs:m.filter(e=>"completed"===e.status).length,totalRepairCost:m.reduce((e,t)=>e+t.actualCost,0),itemsUnderRepair:f.reduce((e,t)=>"under-repair"===t.toStatus?e+t.quantity:"under-repair"===t.fromStatus?e-t.quantity:e,0)};return"create-report"===r?(0,z.jsx)(pD,{report:i,onSave:e=>{let t;u(t=i?d.map(t=>t.id===e.id?e:t):[...d,e]),localStorage.setItem("conditionReports",JSON.stringify(t));let r=e.items.filter(e=>e.repairRequired).map(t=>({id:`adj-${Date.now()}-${Math.random()}`,adjustmentType:"damage-detected",scaffoldingItemId:t.scaffoldingItemId,scaffoldingItemName:t.scaffoldingItemName,quantity:t.quantityRepair,fromStatus:"available",toStatus:"under-repair",referenceId:e.rcfNumber,referenceType:"condition-report",adjustedBy:e.inspectedBy,adjustedAt:new Date().toISOString(),notes:t.damageDescription}));if(r.length>0){let e=[...f,...r];g(e),localStorage.setItem("inventoryAdjustments",JSON.stringify(e))}s("list")},onCancel:()=>{s("list"),l(null)}}):"view-repair"===r&&o?(0,z.jsx)(pE,{repairSlip:o,onBack:()=>s("list"),onUpdateStatus:v,onPrint:e=>{c(e),s("print-repair")}}):"create-repair"===r?(0,z.jsx)(pR,{repairSlip:o,onSave:e=>{let r,a=!o;h(r=o?m.map(t=>t.id===e.id?e:t):[...m,e]),localStorage.setItem("repairSlips",JSON.stringify(r)),a?(c(e),t("repairs"),s("view-repair")):s("list")},onCancel:()=>s("list"),conditionReport:i}):"print-repair"===r&&o?(0,z.jsx)(pO,{repairSlip:o,onClose:()=>s("list")}):"maintenance"===r?(0,z.jsxs)("div",{className:"p-6 space-y-6",children:[(0,z.jsxs)("div",{className:"flex justify-between items-center",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("h1",{className:"text-[#231F20]",children:"Maintenance Dashboard"}),(0,z.jsx)("p",{className:"text-gray-600",children:"Update repair progress and upload completion photos"})]}),(0,z.jsx)(tb,{variant:"outline",onClick:()=>s("list"),className:"border-[#F15929] text-[#F15929] hover:bg-[#F15929] hover:text-white",children:"Back to Inspection"})]}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsx)(os,{className:"text-sm text-gray-600",children:"Total Reports"})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"text-[#231F20]",children:j.totalReports})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsx)(os,{className:"text-sm text-gray-600",children:"Pending Inspection"})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"text-amber-600",children:j.pendingReports})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsx)(os,{className:"text-sm text-gray-600",children:"Open Repairs"})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"text-blue-600",children:j.openRepairs})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsx)(os,{className:"text-sm text-gray-600",children:"Completed"})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"text-green-600",children:j.completedRepairs})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsx)(os,{className:"text-sm text-gray-600",children:"Items in Repair"})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"text-[#231F20]",children:j.itemsUnderRepair})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsx)(os,{className:"text-sm text-gray-600",children:"Total Repair Cost"})}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"text-[#231F20]",children:["RM ",j.totalRepairCost.toFixed(2)]})})]})]}),(0,z.jsx)(p_,{repairSlips:m,onUpdateRepairSlip:e=>{let t=m.map(t=>t.id===e.id?e:t);h(t),localStorage.setItem("repairSlips",JSON.stringify(t))},onCreateInventoryLog:e=>{let t=[...f,e];g(t),localStorage.setItem("inventoryAdjustments",JSON.stringify(t))},onBackToInspection:()=>s("list")})]}):(0,z.jsxs)("div",{className:"p-6 space-y-6",children:[(0,z.jsxs)("div",{className:"flex justify-between items-center",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("h1",{className:"text-[#231F20]",children:"Inspection & Maintenance"}),(0,z.jsx)("p",{className:"text-gray-600",children:"Manage condition reports, repairs, and inventory adjustments"})]}),(0,z.jsxs)("div",{className:"flex gap-3",children:[(0,z.jsxs)(tb,{variant:"outline",onClick:()=>s("maintenance"),className:"border-[#F15929] text-[#F15929] hover:bg-[#F15929] hover:text-white",children:[(0,z.jsx)(pC,{className:"size-4 mr-2"}),"Maintenance Dashboard"]}),(0,z.jsxs)(tb,{onClick:()=>{l(null),s("create-report")},className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,z.jsx)(dm,{className:"size-4 mr-2"}),"New Condition Report"]})]})]}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsx)(os,{className:"text-sm text-gray-600",children:"Total Reports"})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"text-[#231F20]",children:j.totalReports})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsx)(os,{className:"text-sm text-gray-600",children:"Pending Inspection"})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"text-amber-600",children:j.pendingReports})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsx)(os,{className:"text-sm text-gray-600",children:"Open Repairs"})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"text-blue-600",children:j.openRepairs})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsx)(os,{className:"text-sm text-gray-600",children:"Completed"})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"text-green-600",children:j.completedRepairs})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsx)(os,{className:"text-sm text-gray-600",children:"Items in Repair"})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"text-[#231F20]",children:j.itemsUnderRepair})})]})]}),(0,z.jsx)(ot,{children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsxs)("div",{className:"relative",children:[(0,z.jsx)(et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 size-4 text-gray-400"}),(0,z.jsx)(tN,{placeholder:"Search by RCF number, DO number, or customer name...",value:a,onChange:e=>n(e.target.value),className:"pl-10"})]})})}),(0,z.jsxs)(hz,{value:e,onValueChange:t,children:[(0,z.jsxs)(hq,{className:"grid w-full grid-cols-4",children:[(0,z.jsxs)(hU,{value:"reports",children:[(0,z.jsx)(eh,{className:"size-4 mr-2"}),"Condition Reports"]}),(0,z.jsxs)(hU,{value:"repairs",children:[(0,z.jsx)(pC,{className:"size-4 mr-2"}),"Open Repair Slip"]}),(0,z.jsxs)(hU,{value:"invoices",children:[(0,z.jsx)(K,{className:"size-4 mr-2"}),"Damage Invoices"]}),(0,z.jsxs)(hU,{value:"adjustments",children:[(0,z.jsx)(K,{className:"size-4 mr-2"}),"Inventory Log"]})]}),(0,z.jsx)(h$,{value:"reports",className:"mt-6",children:(0,z.jsx)(pS,{reports:d,searchQuery:a,onEdit:e=>{l(e),s("create-report")},onCreateRepairSlip:e=>{e&&l(d.find(t=>t.id===e)||null),s("create-repair")},existingRepairSlips:m})}),(0,z.jsx)(h$,{value:"repairs",className:"mt-6",children:(0,z.jsx)(pP,{repairSlips:m,searchQuery:a,onView:e=>{c(e),s("view-repair")},onUpdateStatus:v,onGenerateDamageInvoice:e=>{let r=m.find(t=>t.id===e);if(!r)return void ld.error("Repair slip not found");let s=r.items.filter(e=>e.totalCost>0).map(e=>({id:`inv-item-${Date.now()}-${Math.random()}`,description:`${e.scaffoldingItemName} - ${e.damageDescription||"Damage repair"}`,quantity:e.quantity,unitPrice:e.quantity>0?e.totalCost/e.quantity:e.totalCost,total:e.totalCost}));if(0===s.length)return void ld.error("No items with repair costs found in this repair slip. Please ensure items have cost values.");let a=s.reduce((e,t)=>e+t.total,0),n=.06*a,i=a+n,l={id:`damage-inv-${Date.now()}`,invoiceNumber:`DI-${Date.now()}`,orpNumber:r.orpNumber,repairSlipId:r.id,invoiceDate:new Date().toISOString(),vendor:"",items:s,subtotal:a,tax:n,total:i,paymentStatus:"pending",notes:`Damage charges for items in repair slip: ${r.orpNumber}. Based on completed repairs.`,createdAt:new Date().toISOString(),createdFrom:"repair-slip"},o=m.map(t=>t.id===e?{...t,damageInvoiceId:l.id}:t);h(o),localStorage.setItem("repairSlips",JSON.stringify(o));let c=[...x,l];p(c),localStorage.setItem("damageInvoices",JSON.stringify(c)),ld.success(`Damage invoice ${l.invoiceNumber} generated successfully with RM ${i.toFixed(2)} total`),t("invoices")}})}),(0,z.jsx)(h$,{value:"invoices",className:"mt-6",children:(0,z.jsx)(pM,{invoices:x,searchQuery:a})}),(0,z.jsx)(h$,{value:"adjustments",className:"mt-6",children:(0,z.jsx)(pB,{adjustments:f,searchQuery:a,onViewReference:(e,r)=>{if("condition-report"===r){let r=d.find(t=>t.rcfNumber===e);r&&(l(r),s("create-report"),t("reports"))}else if("repair-slip"===r){let r=m.find(t=>t.orpNumber===e);r&&(c(r),s("view-repair"),t("repairs"))}}})})]})]})}function pz({delivery:e,onSave:t,onBack:r}){let s,[a,n]=(0,q.useState)(1),[i,l]=(0,q.useState)(e||{items:[],status:"pending",type:"delivery",createdBy:"Current User",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),[o,c]=(0,q.useState)(""),[d,u]=(0,q.useState)(),[m,h]=(0,q.useState)(""),[x,p]=(0,q.useState)([]),[f,g]=(0,q.useState)([]),[v,j]=(0,q.useState)(!1),[y,b]=(0,q.useState)("customer"),N=(0,q.useRef)(null),[w,C]=(0,q.useState)(!1),S=(0,q.useRef)(null),[D,P]=(0,q.useState)(!1),[k,E]=(0,q.useState)(""),[A,F]=(0,q.useState)(""),[R,O]=(0,q.useState)(""),[I,M]=(0,q.useState)(!1);(0,q.useEffect)(()=>{e&&(l(e),n({pending:1,packing_list_issued:2,stock_checked:3,packing_loading:4,in_transit:4,ready_for_pickup:4,completed:5}[e.status]||1),e.scheduledDate&&u(new Date(e.scheduledDate)),e.scheduledTimeSlot&&h(e.scheduledTimeSlot))},[e]);let T=(s=[{number:1,title:"Generate Packing List"},{number:2,title:"Check Stock"},{number:3,title:"Packing & Loading"}],"delivery"===i.type?[...s,{number:4,title:"In Transit & Sign"},{number:5,title:"Complete"}]:[...s,{number:4,title:"Ready & Sign"},{number:5,title:"Complete"}]),B=e=>{b(e),j(!0),setTimeout(()=>{let e=N.current;if(!e)return;let t=e.getContext("2d");t&&(t.strokeStyle="#231F20",t.lineWidth=2,t.lineCap="round",t.lineJoin="round")},100)},_=e=>{C(!0);let t=N.current;if(!t)return;let r=t.getBoundingClientRect(),s=t.getContext("2d");if(s)if(s.beginPath(),"touches"in e){let t=e.touches[0];s.moveTo(t.clientX-r.left,t.clientY-r.top)}else s.moveTo(e.clientX-r.left,e.clientY-r.top)},L=e=>{if(!w)return;let t=N.current;if(!t)return;let r=t.getBoundingClientRect(),s=t.getContext("2d");if(s){if("touches"in e){let t=e.touches[0];s.lineTo(t.clientX-r.left,t.clientY-r.top)}else s.lineTo(e.clientX-r.left,e.clientY-r.top);s.stroke()}},U=()=>{C(!1)},$=()=>{let e=N.current;if(!e)return;let t=e.getContext("2d");t&&t.clearRect(0,0,e.width,e.height)},V=()=>{S.current?.click()},W=e=>{let t=e.target.files;if(!t||0===t.length)return;let r=Array.from(t),s=0,n=[];r.forEach(e=>{if(!e.type.startsWith("image/"))return void ld.error(`${e.name} is not an image file`);if(e.size>5242880)return void ld.error(`${e.name} is too large (max 5MB)`);let t=new FileReader;t.onload=e=>{let t=e.target?.result;n.push(t),++s===r.length&&(3===a?(p([...x,...n]),ld.success(`${n.length} photo(s) uploaded`)):4===a&&(g([...f,...n]),ld.success(`${n.length} photo(s) uploaded`)))},t.onerror=()=>{ld.error(`Failed to read ${e.name}`)},t.readAsDataURL(e)}),e.target.value=""},H=(e,t)=>{"packing"===t?p(x.filter((t,r)=>r!==e)):g(f.filter((t,r)=>r!==e)),ld.success("Photo removed")};return(0,z.jsxs)("div",{className:"p-6 space-y-6",children:[(0,z.jsxs)("div",{className:"flex items-center gap-4",children:[(0,z.jsx)(tb,{variant:"outline",onClick:r,children:(0,z.jsx)(lC,{className:"size-4"})}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h1",{className:"text-[#231F20]",children:e?`Process ${"delivery"===i.type?"Delivery":"Pickup"} - ${e.doNumber}`:`New ${"delivery"===i.type?"Delivery":"Pickup"} Order`}),(0,z.jsxs)("p",{className:"text-gray-600",children:["Follow the workflow to complete the ",i.type]})]})]}),(0,z.jsx)(ot,{children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsx)("div",{className:"flex items-center justify-between",children:T.map((e,t)=>(0,z.jsxs)("div",{className:"flex items-center",children:[(0,z.jsxs)("div",{className:"flex flex-col items-center",children:[(0,z.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${a>e.number?"bg-green-500 text-white":a===e.number?"bg-[#F15929] text-white":"bg-gray-200 text-gray-600"}`,children:a>e.number?(0,z.jsx)(nQ,{className:"size-5"}):e.number}),(0,z.jsx)("span",{className:"text-xs text-center mt-2 max-w-24",children:e.title})]}),t<T.length-1&&(0,z.jsx)("div",{className:`h-0.5 w-12 mx-2 ${a>e.number?"bg-green-500":"bg-gray-200"}`})]},e.number))})})}),1===a&&(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsxs)(os,{className:"flex items-center gap-2",children:[(0,z.jsx)(eh,{className:"size-5 text-[#F15929]"}),"Step 1: Generate Packing List"]})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsxs)("p",{className:"text-gray-600",children:["Generate a packing list for the items to be ","delivery"===i.type?"delivered":"picked up","."]}),i.items&&i.items.length>0?(0,z.jsx)("div",{className:"space-y-3",children:i.items.map(e=>(0,z.jsx)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsx)("p",{className:"text-[#231F20]",children:e.scaffoldingItemName}),(0,z.jsxs)("p",{className:"text-sm text-gray-500",children:["Quantity: ",e.quantity," ",e.unit]})]})},e.id))}):(0,z.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,z.jsx)(ej,{className:"size-12 text-gray-400 mx-auto mb-4"}),(0,z.jsx)("p",{children:"No items found. Please add items first."})]}),(0,z.jsxs)(tb,{onClick:()=>{if(!i.items||0===i.items.length)return void ld.error("No items to pack");let e=`PL-${Date.now().toString().slice(-8)}`;l({...i,packingListNumber:e,packingListDate:new Date().toISOString(),status:"packing_list_issued",updatedAt:new Date().toISOString()}),ld.success(`Packing list ${e} generated`),n(2)},className:"bg-[#F15929] hover:bg-[#d94d1f] w-full",disabled:!i.items||0===i.items.length,children:[(0,z.jsx)(K,{className:"size-4 mr-2"}),"Generate Packing List"]})]})]}),2===a&&(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsxs)(os,{className:"flex items-center gap-2",children:[(0,z.jsx)(ex,{className:"size-5 text-[#F15929]"}),"Step 2: Check Stock"]})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsx)("p",{className:"text-gray-600",children:"Verify that all items are available in stock."}),(0,z.jsx)("div",{className:"space-y-3",children:i.items?.map(e=>(0,z.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsx)("p",{className:"text-[#231F20]",children:e.scaffoldingItemName}),(0,z.jsxs)("p",{className:"text-sm text-gray-500",children:["Required: ",e.quantity," ",e.unit]})]}),(0,z.jsxs)("div",{className:"text-right",children:[(0,z.jsxs)("p",{className:"text-[#231F20]",children:["Available: ",e.availableStock," ",e.unit]}),e.availableStock>=e.quantity?(0,z.jsxs)(cZ,{className:"bg-green-100 text-green-800 mt-1",children:[(0,z.jsx)(nQ,{className:"size-3 mr-1"}),"In Stock"]}):(0,z.jsxs)(cZ,{className:"bg-red-100 text-red-800 mt-1",children:[(0,z.jsx)(ej,{className:"size-3 mr-1"}),"Insufficient"]})]})]},e.id))}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Stock Check Notes"}),(0,z.jsx)(dl,{value:o,onChange:e=>c(e.target.value),placeholder:"Enter any notes about stock availability...",rows:3})]}),(0,z.jsxs)(tb,{onClick:()=>{if(!i.items||0===i.items.length)return void ld.error("No items to check");let e=i.items?.every(e=>e.availableStock>=e.quantity);l({...i,stockCheckDate:new Date().toISOString(),stockCheckBy:"Current User",stockCheckNotes:o,allItemsAvailable:e,status:"stock_checked",updatedAt:new Date().toISOString()}),e||ld.warning("Some items have insufficient stock. Please proceed with caution."),ld.success("Stock check completed successfully"),n(3)},className:"bg-[#F15929] hover:bg-[#d94d1f] w-full",children:[(0,z.jsx)(nQ,{className:"size-4 mr-2"}),"Complete Stock Check"]})]})]}),3===a&&(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsxs)(os,{className:"flex items-center gap-2",children:[(0,z.jsx)(eo,{className:"size-5 text-[#F15929]"}),"Step 3: Packing & Loading to Lorry"]})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsxs)("p",{className:"text-gray-600",children:["Pack items and load them ","delivery"===i.type?"onto the delivery vehicle":"for customer pickup","."]}),(0,z.jsxs)("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[(0,z.jsxs)("p",{className:"text-sm text-amber-800 mb-2",children:[(0,z.jsx)(Z,{className:"size-4 inline mr-1"}),"Scheduled ","delivery"===i.type?"Delivery":"Pickup"," Date & Time (Auto-filled from request)"]}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("span",{className:"text-xs text-gray-600",children:"Date:"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:d?uq(d,"PPP"):"Not set"})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("span",{className:"text-xs text-gray-600",children:"Time Slot:"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:m||"Not set"})]})]})]}),"delivery"===i.type&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Driver Name"}),(0,z.jsx)(tN,{value:i.driverName||"",onChange:e=>l({...i,driverName:e.target.value}),placeholder:"Enter driver name"})]}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Driver Contact"}),(0,z.jsx)(tN,{value:i.driverContact||"",onChange:e=>l({...i,driverContact:e.target.value}),placeholder:"+60 12-345-6789"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Vehicle Number"}),(0,z.jsx)(tN,{value:i.vehicleNumber||"",onChange:e=>l({...i,vehicleNumber:e.target.value}),placeholder:"ABC 1234"})]})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Packing Photos (Optional)"}),(0,z.jsxs)(tb,{variant:"outline",onClick:V,className:"w-full",children:[(0,z.jsx)(oo,{className:"size-4 mr-2"}),"Upload Photos"]}),(0,z.jsx)("input",{ref:S,type:"file",accept:"image/*",multiple:!0,onChange:W,className:"hidden"}),x.length>0&&(0,z.jsx)("div",{className:"grid grid-cols-3 gap-2 mt-2",children:x.map((e,t)=>(0,z.jsxs)("div",{className:"relative",children:[(0,z.jsx)("img",{src:e,alt:`Packing ${t+1}`,className:"w-full h-24 object-cover rounded"}),(0,z.jsx)(tb,{variant:"destructive",size:"sm",className:"absolute top-1 right-1 size-6 p-0",onClick:()=>H(t,"packing"),children:(0,z.jsx)(ea,{className:"size-3"})})]},t))})]}),(0,z.jsxs)("div",{className:"flex gap-2",children:["packing_loading"!==i.status&&(0,z.jsx)(tb,{onClick:()=>{d&&m?(l({...i,scheduledDate:d.toISOString(),scheduledTimeSlot:m,packingStartedAt:new Date().toISOString(),packingStartedBy:"Current User",status:"packing_loading",updatedAt:new Date().toISOString()}),ld.success("Packing started")):ld.error("Please select delivery/pickup date and time slot")},variant:"outline",className:"flex-1",children:"Start Packing"}),(0,z.jsxs)(tb,{onClick:()=>{if("delivery"===i.type&&(!i.driverName||!i.vehicleNumber))return void ld.error("Please enter driver and vehicle details");let e="delivery"===i.type?"in_transit":"ready_for_pickup";l({...i,loadingCompletedAt:new Date().toISOString(),loadingCompletedBy:"Current User",packingPhotos:x,status:e,dispatchedAt:"delivery"===i.type?new Date().toISOString():void 0,updatedAt:new Date().toISOString()}),"delivery"===i.type?ld.success("Items loaded and dispatched for delivery"):ld.success("Items packed and ready for customer pickup"),n(4)},className:"bg-[#F15929] hover:bg-[#d94d1f] flex-1",disabled:!d||!m||"delivery"===i.type&&(!i.driverName||!i.vehicleNumber),children:[(0,z.jsx)(nQ,{className:"size-4 mr-2"}),"Complete Loading"]})]})]})]}),4===a&&(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsxs)(os,{className:"flex items-center gap-2",children:[(0,z.jsx)(ef,{className:"size-5 text-[#F15929]"}),"Step 4: ","delivery"===i.type?"In Transit - Customer Sign & OTP":"Ready for Pickup - Customer Sign & OTP"]})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsx)("p",{className:"text-gray-600",children:"delivery"===i.type?"Items are on the way. Customer needs to sign and verify OTP upon receiving goods.":"Items are ready for pickup. Customer needs to sign and verify OTP when collecting goods."}),"delivery"===i.type&&(0,z.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,z.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,z.jsx)(eo,{className:"size-5 text-blue-600"}),(0,z.jsx)("span",{className:"text-blue-900",children:"In Transit"})]}),(0,z.jsxs)("div",{className:"text-sm text-blue-700",children:[(0,z.jsxs)("p",{children:["Driver: ",i.driverName]}),(0,z.jsxs)("p",{children:["Vehicle: ",i.vehicleNumber]}),(0,z.jsxs)("p",{children:["Contact: ",i.driverContact]})]})]}),"pickup"===i.type&&(0,z.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,z.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,z.jsx)(ex,{className:"size-5 text-green-600"}),(0,z.jsx)("span",{className:"text-green-900",children:"Ready for Pickup"})]}),(0,z.jsxs)("div",{className:"text-sm text-green-700",children:[(0,z.jsx)("p",{children:"Items are packed and ready at warehouse"}),(0,z.jsxs)("p",{children:["Pickup Time: ",d&&uq(new Date(d),"PPP")," ",m]})]})]}),(0,z.jsx)("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#231F20] mb-1",children:"Delivery Order Document"}),(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Share DO with customer for verification"})]}),(0,z.jsxs)(tb,{variant:"outline",size:"sm",onClick:()=>{ld.info("Generating DO preview..."),setTimeout(()=>{ld.success("DO preview generated. Share this with customer."),M(!0)},1e3)},children:[(0,z.jsx)(K,{className:"size-4 mr-2"}),"View DO"]})]})}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"delivery"===i.type?"Delivery Photos (Optional)":"Pickup Photos (Optional)"}),(0,z.jsxs)(tb,{variant:"outline",onClick:V,className:"w-full",children:[(0,z.jsx)(oo,{className:"size-4 mr-2"}),"Upload Photos"]}),(0,z.jsx)("input",{ref:S,type:"file",accept:"image/*",multiple:!0,onChange:W,className:"hidden"}),f.length>0&&(0,z.jsx)("div",{className:"grid grid-cols-3 gap-2 mt-2",children:f.map((e,t)=>(0,z.jsxs)("div",{className:"relative",children:[(0,z.jsx)("img",{src:e,alt:`Delivery ${t+1}`,className:"w-full h-24 object-cover rounded"}),(0,z.jsx)(tb,{variant:"destructive",size:"sm",className:"absolute top-1 right-1 size-6 p-0",onClick:()=>H(t,"delivery"),children:(0,z.jsx)(ea,{className:"size-3"})})]},t))})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Customer Name"}),(0,z.jsx)(tN,{value:R,onChange:e=>O(e.target.value),placeholder:"Enter customer name"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Customer Signature"}),i.customerSignature?(0,z.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,z.jsx)("img",{src:i.customerSignature,alt:"Signature",className:"max-h-32"}),(0,z.jsx)(tb,{variant:"outline",size:"sm",onClick:()=>B("customer"),className:"mt-2",children:"Change Signature"})]}):(0,z.jsxs)(tb,{variant:"outline",onClick:()=>B("customer"),className:"w-full",children:[(0,z.jsx)(ef,{className:"size-4 mr-2"}),"Capture Customer Signature"]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"OTP Verification"}),D?(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded",children:(0,z.jsxs)("p",{className:"text-sm text-green-800",children:[(0,z.jsx)(lX,{className:"size-4 inline mr-1"}),"OTP sent: ",(0,z.jsx)("strong",{children:A})]})}),(0,z.jsx)(tN,{value:k,onChange:e=>E(e.target.value),placeholder:"Enter 6-digit OTP",maxLength:6}),(0,z.jsxs)(tb,{onClick:()=>{k!==A?ld.error("Invalid OTP. Please try again."):i.customerSignature?(l({...i,deliveredAt:new Date().toISOString(),customerAcknowledgedAt:new Date().toISOString(),customerSignature:i.customerSignature,customerSignedBy:R,customerOTP:A,verifiedOTP:!0,deliveryPhotos:f,status:"completed",inventoryUpdatedAt:new Date().toISOString(),inventoryStatus:"Rental",updatedAt:new Date().toISOString()}),ld.success("OTP verified and delivery completed!"),n(5)):ld.error("Customer signature required")},className:"bg-[#F15929] hover:bg-[#d94d1f] w-full",disabled:6!==k.length||!i.customerSignature,children:[(0,z.jsx)(nQ,{className:"size-4 mr-2"}),"Verify OTP & Complete"]})]}):(0,z.jsxs)(tb,{variant:"outline",onClick:()=>{if(!R)return void ld.error("Please enter customer name");let e=Math.floor(1e5+9e5*Math.random()).toString();F(e),P(!0),ld.success(`OTP sent to customer: ${e}`)},className:"w-full",disabled:!R,children:[(0,z.jsx)(cp,{className:"size-4 mr-2"}),"Send OTP to Customer"]})]})]})]}),5===a&&(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsxs)(os,{className:"flex items-center gap-2",children:[(0,z.jsx)(lX,{className:"size-5 text-green-600"}),"delivery"===i.type?"Delivery":"Pickup"," Completed"]})}),(0,z.jsx)(on,{className:"space-y-4",children:(0,z.jsxs)("div",{className:"text-center py-8",children:[(0,z.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-100 mb-4",children:(0,z.jsx)(lX,{className:"size-8 text-green-600"})}),(0,z.jsx)("h3",{className:"text-[#231F20] mb-2",children:"Successfully Completed!"}),(0,z.jsx)("p",{className:"text-gray-600 mb-6",children:"Customer has signed and OTP verified. Inventory has been updated."}),(0,z.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-left space-y-2 mb-6",children:[(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-gray-600",children:"DO Number:"}),(0,z.jsx)("span",{className:"text-[#231F20]",children:i.doNumber})]}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Customer:"}),(0,z.jsx)("span",{className:"text-[#231F20]",children:R})]}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Completed At:"}),(0,z.jsx)("span",{className:"text-[#231F20]",children:i.customerAcknowledgedAt&&uq(new Date(i.customerAcknowledgedAt),"PPp")})]}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-gray-600",children:"OTP Verified:"}),(0,z.jsxs)(cZ,{className:"bg-green-100 text-green-800",children:[(0,z.jsx)(lX,{className:"size-3 mr-1"}),"Yes"]})]})]}),(0,z.jsxs)(tb,{onClick:()=>{ld.success("Delivery process completed successfully"),setTimeout(()=>{t(i)},500)},className:"bg-[#F15929] hover:bg-[#d94d1f] w-full",children:[(0,z.jsx)(dk,{className:"size-4 mr-2"}),"Save & Return to List"]})]})})]}),(0,z.jsx)(cQ,{open:v,onOpenChange:j,children:(0,z.jsxs)(c2,{className:"max-w-2xl",children:[(0,z.jsxs)(c4,{children:[(0,z.jsxs)(c6,{children:["driver"===y?"Driver":"Customer"," Signature"]}),(0,z.jsxs)(c3,{children:["Please have the ",y," sign below using mouse or touch"]})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)("div",{className:"border-2 border-gray-300 rounded-lg",children:(0,z.jsx)("canvas",{ref:N,width:600,height:300,className:"w-full cursor-crosshair",onMouseDown:_,onMouseMove:L,onMouseUp:U,onMouseLeave:U,onTouchStart:_,onTouchMove:L,onTouchEnd:U})}),(0,z.jsxs)("div",{className:"flex gap-2",children:[(0,z.jsxs)(tb,{variant:"outline",onClick:$,className:"flex-1",children:[(0,z.jsx)(ea,{className:"size-4 mr-2"}),"Clear"]}),(0,z.jsxs)(tb,{onClick:()=>{let e=N.current;if(!e)return;let t=e.getContext("2d");if(!t)return;if(!t.getImageData(0,0,e.width,e.height).data.some(e=>0!==e))return void ld.error("Please draw your signature before saving");let r=e.toDataURL();"customer"===y?(l({...i,customerSignature:r}),ld.success("Customer signature saved")):"driver"===y&&(l({...i,driverSignature:r}),ld.success("Driver signature saved")),j(!1),$()},className:"flex-1 bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,z.jsx)(nQ,{className:"size-4 mr-2"}),"Save Signature"]})]})]})]})}),(0,z.jsx)(cQ,{open:I,onOpenChange:M,children:(0,z.jsxs)(c2,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,z.jsxs)(c4,{children:[(0,z.jsxs)(c6,{children:["Delivery Order - ",i.doNumber]}),(0,z.jsx)(c3,{children:"Delivery Order document for customer verification"})]}),(0,z.jsxs)("div",{className:"space-y-6 p-6 bg-white border rounded-lg",children:[(0,z.jsxs)("div",{className:"text-center border-b-2 border-[#F15929] pb-4",children:[(0,z.jsx)("h2",{className:"text-[#231F20] mb-1",children:"Power Metal & Steel"}),(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Scaffolding Rental & Sales"}),(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Tel: +60 3-1234 5678 | Email: info@powermetalsteel.com"})]}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("h3",{className:"text-[#F15929] mb-2",children:"DELIVERY ORDER"}),(0,z.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,z.jsxs)("p",{children:[(0,z.jsx)("strong",{children:"DO Number:"})," ",i.doNumber]}),(0,z.jsxs)("p",{children:[(0,z.jsx)("strong",{children:"Date:"})," ",i.packingListDate&&uq(new Date(i.packingListDate),"PP")]}),(0,z.jsxs)("p",{children:[(0,z.jsx)("strong",{children:"Order ID:"})," ",i.orderId]}),(0,z.jsxs)("p",{children:[(0,z.jsx)("strong",{children:"Agreement ID:"})," ",i.agreementId]})]})]}),(0,z.jsx)("div",{className:"text-right",children:(0,z.jsx)(cZ,{className:"delivery"===i.type?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800",children:"delivery"===i.type?"DELIVERY":"PICKUP"})})]}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("h4",{className:"text-[#231F20] mb-2",children:"Customer Details"}),(0,z.jsxs)("p",{className:"text-sm",children:[(0,z.jsx)("strong",{children:"Name:"})," ",i.customerName]}),(0,z.jsxs)("p",{className:"text-sm",children:[(0,z.jsx)("strong",{children:"Contact:"})," ",i.customerContact]}),(0,z.jsxs)("p",{className:"text-sm",children:[(0,z.jsx)("strong",{children:"Address:"})," ",i.customerAddress]})]}),(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsxs)("h4",{className:"text-[#231F20] mb-2",children:["delivery"===i.type?"Delivery":"Pickup"," Location"]}),(0,z.jsx)("p",{className:"text-sm",children:i.siteAddress}),d&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("p",{className:"text-sm",children:[(0,z.jsx)("strong",{children:"Date:"})," ",uq(d,"PPP")]}),(0,z.jsxs)("p",{className:"text-sm",children:[(0,z.jsx)("strong",{children:"Time:"})," ",m]})]})]})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h4",{className:"text-[#231F20] mb-2",children:"Items"}),(0,z.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,z.jsxs)("table",{className:"w-full text-sm",children:[(0,z.jsx)("thead",{className:"bg-gray-50",children:(0,z.jsxs)("tr",{children:[(0,z.jsx)("th",{className:"text-left p-3 border-b",children:"#"}),(0,z.jsx)("th",{className:"text-left p-3 border-b",children:"Description"}),(0,z.jsx)("th",{className:"text-right p-3 border-b",children:"Quantity"}),(0,z.jsx)("th",{className:"text-right p-3 border-b",children:"Unit"})]})}),(0,z.jsx)("tbody",{children:i.items?.map((e,t)=>(0,z.jsxs)("tr",{className:"border-b last:border-0",children:[(0,z.jsx)("td",{className:"p-3",children:t+1}),(0,z.jsx)("td",{className:"p-3",children:e.scaffoldingItemName}),(0,z.jsx)("td",{className:"p-3 text-right",children:e.quantity}),(0,z.jsx)("td",{className:"p-3 text-right",children:e.unit})]},e.id))})]})})]}),"delivery"===i.type&&i.driverName&&(0,z.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,z.jsx)("h4",{className:"text-[#231F20] mb-2",children:"Driver Information"}),(0,z.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-600",children:"Driver Name"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:i.driverName})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-600",children:"Contact"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:i.driverContact})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-600",children:"Vehicle"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:i.vehicleNumber})]})]})]}),(0,z.jsxs)("div",{className:"text-xs text-gray-600 space-y-1 border-t pt-4",children:[(0,z.jsx)("p",{className:"text-[#231F20] mb-2",children:(0,z.jsx)("strong",{children:"Terms and Conditions:"})}),(0,z.jsxs)("p",{children:["1. Please inspect all items upon ","delivery"===i.type?"delivery":"pickup"," and report any discrepancies immediately."]}),(0,z.jsx)("p",{children:"2. Customer signature and OTP verification required to complete this order."}),(0,z.jsx)("p",{children:"3. All rental items must be returned in good condition as per the rental agreement."}),(0,z.jsx)("p",{children:"4. Late returns may be subject to additional charges as per agreement terms."})]}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-8 pt-6 border-t",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Prepared By"}),(0,z.jsxs)("div",{className:"border-t border-gray-300 pt-2 mt-8",children:[(0,z.jsx)("p",{className:"text-sm text-[#231F20]",children:i.createdBy}),(0,z.jsx)("p",{className:"text-xs text-gray-500",children:"Power Metal & Steel"})]})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Received By (Customer)"}),(0,z.jsxs)("div",{className:"border-t border-gray-300 pt-2 mt-8",children:[(0,z.jsx)("p",{className:"text-sm text-[#231F20]",children:"_______________________"}),(0,z.jsx)("p",{className:"text-xs text-gray-500",children:"Name & Signature"})]})]})]}),(0,z.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,z.jsxs)(tb,{variant:"outline",className:"flex-1",onClick:()=>{window.print(),ld.success("Print dialog opened")},children:[(0,z.jsx)(cY,{className:"size-4 mr-2"}),"Print DO"]}),(0,z.jsx)(tb,{className:"flex-1 bg-[#F15929] hover:bg-[#d94d1f]",onClick:()=>M(!1),children:"Close"})]})]})]})}),(0,z.jsx)("input",{ref:S,type:"file",accept:"image/*",multiple:!0,onChange:W,className:"hidden"})]})}function pq({delivery:e,onProcess:t,onBack:r}){return(0,z.jsxs)("div",{className:"p-6 space-y-6",children:[(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsxs)("div",{className:"flex items-center gap-4",children:[(0,z.jsx)(tb,{variant:"outline",onClick:r,children:(0,z.jsx)(lC,{className:"size-4"})}),(0,z.jsxs)("div",{children:[(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)("h1",{className:"text-[#231F20]",children:e.doNumber}),(e=>{let t={pending:{bg:"bg-gray-100",text:"text-gray-800",label:"Pending"},stock_checked:{bg:"bg-blue-100",text:"text-blue-800",label:"Stock Checked"},packing_list_issued:{bg:"bg-cyan-100",text:"text-cyan-800",label:"Packing List Issued"},schedule_confirmed:{bg:"bg-purple-100",text:"text-purple-800",label:"Scheduled"},packing:{bg:"bg-amber-100",text:"text-amber-800",label:"Packing"},loaded:{bg:"bg-orange-100",text:"text-orange-800",label:"Loaded"},do_issued:{bg:"bg-indigo-100",text:"text-indigo-800",label:"DO Issued"},driver_acknowledged:{bg:"bg-violet-100",text:"text-violet-800",label:"Driver Acknowledged"},in_transit:{bg:"bg-yellow-100",text:"text-yellow-800",label:"In Transit"},delivered:{bg:"bg-lime-100",text:"text-lime-800",label:"Delivered"},customer_acknowledged:{bg:"bg-teal-100",text:"text-teal-800",label:"Customer Acknowledged"},completed:{bg:"bg-green-100",text:"text-green-800",label:"Completed"}}[e];if(!t)return(0,z.jsx)(cZ,{className:"bg-gray-100 text-gray-800",children:e||"Unknown"});let{bg:r,text:s,label:a}=t;return(0,z.jsx)(cZ,{className:`${r} ${s}`,children:a})})(e.status)]}),(0,z.jsxs)("p",{className:"text-gray-600",children:["Order ID: ",e.orderId]})]})]}),"completed"!==e.status&&(0,z.jsx)(tb,{onClick:t,className:"bg-[#F15929] hover:bg-[#d94d1f]",children:"Continue Processing"})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{children:"Customer Information"})}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(xU,{className:"size-5 text-gray-400 mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Customer Name"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.customerName})]})]}),(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(cp,{className:"size-5 text-gray-400 mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Contact"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.customerContact})]})]}),(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(hb,{className:"size-5 text-gray-400 mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Customer Address"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.customerAddress})]})]}),(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(hb,{className:"size-5 text-gray-400 mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Delivery Site Address"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.siteAddress})]})]})]})})]}),e.scheduledDate&&(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{children:"Schedule Information"})}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(Z,{className:"size-5 text-gray-400 mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Scheduled Date"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:new Date(e.scheduledDate).toLocaleDateString()})]})]}),(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(od,{className:"size-5 text-gray-400 mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Time Slot"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.scheduledTimeSlot})]})]}),e.scheduleConfirmedBy&&(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(lX,{className:"size-5 text-gray-400 mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Confirmed By"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.scheduleConfirmedBy})]})]})]})})]}),e.driverName&&(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{children:"Driver & Vehicle Information"})}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(xU,{className:"size-5 text-gray-400 mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Driver Name"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.driverName})]})]}),(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(cp,{className:"size-5 text-gray-400 mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Driver Contact"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.driverContact})]})]}),(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(eo,{className:"size-5 text-gray-400 mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"Vehicle Number"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.vehicleNumber})]})]})]})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{children:"Delivery Items"})}),(0,z.jsx)(on,{children:(0,z.jsxs)(c8,{children:[(0,z.jsx)(c7,{children:(0,z.jsxs)(de,{children:[(0,z.jsx)(dt,{className:"w-12",children:"#"}),(0,z.jsx)(dt,{children:"Item Description"}),(0,z.jsx)(dt,{className:"text-right",children:"Quantity"}),(0,z.jsx)(dt,{className:"text-right",children:"Unit"}),(0,z.jsx)(dt,{className:"text-right",children:"Available Stock"})]})}),(0,z.jsx)(c9,{children:e.items.map((e,t)=>(0,z.jsxs)(de,{children:[(0,z.jsx)(dr,{children:t+1}),(0,z.jsx)(dr,{children:(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#231F20]",children:e.scaffoldingItemName}),e.dimensions&&(0,z.jsx)("p",{className:"text-sm text-gray-500",children:e.dimensions}),e.weight&&(0,z.jsxs)("p",{className:"text-sm text-gray-500",children:["Weight: ",e.weight]})]})}),(0,z.jsx)(dr,{className:"text-right",children:e.quantity}),(0,z.jsx)(dr,{className:"text-right",children:e.unit}),(0,z.jsx)(dr,{className:"text-right",children:(0,z.jsx)(cZ,{className:e.availableStock>=e.quantity?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:e.availableStock})})]},e.id))})]})})]}),e.packingPhotos&&e.packingPhotos.length>0&&(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsxs)(os,{className:"flex items-center gap-2",children:[(0,z.jsx)(dA,{className:"size-5"}),"Packing Photos"]})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.packingPhotos.map((e,t)=>(0,z.jsxs)("div",{className:"relative group",children:[(0,z.jsx)("img",{src:e,alt:`Packing ${t+1}`,className:"w-full h-32 object-cover rounded-lg border"}),(0,z.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity rounded-lg flex items-center justify-center",children:(0,z.jsx)(tb,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 text-white",onClick:()=>window.open(e,"_blank"),children:"View"})})]},t))})})]}),e.deliveryPhotos&&e.deliveryPhotos.length>0&&(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsxs)(os,{className:"flex items-center gap-2",children:[(0,z.jsx)(dA,{className:"size-5"}),"Delivery Photos"]})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.deliveryPhotos.map((e,t)=>(0,z.jsxs)("div",{className:"relative group",children:[(0,z.jsx)("img",{src:e,alt:`Delivery ${t+1}`,className:"w-full h-32 object-cover rounded-lg border"}),(0,z.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity rounded-lg flex items-center justify-center",children:(0,z.jsx)(tb,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 text-white",onClick:()=>window.open(e,"_blank"),children:"View"})})]},t))})})]}),(e.driverSignature||e.customerSignature)&&(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{children:"Signatures"})}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.driverSignature&&(0,z.jsxs)("div",{children:[(0,z.jsx)("h4",{className:"text-sm text-gray-500 mb-2",children:"Driver Signature"}),(0,z.jsx)("img",{src:e.driverSignature,alt:"Driver signature",className:"border rounded-lg p-4 bg-white w-full"}),e.driverAcknowledgedAt&&(0,z.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Signed: ",new Date(e.driverAcknowledgedAt).toLocaleString()]})]}),e.customerSignature&&(0,z.jsxs)("div",{children:[(0,z.jsx)("h4",{className:"text-sm text-gray-500 mb-2",children:"Customer Signature"}),(0,z.jsx)("img",{src:e.customerSignature,alt:"Customer signature",className:"border rounded-lg p-4 bg-white w-full"}),(0,z.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:e.customerSignedBy}),e.customerAcknowledgedAt&&(0,z.jsxs)("p",{className:"text-sm text-gray-500",children:["Signed: ",new Date(e.customerAcknowledgedAt).toLocaleString()]})]})]})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{children:"Workflow Timeline"})}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"space-y-4",children:[e.stockCheckDate&&(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500 mt-2"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#231F20]",children:"Stock Checked"}),(0,z.jsxs)("p",{className:"text-sm text-gray-500",children:[new Date(e.stockCheckDate).toLocaleString(),"  ",e.stockCheckBy]}),e.stockCheckNotes&&(0,z.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.stockCheckNotes})]})]}),e.packingListDate&&(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)("div",{className:"w-2 h-2 rounded-full bg-cyan-500 mt-2"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#231F20]",children:"Packing List Issued"}),(0,z.jsxs)("p",{className:"text-sm text-gray-500",children:[new Date(e.packingListDate).toLocaleString(),"  ",e.packingListNumber]})]})]}),e.scheduleConfirmedAt&&(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)("div",{className:"w-2 h-2 rounded-full bg-purple-500 mt-2"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#231F20]",children:"Schedule Confirmed"}),(0,z.jsxs)("p",{className:"text-sm text-gray-500",children:[new Date(e.scheduleConfirmedAt).toLocaleString(),"  ",e.scheduleConfirmedBy]})]})]}),e.loadingCompletedAt&&(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)("div",{className:"w-2 h-2 rounded-full bg-orange-500 mt-2"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#231F20]",children:"Loading Completed"}),(0,z.jsxs)("p",{className:"text-sm text-gray-500",children:[new Date(e.loadingCompletedAt).toLocaleString(),"  ",e.loadingCompletedBy]})]})]}),e.doIssuedAt&&(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)("div",{className:"w-2 h-2 rounded-full bg-indigo-500 mt-2"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#231F20]",children:"Delivery Order Issued"}),(0,z.jsxs)("p",{className:"text-sm text-gray-500",children:[new Date(e.doIssuedAt).toLocaleString(),"  ",e.doIssuedBy]})]})]}),e.dispatchedAt&&(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)("div",{className:"w-2 h-2 rounded-full bg-yellow-500 mt-2"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#231F20]",children:"Dispatched"}),(0,z.jsx)("p",{className:"text-sm text-gray-500",children:new Date(e.dispatchedAt).toLocaleString()})]})]}),e.deliveredAt&&(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)("div",{className:"w-2 h-2 rounded-full bg-lime-500 mt-2"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#231F20]",children:"Delivered"}),(0,z.jsx)("p",{className:"text-sm text-gray-500",children:new Date(e.deliveredAt).toLocaleString()})]})]}),e.customerAcknowledgedAt&&(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)("div",{className:"w-2 h-2 rounded-full bg-teal-500 mt-2"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#231F20]",children:"Customer Acknowledged"}),(0,z.jsx)("p",{className:"text-sm text-gray-500",children:new Date(e.customerAcknowledgedAt).toLocaleString()})]})]}),e.inventoryUpdatedAt&&(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500 mt-2"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#231F20]",children:"Completed - Inventory Updated"}),(0,z.jsx)("p",{className:"text-sm text-gray-500",children:new Date(e.inventoryUpdatedAt).toLocaleString()}),(0,z.jsxs)(cZ,{className:"bg-green-100 text-green-800 mt-1",children:["Status: ",e.inventoryStatus]})]})]})]})})]})]})}let pU=[{id:"DEL-001",doNumber:"DO-2026-001",orderId:"ORD-2026-156",agreementId:"AGR-2026-089",customerName:"ABC Construction Sdn Bhd",customerContact:"+60 12-345-6789",customerAddress:"No. 45, Jalan Ampang, 50450 Kuala Lumpur",siteAddress:"Lot 123, Jalan Bukit Bintang, 55100 KL",type:"delivery",items:[{id:"ITM-001",scaffoldingItemId:"SCAF-001",scaffoldingItemName:"Steel Pipe Scaffolding - Standard (6m)",quantity:50,unit:"pcs",availableStock:200,weight:"25kg/pc",dimensions:"48.3mm x 6m"},{id:"ITM-002",scaffoldingItemId:"SCAF-002",scaffoldingItemName:"Scaffold Board - Wooden (3.9m)",quantity:30,unit:"pcs",availableStock:150,weight:"20kg/pc",dimensions:"225mm x 38mm x 3.9m"}],status:"pending",scheduledDate:"2026-12-15",scheduledTimeSlot:"09:00 - 12:00",createdBy:"Sales Staff",createdAt:"2026-12-02T09:00:00",updatedAt:"2026-12-02T09:00:00"},{id:"DEL-002",doNumber:"DO-2026-002",orderId:"ORD-2026-157",agreementId:"AGR-2026-090",customerName:"XYZ Builders Sdn Bhd",customerContact:"+60 13-456-7890",customerAddress:"Unit 12-3, Tower A, The Pinnacle, 50088 KL",siteAddress:"Site 45B, Taman Desa Development",type:"pickup",items:[{id:"ITM-003",scaffoldingItemId:"SCAF-003",scaffoldingItemName:"H-Frame Scaffolding (1.7m x 1.2m)",quantity:20,unit:"pcs",availableStock:80,weight:"22kg/pc",dimensions:"1.7m x 1.2m"}],status:"pending",scheduledDate:"2026-12-18",scheduledTimeSlot:"14:00 - 17:00",createdBy:"Sales Staff",createdAt:"2026-12-05T09:00:00",updatedAt:"2026-12-05T09:00:00"},{id:"DEL-003",doNumber:"DO-2026-003",orderId:"ORD-2026-158",agreementId:"AGR-2026-091",customerName:"Prime Engineering Works",customerContact:"+60 14-567-8901",customerAddress:"Level 5, Menara TH, Jalan Tun Razak",siteAddress:"Plaza Metro, Jalan Raja Chulan",type:"delivery",items:[{id:"ITM-004",scaffoldingItemId:"SCAF-004",scaffoldingItemName:"Ringlock System - Vertical (3m)",quantity:60,unit:"pcs",availableStock:120,weight:"20kg/pc"},{id:"ITM-005",scaffoldingItemId:"SCAF-005",scaffoldingItemName:"Steel Ledger (2m)",quantity:40,unit:"pcs",availableStock:100,weight:"12kg/pc"}],status:"pending",scheduledDate:"2026-12-20",scheduledTimeSlot:"09:00 - 12:00",createdBy:"Sales Staff",createdAt:"2026-12-08T09:00:00",updatedAt:"2026-12-08T09:00:00"},{id:"DEL-004",doNumber:"DO-2026-004",orderId:"ORD-2026-159",agreementId:"AGR-2026-092",customerName:"Golden Projects Sdn Bhd",customerContact:"+60 15-678-9012",customerAddress:"No. 88, Jalan Sultan Ismail, 50250 KL",siteAddress:"Summit Mall Development, Subang Jaya",type:"pickup",items:[{id:"ITM-006",scaffoldingItemId:"SCAF-006",scaffoldingItemName:"Steel Tube - Heavy Duty (4m)",quantity:100,unit:"pcs",availableStock:300,weight:"18kg/pc",dimensions:"48.3mm x 4m"},{id:"ITM-007",scaffoldingItemId:"SCAF-007",scaffoldingItemName:"Swivel Coupler",quantity:150,unit:"pcs",availableStock:500,weight:"1.5kg/pc"}],status:"pending",scheduledDate:"2026-12-22",scheduledTimeSlot:"14:00 - 17:00",createdBy:"Sales Staff",createdAt:"2026-12-10T09:00:00",updatedAt:"2026-12-10T09:00:00"}];function p$(){let[e,t]=(0,q.useState)([]),[r,s]=(0,q.useState)([]),[a,n]=(0,q.useState)(""),[i,l]=(0,q.useState)("all"),[o,c]=(0,q.useState)("list"),[d,u]=(0,q.useState)(null);(0,q.useEffect)(()=>{let e=localStorage.getItem("deliveryOrders");e?t(JSON.parse(e)):(t(pU),localStorage.setItem("deliveryOrders",JSON.stringify(pU)))},[]),(0,q.useEffect)(()=>{let t=e;a&&(t=t.filter(e=>e.doNumber.toLowerCase().includes(a.toLowerCase())||e.customerName.toLowerCase().includes(a.toLowerCase())||e.orderId.toLowerCase().includes(a.toLowerCase()))),"all"!==i&&(t=t.filter(e=>e.status===i)),s(t)},[e,a,i]);let m=e=>{t(e),localStorage.setItem("deliveryOrders",JSON.stringify(e))},h=()=>{c("list"),u(null)},x={total:e.length,pending:e.filter(e=>"pending"===e.status||"packing_list_issued"===e.status).length,inProgress:e.filter(e=>"stock_checked"===e.status||"packing_loading"===e.status||"in_transit"===e.status||"ready_for_pickup"===e.status).length,completed:e.filter(e=>"completed"===e.status).length};return"workflow"===o?(0,z.jsx)(pz,{delivery:d,onSave:t=>{e.find(e=>e.id===t.id)?(m(e.map(e=>e.id===t.id?t:e)),ld.success("Delivery order updated successfully")):(m([...e,t]),ld.success("Delivery order created successfully")),c("list"),u(null)},onBack:h}):"details"===o&&d?(0,z.jsx)(pq,{delivery:d,onProcess:()=>c("workflow"),onBack:h}):(0,z.jsxs)("div",{className:"p-6 space-y-6",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("h1",{className:"text-[#231F20]",children:"Delivery Management"}),(0,z.jsx)("p",{className:"text-gray-600",children:"Manage delivery orders, packing, and dispatch"})]}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsxs)(os,{className:"text-sm text-gray-600 flex items-center gap-2",children:[(0,z.jsx)(ei,{className:"size-4"}),"Total Orders"]})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"text-[#231F20]",children:x.total})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsxs)(os,{className:"text-sm text-gray-600 flex items-center gap-2",children:[(0,z.jsx)(od,{className:"size-4"}),"Pending"]})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"text-[#231F20]",children:x.pending})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsxs)(os,{className:"text-sm text-gray-600 flex items-center gap-2",children:[(0,z.jsx)(eo,{className:"size-4"}),"In Progress"]})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"text-[#231F20]",children:x.inProgress})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsxs)(os,{className:"text-sm text-gray-600 flex items-center gap-2",children:[(0,z.jsx)(lX,{className:"size-4"}),"Completed"]})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"text-[#231F20]",children:x.completed})})]})]}),(0,z.jsx)(ot,{children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,z.jsxs)("div",{className:"flex-1 relative",children:[(0,z.jsx)(et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 size-4 text-gray-400"}),(0,z.jsx)(tN,{placeholder:"Search by DO number, customer, or order ID...",value:a,onChange:e=>n(e.target.value),className:"pl-10"})]}),(0,z.jsxs)(cl,{value:i,onValueChange:l,children:[(0,z.jsxs)(cc,{className:"w-full md:w-64",children:[(0,z.jsx)(xq,{className:"size-4 mr-2"}),(0,z.jsx)(co,{placeholder:"Filter by status"})]}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"all",children:"All Status"}),(0,z.jsx)(cu,{value:"pending",children:"Pending"}),(0,z.jsx)(cu,{value:"packing_list_issued",children:"Packing List Issued"}),(0,z.jsx)(cu,{value:"stock_checked",children:"Stock Checked"}),(0,z.jsx)(cu,{value:"packing_loading",children:"Packing & Loading"}),(0,z.jsx)(cu,{value:"in_transit",children:"In Transit"}),(0,z.jsx)(cu,{value:"ready_for_pickup",children:"Ready for Pickup"}),(0,z.jsx)(cu,{value:"completed",children:"Completed"})]})]})]})})}),(0,z.jsx)(ot,{children:(0,z.jsx)(on,{className:"p-0",children:(0,z.jsxs)(c8,{children:[(0,z.jsx)(c7,{children:(0,z.jsxs)(de,{children:[(0,z.jsx)(dt,{children:"DO Number"}),(0,z.jsx)(dt,{children:"Customer Name"}),(0,z.jsx)(dt,{children:"Scheduled Date"}),(0,z.jsx)(dt,{children:"Type"}),(0,z.jsx)(dt,{children:"Status"}),(0,z.jsx)(dt,{className:"text-right",children:"Actions"})]})}),(0,z.jsx)(c9,{children:0===r.length?(0,z.jsx)(de,{children:(0,z.jsxs)(dr,{colSpan:6,className:"text-center py-12",children:[(0,z.jsx)(ei,{className:"size-12 text-gray-400 mx-auto mb-4"}),(0,z.jsx)("p",{className:"text-gray-600",children:"No delivery orders found"}),(0,z.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:a||"all"!==i?"Try adjusting your filters":"Create your first delivery order to get started"})]})}):r.map(e=>(0,z.jsxs)(de,{children:[(0,z.jsx)(dr,{children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(K,{className:"size-4 text-gray-400"}),(0,z.jsx)("span",{className:"text-[#231F20]",children:e.doNumber})]})}),(0,z.jsx)(dr,{children:(0,z.jsx)("p",{className:"text-[#231F20]",children:e.customerName})}),(0,z.jsx)(dr,{children:e.scheduledDate?(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(Z,{className:"size-4 text-gray-400"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#231F20]",children:new Date(e.scheduledDate).toLocaleDateString()}),e.scheduledTimeSlot&&(0,z.jsx)("p",{className:"text-sm text-gray-500",children:e.scheduledTimeSlot})]})]}):(0,z.jsx)("span",{className:"text-gray-400",children:"Not scheduled"})}),(0,z.jsx)(dr,{children:(0,z.jsx)(cZ,{variant:"outline",className:"delivery"===e.type?"border-blue-500 text-blue-700":"border-purple-500 text-purple-700",children:"delivery"===e.type?"Delivery":"Pickup"})}),(0,z.jsx)(dr,{children:(e=>{let t={pending:{bg:"bg-gray-100",text:"text-gray-800",label:"Pending"},packing_list_issued:{bg:"bg-cyan-100",text:"text-cyan-800",label:"Packing List"},stock_checked:{bg:"bg-blue-100",text:"text-blue-800",label:"Stock Checked"},packing_loading:{bg:"bg-amber-100",text:"text-amber-800",label:"Packing & Loading"},in_transit:{bg:"bg-yellow-100",text:"text-yellow-800",label:"In Transit"},ready_for_pickup:{bg:"bg-orange-100",text:"text-orange-800",label:"Ready for Pickup"},completed:{bg:"bg-green-100",text:"text-green-800",label:"Completed"}}[e];if(!t)return(0,z.jsx)(cZ,{className:"bg-gray-100 text-gray-800",children:"Unknown"});let{bg:r,text:s,label:a}=t;return(0,z.jsx)(cZ,{className:`${r} ${s}`,children:a})})(e.status)}),(0,z.jsx)(dr,{className:"text-right",children:(0,z.jsxs)(n1,{children:[(0,z.jsx)(n2,{asChild:!0,children:(0,z.jsx)(tb,{variant:"outline",size:"sm",children:(0,z.jsx)(dg,{className:"size-4"})})}),(0,z.jsxs)(n4,{align:"end",children:[(0,z.jsxs)(n5,{onClick:()=>{u(e),c("details")},children:[(0,z.jsx)(lv,{className:"size-4 mr-2"}),"View"]}),"completed"!==e.status&&(0,z.jsxs)(n5,{onClick:()=>{u(e),c("workflow")},children:[(0,z.jsx)(cX,{className:"size-4 mr-2"}),"Process"]})]})]})})]},e.id))})]})})})]})}let pV=Y("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),pW=Y("package-x",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]]),pH=Y("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),pY=["09:00 - 12:00","12:00 - 15:00","15:00 - 18:00"];function pG({returnOrder:e,onSave:t,onBack:r}){let[s,a]=(0,q.useState)(1),[n,i]=(0,q.useState)(e||{items:[],status:"Requested",returnType:"Full",transportationType:"Self Return",requestDate:new Date().toISOString()}),[l,o]=(0,q.useState)(),[c,d]=(0,q.useState)(""),[u,m]=(0,q.useState)([]),[h,x]=(0,q.useState)([]),[p,f]=(0,q.useState)([]),g=(0,q.useRef)(null),[v,j]=(0,q.useState)(""),[y,b]=(0,q.useState)(!1),[N,w]=(0,q.useState)(""),[C,S]=(0,q.useState)({}),[D,P]=(0,q.useState)({}),[k,E]=(0,q.useState)(!1);(0,q.useEffect)(()=>{if(e){if(i(e),a({Requested:1,Approved:"Transportation Needed"===n.transportationType?2:4,"Pickup Scheduled":2,"Pickup Confirmed":3,"Driver Recording":3,"In Transit":3,"Received at Warehouse":4,"Under Inspection":5,"Sorting Complete":6,"Customer Notified":7,"Dispute Raised":7,Completed:"Transportation Needed"===n.transportationType?8:6}[e.status]||1),e.pickupDate)o(new Date(e.pickupDate));else if("Transportation Needed"===e.transportationType&&"Requested"===e.status){let e=new Date;e.setDate(e.getDate()+3),o(e)}e.pickupTimeSlot?d(e.pickupTimeSlot):"Transportation Needed"===e.transportationType&&"Requested"===e.status&&d(pY[0]);let t={},r={};e.items?.forEach(e=>{t[e.id]=e.status,e.notes&&(r[e.id]=e.notes)}),S(t),P(r),e.productionNotes&&j(e.productionNotes),e.hasExternalGoods&&b(e.hasExternalGoods),e.externalGoodsNotes&&w(e.externalGoodsNotes)}},[e]);let A="Transportation Needed"===n.transportationType?[{number:1,title:"Approve & Schedule"},{number:2,title:"Confirm Pickup"},{number:3,title:"Driver Recording"},{number:4,title:"Receive at Warehouse"},{number:5,title:"Inspection & GRN"},{number:6,title:"Generate RCF"},{number:7,title:"Notify Customer"},{number:8,title:"Complete"}]:[{number:1,title:"Approve Return"},{number:2,title:"Receive at Warehouse"},{number:3,title:"Inspection & GRN"},{number:4,title:"Generate RCF"},{number:5,title:"Notify Customer"},{number:6,title:"Complete"}],F=()=>{g.current?.click()},R=e=>{let t=e.target.files;if(!t||0===t.length)return;let r=Array.from(t),a=0,i=[];r.forEach(e=>{if(!e.type.startsWith("image/"))return void ld.error(`${e.name} is not an image file`);if(e.size>5242880)return void ld.error(`${e.name} is too large (max 5MB)`);let t=new FileReader;t.onload=e=>{let t=e.target?.result;i.push(t),++a===r.length&&("Transportation Needed"===n.transportationType?3===s?m([...u,...i]):4===s?x([...h,...i]):5===s&&f([...p,...i]):2===s?x([...h,...i]):3===s&&f([...p,...i]),ld.success(`${i.length} photo(s) uploaded`))},t.onerror=()=>{ld.error(`Failed to read ${e.name}`)},t.readAsDataURL(e)}),e.target.value=""},O=(e,t)=>{"driver"===t?m(u.filter((t,r)=>r!==e)):"warehouse"===t?x(h.filter((t,r)=>r!==e)):f(p.filter((t,r)=>r!==e)),ld.success("Photo removed")},I=e=>{let t={Pending:{color:"bg-gray-100 text-gray-800",icon:ei},Good:{color:"bg-green-100 text-green-800",icon:lX},Damaged:{color:"bg-red-100 text-red-800",icon:ej},Repairable:{color:"bg-amber-100 text-amber-800",icon:pH},"To Retire":{color:"bg-gray-100 text-gray-800",icon:pW},"Ready to Reuse":{color:"bg-emerald-100 text-emerald-800",icon:lX}},{color:r,icon:s}=t[e]||t.Pending;return(0,z.jsxs)(cZ,{className:r,children:[(0,z.jsx)(s,{className:"size-3 mr-1"}),e]})};return(0,z.jsxs)("div",{className:"p-6 space-y-6",children:[(0,z.jsxs)("div",{className:"flex items-center gap-4",children:[(0,z.jsx)(tb,{variant:"outline",onClick:r,children:(0,z.jsx)(lC,{className:"size-4"})}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h1",{className:"text-[#231F20]",children:e?`Process Return - ${e.id}`:"New Return"}),(0,z.jsxs)("p",{className:"text-gray-600",children:[n.customer," - ",n.orderId," (",n.transportationType,")"]})]})]}),(0,z.jsx)(ot,{children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsx)("div",{className:"flex items-center justify-between overflow-x-auto",children:A.map((e,t)=>(0,z.jsxs)("div",{className:"flex items-center",children:[(0,z.jsxs)("div",{className:"flex flex-col items-center",children:[(0,z.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 ${s>e.number?"bg-green-500 text-white":s===e.number?"bg-[#F15929] text-white":"bg-gray-200 text-gray-600"}`,children:s>e.number?(0,z.jsx)(nQ,{className:"size-5"}):e.number}),(0,z.jsx)("span",{className:"text-xs text-center mt-2 max-w-24",children:e.title})]}),t<A.length-1&&(0,z.jsx)("div",{className:`h-0.5 w-12 mx-2 ${s>e.number?"bg-green-500":"bg-gray-200"}`})]},e.number))})})}),1===s&&(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsxs)(os,{className:"flex items-center gap-2",children:[(0,z.jsx)(eh,{className:"size-5 text-[#F15929]"}),"Step 1: ","Transportation Needed"===n.transportationType?"Approve Return & Schedule Pickup":"Approve Return Request"]})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsx)("p",{className:"text-gray-600",children:"Transportation Needed"===n.transportationType?"Review the return request and schedule a pickup time with the customer.":"Approve the return request. Customer will self-deliver the items to warehouse."}),(0,z.jsx)("div",{className:"p-4 bg-gray-50 border rounded-lg space-y-2",children:(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Customer:"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:n.customer})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Order ID:"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:n.orderId})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Return Type:"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:n.returnType})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Transportation:"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:n.transportationType})]})]})}),(0,z.jsxs)("div",{className:"space-y-3",children:[(0,z.jsx)(lN,{children:"Items to Return"}),n.items&&n.items.length>0?n.items.map(e=>(0,z.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsx)("p",{className:"text-[#231F20]",children:e.name}),(0,z.jsxs)("p",{className:"text-sm text-gray-500",children:["Category: ",e.category]})]}),(0,z.jsx)("div",{className:"text-right",children:(0,z.jsxs)("p",{className:"text-[#231F20]",children:["Qty: ",e.quantityReturned]})})]},e.id)):(0,z.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,z.jsx)(ej,{className:"size-12 text-gray-400 mx-auto mb-4"}),(0,z.jsx)("p",{children:"No items to return"})]})]}),"Transportation Needed"===n.transportationType&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Pickup Date"}),(0,z.jsxs)(hc,{children:[(0,z.jsx)(hd,{asChild:!0,children:(0,z.jsxs)(tb,{variant:"outline",className:"w-full justify-start",children:[(0,z.jsx)(Z,{className:"mr-2 size-4"}),l?uq(l,"PPP"):"Select pickup date"]})}),(0,z.jsx)(hu,{className:"w-auto p-0",children:(0,z.jsx)(mK,{mode:"single",selected:l,onSelect:o,initialFocus:!0})})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Pickup Time Slot"}),(0,z.jsxs)(cl,{value:c,onValueChange:d,children:[(0,z.jsx)(cc,{children:(0,z.jsx)(co,{placeholder:"Select time slot"})}),(0,z.jsx)(cd,{children:pY.map(e=>(0,z.jsx)(cu,{value:e,children:e},e))})]})]})]}),(0,z.jsxs)(tb,{onClick:()=>{if("Transportation Needed"===n.transportationType){if(!l||!c)return void ld.error("Please select pickup date and time slot");i({...n,status:"Pickup Scheduled",pickupDate:l.toISOString(),pickupTimeSlot:c}),ld.success("Return approved and pickup scheduled"),a(2)}else i({...n,status:"Approved"}),ld.success("Return approved - awaiting customer self-return"),a(2)},className:"bg-[#F15929] hover:bg-[#d94d1f] w-full",children:[(0,z.jsx)(nQ,{className:"size-4 mr-2"}),"Transportation Needed"===n.transportationType?"Approve & Schedule Pickup":"Approve Return"]})]})]}),2===s&&"Transportation Needed"===n.transportationType&&(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsxs)(os,{className:"flex items-center gap-2",children:[(0,z.jsx)(eo,{className:"size-5 text-[#F15929]"}),"Step 2: Confirm Pickup Details"]})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsx)("p",{className:"text-gray-600",children:"Assign a driver and vehicle for the pickup."}),(0,z.jsx)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,z.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,z.jsx)(Z,{className:"size-4 inline mr-1"}),"Scheduled Pickup: ",l&&uq(l,"PPP")," ",c]})}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Driver Name"}),(0,z.jsx)(tN,{value:n.pickupDriver||"",onChange:e=>i({...n,pickupDriver:e.target.value}),placeholder:"Enter driver name"})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Driver Contact"}),(0,z.jsx)(tN,{value:n.driverContact||"",onChange:e=>i({...n,driverContact:e.target.value}),placeholder:"+60 12-345-6789"})]}),(0,z.jsxs)(tb,{onClick:()=>{n.pickupDriver&&n.driverContact?(i({...n,status:"Pickup Confirmed"}),ld.success("Pickup confirmed"),a(3)):ld.error("Please enter driver name and contact")},className:"bg-[#F15929] hover:bg-[#d94d1f] w-full",disabled:!n.pickupDriver||!n.driverContact,children:[(0,z.jsx)(nQ,{className:"size-4 mr-2"}),"Confirm Pickup"]})]})]}),3===s&&"Transportation Needed"===n.transportationType&&(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsxs)(os,{className:"flex items-center gap-2",children:[(0,z.jsx)(ef,{className:"size-5 text-[#F15929]"}),"Step 3: Driver Recording"]})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsx)("p",{className:"text-gray-600",children:"Driver should take photos of the goods before loading for transport."}),(0,z.jsxs)("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[(0,z.jsxs)("p",{className:"text-sm text-amber-800",children:[(0,z.jsx)(xU,{className:"size-4 inline mr-1"}),"Driver: ",n.pickupDriver]}),(0,z.jsxs)("p",{className:"text-sm text-amber-800",children:[(0,z.jsx)(cp,{className:"size-4 inline mr-1"}),"Contact: ",n.driverContact]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Driver Photos (Required)"}),(0,z.jsxs)(tb,{variant:"outline",onClick:F,className:"w-full",children:[(0,z.jsx)(oo,{className:"size-4 mr-2"}),"Upload Photos"]}),(0,z.jsx)("input",{ref:g,type:"file",accept:"image/*",multiple:!0,onChange:R,className:"hidden"}),u.length>0&&(0,z.jsx)("div",{className:"grid grid-cols-3 gap-2 mt-2",children:u.map((e,t)=>(0,z.jsxs)("div",{className:"relative",children:[(0,z.jsx)("img",{src:e,alt:`Driver ${t+1}`,className:"w-full h-24 object-cover rounded"}),(0,z.jsx)(tb,{variant:"destructive",size:"sm",className:"absolute top-1 right-1 size-6 p-0",onClick:()=>O(t,"driver"),children:(0,z.jsx)(ea,{className:"size-3"})})]},t))})]}),(0,z.jsxs)(tb,{onClick:()=>{if(0===u.length)return void ld.error("Please upload at least one photo of the goods");let e=u.map((e,t)=>({url:e,uploadedAt:new Date().toISOString(),description:`Driver photo ${t+1}`,uploadedBy:n.pickupDriver||"Driver"}));i({...n,driverRecordPhotos:e,status:"In Transit"}),ld.success("Driver recording saved - items in transit"),a(4)},className:"bg-[#F15929] hover:bg-[#d94d1f] w-full",disabled:0===u.length,children:[(0,z.jsx)(nQ,{className:"size-4 mr-2"}),"Save Recording & Mark In Transit"]})]})]}),(4===s&&"Transportation Needed"===n.transportationType||2===s&&"Self Return"===n.transportationType)&&(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsxs)(os,{className:"flex items-center gap-2",children:[(0,z.jsx)(ex,{className:"size-5 text-[#F15929]"}),"Transportation Needed"===n.transportationType?"Step 4":"Step 2",": Receive at Warehouse"]})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsx)("p",{className:"text-gray-600",children:"Confirm receipt of goods at warehouse and upload photos."}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Warehouse Receipt Photos (Required)"}),(0,z.jsxs)(tb,{variant:"outline",onClick:F,className:"w-full",children:[(0,z.jsx)(oo,{className:"size-4 mr-2"}),"Upload Photos"]}),(0,z.jsx)("input",{ref:g,type:"file",accept:"image/*",multiple:!0,onChange:R,className:"hidden"}),h.length>0&&(0,z.jsx)("div",{className:"grid grid-cols-3 gap-2 mt-2",children:h.map((e,t)=>(0,z.jsxs)("div",{className:"relative",children:[(0,z.jsx)("img",{src:e,alt:`Warehouse ${t+1}`,className:"w-full h-24 object-cover rounded"}),(0,z.jsx)(tb,{variant:"destructive",size:"sm",className:"absolute top-1 right-1 size-6 p-0",onClick:()=>O(t,"warehouse"),children:(0,z.jsx)(ea,{className:"size-3"})})]},t))})]}),(0,z.jsxs)(tb,{onClick:()=>{if(0===h.length)return void ld.error("Please upload at least one photo of received goods");let e=h.map((e,t)=>({url:e,uploadedAt:new Date().toISOString(),description:`Warehouse photo ${t+1}`,uploadedBy:"Warehouse Staff"}));i({...n,warehousePhotos:e,status:"Received at Warehouse"}),ld.success("Goods received at warehouse"),"Transportation Needed"===n.transportationType?a(5):a(3)},className:"bg-[#F15929] hover:bg-[#d94d1f] w-full",disabled:0===h.length,children:[(0,z.jsx)(nQ,{className:"size-4 mr-2"}),"Confirm Receipt at Warehouse"]})]})]}),(5===s&&"Transportation Needed"===n.transportationType||3===s&&"Self Return"===n.transportationType)&&(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsxs)(os,{className:"flex items-center gap-2",children:[(0,z.jsx)(eh,{className:"size-5 text-[#F15929]"}),"Transportation Needed"===n.transportationType?"Step 5":"Step 3",": Inspection & Generate GRN"]})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsx)("p",{className:"text-gray-600",children:"Inspect all returned items and set their condition status. GRN will be auto-generated."}),(0,z.jsxs)("div",{className:"space-y-3",children:[(0,z.jsx)(lN,{children:"Item Condition Assessment"}),n.items?.map(e=>(0,z.jsxs)("div",{className:"p-4 border rounded-lg space-y-3",children:[(0,z.jsx)("div",{className:"flex items-center justify-between",children:(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#231F20]",children:e.name}),(0,z.jsxs)("p",{className:"text-sm text-gray-500",children:["Qty: ",e.quantityReturned," | Category: ",e.category]})]})}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Condition Status"}),(0,z.jsxs)(cl,{value:C[e.id]||"",onValueChange:t=>S({...C,[e.id]:t}),children:[(0,z.jsx)(cc,{children:(0,z.jsx)(co,{placeholder:"Select condition"})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"Good",children:"Good"}),(0,z.jsx)(cu,{value:"Damaged",children:"Damaged"}),(0,z.jsx)(cu,{value:"Repairable",children:"Repairable"}),(0,z.jsx)(cu,{value:"To Retire",children:"To Retire"}),(0,z.jsx)(cu,{value:"Ready to Reuse",children:"Ready to Reuse"})]})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Notes (Optional)"}),(0,z.jsx)(dl,{value:D[e.id]||"",onChange:t=>P({...D,[e.id]:t.target.value}),placeholder:"Any specific notes about this item...",rows:2})]})]},e.id))]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Production/Inspection Notes"}),(0,z.jsx)(dl,{value:v,onChange:e=>j(e.target.value),placeholder:"General notes about the inspection...",rows:3})]}),(0,z.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,z.jsx)(lq,{id:"externalGoods",checked:y,onCheckedChange:e=>b(e)}),(0,z.jsx)(lN,{htmlFor:"externalGoods",className:"cursor-pointer",children:"External goods detected (not from our inventory)"})]}),y&&(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"External Goods Notes"}),(0,z.jsx)(dl,{value:N,onChange:e=>w(e.target.value),placeholder:"Describe the external goods...",rows:2})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Damage Photos (Optional)"}),(0,z.jsxs)(tb,{variant:"outline",onClick:F,className:"w-full",children:[(0,z.jsx)(oo,{className:"size-4 mr-2"}),"Upload Damage Photos"]}),p.length>0&&(0,z.jsx)("div",{className:"grid grid-cols-3 gap-2 mt-2",children:p.map((e,t)=>(0,z.jsxs)("div",{className:"relative",children:[(0,z.jsx)("img",{src:e,alt:`Damage ${t+1}`,className:"w-full h-24 object-cover rounded"}),(0,z.jsx)(tb,{variant:"destructive",size:"sm",className:"absolute top-1 right-1 size-6 p-0",onClick:()=>O(t,"damage"),children:(0,z.jsx)(ea,{className:"size-3"})})]},t))})]}),(0,z.jsxs)(tb,{onClick:()=>{if(!n.items?.every(e=>C[e.id]))return void ld.error("Please set status for all items");let e=n.items?.map(e=>({...e,status:C[e.id],notes:D[e.id]||void 0})),t=`GRN-${new Date().getFullYear()}-${String(Math.floor(1e3*Math.random())).padStart(3,"0")}`;i({...n,items:e,productionNotes:v,hasExternalGoods:y,externalGoodsNotes:y?N:void 0,grnNumber:t,status:"Under Inspection"}),ld.success(`GRN ${t} generated`),"Transportation Needed"===n.transportationType?a(6):a(4)},className:"bg-[#F15929] hover:bg-[#d94d1f] w-full",children:[(0,z.jsx)(K,{className:"size-4 mr-2"}),"Complete Inspection & Generate GRN"]})]})]}),(6===s&&"Transportation Needed"===n.transportationType||4===s&&"Self Return"===n.transportationType)&&(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsxs)(os,{className:"flex items-center gap-2",children:[(0,z.jsx)(K,{className:"size-5 text-[#F15929]"}),"Transportation Needed"===n.transportationType?"Step 6":"Step 4",": Generate RCF (Return Condition Form)"]})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsx)("p",{className:"text-gray-600",children:"Review inspection results and generate RCF if needed for damaged/repairable items."}),(0,z.jsx)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,z.jsxs)("p",{className:"text-sm text-green-800",children:[(0,z.jsx)(lX,{className:"size-4 inline mr-1"}),"GRN Generated: ",n.grnNumber]})}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Items Summary"}),n.items?.map(e=>(0,z.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,z.jsx)("div",{className:"flex-1",children:(0,z.jsx)("p",{className:"text-sm text-[#231F20]",children:e.name})}),(0,z.jsx)("div",{children:I(e.status)})]},e.id))]}),(0,z.jsxs)("div",{className:"flex gap-2",children:[(0,z.jsxs)(tb,{onClick:()=>E(!0),className:"bg-[#F15929] hover:bg-[#d94d1f] flex-1",children:[(0,z.jsx)(K,{className:"size-4 mr-2"}),"Generate RCF"]}),(0,z.jsx)(tb,{onClick:()=>{i({...n,status:"Sorting Complete"}),ld.info("RCF skipped"),E(!1),"Transportation Needed"===n.transportationType?a(7):a(5)},variant:"outline",className:"flex-1",children:"Skip RCF"})]})]})]}),(7===s&&"Transportation Needed"===n.transportationType||5===s&&"Self Return"===n.transportationType)&&(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsxs)(os,{className:"flex items-center gap-2",children:[(0,z.jsx)(lX,{className:"size-5 text-[#F15929]"}),"Transportation Needed"===n.transportationType?"Step 7":"Step 5",": Notify Customer"]})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsx)("p",{className:"text-gray-600",children:"Send notification to customer about the return inspection results."}),(0,z.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg space-y-2",children:[(0,z.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,z.jsx)(K,{className:"size-4 inline mr-1"}),"GRN: ",n.grnNumber]}),n.rcfNumber&&(0,z.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,z.jsx)(K,{className:"size-4 inline mr-1"}),"RCF: ",n.rcfNumber]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Notification Summary"}),(0,z.jsxs)("div",{className:"p-3 border rounded-lg space-y-2 text-sm",children:[(0,z.jsxs)("p",{children:["Customer: ",n.customer]}),(0,z.jsxs)("p",{children:["Order ID: ",n.orderId]}),(0,z.jsxs)("p",{children:["Items Returned: ",n.items?.length," items"]}),(0,z.jsxs)("p",{children:["Good Items: ",n.items?.filter(e=>"Good"===e.status||"Ready to Reuse"===e.status).length]}),(0,z.jsxs)("p",{children:["Damaged/Repairable: ",n.items?.filter(e=>"Damaged"===e.status||"Repairable"===e.status).length]})]})]}),(0,z.jsxs)(tb,{onClick:()=>{i({...n,customerNotificationSent:!0,status:"Customer Notified"}),ld.success("Customer notification sent"),"Transportation Needed"===n.transportationType?a(8):a(6)},className:"bg-[#F15929] hover:bg-[#d94d1f] w-full",children:[(0,z.jsx)(lX,{className:"size-4 mr-2"}),"Send Customer Notification"]})]})]}),(8===s&&"Transportation Needed"===n.transportationType||6===s&&"Self Return"===n.transportationType)&&(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsxs)(os,{className:"flex items-center gap-2",children:[(0,z.jsx)(lX,{className:"size-5 text-green-600"}),"Transportation Needed"===n.transportationType?"Step 8":"Step 6",": Complete Return Process"]})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,z.jsxs)("p",{className:"text-green-800 mb-2",children:[(0,z.jsx)(lX,{className:"size-5 inline mr-2"}),"Return process is ready to be completed"]}),(0,z.jsxs)("ul",{className:"text-sm text-green-700 space-y-1 ml-7",children:[(0,z.jsx)("li",{children:" Items inspected and sorted"}),(0,z.jsx)("li",{children:" GRN generated"}),n.rcfNumber&&(0,z.jsx)("li",{children:" RCF generated"}),(0,z.jsx)("li",{children:" Customer notified"})]})]}),(0,z.jsxs)("div",{className:"p-4 border rounded-lg space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#231F20]",children:"Final Actions"}),(0,z.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,z.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,z.jsx)("span",{children:"Update Inventory"}),(0,z.jsx)(cZ,{className:"bg-amber-100 text-amber-800",children:"Pending"})]}),(0,z.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,z.jsx)("span",{children:"Update Statement of Account"}),(0,z.jsx)(cZ,{className:"bg-amber-100 text-amber-800",children:"Pending"})]})]})]}),(0,z.jsxs)(tb,{onClick:()=>{i({...n,inventoryUpdated:!0,soaUpdated:!0,status:"Completed"}),ld.success("Return process completed - inventory and SOA updated"),setTimeout(()=>{t(n)},500)},className:"bg-green-600 hover:bg-green-700 w-full",children:[(0,z.jsx)(lX,{className:"size-4 mr-2"}),"Complete Return & Update Records"]})]})]}),(0,z.jsx)(cQ,{open:k,onOpenChange:E,children:(0,z.jsxs)(c2,{className:"max-w-2xl",children:[(0,z.jsxs)(c4,{children:[(0,z.jsx)(c6,{children:"Generate RCF (Return Condition Form)"}),(0,z.jsx)(c3,{children:"Review the condition of returned items and generate RCF document"})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)("div",{className:"max-h-96 overflow-y-auto space-y-2",children:n.items?.map(e=>(0,z.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsx)("p",{className:"text-sm text-[#231F20]",children:e.name}),(0,z.jsxs)("p",{className:"text-xs text-gray-500",children:["Qty: ",e.quantityReturned]}),e.notes&&(0,z.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Note: ",e.notes]})]}),(0,z.jsx)("div",{children:I(e.status)})]},e.id))}),n.productionNotes&&(0,z.jsxs)("div",{className:"p-3 bg-gray-50 border rounded-lg",children:[(0,z.jsx)(lN,{className:"text-sm",children:"Inspection Notes:"}),(0,z.jsx)("p",{className:"text-sm text-gray-700 mt-1",children:n.productionNotes})]}),(0,z.jsxs)("div",{className:"flex gap-2",children:[(0,z.jsxs)(tb,{onClick:()=>{let e=`RCF-${new Date().getFullYear()}-${String(Math.floor(1e3*Math.random())).padStart(3,"0")}`;i({...n,rcfNumber:e,status:"Sorting Complete"}),ld.success(`RCF ${e} generated`),E(!1),"Transportation Needed"===n.transportationType?a(7):a(5)},className:"bg-[#F15929] hover:bg-[#d94d1f] flex-1",children:[(0,z.jsx)(K,{className:"size-4 mr-2"}),"Generate RCF"]}),(0,z.jsx)(tb,{onClick:()=>E(!1),variant:"outline",children:"Cancel"})]})]})]})})]})}function pX({returnOrder:e,onProcess:t,onBack:r}){let s=e=>{let{color:t,label:r}={Requested:{color:"bg-blue-500 text-white",label:"Requested"},Approved:{color:"bg-green-500 text-white",label:"Approved"},"Pickup Scheduled":{color:"bg-purple-500 text-white",label:"Pickup Scheduled"},"Pickup Confirmed":{color:"bg-purple-600 text-white",label:"Pickup Confirmed"},"Driver Recording":{color:"bg-amber-500 text-white",label:"Driver Recording"},"In Transit":{color:"bg-amber-600 text-white",label:"In Transit"},"Received at Warehouse":{color:"bg-cyan-500 text-white",label:"Received at Warehouse"},"Under Inspection":{color:"bg-amber-500 text-white",label:"Under Inspection"},"Sorting Complete":{color:"bg-green-500 text-white",label:"Sorting Complete"},"Customer Notified":{color:"bg-green-600 text-white",label:"Customer Notified"},"Dispute Raised":{color:"bg-red-500 text-white",label:"Dispute Raised"},Completed:{color:"bg-emerald-600 text-white",label:"Completed"}}[e];return(0,z.jsx)(cZ,{className:t,children:r})},a="Completed"!==e.status;return(0,z.jsxs)("div",{className:"p-6 space-y-6",children:[(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsxs)("div",{className:"flex items-center gap-4",children:[(0,z.jsx)(tb,{variant:"outline",onClick:r,children:(0,z.jsx)(lC,{className:"size-4"})}),(0,z.jsxs)("div",{children:[(0,z.jsxs)("h1",{className:"text-[#231F20]",children:["Return Details - ",e.id]}),(0,z.jsx)("p",{className:"text-gray-600",children:e.customer})]})]}),(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[s(e.status),a&&(0,z.jsxs)(tb,{onClick:t,className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,z.jsx)(eh,{className:"size-4 mr-2"}),"Process Return"]})]})]}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-base",children:"Return Information"})}),(0,z.jsx)(on,{className:"space-y-3",children:(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-600",children:"Return ID"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.id})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-600",children:"Order ID"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.orderId})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-600",children:"Return Type"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.returnType})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-600",children:"Transportation"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.transportationType})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-600",children:"Request Date"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:uq(new Date(e.requestDate),"PPP")})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-600",children:"Status"}),(0,z.jsx)("div",{className:"mt-1",children:s(e.status)})]})]})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-base",children:"Customer Information"})}),(0,z.jsx)(on,{className:"space-y-3",children:(0,z.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-600",children:"Customer Name"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.customer})]}),e.customerContact&&(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-600",children:"Contact"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.customerContact})]})]})})]})]}),"Transportation Needed"===e.transportationType&&(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsxs)(os,{className:"text-base flex items-center gap-2",children:[(0,z.jsx)(eo,{className:"size-4 text-[#F15929]"}),"Pickup & Transport Information"]})}),(0,z.jsx)(on,{className:"space-y-3",children:(0,z.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[e.pickupDate&&(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-600",children:"Pickup Date"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:uq(new Date(e.pickupDate),"PPP")})]}),e.pickupDriver&&(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-600",children:"Driver"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.pickupDriver})]}),e.driverContact&&(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-gray-600",children:"Driver Contact"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.driverContact})]})]})})]}),(e.grnNumber||e.rcfNumber)&&(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsxs)(os,{className:"text-base flex items-center gap-2",children:[(0,z.jsx)(K,{className:"size-4 text-[#F15929]"}),"Documents"]})}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"flex gap-3",children:[e.grnNumber&&(0,z.jsxs)("div",{className:"p-3 border rounded-lg flex-1",children:[(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"GRN Number"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.grnNumber}),(0,z.jsxs)(tb,{variant:"outline",size:"sm",className:"mt-2",children:[(0,z.jsx)(lv,{className:"size-3 mr-1"}),"View GRN"]})]}),e.rcfNumber&&(0,z.jsxs)("div",{className:"p-3 border rounded-lg flex-1",children:[(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"RCF Number"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:e.rcfNumber}),(0,z.jsxs)(tb,{variant:"outline",size:"sm",className:"mt-2",children:[(0,z.jsx)(lv,{className:"size-3 mr-1"}),"View RCF"]})]})]})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsxs)(os,{className:"text-base flex items-center gap-2",children:[(0,z.jsx)(ei,{className:"size-4 text-[#F15929]"}),"Returned Items (",e.items.length,")"]})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"space-y-3",children:e.items.map(e=>(0,z.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,z.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsx)("p",{className:"text-[#231F20]",children:e.name}),(0,z.jsxs)("p",{className:"text-sm text-gray-500",children:["Category: ",e.category]})]}),(0,z.jsxs)("div",{className:"text-right",children:[(0,z.jsxs)("p",{className:"text-sm text-gray-600",children:["Qty: ",e.quantityReturned]}),(0,z.jsx)("div",{className:"mt-1",children:(e=>{let t={Pending:{color:"bg-gray-100 text-gray-800",icon:ei},Good:{color:"bg-green-100 text-green-800",icon:lX},Damaged:{color:"bg-red-100 text-red-800",icon:ej},Repairable:{color:"bg-amber-100 text-amber-800",icon:pH},"To Retire":{color:"bg-gray-100 text-gray-800",icon:pW},"Ready to Reuse":{color:"bg-emerald-100 text-emerald-800",icon:lX}},{color:r,icon:s}=t[e]||t.Pending;return(0,z.jsxs)(cZ,{className:r,children:[(0,z.jsx)(s,{className:"size-3 mr-1"}),e]})})(e.status)})]})]}),e.notes&&(0,z.jsxs)("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm",children:[(0,z.jsx)("p",{className:"text-gray-600",children:"Notes:"}),(0,z.jsx)("p",{className:"text-gray-800",children:e.notes})]})]},e.id))})})]}),e.productionNotes&&(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-base",children:"Inspection Notes"})}),(0,z.jsxs)(on,{children:[(0,z.jsx)("p",{className:"text-sm text-gray-700",children:e.productionNotes}),e.hasExternalGoods&&(0,z.jsx)("div",{className:"mt-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:(0,z.jsxs)("div",{className:"flex items-start gap-2",children:[(0,z.jsx)(ej,{className:"size-4 text-amber-600 mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-amber-800",children:"External Goods Detected"}),e.externalGoodsNotes&&(0,z.jsx)("p",{className:"text-sm text-amber-700 mt-1",children:e.externalGoodsNotes})]})]})})]})]}),(e.driverRecordPhotos||e.warehousePhotos||e.damagePhotos)&&(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsxs)(os,{className:"text-base flex items-center gap-2",children:[(0,z.jsx)(dA,{className:"size-4 text-[#F15929]"}),"Photos"]})}),(0,z.jsxs)(on,{className:"space-y-4",children:[e.driverRecordPhotos&&e.driverRecordPhotos.length>0&&(0,z.jsxs)("div",{children:[(0,z.jsx)(pK,{className:"text-sm text-gray-600 mb-2 block",children:"Driver Recording Photos"}),(0,z.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:e.driverRecordPhotos.map((e,t)=>(0,z.jsxs)("div",{className:"border rounded-lg overflow-hidden",children:[(0,z.jsx)("img",{src:e.url,alt:e.description,className:"w-full h-32 object-cover"}),(0,z.jsxs)("div",{className:"p-2 bg-gray-50",children:[(0,z.jsx)("p",{className:"text-xs text-gray-600",children:e.description}),e.uploadedBy&&(0,z.jsxs)("p",{className:"text-xs text-gray-500",children:["By: ",e.uploadedBy]})]})]},t))})]}),e.warehousePhotos&&e.warehousePhotos.length>0&&(0,z.jsxs)("div",{children:[(0,z.jsx)(pK,{className:"text-sm text-gray-600 mb-2 block",children:"Warehouse Receipt Photos"}),(0,z.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:e.warehousePhotos.map((e,t)=>(0,z.jsxs)("div",{className:"border rounded-lg overflow-hidden",children:[(0,z.jsx)("img",{src:e.url,alt:e.description,className:"w-full h-32 object-cover"}),(0,z.jsxs)("div",{className:"p-2 bg-gray-50",children:[(0,z.jsx)("p",{className:"text-xs text-gray-600",children:e.description}),e.uploadedBy&&(0,z.jsxs)("p",{className:"text-xs text-gray-500",children:["By: ",e.uploadedBy]})]})]},t))})]}),e.damagePhotos&&e.damagePhotos.length>0&&(0,z.jsxs)("div",{children:[(0,z.jsx)(pK,{className:"text-sm text-gray-600 mb-2 block",children:"Damage Photos"}),(0,z.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:e.damagePhotos.map((e,t)=>(0,z.jsxs)("div",{className:"border rounded-lg overflow-hidden",children:[(0,z.jsx)("img",{src:e.url,alt:e.description,className:"w-full h-32 object-cover"}),(0,z.jsxs)("div",{className:"p-2 bg-gray-50",children:[(0,z.jsx)("p",{className:"text-xs text-gray-600",children:e.description}),e.uploadedBy&&(0,z.jsxs)("p",{className:"text-xs text-gray-500",children:["By: ",e.uploadedBy]})]})]},t))})]})]})]}),e.customerDispute?.raised&&(0,z.jsxs)(ot,{className:"border-red-200",children:[(0,z.jsx)(or,{children:(0,z.jsxs)(os,{className:"text-base flex items-center gap-2 text-red-600",children:[(0,z.jsx)(ej,{className:"size-4"}),"Customer Dispute"]})}),(0,z.jsxs)(on,{children:[(0,z.jsx)("p",{className:"text-sm text-gray-700",children:e.customerDispute.description}),(0,z.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Raised on: ",uq(new Date(e.customerDispute.raisedAt),"PPP")]}),e.customerDispute.resolved&&(0,z.jsx)(cZ,{className:"bg-green-100 text-green-800 mt-2",children:"Resolved"})]})]}),"Completed"===e.status&&(0,z.jsxs)(ot,{className:"border-green-200",children:[(0,z.jsx)(or,{children:(0,z.jsxs)(os,{className:"text-base flex items-center gap-2 text-green-600",children:[(0,z.jsx)(lX,{className:"size-4"}),"System Updates"]})}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,z.jsxs)("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded",children:[(0,z.jsx)("span",{children:"Inventory Updated"}),(0,z.jsx)(cZ,{className:"bg-green-100 text-green-800",children:e.inventoryUpdated?"Yes":"No"})]}),(0,z.jsxs)("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded",children:[(0,z.jsx)("span",{children:"SOA Updated"}),(0,z.jsx)(cZ,{className:"bg-green-100 text-green-800",children:e.soaUpdated?"Yes":"No"})]}),e.customerNotificationSent&&(0,z.jsxs)("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded",children:[(0,z.jsx)("span",{children:"Customer Notification"}),(0,z.jsx)(cZ,{className:"bg-green-100 text-green-800",children:"Sent"})]})]})})]})]})}function pK({children:e,className:t=""}){return(0,z.jsx)("label",{className:t,children:e})}let pZ=[{id:"RET-2026-001",customer:"ABC Construction Sdn Bhd",customerContact:"+60 12-345-6789",orderId:"ORD-2026-156",returnType:"Full",transportationType:"Transportation Needed",items:[{id:"ITM-001",name:"Steel Pipe Scaffolding 6m",category:"Pipes",quantity:100,quantityReturned:0,status:"Pending"},{id:"ITM-002",name:"Coupler Standard",category:"Connectors",quantity:200,quantityReturned:0,status:"Pending"},{id:"ITM-003",name:"Base Plate",category:"Accessories",quantity:50,quantityReturned:0,status:"Pending"}],requestDate:"2026-12-02",status:"Requested"},{id:"RET-2026-002",customer:"Megah Engineering Sdn Bhd",customerContact:"+60 13-456-7890",orderId:"ORD-2026-145",returnType:"Partial",transportationType:"Self Return",items:[{id:"ITM-004",name:"Aluminum Tube 4m",category:"Tubes",quantity:100,quantityReturned:0,status:"Pending"},{id:"ITM-005",name:"Edge Protection",category:"Safety",quantity:60,quantityReturned:0,status:"Pending"}],requestDate:"2026-12-05",status:"Requested"},{id:"RET-2026-003",customer:"DEF Builders",customerContact:"+60 14-567-8901",orderId:"ORD-2026-134",returnType:"Full",transportationType:"Self Return",items:[{id:"ITM-006",name:"Ringlock System 2m",category:"Systems",quantity:150,quantityReturned:0,status:"Pending"},{id:"ITM-007",name:"Ledger 1.5m",category:"Systems",quantity:120,quantityReturned:0,status:"Pending"},{id:"ITM-008",name:"Diagonal Brace",category:"Support",quantity:100,quantityReturned:0,status:"Pending"}],requestDate:"2026-12-08",status:"Requested"},{id:"RET-2026-004",customer:"Sunrise Development Sdn Bhd",customerContact:"+60 15-678-9012",orderId:"ORD-2026-178",returnType:"Partial",transportationType:"Transportation Needed",items:[{id:"ITM-009",name:"Heavy Duty Tube 6m",category:"Tubes",quantity:120,quantityReturned:0,status:"Pending"},{id:"ITM-010",name:"Beam Clamp",category:"Connectors",quantity:90,quantityReturned:0,status:"Pending"}],requestDate:"2026-12-10",status:"Requested"}];function pQ(){let[e,t]=(0,q.useState)(pZ),[r,s]=(0,q.useState)("list"),[a,n]=(0,q.useState)(null),i=()=>{s("list"),n(null)},l=e.filter(e=>"Requested"===e.status).length,o=e.filter(e=>"Requested"!==e.status&&"Completed"!==e.status).length,c=e.filter(e=>"Completed"===e.status).length,d=e.filter(e=>"Dispute Raised"===e.status).length;return"workflow"===r?(0,z.jsx)(pG,{returnOrder:a,onSave:r=>{e.find(e=>e.id===r.id)?(t(e.map(e=>e.id===r.id?r:e)),ld.success("Return updated successfully")):(t([r,...e]),ld.success("Return created successfully")),s("list"),n(null)},onBack:i}):"details"===r&&a?(0,z.jsx)(pX,{returnOrder:a,onProcess:()=>s("workflow"),onBack:i}):(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)("h1",{children:"Return Management"}),(0,z.jsx)("p",{className:"text-[#374151]",children:"Comprehensive return processing with GRN & RCF generation"})]}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"Requested Returns"})}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(ei,{className:"h-5 w-5 text-[#3B82F6]"}),(0,z.jsx)("p",{className:"text-[#111827]",children:l})]})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"In Progress"})}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(eo,{className:"h-5 w-5 text-[#F59E0B]"}),(0,z.jsx)("p",{className:"text-[#111827]",children:o})]})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"Completed"})}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(lX,{className:"h-5 w-5 text-[#059669]"}),(0,z.jsx)("p",{className:"text-[#111827]",children:c})]})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"Disputes"})}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(pV,{className:"h-5 w-5 text-[#DC2626]"}),(0,z.jsx)("p",{className:"text-[#111827]",children:d})]})})]})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{children:"All Returns"})}),(0,z.jsx)(on,{children:(0,z.jsxs)(c8,{children:[(0,z.jsx)(c7,{children:(0,z.jsxs)(de,{children:[(0,z.jsx)(dt,{children:"Return ID"}),(0,z.jsx)(dt,{children:"Customer"}),(0,z.jsx)(dt,{children:"Type"}),(0,z.jsx)(dt,{children:"Transportation"}),(0,z.jsx)(dt,{children:"Request Date"}),(0,z.jsx)(dt,{children:"Status"}),(0,z.jsx)(dt,{className:"text-right",children:"Actions"})]})}),(0,z.jsx)(c9,{children:e.map(e=>{var t;let r,a;return(0,z.jsxs)(de,{children:[(0,z.jsx)(dr,{className:"text-[#231F20]",children:e.id}),(0,z.jsx)(dr,{children:(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#231F20]",children:e.customer}),e.customerContact&&(0,z.jsx)("p",{className:"text-sm text-[#6B7280]",children:e.customerContact})]})}),(0,z.jsx)(dr,{children:(0,z.jsx)(cZ,{className:"Full"===e.returnType?"bg-blue-100 text-blue-800":"bg-amber-100 text-amber-800",children:e.returnType})}),(0,z.jsx)(dr,{children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:["Transportation Needed"===e.transportationType?(0,z.jsx)(eo,{className:"size-4 text-[#F59E0B]"}):(0,z.jsx)(ex,{className:"size-4 text-[#10B981]"}),(0,z.jsx)("span",{className:"text-sm text-[#6B7280]",children:"Transportation Needed"===e.transportationType?"Transport":"Self Return"})]})}),(0,z.jsx)(dr,{className:"text-[#6B7280]",children:uq(new Date(e.requestDate),"PP")}),(0,z.jsx)(dr,{children:(t=e.status,a=(r={Requested:{color:"bg-[#3B82F6] hover:bg-[#2563EB]",text:"Requested"},Approved:{color:"bg-[#10B981] hover:bg-[#059669]",text:"Approved"},"Pickup Scheduled":{color:"bg-[#8B5CF6] hover:bg-[#7C3AED]",text:"Pickup Scheduled"},"Pickup Confirmed":{color:"bg-[#8B5CF6] hover:bg-[#7C3AED]",text:"Pickup Confirmed"},"Driver Recording":{color:"bg-[#F59E0B] hover:bg-[#D97706]",text:"Driver Recording"},"In Transit":{color:"bg-[#F59E0B] hover:bg-[#D97706]",text:"In Transit"},"Received at Warehouse":{color:"bg-[#06B6D4] hover:bg-[#0891B2]",text:"Received at Warehouse"},"Under Inspection":{color:"bg-[#F59E0B] hover:bg-[#D97706]",text:"Under Inspection"},"Sorting Complete":{color:"bg-[#10B981] hover:bg-[#059669]",text:"Sorting Complete"},"Customer Notified":{color:"bg-[#10B981] hover:bg-[#059669]",text:"Customer Notified"},"Dispute Raised":{color:"bg-[#DC2626] hover:bg-[#B91C1C]",text:"Dispute Raised"},Completed:{color:"bg-[#059669] hover:bg-[#047857]",text:"Completed"}})[t]||r.Requested,(0,z.jsx)(cZ,{className:a.color,children:a.text}))}),(0,z.jsx)(dr,{className:"text-right",children:(0,z.jsxs)(n1,{children:[(0,z.jsx)(n2,{asChild:!0,children:(0,z.jsx)(tb,{variant:"outline",size:"sm",children:(0,z.jsx)(dg,{className:"size-4"})})}),(0,z.jsxs)(n4,{align:"end",children:[(0,z.jsxs)(n5,{onClick:()=>{n(e),s("details")},children:[(0,z.jsx)(lv,{className:"size-4 mr-2"}),"View Details"]}),"Completed"!==e.status&&(0,z.jsxs)(n5,{onClick:()=>{n(e),s("workflow")},children:[(0,z.jsx)(cX,{className:"size-4 mr-2"}),"Process"]}),("Customer Notified"===e.status||"Completed"===e.status)&&e.grnNumber&&(0,z.jsxs)(n5,{onClick:()=>{e.grnNumber?ld.success(`Viewing GRN: ${e.grnNumber}`):ld.error("GRN not yet generated for this return")},children:[(0,z.jsx)(K,{className:"size-4 mr-2"}),"View GRN"]})]})]})})]},e.id)})})]})})]})]})}let pJ=Y("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);e.i(47167);var p0=Symbol.for("immer-nothing"),p1=Symbol.for("immer-draftable"),p2=Symbol.for("immer-state");function p4(e){throw Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var p5=Object.getPrototypeOf;function p6(e){return!!e&&!!e[p2]}function p3(e){return!!e&&(p7(e)||Array.isArray(e)||!!e[p1]||!!e.constructor?.[p1]||fs(e)||fa(e))}var p8=Object.prototype.constructor.toString();function p7(e){if(!e||"object"!=typeof e)return!1;let t=p5(e);if(null===t)return!0;let r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===p8}function p9(e,t){0===fe(e)?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,s)=>t(s,r,e))}function fe(e){let t=e[p2];return t?t.type_:Array.isArray(e)?1:fs(e)?2:3*!!fa(e)}function ft(e,t){return 2===fe(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function fr(e,t,r){let s=fe(e);2===s?e.set(t,r):3===s?e.add(r):e[t]=r}function fs(e){return e instanceof Map}function fa(e){return e instanceof Set}function fn(e){return e.copy_||e.base_}function fi(e,t){if(fs(e))return new Map(e);if(fa(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);let r=p7(e);if(!0!==t&&("class_only"!==t||r)){let t=p5(e);return null!==t&&r?{...e}:Object.assign(Object.create(t),e)}{let t=Object.getOwnPropertyDescriptors(e);delete t[p2];let r=Reflect.ownKeys(t);for(let s=0;s<r.length;s++){let a=r[s],n=t[a];!1===n.writable&&(n.writable=!0,n.configurable=!0),(n.get||n.set)&&(t[a]={configurable:!0,writable:!0,enumerable:n.enumerable,value:e[a]})}return Object.create(p5(e),t)}}function fl(e,t=!1){return fc(e)||p6(e)||!p3(e)||(fe(e)>1&&(e.set=e.add=e.clear=e.delete=fo),Object.freeze(e),t&&Object.entries(e).forEach(([e,t])=>fl(t,!0))),e}function fo(){p4(2)}function fc(e){return Object.isFrozen(e)}var fd={};function fu(e){let t=fd[e];return t||p4(0,e),t}function fm(e,t){t&&(fu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function fh(e){fx(e),e.drafts_.forEach(ff),e.drafts_=null}function fx(e){e===F&&(F=e.parent_)}function fp(e){return F={drafts_:[],parent_:F,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ff(e){let t=e[p2];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function fg(e,t){t.unfinalizedDrafts_=t.drafts_.length;let r=t.drafts_[0];return void 0!==e&&e!==r?(r[p2].modified_&&(fh(t),p4(4)),p3(e)&&(e=fv(t,e),t.parent_||fy(t,e)),t.patches_&&fu("Patches").generateReplacementPatches_(r[p2].base_,e,t.patches_,t.inversePatches_)):e=fv(t,r,[]),fh(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==p0?e:void 0}function fv(e,t,r){if(fc(t))return t;let s=t[p2];if(!s)return p9(t,(a,n)=>fj(e,s,t,a,n,r)),t;if(s.scope_!==e)return t;if(!s.modified_)return fy(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;let t=s.copy_,a=t,n=!1;3===s.type_&&(a=new Set(t),t.clear(),n=!0),p9(a,(a,i)=>fj(e,s,t,a,i,r,n)),fy(e,t,!1),r&&e.patches_&&fu("Patches").generatePatches_(s,r,e.patches_,e.inversePatches_)}return s.copy_}function fj(e,t,r,s,a,n,i){if(p6(a)){let i=fv(e,a,n&&t&&3!==t.type_&&!ft(t.assigned_,s)?n.concat(s):void 0);if(fr(r,s,i),!p6(i))return;e.canAutoFreeze_=!1}else i&&r.add(a);if(p3(a)&&!fc(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;fv(e,a),(!t||!t.scope_.parent_)&&"symbol"!=typeof s&&Object.prototype.propertyIsEnumerable.call(r,s)&&fy(e,a)}}function fy(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&fl(t,r)}var fb={get(e,t){if(t===p2)return e;let r=fn(e);if(!ft(r,t)){var s;let a;return s=e,(a=fC(r,t))?"value"in a?a.value:a.get?.call(s.draft_):void 0}let a=r[t];return e.finalized_||!p3(a)?a:a===fw(e.base_,t)?(fD(e),e.copy_[t]=fP(a,e)):a},has:(e,t)=>t in fn(e),ownKeys:e=>Reflect.ownKeys(fn(e)),set(e,t,r){let s=fC(fn(e),t);if(s?.set)return s.set.call(e.draft_,r),!0;if(!e.modified_){let s=fw(fn(e),t),a=s?.[p2];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if((r===s?0!==r||1/r==1/s:r!=r&&s!=s)&&(void 0!==r||ft(e.base_,t)))return!0;fD(e),fS(e)}return!!(e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t]))||(e.copy_[t]=r,e.assigned_[t]=!0,!0)},deleteProperty:(e,t)=>(void 0!==fw(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,fD(e),fS(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){let r=fn(e),s=Reflect.getOwnPropertyDescriptor(r,t);return s?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:s.enumerable,value:r[t]}:s},defineProperty(){p4(11)},getPrototypeOf:e=>p5(e.base_),setPrototypeOf(){p4(12)}},fN={};function fw(e,t){let r=e[p2];return(r?fn(r):e)[t]}function fC(e,t){if(!(t in e))return;let r=p5(e);for(;r;){let e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=p5(r)}}function fS(e){!e.modified_&&(e.modified_=!0,e.parent_&&fS(e.parent_))}function fD(e){e.copy_||(e.copy_=fi(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function fP(e,t){let r=fs(e)?fu("MapSet").proxyMap_(e,t):fa(e)?fu("MapSet").proxySet_(e,t):function(e,t){let r=Array.isArray(e),s={type_:+!!r,scope_:t?t.scope_:F,modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},a=s,n=fb;r&&(a=[s],n=fN);let{revoke:i,proxy:l}=Proxy.revocable(a,n);return s.draft_=l,s.revoke_=i,l}(e,t);return(t?t.scope_:F).drafts_.push(r),r}function fk(e){return p6(e)||p4(10,e),function e(t){let r;if(!p3(t)||fc(t))return t;let s=t[p2];if(s){if(!s.modified_)return s.base_;s.finalized_=!0,r=fi(t,s.scope_.immer_.useStrictShallowCopy_)}else r=fi(t,!0);return p9(r,(t,s)=>{fr(r,t,e(s))}),s&&(s.finalized_=!1),r}(e)}p9(fb,(e,t)=>{fN[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),fN.deleteProperty=function(e,t){return fN.set.call(this,e,t,void 0)},fN.set=function(e,t,r){return fb.set.call(this,e[0],t,r,e[0])};var fE=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{let s;if("function"==typeof e&&"function"!=typeof t){let r=t;t=e;let s=this;return function(e=r,...a){return s.produce(e,e=>t.call(this,e,...a))}}if("function"!=typeof t&&p4(6),void 0!==r&&"function"!=typeof r&&p4(7),p3(e)){let a=fp(this),n=fP(e,void 0),i=!0;try{s=t(n),i=!1}finally{i?fh(a):fx(a)}return fm(a,r),fg(s,a)}if(e&&"object"==typeof e)p4(1,e);else{if(void 0===(s=t(e))&&(s=e),s===p0&&(s=void 0),this.autoFreeze_&&fl(s,!0),r){let t=[],a=[];fu("Patches").generateReplacementPatches_(e,s,t,a),r(t,a)}return s}},this.produceWithPatches=(e,t)=>{let r,s;return"function"==typeof e?(t,...r)=>this.produceWithPatches(t,t=>e(t,...r)):[this.produce(e,t,(e,t)=>{r=e,s=t}),r,s]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){p3(e)||p4(8),p6(e)&&(e=fk(e));let t=fp(this),r=fP(e,void 0);return r[p2].isManual_=!0,fx(t),r}finishDraft(e,t){let r=e&&e[p2];r&&r.isManual_||p4(9);let{scope_:s}=r;return fm(s,t),fg(void 0,s)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){let s=t[r];if(0===s.path.length&&"replace"===s.op){e=s.value;break}}r>-1&&(t=t.slice(r+1));let s=fu("Patches").applyPatches_;return p6(e)?s(e,t):this.produce(e,e=>s(e,t))}},fA=fE.produce;fE.produceWithPatches.bind(fE),fE.setAutoFreeze.bind(fE),fE.setUseStrictShallowCopy.bind(fE),fE.applyPatches.bind(fE),fE.createDraft.bind(fE),fE.finishDraft.bind(fE);var fF=e=>Array.isArray(e)?e:[e],fR=0,fO=class{revision=fR;_value;_lastValue;_isEqual=fI;constructor(e,t=fI){this._value=this._lastValue=e,this._isEqual=t}get value(){return this._value}set value(e){this.value!==e&&(this._value=e,this.revision=++fR)}};function fI(e,t){return e===t}function fM(e){return e instanceof fO||console.warn("Not a valid cell! ",e),e.value}var fT=(e,t)=>!1;function fB(){return function(e,t=fI){return new fO(null,t)}(0,fT)}var f_=e=>{let t=e.collectionTag;null===t&&(t=e.collectionTag=fB()),fM(t)};Symbol();var fL=0,fz=Object.getPrototypeOf({}),fq=class{constructor(e){this.value=e,this.value=e,this.tag.value=e}proxy=new Proxy(this,fU);tag=fB();tags={};children={};collectionTag=null;id=fL++},fU={get:(e,t)=>(function(){let{value:r}=e,s=Reflect.get(r,t);if("symbol"==typeof t||t in fz)return s;if("object"==typeof s&&null!==s){var a;let r=e.children[t];return void 0===r&&(r=e.children[t]=Array.isArray(a=s)?new f$(a):new fq(a)),r.tag&&fM(r.tag),r.proxy}{let r=e.tags[t];return void 0===r&&((r=e.tags[t]=fB()).value=s),fM(r),s}})(),ownKeys:e=>(f_(e),Reflect.ownKeys(e.value)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e.value,t),has:(e,t)=>Reflect.has(e.value,t)},f$=class{constructor(e){this.value=e,this.value=e,this.tag.value=e}proxy=new Proxy([this],fV);tag=fB();tags={};children={};collectionTag=null;id=fL++},fV={get:([e],t)=>("length"===t&&f_(e),fU.get(e,t)),ownKeys:([e])=>fU.ownKeys(e),getOwnPropertyDescriptor:([e],t)=>fU.getOwnPropertyDescriptor(e,t),has:([e],t)=>fU.has(e,t)},fW="u">typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function fH(){return{s:0,v:void 0,o:null,p:null}}function fY(e,t={}){let r,s=fH(),{resultEqualityCheck:a}=t,n=0;function i(){let t,i=s,{length:l}=arguments;for(let e=0;e<l;e++){let t=arguments[e];if("function"==typeof t||"object"==typeof t&&null!==t){let e=i.o;null===e&&(i.o=e=new WeakMap);let r=e.get(t);void 0===r?(i=fH(),e.set(t,i)):i=r}else{let e=i.p;null===e&&(i.p=e=new Map);let r=e.get(t);void 0===r?(i=fH(),e.set(t,i)):i=r}}let o=i;if(1===i.s)t=i.v;else if(t=e.apply(null,arguments),n++,a){let e=r?.deref?.()??r;null!=e&&a(e,t)&&(t=e,0!==n&&n--),r="object"==typeof t&&null!==t||"function"==typeof t?new fW(t):t}return o.s=1,o.v=t,t}return i.clearCache=()=>{s=fH(),i.resetResultsCount()},i.resultsCount=()=>n,i.resetResultsCount=()=>{n=0},i}var fG=function(e,...t){let r="function"==typeof e?{memoize:e,memoizeOptions:t}:e,s=(...e)=>{let t,s,a=0,n=0,i={},l=e.pop();"object"==typeof l&&(i=l,l=e.pop()),function(e,t=`expected a function, instead received ${typeof e}`){if("function"!=typeof e)throw TypeError(t)}(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);let{memoize:o,memoizeOptions:c=[],argsMemoize:d=fY,argsMemoizeOptions:u=[],devModeChecks:m={}}={...r,...i},h=fF(c),x=fF(u),p=(!function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(e=>"function"==typeof e)){let r=e.map(e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw TypeError(`${t}[${r}]`)}}(t=Array.isArray(e[0])?e[0]:e,"createSelector expects all input-selectors to be functions, but received the following types: "),t),f=o(function(){return a++,l.apply(null,arguments)},...h);return Object.assign(d(function(){n++;let e=function(e,t){let r=[],{length:s}=e;for(let a=0;a<s;a++)r.push(e[a].apply(null,t));return r}(p,arguments);return s=f.apply(null,e)},...x),{resultFunc:l,memoizedResultFunc:f,dependencies:p,dependencyRecomputations:()=>n,resetDependencyRecomputations:()=>{n=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:o,argsMemoize:d})};return Object.assign(s,{withTypes:()=>s}),s}(fY),fX=Object.assign((e,t=fG)=>{!function(e,t=`expected an object, instead received ${typeof e}`){if("object"!=typeof e)throw TypeError(t)}(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);let r=Object.keys(e);return t(r.map(t=>e[t]),(...e)=>e.reduce((e,t,s)=>(e[r[s]]=t,e),{}))},{withTypes:()=>fX});function fK(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var fZ="function"==typeof Symbol&&Symbol.observable||"@@observable",fQ=()=>Math.random().toString(36).substring(7).split("").join("."),fJ={INIT:`@@redux/INIT${fQ()}`,REPLACE:`@@redux/REPLACE${fQ()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${fQ()}`};function f0(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function f1(e){let t,r=Object.keys(e),s={};for(let t=0;t<r.length;t++){let a=r[t];"function"==typeof e[a]&&(s[a]=e[a])}let a=Object.keys(s);try{Object.keys(s).forEach(e=>{let t=s[e];if(void 0===t(void 0,{type:fJ.INIT}))throw Error(fK(12));if(void 0===t(void 0,{type:fJ.PROBE_UNKNOWN_ACTION()}))throw Error(fK(13))})}catch(e){t=e}return function(e={},r){if(t)throw t;let n=!1,i={};for(let t=0;t<a.length;t++){let l=a[t],o=s[l],c=e[l],d=o(c,r);if(void 0===d)throw r&&r.type,Error(fK(14));i[l]=d,n=n||d!==c}return(n=n||a.length!==Object.keys(e).length)?i:e}}function f2(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...r)=>e(t(...r)))}function f4(e){return f0(e)&&"type"in e&&"string"==typeof e.type}function f5(e){return({dispatch:t,getState:r})=>s=>a=>"function"==typeof a?a(t,r,e):s(a)}var f6=f5(),f3="u">typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!=arguments.length)return"object"==typeof arguments[0]?f2:f2.apply(null,arguments)};function f8(e,t){function r(...s){if(t){let r=t(...s);if(!r)throw Error(g_(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:s[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=t=>f4(t)&&t.type===e,r}"u">typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var f7=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function f9(e){return p3(e)?fA(e,()=>{}):e}function ge(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}var gt=e=>t=>{setTimeout(t,e)};function gr(e){let t,r={},s=[],a={addCase(e,t){let s="string"==typeof e?e:e.type;if(!s)throw Error(g_(28));if(s in r)throw Error(g_(29));return r[s]=t,a},addMatcher:(e,t)=>(s.push({matcher:e,reducer:t}),a),addDefaultCase:e=>(t=e,a)};return e(a),[r,s,t]}var gs=Symbol.for("rtk-slice-createasyncthunk"),ga=((N=ga||{}).reducer="reducer",N.reducerWithPrepare="reducerWithPrepare",N.asyncThunk="asyncThunk",N),gn=function({creators:e}={}){let t=e?.asyncThunk?.[gs];return function(e){let r,{name:s,reducerPath:a=s}=e;if(!s)throw Error(g_(11));let n=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},i=Object.keys(n),l={},o={},c={},d=[],u={addCase(e,t){let r="string"==typeof e?e:e.type;if(!r)throw Error(g_(12));if(r in o)throw Error(g_(13));return o[r]=t,u},addMatcher:(e,t)=>(d.push({matcher:e,reducer:t}),u),exposeAction:(e,t)=>(c[e]=t,u),exposeCaseReducer:(e,t)=>(l[e]=t,u)};function m(){let[t={},r=[],s]="function"==typeof e.extraReducers?gr(e.extraReducers):[e.extraReducers],a={...t,...o};return function(e,t){let r,[s,a,n]=gr(t);if("function"==typeof e)r=()=>f9(e());else{let t=f9(e);r=()=>t}function i(e=r(),t){let l=[s[t.type],...a.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];return 0===l.filter(e=>!!e).length&&(l=[n]),l.reduce((e,r)=>{if(r)if(p6(e)){let s=r(e,t);return void 0===s?e:s}else{if(p3(e))return fA(e,e=>r(e,t));let s=r(e,t);if(void 0===s){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return s}return e},e)}return i.getInitialState=r,i}(e.initialState,e=>{for(let t in a)e.addCase(t,a[t]);for(let t of d)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);s&&e.addDefaultCase(s)})}i.forEach(r=>{let a=n[r],i={reducerName:r,type:`${s}/${r}`,createNotation:"function"==typeof e.reducers};"asyncThunk"===a._reducerDefinitionType?function({type:e,reducerName:t},r,s,a){if(!a)throw Error(g_(18));let{payloadCreator:n,fulfilled:i,pending:l,rejected:o,settled:c,options:d}=r,u=a(e,n,d);s.exposeAction(t,u),i&&s.addCase(u.fulfilled,i),l&&s.addCase(u.pending,l),o&&s.addCase(u.rejected,o),c&&s.addMatcher(u.settled,c),s.exposeCaseReducer(t,{fulfilled:i||gi,pending:l||gi,rejected:o||gi,settled:c||gi})}(i,a,u,t):function({type:e,reducerName:t,createNotation:r},s,a){let n,i;if("reducer"in s){if(r&&"reducerWithPrepare"!==s._reducerDefinitionType)throw Error(g_(17));n=s.reducer,i=s.prepare}else n=s;a.addCase(e,n).exposeCaseReducer(t,n).exposeAction(t,i?f8(e,i):f8(e))}(i,a,u)});let h=e=>e,x=new Map,p=new WeakMap;function f(e,t){return r||(r=m()),r(e,t)}function g(){return r||(r=m()),r.getInitialState()}function v(t,r=!1){function s(e){let a=e[t];return void 0===a&&r&&(a=ge(p,s,g)),a}function a(t=h){let s=ge(x,r,()=>new WeakMap);return ge(s,t,()=>{let s={};for(let[a,n]of Object.entries(e.selectors??{}))s[a]=function(e,t,r,s){function a(n,...i){let l=t(n);return void 0===l&&s&&(l=r()),e(l,...i)}return a.unwrapped=e,a}(n,t,()=>ge(p,t,g),r);return s})}return{reducerPath:t,getSelectors:a,get selectors(){return a(s)},selectSlice:s}}let j={name:s,reducer:f,actions:c,caseReducers:l,getInitialState:g,...v(a),injectInto(e,{reducerPath:t,...r}={}){let s=t??a;return e.inject({reducerPath:s,reducer:f},r),{...j,...v(s,!0)}}};return j}}();function gi(){}var gl="listener",go="completed",gc="cancelled",gd=`task-${gc}`,gu=`task-${go}`,gm=`${gl}-${gc}`,gh=`${gl}-${go}`,gx=class{constructor(e){this.code=e,this.message=`task ${gc} (reason: ${e})`}name="TaskAbortError";message},gp=(e,t)=>{if("function"!=typeof e)throw TypeError(g_(32))},gf=()=>{},gg=(e,t=gf)=>(e.catch(t),e),gv=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),gj=(e,t)=>{let r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},gy=e=>{if(e.aborted){let{reason:t}=e;throw new gx(t)}};function gb(e,t){let r=gf;return new Promise((s,a)=>{let n=()=>a(new gx(e.reason));e.aborted?n():(r=gv(e,n),t.finally(()=>r()).then(s,a))}).finally(()=>{r=gf})}var gN=async(e,t)=>{try{await Promise.resolve();let t=await e();return{status:"ok",value:t}}catch(e){return{status:e instanceof gx?"cancelled":"rejected",error:e}}finally{t?.()}},gw=e=>t=>gg(gb(e,t).then(t=>(gy(e),t))),gC=e=>{let t=gw(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:gS}=Object,gD={},gP="listenerMiddleware",gk=e=>{let{type:t,actionCreator:r,matcher:s,predicate:a,effect:n}=e;if(t)a=f8(t).match;else if(r)t=r.type,a=r.match;else if(s)a=s;else if(a);else throw Error(g_(21));return gp(n,"options.listener"),{predicate:a,type:t,effect:n}},gE=gS(e=>{let{type:t,predicate:r,effect:s}=gk(e);return{id:((e=21)=>{let t="",r=e;for(;r--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t})(),effect:s,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw Error(g_(22))}}},{withTypes:()=>gE}),gA=(e,t)=>{let{type:r,effect:s,predicate:a}=gk(t);return Array.from(e.values()).find(e=>("string"==typeof r?e.type===r:e.predicate===a)&&e.effect===s)},gF=e=>{e.pending.forEach(e=>{gj(e,gm)})},gR=(e,t,r)=>{try{e(t,r)}catch(e){setTimeout(()=>{throw e},0)}},gO=gS(f8(`${gP}/add`),{withTypes:()=>gO}),gI=f8(`${gP}/removeAll`),gM=gS(f8(`${gP}/remove`),{withTypes:()=>gM}),gT=(...e)=>{console.error(`${gP}/error`,...e)},gB=(e={})=>{let t=new Map,{extra:r,onError:s=gT}=e;gp(s,"onError");let a=e=>{var r;return(r=gA(t,e)??gE(e)).unsubscribe=()=>t.delete(r.id),t.set(r.id,r),e=>{r.unsubscribe(),e?.cancelActive&&gF(r)}};gS(a,{withTypes:()=>a});let n=e=>{let r=gA(t,e);return r&&(r.unsubscribe(),e.cancelActive&&gF(r)),!!r};gS(n,{withTypes:()=>n});let i=async(e,n,i,l)=>{var o,c;let d,u=new AbortController,m=(o=u.signal,d=async(e,t)=>{gy(o);let r=()=>{},s=[new Promise((t,s)=>{let n=a({predicate:e,effect:(e,r)=>{r.unsubscribe(),t([e,r.getState(),r.getOriginalState()])}});r=()=>{n(),s()}})];null!=t&&s.push(new Promise(e=>setTimeout(e,t,null)));try{let e=await gb(o,Promise.race(s));return gy(o),e}finally{r()}},(e,t)=>gg(d(e,t))),h=[];try{e.pending.add(u),await Promise.resolve(e.effect(n,gS({},i,{getOriginalState:l,condition:(e,t)=>m(e,t).then(Boolean),take:m,delay:gC(u.signal),pause:gw(u.signal),extra:r,signal:u.signal,fork:(c=u.signal,(e,t)=>{gp(e,"taskExecutor");let r=new AbortController;gv(c,()=>gj(r,c.reason));let s=gN(async()=>{gy(c),gy(r.signal);let t=await e({pause:gw(r.signal),delay:gC(r.signal),signal:r.signal});return gy(r.signal),t},()=>gj(r,gu));return t?.autoJoin&&h.push(s.catch(gf)),{result:gw(c)(s),cancel(){gj(r,gd)}}}),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,r)=>{e!==u&&(gj(e,gm),r.delete(e))})},cancel:()=>{gj(u,gm),e.pending.delete(u)},throwIfCancelled:()=>{gy(u.signal)}})))}catch(e){e instanceof gx||gR(s,e,{raisedBy:"effect"})}finally{await Promise.all(h),gj(u,gh),e.pending.delete(u)}},l=()=>{t.forEach(gF),t.clear()};return{middleware:e=>r=>o=>{let c;if(!f4(o))return r(o);if(gO.match(o))return a(o.payload);if(gI.match(o))return void l();if(gM.match(o))return n(o.payload);let d=e.getState(),u=()=>{if(d===gD)throw Error(g_(23));return d};try{if(c=r(o),t.size>0){let r=e.getState();for(let a of Array.from(t.values())){let t=!1;try{t=a.predicate(o,r,d)}catch(e){t=!1,gR(s,e,{raisedBy:"predicate"})}t&&i(a,o,e,u)}}}finally{d=gD}return c},startListening:a,stopListening:n,clearListeners:l}};function g_(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}Symbol.for("rtk-state-proxy-original");var gL=e.i(92068),gz=e=>0===e?0:e>0?1:-1,gq=e=>"number"==typeof e&&e!=+e,gU=e=>"string"==typeof e&&e.indexOf("%")===e.length-1,g$=e=>("number"==typeof e||e instanceof Number)&&!gq(e),gV=e=>g$(e)||"string"==typeof e,gW=0,gH=e=>{var t=++gW;return"".concat(e||"").concat(t)},gY=function(e,t){var r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!g$(e)&&"string"!=typeof e)return s;if(gU(e)){if(null==t)return s;var n=e.indexOf("%");r=t*parseFloat(e.slice(0,n))/100}else r=+e;return gq(r)&&(r=s),a&&null!=t&&r>t&&(r=t),r},gG=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},s=0;s<t;s++)if(r[e[s]])return!0;else r[e[s]]=!0;return!1},gX=(e,t)=>g$(e)&&g$(t)?r=>e+r*(t-e):()=>t;function gK(e,t,r){return g$(e)&&g$(t)?e+r*(t-e):t}var gZ=e=>null==e?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function gQ(e,t){if(t){var r=Number.parseInt(t,10);if(!gq(r))return null==e?void 0:e[r]}}var gJ=gn({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),g0=gJ.reducer,{createEventEmitter:g1}=gJ.actions,g2=(e.i(13027),{notify(){},get:()=>[]}),g4="u">typeof window&&void 0!==window.document&&void 0!==window.document.createElement,g5="u">typeof navigator&&"ReactNative"===navigator.product,g6=g4||g5?q.useLayoutEffect:q.useEffect,g3=Symbol.for("react-redux-context"),g8="u">typeof globalThis?globalThis:{},g7=function(){if(!q.createContext)return{};let e=g8[g3]??=new Map,t=e.get(q.createContext);return t||(t=q.createContext(null),e.set(q.createContext,t)),t}(),g9=function(e){let{children:t,context:r,serverState:s,store:a}=e,n=q.useMemo(()=>{let e=function(e,t){let r,s=g2,a=0,n=!1;function i(){c.onStateChange&&c.onStateChange()}function l(){if(a++,!r){let t,a;r=e.subscribe(i),t=null,a=null,s={clear(){t=null,a=null},notify(){let e=t;for(;e;)e.callback(),e=e.next},get(){let e=[],r=t;for(;r;)e.push(r),r=r.next;return e},subscribe(e){let r=!0,s=a={callback:e,next:null,prev:a};return s.prev?s.prev.next=s:t=s,function(){r&&null!==t&&(r=!1,s.next?s.next.prev=s.prev:a=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}}function o(){a--,r&&0===a&&(r(),r=void 0,s.clear(),s=g2)}let c={addNestedSub:function(e){l();let t=s.subscribe(e),r=!1;return()=>{r||(r=!0,t(),o())}},notifyNestedSubs:function(){s.notify()},handleChangeWrapper:i,isSubscribed:function(){return n},trySubscribe:function(){n||(n=!0,l())},tryUnsubscribe:function(){n&&(n=!1,o())},getListeners:()=>s};return c}(a);return{store:a,subscription:e,getServerState:s?()=>s:void 0}},[a,s]),i=q.useMemo(()=>a.getState(),[a]);return g6(()=>{let{subscription:e}=n;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),i!==a.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[n,i]),q.createElement((r||g7).Provider,{value:n},t)};function ve(e=g7){return function(){return q.useContext(e)}}var vt=ve(),vr={active:!1,index:null,dataKey:void 0,coordinate:void 0},vs=gn({name:"tooltip",initialState:{itemInteraction:{click:vr,hover:vr},axisInteraction:{click:vr,hover:vr},keyboardInteraction:vr,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=fk(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:va,removeTooltipEntrySettings:vn,setTooltipSettingsState:vi,setActiveMouseOverItemIndex:vl,mouseLeaveItem:vo,mouseLeaveChart:vc,setActiveClickItemIndex:vd,setMouseOverAxisIndex:vu,setMouseClickAxisIndex:vm,setSyncInteraction:vh,setKeyboardInteraction:vx}=vs.actions,vp=vs.reducer,vf=gn({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:s}=t.payload;null!=r&&(e.dataStartIndex=r),null!=s&&(e.dataEndIndex=s)}}}),{setChartData:vg,setDataStartEndIndexes:vv,setComputedData:vj}=vf.actions,vy=vf.reducer,vb=gn({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:vN,setLayout:vw,setChartSize:vC,setScale:vS}=vb.actions,vD=vb.reducer,vP=e.i(30224),vk=(0,q.createContext)(null),vE=e=>e,vA=()=>{var e=(0,q.useContext)(vk);return e?e.store.dispatch:vE},vF=()=>{},vR=()=>vF,vO=(e,t)=>e===t;function vI(e){var t=(0,q.useContext)(vk);return(0,vP.useSyncExternalStoreWithSelector)(t?t.subscription.addNestedSub:vR,t?t.store.getState:vF,t?t.store.getState:vF,t?e:vF,vO)}var vM=e.i(42342),vT=e=>e.legend.settings,vB=fG([e=>e.legend.payload,vT],(e,t)=>{var{itemSorter:r}=t,s=e.flat(1);return r?(0,vM.default)(s,r):s});function v_(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function vL(e){return function(){return e}}function vz(e,t){if((a=e.length)>1)for(var r,s,a,n=1,i=e[t[0]],l=i.length;n<a;++n)for(s=i,i=e[t[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function vq(e){for(var t=e.length,r=Array(t);--t>=0;)r[t]=t;return r}function vU(e,t){return e[t]}function v$(e){let t=[];return t.key=e,t}function vV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function vW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vV(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vV(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}Array.prototype.slice;var vH=Math.PI/180,vY=(e,t,r,s)=>({x:e+Math.cos(-vH*s)*r,y:t+Math.sin(-vH*s)*r}),vG=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2};function vX(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function vK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function vZ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vK(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vK(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function vQ(e,t,r){return null==e||null==t?r:gV(t)?(0,gL.default)(e,t,r):"function"==typeof t?t(e):r}var vJ=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,v0=(e,t,r,s)=>{if(s)return e.map(e=>e.coordinate);var a,n,i=e.map(e=>(e.coordinate===t&&(a=!0),e.coordinate===r&&(n=!0),e.coordinate));return a||i.push(t),n||i.push(r),i},v1=(e,t,r)=>{if(!e)return null;var{duplicateDomain:s,type:a,range:n,scale:i,realScaleType:l,isCategorical:o,categoricalDomain:c,tickCount:d,ticks:u,niceTicks:m,axisType:h}=e;if(!i)return null;var x="scaleBand"===l&&i.bandwidth?i.bandwidth()/2:2,p=(t||r)&&"category"===a&&i.bandwidth?i.bandwidth()/x:0;return(p="angleAxis"===h&&n&&n.length>=2?2*gz(n[0]-n[1])*p:p,t&&(u||m))?(u||m||[]).map((e,t)=>({coordinate:i(s?s.indexOf(e):e)+p,value:e,offset:p,index:t})).filter(e=>!gq(e.coordinate)):o&&c?c.map((e,t)=>({coordinate:i(e)+p,value:e,index:t,offset:p})):i.ticks&&!r&&null!=d?i.ticks(d).map((e,t)=>({coordinate:i(e)+p,value:e,offset:p,index:t})):i.domain().map((e,t)=>({coordinate:i(e)+p,value:s?s[e]:e,index:t,offset:p}))},v2={sign:e=>{var t=e.length;if(!(t<=0))for(var r=0,s=e[0].length;r<s;++r)for(var a=0,n=0,i=0;i<t;++i){var l=gq(e[i][r][1])?e[i][r][0]:e[i][r][1];l>=0?(e[i][r][0]=a,e[i][r][1]=a+l,a=e[i][r][1]):(e[i][r][0]=n,e[i][r][1]=n+l,n=e[i][r][1])}},expand:function(e,t){if((s=e.length)>0){for(var r,s,a,n=0,i=e[0].length;n<i;++n){for(a=r=0;r<s;++r)a+=e[r][n][1]||0;if(a)for(r=0;r<s;++r)e[r][n][1]/=a}vz(e,t)}},none:vz,silhouette:function(e,t){if((r=e.length)>0){for(var r,s=0,a=e[t[0]],n=a.length;s<n;++s){for(var i=0,l=0;i<r;++i)l+=e[i][s][1]||0;a[s][1]+=a[s][0]=-l/2}vz(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(s=(r=e[t[0]]).length)>0){for(var r,s,a,n=0,i=1;i<s;++i){for(var l=0,o=0,c=0;l<a;++l){for(var d=e[t[l]],u=d[i][1]||0,m=(u-(d[i-1][1]||0))/2,h=0;h<l;++h){var x=e[t[h]];m+=(x[i][1]||0)-(x[i-1][1]||0)}o+=u,c+=m*u}r[i-1][1]+=r[i-1][0]=n,o&&(n-=c/o)}r[i-1][1]+=r[i-1][0]=n,vz(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var r=0,s=e[0].length;r<s;++r)for(var a=0,n=0;n<t;++n){var i=gq(e[n][r][1])?e[n][r][0]:e[n][r][1];i>=0?(e[n][r][0]=a,e[n][r][1]=a+i,a=e[n][r][1]):(e[n][r][0]=0,e[n][r][1]=0)}}},v4=e=>{var{axis:t,ticks:r,offset:s,bandSize:a,entry:n,index:i}=e;if("category"===t.type)return r[i]?r[i].coordinate+s:null;var l=vQ(n,t.dataKey,t.scale.domain()[i]);return null==l?null:t.scale(l)-a/2+s},v5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,v6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,v3=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!r||s>0)return s}if(e&&t&&t.length>=2){for(var a=(0,vM.default)(t,e=>e.coordinate),n=1/0,i=1,l=a.length;i<l;i++){var o=a[i],c=a[i-1];n=Math.min((o.coordinate||0)-(c.coordinate||0),n)}return n===1/0?0:n}return r?void 0:0};function v8(e){var{tooltipEntrySettings:t,dataKey:r,payload:s,value:a,name:n}=e;return vZ(vZ({},t),{},{dataKey:r,payload:s,value:a,name:n})}function v7(e,t){return e?String(e):"string"==typeof t?t:void 0}var v9=e=>e.layout.width,je=e=>e.layout.height,jt=e=>e.layout.scale,jr=e=>e.layout.margin,js=fG(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ja=fG(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),jn="data-recharts-item-index",ji="data-recharts-item-data-key";function jl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function jo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jl(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jl(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var jc=fG([v9,je,jr,e=>e.brush.height,js,ja,vT,e=>e.legend.size],(e,t,r,s,a,n,i,l)=>{var o=n.reduce((e,t)=>{var{orientation:r}=t;if(!t.mirror&&!t.hide){var s="number"==typeof t.width?t.width:60;return jo(jo({},e),{},{[r]:e[r]+s})}return e},{left:r.left||0,right:r.right||0}),c=a.reduce((e,t)=>{var{orientation:r}=t;return t.mirror||t.hide?e:jo(jo({},e),{},{[r]:(0,gL.default)(e,"".concat(r))+t.height})},{top:r.top||0,bottom:r.bottom||0}),d=jo(jo({},c),o),u=d.bottom;d.bottom+=s;var m=e-(d=((e,t,r)=>{if(t&&r){var{width:s,height:a}=r,{align:n,verticalAlign:i,layout:l}=t;if(("vertical"===l||"horizontal"===l&&"middle"===i)&&"center"!==n&&g$(e[n]))return vZ(vZ({},e),{},{[n]:e[n]+(s||0)});if(("horizontal"===l||"vertical"===l&&"center"===n)&&"middle"!==i&&g$(e[i]))return vZ(vZ({},e),{},{[i]:e[i]+(a||0)})}return e})(d,i,l)).left-d.right,h=t-d.top-d.bottom;return jo(jo({brushBottom:u},d),{},{width:Math.max(m,0),height:Math.max(h,0)})}),jd=fG(jc,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),ju=fG(v9,je,(e,t)=>({x:0,y:0,width:e,height:t})),jm=(0,q.createContext)(null),jh=()=>null!=(0,q.useContext)(jm),jx=e=>e.brush,jp=fG([jx,jc,jr],(e,t,r)=>({height:e.height,x:g$(e.x)?e.x:t.left,y:g$(e.y)?e.y:t.top+t.height+t.brushBottom-((null==r?void 0:r.bottom)||0),width:g$(e.width)?e.width:t.width})),jf=()=>{var e,t=jh(),r=vI(jd),s=vI(jp),a=null==(e=vI(jx))?void 0:e.padding;return t&&s&&a?{width:s.width-a.left-a.right,height:s.height-a.top-a.bottom,x:a.left,y:a.top}:r},jg={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},jv=()=>{var e;return null!=(e=vI(jc))?e:jg},jj={top:0,right:0,bottom:0,left:0},jy=e=>e.layout.layoutType,jb=e.i(66814);function jN(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function jw(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}e.s([],25212),e.i(25212),e.s([],67155),e.i(67155);class jC extends Map{constructor(e,t=jD){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,r]of e)this.set(t,r)}get(e){return super.get(jS(this,e))}has(e){return super.has(jS(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},r){let s=t(r);return e.has(s)?e.get(s):(e.set(s,r),r)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},r){let s=t(r);return e.has(s)&&(r=e.get(s),e.delete(s)),r}(this,e))}}function jS({_intern:e,_key:t},r){let s=t(r);return e.has(s)?e.get(s):r}function jD(e){return null!==e&&"object"==typeof e?e.valueOf():e}let jP=Symbol("implicit");function jk(){var e=new jC,t=[],r=[],s=jP;function a(a){let n=e.get(a);if(void 0===n){if(s!==jP)return s;e.set(a,n=t.push(a)-1)}return r[n%r.length]}return a.domain=function(r){if(!arguments.length)return t.slice();for(let s of(t=[],e=new jC,r))e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(e){return arguments.length?(r=Array.from(e),a):r.slice()},a.unknown=function(e){return arguments.length?(s=e,a):s},a.copy=function(){return jk(t,r).unknown(s)},jN.apply(a,arguments),a}function jE(){var e,t,r=jk().unknown(void 0),s=r.domain,a=r.range,n=0,i=1,l=!1,o=0,c=0,d=.5;function u(){var r=s().length,u=i<n,m=u?i:n,h=u?n:i;e=(h-m)/Math.max(1,r-o+2*c),l&&(e=Math.floor(e)),m+=(h-m-e*(r-o))*d,t=e*(1-o),l&&(m=Math.round(m),t=Math.round(t));var x=(function(e,t,r){e*=1,t*=1,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var s=-1,a=0|Math.max(0,Math.ceil((t-e)/r)),n=Array(a);++s<a;)n[s]=e+s*r;return n})(r).map(function(t){return m+e*t});return a(u?x.reverse():x)}return delete r.unknown,r.domain=function(e){return arguments.length?(s(e),u()):s()},r.range=function(e){return arguments.length?([n,i]=e,n*=1,i*=1,u()):[n,i]},r.rangeRound=function(e){return[n,i]=e,n*=1,i*=1,l=!0,u()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(l=!!e,u()):l},r.padding=function(e){return arguments.length?(o=Math.min(1,c=+e),u()):o},r.paddingInner=function(e){return arguments.length?(o=Math.min(1,e),u()):o},r.paddingOuter=function(e){return arguments.length?(c=+e,u()):c},r.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),u()):d},r.copy=function(){return jE(s(),[n,i]).round(l).paddingInner(o).paddingOuter(c).align(d)},jN.apply(u(),arguments)}function jA(){return function e(t){var r=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return e(r())},t}(jE.apply(null,arguments).paddingInner(1))}let jF=Math.sqrt(50),jR=Math.sqrt(10),jO=Math.sqrt(2);function jI(e,t,r){let s,a,n,i=(t-e)/Math.max(0,r),l=Math.floor(Math.log10(i)),o=i/Math.pow(10,l),c=o>=jF?10:o>=jR?5:o>=jO?2:1;return(l<0?(s=Math.round(e*(n=Math.pow(10,-l)/c)),a=Math.round(t*n),s/n<e&&++s,a/n>t&&--a,n=-n):(s=Math.round(e/(n=Math.pow(10,l)*c)),a=Math.round(t/n),s*n<e&&++s,a*n>t&&--a),a<s&&.5<=r&&r<2)?jI(e,t,2*r):[s,a,n]}function jM(e,t,r){if(t*=1,e*=1,!((r*=1)>0))return[];if(e===t)return[e];let s=t<e,[a,n,i]=s?jI(t,e,r):jI(e,t,r);if(!(n>=a))return[];let l=n-a+1,o=Array(l);if(s)if(i<0)for(let e=0;e<l;++e)o[e]=-((n-e)/i);else for(let e=0;e<l;++e)o[e]=(n-e)*i;else if(i<0)for(let e=0;e<l;++e)o[e]=-((a+e)/i);else for(let e=0;e<l;++e)o[e]=(a+e)*i;return o}function jT(e,t,r){return jI(e*=1,t*=1,r*=1)[2]}function jB(e,t,r){t*=1,e*=1,r*=1;let s=t<e,a=s?jT(t,e,r):jT(e,t,r);return(s?-1:1)*(a<0?-(1/a):a)}function j_(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jL(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jz(e){let t,r,s;function a(e,s,n=0,i=e.length){if(n<i){if(0!==t(s,s))return i;do{let t=n+i>>>1;0>r(e[t],s)?n=t+1:i=t}while(n<i)}return n}return 2!==e.length?(t=j_,r=(t,r)=>j_(e(t),r),s=(t,r)=>e(t)-r):(t=e===j_||e===jL?e:jq,r=e,s=e),{left:a,center:function(e,t,r=0,n=e.length){let i=a(e,t,r,n-1);return i>r&&s(e[i-1],t)>-s(e[i],t)?i-1:i},right:function(e,s,a=0,n=e.length){if(a<n){if(0!==t(s,s))return n;do{let t=a+n>>>1;0>=r(e[t],s)?a=t+1:n=t}while(a<n)}return a}}}function jq(){return 0}function jU(e){return null===e?NaN:+e}let j$=jz(j_),jV=j$.right;function jW(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function jH(e,t){var r=Object.create(e.prototype);for(var s in t)r[s]=t[s];return r}function jY(){}j$.left,jz(jU).center;var jG="\\s*([+-]?\\d+)\\s*",jX="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jK="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jZ=/^#([0-9a-f]{3,8})$/,jQ=RegExp(`^rgb\\(${jG},${jG},${jG}\\)$`),jJ=RegExp(`^rgb\\(${jK},${jK},${jK}\\)$`),j0=RegExp(`^rgba\\(${jG},${jG},${jG},${jX}\\)$`),j1=RegExp(`^rgba\\(${jK},${jK},${jK},${jX}\\)$`),j2=RegExp(`^hsl\\(${jX},${jK},${jK}\\)$`),j4=RegExp(`^hsla\\(${jX},${jK},${jK},${jX}\\)$`),j5={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function j6(){return this.rgb().formatHex()}function j3(){return this.rgb().formatRgb()}function j8(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=jZ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?j7(t):3===r?new yt(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?j9(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?j9(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=jQ.exec(e))?new yt(t[1],t[2],t[3],1):(t=jJ.exec(e))?new yt(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=j0.exec(e))?j9(t[1],t[2],t[3],t[4]):(t=j1.exec(e))?j9(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=j2.exec(e))?yl(t[1],t[2]/100,t[3]/100,1):(t=j4.exec(e))?yl(t[1],t[2]/100,t[3]/100,t[4]):j5.hasOwnProperty(e)?j7(j5[e]):"transparent"===e?new yt(NaN,NaN,NaN,0):null}function j7(e){return new yt(e>>16&255,e>>8&255,255&e,1)}function j9(e,t,r,s){return s<=0&&(e=t=r=NaN),new yt(e,t,r,s)}function ye(e,t,r,s){var a;return 1==arguments.length?((a=e)instanceof jY||(a=j8(a)),a)?new yt((a=a.rgb()).r,a.g,a.b,a.opacity):new yt:new yt(e,t,r,null==s?1:s)}function yt(e,t,r,s){this.r=+e,this.g=+t,this.b=+r,this.opacity=+s}function yr(){return`#${yi(this.r)}${yi(this.g)}${yi(this.b)}`}function ys(){let e=ya(this.opacity);return`${1===e?"rgb(":"rgba("}${yn(this.r)}, ${yn(this.g)}, ${yn(this.b)}${1===e?")":`, ${e})`}`}function ya(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function yi(e){return((e=yn(e))<16?"0":"")+e.toString(16)}function yl(e,t,r,s){return s<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new yc(e,t,r,s)}function yo(e){if(e instanceof yc)return new yc(e.h,e.s,e.l,e.opacity);if(e instanceof jY||(e=j8(e)),!e)return new yc;if(e instanceof yc)return e;var t=(e=e.rgb()).r/255,r=e.g/255,s=e.b/255,a=Math.min(t,r,s),n=Math.max(t,r,s),i=NaN,l=n-a,o=(n+a)/2;return l?(i=t===n?(r-s)/l+(r<s)*6:r===n?(s-t)/l+2:(t-r)/l+4,l/=o<.5?n+a:2-n-a,i*=60):l=o>0&&o<1?0:i,new yc(i,l,o,e.opacity)}function yc(e,t,r,s){this.h=+e,this.s=+t,this.l=+r,this.opacity=+s}function yd(e){return(e=(e||0)%360)<0?e+360:e}function yu(e){return Math.max(0,Math.min(1,e||0))}function ym(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}function yh(e,t,r,s,a){var n=e*e,i=n*e;return((1-3*e+3*n-i)*t+(4-6*n+3*i)*r+(1+3*e+3*n-3*i)*s+i*a)/6}jW(jY,j8,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:j6,formatHex:j6,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return yo(this).formatHsl()},formatRgb:j3,toString:j3}),jW(yt,ye,jH(jY,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new yt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new yt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yt(yn(this.r),yn(this.g),yn(this.b),ya(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yr,formatHex:yr,formatHex8:function(){return`#${yi(this.r)}${yi(this.g)}${yi(this.b)}${yi((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:ys,toString:ys})),jW(yc,function(e,t,r,s){return 1==arguments.length?yo(e):new yc(e,t,r,null==s?1:s)},jH(jY,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new yc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new yc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*t,a=2*r-s;return new yt(ym(e>=240?e-240:e+120,a,s),ym(e,a,s),ym(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new yc(yd(this.h),yu(this.s),yu(this.l),ya(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=ya(this.opacity);return`${1===e?"hsl(":"hsla("}${yd(this.h)}, ${100*yu(this.s)}%, ${100*yu(this.l)}%${1===e?")":`, ${e})`}`}}));let yx=e=>()=>e;function yp(e,t){var r=t-e;return r?function(t){return e+t*r}:yx(isNaN(e)?t:e)}let yf=function e(t){var r,s=1==(r=+t)?yp:function(e,t){var s,a,n;return t-e?(s=e,a=t,s=Math.pow(s,n=r),a=Math.pow(a,n)-s,n=1/n,function(e){return Math.pow(s+e*a,n)}):yx(isNaN(e)?t:e)};function a(e,t){var r=s((e=ye(e)).r,(t=ye(t)).r),a=s(e.g,t.g),n=s(e.b,t.b),i=yp(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=n(t),e.opacity=i(t),e+""}}return a.gamma=e,a}(1);function yg(e){return function(t){var r,s,a=t.length,n=Array(a),i=Array(a),l=Array(a);for(r=0;r<a;++r)s=ye(t[r]),n[r]=s.r||0,i[r]=s.g||0,l[r]=s.b||0;return n=e(n),i=e(i),l=e(l),s.opacity=1,function(e){return s.r=n(e),s.g=i(e),s.b=l(e),s+""}}}function yv(e,t){return e*=1,t*=1,function(r){return e*(1-r)+t*r}}yg(function(e){var t=e.length-1;return function(r){var s=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[s],n=e[s+1],i=s>0?e[s-1]:2*a-n,l=s<t-1?e[s+2]:2*n-a;return yh((r-s/t)*t,i,a,n,l)}}),yg(function(e){var t=e.length;return function(r){var s=Math.floor(((r%=1)<0?++r:r)*t),a=e[(s+t-1)%t],n=e[s%t],i=e[(s+1)%t],l=e[(s+2)%t];return yh((r-s/t)*t,a,n,i,l)}});var yj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yy=RegExp(yj.source,"g");function yb(e,t){var r,s,a=typeof t;return null==t||"boolean"===a?yx(t):("number"===a?yv:"string"===a?(s=j8(t))?(t=s,yf):function(e,t){var r,s,a,n,i,l=yj.lastIndex=yy.lastIndex=0,o=-1,c=[],d=[];for(e+="",t+="";(a=yj.exec(e))&&(n=yy.exec(t));)(i=n.index)>l&&(i=t.slice(l,i),c[o]?c[o]+=i:c[++o]=i),(a=a[0])===(n=n[0])?c[o]?c[o]+=n:c[++o]=n:(c[++o]=null,d.push({i:o,x:yv(a,n)})),l=yy.lastIndex;return l<t.length&&(i=t.slice(l),c[o]?c[o]+=i:c[++o]=i),c.length<2?d[0]?(r=d[0].x,function(e){return r(e)+""}):(s=t,function(){return s}):(t=d.length,function(e){for(var r,s=0;s<t;++s)c[(r=d[s]).i]=r.x(e);return c.join("")})}:t instanceof j8?yf:t instanceof Date?function(e,t){var r=new Date;return e*=1,t*=1,function(s){return r.setTime(e*(1-s)+t*s),r}}:!ArrayBuffer.isView(r=t)||r instanceof DataView?Array.isArray(t)?function(e,t){var r,s=t?t.length:0,a=e?Math.min(s,e.length):0,n=Array(a),i=Array(s);for(r=0;r<a;++r)n[r]=yb(e[r],t[r]);for(;r<s;++r)i[r]=t[r];return function(e){for(r=0;r<a;++r)i[r]=n[r](e);return i}}:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?function(e,t){var r,s={},a={};for(r in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)r in e?s[r]=yb(e[r],t[r]):a[r]=t[r];return function(e){for(r in s)a[r]=s[r](e);return a}}:yv:function(e,t){t||(t=[]);var r,s=e?Math.min(t.length,e.length):0,a=t.slice();return function(n){for(r=0;r<s;++r)a[r]=e[r]*(1-n)+t[r]*n;return a}})(e,t)}function yN(e,t){return e*=1,t*=1,function(r){return Math.round(e*(1-r)+t*r)}}function yw(e){return+e}var yC=[0,1];function yS(e){return e}function yD(e,t){var r;return(t-=e*=1)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r})}function yP(e,t,r){var s=e[0],a=e[1],n=t[0],i=t[1];return a<s?(s=yD(a,s),n=r(i,n)):(s=yD(s,a),n=r(n,i)),function(e){return n(s(e))}}function yk(e,t,r){var s=Math.min(e.length,t.length)-1,a=Array(s),n=Array(s),i=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<s;)a[i]=yD(e[i],e[i+1]),n[i]=r(t[i],t[i+1]);return function(t){var r=jV(e,t,1,s)-1;return n[r](a[r](t))}}function yE(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function yA(){var e,t,r,s,a,n,i=yC,l=yC,o=yb,c=yS;function d(){var e,t,r,o=Math.min(i.length,l.length);return c!==yS&&(e=i[0],t=i[o-1],e>t&&(r=e,e=t,t=r),c=function(r){return Math.max(e,Math.min(t,r))}),s=o>2?yk:yP,a=n=null,u}function u(t){return null==t||isNaN(t*=1)?r:(a||(a=s(i.map(e),l,o)))(e(c(t)))}return u.invert=function(r){return c(t((n||(n=s(l,i.map(e),yv)))(r)))},u.domain=function(e){return arguments.length?(i=Array.from(e,yw),d()):i.slice()},u.range=function(e){return arguments.length?(l=Array.from(e),d()):l.slice()},u.rangeRound=function(e){return l=Array.from(e),o=yN,d()},u.clamp=function(e){return arguments.length?(c=!!e||yS,d()):c!==yS},u.interpolate=function(e){return arguments.length?(o=e,d()):o},u.unknown=function(e){return arguments.length?(r=e,u):r},function(r,s){return e=r,t=s,d()}}function yF(){return yA()(yS,yS)}function yR(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,s=e.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+e.slice(r+1)]}function yO(e){return(e=yR(Math.abs(e)))?e[1]:NaN}var yI=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yM(e){var t;if(!(t=yI.exec(e)))throw Error("invalid format: "+e);return new yT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function yT(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function yB(e,t){var r=yR(e,t);if(!r)return e+"";var s=r[0],a=r[1];return a<0?"0."+Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+Array(a-s.length+2).join("0")}yM.prototype=yT.prototype,yT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};let y_={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>yB(100*e,t),r:yB,s:function(e,t){var r=yR(e,t);if(!r)return e+"";var s=r[0],a=r[1],n=a-(R=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,i=s.length;return n===i?s:n>i?s+Array(n-i+1).join("0"):n>0?s.slice(0,n)+"."+s.slice(n):"0."+Array(1-n).join("0")+yR(e,Math.max(0,t+n-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function yL(e){return e}var yz=Array.prototype.map,yq=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yU(e,t,r,s){var a,n,i=jB(e,t,r);switch((s=yM(null==s?",f":s)).type){case"s":var l=Math.max(Math.abs(e),Math.abs(t));return null!=s.precision||isNaN(n=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(yO(l)/3)))-yO(Math.abs(i))))||(s.precision=n),M(s,l);case"":case"e":case"g":case"p":case"r":null!=s.precision||isNaN(n=Math.max(0,yO(Math.abs(Math.max(Math.abs(e),Math.abs(t)))-(a=Math.abs(a=i)))-yO(a))+1)||(s.precision=n-("e"===s.type));break;case"f":case"%":null!=s.precision||isNaN(n=Math.max(0,-yO(Math.abs(i))))||(s.precision=n-("%"===s.type)*2)}return I(s)}function y$(e){var t=e.domain;return e.ticks=function(e){var r=t();return jM(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var s=t();return yU(s[0],s[s.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var s,a,n=t(),i=0,l=n.length-1,o=n[i],c=n[l],d=10;for(c<o&&(a=o,o=c,c=a,a=i,i=l,l=a);d-- >0;){if((a=jT(o,c,r))===s)return n[i]=o,n[l]=c,t(n);if(a>0)o=Math.floor(o/a)*a,c=Math.ceil(c/a)*a;else if(a<0)o=Math.ceil(o*a)/a,c=Math.floor(c*a)/a;else break;s=a}return e},e}function yV(){var e=yF();return e.copy=function(){return yE(e,yV())},jN.apply(e,arguments),y$(e)}function yW(e){var t;function r(e){return null==e||isNaN(e*=1)?t:e}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,yw),r):e.slice()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return yW(e).unknown(t)},e=arguments.length?Array.from(e,yw):[0,1],y$(r)}function yH(e,t){e=e.slice();var r,s=0,a=e.length-1,n=e[s],i=e[a];return i<n&&(r=s,s=a,a=r,r=n,n=i,i=r),e[s]=t.floor(n),e[a]=t.ceil(i),e}function yY(e){return Math.log(e)}function yG(e){return Math.exp(e)}function yX(e){return-Math.log(-e)}function yK(e){return-Math.exp(-e)}function yZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function yQ(e){return(t,r)=>-e(-t,r)}function yJ(e){let t,r,s=e(yY,yG),a=s.domain,n=10;function i(){var i,l;return t=(i=n)===Math.E?Math.log:10===i&&Math.log10||2===i&&Math.log2||(i=Math.log(i),e=>Math.log(e)/i),r=10===(l=n)?yZ:l===Math.E?Math.exp:e=>Math.pow(l,e),a()[0]<0?(t=yQ(t),r=yQ(r),e(yX,yK)):e(yY,yG),s}return s.base=function(e){return arguments.length?(n=+e,i()):n},s.domain=function(e){return arguments.length?(a(e),i()):a()},s.ticks=e=>{let s,i,l=a(),o=l[0],c=l[l.length-1],d=c<o;d&&([o,c]=[c,o]);let u=t(o),m=t(c),h=null==e?10:+e,x=[];if(!(n%1)&&m-u<h){if(u=Math.floor(u),m=Math.ceil(m),o>0){for(;u<=m;++u)for(s=1;s<n;++s)if(!((i=u<0?s/r(-u):s*r(u))<o)){if(i>c)break;x.push(i)}}else for(;u<=m;++u)for(s=n-1;s>=1;--s)if(!((i=u>0?s/r(-u):s*r(u))<o)){if(i>c)break;x.push(i)}2*x.length<h&&(x=jM(o,c,h))}else x=jM(u,m,Math.min(m-u,h)).map(r);return d?x.reverse():x},s.tickFormat=(e,a)=>{if(null==e&&(e=10),null==a&&(a=10===n?"s":","),"function"!=typeof a&&(n%1||null!=(a=yM(a)).precision||(a.trim=!0),a=I(a)),e===1/0)return a;let i=Math.max(1,n*e/s.ticks().length);return e=>{let s=e/r(Math.round(t(e)));return s*n<n-.5&&(s*=n),s<=i?a(e):""}},s.nice=()=>a(yH(a(),{floor:e=>r(Math.floor(t(e))),ceil:e=>r(Math.ceil(t(e)))})),s}function y0(){let e=yJ(yA()).domain([1,10]);return e.copy=()=>yE(e,y0()).base(e.base()),jN.apply(e,arguments),e}function y1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function y2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function y4(e){var t=1,r=e(y1(1),y2(t));return r.constant=function(r){return arguments.length?e(y1(t=+r),y2(t)):t},y$(r)}function y5(){var e=y4(yA());return e.copy=function(){return yE(e,y5()).constant(e.constant())},jN.apply(e,arguments)}function y6(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function y3(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function y8(e){return e<0?-e*e:e*e}function y7(e){var t=e(yS,yS),r=1;return t.exponent=function(t){return arguments.length?1==(r=+t)?e(yS,yS):.5===r?e(y3,y8):e(y6(r),y6(1/r)):r},y$(t)}function y9(){var e=y7(yA());return e.copy=function(){return yE(e,y9()).exponent(e.exponent())},jN.apply(e,arguments),e}function be(){return y9.apply(null,arguments).exponent(.5)}function bt(e){return Math.sign(e)*e*e}function br(){var e,t=yF(),r=[0,1],s=!1;function a(r){var a,n=Math.sign(a=t(r))*Math.sqrt(Math.abs(a));return isNaN(n)?e:s?Math.round(n):n}return a.invert=function(e){return t.invert(bt(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((r=Array.from(e,yw)).map(bt)),a):r.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(s=!!e,a):s},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return br(t.domain(),r).round(s).clamp(t.clamp()).unknown(e)},jN.apply(a,arguments),y$(a)}function bs(e,t){let r;if(void 0===t)for(let t of e)null!=t&&(r<t||void 0===r&&t>=t)&&(r=t);else{let s=-1;for(let a of e)null!=(a=t(a,++s,e))&&(r<a||void 0===r&&a>=a)&&(r=a)}return r}function ba(e,t){let r;if(void 0===t)for(let t of e)null!=t&&(r>t||void 0===r&&t>=t)&&(r=t);else{let s=-1;for(let a of e)null!=(a=t(a,++s,e))&&(r>a||void 0===r&&a>=a)&&(r=a)}return r}function bn(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:+(e>t))}function bi(e,t,r){let s=e[t];e[t]=e[r],e[r]=s}function bl(){var e,t=[],r=[],s=[];function a(){var e=0,a=Math.max(1,r.length);for(s=Array(a-1);++e<a;)s[e-1]=function(e,t,r=jU){if(!(!(s=e.length)||isNaN(t*=1))){if(t<=0||s<2)return+r(e[0],0,e);if(t>=1)return+r(e[s-1],s-1,e);var s,a=(s-1)*t,n=Math.floor(a),i=+r(e[n],n,e);return i+(r(e[n+1],n+1,e)-i)*(a-n)}}(t,e/a);return n}function n(t){return null==t||isNaN(t*=1)?e:r[jV(s,t)]}return n.invertExtent=function(e){var a=r.indexOf(e);return a<0?[NaN,NaN]:[a>0?s[a-1]:t[0],a<s.length?s[a]:t[t.length-1]]},n.domain=function(e){if(!arguments.length)return t.slice();for(let r of(t=[],e))null==r||isNaN(r*=1)||t.push(r);return t.sort(j_),a()},n.range=function(e){return arguments.length?(r=Array.from(e),a()):r.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.quantiles=function(){return s.slice()},n.copy=function(){return bl().domain(t).range(r).unknown(e)},jN.apply(n,arguments)}function bo(){var e,t=0,r=1,s=1,a=[.5],n=[0,1];function i(t){return null!=t&&t<=t?n[jV(a,t,0,s)]:e}function l(){var e=-1;for(a=Array(s);++e<s;)a[e]=((e+1)*r-(e-s)*t)/(s+1);return i}return i.domain=function(e){return arguments.length?([t,r]=e,t*=1,r*=1,l()):[t,r]},i.range=function(e){return arguments.length?(s=(n=Array.from(e)).length-1,l()):n.slice()},i.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:i<1?[t,a[0]]:i>=s?[a[s-1],r]:[a[i-1],a[i]]},i.unknown=function(t){return arguments.length&&(e=t),i},i.thresholds=function(){return a.slice()},i.copy=function(){return bo().domain([t,r]).range(n).unknown(e)},jN.apply(y$(i),arguments)}function bc(){var e,t=[.5],r=[0,1],s=1;function a(a){return null!=a&&a<=a?r[jV(t,a,0,s)]:e}return a.domain=function(e){return arguments.length?(s=Math.min((t=Array.from(e)).length,r.length-1),a):t.slice()},a.range=function(e){return arguments.length?(r=Array.from(e),s=Math.min(t.length,r.length-1),a):r.slice()},a.invertExtent=function(e){var s=r.indexOf(e);return[t[s-1],t[s]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return bc().domain(t).range(r).unknown(e)},jN.apply(a,arguments)}I=(O=function(e){var t,r,s,a=void 0===e.grouping||void 0===e.thousands?yL:(t=yz.call(e.grouping,Number),r=e.thousands+"",function(e,s){for(var a=e.length,n=[],i=0,l=t[0],o=0;a>0&&l>0&&(o+l+1>s&&(l=Math.max(1,s-o)),n.push(e.substring(a-=l,a+l)),!((o+=l+1)>s));)l=t[i=(i+1)%t.length];return n.reverse().join(r)}),n=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",l=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?yL:(s=yz.call(e.numerals,String),function(e){return e.replace(/[0-9]/g,function(e){return s[+e]})}),c=void 0===e.percent?"%":e.percent+"",d=void 0===e.minus?"":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function m(e){var t=(e=yM(e)).fill,r=e.align,s=e.sign,m=e.symbol,h=e.zero,x=e.width,p=e.comma,f=e.precision,g=e.trim,v=e.type;"n"===v?(p=!0,v="g"):y_[v]||(void 0===f&&(f=12),g=!0,v="g"),(h||"0"===t&&"="===r)&&(h=!0,t="0",r="=");var j="$"===m?n:"#"===m&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",y="$"===m?i:/[%p]/.test(v)?c:"",b=y_[v],N=/[defgprs%]/.test(v);function w(e){var n,i,c,m=j,w=y;if("c"===v)w=b(e)+w,e="";else{var C=(e*=1)<0||1/e<0;if(e=isNaN(e)?u:b(Math.abs(e),f),g&&(e=function(e){e:for(var t,r=e.length,s=1,a=-1;s<r;++s)switch(e[s]){case".":a=t=s;break;case"0":0===a&&(a=s),t=s;break;default:if(!+e[s])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),C&&0==+e&&"+"!==s&&(C=!1),m=(C?"("===s?s:d:"-"===s||"("===s?"":s)+m,w=("s"===v?yq[8+R/3]:"")+w+(C&&"("===s?")":""),N){for(n=-1,i=e.length;++n<i;)if(48>(c=e.charCodeAt(n))||c>57){w=(46===c?l+e.slice(n+1):e.slice(n))+w,e=e.slice(0,n);break}}}p&&!h&&(e=a(e,1/0));var S=m.length+e.length+w.length,D=S<x?Array(x-S+1).join(t):"";switch(p&&h&&(e=a(D+e,D.length?x-w.length:1/0),D=""),r){case"<":e=m+e+w+D;break;case"=":e=m+D+e+w;break;case"^":e=D.slice(0,S=D.length>>1)+m+e+w+D.slice(S);break;default:e=D+m+e+w}return o(e)}return f=void 0===f?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,f)):Math.max(0,Math.min(20,f)),w.toString=function(){return e+""},w}return{format:m,formatPrefix:function(e,t){var r=m(((e=yM(e)).type="f",e)),s=3*Math.max(-8,Math.min(8,Math.floor(yO(t)/3))),a=Math.pow(10,-s),n=yq[8+s/3];return function(e){return r(a*e)+n}}}}({thousands:",",grouping:[3],currency:["$",""]})).format,M=O.formatPrefix;let bd=new Date,bu=new Date;function bm(e,t,r,s){function a(t){return e(t=0==arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),a.round=e=>{let t=a(e),r=a.ceil(e);return e-t<r-e?t:r},a.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),a.range=(r,s,n)=>{let i,l=[];if(r=a.ceil(r),n=null==n?1:Math.floor(n),!(r<s)||!(n>0))return l;do l.push(i=new Date(+r)),t(r,n),e(r);while(i<r&&r<s)return l},a.filter=r=>bm(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,s)=>{if(e>=e)if(s<0)for(;++s<=0;)for(;t(e,-1),!r(e););else for(;--s>=0;)for(;t(e,1),!r(e););}),r&&(a.count=(t,s)=>(bd.setTime(+t),bu.setTime(+s),e(bd),e(bu),Math.floor(r(bd,bu))),a.every=e=>isFinite(e=Math.floor(e))&&e>0?e>1?a.filter(s?t=>s(t)%e==0:t=>a.count(0,t)%e==0):a:null),a}let bh=bm(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());bh.every=e=>isFinite(e=Math.floor(e))&&e>0?bm(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null,bh.range;let bx=bm(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());bx.every=e=>isFinite(e=Math.floor(e))&&e>0?bm(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null,bx.range;let bp=bm(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());bp.range;let bf=bm(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());bf.range;function bg(e){return bm(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5)}let bv=bg(0),bj=bg(1),by=bg(2),bb=bg(3),bN=bg(4),bw=bg(5),bC=bg(6);function bS(e){return bm(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/6048e5)}bv.range,bj.range,by.range,bb.range,bN.range,bw.range,bC.range;let bD=bS(0),bP=bS(1),bk=bS(2),bE=bS(3),bA=bS(4),bF=bS(5),bR=bS(6);bD.range,bP.range,bk.range,bE.range,bA.range,bF.range,bR.range;let bO=bm(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1);bO.range;let bI=bm(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1);bI.range;let bM=bm(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5));bM.range;let bT=bm(e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())},(e,t)=>{e.setTime(+e+36e5*t)},(e,t)=>(t-e)/36e5,e=>e.getHours());bT.range;let bB=bm(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+36e5*t)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours());bB.range;let b_=bm(e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())},(e,t)=>{e.setTime(+e+6e4*t)},(e,t)=>(t-e)/6e4,e=>e.getMinutes());b_.range;let bL=bm(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+6e4*t)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes());bL.range;let bz=bm(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+1e3*t)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds());bz.range;let bq=bm(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);function bU(e,t,r,s,a,n){let i=[[bz,1,1e3],[bz,5,5e3],[bz,15,15e3],[bz,30,3e4],[n,1,6e4],[n,5,3e5],[n,15,9e5],[n,30,18e5],[a,1,36e5],[a,3,108e5],[a,6,216e5],[a,12,432e5],[s,1,864e5],[s,2,1728e5],[r,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,31536e6]];function l(t,r,s){let a=Math.abs(r-t)/s,n=jz(([,,e])=>e).right(i,a);if(n===i.length)return e.every(jB(t/31536e6,r/31536e6,s));if(0===n)return bq.every(Math.max(jB(t,r,s),1));let[l,o]=i[a/i[n-1][2]<i[n][2]/a?n-1:n];return l.every(o)}return[function(e,t,r){let s=t<e;s&&([e,t]=[t,e]);let a=r&&"function"==typeof r.range?r:l(e,t,r),n=a?a.range(e,+t+1):[];return s?n.reverse():n},l]}bq.every=e=>isFinite(e=Math.floor(e))&&e>0?e>1?bm(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):bq:null,bq.range;let[b$,bV]=bU(bx,bf,bD,bM,bB,bL),[bW,bH]=bU(bh,bp,bv,bO,bT,b_);function bY(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function bG(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function bX(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var bK={"-":"",_:" ",0:"0"},bZ=/^\s*\d+/,bQ=/^%/,bJ=/[\\^$*+?|[\]().{}]/g;function b0(e,t,r){var s=e<0?"-":"",a=(s?-e:e)+"",n=a.length;return s+(n<r?Array(r-n+1).join(t)+a:a)}function b1(e){return e.replace(bJ,"\\$&")}function b2(e){return RegExp("^(?:"+e.map(b1).join("|")+")","i")}function b4(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function b5(e,t,r){var s=bZ.exec(t.slice(r,r+1));return s?(e.w=+s[0],r+s[0].length):-1}function b6(e,t,r){var s=bZ.exec(t.slice(r,r+1));return s?(e.u=+s[0],r+s[0].length):-1}function b3(e,t,r){var s=bZ.exec(t.slice(r,r+2));return s?(e.U=+s[0],r+s[0].length):-1}function b8(e,t,r){var s=bZ.exec(t.slice(r,r+2));return s?(e.V=+s[0],r+s[0].length):-1}function b7(e,t,r){var s=bZ.exec(t.slice(r,r+2));return s?(e.W=+s[0],r+s[0].length):-1}function b9(e,t,r){var s=bZ.exec(t.slice(r,r+4));return s?(e.y=+s[0],r+s[0].length):-1}function Ne(e,t,r){var s=bZ.exec(t.slice(r,r+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),r+s[0].length):-1}function Nt(e,t,r){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),r+s[0].length):-1}function Nr(e,t,r){var s=bZ.exec(t.slice(r,r+1));return s?(e.q=3*s[0]-3,r+s[0].length):-1}function Ns(e,t,r){var s=bZ.exec(t.slice(r,r+2));return s?(e.m=s[0]-1,r+s[0].length):-1}function Na(e,t,r){var s=bZ.exec(t.slice(r,r+2));return s?(e.d=+s[0],r+s[0].length):-1}function Nn(e,t,r){var s=bZ.exec(t.slice(r,r+3));return s?(e.m=0,e.d=+s[0],r+s[0].length):-1}function Ni(e,t,r){var s=bZ.exec(t.slice(r,r+2));return s?(e.H=+s[0],r+s[0].length):-1}function Nl(e,t,r){var s=bZ.exec(t.slice(r,r+2));return s?(e.M=+s[0],r+s[0].length):-1}function No(e,t,r){var s=bZ.exec(t.slice(r,r+2));return s?(e.S=+s[0],r+s[0].length):-1}function Nc(e,t,r){var s=bZ.exec(t.slice(r,r+3));return s?(e.L=+s[0],r+s[0].length):-1}function Nd(e,t,r){var s=bZ.exec(t.slice(r,r+6));return s?(e.L=Math.floor(s[0]/1e3),r+s[0].length):-1}function Nu(e,t,r){var s=bQ.exec(t.slice(r,r+1));return s?r+s[0].length:-1}function Nm(e,t,r){var s=bZ.exec(t.slice(r));return s?(e.Q=+s[0],r+s[0].length):-1}function Nh(e,t,r){var s=bZ.exec(t.slice(r));return s?(e.s=+s[0],r+s[0].length):-1}function Nx(e,t){return b0(e.getDate(),t,2)}function Np(e,t){return b0(e.getHours(),t,2)}function Nf(e,t){return b0(e.getHours()%12||12,t,2)}function Ng(e,t){return b0(1+bO.count(bh(e),e),t,3)}function Nv(e,t){return b0(e.getMilliseconds(),t,3)}function Nj(e,t){return Nv(e,t)+"000"}function Ny(e,t){return b0(e.getMonth()+1,t,2)}function Nb(e,t){return b0(e.getMinutes(),t,2)}function NN(e,t){return b0(e.getSeconds(),t,2)}function Nw(e){var t=e.getDay();return 0===t?7:t}function NC(e,t){return b0(bv.count(bh(e)-1,e),t,2)}function NS(e){var t=e.getDay();return t>=4||0===t?bN(e):bN.ceil(e)}function ND(e,t){return e=NS(e),b0(bN.count(bh(e),e)+(4===bh(e).getDay()),t,2)}function NP(e){return e.getDay()}function Nk(e,t){return b0(bj.count(bh(e)-1,e),t,2)}function NE(e,t){return b0(e.getFullYear()%100,t,2)}function NA(e,t){return b0((e=NS(e)).getFullYear()%100,t,2)}function NF(e,t){return b0(e.getFullYear()%1e4,t,4)}function NR(e,t){var r=e.getDay();return b0((e=r>=4||0===r?bN(e):bN.ceil(e)).getFullYear()%1e4,t,4)}function NO(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+b0(t/60|0,"0",2)+b0(t%60,"0",2)}function NI(e,t){return b0(e.getUTCDate(),t,2)}function NM(e,t){return b0(e.getUTCHours(),t,2)}function NT(e,t){return b0(e.getUTCHours()%12||12,t,2)}function NB(e,t){return b0(1+bI.count(bx(e),e),t,3)}function N_(e,t){return b0(e.getUTCMilliseconds(),t,3)}function NL(e,t){return N_(e,t)+"000"}function Nz(e,t){return b0(e.getUTCMonth()+1,t,2)}function Nq(e,t){return b0(e.getUTCMinutes(),t,2)}function NU(e,t){return b0(e.getUTCSeconds(),t,2)}function N$(e){var t=e.getUTCDay();return 0===t?7:t}function NV(e,t){return b0(bD.count(bx(e)-1,e),t,2)}function NW(e){var t=e.getUTCDay();return t>=4||0===t?bA(e):bA.ceil(e)}function NH(e,t){return e=NW(e),b0(bA.count(bx(e),e)+(4===bx(e).getUTCDay()),t,2)}function NY(e){return e.getUTCDay()}function NG(e,t){return b0(bP.count(bx(e)-1,e),t,2)}function NX(e,t){return b0(e.getUTCFullYear()%100,t,2)}function NK(e,t){return b0((e=NW(e)).getUTCFullYear()%100,t,2)}function NZ(e,t){return b0(e.getUTCFullYear()%1e4,t,4)}function NQ(e,t){var r=e.getUTCDay();return b0((e=r>=4||0===r?bA(e):bA.ceil(e)).getUTCFullYear()%1e4,t,4)}function NJ(){return"+0000"}function N0(){return"%"}function N1(e){return+e}function N2(e){return Math.floor(e/1e3)}function N4(e){return new Date(e)}function N5(e){return e instanceof Date?+e:+new Date(+e)}function N6(e,t,r,s,a,n,i,l,o,c){var d=yF(),u=d.invert,m=d.domain,h=c(".%L"),x=c(":%S"),p=c("%I:%M"),f=c("%I %p"),g=c("%a %d"),v=c("%b %d"),j=c("%B"),y=c("%Y");function b(e){return(o(e)<e?h:l(e)<e?x:i(e)<e?p:n(e)<e?f:s(e)<e?a(e)<e?g:v:r(e)<e?j:y)(e)}return d.invert=function(e){return new Date(u(e))},d.domain=function(e){return arguments.length?m(Array.from(e,N5)):m().map(N4)},d.ticks=function(t){var r=m();return e(r[0],r[r.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?b:c(t)},d.nice=function(e){var r=m();return e&&"function"==typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?m(yH(r,e)):d},d.copy=function(){return yE(d,N6(e,t,r,s,a,n,i,l,o,c))},d}function N3(){return jN.apply(N6(bW,bH,bh,bp,bv,bO,bT,b_,bz,B).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function N8(){return jN.apply(N6(b$,bV,bx,bf,bD,bI,bB,bL,bz,_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function N7(){var e,t,r,s,a,n=0,i=1,l=yS,o=!1;function c(t){return null==t||isNaN(t*=1)?a:l(0===r?.5:(t=(s(t)-e)*r,o?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var r,s;return arguments.length?([r,s]=t,l=e(r,s),c):[l(0),l(1)]}}return c.domain=function(a){return arguments.length?([n,i]=a,e=s(n*=1),t=s(i*=1),r=e===t?0:1/(t-e),c):[n,i]},c.clamp=function(e){return arguments.length?(o=!!e,c):o},c.interpolator=function(e){return arguments.length?(l=e,c):l},c.range=d(yb),c.rangeRound=d(yN),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return s=a,e=a(n),t=a(i),r=e===t?0:1/(t-e),c}}function N9(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function we(){var e=y$(N7()(yS));return e.copy=function(){return N9(e,we())},jw.apply(e,arguments)}function wt(){var e=yJ(N7()).domain([1,10]);return e.copy=function(){return N9(e,wt()).base(e.base())},jw.apply(e,arguments)}function wr(){var e=y4(N7());return e.copy=function(){return N9(e,wr()).constant(e.constant())},jw.apply(e,arguments)}function ws(){var e=y7(N7());return e.copy=function(){return N9(e,ws()).exponent(e.exponent())},jw.apply(e,arguments)}function wa(){return ws.apply(null,arguments).exponent(.5)}function wn(){var e=[],t=yS;function r(r){if(null!=r&&!isNaN(r*=1))return t((jV(e,r,1)-1)/(e.length-1))}return r.domain=function(t){if(!arguments.length)return e.slice();for(let r of(e=[],t))null==r||isNaN(r*=1)||e.push(r);return e.sort(j_),r},r.interpolator=function(e){return arguments.length?(t=e,r):t},r.range=function(){return e.map((r,s)=>t(s/(e.length-1)))},r.quantiles=function(t){return Array.from({length:t+1},(r,s)=>(function(e,t,r){if(!(!(s=(e=Float64Array.from(function*(e,t){if(void 0===t)for(let t of e)null!=t&&(t*=1)>=t&&(yield t);else{let r=-1;for(let s of e)null!=(s=t(s,++r,e))&&(s*=1)>=s&&(yield s)}}(e,void 0))).length)||isNaN(t*=1))){if(t<=0||s<2)return ba(e);if(t>=1)return bs(e);var s,a=(s-1)*t,n=Math.floor(a),i=bs((function e(t,r,s=0,a=1/0,n){if(r=Math.floor(r),s=Math.floor(Math.max(0,s)),a=Math.floor(Math.min(t.length-1,a)),!(s<=r&&r<=a))return t;for(n=void 0===n?bn:function(e=j_){if(e===j_)return bn;if("function"!=typeof e)throw TypeError("compare is not a function");return(t,r)=>{let s=e(t,r);return s||0===s?s:(0===e(r,r))-(0===e(t,t))}}(n);a>s;){if(a-s>600){let i=a-s+1,l=r-s+1,o=Math.log(i),c=.5*Math.exp(2*o/3),d=.5*Math.sqrt(o*c*(i-c)/i)*(l-i/2<0?-1:1),u=Math.max(s,Math.floor(r-l*c/i+d)),m=Math.min(a,Math.floor(r+(i-l)*c/i+d));e(t,r,u,m,n)}let i=t[r],l=s,o=a;for(bi(t,s,r),n(t[a],i)>0&&bi(t,s,a);l<o;){for(bi(t,l,o),++l,--o;0>n(t[l],i);)++l;for(;n(t[o],i)>0;)--o}0===n(t[s],i)?bi(t,s,o):bi(t,++o,a),o<=r&&(s=o+1),r<=o&&(a=o-1)}return t})(e,n).subarray(0,n+1));return i+(ba(e.subarray(n+1))-i)*(a-n)}})(e,s/t))},r.copy=function(){return wn(t).domain(e)},jw.apply(r,arguments)}function wi(){var e,t,r,s,a,n,i,l=0,o=.5,c=1,d=1,u=yS,m=!1;function h(e){return isNaN(e*=1)?i:(e=.5+((e=+n(e))-t)*(d*e<d*t?s:a),u(m?Math.max(0,Math.min(1,e)):e))}function x(e){return function(t){var r,s,a;return arguments.length?([r,s,a]=t,u=function(e,t){void 0===t&&(t=e,e=yb);for(var r=0,s=t.length-1,a=t[0],n=Array(s<0?0:s);r<s;)n[r]=e(a,a=t[++r]);return function(e){var t=Math.max(0,Math.min(s-1,Math.floor(e*=s)));return n[t](e-t)}}(e,[r,s,a]),h):[u(0),u(.5),u(1)]}}return h.domain=function(i){return arguments.length?([l,o,c]=i,e=n(l*=1),t=n(o*=1),r=n(c*=1),s=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),d=t<e?-1:1,h):[l,o,c]},h.clamp=function(e){return arguments.length?(m=!!e,h):m},h.interpolator=function(e){return arguments.length?(u=e,h):u},h.range=x(yb),h.rangeRound=x(yN),h.unknown=function(e){return arguments.length?(i=e,h):i},function(i){return n=i,e=i(l),t=i(o),r=i(c),s=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),d=t<e?-1:1,h}}function wl(){var e=y$(wi()(yS));return e.copy=function(){return N9(e,wl())},jw.apply(e,arguments)}function wo(){var e=yJ(wi()).domain([.1,1,10]);return e.copy=function(){return N9(e,wo()).base(e.base())},jw.apply(e,arguments)}function wc(){var e=y4(wi());return e.copy=function(){return N9(e,wc()).constant(e.constant())},jw.apply(e,arguments)}function wd(){var e=y7(wi());return e.copy=function(){return N9(e,wd()).exponent(e.exponent())},jw.apply(e,arguments)}function wu(){return wd.apply(null,arguments).exponent(.5)}B=(T=function(e){var t=e.dateTime,r=e.date,s=e.time,a=e.periods,n=e.days,i=e.shortDays,l=e.months,o=e.shortMonths,c=b2(a),d=b4(a),u=b2(n),m=b4(n),h=b2(i),x=b4(i),p=b2(l),f=b4(l),g=b2(o),v=b4(o),j={a:function(e){return i[e.getDay()]},A:function(e){return n[e.getDay()]},b:function(e){return o[e.getMonth()]},B:function(e){return l[e.getMonth()]},c:null,d:Nx,e:Nx,f:Nj,g:NA,G:NR,H:Np,I:Nf,j:Ng,L:Nv,m:Ny,M:Nb,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:N1,s:N2,S:NN,u:Nw,U:NC,V:ND,w:NP,W:Nk,x:null,X:null,y:NE,Y:NF,Z:NO,"%":N0},y={a:function(e){return i[e.getUTCDay()]},A:function(e){return n[e.getUTCDay()]},b:function(e){return o[e.getUTCMonth()]},B:function(e){return l[e.getUTCMonth()]},c:null,d:NI,e:NI,f:NL,g:NK,G:NQ,H:NM,I:NT,j:NB,L:N_,m:Nz,M:Nq,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:N1,s:N2,S:NU,u:N$,U:NV,V:NH,w:NY,W:NG,x:null,X:null,y:NX,Y:NZ,Z:NJ,"%":N0},b={a:function(e,t,r){var s=h.exec(t.slice(r));return s?(e.w=x.get(s[0].toLowerCase()),r+s[0].length):-1},A:function(e,t,r){var s=u.exec(t.slice(r));return s?(e.w=m.get(s[0].toLowerCase()),r+s[0].length):-1},b:function(e,t,r){var s=g.exec(t.slice(r));return s?(e.m=v.get(s[0].toLowerCase()),r+s[0].length):-1},B:function(e,t,r){var s=p.exec(t.slice(r));return s?(e.m=f.get(s[0].toLowerCase()),r+s[0].length):-1},c:function(e,r,s){return C(e,t,r,s)},d:Na,e:Na,f:Nd,g:Ne,G:b9,H:Ni,I:Ni,j:Nn,L:Nc,m:Ns,M:Nl,p:function(e,t,r){var s=c.exec(t.slice(r));return s?(e.p=d.get(s[0].toLowerCase()),r+s[0].length):-1},q:Nr,Q:Nm,s:Nh,S:No,u:b6,U:b3,V:b8,w:b5,W:b7,x:function(e,t,s){return C(e,r,t,s)},X:function(e,t,r){return C(e,s,t,r)},y:Ne,Y:b9,Z:Nt,"%":Nu};function N(e,t){return function(r){var s,a,n,i=[],l=-1,o=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++l<c;)37===e.charCodeAt(l)&&(i.push(e.slice(o,l)),null!=(a=bK[s=e.charAt(++l)])?s=e.charAt(++l):a="e"===s?" ":"0",(n=t[s])&&(s=n(r,a)),i.push(s),o=l+1);return i.push(e.slice(o,l)),i.join("")}}function w(e,t){return function(r){var s,a,n=bX(1900,void 0,1);if(C(n,e,r+="",0)!=r.length)return null;if("Q"in n)return new Date(n.Q);if("s"in n)return new Date(1e3*n.s+("L"in n?n.L:0));if(!t||"Z"in n||(n.Z=0),"p"in n&&(n.H=n.H%12+12*n.p),void 0===n.m&&(n.m="q"in n?n.q:0),"V"in n){if(n.V<1||n.V>53)return null;"w"in n||(n.w=1),"Z"in n?(s=(a=(s=bG(bX(n.y,0,1))).getUTCDay())>4||0===a?bP.ceil(s):bP(s),s=bI.offset(s,(n.V-1)*7),n.y=s.getUTCFullYear(),n.m=s.getUTCMonth(),n.d=s.getUTCDate()+(n.w+6)%7):(s=(a=(s=bY(bX(n.y,0,1))).getDay())>4||0===a?bj.ceil(s):bj(s),s=bO.offset(s,(n.V-1)*7),n.y=s.getFullYear(),n.m=s.getMonth(),n.d=s.getDate()+(n.w+6)%7)}else("W"in n||"U"in n)&&("w"in n||(n.w="u"in n?n.u%7:+("W"in n)),a="Z"in n?bG(bX(n.y,0,1)).getUTCDay():bY(bX(n.y,0,1)).getDay(),n.m=0,n.d="W"in n?(n.w+6)%7+7*n.W-(a+5)%7:n.w+7*n.U-(a+6)%7);return"Z"in n?(n.H+=n.Z/100|0,n.M+=n.Z%100,bG(n)):bY(n)}}function C(e,t,r,s){for(var a,n,i=0,l=t.length,o=r.length;i<l;){if(s>=o)return -1;if(37===(a=t.charCodeAt(i++))){if(!(n=b[(a=t.charAt(i++))in bK?t.charAt(i++):a])||(s=n(e,r,s))<0)return -1}else if(a!=r.charCodeAt(s++))return -1}return s}return j.x=N(r,j),j.X=N(s,j),j.c=N(t,j),y.x=N(r,y),y.X=N(s,y),y.c=N(t,y),{format:function(e){var t=N(e+="",j);return t.toString=function(){return e},t},parse:function(e){var t=w(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=N(e+="",y);return t.toString=function(){return e},t},utcParse:function(e){var t=w(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})).format,T.parse,_=T.utcFormat,T.utcParse,e.s(["scaleBand",()=>jE,"scaleDiverging",()=>wl,"scaleDivergingLog",()=>wo,"scaleDivergingPow",()=>wd,"scaleDivergingSqrt",()=>wu,"scaleDivergingSymlog",()=>wc,"scaleIdentity",()=>yW,"scaleImplicit",0,jP,"scaleLinear",()=>yV,"scaleLog",()=>y0,"scaleOrdinal",()=>jk,"scalePoint",()=>jA,"scalePow",()=>y9,"scaleQuantile",()=>bl,"scaleQuantize",()=>bo,"scaleRadial",()=>br,"scaleSequential",()=>we,"scaleSequentialLog",()=>wt,"scaleSequentialPow",()=>ws,"scaleSequentialQuantile",()=>wn,"scaleSequentialSqrt",()=>wa,"scaleSequentialSymlog",()=>wr,"scaleSqrt",()=>be,"scaleSymlog",()=>y5,"scaleThreshold",()=>bc,"scaleTime",()=>N3,"scaleUtc",()=>N8,"tickFormat",()=>yU],29061),e.i(29061),e.s(["scaleBand",()=>jE,"scaleDiverging",()=>wl,"scaleDivergingLog",()=>wo,"scaleDivergingPow",()=>wd,"scaleDivergingSqrt",()=>wu,"scaleDivergingSymlog",()=>wc,"scaleIdentity",()=>yW,"scaleImplicit",0,jP,"scaleLinear",()=>yV,"scaleLog",()=>y0,"scaleOrdinal",()=>jk,"scalePoint",()=>jA,"scalePow",()=>y9,"scaleQuantile",()=>bl,"scaleQuantize",()=>bo,"scaleRadial",()=>br,"scaleSequential",()=>we,"scaleSequentialLog",()=>wt,"scaleSequentialPow",()=>ws,"scaleSequentialQuantile",()=>wn,"scaleSequentialSqrt",()=>wa,"scaleSequentialSymlog",()=>wr,"scaleSqrt",()=>be,"scaleSymlog",()=>y5,"scaleThreshold",()=>bc,"scaleTime",()=>N3,"scaleUtc",()=>N8,"tickFormat",()=>yU],79357);var wm=e.i(79357),wh=e=>e.chartData,wx=fG([wh],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),wp=(e,t,r,s)=>s?wx(e):wh(e);function wf(e){return Number.isFinite(e)}function wg(e){return"number"==typeof e&&e>0&&Number.isFinite(e)}function wv(e){if(Array.isArray(e)&&2===e.length){var[t,r]=e;if(wf(t)&&wf(r))return!0}return!1}function wj(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}var wy=e.i(51655),wb=e=>e,wN={},ww=e=>function t(){let r;return 0==arguments.length||1==arguments.length&&(r=arguments.length<=0?void 0:arguments[0],r===wN)?t:e(...arguments)},wC=(e,t)=>1===e?t:ww(function(){for(var r=arguments.length,s=Array(r),a=0;a<r;a++)s[a]=arguments[a];var n=s.filter(e=>e!==wN).length;return n>=e?t(...s):wC(e-n,ww(function(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return t(...s.map(e=>e===wN?r.shift():e),...r)}))}),wS=(e,t)=>{for(var r=[],s=e;s<t;++s)r[s-e]=s;return r},wD=wC((s=(e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)).length,s),wP=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return wb;var s=t.reverse(),a=s[0],n=s.slice(1);return function(){return n.reduce((e,t)=>t(e),a(...arguments))}},wk=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),wE=e=>{var t=null,r=null;return function(){for(var s=arguments.length,a=Array(s),n=0;n<s;n++)a[n]=arguments[n];return t&&a.every((e,r)=>{var s;return e===(null==(s=t)?void 0:s[r])})?r:(t=a,r=e(...a))}};function wA(e){return 0===e?1:Math.floor(new wy.default(e).abs().log(10).toNumber())+1}function wF(e,t,r){for(var s=new wy.default(e),a=0,n=[];s.lt(t)&&a<1e5;)n.push(s.toNumber()),s=s.add(r),a++;return n}wC((a=(e,t,r)=>{var s=+e;return s+r*(t-s)}).length,a),wC((n=(e,t,r)=>{var s=t-e;return(r-e)/(s=s||1/0)}).length,n),wC((i=(e,t,r)=>{var s=t-e;return Math.max(0,Math.min(1,(r-e)/(s=s||1/0)))}).length,i);var wR=e=>{var[t,r]=e,[s,a]=[t,r];return t>r&&([s,a]=[r,t]),[s,a]},wO=(e,t,r)=>{if(e.lte(0))return new wy.default(0);var s=wA(e.toNumber()),a=new wy.default(10).pow(s),n=e.div(a),i=1!==s?.05:.1,l=new wy.default(Math.ceil(n.div(i).toNumber())).add(r).mul(i).mul(a);return new wy.default(t?l.toNumber():Math.ceil(l.toNumber()))},wI=function(e,t,r,s){var a,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new wy.default(0),tickMin:new wy.default(0),tickMax:new wy.default(0)};var i=wO(new wy.default(t).sub(e).div(r-1),s,n),l=Math.ceil((a=e<=0&&t>=0?new wy.default(0):(a=new wy.default(e).add(t).div(2)).sub(new wy.default(a).mod(i))).sub(e).div(i).toNumber()),o=Math.ceil(new wy.default(t).sub(a).div(i).toNumber()),c=l+o+1;return c>r?wI(e,t,r,s,n+1):(c<r&&(o=t>0?o+(r-c):o,l=t>0?l:l+(r-c)),{step:i,tickMin:a.sub(new wy.default(l).mul(i)),tickMax:a.add(new wy.default(o).mul(i))})},wM=wE(function(e){var[t,r]=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=Math.max(s,2),[i,l]=wR([t,r]);if(i===-1/0||l===1/0){var o=l===1/0?[i,...wS(0,s-1).map(()=>1/0)]:[...wS(0,s-1).map(()=>-1/0),l];return t>r?wk(o):o}if(i===l){var c=new wy.default(1),d=new wy.default(i);if(!d.isint()&&a){var u=Math.abs(i);u<1?(c=new wy.default(10).pow(wA(i)-1),d=new wy.default(Math.floor(d.div(c).toNumber())).mul(c)):u>1&&(d=new wy.default(Math.floor(i)))}else 0===i?d=new wy.default(Math.floor((s-1)/2)):a||(d=new wy.default(Math.floor(i)));var m=Math.floor((s-1)/2);return wP(wD(e=>d.add(new wy.default(e-m).mul(c)).toNumber()),wS)(0,s)}var{step:h,tickMin:x,tickMax:p}=wI(i,l,n,a,0),f=wF(x,p.add(new wy.default(.1).mul(h)),h);return t>r?wk(f):f}),wT=wE(function(e,t){var[r,s]=e,a=!(arguments.length>2)||void 0===arguments[2]||arguments[2],[n,i]=wR([r,s]);if(n===-1/0||i===1/0)return[r,s];if(n===i)return[n];var l=Math.max(t,2),o=wO(new wy.default(i).sub(n).div(l-1),a,0),c=[...wF(new wy.default(n),new wy.default(i),o),i];return!1===a&&(c=c.map(e=>Math.round(e))),r>s?wk(c):c}),wB=e=>e.rootProps.maxBarSize,w_=e=>e.rootProps.barCategoryGap,wL=e=>e.rootProps.stackOffset,wz=e=>e.options.chartName,wq=e=>e.rootProps.syncId,wU=e=>e.rootProps.syncMethod,w$=e=>e.options.eventEmitter,wV="auto",wW="auto",wH=(e,t)=>{if(e&&t)return null!=e&&e.reversed?[t[1],t[0]]:t},wY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:0,includeHidden:!1,name:void 0,reversed:!1,scale:wV,tick:!0,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},wG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:0,includeHidden:!1,name:void 0,reversed:!1,scale:wW,tick:!0,tickCount:5,ticks:void 0,type:"number",unit:void 0},wX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:0,includeHidden:!1,name:void 0,reversed:!1,scale:wV,tick:!0,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},wK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:0,includeHidden:!1,name:void 0,reversed:!1,scale:wW,tick:!0,tickCount:5,ticks:void 0,type:"category",unit:void 0},wZ=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?wX:wY,wQ=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?wK:wG,wJ=e=>e.polarOptions,w0=fG([v9,je,jc],vG),w1=fG([wJ,w0],(e,t)=>{if(null!=e)return gY(e.innerRadius,t,0)}),w2=fG([wJ,w0],(e,t)=>{if(null!=e)return gY(e.outerRadius,t,.8*t)}),w4=fG([wJ],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]});fG([wZ,w4],wH);var w5=fG([w0,w1,w2],(e,t,r)=>{if(null!=e&&null!=t&&null!=r)return[t,r]});fG([wQ,w5],wH);var w6=fG([jy,wJ,w1,w2,v9,je],(e,t,r,s,a,n)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=r&&null!=s){var{cx:i,cy:l,startAngle:o,endAngle:c}=t;return{cx:gY(i,a,a/2),cy:gY(l,n,n/2),innerRadius:r,outerRadius:s,startAngle:o,endAngle:c,clockWise:!1}}}),w3=(e,t)=>t,w8=(e,t,r)=>r;function w7(e){return null==e?void 0:e.id}var w9=e=>{var t=jy(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},Ce=e=>e.tooltip.settings.axisId,Ct=e=>{var t=w9(e),r=Ce(e);return Cx(e,t,r)};function Cr(e,t,r){var{chartData:s=[]}=t,a=null==r?void 0:r.dataKey,n=new Map;return e.forEach(e=>{var t,r=null!=(t=e.data)?t:s;if(null!=r&&0!==r.length){var i=w7(e);r.forEach((t,r)=>{var s,l=null==a?r:String(vQ(t,a,null)),o=vQ(t,e.dataKey,0);Object.assign(s=n.has(l)?n.get(l):{},{[i]:o}),n.set(l,s)})}}),Array.from(n.values())}function Cs(e){return null!=e.stackId&&null!=e.dataKey}function Ca(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function Cn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ca(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ca(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Ci=[0,"auto"],Cl={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Co=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return null==r?Cl:r},Cc={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ci,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},Cd=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return null==r?Cc:r},Cu={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Cm=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return null==r?Cu:r},Ch=(e,t,r)=>{switch(t){case"xAxis":return Co(e,r);case"yAxis":return Cd(e,r);case"zAxis":return Cm(e,r);case"angleAxis":return wZ(e,r);case"radiusAxis":return wQ(e,r);default:throw Error("Unexpected axis type: ".concat(t))}},Cx=(e,t,r)=>{switch(t){case"xAxis":return Co(e,r);case"yAxis":return Cd(e,r);case"angleAxis":return wZ(e,r);case"radiusAxis":return wQ(e,r);default:throw Error("Unexpected axis type: ".concat(t))}},Cp=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function Cf(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Cg=e=>e.graphicalItems.cartesianItems,Cv=fG([w3,w8],Cf),Cj=(e,t,r)=>e.filter(r).filter(e=>(null==t?void 0:t.includeHidden)===!0||!e.hide),Cy=fG([Cg,Ch,Cv],Cj),Cb=fG([Cy],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(Cs)),CN=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),Cw=fG([Cy],CN),CC=e=>e.map(e=>e.data).filter(Boolean).flat(1),CS=fG([Cy],CC),CD=(e,t)=>{var{chartData:r=[],dataStartIndex:s,dataEndIndex:a}=t;return e.length>0?e:r.slice(s,a+1)},CP=fG([CS,wp],CD),Ck=(e,t,r)=>(null==t?void 0:t.dataKey)!=null?e.map(e=>({value:vQ(e,t.dataKey)})):r.length>0?r.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:vQ(e,t)}))):e.map(e=>({value:e})),CE=fG([CP,Ch,Cy],Ck);function CA(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function CF(e){return e.filter(e=>gV(e)||e instanceof Date).map(Number).filter(e=>!1===gq(e))}var CR=fG([Cb,wp,Ct],Cr),CO=(e,t,r)=>Object.fromEntries(Object.entries(t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{})).map(t=>{var s,[a,n]=t,i=n.map(w7);return[a,{stackedData:(s=v2[r],(function(){var e=vL([]),t=vq,r=vz,s=vU;function a(a){var n,i,l=Array.from(e.apply(this,arguments),v$),o=l.length,c=-1;for(let e of a)for(n=0,++c;n<o;++n)(l[n][c]=[0,+s(e,l[n].key,c,a)]).data=e;for(n=0,i=v_(t(l));n<o;++n)l[i[n]].index=n;return r(l,i),l}return a.keys=function(t){return arguments.length?(e="function"==typeof t?t:vL(Array.from(t)),a):e},a.value=function(e){return arguments.length?(s="function"==typeof e?e:vL(+e),a):s},a.order=function(e){return arguments.length?(t=null==e?vq:"function"==typeof e?e:vL(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(r=null==e?vz:e,a):r},a})().keys(i).value((e,t)=>+vQ(e,t,0)).order(vq).offset(s)(e)),graphicalItems:n}]})),CI=fG([CR,Cb,wL],CO),CM=(e,t,r)=>{var{dataStartIndex:s,dataEndIndex:a}=t;if("zAxis"!==r){var n=((e,t,r)=>{if(null!=e){let s;return[(s=Object.keys(e).reduce((s,a)=>{var{stackedData:n}=e[a],i=n.reduce((e,s)=>{var a,n=[Math.min(...a=vX(s,t,r).flat(2).filter(g$)),Math.max(...a)];return[Math.min(e[0],n[0]),Math.max(e[1],n[1])]},[1/0,-1/0]);return[Math.min(i[0],s[0]),Math.max(i[1],s[1])]},[1/0,-1/0]))[0]===1/0?0:s[0],s[1]===-1/0?0:s[1]]}})(e,s,a);if(null==n||0!==n[0]||0!==n[1])return n}},CT=fG([CI,wh,w3],CM),CB=(e,t,r,s,a)=>r.length>0?e.flatMap(e=>r.flatMap(r=>{var n,i,l=null==(n=s[r.id])?void 0:n.filter(e=>CA(a,e)),o=vQ(e,null!=(i=t.dataKey)?i:r.dataKey);return{value:o,errorDomain:!(!l||"number"!=typeof o||gq(o))&&l.length?CF(l.flatMap(t=>{var r,s,a=vQ(e,t.dataKey);if(Array.isArray(a)?[r,s]=a:r=s=a,wf(r)&&wf(s))return[o-r,o+s]})):[]}})).filter(Boolean):(null==t?void 0:t.dataKey)!=null?e.map(e=>({value:vQ(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})),C_=e=>e.errorBars,CL=(e,t,r)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>CA(r,e));fG([Cw,C_,w3],CL);var Cz=fG([CP,Ch,Cw,C_,w3],CB);function Cq(e){var{value:t}=e;if(gV(t)||t instanceof Date)return t}var CU=e=>{var t=CF(e.flatMap(e=>[e.value,e.errorDomain]).flat(1));if(0!==t.length)return[Math.min(...t),Math.max(...t)]},C$=e=>{var t;if(null==e||!("domain"in e))return Ci;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var r=CF(e.ticks);return[Math.min(...r),Math.max(...r)]}if("category"===e.type)return e.ticks.map(String)}return null!=(t=null==e?void 0:e.domain)?t:Ci},CV=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var s=t.filter(Boolean);if(0!==s.length){var a=s.flat();return[Math.min(...a),Math.max(...a)]}},CW=e=>e.referenceElements.dots,CH=(e,t,r)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===r:e.yAxisId===r),CY=fG([CW,w3,w8],CH),CG=e=>e.referenceElements.areas,CX=fG([CG,w3,w8],CH),CK=e=>e.referenceElements.lines,CZ=fG([CK,w3,w8],CH),CQ=(e,t)=>{var r=CF(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},CJ=fG(CY,w3,CQ),C0=(e,t)=>{var r=CF(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},C1=fG([CX,w3],C0),C2=(e,t)=>{var r=CF(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},C4=fG(CZ,w3,C2),C5=fG(CJ,C4,C1,(e,t,r)=>CV(e,r,t)),C6=fG([Ch],C$),C3=(e,t,r,s,a,n,i)=>{var l=function(e,t){if(t&&"function"!=typeof e&&Array.isArray(e)&&2===e.length){var r,s,[a,n]=e;if(wf(a))r=a;else if("function"==typeof a)return;if(wf(n))s=n;else if("function"==typeof n)return;var i=[r,s];if(wv(i))return i}}(t,e.allowDataOverflow);return null!=l?l:function(e,t,r){if(r||null!=t){if("function"==typeof e&&null!=t)try{var s=e(t,r);if(wv(s))return wj(s,t,r)}catch(e){}if(Array.isArray(e)&&2===e.length){var a,n,[i,l]=e;if("auto"===i)null!=t&&(a=Math.min(...t));else if(g$(i))a=i;else if("function"==typeof i)try{null!=t&&(a=i(null==t?void 0:t[0]))}catch(e){}else if("string"==typeof i&&v5.test(i)){var o=v5.exec(i);if(null==o||null==t)a=void 0;else{var c=+o[1];a=t[0]-c}}else a=null==t?void 0:t[0];if("auto"===l)null!=t&&(n=Math.max(...t));else if(g$(l))n=l;else if("function"==typeof l)try{null!=t&&(n=l(null==t?void 0:t[1]))}catch(e){}else if("string"==typeof l&&v6.test(l)){var d=v6.exec(l);if(null==d||null==t)n=void 0;else{var u=+d[1];n=t[1]+u}}else n=null==t?void 0:t[1];var m=[a,n];if(wv(m))return null==t?m:wj(m,t,r)}}}(t,"vertical"===n&&"xAxis"===i||"horizontal"===n&&"yAxis"===i?CV(r,a,CU(s)):CV(a,CU(s)),e.allowDataOverflow)},C8=fG([Ch,C6,CT,Cz,C5,jy,w3],C3),C7=[0,1],C9=(e,t,r,s,a,n,i)=>{if(null!=e&&null!=r&&0!==r.length||void 0!==i){var l,{dataKey:o,type:c}=e,d=vJ(t,n);return d&&null==o?(0,jb.default)(0,r.length):"category"===c?(l=s.map(Cq).filter(e=>null!=e),d&&(null==e.dataKey||e.allowDuplicatedCategory&&gG(l))?(0,jb.default)(0,s.length):e.allowDuplicatedCategory?l:Array.from(new Set(l))):"expand"===a?C7:i}},Se=fG([Ch,jy,CP,CE,wL,w3,C8],C9),St=(e,t,r,s,a)=>{if(null!=e){var{scale:n,type:i}=e;if("auto"===n)return"radial"===t&&"radiusAxis"===a?"band":"radial"===t&&"angleAxis"===a?"linear":"category"===i&&s&&(s.indexOf("LineChart")>=0||s.indexOf("AreaChart")>=0||s.indexOf("ComposedChart")>=0&&!r)?"point":"category"===i?"band":"linear";if("string"==typeof n){var l="scale".concat(gZ(n));return l in wm?l:"point"}}},Sr=fG([Ch,jy,Cp,wz,w3],St);function Ss(e,t,r,s){if(null!=r&&null!=s){if("function"==typeof e.scale)return e.scale.copy().domain(r).range(s);var a=function(e){if(null!=e){if(e in wm)return wm[e]();var t="scale".concat(gZ(e));if(t in wm)return wm[t]()}}(t);if(null!=a){var n=a.domain(r).range(s);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,s=e.range(),a=Math.min(s[0],s[1])-1e-4,n=Math.max(s[0],s[1])+1e-4,i=e(t[0]),l=e(t[r-1]);(i<a||i>n||l<a||l>n)&&e.domain([t[0],t[r-1]])}})(n),n}}}var Sa=(e,t,r)=>{var s=C$(t);if("auto"===r||"linear"===r){if(null!=t&&t.tickCount&&Array.isArray(s)&&("auto"===s[0]||"auto"===s[1])&&wv(e))return wM(e,t.tickCount,t.allowDecimals);if(null!=t&&t.tickCount&&"number"===t.type&&wv(e))return wT(e,t.tickCount,t.allowDecimals)}},Sn=fG([Se,Cx,Sr],Sa),Si=(e,t,r,s)=>"angleAxis"!==s&&(null==e?void 0:e.type)==="number"&&wv(t)&&Array.isArray(r)&&r.length>0?[Math.min(t[0],r[0]),Math.max(t[1],r[r.length-1])]:t,Sl=fG([Ch,Se,Sn,w3],Si),So=fG(CE,Ch,(e,t)=>{if(t&&"number"===t.type){var r=1/0,s=Array.from(CF(e.map(e=>e.value))).sort((e,t)=>e-t);if(s.length<2)return 1/0;var a=s[s.length-1]-s[0];if(0===a)return 1/0;for(var n=0;n<s.length-1;n++)r=Math.min(r,s[n+1]-s[n]);return r/a}}),Sc=fG(So,jy,w_,jc,(e,t,r,s)=>s,(e,t,r,s,a)=>{if(!wf(e))return 0;var n="vertical"===t?s.height:s.width;if("gap"===a)return e*n/2;if("no-gap"===a){var i=gY(r,e*n),l=e*n/2;return l-i-(l-i)/n*i}return 0}),Sd=fG(Co,(e,t)=>{var r=Co(e,t);return null==r||"string"!=typeof r.padding?0:Sc(e,"xAxis",t,r.padding)},(e,t)=>{if(null==e)return{left:0,right:0};var r,s,{padding:a}=e;return"string"==typeof a?{left:t,right:t}:{left:(null!=(r=a.left)?r:0)+t,right:(null!=(s=a.right)?s:0)+t}}),Su=fG(Cd,(e,t)=>{var r=Cd(e,t);return null==r||"string"!=typeof r.padding?0:Sc(e,"yAxis",t,r.padding)},(e,t)=>{if(null==e)return{top:0,bottom:0};var r,s,{padding:a}=e;return"string"==typeof a?{top:t,bottom:t}:{top:(null!=(r=a.top)?r:0)+t,bottom:(null!=(s=a.bottom)?s:0)+t}}),Sm=fG([jc,Sd,jp,jx,(e,t,r)=>r],(e,t,r,s,a)=>{var{padding:n}=s;return a?[n.left,r.width-n.right]:[e.left+t.left,e.left+e.width-t.right]}),Sh=fG([jc,jy,Su,jp,jx,(e,t,r)=>r],(e,t,r,s,a,n)=>{var{padding:i}=a;return n?[s.height-i.bottom,i.top]:"horizontal"===t?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Sx=(e,t,r,s)=>{var a;switch(t){case"xAxis":return Sm(e,r,s);case"yAxis":return Sh(e,r,s);case"zAxis":return null==(a=Cm(e,r))?void 0:a.range;case"angleAxis":return w4(e);case"radiusAxis":return w5(e,r);default:return}},Sp=fG([Ch,Sx],wH),Sf=fG([Ch,Sr,Sl,Sp],Ss);function Sg(e,t){return e.id<t.id?-1:+(e.id>t.id)}fG([Cy,C_,w3],CL);var Sv=(e,t)=>t,Sj=(e,t,r)=>r,Sy=fG(js,Sv,Sj,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(Sg)),Sb=fG(ja,Sv,Sj,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(Sg)),SN=(e,t)=>({width:e.width,height:t.height}),Sw=fG(jc,Co,SN),SC=fG(je,jc,Sy,Sv,Sj,(e,t,r,s,a)=>{var n,i={};return r.forEach(r=>{var l=SN(t,r);null==n&&(n=((e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}})(t,s,e));var o="top"===s&&!a||"bottom"===s&&a;i[r.id]=n-Number(o)*l.height,n+=(o?-1:1)*l.height}),i}),SS=fG(v9,jc,Sb,Sv,Sj,(e,t,r,s,a)=>{var n,i={};return r.forEach(r=>{var l={width:"number"==typeof r.width?r.width:60,height:t.height};null==n&&(n=((e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}})(t,s,e));var o="left"===s&&!a||"right"===s&&a;i[r.id]=n-Number(o)*l.width,n+=(o?-1:1)*l.width}),i}),SD=fG(jc,Cd,(e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height})),SP=(e,t,r)=>{switch(t){case"xAxis":return Sw(e,r).width;case"yAxis":return SD(e,r).height;default:return}},Sk=(e,t,r,s)=>{if(null!=r){var{allowDuplicatedCategory:a,type:n,dataKey:i}=r,l=vJ(e,s),o=t.map(e=>e.value);if(i&&l&&"category"===n&&a&&gG(o))return o}},SE=fG([jy,CE,Ch,w3],Sk),SA=(e,t,r,s)=>{if(null!=r&&null!=r.dataKey){var{type:a,scale:n}=r;if(vJ(e,s)&&("number"===a||"auto"!==n))return t.map(e=>e.value)}},SF=fG([jy,CE,Cx,w3],SA),SR=fG([jy,(e,t,r)=>{switch(t){case"xAxis":return Co(e,r);case"yAxis":return Cd(e,r);default:throw Error("Unexpected axis type: ".concat(t))}},Sr,Sf,SE,SF,Sx,Sn,w3],(e,t,r,s,a,n,i,l,o)=>{if(null==t)return null;var c=vJ(e,o);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:o,categoricalDomain:n,duplicateDomain:a,isCategorical:c,niceTicks:l,range:i,realScaleType:r,scale:s}}),SO=fG([jy,Cx,Sr,Sf,Sn,Sx,SE,SF,w3],(e,t,r,s,a,n,i,l,o)=>{if(null!=t&&null!=s){var c=vJ(e,o),{type:d,ticks:u,tickCount:m}=t,h="scaleBand"===r&&"function"==typeof s.bandwidth?s.bandwidth()/2:2,x="category"===d&&s.bandwidth?s.bandwidth()/h:0;x="angleAxis"===o&&null!=n&&n.length>=2?2*gz(n[0]-n[1])*x:x;var p=u||a;return p?p.map((e,t)=>({index:t,coordinate:s(i?i.indexOf(e):e)+x,value:e,offset:x})).filter(e=>!gq(e.coordinate)):c&&l?l.map((e,t)=>({coordinate:s(e)+x,value:e,index:t,offset:x})):s.ticks?s.ticks(m).map(e=>({coordinate:s(e)+x,value:e,offset:x})):s.domain().map((e,t)=>({coordinate:s(e)+x,value:i?i[e]:e,index:t,offset:x}))}}),SI=fG([jy,Cx,Sf,Sx,SE,SF,w3],(e,t,r,s,a,n,i)=>{if(null!=t&&null!=r&&null!=s&&s[0]!==s[1]){var l=vJ(e,i),{tickCount:o}=t,c=0;return(c="angleAxis"===i&&(null==s?void 0:s.length)>=2?2*gz(s[0]-s[1])*c:c,l&&n)?n.map((e,t)=>({coordinate:r(e)+c,value:e,index:t,offset:c})):r.ticks?r.ticks(o).map(e=>({coordinate:r(e)+c,value:e,offset:c})):r.domain().map((e,t)=>({coordinate:r(e)+c,value:a?a[e]:e,index:t,offset:c}))}}),SM=fG(Ch,Sf,(e,t)=>{if(null!=e&&null!=t)return Cn(Cn({},e),{},{scale:t})}),ST=fG([Ch,Sr,Se,Sp],Ss);fG((e,t,r)=>Cm(e,r),ST,(e,t)=>{if(null!=e&&null!=t)return Cn(Cn({},e),{},{scale:t})});var SB=fG([jy,js,ja],(e,t,r)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),S_=e=>e.options.defaultTooltipEventType,SL=e=>e.options.validateTooltipEventTypes;function Sz(e,t,r){if(null==e)return t;var s=e?"axis":"item";return null==r?t:r.includes(s)?s:t}function Sq(e,t){return Sz(t,S_(e),SL(e))}var SU=(e,t)=>{var r,s=Number(t);if(!gq(s)&&null!=t)return s>=0?null==e||null==(r=e[s])?void 0:r.value:void 0};function S$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function SV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S$(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var SW=(e,t,r,s)=>{if(null==t)return vr;var a,n,i,l=(a=e,n=t,i=r,"axis"===n?"click"===i?a.axisInteraction.click:a.axisInteraction.hover:"click"===i?a.itemInteraction.click:a.itemInteraction.hover);if(null==l)return vr;if(l.active)return l;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var o=!0===e.settings.active;if(null!=l.index){if(o)return SV(SV({},l),{},{active:!0})}else if(null!=s)return{active:!0,coordinate:void 0,dataKey:void 0,index:s};return SV(SV({},vr),{},{coordinate:l.coordinate})},SH=(e,t)=>{var r=null==e?void 0:e.index;if(null==r)return null;var s=Number(r);if(!wf(s))return r;var a=Infinity;return t.length>0&&(a=t.length-1),String(Math.max(0,Math.min(s,a)))},SY=(e,t,r,s,a,n,i,l)=>{if(null!=n&&null!=l){var o=i[0],c=null==o?void 0:l(o.positions,n);if(null!=c)return c;var d=null==a?void 0:a[Number(n)];if(d)if("horizontal"===r)return{x:d.coordinate,y:(s.top+t)/2};else return{x:(s.left+e)/2,y:d.coordinate}}},SG=(e,t,r,s)=>{var a;return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(a="hover"===r?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=s?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null==(t=e.settings)?void 0:t.dataKey)===a})},SX=e=>e.options.tooltipPayloadSearcher,SK=e=>e.tooltip;function SZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function SQ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?SZ(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SZ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var SJ=(e,t,r,s,a,n,i)=>{if(null!=t&&null!=n){var{chartData:l,computedData:o,dataStartIndex:c,dataEndIndex:d}=r;return e.reduce((e,r)=>{var u,m,h,{dataDefinedOnItem:x,settings:p}=r,f=null!=x?x:l,g=Array.isArray(f)?vX(f,c,d):f,v=null!=(u=null==p?void 0:p.dataKey)?u:null==s?void 0:s.dataKey,j=null==p?void 0:p.nameKey;return Array.isArray(m=null!=s&&s.dataKey&&Array.isArray(g)&&!Array.isArray(g[0])&&"axis"===i?function(e,t,r){if(e&&e.length)return e.find(e=>e&&("function"==typeof t?t(e):(0,gL.default)(e,t))===r)}(g,s.dataKey,a):n(g,t,o,j))?m.forEach(t=>{var r=SQ(SQ({},p),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(v8({tooltipEntrySettings:r,dataKey:t.dataKey,payload:t.payload,value:vQ(t.payload,t.dataKey),name:t.name}))}):e.push(v8({tooltipEntrySettings:p,dataKey:v,payload:m,value:vQ(m,v),name:null!=(h=vQ(m,j))?h:null==p?void 0:p.name})),e},[])}},S0=fG([Ct,jy,Cp,wz,w9],St),S1=fG([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),S2=fG([w9,Ce],Cf),S4=fG([S1,Ct,S2],Cj),S5=fG([S4],e=>e.filter(Cs)),S6=fG([S4],CC),S3=fG([S6,wh],CD),S8=fG([S5,wh,Ct],Cr),S7=fG([S3,Ct,S4],Ck),S9=fG([Ct],C$),De=fG([S4],e=>e.filter(Cs)),Dt=fG([S8,De,wL],CO),Dr=fG([Dt,wh,w9],CM),Ds=fG([S4],CN),Da=fG([S3,Ct,Ds,C_,w9],CB),Dn=fG([CW,w9,Ce],CH),Di=fG([Dn,w9],CQ),Dl=fG([CG,w9,Ce],CH),Do=fG([Dl,w9],C0),Dc=fG([CK,w9,Ce],CH),Dd=fG([Dc,w9],C2),Du=fG([Di,Dd,Do],CV),Dm=fG([Ct,S9,Dr,Da,Du,jy,w9],C3),Dh=fG([Ct,jy,S3,S7,wL,w9,Dm],C9),Dx=fG([Dh,Ct,S0],Sa),Dp=fG([Ct,Dh,Dx,w9],Si),Df=e=>{var t=w9(e),r=Ce(e);return Sx(e,t,r,!1)},Dg=fG([Ct,Df],wH),Dv=fG([Ct,S0,Dp,Dg],Ss),Dj=fG([jy,S7,Ct,w9],Sk),Dy=fG([jy,S7,Ct,w9],SA),Db=fG([jy,Ct,S0,Dv,Df,Dj,Dy,w9],(e,t,r,s,a,n,i,l)=>{if(t){var{type:o}=t,c=vJ(e,l);if(s){var d="scaleBand"===r&&s.bandwidth?s.bandwidth()/2:2,u="category"===o&&s.bandwidth?s.bandwidth()/d:0;return(u="angleAxis"===l&&null!=a&&(null==a?void 0:a.length)>=2?2*gz(a[0]-a[1])*u:u,c&&i)?i.map((e,t)=>({coordinate:s(e)+u,value:e,index:t,offset:u})):s.domain().map((e,t)=>({coordinate:s(e)+u,value:n?n[e]:e,index:t,offset:u}))}}}),DN=fG([S_,SL,e=>e.tooltip.settings],(e,t,r)=>Sz(r.shared,e,t)),Dw=e=>e.tooltip.settings.trigger,DC=e=>e.tooltip.settings.defaultIndex,DS=fG([SK,DN,Dw,DC],SW),DD=fG([DS,S3],SH),DP=fG([Db,DD],SU),Dk=fG([DS],e=>{if(e)return e.dataKey}),DE=fG([SK,DN,Dw,DC],SG),DA=fG([v9,je,jy,jc,Db,DC,DE,SX],SY),DF=fG([DS,DA],(e,t)=>null!=e&&e.coordinate?e.coordinate:t),DR=fG([DS],e=>e.active),DO=fG([DE,DD,wh,Ct,DP,SX,DN],SJ);fG([DO],e=>{if(null!=e)return Array.from(new Set(e.map(e=>e.payload).filter(e=>null!=e)))});var DI=(e,t)=>t,DM=(e,t,r)=>r,DT=(e,t,r,s)=>s,DB=fG(Db,e=>(0,vM.default)(e,e=>e.coordinate)),D_=fG([SK,DI,DM,DT],SW),DL=fG([D_,S3],SH),Dz=fG([SK,DI,DM,DT],SG),Dq=fG([v9,je,jy,jc,Db,DT,Dz,SX],SY),DU=fG([D_,Dq],(e,t)=>{var r;return null!=(r=e.coordinate)?r:t}),D$=fG(Db,DL,SU),DV=fG([Dz,DL,wh,Ct,D$,SX,DI],SJ),DW=fG([D_],e=>({isActive:e.active,activeIndex:e.index})),DH=fG([(e,t)=>t,jy,w6,w9,Dg,Db,DB,jc],(e,t,r,s,a,n,i,l)=>{if(e&&t&&s&&a&&n){var o=(c=e.chartX,d=e.chartY,"horizontal"===t||"vertical"===t?c>=l.left&&c<=l.left+l.width&&d>=l.top&&d<=l.top+l.height?{x:c,y:d}:null:r?((e,t)=>{var r,{x:s,y:a}=e,{radius:n,angle:i}=((e,t)=>{var{x:r,y:s}=e,{cx:a,cy:n}=t,i=((e,t)=>{var{x:r,y:s}=e,{x:a,y:n}=t;return Math.sqrt((r-a)**2+(s-n)**2)})({x:r,y:s},{x:a,y:n});if(i<=0)return{radius:i,angle:0};var l=Math.acos((r-a)/i);return s>n&&(l=2*Math.PI-l),{radius:i,angle:180*l/Math.PI,angleInRadian:l}})({x:s,y:a},t),{innerRadius:l,outerRadius:o}=t;if(n<l||n>o||0===n)return null;var{startAngle:c,endAngle:d}=(e=>{var{startAngle:t,endAngle:r}=e,s=Math.min(Math.floor(t/360),Math.floor(r/360));return{startAngle:t-360*s,endAngle:r-360*s}})(t),u=i;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;r=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;r=u>=d&&u<=c}return r?vW(vW({},t),{},{radius:n,angle:((e,t)=>{var{startAngle:r,endAngle:s}=t;return e+360*Math.min(Math.floor(r/360),Math.floor(s/360))})(u,t)}):null})({x:c,y:d},r):null);if(o){var c,d,u=((e,t,r,s,a)=>{var n,i=-1,l=null!=(n=null==t?void 0:t.length)?n:0;if(l<=1||null==e)return 0;if("angleAxis"===s&&null!=a&&1e-6>=Math.abs(Math.abs(a[1]-a[0])-360))for(var o=0;o<l;o++){var c=o>0?r[o-1].coordinate:r[l-1].coordinate,d=r[o].coordinate,u=o>=l-1?r[0].coordinate:r[o+1].coordinate,m=void 0;if(gz(d-c)!==gz(u-d)){var h=[];if(gz(u-d)===gz(a[1]-a[0])){m=u;var x=d+a[1]-a[0];h[0]=Math.min(x,(x+c)/2),h[1]=Math.max(x,(x+c)/2)}else{m=c;var p=u+a[1]-a[0];h[0]=Math.min(d,(p+d)/2),h[1]=Math.max(d,(p+d)/2)}var f=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>f[0]&&e<=f[1]||e>=h[0]&&e<=h[1]){({index:i}=r[o]);break}}else{var g=Math.min(c,u),v=Math.max(c,u);if(e>(g+d)/2&&e<=(v+d)/2){({index:i}=r[o]);break}}}else if(t){for(var j=0;j<l;j++)if(0===j&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:i}=t[j]);break}}return i})("horizontal"===t?o.x:"vertical"===t?o.y:"centric"===t?o.angle:o.radius,i,n,s,a),m=((e,t,r,s)=>{var a=t.find(e=>e&&e.index===r);if(a){if("horizontal"===e)return{x:a.coordinate,y:s.y};if("vertical"===e)return{x:s.x,y:a.coordinate};if("centric"===e){var n=a.coordinate,{radius:i}=s;return vZ(vZ(vZ({},s),vY(s.cx,s.cy,i,n)),{},{angle:n,radius:i})}var l=a.coordinate,{angle:o}=s;return vZ(vZ(vZ({},s),vY(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}return{x:0,y:0}})(t,n,u,o);return{activeIndex:String(u),activeCoordinate:m}}}}),DY=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,s=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/s)}},DG=f8("mouseClick"),DX=gB();DX.startListening({actionCreator:DG,effect:(e,t)=>{var r=e.payload,s=DH(t.getState(),DY(r));(null==s?void 0:s.activeIndex)!=null&&t.dispatch(vm({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}});var DK=f8("mouseMove"),DZ=gB();function DQ(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}function DJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function D0(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?DJ(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DJ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}DZ.startListening({actionCreator:DK,effect:(e,t)=>{var r=e.payload,s=t.getState(),a=Sq(s,s.tooltip.settings.shared),n=DH(s,DY(r));"axis"===a&&((null==n?void 0:n.activeIndex)!=null?t.dispatch(vu({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate})):t.dispatch(vc()))}});var D1=gn({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:s}=t.payload;e.yAxis[r]&&(e.yAxis[r]=D0(D0({},e.yAxis[r]),{},{width:s}))}}}),{addXAxis:D2,removeXAxis:D4,addYAxis:D5,removeYAxis:D6,addZAxis:D3,removeZAxis:D8,updateYAxisWidth:D7}=D1.actions,D9=D1.reducer,Pe=gn({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:s}=t.payload,a=fk(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=s)},removeCartesianGraphicalItem(e,t){var r=fk(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=fk(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:Pt,replaceCartesianGraphicalItem:Pr,removeCartesianGraphicalItem:Ps,addPolarGraphicalItem:Pa,removePolarGraphicalItem:Pn}=Pe.actions,Pi=Pe.reducer,Pl=gn({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=fk(e).dots.findIndex(e=>e===t.payload);-1!==r&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=fk(e).areas.findIndex(e=>e===t.payload);-1!==r&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=fk(e).lines.findIndex(e=>e===t.payload);-1!==r&&e.lines.splice(r,1)}}}),{addDot:Po,removeDot:Pc,addArea:Pd,removeArea:Pu,addLine:Pm,removeLine:Ph}=Pl.actions,Px=Pl.reducer,Pp={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Pf=gn({name:"brush",initialState:Pp,reducers:{setBrushSettings:(e,t)=>null==t.payload?Pp:t.payload}}),{setBrushSettings:Pg}=Pf.actions,Pv=Pf.reducer,Pj=gn({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=fk(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:Py,setLegendSettings:Pb,addLegendPayload:PN,removeLegendPayload:Pw}=Pj.actions,PC=Pj.reducer,PS={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},PD=gn({name:"rootProps",initialState:PS,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!=(r=t.payload.barGap)?r:PS.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),PP=PD.reducer,{updateOptions:Pk}=PD.actions,PE=gn({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:PA,removeRadiusAxis:PF,addAngleAxis:PR,removeAngleAxis:PO}=PE.actions,PI=PE.reducer,PM=gn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:PT}=PM.actions,PB=PM.reducer,P_=f8("keyDown"),PL=f8("focus"),Pz=gB();Pz.startListening({actionCreator:P_,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:s}=r.tooltip,a=e.payload;if("ArrowRight"===a||"ArrowLeft"===a||"Enter"===a){var n=Number(SH(s,S3(r))),i=Db(r);if("Enter"===a){var l=Dq(r,"axis","hover",String(s.index));t.dispatch(vx({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:l}));return}var o=n+("ArrowRight"===a?1:-1)*("left-to-right"===SB(r)?1:-1);if(null!=i&&!(o>=i.length)&&!(o<0)){var c=Dq(r,"axis","hover",String(o));t.dispatch(vx({active:!0,activeIndex:o.toString(),activeDataKey:void 0,activeCoordinate:c}))}}}}}),Pz.startListening({actionCreator:PL,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&null==s.index){var a=Dq(r,"axis","hover",String("0"));t.dispatch(vx({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:a}))}}}});var Pq=f8("externalEvent"),PU=gB();PU.startListening({actionCreator:Pq,effect:(e,t)=>{if(null!=e.payload.handler){var r=t.getState(),s={activeCoordinate:DF(r),activeDataKey:Dk(r),activeIndex:DD(r),activeLabel:DP(r),activeTooltipIndex:DD(r),isTooltipActive:DR(r)};e.payload.handler(s,e.payload.reactEvent)}}});var P$=fG([SK],e=>e.tooltipItemPayloads),PV=fG([P$,SX,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,s)=>{var a=e.find(e=>e.settings.dataKey===s);if(null!=a){var{positions:n}=a;if(null!=n)return t(n,r)}}),PW=f8("touchMove"),PH=gB();PH.startListening({actionCreator:PW,effect:(e,t)=>{var r=e.payload,s=t.getState(),a=Sq(s,s.tooltip.settings.shared);if("axis"===a){var n=DH(s,DY({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(null==n?void 0:n.activeIndex)!=null&&t.dispatch(vu({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}else if("item"===a){var i,l=r.touches[0],o=document.elementFromPoint(l.clientX,l.clientY);if(!o||!o.getAttribute)return;var c=o.getAttribute(jn),d=null!=(i=o.getAttribute(ji))?i:void 0,u=PV(t.getState(),c,d);t.dispatch(vl({activeDataKey:d,activeIndex:c,activeCoordinate:u}))}}});var PY=gn({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:s}=t.payload;e[r]||(e[r]=[]),e[r].push(s)},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:s}=t.payload;e[r]&&(e[r]=e[r].filter(e=>e.dataKey!==s.dataKey||e.direction!==s.direction))}}}),{addErrorBar:PG,removeErrorBar:PX}=PY.actions,PK=f1({brush:Pv,cartesianAxis:D9,chartData:vy,errorBars:PY.reducer,graphicalItems:Pi,layout:vD,legend:PC,options:g0,polarAxis:PI,polarOptions:PB,referenceElements:Px,rootProps:PP,tooltip:vp}),PZ=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart";return function(e){let t,r,s,a=function(e){let{thunk:t=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:a=!0}=e??{},n=new f7;return t&&("boolean"==typeof t?n.push(f6):n.push(f5(t.extraArgument))),n},{reducer:n,middleware:i,devTools:l=!0,duplicateMiddlewareCheck:o=!0,preloadedState:c,enhancers:d}=e||{};if("function"==typeof n)t=n;else if(f0(n))t=f1(n);else throw Error(g_(1));r="function"==typeof i?i(a):a();let u=f2;l&&(u=f3({trace:!1,..."object"==typeof l&&l}));let m=(s=function(...e){return t=>(r,s)=>{let a=t(r,s),n=()=>{throw Error(fK(15))},i={getState:a.getState,dispatch:(e,...t)=>n(e,...t)};return n=f2(...e.map(e=>e(i)))(a.dispatch),{...a,dispatch:n}}}(...r),function(e){let{autoBatch:t=!0}=e??{},r=new f7(s);return t&&r.push(((e={type:"raf"})=>t=>(...r)=>{let s=t(...r),a=!0,n=!1,i=!1,l=new Set,o="tick"===e.type?queueMicrotask:"raf"===e.type?"u">typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:gt(10):"callback"===e.type?e.queueNotification:gt(e.timeout),c=()=>{i=!1,n&&(n=!1,l.forEach(e=>e()))};return Object.assign({},s,{subscribe(e){let t=s.subscribe(()=>a&&e());return l.add(e),()=>{t(),l.delete(e)}},dispatch(e){try{return(n=!(a=!e?.meta?.RTK_autoBatch))&&!i&&(i=!0,o(c)),s.dispatch(e)}finally{a=!0}}})})("object"==typeof t?t:void 0)),r});return function e(t,r,s){if("function"!=typeof t)throw Error(fK(2));if("function"==typeof r&&"function"==typeof s||"function"==typeof s&&"function"==typeof arguments[3])throw Error(fK(0));if("function"==typeof r&&void 0===s&&(s=r,r=void 0),void 0!==s){if("function"!=typeof s)throw Error(fK(1));return s(e)(t,r)}let a=t,n=r,i=new Map,l=i,o=0,c=!1;function d(){l===i&&(l=new Map,i.forEach((e,t)=>{l.set(t,e)}))}function u(){if(c)throw Error(fK(3));return n}function m(e){if("function"!=typeof e)throw Error(fK(4));if(c)throw Error(fK(5));let t=!0;d();let r=o++;return l.set(r,e),function(){if(t){if(c)throw Error(fK(6));t=!1,d(),l.delete(r),i=null}}}function h(e){if(!f0(e))throw Error(fK(7));if(void 0===e.type)throw Error(fK(8));if("string"!=typeof e.type)throw Error(fK(17));if(c)throw Error(fK(9));try{c=!0,n=a(n,e)}finally{c=!1}return(i=l).forEach(e=>{e()}),e}return h({type:fJ.INIT}),{dispatch:h,subscribe:m,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw Error(fK(10));a=e,h({type:fJ.REPLACE})},[fZ]:function(){return{subscribe(e){if("object"!=typeof e||null===e)throw Error(fK(11));function t(){e.next&&e.next(u())}return t(),{unsubscribe:m(t)}},[fZ](){return this}}}}}(t,c,u(..."function"==typeof d?d(m):m()))}({reducer:PK,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([DX.middleware,DZ.middleware,Pz.middleware,PU.middleware,PH.middleware]),devTools:{serialize:{replacer:DQ},name:"recharts-".concat(t)}})};function PQ(e){var{preloadedState:t,children:r,reduxStoreName:s}=e,a=jh(),n=(0,q.useRef)(null);return a?r:(null==n.current&&(n.current=PZ(t,s)),q.createElement(g9,{context:vk,store:n.current},r))}var PJ=e=>{var{chartData:t}=e,r=vA(),s=jh();return(0,q.useEffect)(()=>s?()=>{}:(r(vg(t)),()=>{r(vg(void 0))}),[t,r,s]),null};function P0(e){var{layout:t,width:r,height:s,margin:a}=e,n=vA(),i=jh();return(0,q.useEffect)(()=>{i||(n(vw(t)),n(vC({width:r,height:s})),n(vN(a)))},[n,i,t,r,s,a]),null}function P1(e){var t=vA();return(0,q.useEffect)(()=>{t(Pk(e))},[t,e]),null}var P2=()=>vI(e=>e.rootProps.accessibilityLayer),P4=e.i(79684),P5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function P6(e){return"string"==typeof e&&P5.includes(e)}var P3=["points","pathLength"],P8={svg:["viewBox","children"],polygon:P3,polyline:P3},P7=(e,t,r)=>{if(null===e||"object"!=typeof e&&"function"!=typeof e)return null;var s=null;return Object.keys(e).forEach(a=>{var n=e[a];P6(a)&&"function"==typeof n&&(s||(s={}),s[a]=e=>(n(t,r,e),null))}),s},P9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function ke(e){return"string"==typeof e&&P9.includes(e)}function kt(e){return Object.fromEntries(Object.entries(e).filter(e=>{var[t]=e;return ke(t)}))}var kr=e=>"string"==typeof e?e:e?e.displayName||e.name||"Component":"",ks=null,ka=null,kn=e=>{if(e===ks&&Array.isArray(ka))return ka;var t=[];return q.Children.forEach(e,e=>{null!=e&&((0,P4.isFragment)(e)?t=t.concat(kn(e.props.children)):t.push(e))}),ka=t,ks=e,t};function ki(e,t){var r=[],s=[];return s=Array.isArray(t)?t.map(e=>kr(e)):[kr(t)],kn(e).forEach(e=>{var t=(0,gL.default)(e,"type.displayName")||(0,gL.default)(e,"type.name");-1!==s.indexOf(t)&&r.push(e)}),r}var kl=(e,t,r)=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var s=e;if((0,q.isValidElement)(e)&&(s=e.props),"object"!=typeof s&&"function"!=typeof s)return null;var a={};return Object.keys(s).forEach(e=>{var n;((e,t,r,s)=>{if("symbol"==typeof t||"number"==typeof t)return!0;var a,n=null!=(a=s&&(null==P8?void 0:P8[s]))?a:[],i=t.startsWith("data-"),l="function"!=typeof e&&(!!s&&n.includes(t)||ke(t)),o=!!r&&P6(t);return i||l||o})(null==(n=s)?void 0:n[e],e,t,r)&&(a[e]=s[e])}),a},ko=["children","width","height","viewBox","className","style","title","desc"];function kc(){return(kc=Object.assign.bind()).apply(null,arguments)}var kd=(0,q.forwardRef)((e,t)=>{var{children:r,width:s,height:a,viewBox:n,className:i,style:l,title:o,desc:c}=e,d=function(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,ko),u=n||{width:s,height:a,x:0,y:0},m=ek("recharts-surface",i);return q.createElement("svg",kc({},kl(d,!0,"svg"),{className:m,width:s,height:a,style:l,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height),ref:t}),q.createElement("title",null,o),q.createElement("desc",null,c),r)}),ku=["children"];function km(){return(km=Object.assign.bind()).apply(null,arguments)}var kh={width:"100%",height:"100%"},kx=(0,q.forwardRef)((e,t)=>{var r,s,a=vI(v9),n=vI(je),i=P2();if(!wg(a)||!wg(n))return null;var{children:l,otherAttributes:o,title:c,desc:d}=e;return r="number"==typeof o.tabIndex?o.tabIndex:i?0:void 0,s="string"==typeof o.role?o.role:i?"application":void 0,q.createElement(kd,km({},o,{title:c,desc:d,role:s,tabIndex:r,width:a,height:n,style:kh,ref:t}),l)}),kp=e=>{var{children:t}=e,r=vI(jp);if(!r)return null;var{width:s,height:a,y:n,x:i}=r;return q.createElement(kd,{width:s,height:a,x:i,y:n},t)},kf=(0,q.forwardRef)((e,t)=>{var{children:r}=e,s=function(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,ku);return jh()?q.createElement(kp,null,r):q.createElement(kx,km({ref:t},s),r)}),kg=new(e.i(78492)).default,kv="recharts.syncEvent.tooltip",kj="recharts.syncEvent.brush";function ky(e){return e.tooltip.syncInteraction}var kb=()=>{},kN=(0,q.createContext)(null),kw=(0,q.createContext)(null);function kC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}var kS=(0,q.forwardRef)((e,t)=>{var r,s,a,n,i,l,o,c,d,u,m,h,{children:x,className:p,height:f,onClick:g,onContextMenu:v,onDoubleClick:j,onMouseDown:y,onMouseEnter:b,onMouseLeave:N,onMouseMove:w,onMouseUp:C,onTouchEnd:S,onTouchMove:D,onTouchStart:P,style:k,width:E}=e,A=vA(),[F,R]=(0,q.useState)(null),[O,I]=(0,q.useState)(null);r=vA(),(0,q.useEffect)(()=>{r(g1())},[r]),s=vI(wq),a=vI(w$),n=vA(),i=vI(wU),l=vI(Db),o=vI(jy),c=jf(),d=vI(e=>e.rootProps.className),(0,q.useEffect)(()=>{if(null==s)return kb;var e=(e,t,r)=>{if(a!==r&&s===e){if("index"===i)return void n(t);if(null!=l){if("function"==typeof i){var d,u=i(l,{activeTooltipIndex:null==t.payload.index?void 0:Number(t.payload.index),isTooltipActive:t.payload.active,activeIndex:null==t.payload.index?void 0:Number(t.payload.index),activeLabel:t.payload.label,activeDataKey:t.payload.dataKey,activeCoordinate:t.payload.coordinate});d=l[u]}else"value"===i&&(d=l.find(e=>String(e.value)===t.payload.label));var{coordinate:m}=t.payload;if(null==d||!1===t.payload.active||null==m||null==c)return void n(vh({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));var{x:h,y:x}=m,p=Math.min(h,c.x+c.width),f=Math.min(x,c.y+c.height),g={x:"horizontal"===o?d.coordinate:p,y:"horizontal"===o?f:d.coordinate};n(vh({active:t.payload.active,coordinate:g,dataKey:t.payload.dataKey,index:String(d.index),label:t.payload.label}))}}};return kg.on(kv,e),()=>{kg.off(kv,e)}},[d,n,a,s,i,l,o,c]),u=vI(wq),m=vI(w$),h=vA(),(0,q.useEffect)(()=>{if(null==u)return kb;var e=(e,t,r)=>{m!==r&&u===e&&h(vv(t))};return kg.on(kj,e),()=>{kg.off(kj,e)}},[h,m,u]);var M=function(){var e=vA(),[t,r]=(0,q.useState)(null),s=vI(jt);return(0,q.useEffect)(()=>{if(null!=t){var r=t.getBoundingClientRect().width/t.offsetWidth;wf(r)&&r!==s&&e(vS(r))}},[t,e,s]),r}(),T=(0,q.useCallback)(e=>{M(e),"function"==typeof t&&t(e),R(e),I(e)},[M,t,R,I]),B=(0,q.useCallback)(e=>{A(DG(e)),A(Pq({handler:g,reactEvent:e}))},[A,g]),_=(0,q.useCallback)(e=>{A(DK(e)),A(Pq({handler:b,reactEvent:e}))},[A,b]),L=(0,q.useCallback)(e=>{A(vc()),A(Pq({handler:N,reactEvent:e}))},[A,N]),z=(0,q.useCallback)(e=>{A(DK(e)),A(Pq({handler:w,reactEvent:e}))},[A,w]),U=(0,q.useCallback)(()=>{A(PL())},[A]),$=(0,q.useCallback)(e=>{A(P_(e.key))},[A]),V=(0,q.useCallback)(e=>{A(Pq({handler:v,reactEvent:e}))},[A,v]),W=(0,q.useCallback)(e=>{A(Pq({handler:j,reactEvent:e}))},[A,j]),H=(0,q.useCallback)(e=>{A(Pq({handler:y,reactEvent:e}))},[A,y]),Y=(0,q.useCallback)(e=>{A(Pq({handler:C,reactEvent:e}))},[A,C]),G=(0,q.useCallback)(e=>{A(Pq({handler:P,reactEvent:e}))},[A,P]),X=(0,q.useCallback)(e=>{A(PW(e)),A(Pq({handler:D,reactEvent:e}))},[A,D]),K=(0,q.useCallback)(e=>{A(Pq({handler:S,reactEvent:e}))},[A,S]);return q.createElement(kN.Provider,{value:F},q.createElement(kw.Provider,{value:O},q.createElement("div",{className:ek("recharts-wrapper",p),style:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kC(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({position:"relative",cursor:"default",width:E,height:f},k),onClick:B,onContextMenu:V,onDoubleClick:W,onFocus:U,onKeyDown:$,onMouseDown:H,onMouseEnter:_,onMouseLeave:L,onMouseMove:z,onMouseUp:Y,onTouchEnd:K,onTouchMove:X,onTouchStart:G,ref:T},x)))}),kD=fG([jc],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),kP=fG([kD,v9,je],(e,t,r)=>{if(e&&null!=t&&null!=r)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),kk=(0,q.createContext)(void 0),kE=e=>{var{children:t}=e,[r]=(0,q.useState)("".concat(gH("recharts"),"-clip")),s=vI(kP);if(null==s)return null;var{x:a,y:n,width:i,height:l}=s;return q.createElement(kk.Provider,{value:r},q.createElement("defs",null,q.createElement("clipPath",{id:r},q.createElement("rect",{x:a,y:n,height:l,width:i}))),t)},kA=["children","className","width","height","style","compact","title","desc"],kF=(0,q.forwardRef)((e,t)=>{var{children:r,className:s,width:a,height:n,style:i,compact:l,title:o,desc:c}=e,d=kt(function(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,kA));return l?q.createElement(kf,{otherAttributes:d,title:o,desc:c},r):q.createElement(kS,{className:s,style:i,width:a,height:n,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},q.createElement(kf,{otherAttributes:d,title:o,desc:c,ref:t},q.createElement(kE,null,r)))});function kR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function kO(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kR(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return Object.keys(t).reduce((e,r)=>(void 0===e[r]&&void 0!==t[r]&&(e[r]=t[r]),e),r)}var kI=["width","height"];function kM(){return(kM=Object.assign.bind()).apply(null,arguments)}var kT={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},kB=(0,q.forwardRef)(function(e,t){var r,s=kO(e.categoricalChartProps,kT),{width:a,height:n}=s,i=function(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(s,kI);if(!wg(a)||!wg(n))return null;var{chartName:l,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:u}=e;return q.createElement(PQ,{preloadedState:{options:{chartName:l,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0}},reduxStoreName:null!=(r=u.id)?r:l},q.createElement(PJ,{chartData:u.data}),q.createElement(P0,{width:a,height:n,layout:s.layout,margin:s.margin}),q.createElement(P1,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),q.createElement(kF,kM({},i,{width:a,height:n,ref:t})))}),k_=["axis","item"],kL=(0,q.forwardRef)((e,t)=>q.createElement(kB,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:k_,tooltipPayloadSearcher:gQ,categoricalChartProps:e,ref:t})),kz=q,kq=["children","className"];function kU(){return(kU=Object.assign.bind()).apply(null,arguments)}var k$=q.forwardRef((e,t)=>{var{children:r,className:s}=e,a=function(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,kq),n=ek("recharts-layer",s);return q.createElement("g",kU({className:n},kl(a,!0),{ref:t}),r)}),kV=e=>null;kV.displayName="Cell";var kW=e.i(4178),kH={isSsr:!("u">typeof window&&window.document&&window.document.createElement&&window.setTimeout)};function kY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}var kG=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kY(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kY(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},{cacheSize:2e3,enableCache:!0}),kX=new class{constructor(e){!function(e,t,r){var s;(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(kG.cacheSize),kK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kZ="recharts_measurement_span",kQ=(e,t)=>{try{var r=document.getElementById(kZ);r||((r=document.createElement("span")).setAttribute("id",kZ),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,kK,t),r.textContent="".concat(e);var s=r.getBoundingClientRect();return{width:s.width,height:s.height}}catch(e){return{width:0,height:0}}},kJ=function(e){var t,r,s,a,n,i,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||kH.isSsr)return{width:0,height:0};if(!kG.enableCache)return kQ(e,l);var o=(t=l.fontSize||"",r=l.fontFamily||"",s=l.fontWeight||"",a=l.fontStyle||"",n=l.letterSpacing||"",i=l.textTransform||"","".concat(e,"|").concat(t,"|").concat(r,"|").concat(s,"|").concat(a,"|").concat(n,"|").concat(i)),c=kX.get(o);if(c)return c;var d=kQ(e,l);return kX.set(o,d),d},k0=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,k1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,k2=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,k4=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,k5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},k6=Object.keys(k5);class k3{static parse(e){var t,[,r,s]=null!=(t=k4.exec(e))?t:[];return new k3(parseFloat(r),null!=s?s:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,gq(e)&&(this.unit=""),""===t||k2.test(t)||(this.num=NaN,this.unit=""),k6.includes(t)&&(this.num=e*k5[t],this.unit="px")}add(e){return this.unit!==e.unit?new k3(NaN,""):new k3(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new k3(NaN,""):new k3(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new k3(NaN,""):new k3(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new k3(NaN,""):new k3(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return gq(this.num)}}function k8(e){if(e.includes("NaN"))return"NaN";for(var t=e;t.includes("*")||t.includes("/");){var r,[,s,a,n]=null!=(r=k0.exec(t))?r:[],i=k3.parse(null!=s?s:""),l=k3.parse(null!=n?n:""),o="*"===a?i.multiply(l):i.divide(l);if(o.isNaN())return"NaN";t=t.replace(k0,o.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,u,m]=null!=(c=k1.exec(t))?c:[],h=k3.parse(null!=d?d:""),x=k3.parse(null!=m?m:""),p="+"===u?h.add(x):h.subtract(x);if(p.isNaN())return"NaN";t=t.replace(k1,p.toString())}return t}var k7=/\(([^()]*)\)/;function k9(e){var t=function(e){try{var t;return t=e.replace(/\s+/g,""),t=function(e){for(var t,r=e;null!=(t=k7.exec(r));){var[,s]=t;r=r.replace(k7,k8(s))}return r}(t),t=k8(t)}catch(e){return"NaN"}}(e.slice(5,-1));return"NaN"===t?"":t}var Ee=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Et=["dx","dy","angle","className","breakAll"];function Er(){return(Er=Object.assign.bind()).apply(null,arguments)}function Es(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Ea=/[ \f\n\r\t\v\u2028\u2029]+/,En=e=>{var{children:t,breakAll:r,style:s}=e;try{var a=[];null!=t&&(a=r?t.toString().split(""):t.toString().split(Ea));var n=a.map(e=>({word:e,width:kJ(e,s).width})),i=r?0:kJ("",s).width;return{wordsWithComputedWidth:n,spaceWidth:i}}catch(e){return null}},Ei=e=>[{words:null==e?[]:e.toString().split(Ea)}],El="#808080",Eo=(0,q.forwardRef)((e,t)=>{var r,{x:s=0,y:a=0,lineHeight:n="1em",capHeight:i="0.71em",scaleToFit:l=!1,textAnchor:o="start",verticalAnchor:c="end",fill:d=El}=e,u=Es(e,Ee),m=(0,q.useMemo)(()=>(e=>{var{width:t,scaleToFit:r,children:s,style:a,breakAll:n,maxLines:i}=e;if((t||r)&&!kH.isSsr){var l=En({breakAll:n,children:s,style:a});if(!l)return Ei(s);var{wordsWithComputedWidth:o,spaceWidth:c}=l;return((e,t,r,s,a)=>{var n,{maxLines:i,children:l,style:o,breakAll:c}=e,d=g$(i),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((e,t)=>{var{word:n,width:i}=t,l=e[e.length-1];return l&&(null==s||a||l.width+i+r<Number(s))?(l.words.push(n),l.width+=i+r):e.push({words:[n],width:i}),e},[])},m=u(t),h=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!d||a||!(m.length>i||h(m).width>Number(s)))return m;for(var x=e=>{var t=u(En({breakAll:c,style:o,children:l.slice(0,e)+""}).wordsWithComputedWidth);return[t.length>i||h(t).width>Number(s),t]},p=0,f=l.length-1,g=0;p<=f&&g<=l.length-1;){var v=Math.floor((p+f)/2),[j,y]=x(v-1),[b]=x(v);if(j||b||(p=v+1),j&&b&&(f=v-1),!j&&b){n=y;break}g++}return n||m})({breakAll:n,children:s,maxLines:i,style:a},o,c,t,r)}return Ei(s)})({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:l,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,l,u.style,u.width]),{dx:h,dy:x,angle:p,className:f,breakAll:g}=u,v=Es(u,Et);if(!gV(s)||!gV(a))return null;var j=s+(g$(h)?h:0),y=a+(g$(x)?x:0);switch(c){case"start":r=k9("calc(".concat(i,")"));break;case"middle":r=k9("calc(".concat((m.length-1)/2," * -").concat(n," + (").concat(i," / 2))"));break;default:r=k9("calc(".concat(m.length-1," * -").concat(n,")"))}var b=[];if(l){var N=m[0].width,{width:w}=u;b.push("scale(".concat(g$(w)?w/N:1,")"))}return p&&b.push("rotate(".concat(p,", ").concat(j,", ").concat(y,")")),b.length&&(v.transform=b.join(" ")),q.createElement("text",Er({},kl(v,!0),{ref:t,x:j,y:y,className:ek("recharts-text",f),textAnchor:o,fill:d.includes("url")?El:d}),m.map((e,t)=>{var s=e.words.join(g?"":" ");return q.createElement("tspan",{x:j,dy:0===t?r:n,key:"".concat(s,"-").concat(t)},s)}))});Eo.displayName="Text";var Ec=["offset"],Ed=["labelRef"];function Eu(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Em(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function Eh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Em(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Em(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ex(){return(Ex=Object.assign.bind()).apply(null,arguments)}var Ep=e=>null!=e&&"function"==typeof e;function Ef(e){var t,{offset:r=5}=e,s=Eh({offset:r},Eu(e,Ec)),{viewBox:a,position:n,value:i,children:l,content:o,className:c="",textBreakAll:d,labelRef:u}=s,m=vI(w6),h=jf(),x=a||("center"===n?h:null!=m?m:h);if(!x||null==i&&null==l&&!(0,q.isValidElement)(o)&&"function"!=typeof o)return null;var p=Eh(Eh({},s),{},{viewBox:x});if((0,q.isValidElement)(o)){var{labelRef:f}=p,g=Eu(p,Ed);return(0,q.cloneElement)(o,g)}if("function"==typeof o){if(t=(0,q.createElement)(o,p),(0,q.isValidElement)(t))return t}else t=(e=>{var{value:t,formatter:r}=e,s=null==e.children?t:e.children;return"function"==typeof r?r(s):s})(s);var v="cx"in x&&g$(x.cx),j=kl(s,!0);if(v&&("insideStart"===n||"insideEnd"===n||"end"===n))return((e,t,r,s)=>{var a,n,{position:i,offset:l,className:o}=e,{cx:c,cy:d,innerRadius:u,outerRadius:m,startAngle:h,endAngle:x,clockWise:p}=s,f=(u+m)/2,g=gz(x-h)*Math.min(Math.abs(x-h),360),v=g>=0?1:-1;"insideStart"===i?(a=h+v*l,n=p):"insideEnd"===i?(a=x-v*l,n=!p):"end"===i&&(a=x+v*l,n=p),n=g<=0?n:!n;var j=vY(c,d,f,a),y=vY(c,d,f,a+(n?1:-1)*359),b="M".concat(j.x,",").concat(j.y,"\n    A").concat(f,",").concat(f,",0,1,").concat(+!n,",\n    ").concat(y.x,",").concat(y.y),N=null==e.id?gH("recharts-radial-line-"):e.id;return q.createElement("text",Ex({},r,{dominantBaseline:"central",className:ek("recharts-radial-bar-label",o)}),q.createElement("defs",null,q.createElement("path",{id:N,d:b})),q.createElement("textPath",{xlinkHref:"#".concat(N)},t))})(s,t,j,x);var y=v?((e,t,r)=>{var{cx:s,cy:a,innerRadius:n,outerRadius:i,startAngle:l,endAngle:o}=e,c=(l+o)/2;if("outside"===r){var{x:d,y:u}=vY(s,a,i+t,c);return{x:d,y:u,textAnchor:d>=s?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var{x:m,y:h}=vY(s,a,(n+i)/2,c);return{x:m,y:h,textAnchor:"middle",verticalAnchor:"middle"}})(x,s.offset,s.position):((e,t)=>{var{parentViewBox:r,offset:s,position:a}=e,{x:n,y:i,width:l,height:o}=t,c=o>=0?1:-1,d=c*s,u=c>0?"end":"start",m=c>0?"start":"end",h=l>=0?1:-1,x=h*s,p=h>0?"end":"start",f=h>0?"start":"end";if("top"===a)return Eh(Eh({},{x:n+l/2,y:i-c*s,textAnchor:"middle",verticalAnchor:u}),r?{height:Math.max(i-r.y,0),width:l}:{});if("bottom"===a)return Eh(Eh({},{x:n+l/2,y:i+o+d,textAnchor:"middle",verticalAnchor:m}),r?{height:Math.max(r.y+r.height-(i+o),0),width:l}:{});if("left"===a){var g={x:n-x,y:i+o/2,textAnchor:p,verticalAnchor:"middle"};return Eh(Eh({},g),r?{width:Math.max(g.x-r.x,0),height:o}:{})}if("right"===a){var v={x:n+l+x,y:i+o/2,textAnchor:f,verticalAnchor:"middle"};return Eh(Eh({},v),r?{width:Math.max(r.x+r.width-v.x,0),height:o}:{})}var j=r?{width:l,height:o}:{};return"insideLeft"===a?Eh({x:n+x,y:i+o/2,textAnchor:f,verticalAnchor:"middle"},j):"insideRight"===a?Eh({x:n+l-x,y:i+o/2,textAnchor:p,verticalAnchor:"middle"},j):"insideTop"===a?Eh({x:n+l/2,y:i+d,textAnchor:"middle",verticalAnchor:m},j):"insideBottom"===a?Eh({x:n+l/2,y:i+o-d,textAnchor:"middle",verticalAnchor:u},j):"insideTopLeft"===a?Eh({x:n+x,y:i+d,textAnchor:f,verticalAnchor:m},j):"insideTopRight"===a?Eh({x:n+l-x,y:i+d,textAnchor:p,verticalAnchor:m},j):"insideBottomLeft"===a?Eh({x:n+x,y:i+o-d,textAnchor:f,verticalAnchor:u},j):"insideBottomRight"===a?Eh({x:n+l-x,y:i+o-d,textAnchor:p,verticalAnchor:u},j):a&&"object"==typeof a&&(g$(a.x)||gU(a.x))&&(g$(a.y)||gU(a.y))?Eh({x:n+gY(a.x,l),y:i+gY(a.y,o),textAnchor:"end",verticalAnchor:"end"},j):Eh({x:n+l/2,y:i+o/2,textAnchor:"middle",verticalAnchor:"middle"},j)})(s,x);return q.createElement(Eo,Ex({ref:u,className:ek("recharts-label",c)},j,y,{breakAll:d}),t)}Ef.displayName="Label";var Eg=e=>{var{cx:t,cy:r,angle:s,startAngle:a,endAngle:n,r:i,radius:l,innerRadius:o,outerRadius:c,x:d,y:u,top:m,left:h,width:x,height:p,clockWise:f,labelViewBox:g}=e;if(g)return g;if(g$(x)&&g$(p)){if(g$(d)&&g$(u))return{x:d,y:u,width:x,height:p};if(g$(m)&&g$(h))return{x:m,y:h,width:x,height:p}}return g$(d)&&g$(u)?{x:d,y:u,width:0,height:0}:g$(t)&&g$(r)?{cx:t,cy:r,startAngle:a||s||0,endAngle:n||s||0,innerRadius:o||0,outerRadius:c||l||i||0,clockWise:f}:e.viewBox?e.viewBox:void 0};Ef.parseViewBox=Eg,Ef.renderCallByParent=function(e,t){var r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var{children:s,labelRef:a}=e,n=Eg(e),i=ki(s,Ef).map((e,r)=>(0,q.cloneElement)(e,{viewBox:t||n,key:"label-".concat(r)}));return r?[((e,t,r)=>{if(!e)return null;var s={viewBox:t,labelRef:r};return!0===e?q.createElement(Ef,Ex({key:"label-implicit"},s)):gV(e)?q.createElement(Ef,Ex({key:"label-implicit",value:e},s)):(0,q.isValidElement)(e)?e.type===Ef?(0,q.cloneElement)(e,Eh({key:"label-implicit"},s)):q.createElement(Ef,Ex({key:"label-implicit",content:e},s)):Ep(e)?q.createElement(Ef,Ex({key:"label-implicit",content:e},s)):e&&"object"==typeof e?q.createElement(Ef,Ex({},e,{key:"label-implicit"},s)):null})(e.label,t||n,a),...i]:i};var Ev=["valueAccessor"],Ej=["data","dataKey","clockWise","id","textBreakAll"];function Ey(){return(Ey=Object.assign.bind()).apply(null,arguments)}function Eb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function EN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Eb(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ew(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var EC=e=>Array.isArray(e.value)?(0,kW.default)(e.value):e.value;function ES(e){var{valueAccessor:t=EC}=e,r=Ew(e,Ev),{data:s,dataKey:a,clockWise:n,id:i,textBreakAll:l}=r,o=Ew(r,Ej);return s&&s.length?q.createElement(k$,{className:"recharts-label-list"},s.map((e,r)=>{var s=null==a?t(e,r):vQ(e&&e.payload,a),c=null==i?{}:{id:"".concat(i,"-").concat(r)};return q.createElement(Ef,Ey({},kl(e,!0),o,c,{parentViewBox:e.parentViewBox,value:s,textBreakAll:l,viewBox:Ef.parseViewBox(null==n?e:EN(EN({},e),{},{clockWise:n})),key:"label-".concat(r),index:r}))})):null}ES.displayName="LabelList",ES.renderCallByParent=function(e,t){var r,s=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!e||!e.children&&s&&!e.label)return null;var{children:a}=e,n=ki(a,ES).map((e,r)=>(0,q.cloneElement)(e,{data:t,key:"labelList-".concat(r)}));return s?[(r=e.label,r?!0===r?q.createElement(ES,{key:"labelList-implicit",data:t}):q.isValidElement(r)||Ep(r)?q.createElement(ES,{key:"labelList-implicit",data:t,content:r}):"object"==typeof r?q.createElement(ES,Ey({data:t},r,{key:"labelList-implicit"})):null:null),...n]:n};var ED=e.i(7328),EP=q,Ek=e.i(13287),EE=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],EA=(e,t)=>e.map((e,r)=>e*t**r).reduce((e,t)=>e+t),EF=(e,t)=>r=>EA(EE(e,t),r),ER=function(){let e,t;for(var r,s,a,n,i=arguments.length,l=Array(i),o=0;o<i;o++)l[o]=arguments[o];if(1===l.length)switch(l[0]){case"linear":[r,a,s,n]=[0,0,1,1];break;case"ease":[r,a,s,n]=[.25,.1,.25,1];break;case"ease-in":[r,a,s,n]=[.42,0,1,1];break;case"ease-out":[r,a,s,n]=[.42,0,.58,1];break;case"ease-in-out":[r,a,s,n]=[0,0,.58,1];break;default:var c=l[0].split("(");"cubic-bezier"===c[0]&&4===c[1].split(")")[0].split(",").length&&([r,a,s,n]=c[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===l.length&&([r,a,s,n]=l);var d=EF(r,s),u=EF(a,n),m=(e=r,t=s,r=>EA([...EE(e,t).map((e,t)=>e*t).slice(1),0],r)),h=e=>e>1?1:e<0?0:e,x=e=>{for(var t=e>1?1:e,r=t,s=0;s<8;++s){var a=d(r)-t,n=m(r);if(1e-4>Math.abs(a-t)||n<1e-4)break;r=h(r-a/n)}return u(r)};return x.isStepper=!1,x},EO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:r=8,dt:s=17}=e,a=(e,a,n)=>{var i=n+(-(e-a)*t-n*r)*s/1e3,l=n*s/1e3+e;return 1e-4>Math.abs(l-a)&&1e-4>Math.abs(i)?[a,0]:[l,i]};return a.isStepper=!0,a.dt=s,a},EI=e=>{if("string"==typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ER(e);case"spring":return EO();default:if("cubic-bezier"===e.split("(")[0])return ER(e)}return"function"==typeof e?e:null};function EM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function ET(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?EM(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var EB=(e,t)=>Object.keys(t).reduce((r,s)=>ET(ET({},r),{},{[s]:e(s,t[s])}),{});function E_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function EL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E_(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Ez=(e,t,r)=>e+(t-e)*r,Eq=e=>{var{from:t,to:r}=e;return t!==r},EU=(e,t,r)=>{var s=EB((t,r)=>{if(Eq(r)){var[s,a]=e(r.from,r.to,r.velocity);return EL(EL({},r),{},{from:s,velocity:a})}return r},t);return r<1?EB((e,t)=>Eq(t)?EL(EL({},t),{},{velocity:Ez(t.velocity,s[e].velocity,r),from:Ez(t.from,s[e].from,r)}):t,t):EU(e,s,r-1)};let E$=(e,t,r,s,a,n)=>{var i,l,o,c,d,u,m,h,x=[Object.keys(e),Object.keys(t)].reduce((e,t)=>e.filter(e=>t.includes(e)));return!0===r.isStepper?(l=x.reduce((r,s)=>EL(EL({},r),{},{[s]:{from:e[s],velocity:0,to:t[s]}}),{}),o=null,c=s=>{i||(i=s);var d=(s-i)/r.dt;l=EU(r,l,d),a(EL(EL(EL({},e),t),EB((e,t)=>t.from,l))),i=s,Object.values(l).filter(Eq).length&&(o=n.setTimeout(c))},()=>(o=n.setTimeout(c),()=>{o()})):(u=null,m=x.reduce((r,s)=>EL(EL({},r),{},{[s]:[e[s],t[s]]}),{}),h=i=>{d||(d=i);var l=(i-d)/s,o=EB((e,t)=>Ez(...t,r(l)),m);if(a(EL(EL(EL({},e),t),o)),l<1)u=n.setTimeout(h);else{var c=EB((e,t)=>Ez(...t,r(1)),m);a(EL(EL(EL({},e),t),c))}},()=>(u=n.setTimeout(h),()=>{u()}))};class EV{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=performance.now(),s=null,a=n=>{n-r>=t?e(n):"function"==typeof requestAnimationFrame&&(s=requestAnimationFrame(a))};return s=requestAnimationFrame(a),()=>{cancelAnimationFrame(s)}}}var EW=(0,q.createContext)(function(){var e,t,r,s,a;return e=new EV,t=()=>null,r=!1,s=null,a=n=>{if(!r){if(Array.isArray(n)){if(!n.length)return;var[i,...l]=n;if("number"==typeof i){s=e.setTimeout(a.bind(null,l),i);return}a(i),s=e.setTimeout(a.bind(null,l));return}"string"==typeof n&&t(n),"object"==typeof n&&t(n),"function"==typeof n&&n()}},{stop:()=>{r=!0},start:e=>{r=!1,s&&(s(),s=null),a(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}});function EH(e,t){var r=(0,q.useContext)(EW);return(0,q.useMemo)(()=>null!=t?t:r(e),[e,t,r])}var EY=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function EG(){return(EG=Object.assign.bind()).apply(null,arguments)}function EX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function EK(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?EX(Object(r),!0).forEach(function(t){EZ(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EX(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function EZ(e,t,r){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class EQ extends EP.PureComponent{constructor(e,t){super(e,t),EZ(this,"mounted",!1),EZ(this,"manager",void 0),EZ(this,"stopJSAnimation",null),EZ(this,"unSubscribe",null);var{isActive:r,attributeName:s,from:a,to:n,children:i,duration:l,animationManager:o}=this.props;if(this.manager=o,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||l<=0){this.state={style:{}},"function"==typeof i&&(this.state={style:n});return}if(a){if("function"==typeof i){this.state={style:a};return}this.state={style:s?{[s]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:t}=this.props;this.mounted=!0,e&&t&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:t,canBegin:r,attributeName:s,shouldReAnimate:a,to:n,from:i}=this.props,{style:l}=this.state;if(r){if(!t){this.state&&l&&(s&&l[s]!==n||!s&&l!==n)&&this.setState({style:s?{[s]:n}:n});return}if(!(0,Ek.default)(e.to,n)||!e.canBegin||!e.isActive){var o=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var c=o||a?i:e.to;this.state&&l&&(s&&l[s]!==c||!s&&l!==c)&&this.setState({style:s?{[s]:c}:c}),this.runAnimation(EK(EK({},this.props),{},{from:c,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:t,to:r,duration:s,easing:a,begin:n,onAnimationEnd:i,onAnimationStart:l}=e,o=E$(t,r,EI(a),s,this.changeStyle,this.manager.getTimeoutController()),c=()=>{this.stopJSAnimation=o()};this.manager.start([l,n,c,s,i])}runAnimation(e){let t;var{begin:r,duration:s,attributeName:a,to:n,easing:i,onAnimationStart:l,onAnimationEnd:o,children:c}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),"function"==typeof i||"function"==typeof c||"spring"===i)return void this.runJSAnimation(e);var d=a?{[a]:n}:n,u=(t=Object.keys(d),t.map(e=>"".concat(e.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase()))," ").concat(s,"ms ").concat(i)).join(","));this.manager.start([l,r,EK(EK({},d),{},{transition:u}),s,o])}render(){var e=this.props,{children:t,begin:r,duration:s,attributeName:a,easing:n,isActive:i,from:l,to:o,canBegin:c,onAnimationEnd:d,shouldReAnimate:u,onAnimationReStart:m,animationManager:h}=e,x=function(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,EY),p=EP.Children.count(t),f=this.state.style;if("function"==typeof t)return t(f);if(!i||0===p||s<=0)return t;var g=e=>{var{style:t={},className:r}=e.props;return(0,EP.cloneElement)(e,EK(EK({},x),{},{style:EK(EK({},t),f),className:r}))};return 1===p?g(EP.Children.only(t)):EP.createElement("div",null,EP.Children.map(t,e=>g(e)))}}function EJ(e){var t,r=EH(null!=(t=e.attributeName)?t:Object.keys(e.to).join(","),e.animationManager);return EP.createElement(EQ,EG({},e,{animationManager:r}))}function E0(){return(E0=Object.assign.bind()).apply(null,arguments)}EZ(EQ,"displayName","Animate"),EZ(EQ,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var E1=(e,t,r,s,a)=>{var n,i=Math.min(Math.abs(r)/2,Math.abs(s)/2),l=s>=0?1:-1,o=r>=0?1:-1,c=+(s>=0&&r>=0||s<0&&r<0);if(i>0&&a instanceof Array){for(var d=[0,0,0,0],u=0;u<4;u++)d[u]=a[u]>i?i:a[u];n="M".concat(e,",").concat(t+l*d[0]),d[0]>0&&(n+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+o*d[0],",").concat(t)),n+="L ".concat(e+r-o*d[1],",").concat(t),d[1]>0&&(n+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+l*d[1])),n+="L ".concat(e+r,",").concat(t+s-l*d[2]),d[2]>0&&(n+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,",\n        ").concat(e+r-o*d[2],",").concat(t+s)),n+="L ".concat(e+o*d[3],",").concat(t+s),d[3]>0&&(n+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+s-l*d[3])),n+="Z"}else if(i>0&&a===+a&&a>0){var m=Math.min(i,a);n="M ".concat(e,",").concat(t+l*m,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+o*m,",").concat(t,"\n            L ").concat(e+r-o*m,",").concat(t,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+l*m,"\n            L ").concat(e+r,",").concat(t+s-l*m,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-o*m,",").concat(t+s,"\n            L ").concat(e+o*m,",").concat(t+s,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+s-l*m," Z")}else n="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(s," h ").concat(-r," Z");return n},E2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},E4=e=>{var t=kO(e,E2),r=(0,q.useRef)(null),[s,a]=(0,q.useState)(-1);(0,q.useEffect)(()=>{if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&a(e)}catch(e){}},[]);var{x:n,y:i,width:l,height:o,radius:c,className:d}=t,{animationEasing:u,animationDuration:m,animationBegin:h,isAnimationActive:x,isUpdateAnimationActive:p}=t;if(n!==+n||i!==+i||l!==+l||o!==+o||0===l||0===o)return null;var f=ek("recharts-rectangle",d);return p?q.createElement(EJ,{canBegin:s>0,from:{width:l,height:o,x:n,y:i},to:{width:l,height:o,x:n,y:i},duration:m,animationEasing:u,isActive:p},e=>{var{width:a,height:n,x:i,y:l}=e;return q.createElement(EJ,{canBegin:s>0,from:"0px ".concat(-1===s?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:m,isActive:x,easing:u},q.createElement("path",E0({},kl(t,!0),{className:f,d:E1(i,l,a,n,c),ref:r})))}):q.createElement("path",E0({},kl(t,!0),{className:f,d:E1(n,i,l,o,c)}))};function E5(){return(E5=Object.assign.bind()).apply(null,arguments)}var E6=(e,t,r,s,a)=>{var n=r-s;return"M ".concat(e,",").concat(t)+"L ".concat(e+r,",").concat(t)+"L ".concat(e+r-n/2,",").concat(t+a)+"L ".concat(e+r-n/2-s,",").concat(t+a)+"L ".concat(e,",").concat(t," Z")},E3={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},E8=e=>{var t=kO(e,E3),r=(0,q.useRef)(),[s,a]=(0,q.useState)(-1);(0,q.useEffect)(()=>{if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&a(e)}catch(e){}},[]);var{x:n,y:i,upperWidth:l,lowerWidth:o,height:c,className:d}=t,{animationEasing:u,animationDuration:m,animationBegin:h,isUpdateAnimationActive:x}=t;if(n!==+n||i!==+i||l!==+l||o!==+o||c!==+c||0===l&&0===o||0===c)return null;var p=ek("recharts-trapezoid",d);return x?q.createElement(EJ,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:c,x:n,y:i},to:{upperWidth:l,lowerWidth:o,height:c,x:n,y:i},duration:m,animationEasing:u,isActive:x},e=>{var{upperWidth:a,lowerWidth:n,height:i,x:l,y:o}=e;return q.createElement(EJ,{canBegin:s>0,from:"0px ".concat(-1===s?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:m,easing:u},q.createElement("path",E5({},kl(t,!0),{className:p,d:E6(l,o,a,n,i),ref:r})))}):q.createElement("g",null,q.createElement("path",E5({},kl(t,!0),{className:p,d:E6(n,i,l,o,c)})))};function E7(){return(E7=Object.assign.bind()).apply(null,arguments)}var E9=e=>{var{cx:t,cy:r,radius:s,angle:a,sign:n,isExternal:i,cornerRadius:l,cornerIsExternal:o}=e,c=l*(i?1:-1)+s,d=Math.asin(l/c)/vH,u=o?a:a+n*d,m=vY(t,r,c,u);return{center:m,circleTangency:vY(t,r,s,u),lineTangency:vY(t,r,c*Math.cos(d*vH),o?a-n*d:a),theta:d}},Ae=e=>{var{cx:t,cy:r,innerRadius:s,outerRadius:a,startAngle:n,endAngle:i}=e,l=gz(i-n)*Math.min(Math.abs(i-n),359.999),o=n+l,c=vY(t,r,a,n),d=vY(t,r,a,o),u="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(l)>180),",").concat(+(n>o),",\n    ").concat(d.x,",").concat(d.y,"\n  ");if(s>0){var m=vY(t,r,s,n),h=vY(t,r,s,o);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(s,",").concat(s,",0,\n            ").concat(+(Math.abs(l)>180),",").concat(+(n<=o),",\n            ").concat(m.x,",").concat(m.y," Z")}else u+="L ".concat(t,",").concat(r," Z");return u},At={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ar=e=>{var t,r=kO(e,At),{cx:s,cy:a,innerRadius:n,outerRadius:i,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:u,className:m}=r;if(i<n||d===u)return null;var h=ek("recharts-sector",m),x=i-n,p=gY(l,x,0,!0);return t=p>0&&360>Math.abs(d-u)?(e=>{var{cx:t,cy:r,innerRadius:s,outerRadius:a,cornerRadius:n,forceCornerRadius:i,cornerIsExternal:l,startAngle:o,endAngle:c}=e,d=gz(c-o),{circleTangency:u,lineTangency:m,theta:h}=E9({cx:t,cy:r,radius:a,angle:o,sign:d,cornerRadius:n,cornerIsExternal:l}),{circleTangency:x,lineTangency:p,theta:f}=E9({cx:t,cy:r,radius:a,angle:c,sign:-d,cornerRadius:n,cornerIsExternal:l}),g=l?Math.abs(o-c):Math.abs(o-c)-h-f;if(g<0)return i?"M ".concat(m.x,",").concat(m.y,"\n        a").concat(n,",").concat(n,",0,0,1,").concat(2*n,",0\n        a").concat(n,",").concat(n,",0,0,1,").concat(-(2*n),",0\n      "):Ae({cx:t,cy:r,innerRadius:s,outerRadius:a,startAngle:o,endAngle:c});var v="M ".concat(m.x,",").concat(m.y,"\n    A").concat(n,",").concat(n,",0,0,").concat(+(d<0),",").concat(u.x,",").concat(u.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(g>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,"\n    A").concat(n,",").concat(n,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,"\n  ");if(s>0){var{circleTangency:j,lineTangency:y,theta:b}=E9({cx:t,cy:r,radius:s,angle:o,sign:d,isExternal:!0,cornerRadius:n,cornerIsExternal:l}),{circleTangency:N,lineTangency:w,theta:C}=E9({cx:t,cy:r,radius:s,angle:c,sign:-d,isExternal:!0,cornerRadius:n,cornerIsExternal:l}),S=l?Math.abs(o-c):Math.abs(o-c)-b-C;if(S<0&&0===n)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+="L".concat(w.x,",").concat(w.y,"\n      A").concat(n,",").concat(n,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,"\n      A").concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(d>0),",").concat(j.x,",").concat(j.y,"\n      A").concat(n,",").concat(n,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,"Z")}else v+="L".concat(t,",").concat(r,"Z");return v})({cx:s,cy:a,innerRadius:n,outerRadius:i,cornerRadius:Math.min(p,x/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:u}):Ae({cx:s,cy:a,innerRadius:n,outerRadius:i,startAngle:d,endAngle:u}),q.createElement("path",E7({},kl(r,!0),{className:h,d:t}))};let As=Math.PI,Aa=2*As,An=Aa-1e-6;function Ai(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class Al{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Ai:function(e){let t=Math.floor(e);if(!(t>=0))throw Error(`invalid digits: ${e}`);if(t>15)return Ai;let r=10**t;return function(e){this._+=e[0];for(let t=1,s=e.length;t<s;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,s){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(e,t,r,s,a,n){this._append`C${+e},${+t},${+r},${+s},${this._x1=+a},${this._y1=+n}`}arcTo(e,t,r,s,a){if(e*=1,t*=1,r*=1,s*=1,(a*=1)<0)throw Error(`negative radius: ${a}`);let n=this._x1,i=this._y1,l=r-e,o=s-t,c=n-e,d=i-t,u=c*c+d*d;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(u>1e-6)if(Math.abs(d*l-o*c)>1e-6&&a){let m=r-n,h=s-i,x=l*l+o*o,p=Math.sqrt(x),f=Math.sqrt(u),g=a*Math.tan((As-Math.acos((x+u-(m*m+h*h))/(2*p*f)))/2),v=g/f,j=g/p;Math.abs(v-1)>1e-6&&this._append`L${e+v*c},${t+v*d}`,this._append`A${a},${a},0,0,${+(d*m>c*h)},${this._x1=e+j*l},${this._y1=t+j*o}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,r,s,a,n){if(e*=1,t*=1,r*=1,n=!!n,r<0)throw Error(`negative radius: ${r}`);let i=r*Math.cos(s),l=r*Math.sin(s),o=e+i,c=t+l,d=1^n,u=n?s-a:a-s;null===this._x1?this._append`M${o},${c}`:(Math.abs(this._x1-o)>1e-6||Math.abs(this._y1-c)>1e-6)&&this._append`L${o},${c}`,r&&(u<0&&(u=u%Aa+Aa),u>An?this._append`A${r},${r},0,1,${d},${e-i},${t-l}A${r},${r},0,1,${d},${this._x1=o},${this._y1=c}`:u>1e-6&&this._append`A${r},${r},0,${+(u>=As)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=t+r*Math.sin(a)}`)}rect(e,t,r,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r*=1}v${+s}h${-r}Z`}toString(){return this._}}function Ao(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{let e=Math.floor(r);if(!(e>=0))throw RangeError(`invalid digits: ${r}`);t=e}return e},()=>new Al(t)}Al.prototype;let Ac=Math.cos,Ad=Math.sin,Au=Math.sqrt,Am=Math.PI,Ah=2*Am;Au(3);let Ax={draw(e,t){let r=Au(t/Am);e.moveTo(r,0),e.arc(0,0,r,0,Ah)}},Ap=Au(1/3),Af=2*Ap,Ag=Ad(Am/10)/Ad(7*Am/10),Av=Ad(Ah/10)*Ag,Aj=-Ac(Ah/10)*Ag,Ay=Au(3);Au(3);let Ab=Au(3)/2,AN=1/Au(12),Aw=(AN/2+1)*3;var AC=["type","size","sizeType"];function AS(){return(AS=Object.assign.bind()).apply(null,arguments)}function AD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function AP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?AD(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Ak={symbolCircle:Ax,symbolCross:{draw(e,t){let r=Au(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},symbolDiamond:{draw(e,t){let r=Au(t/Af),s=r*Ap;e.moveTo(0,-r),e.lineTo(s,0),e.lineTo(0,r),e.lineTo(-s,0),e.closePath()}},symbolSquare:{draw(e,t){let r=Au(t),s=-r/2;e.rect(s,s,r,r)}},symbolStar:{draw(e,t){let r=Au(.8908130915292852*t),s=Av*r,a=Aj*r;e.moveTo(0,-r),e.lineTo(s,a);for(let t=1;t<5;++t){let n=Ah*t/5,i=Ac(n),l=Ad(n);e.lineTo(l*r,-i*r),e.lineTo(i*s-l*a,l*s+i*a)}e.closePath()}},symbolTriangle:{draw(e,t){let r=-Au(t/(3*Ay));e.moveTo(0,2*r),e.lineTo(-Ay*r,-r),e.lineTo(Ay*r,-r),e.closePath()}},symbolWye:{draw(e,t){let r=Au(t/Aw),s=r/2,a=r*AN,n=r*AN+r,i=-s;e.moveTo(s,a),e.lineTo(s,n),e.lineTo(i,n),e.lineTo(-.5*s-Ab*a,Ab*s+-.5*a),e.lineTo(-.5*s-Ab*n,Ab*s+-.5*n),e.lineTo(-.5*i-Ab*n,Ab*i+-.5*n),e.lineTo(-.5*s+Ab*a,-.5*a-Ab*s),e.lineTo(-.5*s+Ab*n,-.5*n-Ab*s),e.lineTo(-.5*i+Ab*n,-.5*n-Ab*i),e.closePath()}}},AE=Math.PI/180,AA=e=>{var t,{type:r="circle",size:s=64,sizeType:a="area"}=e,n=AP(AP({},function(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,AC)),{},{type:r,size:s,sizeType:a}),{className:i,cx:l,cy:o}=n,c=kl(n,!0);return l===+l&&o===+o&&s===+s?q.createElement("path",AS({},c,{className:ek("recharts-symbols",i),transform:"translate(".concat(l,", ").concat(o,")"),d:(t=Ak["symbol".concat(gZ(r))]||Ax,(function(e,t){let r=null,s=Ao(a);function a(){let a;if(r||(r=a=s()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return e="function"==typeof e?e:vL(e||Ax),t="function"==typeof t?t:vL(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"==typeof t?t:vL(t),a):e},a.size=function(e){return arguments.length?(t="function"==typeof e?e:vL(+e),a):t},a.context=function(e){return arguments.length?(r=null==e?null:e,a):r},a})().type(t).size(((e,t,r)=>{if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var s=18*AE;return 1.25*e*e*(Math.tan(s)-Math.tan(2*s)*Math.tan(s)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(s,a,r))())})):null};AA.registerSymbol=(e,t)=>{Ak["symbol".concat(gZ(e))]=t};var AF=["option","shapeType","propTransformer","activeClassName","isActive"];function AR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function AO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?AR(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function AI(e,t){return AO(AO({},t),e)}function AM(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return q.createElement(E4,r);case"trapezoid":return q.createElement(E8,r);case"sector":return q.createElement(Ar,r);case"symbols":if("symbols"===t)return q.createElement(AA,r);break;default:return null}}function AT(e){var t,{option:r,shapeType:s,propTransformer:a=AI,activeClassName:n="recharts-active-shape",isActive:i}=e,l=function(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,AF);if((0,q.isValidElement)(r))t=(0,q.cloneElement)(r,AO(AO({},l),(0,q.isValidElement)(r)?r.props:r));else if("function"==typeof r)t=r(l);else if((0,ED.default)(r)&&"boolean"!=typeof r){var o=a(r,l);t=q.createElement(AM,{shapeType:s,elementProps:o})}else t=q.createElement(AM,{shapeType:s,elementProps:l});return i?q.createElement(k$,{className:n},t):t}var AB=["x","y"];function A_(){return(A_=Object.assign.bind()).apply(null,arguments)}function AL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function Az(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?AL(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Aq(e,t){var{x:r,y:s}=e,a=function(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,AB),n=parseInt("".concat(r),10),i=parseInt("".concat(s),10),l=parseInt("".concat(t.height||a.height),10),o=parseInt("".concat(t.width||a.width),10);return Az(Az(Az(Az(Az({},t),a),n?{x:n}:{}),i?{y:i}:{}),{},{height:l,width:o,name:t.name,radius:t.radius})}function AU(e){return q.createElement(AT,A_({shapeType:"rectangle",propTransformer:Aq,activeClassName:"recharts-active-bar"},e))}var A$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(r,s)=>{if(g$(e))return e;var a=g$(r)||null==r;return a?e(r,s):(a||function(e,t){if(!e)throw Error("Invariant failed")}(!1),t)}},AV=(e,t)=>{var r=vA();return(s,a)=>n=>{null==e||e(s,a,n),r(vl({activeIndex:String(a),activeDataKey:t,activeCoordinate:s.tooltipPosition}))}},AW=e=>{var t=vA();return(r,s)=>a=>{null==e||e(r,s,a),t(vo())}},AH=(e,t)=>{var r=vA();return(s,a)=>n=>{null==e||e(s,a,n),r(vd({activeIndex:String(a),activeDataKey:t,activeCoordinate:s.tooltipPosition}))}};function AY(e){var{fn:t,args:r}=e,s=vA(),a=jh();return(0,q.useEffect)(()=>{if(!a){var e=t(r);return s(va(e)),()=>{s(vn(e))}}},[t,r,s,a]),null}var AG=["children"],AX=(0,q.createContext)({data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0});function AK(e){var{children:t}=e,r=function(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,AG);return q.createElement(AX.Provider,{value:r},t)}function AZ(e,t){var r,s,a=vI(t=>Co(t,e)),n=vI(e=>Cd(e,t)),i=null!=(r=null==a?void 0:a.allowDataOverflow)?r:Cl.allowDataOverflow,l=null!=(s=null==n?void 0:n.allowDataOverflow)?s:Cc.allowDataOverflow;return{needClip:i||l,needClipX:i,needClipY:l}}function AQ(e){var{xAxisId:t,yAxisId:r,clipPathId:s}=e,a=vI(kP),{needClipX:n,needClipY:i,needClip:l}=AZ(t,r);if(!l)return null;var{x:o,y:c,width:d,height:u}=a;return q.createElement("clipPath",{id:"clipPath-".concat(s)},q.createElement("rect",{x:n?o:o-d/2,y:i?c:c-u/2,width:n?d:2*d,height:i?u:2*u}))}function AJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function A0(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?AJ(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AJ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var A1=fG([Cg,(e,t,r,s,a)=>a],(e,t)=>e.filter(e=>"bar"===e.type).find(e=>e.id===t)),A2=fG([A1],e=>null==e?void 0:e.maxBarSize),A4=(e,t,r)=>{var s=null!=r?r:e;if(null!=s)return gY(s,t,0)},A5=fG([jy,Cg,(e,t)=>t,(e,t,r)=>r,(e,t,r,s)=>s],(e,t,r,s,a)=>t.filter(t=>"horizontal"===e?t.xAxisId===r:t.yAxisId===s).filter(e=>e.isPanorama===a).filter(e=>!1===e.hide).filter(e=>"bar"===e.type)),A6=fG([A5,e=>e.rootProps.barSize,(e,t,r)=>"horizontal"===jy(e)?SP(e,"xAxis",t):SP(e,"yAxis",r)],(e,t,r)=>{var s=e.filter(Cs),a=e.filter(e=>null==e.stackId);return[...Object.entries(s.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{})).map(e=>{var[s,a]=e;return{stackId:s,dataKeys:a.map(e=>e.dataKey),barSize:A4(t,r,a[0].barSize)}}),...a.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:A4(t,r,e.barSize)}))]}),A3=(e,t,r,s)=>{var a,n;return"horizontal"===jy(e)?(a=SM(e,"xAxis",t,s),n=SI(e,"xAxis",t,s)):(a=SM(e,"yAxis",r,s),n=SI(e,"yAxis",r,s)),v3(a,n)},A8=fG([A6,wB,e=>e.rootProps.barGap,w_,(e,t,r,s,a)=>{var n,i,l,o,c=A1(e,t,r,s,a);if(null!=c){var d=jy(e),u=wB(e),{maxBarSize:m}=c;return"horizontal"===d?(l=SM(e,"xAxis",t,s),o=SI(e,"xAxis",t,s)):(l=SM(e,"yAxis",r,s),o=SI(e,"yAxis",r,s)),null!=(n=null!=(i=v3(l,o,!0))?i:null==m?u:m)?n:0}},A3,A2],(e,t,r,s,a,n,i)=>{var l=function(e,t,r,s,a){var n,i=s.length;if(!(i<1)){var l=gY(e,r,0,!0),o=[];if(wf(s[0].barSize)){var c=!1,d=r/i,u=s.reduce((e,t)=>e+(t.barSize||0),0);(u+=(i-1)*l)>=r&&(u-=(i-1)*l,l=0),u>=r&&d>0&&(c=!0,d*=.9,u=i*d);var m={offset:((r-u)/2|0)-l,size:0};n=s.reduce((e,t)=>{var r,s=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:m.offset+m.size+l,size:c?d:null!=(r=t.barSize)?r:0}}];return m=s[s.length-1].position,s},o)}else{var h=gY(t,r,0,!0);r-2*h-(i-1)*l<=0&&(l=0);var x=(r-2*h-(i-1)*l)/i;x>1&&(x>>=0);var p=wf(a)?Math.min(x,a):x;n=s.reduce((e,t,r)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h+(x+l)*r+(x-p)/2,size:p}}],o)}return n}}(r,s,a!==n?a:n,e,null==i?t:i);return a!==n&&null!=l&&(l=l.map(e=>A0(A0({},e),{},{position:A0(A0({},e.position),{},{offset:e.position.offset-a/2})}))),l}),A7=fG([A8,A1],(e,t)=>{if(null!=e&&null!=t){var r=e.find(e=>e.stackId===t.stackId&&null!=t.dataKey&&e.dataKeys.includes(t.dataKey));if(null!=r)return r.position}}),A9=fG([(e,t,r,s)=>"horizontal"===jy(e)?CI(e,"yAxis",r,s):CI(e,"xAxis",t,s),A1],(e,t)=>{var r=w7(t);if(!e||null==r||null==t)return;var{stackId:s}=t;if(null!=s){var a=e[s];if(a){var{stackedData:n}=a;if(n)return n.find(e=>e.key===r)}}}),Fe=fG([jc,(e,t,r,s)=>SM(e,"xAxis",t,s),(e,t,r,s)=>SM(e,"yAxis",r,s),(e,t,r,s)=>SI(e,"xAxis",t,s),(e,t,r,s)=>SI(e,"yAxis",r,s),A7,jy,wp,A3,A9,A1,(e,t,r,s,a,n)=>n],(e,t,r,s,a,n,i,l,o,c,d,u)=>{var m,{chartData:h,dataStartIndex:x,dataEndIndex:p}=l;if(null!=d&&null!=n&&("horizontal"===i||"vertical"===i)&&null!=t&&null!=r&&null!=s&&null!=a&&null!=o){var{data:f}=d;if(null!=(m=null!=f&&f.length>0?f:null==h?void 0:h.slice(x,p+1)))return function(e){var{layout:t,barSettings:{dataKey:r,minPointSize:s},pos:a,bandSize:n,xAxis:i,yAxis:l,xAxisTicks:o,yAxisTicks:c,stackedData:d,displayedData:u,offset:m,cells:h}=e,x="horizontal"===t?l:i,p=d?x.scale.domain():null,f=(e=>{var{numericAxis:t}=e,r=t.scale.domain();if("number"===t.type){var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return s<=0&&a>=0?0:a<0?a:s}return r[0]})({numericAxis:x});return u.map((e,u)=>{d?g=((e,t)=>{if(!t||2!==t.length||!g$(t[0])||!g$(t[1]))return e;var r=Math.min(t[0],t[1]),s=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!g$(e[0])||e[0]<r)&&(a[0]=r),(!g$(e[1])||e[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<r&&(a[1]=r),a})(d[u],p):Array.isArray(g=vQ(e,r))||(g=[f,g]);var x=A$(s,0)(g[1],u);if("horizontal"===t){var g,v,j,y,b,N,w,[C,S]=[l.scale(g[0]),l.scale(g[1])];v=v4({axis:i,ticks:o,bandSize:n,offset:a.offset,entry:e,index:u}),j=null!=(w=null!=S?S:C)?w:void 0,y=a.size;var D=C-S;if(b=gq(D)?0:D,N={x:v,y:m.top,width:y,height:m.height},Math.abs(x)>0&&Math.abs(b)<Math.abs(x)){var P=gz(b||x)*(Math.abs(x)-Math.abs(b));j-=P,b+=P}}else{var[k,E]=[i.scale(g[0]),i.scale(g[1])];if(v=k,j=v4({axis:l,ticks:c,bandSize:n,offset:a.offset,entry:e,index:u}),y=E-k,b=a.size,N={x:m.left,y:j,width:m.width,height:b},Math.abs(x)>0&&Math.abs(y)<Math.abs(x)){var A=gz(y||x)*(Math.abs(x)-Math.abs(y));y+=A}}return null==v||null==j||null==y||null==b?null:Fb(Fb({},e),{},{x:v,y:j,width:y,height:b,value:d?g:g[1],payload:e,background:N,tooltipPosition:{x:v+y/2,y:j+b/2}},h&&h[u]&&h[u].props)}).filter(Boolean)}({layout:i,barSettings:d,pos:n,bandSize:o,xAxis:t,yAxis:r,xAxisTicks:s,yAxisTicks:a,stackedData:c,displayedData:m,offset:e,cells:u})}}),Ft=()=>{};function Fr(e){var{legendPayload:t}=e,r=vA(),s=jh();return(0,q.useEffect)(()=>s?Ft:(r(PN(t)),()=>{r(Pw(t))}),[r,s,t]),null}function Fs(e){var{legendPayload:t}=e,r=vA(),s=vI(jy);return(0,q.useEffect)(()=>"centric"!==s&&"radial"!==s?Ft:(r(PN(t)),()=>{r(Pw(t))}),[r,s,t]),null}function Fa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",r=(0,q.useRef)(gH(t)),s=(0,q.useRef)(e);return s.current!==e&&(r.current=gH(t),s.current=e),r.current}var Fn=null!=(L=q["useId".toString()])?L:()=>{var[e]=q.useState(()=>gH("uid-"));return e},Fi=(0,q.createContext)(void 0),Fl=e=>{var t,r,{id:s,type:a,children:n}=e,i=(t="recharts-".concat(a),r=Fn(),s||(t?"".concat(t,"-").concat(r):r));return q.createElement(Fi.Provider,{value:i},n(i))};function Fo(e){var t=vA(),r=(0,q.useRef)(null);return(0,q.useEffect)(()=>{null===r.current?t(Pt(e)):r.current!==e&&t(Pr({prev:r.current,next:e})),r.current=e},[t,e]),(0,q.useEffect)(()=>()=>{r.current&&(t(Ps(r.current)),r.current=null)},[t]),null}function Fc(e){var t=vA();return(0,q.useEffect)(()=>(t(Pa(e)),()=>{t(Pn(e))}),[t,e]),null}function Fd(){}var Fu={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Fm={t:0},Fh={t:1};function Fx(e){var t=kO(e,Fu),{isActive:r,canBegin:s,duration:a,easing:n,begin:i,onAnimationEnd:l,onAnimationStart:o,children:c}=t,d=EH("JavascriptAnimate",t.animationManager),[u,m]=(0,q.useState)(r?Fm:Fh),h=(0,q.useRef)(null);return(0,q.useEffect)(()=>{r||m(Fh)},[r]),(0,q.useEffect)(()=>{if(!r||!s)return Fd;var e=E$(Fm,Fh,EI(n),a,m,d.getTimeoutController());return d.start([o,i,()=>{h.current=e()},a,l]),()=>{d.stop(),h.current&&h.current(),l()}},[r,s,a,n,i,o,l,d]),c(u.t)}var Fp=["onMouseEnter","onMouseLeave","onClick"],Ff=["value","background","tooltipPosition"],Fg=["id"],Fv=["onMouseEnter","onClick","onMouseLeave"];function Fj(){return(Fj=Object.assign.bind()).apply(null,arguments)}function Fy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function Fb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fy(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fy(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function FN(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Fw(e){var{dataKey:t,stroke:r,strokeWidth:s,fill:a,name:n,hide:i,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:a,dataKey:t,nameKey:void 0,name:v7(n,t),hide:i,type:e.tooltipType,color:e.fill,unit:l}}}function FC(e){var t=vI(DD),{data:r,dataKey:s,background:a,allOtherBarProps:n}=e,{onMouseEnter:i,onMouseLeave:l,onClick:o}=n,c=FN(n,Fp),d=AV(i,s),u=AW(l),m=AH(o,s);if(!a||null==r)return null;var h=kl(a,!1);return kz.createElement(kz.Fragment,null,r.map((e,r)=>{var{value:n,background:i,tooltipPosition:l}=e,o=FN(e,Ff);if(!i)return null;var x=d(e,r),p=u(e,r),f=m(e,r),g=Fb(Fb(Fb(Fb(Fb({option:a,isActive:String(r)===t},o),{},{fill:"#eee"},i),h),P7(c,e,r)),{},{onMouseEnter:x,onMouseLeave:p,onClick:f,dataKey:s,index:r,className:"recharts-bar-background-rectangle"});return kz.createElement(AU,Fj({key:"background-bar-".concat(r)},g))}))}function FS(e){var{data:t,props:r,showLabels:s}=e,a=kt(r),{id:n}=a,i=FN(a,Fg),{shape:l,dataKey:o,activeBar:c}=r,d=vI(DD),u=vI(Dk),{onMouseEnter:m,onClick:h,onMouseLeave:x}=r,p=FN(r,Fv),f=AV(m,o),g=AW(x),v=AH(h,o);return t?kz.createElement(kz.Fragment,null,t.map((e,t)=>{var r=c&&String(t)===d&&(null==u||o===u),s=Fb(Fb(Fb({},i),e),{},{isActive:r,option:r?c:l,index:t,dataKey:o});return kz.createElement(k$,Fj({className:"recharts-bar-rectangle"},P7(p,e,t),{onMouseEnter:f(e,t),onMouseLeave:g(e,t),onClick:v(e,t),key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(t)}),kz.createElement(AU,s))}),s&&ES.renderCallByParent(r,t)):null}function FD(e){var{props:t,previousRectanglesRef:r}=e,{data:s,layout:a,isAnimationActive:n,animationBegin:i,animationDuration:l,animationEasing:o,onAnimationEnd:c,onAnimationStart:d}=t,u=r.current,m=Fa(t,"recharts-bar-"),[h,x]=(0,kz.useState)(!1),p=(0,kz.useCallback)(()=>{"function"==typeof c&&c(),x(!1)},[c]),f=(0,kz.useCallback)(()=>{"function"==typeof d&&d(),x(!0)},[d]);return kz.createElement(Fx,{begin:i,duration:l,isActive:n,easing:o,onAnimationEnd:p,onAnimationStart:f,key:m},e=>{var n=1===e?s:null==s?void 0:s.map((t,r)=>{var s=u&&u[r];if(s)return Fb(Fb({},t),{},{x:gK(s.x,t.x,e),y:gK(s.y,t.y,e),width:gK(s.width,t.width,e),height:gK(s.height,t.height,e)});if("horizontal"===a){var n=gK(0,t.height,e);return Fb(Fb({},t),{},{y:t.y+t.height-n,height:n})}var i=gK(0,t.width,e);return Fb(Fb({},t),{},{width:i})});return(e>0&&(r.current=null!=n?n:null),null==n)?null:kz.createElement(k$,null,kz.createElement(FS,{props:t,data:n,showLabels:!h}))})}function FP(e){var{data:t,isAnimationActive:r}=e,s=(0,kz.useRef)(null);return r&&t&&t.length&&(null==s.current||s.current!==t)?kz.createElement(FD,{previousRectanglesRef:s,props:e}):kz.createElement(FS,{props:e,data:t,showLabels:!0})}var Fk=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:vQ(e,t)}};class FE extends kz.PureComponent{render(){var{hide:e,data:t,dataKey:r,className:s,xAxisId:a,yAxisId:n,needClip:i,background:l,id:o}=this.props;if(e)return null;var c=ek("recharts-bar",s);return kz.createElement(k$,{className:c,id:o},i&&kz.createElement("defs",null,kz.createElement(AQ,{clipPathId:o,xAxisId:a,yAxisId:n})),kz.createElement(k$,{className:"recharts-bar-rectangles",clipPath:i?"url(#clipPath-".concat(o,")"):void 0},kz.createElement(FC,{data:t,dataKey:r,background:l,allOtherBarProps:this.props}),kz.createElement(FP,this.props)),this.props.children)}}var FA={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!kH.isSsr,legendType:"rect",minPointSize:0,xAxisId:0,yAxisId:0};function FF(e){var t,{xAxisId:r,yAxisId:s,hide:a,legendType:n,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:u}=e,{needClip:m}=AZ(r,s),h=vI(jy),x=jh(),p=ki(e.children,kV),f=vI(t=>Fe(t,r,s,x,e.id,p));if("vertical"!==h&&"horizontal"!==h)return null;var g=null==f?void 0:f[0];return t=null==g||null==g.height||null==g.width?0:"vertical"===h?g.height/2:g.width/2,kz.createElement(AK,{xAxisId:r,yAxisId:s,data:f,dataPointFormatter:Fk,errorBarOffset:t},kz.createElement(FE,Fj({},e,{layout:h,needClip:m,data:f,xAxisId:r,yAxisId:s,hide:a,legendType:n,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:u})))}function FR(e){var t=kO(e,FA),r=jh();return kz.createElement(Fl,{id:t.id,type:"bar"},e=>{var s;return kz.createElement(kz.Fragment,null,kz.createElement(Fr,{legendPayload:(e=>{var{dataKey:t,name:r,fill:s,legendType:a,hide:n}=e;return[{inactive:n,dataKey:t,type:a,color:s,value:v7(r,t),payload:e}]})(t)}),kz.createElement(AY,{fn:Fw,args:t}),kz.createElement(Fo,{type:"bar",id:e,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:null==(s=t.stackId)?void 0:String(s),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),kz.createElement(FF,Fj({},t,{id:e})))})}FR.displayName="Bar";var FO=q,FI=q;function FM(e,t){for(var r in e)if(({}).hasOwnProperty.call(e,r)&&(!({}).hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var s in t)if(({}).hasOwnProperty.call(t,s)&&!({}).hasOwnProperty.call(e,s))return!1;return!0}class FT{static create(e){return new FT(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s;case"end":var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}if(t){var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+n}return this.scale(e)}}isInRange(e){var t=this.range(),r=t[0],s=t[t.length-1];return r<=s?e>=r&&e<=s:e>=s&&e<=r}}(w="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(w="EPS","string"))?o:o+"")in FT?Object.defineProperty(FT,w,{value:1e-4,enumerable:!0,configurable:!0,writable:!0}):FT[w]=1e-4;var FB=function(e){var{width:t,height:r}=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=(s%180+180)%180*Math.PI/180,n=Math.atan(r/t);return Math.abs(a>n&&a<Math.PI-n?r/Math.sin(a):t/Math.cos(a))};function F_(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var s=[],a=0;a<e.length;a+=t)if(void 0!==r&&!0!==r(e[a]))return;else s.push(e[a]);return s}function FL(e,t,r,s,a){if(e*t<e*s||e*t>e*a)return!1;var n=r();return e*(t-e*n/2-s)>=0&&e*(t+e*n/2-a)<=0}function Fz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function Fq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fz(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function FU(e,t,r){var s,{tick:a,ticks:n,viewBox:i,minTickGap:l,orientation:o,interval:c,tickFormatter:d,unit:u,angle:m}=e;if(!n||!n.length||!a)return[];if(g$(c)||kH.isSsr)return null!=(s=F_(n,(g$(c)?c:0)+1))?s:[];var h="top"===o||"bottom"===o?"width":"height",x=u&&"width"===h?kJ(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=(e,s)=>{var a,n="function"==typeof d?d(e.value,s):e.value;return"width"===h?(a=kJ(n,{fontSize:t,letterSpacing:r}),FB({width:a.width+x.width,height:a.height+x.height},m)):kJ(n,{fontSize:t,letterSpacing:r})[h]},f=n.length>=2?gz(n[1].coordinate-n[0].coordinate):1,g=function(e,t,r){var s="width"===r,{x:a,y:n,width:i,height:l}=e;return 1===t?{start:s?a:n,end:s?a+i:n+l}:{start:s?a+i:n+l,end:s?a:n}}(i,f,h);return"equidistantPreserveStart"===c?function(e,t,r,s,a){for(var n,i=(s||[]).slice(),{start:l,end:o}=t,c=0,d=1,u=l;d<=i.length;)if(n=function(){var t,n=null==s?void 0:s[c];if(void 0===n)return{v:F_(s,d)};var i=c,m=()=>(void 0===t&&(t=r(n,i)),t),h=n.coordinate,x=0===c||FL(e,h,m,u,o);x||(c=0,u=l,d+=1),x&&(u=h+e*(m()/2+a),c+=d)}())return n.v;return[]}(f,g,p,n,l):("preserveStart"===c||"preserveStartEnd"===c?function(e,t,r,s,a,n){var i=(s||[]).slice(),l=i.length,{start:o,end:c}=t;if(n){var d=s[l-1],u=r(d,l-1),m=e*(d.coordinate+e*u/2-c);i[l-1]=d=Fq(Fq({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate}),FL(e,d.tickCoord,()=>u,o,c)&&(c=d.tickCoord-e*(u/2+a),i[l-1]=Fq(Fq({},d),{},{isShow:!0}))}for(var h=n?l-1:l,x=function(t){var s,n=i[t],l=()=>(void 0===s&&(s=r(n,t)),s);if(0===t){var d=e*(n.coordinate-e*l()/2-o);i[t]=n=Fq(Fq({},n),{},{tickCoord:d<0?n.coordinate-d*e:n.coordinate})}else i[t]=n=Fq(Fq({},n),{},{tickCoord:n.coordinate});FL(e,n.tickCoord,l,o,c)&&(o=n.tickCoord+e*(l()/2+a),i[t]=Fq(Fq({},n),{},{isShow:!0}))},p=0;p<h;p++)x(p);return i}(f,g,p,n,l,"preserveStartEnd"===c):function(e,t,r,s,a){for(var n=(s||[]).slice(),i=n.length,{start:l}=t,{end:o}=t,c=function(t){var s,c=n[t],d=()=>(void 0===s&&(s=r(c,t)),s);if(t===i-1){var u=e*(c.coordinate+e*d()/2-o);n[t]=c=Fq(Fq({},c),{},{tickCoord:u>0?c.coordinate-u*e:c.coordinate})}else n[t]=c=Fq(Fq({},c),{},{tickCoord:c.coordinate});FL(e,c.tickCoord,d,l,o)&&(o=c.tickCoord-e*(d()/2+a),n[t]=Fq(Fq({},c),{},{isShow:!0}))},d=i-1;d>=0;d--)c(d);return n}(f,g,p,n,l)).filter(e=>e.isShow)}var F$=["viewBox"],FV=["viewBox"];function FW(){return(FW=Object.assign.bind()).apply(null,arguments)}function FH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function FY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FH(Object(r),!0).forEach(function(t){FX(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FH(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function FG(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function FX(e,t,r){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class FK extends FI.Component{constructor(e){super(e),this.tickRefs=FI.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,t){var{viewBox:r}=e,s=FG(e,F$),a=this.props,{viewBox:n}=a,i=FG(a,FV);return!FM(r,n)||!FM(s,i)||!FM(t,this.state)}getTickLineCoord(e){var t,r,s,a,n,i,{x:l,y:o,width:c,height:d,orientation:u,tickSize:m,mirror:h,tickMargin:x}=this.props,p=h?-1:1,f=e.tickSize||m,g=g$(e.tickCoord)?e.tickCoord:e.coordinate;switch(u){case"top":t=r=e.coordinate,i=(s=(a=o+!h*d)-p*f)-p*x,n=g;break;case"left":s=a=e.coordinate,n=(t=(r=l+!h*c)-p*f)-p*x,i=g;break;case"right":s=a=e.coordinate,n=(t=(r=l+h*c)+p*f)+p*x,i=g;break;default:t=r=e.coordinate,i=(s=(a=o+h*d)+p*f)+p*x,n=g}return{line:{x1:t,y1:s,x2:r,y2:a},tick:{x:n,y:i}}}getTickTextAnchor(){var e,{orientation:t,mirror:r}=this.props;switch(t){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}getTickVerticalAnchor(){var{orientation:e,mirror:t}=this.props;switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}renderAxisLine(){var{x:e,y:t,width:r,height:s,orientation:a,mirror:n,axisLine:i}=this.props,l=FY(FY(FY({},kl(this.props,!1)),kl(i,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var o=+("top"===a&&!n||"bottom"===a&&n);l=FY(FY({},l),{},{x1:e,y1:t+o*s,x2:e+r,y2:t+o*s})}else{var c=+("left"===a&&!n||"right"===a&&n);l=FY(FY({},l),{},{x1:e+c*r,y1:t,x2:e+c*r,y2:t+s})}return FI.createElement("line",FW({},l,{className:ek("recharts-cartesian-axis-line",(0,gL.default)(i,"className"))}))}static renderTickItem(e,t,r){var s,a=ek(t.className,"recharts-cartesian-axis-tick-value");if(FI.isValidElement(e))s=FI.cloneElement(e,FY(FY({},t),{},{className:a}));else if("function"==typeof e)s=e(FY(FY({},t),{},{className:a}));else{var n="recharts-cartesian-axis-tick-value";"boolean"!=typeof e&&(n=ek(n,e.className)),s=FI.createElement(Eo,FW({},t,{className:n}),r)}return s}renderTicks(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{tickLine:s,stroke:a,tick:n,tickFormatter:i,unit:l,padding:o}=this.props,c=FU(FY(FY({},this.props),{},{ticks:r}),e,t),d=this.getTickTextAnchor(),u=this.getTickVerticalAnchor(),m=kt(this.props),h=kl(n,!1),x=FY(FY({},m),{},{fill:"none"},kl(s,!1)),p=c.map((e,t)=>{var{line:r,tick:p}=this.getTickLineCoord(e),f=FY(FY(FY(FY({textAnchor:d,verticalAnchor:u},m),{},{stroke:"none",fill:a},h),p),{},{index:t,payload:e,visibleTicksCount:c.length,tickFormatter:i,padding:o});return FI.createElement(k$,FW({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},P7(this.props,e,t)),s&&FI.createElement("line",FW({},x,r,{className:ek("recharts-cartesian-axis-tick-line",(0,gL.default)(s,"className"))})),n&&FK.renderTickItem(n,f,"".concat("function"==typeof i?i(e.value,t):e.value).concat(l||"")))});return p.length>0?FI.createElement("g",{className:"recharts-cartesian-axis-ticks"},p):null}render(){var{axisLine:e,width:t,height:r,className:s,hide:a}=this.props;if(a)return null;var{ticks:n}=this.props;return null!=t&&t<=0||null!=r&&r<=0?null:FI.createElement(k$,{className:ek("recharts-cartesian-axis",s),ref:e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(t);var r=t[0];if(r){var s=window.getComputedStyle(r).fontSize,a=window.getComputedStyle(r).letterSpacing;(s!==this.state.fontSize||a!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(r).fontSize,letterSpacing:window.getComputedStyle(r).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,n),Ef.renderCallByParent(this.props))}}FX(FK,"displayName","CartesianAxis"),FX(FK,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var FZ=["children"],FQ=["dangerouslySetInnerHTML","ticks"];function FJ(e,t,r){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F0(){return(F0=Object.assign.bind()).apply(null,arguments)}function F1(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function F2(e){var t=vA(),r=(0,FO.useMemo)(()=>{var{children:t}=e;return F1(e,FZ)},[e]),s=vI(e=>Co(e,r.id)),a=r===s;return((0,FO.useEffect)(()=>(t(D2(r)),()=>{t(D4(r))}),[r,t]),a)?e.children:null}var F4=e=>{var{xAxisId:t,className:r}=e,s=vI(ju),a=jh(),n="xAxis",i=vI(e=>Sf(e,n,t,a)),l=vI(e=>SO(e,n,t,a)),o=vI(e=>Sw(e,t)),c=vI(e=>((e,t)=>{var r=jc(e),s=Co(e,t);if(null!=s){var a=SC(e,s.orientation,s.mirror)[t];return null==a?{x:r.left,y:0}:{x:r.left,y:a}}})(e,t));if(null==o||null==c)return null;var{dangerouslySetInnerHTML:d,ticks:u}=e,m=F1(e,FQ);return FO.createElement(FK,F0({},m,{scale:i,x:c.x,y:c.y,width:o.width,height:o.height,className:ek("recharts-".concat(n," ").concat(n),r),viewBox:s,ticks:l}))},F5=e=>{var t,r,s,a,n;return FO.createElement(F2,{interval:null!=(t=e.interval)?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:null!=(r=e.includeHidden)&&r,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!=(s=e.angle)?s:0,minTickGap:null!=(a=e.minTickGap)?a:5,tick:null==(n=e.tick)||n,tickFormatter:e.tickFormatter},FO.createElement(F4,e))};class F6 extends FO.Component{render(){return FO.createElement(F5,this.props)}}FJ(F6,"displayName","XAxis"),FJ(F6,"defaultProps",{allowDataOverflow:Cl.allowDataOverflow,allowDecimals:Cl.allowDecimals,allowDuplicatedCategory:Cl.allowDuplicatedCategory,height:Cl.height,hide:!1,mirror:Cl.mirror,orientation:Cl.orientation,padding:Cl.padding,reversed:Cl.reversed,scale:Cl.scale,tickCount:Cl.tickCount,type:Cl.type,xAxisId:0});var F3=q,F8=["dangerouslySetInnerHTML","ticks"];function F7(e,t,r){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F9(){return(F9=Object.assign.bind()).apply(null,arguments)}function Re(e){var t=vA();return(0,F3.useEffect)(()=>(t(D5(e)),()=>{t(D6(e))}),[e,t]),null}var Rt=e=>{var t,{yAxisId:r,className:s,width:a,label:n}=e,i=(0,F3.useRef)(null),l=(0,F3.useRef)(null),o=vI(ju),c=jh(),d=vA(),u="yAxis",m=vI(e=>Sf(e,u,r,c)),h=vI(e=>SD(e,r)),x=vI(e=>((e,t)=>{var r=jc(e),s=Cd(e,t);if(null!=s){var a=SS(e,s.orientation,s.mirror)[t];return null==a?{x:0,y:r.top}:{x:a,y:r.top}}})(e,r)),p=vI(e=>SO(e,u,r,c));if((0,F3.useLayoutEffect)(()=>{if(!("auto"!==a||!h||Ep(n)||(0,F3.isValidElement)(n))){var e,t=i.current,s=null==t||null==(e=t.tickRefs)?void 0:e.current,{tickSize:o,tickMargin:c}=t.props,u=(e=>{var{ticks:t,label:r,labelGapWithTick:s=5,tickSize:a=0,tickMargin:n=0}=e,i=0;if(t){t.forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>i&&(i=t.width)}});var l=r?r.getBoundingClientRect().width:0;return Math.round(i+(a+n)+l+(r?s:0))}return 0})({ticks:s,label:l.current,labelGapWithTick:5,tickSize:o,tickMargin:c});Math.round(h.width)!==Math.round(u)&&d(D7({id:r,width:u}))}},[i,null==i||null==(t=i.current)||null==(t=t.tickRefs)?void 0:t.current,null==h?void 0:h.width,h,d,n,r,a]),null==h||null==x)return null;var{dangerouslySetInnerHTML:f,ticks:g}=e,v=function(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,F8);return F3.createElement(FK,F9({},v,{ref:i,labelRef:l,scale:m,x:x.x,y:x.y,width:h.width,height:h.height,className:ek("recharts-".concat(u," ").concat(u),s),viewBox:o,ticks:p}))},Rr=e=>{var t,r,s,a,n;return F3.createElement(F3.Fragment,null,F3.createElement(Re,{interval:null!=(t=e.interval)?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:null!=(r=e.includeHidden)&&r,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!=(s=e.angle)?s:0,minTickGap:null!=(a=e.minTickGap)?a:5,tick:null==(n=e.tick)||n,tickFormatter:e.tickFormatter}),F3.createElement(Rt,e))},Rs={allowDataOverflow:Cc.allowDataOverflow,allowDecimals:Cc.allowDecimals,allowDuplicatedCategory:Cc.allowDuplicatedCategory,hide:!1,mirror:Cc.mirror,orientation:Cc.orientation,padding:Cc.padding,reversed:Cc.reversed,scale:Cc.scale,tickCount:Cc.tickCount,type:Cc.type,width:Cc.width,yAxisId:0};class Ra extends F3.Component{render(){return F3.createElement(Rr,this.props)}}F7(Ra,"displayName","YAxis"),F7(Ra,"defaultProps",Rs);var Rn=function(e,t){for(var r=arguments.length,s=Array(r>2?r-2:0),a=2;a<r;a++)s[a-2]=arguments[a]},Ri=["x1","y1","x2","y2","key"],Rl=["offset"],Ro=["xAxisId","yAxisId"],Rc=["xAxisId","yAxisId"];function Rd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function Ru(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rd(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rd(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Rm(){return(Rm=Object.assign.bind()).apply(null,arguments)}function Rh(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Rx=e=>{var{fill:t}=e;if(!t||"none"===t)return null;var{fillOpacity:r,x:s,y:a,width:n,height:i,ry:l}=e;return q.createElement("rect",{x:s,y:a,ry:l,width:n,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Rp(e,t){var r;if(q.isValidElement(e))r=q.cloneElement(e,t);else if("function"==typeof e)r=e(t);else{var{x1:s,y1:a,x2:n,y2:i,key:l}=t,o=kt(Rh(t,Ri)),{offset:c}=o,d=Rh(o,Rl);r=q.createElement("line",Rm({},d,{x1:s,y1:a,x2:n,y2:i,fill:"none",key:l}))}return r}function Rf(e){var{x:t,width:r,horizontal:s=!0,horizontalPoints:a}=e;if(!s||!a||!a.length)return null;var{xAxisId:n,yAxisId:i}=e,l=Rh(e,Ro),o=a.map((e,a)=>Rp(s,Ru(Ru({},l),{},{x1:t,y1:e,x2:t+r,y2:e,key:"line-".concat(a),index:a})));return q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Rg(e){var{y:t,height:r,vertical:s=!0,verticalPoints:a}=e;if(!s||!a||!a.length)return null;var{xAxisId:n,yAxisId:i}=e,l=Rh(e,Rc),o=a.map((e,a)=>Rp(s,Ru(Ru({},l),{},{x1:e,y1:t,x2:e,y2:t+r,key:"line-".concat(a),index:a})));return q.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Rv(e){var{horizontalFill:t,fillOpacity:r,x:s,y:a,width:n,height:i,horizontalPoints:l,horizontal:o=!0}=e;if(!o||!t||!t.length)return null;var c=l.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==c[0]&&c.unshift(0);var d=c.map((e,l)=>{var o=c[l+1]?c[l+1]-e:a+i-e;if(o<=0)return null;var d=l%t.length;return q.createElement("rect",{key:"react-".concat(l),y:e,x:s,height:o,width:n,stroke:"none",fill:t[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Rj(e){var{vertical:t=!0,verticalFill:r,fillOpacity:s,x:a,y:n,width:i,height:l,verticalPoints:o}=e;if(!t||!r||!r.length)return null;var c=o.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==c[0]&&c.unshift(0);var d=c.map((e,t)=>{var o=c[t+1]?c[t+1]-e:a+i-e;if(o<=0)return null;var d=t%r.length;return q.createElement("rect",{key:"react-".concat(t),x:e,y:n,width:o,height:l,stroke:"none",fill:r[d],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Ry=(e,t)=>{var{xAxis:r,width:s,height:a,offset:n}=e;return v0(FU(Ru(Ru(Ru({},FK.defaultProps),r),{},{ticks:v1(r,!0),viewBox:{x:0,y:0,width:s,height:a}})),n.left,n.left+n.width,t)},Rb=(e,t)=>{var{yAxis:r,width:s,height:a,offset:n}=e;return v0(FU(Ru(Ru(Ru({},FK.defaultProps),r),{},{ticks:v1(r,!0),viewBox:{x:0,y:0,width:s,height:a}})),n.top,n.top+n.height,t)},RN={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Rw(e){var t=vI(v9),r=vI(je),s=jv(),a=Ru(Ru({},kO(e,RN)),{},{x:g$(e.x)?e.x:s.left,y:g$(e.y)?e.y:s.top,width:g$(e.width)?e.width:s.width,height:g$(e.height)?e.height:s.height}),{xAxisId:n,yAxisId:i,x:l,y:o,width:c,height:d,syncWithTicks:u,horizontalValues:m,verticalValues:h}=a,x=jh(),p=vI(e=>SR(e,"xAxis",n,x)),f=vI(e=>SR(e,"yAxis",i,x));if(!g$(c)||c<=0||!g$(d)||d<=0||!g$(l)||l!==+l||!g$(o)||o!==+o)return null;var g=a.verticalCoordinatesGenerator||Ry,v=a.horizontalCoordinatesGenerator||Rb,{horizontalPoints:j,verticalPoints:y}=a;if((!j||!j.length)&&"function"==typeof v){var b=m&&m.length,N=v({yAxis:f?Ru(Ru({},f),{},{ticks:b?m:f.ticks}):void 0,width:t,height:r,offset:s},!!b||u);Rn(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(j=N)}if((!y||!y.length)&&"function"==typeof g){var w=h&&h.length,C=g({xAxis:p?Ru(Ru({},p),{},{ticks:w?h:p.ticks}):void 0,width:t,height:r,offset:s},!!w||u);Rn(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(y=C)}return q.createElement("g",{className:"recharts-cartesian-grid"},q.createElement(Rx,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),q.createElement(Rv,Rm({},a,{horizontalPoints:j})),q.createElement(Rj,Rm({},a,{verticalPoints:y})),q.createElement(Rf,Rm({},a,{offset:s,horizontalPoints:j,xAxis:p,yAxis:f})),q.createElement(Rg,Rm({},a,{offset:s,verticalPoints:y,xAxis:p,yAxis:f})))}function RC(){return(RC=Object.assign.bind()).apply(null,arguments)}function RS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function RD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RS(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function RP(e){return Array.isArray(e)&&gV(e[0])&&gV(e[1])?e.join(" ~ "):e}Rw.displayName="CartesianGrid";var Rk=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:s={},labelStyle:a={},payload:n,formatter:i,itemSorter:l,wrapperClassName:o,labelClassName:c,label:d,labelFormatter:u,accessibilityLayer:m=!1}=e,h=RD({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=RD({margin:0},a),p=null!=d,f=p?d:"",g=ek("recharts-default-tooltip",o),v=ek("recharts-tooltip-label",c);return p&&u&&null!=n&&(f=u(d,n)),q.createElement("div",RC({className:g,style:h},m?{role:"status","aria-live":"assertive"}:{}),q.createElement("p",{className:v,style:x},q.isValidElement(f)?f:"".concat(f)),(()=>{if(n&&n.length){var e=(l?(0,vM.default)(n,l):n).map((e,r)=>{if("none"===e.type)return null;var a=e.formatter||i||RP,{value:l,name:o}=e,c=l,d=o,u=a(l,o,e,r,n);if(Array.isArray(u))[c,d]=u;else{if(null==u)return null;c=u}var m=RD({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s);return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(r),style:m},gV(d)?q.createElement("span",{className:"recharts-tooltip-item-name"},d):null,gV(d)?q.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,q.createElement("span",{className:"recharts-tooltip-item-value"},c),q.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},RE=q,RA="recharts-tooltip-wrapper",RF={visibility:"hidden"};function RR(e){var{allowEscapeViewBox:t,coordinate:r,key:s,offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:l,viewBox:o,viewBoxDimension:c}=e;if(n&&g$(n[s]))return n[s];var d=r[s]-l-(a>0?a:0),u=r[s]+a;if(t[s])return i[s]?d:u;var m=o[s];return null==m?0:i[s]?d<m?Math.max(u,m):Math.max(d,m):null==c?0:u+l>m+c?Math.max(d,m):Math.max(u,m)}function RO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function RI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RO(Object(r),!0).forEach(function(t){RM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function RM(e,t,r){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class RT extends RE.PureComponent{constructor(){super(...arguments),RM(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),RM(this,"handleKeyDown",e=>{if("Escape"===e.key){var t,r,s,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!=(t=null==(r=this.props.coordinate)?void 0:r.x)?t:0,y:null!=(s=null==(a=this.props.coordinate)?void 0:a.y)?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null==(e=this.props.coordinate)?void 0:e.x)!==this.state.dismissedAtCoordinate.x||(null==(t=this.props.coordinate)?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:r,animationEasing:s,children:a,coordinate:n,hasPayload:i,isAnimationActive:l,offset:o,position:c,reverseDirection:d,useTranslate3d:u,viewBox:m,wrapperStyle:h,lastBoundingBox:x,innerRef:p,hasPortalFromProps:f}=this.props,{cssClasses:g,cssProperties:v}=function(e){var t,r,s,{allowEscapeViewBox:a,coordinate:n,offsetTopLeft:i,position:l,reverseDirection:o,tooltipBox:c,useTranslate3d:d,viewBox:u}=e;return{cssProperties:t=c.height>0&&c.width>0&&n?function(e){var{translateX:t,translateY:r,useTranslate3d:s}=e;return{transform:s?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:r=RR({allowEscapeViewBox:a,coordinate:n,key:"x",offsetTopLeft:i,position:l,reverseDirection:o,tooltipDimension:c.width,viewBox:u,viewBoxDimension:u.width}),translateY:s=RR({allowEscapeViewBox:a,coordinate:n,key:"y",offsetTopLeft:i,position:l,reverseDirection:o,tooltipDimension:c.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:d}):RF,cssClasses:function(e){var{coordinate:t,translateX:r,translateY:s}=e;return ek(RA,{["".concat(RA,"-right")]:g$(r)&&t&&g$(t.x)&&r>=t.x,["".concat(RA,"-left")]:g$(r)&&t&&g$(t.x)&&r<t.x,["".concat(RA,"-bottom")]:g$(s)&&t&&g$(t.y)&&s>=t.y,["".concat(RA,"-top")]:g$(s)&&t&&g$(t.y)&&s<t.y})}({translateX:r,translateY:s,coordinate:n})}}({allowEscapeViewBox:t,coordinate:n,offsetTopLeft:o,position:c,reverseDirection:d,tooltipBox:{height:x.height,width:x.width},useTranslate3d:u,viewBox:m}),j=f?{}:RI(RI({transition:l&&e?"transform ".concat(r,"ms ").concat(s):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&i?"visible":"hidden",position:"absolute",top:0,left:0}),y=RI(RI({},j),{},{visibility:!this.state.dismissed&&e&&i?"visible":"hidden"},h);return RE.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:g,style:y,ref:p},a)}}var RB=e.i(92809);function R_(e,t,r){return!0===t?(0,RB.default)(e,r):"function"==typeof t?(0,RB.default)(e,t):e}function RL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,r]=(0,q.useState)({height:0,left:0,top:0,width:0}),s=(0,q.useCallback)(e=>{if(null!=e){var s=e.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-t.height)>1||Math.abs(a.left-t.left)>1||Math.abs(a.top-t.top)>1||Math.abs(a.width-t.width)>1)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,s]}function Rz(e){this._context=e}function Rq(e){return new Rz(e)}function RU(e){return e[0]}function R$(e){return e[1]}function RV(e,t){var r=vL(!0),s=null,a=Rq,n=null,i=Ao(l);function l(l){var o,c,d,u=(l=v_(l)).length,m=!1;for(null==s&&(n=a(d=i())),o=0;o<=u;++o)!(o<u&&r(c=l[o],o,l))===m&&((m=!m)?n.lineStart():n.lineEnd()),m&&n.point(+e(c,o,l),+t(c,o,l));if(d)return n=null,d+""||null}return e="function"==typeof e?e:void 0===e?RU:vL(e),t="function"==typeof t?t:void 0===t?R$:vL(t),l.x=function(t){return arguments.length?(e="function"==typeof t?t:vL(+t),l):e},l.y=function(e){return arguments.length?(t="function"==typeof e?e:vL(+e),l):t},l.defined=function(e){return arguments.length?(r="function"==typeof e?e:vL(!!e),l):r},l.curve=function(e){return arguments.length?(a=e,null!=s&&(n=a(s)),l):a},l.context=function(e){return arguments.length?(null==e?s=n=null:n=a(s=e),l):s},l}function RW(e,t,r){var s=null,a=vL(!0),n=null,i=Rq,l=null,o=Ao(c);function c(c){var d,u,m,h,x,p=(c=v_(c)).length,f=!1,g=Array(p),v=Array(p);for(null==n&&(l=i(x=o())),d=0;d<=p;++d){if(!(d<p&&a(h=c[d],d,c))===f)if(f=!f)u=d,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=d-1;m>=u;--m)l.point(g[m],v[m]);l.lineEnd(),l.areaEnd()}f&&(g[d]=+e(h,d,c),v[d]=+t(h,d,c),l.point(s?+s(h,d,c):g[d],r?+r(h,d,c):v[d]))}if(x)return l=null,x+""||null}function d(){return RV().defined(a).curve(i).context(n)}return e="function"==typeof e?e:void 0===e?RU:vL(+e),t="function"==typeof t?t:void 0===t?vL(0):vL(+t),r="function"==typeof r?r:void 0===r?R$:vL(+r),c.x=function(t){return arguments.length?(e="function"==typeof t?t:vL(+t),s=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:vL(+t),c):e},c.x1=function(e){return arguments.length?(s=null==e?null:"function"==typeof e?e:vL(+e),c):s},c.y=function(e){return arguments.length?(t="function"==typeof e?e:vL(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:vL(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:vL(+e),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(s).y(t)},c.defined=function(e){return arguments.length?(a="function"==typeof e?e:vL(!!e),c):a},c.curve=function(e){return arguments.length?(i=e,null!=n&&(l=i(n)),c):i},c.context=function(e){return arguments.length?(null==e?n=l=null:l=i(n=e),c):n},c}function RH(){}function RY(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function RG(e){this._context=e}function RX(e){this._context=e}function RK(e){this._context=e}Rz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},RG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:RY(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:RY(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},RX.prototype={areaStart:RH,areaEnd:RH,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:RY(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},RK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break;case 3:this._point=4;default:RY(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class RZ{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function RQ(e){this._context=e}RQ.prototype={areaStart:RH,areaEnd:RH,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e*=1,t*=1,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function RJ(e,t,r){var s=e._x1-e._x0,a=t-e._x1,n=(e._y1-e._y0)/(s||a<0&&-0),i=(r-e._y1)/(a||s<0&&-0);return((n<0?-1:1)+(i<0?-1:1))*Math.min(Math.abs(n),Math.abs(i),.5*Math.abs((n*a+i*s)/(s+a)))||0}function R0(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function R1(e,t,r){var s=e._x0,a=e._y0,n=e._x1,i=e._y1,l=(n-s)/3;e._context.bezierCurveTo(s+l,a+l*t,n-l,i-l*r,n,i)}function R2(e){this._context=e}function R4(e){this._context=new R5(e)}function R5(e){this._context=e}function R6(e){this._context=e}function R3(e){var t,r,s=e.length-1,a=Array(s),n=Array(s),i=Array(s);for(a[0]=0,n[0]=2,i[0]=e[0]+2*e[1],t=1;t<s-1;++t)a[t]=1,n[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[s-1]=2,n[s-1]=7,i[s-1]=8*e[s-1]+e[s],t=1;t<s;++t)r=a[t]/n[t-1],n[t]-=r,i[t]-=r*i[t-1];for(a[s-1]=i[s-1]/n[s-1],t=s-2;t>=0;--t)a[t]=(i[t]-a[t+1])/n[t];for(t=0,n[s-1]=(e[s]+a[s-1])/2;t<s-1;++t)n[t]=2*e[t+1]-a[t+1];return[a,n]}function R8(e,t){this._context=e,this._t=t}function R7(){return(R7=Object.assign.bind()).apply(null,arguments)}function R9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R9(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R9(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}R2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:R1(this,this._t0,R0(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t*=1,(e*=1)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,R1(this,R0(this,r=RJ(this,e,t)),r);break;default:R1(this,this._t0,r=RJ(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(R4.prototype=Object.create(R2.prototype)).point=function(e,t){R2.prototype.point.call(this,t,e)},R5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,s,a,n){this._context.bezierCurveTo(t,e,s,r,n,a)}},R6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var s=R3(e),a=R3(t),n=0,i=1;i<r;++n,++i)this._context.bezierCurveTo(s[0][n],a[0][n],s[1][n],a[1][n],e[i],t[i]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},R8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};var Ot={curveBasisClosed:function(e){return new RX(e)},curveBasisOpen:function(e){return new RK(e)},curveBasis:function(e){return new RG(e)},curveBumpX:function(e){return new RZ(e,!0)},curveBumpY:function(e){return new RZ(e,!1)},curveLinearClosed:function(e){return new RQ(e)},curveLinear:Rq,curveMonotoneX:function(e){return new R2(e)},curveMonotoneY:function(e){return new R4(e)},curveNatural:function(e){return new R6(e)},curveStep:function(e){return new R8(e,.5)},curveStepAfter:function(e){return new R8(e,1)},curveStepBefore:function(e){return new R8(e,0)}},Or=e=>wf(e.x)&&wf(e.y),Os=e=>e.x,Oa=e=>e.y,On=e=>{var{className:t,points:r,path:s,pathRef:a}=e;if((!r||!r.length)&&!s)return null;var n=r&&r.length?(e=>{var t,{type:r="linear",points:s=[],baseLine:a,layout:n,connectNulls:i=!1}=e,l=((e,t)=>{if("function"==typeof e)return e;var r="curve".concat(gZ(e));return("curveMonotone"===r||"curveBump"===r)&&t?Ot["".concat(r).concat("vertical"===t?"Y":"X")]:Ot[r]||Rq})(r,n),o=i?s.filter(Or):s;if(Array.isArray(a)){var c=i?a.filter(e=>Or(e)):a,d=o.map((e,t)=>Oe(Oe({},e),{},{base:c[t]}));return(t="vertical"===n?RW().y(Oa).x1(Os).x0(e=>e.base.x):RW().x(Os).y1(Oa).y0(e=>e.base.y)).defined(Or).curve(l),t(d)}return(t="vertical"===n&&g$(a)?RW().y(Oa).x1(Os).x0(a):g$(a)?RW().x(Os).y1(Oa).y0(a):RV().x(Os).y(Oa)).defined(Or).curve(l),t(o)})(e):s;return q.createElement("path",R7({},kt(e),((e,t)=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if((0,q.isValidElement)(e)&&(r=e.props),"object"!=typeof r&&"function"!=typeof r)return null;var s={};return Object.keys(r).forEach(e=>{P6(e)&&(s[e]=t||(t=>r[e](r,t)))}),s})(e),{className:ek("recharts-curve",t),d:null===n?void 0:n,ref:a}))},Oi=["x","y","top","left","width","height","className"];function Ol(){return(Ol=Object.assign.bind()).apply(null,arguments)}function Oo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}var Oc=e=>{var{x:t=0,y:r=0,top:s=0,left:a=0,width:n=0,height:i=0,className:l}=e,o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oo(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:t,y:r,top:s,left:a,width:n,height:i},function(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Oi));return g$(t)&&g$(r)&&g$(n)&&g$(i)&&g$(s)&&g$(a)?q.createElement("path",Ol({},kl(o,!0),{className:ek("recharts-cross",l),d:"M".concat(t,",").concat(s,"v").concat(i,"M").concat(a,",").concat(r,"h").concat(n)})):null};function Od(e){var{cx:t,cy:r,radius:s,startAngle:a,endAngle:n}=e;return{points:[vY(t,r,s,a),vY(t,r,s,n)],cx:t,cy:r,radius:s,startAngle:a,endAngle:n}}function Ou(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function Om(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ou(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ou(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Oh(){return(Oh=Object.assign.bind()).apply(null,arguments)}function Ox(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function Op(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ox(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ox(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Of(e){var t,r,s,{coordinate:a,payload:n,index:i,offset:l,tooltipAxisBandSize:o,layout:c,cursor:d,tooltipEventType:u,chartName:m}=e;if(!d||!a||"ScatterChart"!==m&&"axis"!==u)return null;if("ScatterChart"===m)r=a,s=Oc;else if("BarChart"===m)t=o/2,r={stroke:"none",fill:"#ccc",x:"horizontal"===c?a.x-t:l.left+.5,y:"horizontal"===c?l.top+.5:a.y-t,width:"horizontal"===c?o:l.width-1,height:"horizontal"===c?l.height-1:o},s=E4;else if("radial"===c){var{cx:h,cy:x,radius:p,startAngle:f,endAngle:g}=Od(a);r={cx:h,cy:x,startAngle:f,endAngle:g,innerRadius:p,outerRadius:p},s=Ar}else r={points:function(e,t,r){var s,a,n,i;if("horizontal"===e)n=s=t.x,a=r.top,i=r.top+r.height;else if("vertical"===e)i=a=t.y,s=r.left,n=r.left+r.width;else if(null!=t.cx&&null!=t.cy)if("centric"!==e)return Od(t);else{var{cx:l,cy:o,innerRadius:c,outerRadius:d,angle:u}=t,m=vY(l,o,c,u),h=vY(l,o,d,u);s=m.x,a=m.y,n=h.x,i=h.y}return[{x:s,y:a},{x:n,y:i}]}(c,a,l)},s=On;var v="object"==typeof d&&"className"in d?d.className:void 0,j=Op(Op(Op(Op({stroke:"#ccc",pointerEvents:"none"},l),r),kl(d,!1)),{},{payload:n,payloadIndex:i,className:ek("recharts-tooltip-cursor",v)});return(0,q.isValidElement)(d)?(0,q.cloneElement)(d,j):(0,q.createElement)(s,j)}function Og(e){var t,r,s,a=(t=vI(Ct),r=vI(Db),s=vI(Dv),v3(Om(Om({},t),{},{scale:s}),r)),n=jv(),i=vI(jy),l=vI(wz);return q.createElement(Of,Oh({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:i,tooltipAxisBandSize:a,chartName:l}))}function Ov(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function Oj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ov(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ov(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Oy(e){return e.dataKey}var Ob=[],ON={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!kH.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ow(e){var t,r,s,a,n,i,l,o=kO(e,ON),{active:c,allowEscapeViewBox:d,animationDuration:u,animationEasing:m,content:h,filterNull:x,isAnimationActive:p,offset:f,payloadUniqBy:g,position:v,reverseDirection:j,useTranslate3d:y,wrapperStyle:b,cursor:N,shared:w,trigger:C,defaultIndex:S,portal:D,axisId:P}=o,k=vA(),E="number"==typeof S?String(S):S;(0,q.useEffect)(()=>{k(vi({shared:w,trigger:C,axisId:P,active:c,defaultIndex:E}))},[k,w,C,P,c,E]);var A=jf(),F=P2(),R=vI(e=>Sq(e,w)),{activeIndex:O,isActive:I}=vI(e=>DW(e,R,C,E)),M=vI(e=>DV(e,R,C,E)),T=vI(e=>D$(e,R,C,E)),B=vI(e=>DU(e,R,C,E)),_=(0,q.useContext)(kN),L=null!=c?c:I,[z,U]=RL([M,L]),$="axis"===R?T:void 0;t=vI(e=>((e,t,r)=>{if(null!=t){var s=SK(e);return"axis"===t?"hover"===r?s.axisInteraction.hover.dataKey:s.axisInteraction.click.dataKey:"hover"===r?s.itemInteraction.hover.dataKey:s.itemInteraction.click.dataKey}})(e,R,C)),r=vI(w$),s=vI(wq),a=vI(wU),i=null==(n=vI(ky))?void 0:n.active,(0,q.useEffect)(()=>{if(!i&&null!=s&&null!=r){var e=vh({active:L,coordinate:B,dataKey:t,index:O,label:"number"==typeof $?String($):$});kg.emit(kv,s,e,r)}},[i,B,t,O,$,r,s,a,L]);var V=null!=D?D:_;if(null==V)return null;var W=null!=M?M:Ob;L||(W=Ob),x&&W.length&&(W=R_(M.filter(e=>null!=e.value&&(!0!==e.hide||o.includeHidden)),g,Oy));var H=W.length>0,Y=q.createElement(RT,{allowEscapeViewBox:d,animationDuration:u,animationEasing:m,isAnimationActive:p,active:L,coordinate:B,hasPayload:H,offset:f,position:v,reverseDirection:j,useTranslate3d:y,viewBox:A,wrapperStyle:b,lastBoundingBox:z,innerRef:U,hasPortalFromProps:!!D},(l=Oj(Oj({},o),{},{payload:W,label:$,active:L,coordinate:B,accessibilityLayer:F}),q.isValidElement(h)?q.cloneElement(h,l):"function"==typeof h?q.createElement(h,l):q.createElement(Rk,l)));return q.createElement(q.Fragment,null,(0,tD.createPortal)(Y,V),L&&q.createElement(Og,{cursor:N,tooltipEventType:R,coordinate:B,payload:M,index:O}))}var OC=q,OS=q;function OD(){return(OD=Object.assign.bind()).apply(null,arguments)}function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function Ok(e,t,r){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class OE extends OS.PureComponent{renderIcon(e,t){var{inactiveColor:r}=this.props,s=32/6,a=32/3,n=e.inactive?r:e.color,i=null!=t?t:e.type;if("none"===i)return null;if("plainline"===i)return OS.createElement("line",{strokeWidth:4,fill:"none",stroke:n,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:16,x2:32,y2:16,className:"recharts-legend-icon"});if("line"===i)return OS.createElement("path",{strokeWidth:4,fill:"none",stroke:n,d:"M0,".concat(16,"h").concat(a,"\n            A").concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(16,"\n            H").concat(32,"M").concat(2*a,",").concat(16,"\n            A").concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(16),className:"recharts-legend-icon"});if("rect"===i)return OS.createElement("path",{stroke:"none",fill:n,d:"M0,".concat(4,"h").concat(32,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(OS.isValidElement(e.legendIcon)){var l=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(t){Ok(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return delete l.legendIcon,OS.cloneElement(e.legendIcon,l)}return OS.createElement(AA,{fill:n,cx:16,cy:16,size:32,sizeType:"diameter",type:i})}renderItems(){var{payload:e,iconSize:t,layout:r,formatter:s,inactiveColor:a,iconType:n}=this.props,i={x:0,y:0,width:32,height:32},l={display:"horizontal"===r?"inline-block":"block",marginRight:10},o={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,r)=>{var c=e.formatter||s,d=ek({"recharts-legend-item":!0,["legend-item-".concat(r)]:!0,inactive:e.inactive});if("none"===e.type)return null;var u=e.inactive?a:e.color,m=c?c(e.value,e,r):e.value;return OS.createElement("li",OD({className:d,style:l,key:"legend-item-".concat(r)},P7(this.props,e,r)),OS.createElement(kd,{width:t,height:t,viewBox:i,style:o,"aria-label":"".concat(m," legend icon")},this.renderIcon(e,n)),OS.createElement("span",{className:"recharts-legend-item-text",style:{color:u}},m))})}render(){var{payload:e,layout:t,align:r}=this.props;return e&&e.length?OS.createElement("ul",{className:"recharts-default-legend",style:{padding:0,margin:0,textAlign:"horizontal"===t?r:"left"}},this.renderItems()):null}}Ok(OE,"displayName","Legend"),Ok(OE,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var OA=["contextPayload"];function OF(){return(OF=Object.assign.bind()).apply(null,arguments)}function OR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function OO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OR(Object(r),!0).forEach(function(t){OI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function OI(e,t,r){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OM(e){return e.value}function OT(e){var{contextPayload:t}=e,r=function(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,OA),s=R_(t,e.payloadUniqBy,OM),a=OO(OO({},r),{},{payload:s});return OC.isValidElement(e.content)?OC.cloneElement(e.content,a):"function"==typeof e.content?OC.createElement(e.content,a):OC.createElement(OE,a)}function OB(e){var t=vA();return(0,OC.useEffect)(()=>{t(Pb(e))},[t,e]),null}function O_(e){var t=vA();return(0,OC.useEffect)(()=>(t(Py(e)),()=>{t(Py({width:0,height:0}))}),[t,e]),null}function OL(e){var t,r=vI(vB),s=(0,q.useContext)(kw),a=null!=(t=vI(e=>e.layout.margin))?t:jj,{width:n,height:i,wrapperStyle:l,portal:o}=e,[c,d]=RL([r]),u=vI(v9),m=vI(je),h=u-(a.left||0)-(a.right||0),x=Oz.getWidthOrHeight(e.layout,i,n,h),p=o?l:OO(OO({position:"absolute",width:(null==x?void 0:x.width)||n||"auto",height:(null==x?void 0:x.height)||i||"auto"},function(e,t,r,s,a,n){var i,l,{layout:o,align:c,verticalAlign:d}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(i="center"===c&&"vertical"===o?{left:((s||0)-n.width)/2}:"right"===c?{right:r&&r.right||0}:{left:r&&r.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(l="middle"===d?{top:((a||0)-n.height)/2}:"bottom"===d?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),OO(OO({},i),l)}(l,e,a,u,m,c)),l),f=null!=o?o:s;if(null==f)return null;var g=OC.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:d},OC.createElement(OB,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),OC.createElement(O_,{width:c.width,height:c.height}),OC.createElement(OT,OF({},e,x,{margin:a,chartWidth:u,chartHeight:m,contextPayload:r})));return(0,tD.createPortal)(g,f)}class Oz extends OC.PureComponent{static getWidthOrHeight(e,t,r,s){return"vertical"===e&&g$(t)?{height:t}:"horizontal"===e?{width:r||s}:null}render(){return OC.createElement(OL,this.props)}}OI(Oz,"displayName","Legend"),OI(Oz,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});var Oq=e.i(58723);function OU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function O$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OU(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OU(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var OV=(0,q.forwardRef)((e,t)=>{var{aspect:r,initialDimension:s={width:-1,height:-1},width:a="100%",height:n="100%",minWidth:i=0,minHeight:l,maxHeight:o,children:c,debounce:d=0,id:u,className:m,onResize:h,style:x={}}=e,p=(0,q.useRef)(null),f=(0,q.useRef)();f.current=h,(0,q.useImperativeHandle)(t,()=>p.current);var[g,v]=(0,q.useState)({containerWidth:s.width,containerHeight:s.height}),j=(0,q.useCallback)((e,t)=>{v(r=>{var s=Math.round(e),a=Math.round(t);return r.containerWidth===s&&r.containerHeight===a?r:{containerWidth:s,containerHeight:a}})},[]);(0,q.useEffect)(()=>{var e=e=>{var t,{width:r,height:s}=e[0].contentRect;j(r,s),null==(t=f.current)||t.call(f,r,s)};d>0&&(e=(0,Oq.default)(e,d,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:r,height:s}=p.current.getBoundingClientRect();return j(r,s),t.observe(p.current),()=>{t.disconnect()}},[j,d]);var y=(0,q.useMemo)(()=>{var{containerWidth:e,containerHeight:t}=g;if(e<0||t<0)return null;Rn(gU(a)||gU(n),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",a,n),Rn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var s=gU(a)?e:a,d=gU(n)?t:n;return r&&r>0&&(s?d=s/r:d&&(s=d*r),o&&d>o&&(d=o)),Rn(s>0||d>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",s,d,a,n,i,l,r),q.Children.map(c,e=>(0,q.cloneElement)(e,{width:s,height:d,style:O$({width:s,height:d},e.props.style)}))},[r,c,n,o,l,i,g,a]);return q.createElement("div",{id:u?"".concat(u):void 0,className:ek("recharts-responsive-container",m),style:O$(O$({},x),{},{width:a,height:n,minWidth:i,minHeight:l,maxHeight:o}),ref:p},q.createElement("div",{style:{width:0,height:0,overflow:"visible"}},y))});function OW(e){var t=vA();return(0,q.useEffect)(()=>{t(PT(e))},[t,e]),null}var OH=["width","height","layout"];function OY(){return(OY=Object.assign.bind()).apply(null,arguments)}var OG={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial"},OX=(0,q.forwardRef)(function(e,t){var r,s=kO(e.categoricalChartProps,OG),{width:a,height:n,layout:i}=s,l=function(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(s,OH);if(!wg(a)||!wg(n))return null;var{chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:u}=e;return q.createElement(PQ,{preloadedState:{options:{chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:u,eventEmitter:void 0}},reduxStoreName:null!=(r=s.id)?r:o},q.createElement(PJ,{chartData:s.data}),q.createElement(P0,{width:a,height:n,layout:i,margin:s.margin}),q.createElement(P1,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),q.createElement(OW,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),q.createElement(kF,OY({width:a,height:n},l,{ref:t})))}),OK=["item"],OZ={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},OQ=(0,q.forwardRef)((e,t)=>{var r=kO(e,OZ);return q.createElement(OX,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:OK,tooltipPayloadSearcher:gQ,categoricalChartProps:r,ref:t})}),OJ=e=>e.graphicalItems.polarItems,O0=fG([w3,w8],Cf),O1=fG([OJ,Ch,O0],Cj),O2=fG([O1],CC),O4=fG([O2,wx],CD),O5=fG([O4,Ch,O1],Ck),O6=fG([O4,Ch,O1],(e,t,r)=>r.length>0?e.flatMap(e=>r.flatMap(r=>{var s;return{value:vQ(e,null!=(s=t.dataKey)?s:r.dataKey),errorDomain:[]}})).filter(Boolean):(null==t?void 0:t.dataKey)!=null?e.map(e=>({value:vQ(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),O3=()=>void 0,O8=fG([Ch,C6,O3,O6,O3,jy,w3],C3),O7=fG([Ch,jy,O4,O5,wL,w3,O8],C9),O9=fG([O7,Ch,Sr],Sa);function Ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ie(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}fG([Ch,O7,O9,w3],Si);var Ir=fG([OJ,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),Is=[],Ia=(e,t,r)=>(null==r?void 0:r.length)===0?Is:r,In=fG([wx,Ir,Ia],(e,t,r)=>{var s,{chartData:a}=e;if(null!=t&&((s=(null==t?void 0:t.data)!=null&&t.data.length>0?t.data:a)&&s.length||null==r||(s=r.map(e=>It(It({},t.presentationProps),e.props))),null!=s))return s}),Ii=fG([In,Ir,Ia],(e,t,r)=>{if(null!=e&&null!=t)return e.map((e,s)=>{var a,n,i=vQ(e,t.nameKey,t.name);return n=null!=r&&null!=(a=r[s])&&null!=(a=a.props)&&a.fill?r[s].props.fill:"object"==typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:v7(i,t.dataKey),color:n,payload:e,type:t.legendType}})}),Il=fG([In,Ir,Ia,jc],(e,t,r,s)=>{if(null!=t&&null!=e)return function(e){var t,r,s,{pieSettings:a,displayedData:n,cells:i,offset:l}=e,{cornerRadius:o,startAngle:c,endAngle:d,dataKey:u,nameKey:m,tooltipType:h}=a,x=Math.abs(a.minAngle),p=gz(d-c)*Math.min(Math.abs(d-c),360),f=Math.abs(p),g=n.length<=1?0:null!=(t=a.paddingAngle)?t:0,v=n.filter(e=>0!==vQ(e,u,0)).length,j=f-v*x-(f>=360?v:v-1)*g,y=n.reduce((e,t)=>{var r=vQ(t,u,0);return e+(g$(r)?r:0)},0);return y>0&&(r=n.map((e,t)=>{var r,n=vQ(e,u,0),d=vQ(e,m,t),f=((e,t,r)=>{var s,{top:a,left:n,width:i,height:l}=t,o=vG(i,l),c=n+gY(e.cx,i,i/2),d=a+gY(e.cy,l,l/2),u=gY(e.innerRadius,o,0);return{cx:c,cy:d,innerRadius:u,outerRadius:(s=e.outerRadius,"function"==typeof s?s(r):gY(s,o,.8*o)),maxRadius:e.maxRadius||Math.sqrt(i*i+l*l)/2}})(a,l,e),v=(g$(n)?n:0)/y,b=Ih(Ih({},e),i&&i[t]&&i[t].props),N=(r=t?s.endAngle+gz(p)*g*(0!==n):c)+gz(p)*((0!==n?x:0)+v*j),w=(r+N)/2,C=(f.innerRadius+f.outerRadius)/2,S=[{name:d,value:n,payload:b,dataKey:u,type:h}],D=vY(f.cx,f.cy,C,w);return s=Ih(Ih(Ih(Ih({},a.presentationProps),{},{percent:v,cornerRadius:o,name:d,tooltipPayload:S,midAngle:w,middleRadius:C,tooltipPosition:D},b),f),{},{value:vQ(e,u),startAngle:r,endAngle:N,payload:b,paddingAngle:gz(p)*g})})),r}({offset:s,pieSettings:t,displayedData:e,cells:r})}),Io=["onMouseEnter","onClick","onMouseLeave"],Ic=["id"],Id=["id"];function Iu(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Im(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function Ih(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Im(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Im(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ix(){return(Ix=Object.assign.bind()).apply(null,arguments)}function Ip(e){var t=(0,q.useMemo)(()=>ki(e.children,kV),[e.children]),r=vI(r=>Ii(r,e.id,t));return null==r?null:q.createElement(Fs,{legendPayload:r})}function If(e){var{dataKey:t,nameKey:r,sectors:s,stroke:a,strokeWidth:n,fill:i,name:l,hide:o,tooltipType:c}=e;return{dataDefinedOnItem:null==s?void 0:s.map(e=>e.tooltipPayload),positions:null==s?void 0:s.map(e=>e.tooltipPosition),settings:{stroke:a,strokeWidth:n,fill:i,dataKey:t,nameKey:r,name:v7(l,t),hide:o,type:c,color:i,unit:""}}}function Ig(e){var{sectors:t,props:r,showLabels:s}=e,{label:a,labelLine:n,dataKey:i}=r;if(!s||!a||!t)return null;var l=kt(r),o=kl(a,!1),c=kl(n,!1),d="object"==typeof a&&"offsetRadius"in a&&a.offsetRadius||20,u=t.map((e,t)=>{var r,s,u=(e.startAngle+e.endAngle)/2,m=vY(e.cx,e.cy,e.outerRadius+d,u),h=Ih(Ih(Ih(Ih({},l),e),{},{stroke:"none"},o),{},{index:t,textAnchor:(r=m.x)>(s=e.cx)?"start":r<s?"end":"middle"},m),x=Ih(Ih(Ih(Ih({},l),e),{},{fill:"none",stroke:e.fill},c),{},{index:t,points:[vY(e.cx,e.cy,e.outerRadius,u),m],key:"line"});return q.createElement(k$,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},n&&((e,t)=>{if(q.isValidElement(e))return q.cloneElement(e,t);if("function"==typeof e)return e(t);var r=ek("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return q.createElement(On,Ix({},t,{type:"linear",className:r}))})(n,x),((e,t,r)=>{if(q.isValidElement(e))return q.cloneElement(e,t);var s=r;if("function"==typeof e&&(s=e(t),q.isValidElement(s)))return s;var a=ek("recharts-pie-label-text","boolean"!=typeof e&&"function"!=typeof e?e.className:"");return q.createElement(Eo,Ix({},t,{alignmentBaseline:"middle",className:a}),s)})(a,h,vQ(e,i)))});return q.createElement(k$,{className:"recharts-pie-labels"},u)}function Iv(e){var{sectors:t,activeShape:r,inactiveShape:s,allOtherPieProps:a,showLabels:n}=e,i=vI(DD),{onMouseEnter:l,onClick:o,onMouseLeave:c}=a,d=Iu(a,Io),u=AV(l,a.dataKey),m=AW(c),h=AH(o,a.dataKey);return null==t?null:q.createElement(q.Fragment,null,t.map((e,n)=>{if((null==e?void 0:e.startAngle)===0&&(null==e?void 0:e.endAngle)===0&&1!==t.length)return null;var l=r&&String(n)===i,o=l?r:i?s:null,c=Ih(Ih({},e),{},{stroke:e.stroke,tabIndex:-1,[jn]:n,[ji]:a.dataKey});return q.createElement(k$,Ix({tabIndex:-1,className:"recharts-pie-sector"},P7(d,e,n),{onMouseEnter:u(e,n),onMouseLeave:m(e,n),onClick:h(e,n),key:"sector-".concat(null==e?void 0:e.startAngle,"-").concat(null==e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(n)}),q.createElement(AT,Ix({option:o,isActive:l,shapeType:"sector"},c)))}),q.createElement(Ig,{sectors:t,props:a,showLabels:n}))}function Ij(e){var{props:t,previousSectorsRef:r}=e,{sectors:s,isAnimationActive:a,animationBegin:n,animationDuration:i,animationEasing:l,activeShape:o,inactiveShape:c,onAnimationStart:d,onAnimationEnd:u}=t,m=Fa(t,"recharts-pie-"),h=r.current,[x,p]=(0,q.useState)(!0),f=(0,q.useCallback)(()=>{"function"==typeof u&&u(),p(!1)},[u]),g=(0,q.useCallback)(()=>{"function"==typeof d&&d(),p(!0)},[d]);return q.createElement(Fx,{begin:n,duration:i,isActive:a,easing:l,onAnimationStart:g,onAnimationEnd:f,key:m},e=>{var a=[],n=(s&&s[0]).startAngle;return s.forEach((t,r)=>{var s=h&&h[r],i=r>0?(0,gL.default)(t,"paddingAngle",0):0;if(s){var l=gX(s.endAngle-s.startAngle,t.endAngle-t.startAngle),o=Ih(Ih({},t),{},{startAngle:n+i,endAngle:n+l(e)+i});a.push(o),n=o.endAngle}else{var{endAngle:c,startAngle:d}=t,u=gX(0,c-d)(e),m=Ih(Ih({},t),{},{startAngle:n+i,endAngle:n+u+i});a.push(m),n=m.endAngle}}),r.current=a,q.createElement(k$,null,q.createElement(Iv,{sectors:a,activeShape:o,inactiveShape:c,allOtherPieProps:t,showLabels:!x}))})}function Iy(e){var{sectors:t,isAnimationActive:r,activeShape:s,inactiveShape:a}=e,n=(0,q.useRef)(null),i=n.current;return r&&t&&t.length&&(!i||i!==t)?q.createElement(Ij,{props:e,previousSectorsRef:n}):q.createElement(Iv,{sectors:t,activeShape:s,inactiveShape:a,allOtherPieProps:e,showLabels:!0})}function Ib(e){var{hide:t,className:r,rootTabIndex:s}=e,a=ek("recharts-pie",r);return t?null:q.createElement(k$,{tabIndex:s,className:a},q.createElement(Iy,e))}var IN={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!kH.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Iw(e){var{id:t}=e,r=Iu(e,Ic),s=(0,q.useMemo)(()=>ki(e.children,kV),[e.children]),a=vI(e=>Il(e,t,s));return q.createElement(q.Fragment,null,q.createElement(AY,{fn:If,args:Ih(Ih({},e),{},{sectors:a})}),q.createElement(Ib,Ix({},r,{sectors:a})))}function IC(e){var t=kO(e,IN),{id:r}=t,s=Iu(t,Id),a=kt(s);return q.createElement(Fl,{id:r,type:"pie"},e=>q.createElement(q.Fragment,null,q.createElement(Fc,{type:"pie",id:e,data:s.data,dataKey:s.dataKey,hide:s.hide,angleAxisId:0,radiusAxisId:0,name:s.name,nameKey:s.nameKey,tooltipType:s.tooltipType,legendType:s.legendType,fill:s.fill,cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,paddingAngle:s.paddingAngle,minAngle:s.minAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius,cornerRadius:s.cornerRadius,presentationProps:a}),q.createElement(Ip,Ix({},s,{id:e})),q.createElement(Iw,Ix({},s,{id:e})),s.children))}IC.displayName="Pie";let IS=[{itemId:"PIPE-001",itemName:"Standard Scaffolding Pipe 6ft",category:"Pipes",totalRentals:145,totalRevenue:72500,avgRentalDuration:28,quantityRented:450,totalQuantity:500,utilizationRate:90},{itemId:"BOARD-003",itemName:"Metal Deck Board 7ft",category:"Boards",totalRentals:98,totalRevenue:58800,avgRentalDuration:35,quantityRented:280,totalQuantity:350,utilizationRate:80},{itemId:"FRAME-005",itemName:"Walk-Through Frame 6x4",category:"Frames",totalRentals:76,totalRevenue:45600,avgRentalDuration:42,quantityRented:150,totalQuantity:200,utilizationRate:75},{itemId:"COUP-002",itemName:"Swivel Coupler Heavy Duty",category:"Couplings",totalRentals:203,totalRevenue:40600,avgRentalDuration:21,quantityRented:800,totalQuantity:1e3,utilizationRate:80},{itemId:"SAFE-001",itemName:"Safety Harness Full Body",category:"Safety",totalRentals:54,totalRevenue:27e3,avgRentalDuration:14,quantityRented:90,totalQuantity:120,utilizationRate:75}],ID=[{itemId:"PIPE-001",itemName:"Standard Scaffolding Pipe 6ft",category:"Pipes",totalQuantity:500,inUse:450,idle:50,utilizationRate:90,avgIdleDays:12,location:"Warehouse A",condition:"Good"},{itemId:"BOARD-003",itemName:"Metal Deck Board 7ft",category:"Boards",totalQuantity:350,inUse:280,idle:70,utilizationRate:80,avgIdleDays:18,location:"Warehouse A",condition:"Good"},{itemId:"FRAME-005",itemName:"Walk-Through Frame 6x4",category:"Frames",totalQuantity:200,inUse:150,idle:50,utilizationRate:75,avgIdleDays:25,location:"Warehouse B",condition:"Fair"},{itemId:"COUP-002",itemName:"Swivel Coupler Heavy Duty",category:"Couplings",totalQuantity:1e3,inUse:800,idle:200,utilizationRate:80,avgIdleDays:8,location:"Warehouse A",condition:"Good"},{itemId:"ACC-008",itemName:"Base Plate Adjustable",category:"Accessories",totalQuantity:300,inUse:120,idle:180,utilizationRate:40,avgIdleDays:45,location:"Warehouse C",condition:"Good"}],IP=[{customerId:"CUST-001",customerName:"Stellar Construction Sdn Bhd",totalInvoiced:125e3,totalPaid:95e3,outstanding:3e4,overdueDays:0,lastPaymentDate:"2024-11-25",numberOfInvoices:8,status:"Current"},{customerId:"CUST-002",customerName:"Metro Builders",totalInvoiced:98500,totalPaid:98500,outstanding:0,overdueDays:0,lastPaymentDate:"2024-11-20",numberOfInvoices:6,status:"Paid"},{customerId:"CUST-003",customerName:"Pacific Development Corp",totalInvoiced:156e3,totalPaid:11e4,outstanding:46e3,overdueDays:15,lastPaymentDate:"2024-11-10",numberOfInvoices:10,status:"Overdue"},{customerId:"CUST-004",customerName:"Horizon Projects Ltd",totalInvoiced:87500,totalPaid:75e3,outstanding:12500,overdueDays:0,lastPaymentDate:"2024-11-22",numberOfInvoices:5,status:"Current"},{customerId:"CUST-005",customerName:"Summit Engineering",totalInvoiced:203e3,totalPaid:15e4,outstanding:53e3,overdueDays:32,lastPaymentDate:"2024-10-28",numberOfInvoices:12,status:"Overdue"}],Ik=["#F15929","#10b981","#3b82f6","#f59e0b","#8b5cf6","#ec4899"];function IE(){let[e,t]=(0,q.useState)("rental-performance"),[r,s]=(0,q.useState)({searchQuery:"",category:"all",status:"all"}),[a,n]=(0,q.useState)(),[i,l]=(0,q.useState)(),[o,c]=(0,q.useState)(!1),d=()=>IS.filter(e=>{let t=e.itemName.toLowerCase().includes(r.searchQuery.toLowerCase())||e.itemId.toLowerCase().includes(r.searchQuery.toLowerCase()),s="all"===r.category||e.category===r.category;return t&&s}),u=()=>ID.filter(e=>{let t=e.itemName.toLowerCase().includes(r.searchQuery.toLowerCase())||e.itemId.toLowerCase().includes(r.searchQuery.toLowerCase()),s="all"===r.category||e.category===r.category;return t&&s}),m=()=>IP.filter(e=>{let t=e.customerName.toLowerCase().includes(r.searchQuery.toLowerCase())||e.customerId.toLowerCase().includes(r.searchQuery.toLowerCase()),s="all"===r.status||e.status===r.status;return t&&s}),h=()=>{if("rental-performance"===e){let e=d();return{totalRentals:e.reduce((e,t)=>e+t.totalRentals,0),totalRevenue:e.reduce((e,t)=>e+t.totalRevenue,0),avgDuration:Math.round(e.reduce((e,t)=>e+t.avgRentalDuration,0)/e.length),avgUtilization:Math.round(e.reduce((e,t)=>e+t.utilizationRate,0)/e.length)}}if("inventory-utilization"===e){let e=u();return{totalItems:e.reduce((e,t)=>e+t.totalQuantity,0),inUse:e.reduce((e,t)=>e+t.inUse,0),idle:e.reduce((e,t)=>e+t.idle,0),avgUtilization:Math.round(e.reduce((e,t)=>e+t.utilizationRate,0)/e.length),avgIdleDays:Math.round(e.reduce((e,t)=>e+t.avgIdleDays,0)/e.length)}}{let e=m();return{totalInvoiced:e.reduce((e,t)=>e+t.totalInvoiced,0),totalPaid:e.reduce((e,t)=>e+t.totalPaid,0),totalOutstanding:e.reduce((e,t)=>e+t.outstanding,0),overdueCount:e.filter(e=>"Overdue"===e.status).length}}},x=h(),p=()=>{switch(e){case"rental-performance":return"Rental Performance Report";case"inventory-utilization":return"Inventory Utilization Report";case"financial":return"Financial Report";default:return"Report"}},f=()=>{switch(e){case"rental-performance":return"Track rental statistics, revenue generated, and average rental durations";case"inventory-utilization":return"Analyze scaffolding utilization rates and identify idle inventory";case"financial":return"Review sales summaries and outstanding payment tracking";default:return""}},g=async()=>{ld.info("Preparing PDF export...");let e={};try{let t=document.querySelectorAll(".recharts-wrapper");for(let r=0;r<t.length;r++){let s=t[r].querySelector("svg");if(s)try{let t=s.cloneNode(!0),a=s.width.baseVal.value||800,n=s.height.baseVal.value||300;t.setAttribute("width",a.toString()),t.setAttribute("height",n.toString());let i=new XMLSerializer().serializeToString(t),l=new Blob([i],{type:"image/svg+xml;charset=utf-8"}),o=URL.createObjectURL(l),c=document.createElement("canvas"),d=c.getContext("2d"),u=new Image;await new Promise((t,s)=>{u.onload=()=>{try{c.width=a,c.height=n,d&&(d.fillStyle="#ffffff",d.fillRect(0,0,a,n),d.drawImage(u,0,0,a,n)),e[`chart${r}`]=c.toDataURL("image/png",1),URL.revokeObjectURL(o),t()}catch(e){console.error("Error drawing to canvas:",e),s(e)}},u.onerror=()=>{console.error("Error loading SVG image"),URL.revokeObjectURL(o),s(Error("Failed to load SVG"))},u.src=o})}catch(e){console.error(`Error converting chart ${r} to image:`,e)}}let r=window.open("","_blank");if(!r)return void ld.error("Please allow pop-ups to export PDF");let s=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>${p()}</title>
          <meta charset="UTF-8">
          <style>
            * { margin: 0; padding: 0; box-sizing: border-box; }
            @page {
              size: A4;
              margin: 15mm;
            }
            body { 
              font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
              color: #231F20;
              background: white;
              line-height: 1.6;
            }
            
            /* Cover Page */
            .cover-page {
              height: 100vh;
              display: flex;
              flex-direction: column;
              justify-content: center;
              align-items: center;
              text-align: center;
              page-break-after: always;
              background: linear-gradient(135deg, #231F20 0%, #4a4647 100%);
              color: white;
              padding: 60px 40px;
            }
            .cover-logo {
              font-size: 48px;
              font-weight: bold;
              color: #F15929;
              margin-bottom: 20px;
              letter-spacing: 2px;
            }
            .cover-title {
              font-size: 36px;
              font-weight: bold;
              margin: 30px 0 20px;
              color: white;
            }
            .cover-subtitle {
              font-size: 20px;
              color: #E5E7EB;
              margin-bottom: 40px;
            }
            .cover-date {
              font-size: 16px;
              color: #F15929;
              margin-top: 60px;
              padding: 15px 30px;
              border: 2px solid #F15929;
              border-radius: 8px;
              display: inline-block;
            }
            
            /* Content Pages */
            .content-page {
              padding: 20px 40px;
            }
            
            /* Header with company branding */
            .page-header { 
              border-bottom: 3px solid #F15929;
              padding-bottom: 15px;
              margin-bottom: 30px;
            }
            .company-name { 
              font-size: 20px;
              font-weight: bold;
              color: #231F20;
            }
            .report-info {
              font-size: 12px;
              color: #6B7280;
              margin-top: 5px;
            }
            
            /* Summary Section */
            .summary-section {
              background: linear-gradient(135deg, #FFF5F2 0%, #FFF 100%);
              border-left: 4px solid #F15929;
              padding: 20px;
              margin: 30px 0;
              border-radius: 8px;
              page-break-inside: avoid;
            }
            .summary-title {
              font-size: 20px;
              font-weight: bold;
              color: #231F20;
              margin-bottom: 15px;
            }
            .summary-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 20px;
            }
            .summary-card {
              text-align: center;
              padding: 15px;
              background: white;
              border-radius: 8px;
              box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            .summary-label {
              font-size: 12px;
              color: #6B7280;
              margin-bottom: 8px;
              text-transform: uppercase;
              letter-spacing: 0.5px;
            }
            .summary-value {
              font-size: 24px;
              font-weight: bold;
              color: #F15929;
            }
            
            /* Charts */
            .chart-section { 
              margin: 40px 0;
              page-break-inside: avoid;
              background: white;
            }
            .chart-title { 
              font-size: 18px;
              font-weight: bold;
              color: #231F20;
              margin-bottom: 8px;
              padding-left: 15px;
              border-left: 4px solid #F15929;
            }
            .chart-description { 
              font-size: 13px;
              color: #6B7280;
              margin-bottom: 20px;
              padding-left: 19px;
            }
            .chart-image { 
              width: 100%;
              max-width: 100%;
              height: auto;
              margin: 0 auto;
              display: block;
              border: 1px solid #E5E7EB;
              border-radius: 8px;
              background: white;
              box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            }
            
            /* Tables */
            .table-section {
              margin: 40px 0;
              page-break-before: always;
            }
            .table-title {
              font-size: 20px;
              font-weight: bold;
              color: #231F20;
              margin-bottom: 20px;
              padding-bottom: 10px;
              border-bottom: 2px solid #F15929;
            }
            table { 
              width: 100%;
              border-collapse: collapse;
              margin: 20px 0;
              background: white;
              font-size: 11px;
            }
            thead {
              background: linear-gradient(135deg, #231F20 0%, #3a3637 100%);
            }
            th { 
              color: white;
              font-weight: 600;
              padding: 12px 10px;
              text-align: left;
              border: none;
              text-transform: uppercase;
              letter-spacing: 0.5px;
              font-size: 10px;
            }
            td { 
              padding: 10px;
              border-bottom: 1px solid #E5E7EB;
            }
            tr:nth-child(even) { 
              background-color: #F9FAFB;
            }
            tr:hover {
              background-color: #FFF5F2;
            }
            
            /* Footer */
            .footer { 
              margin-top: 60px;
              padding-top: 20px;
              border-top: 2px solid #E5E7EB;
              text-align: center;
              font-size: 11px;
              color: #6B7280;
            }
            .footer-logo {
              color: #F15929;
              font-weight: bold;
              font-size: 13px;
              margin-bottom: 8px;
            }
            
            @media print {
              body {
                margin: 0;
                padding: 0;
              }
              .chart-section,
              .table-section,
              .summary-section {
                page-break-inside: avoid;
              }
              .cover-page {
                page-break-after: always;
              }
            }
          </style>
        </head>
        <body>
          <!-- Cover Page -->
          <div class="cover-page">
            <div class="cover-logo">POWER METAL & STEEL</div>
            <div class="cover-title">${p()}</div>
            <div class="cover-subtitle">${f()}</div>
            <div class="cover-date">
              Generated on ${uq(new Date,"PPPP")}
              ${a&&i?`<br/>Period: ${uq(a,"PP")} - ${uq(i,"PP")}`:""}
            </div>
          </div>
          
          <!-- Content Pages -->
          <div class="content-page">
            <div class="page-header">
              <div class="company-name">Power Metal & Steel</div>
              <div class="report-info">${p()} | Generated: ${uq(new Date,"PPpp")}</div>
            </div>
            
            <!-- Executive Summary -->
            <div class="summary-section">
              <div class="summary-title">Executive Summary</div>
              <div class="summary-grid">
                ${v()}
              </div>
            </div>
            
            <!-- Charts -->
            ${j(e)}
            
            <!-- Detailed Data Table -->
            <div class="table-section">
              <div class="table-title">Detailed Data Report</div>
              ${y()}
            </div>
            
            <!-- Footer -->
            <div class="footer">
              <div class="footer-logo">Power Metal & Steel</div>
              <p>This is a computer-generated report from Power Metal & Steel ERP System</p>
              <p>\xa9 ${new Date().getFullYear()} Power Metal & Steel. All rights reserved.</p>
            </div>
          </div>
        </body>
        </html>
      `;r.document.write(s),r.document.close(),setTimeout(()=>{r.focus(),r.print(),ld.success("Report exported to PDF successfully")},1e3)}catch(e){console.error("Error generating PDF:",e),ld.error("Failed to generate PDF. Please try again.")}},v=()=>{let t=h();return"rental-performance"===e?`
        <div class="summary-card">
          <div class="summary-label">Total Rentals</div>
          <div class="summary-value">${t.totalRentals}</div>
        </div>
        <div class="summary-card">
          <div class="summary-label">Total Revenue</div>
          <div class="summary-value">RM ${t.totalRevenue.toLocaleString()}</div>
        </div>
        <div class="summary-card">
          <div class="summary-label">Avg Duration</div>
          <div class="summary-value">${t.avgDuration} days</div>
        </div>
        <div class="summary-card">
          <div class="summary-label">Avg Utilization</div>
          <div class="summary-value">${t.avgUtilization}%</div>
        </div>
      `:"inventory-utilization"===e?`
        <div class="summary-card">
          <div class="summary-label">Total Items</div>
          <div class="summary-value">${t.totalItems}</div>
        </div>
        <div class="summary-card">
          <div class="summary-label">In Use</div>
          <div class="summary-value">${t.inUse}</div>
        </div>
        <div class="summary-card">
          <div class="summary-label">Idle Items</div>
          <div class="summary-value">${t.idle}</div>
        </div>
        <div class="summary-card">
          <div class="summary-label">Avg Utilization</div>
          <div class="summary-value">${t.avgUtilization}%</div>
        </div>
      `:`
        <div class="summary-card">
          <div class="summary-label">Total Invoiced</div>
          <div class="summary-value">RM ${t.totalInvoiced.toLocaleString()}</div>
        </div>
        <div class="summary-card">
          <div class="summary-label">Total Paid</div>
          <div class="summary-value">RM ${t.totalPaid.toLocaleString()}</div>
        </div>
        <div class="summary-card">
          <div class="summary-label">Outstanding</div>
          <div class="summary-value">RM ${t.totalOutstanding.toLocaleString()}</div>
        </div>
        <div class="summary-card">
          <div class="summary-label">Overdue Count</div>
          <div class="summary-value">${t.overdueCount}</div>
        </div>
      `},j=t=>"rental-performance"===e?`
        <div class="chart-section">
          <div class="chart-title">Revenue by Category</div>
          <div class="chart-description">Total revenue generated per item category</div>
          ${t.chart0?`<img src="${t.chart0}" class="chart-image" alt="Revenue Chart" />`:""}
        </div>
        <div class="chart-section">
          <div class="chart-title">Utilization Rate Distribution</div>
          <div class="chart-description">Utilization rates across different items</div>
          ${t.chart1?`<img src="${t.chart1}" class="chart-image" alt="Utilization Chart" />`:""}
        </div>
      `:"inventory-utilization"===e?`
        <div class="chart-section">
          <div class="chart-title">Inventory Status Overview</div>
          <div class="chart-description">Current inventory status across all categories</div>
          ${t.chart0?`<img src="${t.chart0}" class="chart-image" alt="Inventory Chart" />`:""}
        </div>
        <div class="chart-section">
          <div class="chart-title">Utilization Trend</div>
          <div class="chart-description">Inventory utilization percentage over time</div>
          ${t.chart1?`<img src="${t.chart1}" class="chart-image" alt="Utilization Trend Chart" />`:""}
        </div>
      `:"financial"===e?`
        <div class="chart-section">
          <div class="chart-title">Monthly Revenue Trend</div>
          <div class="chart-description">Revenue growth over the selected period</div>
          ${t.chart0?`<img src="${t.chart0}" class="chart-image" alt="Revenue Trend Chart" />`:""}
        </div>
        <div class="chart-section">
          <div class="chart-title">Outstanding vs Collected</div>
          <div class="chart-description">Comparison of outstanding and collected amounts</div>
          ${t.chart1?`<img src="${t.chart1}" class="chart-image" alt="Financial Overview Chart" />`:""}
        </div>
      `:"",y=()=>{if("rental-performance"===e){let e=d();return`
        <table>
          <thead>
            <tr>
              <th>Item Code</th>
              <th>Item Name</th>
              <th>Category</th>
              <th>Total Rentals</th>
              <th>Revenue (RM)</th>
              <th>Avg Duration (days)</th>
              <th>Utilization (%)</th>
            </tr>
          </thead>
          <tbody>
            ${e.map(e=>`
              <tr>
                <td>${e.itemId}</td>
                <td>${e.itemName}</td>
                <td>${e.category}</td>
                <td>${e.totalRentals}</td>
                <td>${e.totalRevenue.toLocaleString()}</td>
                <td>${e.avgRentalDuration}</td>
                <td>${e.utilizationRate}%</td>
              </tr>
            `).join("")}
          </tbody>
        </table>
      `}if("inventory-utilization"===e){let e=u();return`
        <table>
          <thead>
            <tr>
              <th>Item Code</th>
              <th>Item Name</th>
              <th>Category</th>
              <th>Total Qty</th>
              <th>In Use</th>
              <th>Idle</th>
              <th>Utilization (%)</th>
              <th>Avg Idle Days</th>
              <th>Location</th>
            </tr>
          </thead>
          <tbody>
            ${e.map(e=>`
              <tr>
                <td>${e.itemId}</td>
                <td>${e.itemName}</td>
                <td>${e.category}</td>
                <td>${e.totalQuantity}</td>
                <td>${e.inUse}</td>
                <td>${e.idle}</td>
                <td>${e.utilizationRate}%</td>
                <td>${e.avgIdleDays}</td>
                <td>${e.location}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>
      `}{let e=m();return`
        <table>
          <thead>
            <tr>
              <th>Customer ID</th>
              <th>Customer Name</th>
              <th>Invoiced (RM)</th>
              <th>Paid (RM)</th>
              <th>Outstanding (RM)</th>
              <th>Overdue Days</th>
              <th>Last Payment</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            ${e.map(e=>`
              <tr>
                <td>${e.customerId}</td>
                <td>${e.customerName}</td>
                <td>${e.totalInvoiced.toLocaleString()}</td>
                <td>${e.totalPaid.toLocaleString()}</td>
                <td>${e.outstanding.toLocaleString()}</td>
                <td>${e.overdueDays}</td>
                <td>${e.lastPaymentDate}</td>
                <td>${e.status}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>
      `}};return(0,z.jsxs)("div",{className:"p-6 space-y-6",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("h1",{className:"text-[#231F20]",children:"Report Generation & Analytics"}),(0,z.jsx)("p",{className:"text-gray-600",children:"Generate comprehensive reports with visual analytics"})]}),(0,z.jsxs)(ot,{children:[(0,z.jsxs)(or,{children:[(0,z.jsxs)(os,{className:"flex items-center gap-2",children:[(0,z.jsx)(K,{className:"size-5 text-[#F15929]"}),"Select Report Type"]}),(0,z.jsx)(oa,{children:"Choose the type of report you want to generate"})]}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Report Type"}),(0,z.jsxs)(cl,{value:e,onValueChange:e=>{t(e),c(!1)},children:[(0,z.jsx)(cc,{children:(0,z.jsx)(co,{})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"rental-performance",children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(du,{className:"size-4"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("div",{children:"Rental Performance Report"}),(0,z.jsx)("div",{className:"text-xs text-gray-500",children:"Track rentals, revenue & durations"})]})]})}),(0,z.jsx)(cu,{value:"inventory-utilization",children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(ei,{className:"size-4"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("div",{children:"Inventory Utilization Report"}),(0,z.jsx)("div",{className:"text-xs text-gray-500",children:"Analyze utilization rates & idle inventory"})]})]})}),(0,z.jsx)(cu,{value:"financial",children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(X,{className:"size-4"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("div",{children:"Financial Report"}),(0,z.jsx)("div",{className:"text-xs text-gray-500",children:"Review sales & outstanding payments"})]})]})})]})]})]}),(0,z.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,z.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,z.jsx)("strong",{children:"Selected:"})," ",p()]}),(0,z.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:f()})]})]})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsxs)(or,{children:[(0,z.jsxs)(os,{className:"flex items-center gap-2",children:[(0,z.jsx)(xq,{className:"size-5 text-[#F15929]"}),"Report Filters"]}),(0,z.jsx)(oa,{children:"Configure report parameters and filters"})]}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Search"}),(0,z.jsxs)("div",{className:"relative",children:[(0,z.jsx)(et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 size-4 text-gray-400"}),(0,z.jsx)(tN,{placeholder:"Search...",value:r.searchQuery,onChange:e=>s({...r,searchQuery:e.target.value}),className:"pl-10"})]})]}),"financial"!==e?(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Category"}),(0,z.jsxs)(cl,{value:r.category,onValueChange:e=>s({...r,category:e}),children:[(0,z.jsx)(cc,{children:(0,z.jsx)(co,{})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"all",children:"All Categories"}),(0,z.jsx)(cu,{value:"Pipes",children:"Pipes"}),(0,z.jsx)(cu,{value:"Boards",children:"Boards"}),(0,z.jsx)(cu,{value:"Frames",children:"Frames"}),(0,z.jsx)(cu,{value:"Couplings",children:"Couplings"}),(0,z.jsx)(cu,{value:"Accessories",children:"Accessories"}),(0,z.jsx)(cu,{value:"Safety",children:"Safety"})]})]})]}):(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Payment Status"}),(0,z.jsxs)(cl,{value:r.status,onValueChange:e=>s({...r,status:e}),children:[(0,z.jsx)(cc,{children:(0,z.jsx)(co,{})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"all",children:"All Status"}),(0,z.jsx)(cu,{value:"Paid",children:"Paid"}),(0,z.jsx)(cu,{value:"Current",children:"Current"}),(0,z.jsx)(cu,{value:"Overdue",children:"Overdue"})]})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"From Date"}),(0,z.jsxs)(hc,{children:[(0,z.jsx)(hd,{asChild:!0,children:(0,z.jsxs)(tb,{variant:"outline",className:"w-full justify-start",children:[(0,z.jsx)(Z,{className:"size-4 mr-2"}),a?uq(a,"PP"):"Select date"]})}),(0,z.jsx)(hu,{className:"w-auto p-0",align:"start",children:(0,z.jsx)(mK,{mode:"single",selected:a,onSelect:n})})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"To Date"}),(0,z.jsxs)(hc,{children:[(0,z.jsx)(hd,{asChild:!0,children:(0,z.jsxs)(tb,{variant:"outline",className:"w-full justify-start",children:[(0,z.jsx)(Z,{className:"size-4 mr-2"}),i?uq(i,"PP"):"Select date"]})}),(0,z.jsx)(hu,{className:"w-auto p-0",align:"start",children:(0,z.jsx)(mK,{mode:"single",selected:i,onSelect:l})})]})]})]}),(0,z.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",children:[(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Configure filters above and generate the report to view results"}),(0,z.jsxs)(tb,{onClick:()=>{c(!0),ld.success("Report generated successfully!")},className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,z.jsx)(ep,{className:"size-4 mr-2"}),"Generate Report"]})]})]})})]}),o&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["rental-performance"===e&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(ot,{children:(0,z.jsxs)(or,{className:"pb-3",children:[(0,z.jsx)(oa,{children:"Total Rentals"}),(0,z.jsx)(os,{className:"text-2xl text-[#231F20]",children:x.totalRentals})]})}),(0,z.jsx)(ot,{children:(0,z.jsxs)(or,{className:"pb-3",children:[(0,z.jsx)(oa,{children:"Total Revenue"}),(0,z.jsxs)(os,{className:"text-2xl text-[#F15929]",children:["RM ",x.totalRevenue.toLocaleString()]})]})}),(0,z.jsx)(ot,{children:(0,z.jsxs)(or,{className:"pb-3",children:[(0,z.jsx)(oa,{children:"Avg Duration"}),(0,z.jsxs)(os,{className:"text-2xl text-[#231F20]",children:[x.avgDuration," days"]})]})}),(0,z.jsx)(ot,{children:(0,z.jsxs)(or,{className:"pb-3",children:[(0,z.jsx)(oa,{children:"Avg Utilization"}),(0,z.jsxs)(os,{className:"text-2xl text-green-600",children:[x.avgUtilization,"%"]})]})})]}),"inventory-utilization"===e&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(ot,{children:(0,z.jsxs)(or,{className:"pb-3",children:[(0,z.jsx)(oa,{children:"Total Items"}),(0,z.jsx)(os,{className:"text-2xl text-[#231F20]",children:x.totalItems})]})}),(0,z.jsx)(ot,{children:(0,z.jsxs)(or,{className:"pb-3",children:[(0,z.jsx)(oa,{children:"In Use"}),(0,z.jsx)(os,{className:"text-2xl text-green-600",children:x.inUse})]})}),(0,z.jsx)(ot,{children:(0,z.jsxs)(or,{className:"pb-3",children:[(0,z.jsx)(oa,{children:"Idle Items"}),(0,z.jsx)(os,{className:"text-2xl text-orange-600",children:x.idle})]})}),(0,z.jsx)(ot,{children:(0,z.jsxs)(or,{className:"pb-3",children:[(0,z.jsx)(oa,{children:"Avg Utilization"}),(0,z.jsxs)(os,{className:"text-2xl text-[#F15929]",children:[x.avgUtilization,"%"]})]})})]}),"financial"===e&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(ot,{children:(0,z.jsxs)(or,{className:"pb-3",children:[(0,z.jsx)(oa,{children:"Total Invoiced"}),(0,z.jsxs)(os,{className:"text-2xl text-[#231F20]",children:["RM ",x.totalInvoiced.toLocaleString()]})]})}),(0,z.jsx)(ot,{children:(0,z.jsxs)(or,{className:"pb-3",children:[(0,z.jsx)(oa,{children:"Total Paid"}),(0,z.jsxs)(os,{className:"text-2xl text-green-600",children:["RM ",x.totalPaid.toLocaleString()]})]})}),(0,z.jsx)(ot,{children:(0,z.jsxs)(or,{className:"pb-3",children:[(0,z.jsx)(oa,{children:"Outstanding"}),(0,z.jsxs)(os,{className:"text-2xl text-[#F15929]",children:["RM ",x.totalOutstanding.toLocaleString()]})]})}),(0,z.jsx)(ot,{children:(0,z.jsxs)(or,{className:"pb-3",children:[(0,z.jsx)(oa,{children:"Overdue Count"}),(0,z.jsx)(os,{className:"text-2xl text-red-600",children:x.overdueCount})]})})]})]}),(0,z.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:["rental-performance"===e&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(ot,{children:[(0,z.jsxs)(or,{children:[(0,z.jsxs)(os,{className:"flex items-center gap-2",children:[(0,z.jsx)(ep,{className:"size-5 text-[#F15929]"}),"Revenue by Category"]}),(0,z.jsx)(oa,{children:"Total revenue generated per item category"})]}),(0,z.jsx)(on,{children:(0,z.jsx)(OV,{width:"100%",height:300,children:(0,z.jsxs)(kL,{data:d(),children:[(0,z.jsx)(Rw,{strokeDasharray:"3 3"}),(0,z.jsx)(F6,{dataKey:"category"}),(0,z.jsx)(Ra,{}),(0,z.jsx)(Ow,{formatter:e=>`RM ${e.toLocaleString()}`}),(0,z.jsx)(Oz,{}),(0,z.jsx)(FR,{dataKey:"totalRevenue",fill:"#F15929",name:"Revenue (RM)"})]})})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsxs)(or,{children:[(0,z.jsxs)(os,{className:"flex items-center gap-2",children:[(0,z.jsx)(pJ,{className:"size-5 text-[#F15929]"}),"Utilization Rate Distribution"]}),(0,z.jsx)(oa,{children:"Utilization rates across different items"})]}),(0,z.jsx)(on,{children:(0,z.jsx)(OV,{width:"100%",height:300,children:(0,z.jsxs)(OQ,{children:[(0,z.jsx)(IC,{data:d(),cx:"50%",cy:"50%",labelLine:!1,label:e=>`${e.itemId}: ${e.utilizationRate}%`,outerRadius:80,fill:"#8884d8",dataKey:"utilizationRate",children:d().map((e,t)=>(0,z.jsx)(kV,{fill:Ik[t%Ik.length]},`cell-${t}`))}),(0,z.jsx)(Ow,{})]})})})]})]}),"inventory-utilization"===e&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(ot,{children:[(0,z.jsxs)(or,{children:[(0,z.jsxs)(os,{className:"flex items-center gap-2",children:[(0,z.jsx)(ep,{className:"size-5 text-[#F15929]"}),"In Use vs Idle Inventory"]}),(0,z.jsx)(oa,{children:"Comparison of active vs idle inventory items"})]}),(0,z.jsx)(on,{children:(0,z.jsx)(OV,{width:"100%",height:300,children:(0,z.jsxs)(kL,{data:u(),children:[(0,z.jsx)(Rw,{strokeDasharray:"3 3"}),(0,z.jsx)(F6,{dataKey:"category"}),(0,z.jsx)(Ra,{}),(0,z.jsx)(Ow,{}),(0,z.jsx)(Oz,{}),(0,z.jsx)(FR,{dataKey:"inUse",fill:"#10b981",name:"In Use"}),(0,z.jsx)(FR,{dataKey:"idle",fill:"#f59e0b",name:"Idle"})]})})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsxs)(or,{children:[(0,z.jsxs)(os,{className:"flex items-center gap-2",children:[(0,z.jsx)(pJ,{className:"size-5 text-[#F15929]"}),"Utilization by Location"]}),(0,z.jsx)(oa,{children:"Inventory utilization across warehouses"})]}),(0,z.jsx)(on,{children:(0,z.jsx)(OV,{width:"100%",height:300,children:(0,z.jsxs)(OQ,{children:[(0,z.jsx)(IC,{data:u(),cx:"50%",cy:"50%",labelLine:!1,label:e=>`${e.location}: ${e.utilizationRate}%`,outerRadius:80,fill:"#8884d8",dataKey:"utilizationRate",children:u().map((e,t)=>(0,z.jsx)(kV,{fill:Ik[t%Ik.length]},`cell-${t}`))}),(0,z.jsx)(Ow,{})]})})})]})]}),"financial"===e&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(ot,{children:[(0,z.jsxs)(or,{children:[(0,z.jsxs)(os,{className:"flex items-center gap-2",children:[(0,z.jsx)(ep,{className:"size-5 text-[#F15929]"}),"Payment Status Overview"]}),(0,z.jsx)(oa,{children:"Invoiced vs Paid vs Outstanding amounts"})]}),(0,z.jsx)(on,{children:(0,z.jsx)(OV,{width:"100%",height:300,children:(0,z.jsxs)(kL,{data:m(),children:[(0,z.jsx)(Rw,{strokeDasharray:"3 3"}),(0,z.jsx)(F6,{dataKey:"customerId"}),(0,z.jsx)(Ra,{}),(0,z.jsx)(Ow,{formatter:e=>`RM ${e.toLocaleString()}`}),(0,z.jsx)(Oz,{}),(0,z.jsx)(FR,{dataKey:"totalPaid",fill:"#10b981",name:"Paid (RM)"}),(0,z.jsx)(FR,{dataKey:"outstanding",fill:"#F15929",name:"Outstanding (RM)"})]})})})]}),(0,z.jsxs)(ot,{children:[(0,z.jsxs)(or,{children:[(0,z.jsxs)(os,{className:"flex items-center gap-2",children:[(0,z.jsx)(pJ,{className:"size-5 text-[#F15929]"}),"Payment Status Distribution"]}),(0,z.jsx)(oa,{children:"Customer payment status breakdown"})]}),(0,z.jsx)(on,{children:(0,z.jsx)(OV,{width:"100%",height:300,children:(0,z.jsxs)(OQ,{children:[(0,z.jsxs)(IC,{data:[{name:"Paid",value:m().filter(e=>"Paid"===e.status).length},{name:"Current",value:m().filter(e=>"Current"===e.status).length},{name:"Overdue",value:m().filter(e=>"Overdue"===e.status).length}],cx:"50%",cy:"50%",labelLine:!1,label:e=>`${e.name}: ${e.value}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[(0,z.jsx)(kV,{fill:"#10b981"}),(0,z.jsx)(kV,{fill:"#3b82f6"}),(0,z.jsx)(kV,{fill:"#ef4444"})]}),(0,z.jsx)(Ow,{}),(0,z.jsx)(Oz,{})]})})})]})]})]}),(0,z.jsxs)("div",{className:"flex items-center justify-end space-x-4",children:[(0,z.jsxs)(tb,{onClick:()=>{let t="Power Metal & Steel - Report\n";if(t+=`Report Type: ${p()}
Generated on: ${new Date().toLocaleString()}
`,a&&i&&(t+=`Period: ${uq(a,"PPP")} - ${uq(i,"PPP")}
`),t+="\n","rental-performance"===e){let e=d();t+="Item Code,Item Name,Category,Total Rentals,Revenue (RM),Avg Duration (days),Utilization (%)\n",e.forEach(e=>{t+=`${e.itemId},"${e.itemName}",${e.category},${e.totalRentals},${e.totalRevenue},${e.avgRentalDuration},${e.utilizationRate}
`})}else if("inventory-utilization"===e){let e=u();t+="Item Code,Item Name,Category,Total Qty,In Use,Idle,Utilization (%),Avg Idle Days,Location,Condition\n",e.forEach(e=>{t+=`${e.itemId},"${e.itemName}",${e.category},${e.totalQuantity},${e.inUse},${e.idle},${e.utilizationRate},${e.avgIdleDays},${e.location},${e.condition}
`})}else if("financial"===e){let e=m();t+="Customer ID,Customer Name,Invoiced (RM),Paid (RM),Outstanding (RM),Overdue Days,Last Payment,Invoices,Status\n",e.forEach(e=>{t+=`${e.customerId},"${e.customerName}",${e.totalInvoiced},${e.totalPaid},${e.outstanding},${e.overdueDays},${e.lastPaymentDate},${e.numberOfInvoices},${e.status}
`})}let r=new Blob([t],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(r),n=document.createElement("a");n.href=s,n.download=`${p().replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(s),ld.success("Report exported to CSV successfully")},className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,z.jsx)(cY,{className:"size-4 mr-2"}),"Export to CSV"]}),(0,z.jsxs)(tb,{onClick:g,className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,z.jsx)(cY,{className:"size-4 mr-2"}),"Export to PDF"]})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsx)("div",{className:"flex items-center justify-between",children:(0,z.jsxs)("div",{children:[(0,z.jsxs)(os,{className:"flex items-center gap-2",children:[(0,z.jsx)(K,{className:"size-5 text-[#F15929]"}),p()," - Detailed Data"]}),(0,z.jsx)(oa,{children:f()})]})})}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"overflow-x-auto",children:["rental-performance"===e&&(0,z.jsxs)("table",{className:"w-full",children:[(0,z.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,z.jsxs)("tr",{children:[(0,z.jsx)("th",{className:"text-left p-3 text-sm text-gray-600",children:"Item Code"}),(0,z.jsx)("th",{className:"text-left p-3 text-sm text-gray-600",children:"Item Name"}),(0,z.jsx)("th",{className:"text-left p-3 text-sm text-gray-600",children:"Category"}),(0,z.jsx)("th",{className:"text-right p-3 text-sm text-gray-600",children:"Total Rentals"}),(0,z.jsx)("th",{className:"text-right p-3 text-sm text-gray-600",children:"Revenue (RM)"}),(0,z.jsx)("th",{className:"text-right p-3 text-sm text-gray-600",children:"Avg Duration (days)"}),(0,z.jsx)("th",{className:"text-right p-3 text-sm text-gray-600",children:"Utilization (%)"})]})}),(0,z.jsx)("tbody",{children:d().map((e,t)=>(0,z.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,z.jsx)("td",{className:"p-3 text-sm",children:e.itemId}),(0,z.jsx)("td",{className:"p-3 text-sm",children:e.itemName}),(0,z.jsx)("td",{className:"p-3 text-sm",children:(0,z.jsx)(cZ,{variant:"outline",children:e.category})}),(0,z.jsx)("td",{className:"p-3 text-sm text-right",children:e.totalRentals}),(0,z.jsx)("td",{className:"p-3 text-sm text-right text-[#F15929]",children:e.totalRevenue.toLocaleString()}),(0,z.jsx)("td",{className:"p-3 text-sm text-right",children:e.avgRentalDuration}),(0,z.jsx)("td",{className:"p-3 text-sm text-right",children:(0,z.jsxs)(cZ,{className:e.utilizationRate>=80?"bg-green-100 text-green-800":e.utilizationRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:[e.utilizationRate,"%"]})})]},t))})]}),"inventory-utilization"===e&&(0,z.jsxs)("table",{className:"w-full",children:[(0,z.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,z.jsxs)("tr",{children:[(0,z.jsx)("th",{className:"text-left p-3 text-sm text-gray-600",children:"Item Code"}),(0,z.jsx)("th",{className:"text-left p-3 text-sm text-gray-600",children:"Item Name"}),(0,z.jsx)("th",{className:"text-left p-3 text-sm text-gray-600",children:"Category"}),(0,z.jsx)("th",{className:"text-right p-3 text-sm text-gray-600",children:"Total Qty"}),(0,z.jsx)("th",{className:"text-right p-3 text-sm text-gray-600",children:"In Use"}),(0,z.jsx)("th",{className:"text-right p-3 text-sm text-gray-600",children:"Idle"}),(0,z.jsx)("th",{className:"text-right p-3 text-sm text-gray-600",children:"Utilization (%)"}),(0,z.jsx)("th",{className:"text-right p-3 text-sm text-gray-600",children:"Avg Idle Days"}),(0,z.jsx)("th",{className:"text-left p-3 text-sm text-gray-600",children:"Location"})]})}),(0,z.jsx)("tbody",{children:u().map((e,t)=>(0,z.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,z.jsx)("td",{className:"p-3 text-sm",children:e.itemId}),(0,z.jsx)("td",{className:"p-3 text-sm",children:e.itemName}),(0,z.jsx)("td",{className:"p-3 text-sm",children:(0,z.jsx)(cZ,{variant:"outline",children:e.category})}),(0,z.jsx)("td",{className:"p-3 text-sm text-right",children:e.totalQuantity}),(0,z.jsx)("td",{className:"p-3 text-sm text-right text-green-600",children:e.inUse}),(0,z.jsx)("td",{className:"p-3 text-sm text-right text-orange-600",children:e.idle}),(0,z.jsx)("td",{className:"p-3 text-sm text-right",children:(0,z.jsxs)(cZ,{className:e.utilizationRate>=80?"bg-green-100 text-green-800":e.utilizationRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:[e.utilizationRate,"%"]})}),(0,z.jsx)("td",{className:"p-3 text-sm text-right",children:e.avgIdleDays}),(0,z.jsx)("td",{className:"p-3 text-sm",children:e.location})]},t))})]}),"financial"===e&&(0,z.jsxs)("table",{className:"w-full",children:[(0,z.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,z.jsxs)("tr",{children:[(0,z.jsx)("th",{className:"text-left p-3 text-sm text-gray-600",children:"Customer ID"}),(0,z.jsx)("th",{className:"text-left p-3 text-sm text-gray-600",children:"Customer Name"}),(0,z.jsx)("th",{className:"text-right p-3 text-sm text-gray-600",children:"Invoiced (RM)"}),(0,z.jsx)("th",{className:"text-right p-3 text-sm text-gray-600",children:"Paid (RM)"}),(0,z.jsx)("th",{className:"text-right p-3 text-sm text-gray-600",children:"Outstanding (RM)"}),(0,z.jsx)("th",{className:"text-right p-3 text-sm text-gray-600",children:"Overdue Days"}),(0,z.jsx)("th",{className:"text-left p-3 text-sm text-gray-600",children:"Last Payment"}),(0,z.jsx)("th",{className:"text-center p-3 text-sm text-gray-600",children:"Status"})]})}),(0,z.jsx)("tbody",{children:m().map((e,t)=>(0,z.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,z.jsx)("td",{className:"p-3 text-sm",children:e.customerId}),(0,z.jsx)("td",{className:"p-3 text-sm",children:e.customerName}),(0,z.jsx)("td",{className:"p-3 text-sm text-right",children:e.totalInvoiced.toLocaleString()}),(0,z.jsx)("td",{className:"p-3 text-sm text-right text-green-600",children:e.totalPaid.toLocaleString()}),(0,z.jsx)("td",{className:"p-3 text-sm text-right text-[#F15929]",children:e.outstanding.toLocaleString()}),(0,z.jsx)("td",{className:"p-3 text-sm text-right",children:e.overdueDays>0?(0,z.jsx)("span",{className:"text-red-600",children:e.overdueDays}):(0,z.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,z.jsx)("td",{className:"p-3 text-sm",children:e.lastPaymentDate}),(0,z.jsx)("td",{className:"p-3 text-sm text-center",children:(0,z.jsxs)(cZ,{className:"Paid"===e.status?"bg-green-100 text-green-800":"Current"===e.status?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800",children:["Paid"===e.status&&(0,z.jsx)(lX,{className:"size-3 mr-1"}),"Overdue"===e.status&&(0,z.jsx)(ej,{className:"size-3 mr-1"}),"Current"===e.status&&(0,z.jsx)(od,{className:"size-3 mr-1"}),e.status]})})]},t))})]})]})})]})]})]})}let IA=Y("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var[IF,IR]=tw("Tooltip",[sS]),IO=sS(),II="TooltipProvider",IM="tooltip.open",[IT,IB]=IF(II),I_=e=>{let{__scopeTooltip:t,delayDuration:r=700,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:n}=e,i=q.useRef(!0),l=q.useRef(!1),o=q.useRef(0);return q.useEffect(()=>{let e=o.current;return()=>window.clearTimeout(e)},[]),(0,z.jsx)(IT,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:q.useCallback(()=>{window.clearTimeout(o.current),i.current=!1},[]),onClose:q.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(()=>i.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:q.useCallback(e=>{l.current=e},[]),disableHoverableContent:a,children:n})};I_.displayName=II;var IL="Tooltip",[Iz,Iq]=IF(IL),IU=e=>{let{__scopeTooltip:t,children:r,open:s,defaultOpen:a,onOpenChange:n,disableHoverableContent:i,delayDuration:l}=e,o=IB(IL,e.__scopeTooltip),c=IO(t),[d,u]=q.useState(null),m=rl(),h=q.useRef(0),x=i??o.disableHoverableContent,p=l??o.delayDuration,f=q.useRef(!1),[g,v]=tW({prop:s,defaultProp:a??!1,onChange:e=>{e?(o.onOpen(),document.dispatchEvent(new CustomEvent(IM))):o.onClose(),n?.(e)},caller:IL}),j=q.useMemo(()=>g?f.current?"delayed-open":"instant-open":"closed",[g]),y=q.useCallback(()=>{window.clearTimeout(h.current),h.current=0,f.current=!1,v(!0)},[v]),b=q.useCallback(()=>{window.clearTimeout(h.current),h.current=0,v(!1)},[v]),N=q.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{f.current=!0,v(!0),h.current=0},p)},[p,v]);return q.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),(0,z.jsx)(sk,{...c,children:(0,z.jsx)(Iz,{scope:t,contentId:m,open:g,stateAttribute:j,trigger:d,onTriggerChange:u,onTriggerEnter:q.useCallback(()=>{o.isOpenDelayedRef.current?N():y()},[o.isOpenDelayedRef,N,y]),onTriggerLeave:q.useCallback(()=>{x?b():(window.clearTimeout(h.current),h.current=0)},[b,x]),onOpen:y,onClose:b,disableHoverableContent:x,children:r})})};IU.displayName=IL;var I$="TooltipTrigger",IV=q.forwardRef((e,t)=>{let{__scopeTooltip:r,...s}=e,a=Iq(I$,r),n=IB(I$,r),i=IO(r),l=eN(t,q.useRef(null),a.onTriggerChange),o=q.useRef(!1),c=q.useRef(!1),d=q.useCallback(()=>o.current=!1,[]);return q.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),(0,z.jsx)(sA,{asChild:!0,...i,children:(0,z.jsx)(tP.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:l,onPointerMove:t$(e.onPointerMove,e=>{"touch"!==e.pointerType&&(c.current||n.isPointerInTransitRef.current||(a.onTriggerEnter(),c.current=!0))}),onPointerLeave:t$(e.onPointerLeave,()=>{a.onTriggerLeave(),c.current=!1}),onPointerDown:t$(e.onPointerDown,()=>{a.open&&a.onClose(),o.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:t$(e.onFocus,()=>{o.current||a.onOpen()}),onBlur:t$(e.onBlur,a.onClose),onClick:t$(e.onClick,a.onClose)})})});IV.displayName=I$;var IW="TooltipPortal",[IH,IY]=IF(IW,{forceMount:void 0}),IG=e=>{let{__scopeTooltip:t,forceMount:r,children:s,container:a}=e,n=Iq(IW,t);return(0,z.jsx)(IH,{scope:t,forceMount:r,children:(0,z.jsx)(sU,{present:r||n.open,children:(0,z.jsx)(sq,{asChild:!0,container:a,children:s})})})};IG.displayName=IW;var IX="TooltipContent",IK=q.forwardRef((e,t)=>{let r=IY(IX,e.__scopeTooltip),{forceMount:s=r.forceMount,side:a="top",...n}=e,i=Iq(IX,e.__scopeTooltip);return(0,z.jsx)(sU,{present:s||i.open,children:i.disableHoverableContent?(0,z.jsx)(I1,{side:a,...n,ref:t}):(0,z.jsx)(IZ,{side:a,...n,ref:t})})}),IZ=q.forwardRef((e,t)=>{let r=Iq(IX,e.__scopeTooltip),s=IB(IX,e.__scopeTooltip),a=q.useRef(null),n=eN(t,a),[i,l]=q.useState(null),{trigger:o,onClose:c}=r,d=a.current,{onPointerInTransitChange:u}=s,m=q.useCallback(()=>{l(null),u(!1)},[u]),h=q.useCallback((e,t)=>{let r,s=e.currentTarget,a={x:e.clientX,y:e.clientY},n=function(e,t){let r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),n=Math.abs(t.left-e.x);switch(Math.min(r,s,a,n)){case n:return"left";case a:return"right";case r:return"top";case s:return"bottom";default:throw Error("unreachable")}}(a,s.getBoundingClientRect());l(((r=[...function(e,t,r=5){let s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return s}(a,n),...function(e){let{top:t,right:r,bottom:s,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:s},{x:a,y:s}]}(t.getBoundingClientRect())].slice()).sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:1*!!(e.y>t.y)),function(e){if(e.length<=1)return e.slice();let t=[];for(let r=0;r<e.length;r++){let s=e[r];for(;t.length>=2;){let e=t[t.length-1],r=t[t.length-2];if((e.x-r.x)*(s.y-r.y)>=(e.y-r.y)*(s.x-r.x))t.pop();else break}t.push(s)}t.pop();let r=[];for(let t=e.length-1;t>=0;t--){let s=e[t];for(;r.length>=2;){let e=r[r.length-1],t=r[r.length-2];if((e.x-t.x)*(s.y-t.y)>=(e.y-t.y)*(s.x-t.x))r.pop();else break}r.push(s)}return(r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y)?t:t.concat(r)}(r))),u(!0)},[u]);return q.useEffect(()=>()=>m(),[m]),q.useEffect(()=>{if(o&&d){let e=e=>h(e,d),t=e=>h(e,o);return o.addEventListener("pointerleave",e),d.addEventListener("pointerleave",t),()=>{o.removeEventListener("pointerleave",e),d.removeEventListener("pointerleave",t)}}},[o,d,h,m]),q.useEffect(()=>{if(i){let e=e=>{let t=e.target,r={x:e.clientX,y:e.clientY},s=o?.contains(t)||d?.contains(t),a=!function(e,t){let{x:r,y:s}=e,a=!1;for(let e=0,n=t.length-1;e<t.length;n=e++){let i=t[e],l=t[n],o=i.x,c=i.y,d=l.x,u=l.y;c>s!=u>s&&r<(d-o)*(s-c)/(u-c)+o&&(a=!a)}return a}(r,i);s?m():a&&(m(),c())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[o,d,i,c,m]),(0,z.jsx)(I1,{...e,ref:n})}),[IQ,IJ]=IF(IL,{isInside:!1}),I0=eD("TooltipContent"),I1=q.forwardRef((e,t)=>{let{__scopeTooltip:r,children:s,"aria-label":a,onEscapeKeyDown:n,onPointerDownOutside:i,...l}=e,o=Iq(IX,r),c=IO(r),{onClose:d}=o;return q.useEffect(()=>(document.addEventListener(IM,d),()=>document.removeEventListener(IM,d)),[d]),q.useEffect(()=>{if(o.trigger){let e=e=>{let t=e.target;t?.contains(o.trigger)&&d()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[o.trigger,d]),(0,z.jsx)(t0,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:e=>e.preventDefault(),onDismiss:d,children:(0,z.jsxs)(sI,{"data-state":o.stateAttribute,...c,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,z.jsx)(I0,{children:s}),(0,z.jsx)(IQ,{scope:r,isInside:!0,children:(0,z.jsx)(op,{id:o.contentId,role:"tooltip",children:a||s})})]})})});IK.displayName=IX;var I2="TooltipArrow",I4=q.forwardRef((e,t)=>{let{__scopeTooltip:r,...s}=e,a=IO(r);return IJ(I2,r).isInside?null:(0,z.jsx)(sB,{...a,...s,ref:t})});function I5({delayDuration:e=0,...t}){return(0,z.jsx)(I_,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function I6({...e}){return(0,z.jsx)(I5,{children:(0,z.jsx)(IU,{"data-slot":"tooltip",...e})})}function I3({...e}){return(0,z.jsx)(IV,{"data-slot":"tooltip-trigger",...e})}function I8({className:e,sideOffset:t=0,children:r,...s}){return(0,z.jsx)(IG,{children:(0,z.jsxs)(IK,{"data-slot":"tooltip-content",sideOffset:t,className:tj("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...s,children:[r,(0,z.jsx)(I4,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}I4.displayName=I2;let I7=[{id:"AGR-2024-001",agreementNumber:"RA-2024-001",poNumber:"PO-2024-001",projectName:"Downtown Plaza Construction",owner:"Power Metal & Steel Sdn Bhd",ownerPhone:"+60 3-1234 5678",hirer:"Acme Construction Sdn Bhd",hirerPhone:"+60 12-345 6789",location:"Lot 123, Jalan Teknologi, Cyberjaya, Selangor",termOfHire:"6 months (Starting: 01 Dec 2024)",transportation:"Included - Delivery & Collection",monthlyRental:15e3,securityDeposit:2,minimumCharges:3,defaultInterest:1.5,ownerSignatoryName:"Ahmad bin Abdullah",ownerNRIC:"720101-01-5678",hirerSignatoryName:"John Tan Wei Ming",hirerNRIC:"850505-10-1234",status:"Active",currentVersion:1,versions:[{versionNumber:1,createdAt:"2024-11-15 10:30:00",createdBy:"Admin User",changes:"Initial agreement created",allowedRoles:["Admin","Manager","Sales","Finance"]}],createdAt:"2024-11-15",createdBy:"Admin User"},{id:"AGR-2024-002",agreementNumber:"RA-2024-002",poNumber:"PO-2024-002",projectName:"City Center Tower",owner:"Power Metal & Steel Sdn Bhd",ownerPhone:"+60 3-1234 5678",hirer:"BuildRight Inc Sdn Bhd",hirerPhone:"+60 11-222 3333",location:"Jalan Raja, Kuala Lumpur",termOfHire:"12 months (Starting: 01 Jan 2025)",transportation:"Excluded - Self Collection",monthlyRental:28e3,securityDeposit:3,minimumCharges:6,defaultInterest:2,ownerSignatoryName:"Ahmad bin Abdullah",ownerNRIC:"720101-01-5678",hirerSignatoryName:"Sarah Lee",hirerNRIC:"900812-14-5678",status:"Draft",currentVersion:2,versions:[{versionNumber:1,createdAt:"2024-11-20 09:00:00",createdBy:"Sales User",changes:"Initial draft created",allowedRoles:["Admin","Manager","Sales"]},{versionNumber:2,createdAt:"2024-11-22 14:15:00",createdBy:"Manager User",changes:"Updated monthly rental from RM 25,000 to RM 28,000",allowedRoles:["Admin","Manager"]}],createdAt:"2024-11-20",createdBy:"Sales User"}];function I9(){let[e,t]=(0,q.useState)(I7),[r,s]=(0,q.useState)(!1),[a,n]=(0,q.useState)(!1),[i,l]=(0,q.useState)(!1),[o,c]=(0,q.useState)(!1),[d,u]=(0,q.useState)(!1),[m,h]=(0,q.useState)(null),[x,p]=(0,q.useState)(!1),[f,g]=(0,q.useState)("owner"),[v,j]=(0,q.useState)(null);(0,q.useRef)(null),(0,q.useRef)(null);let[y,b]=(0,q.useState)(!1),[N]=(0,q.useState)("Admin"),[w,C]=(0,q.useState)({owner:"Power Metal & Steel Sdn Bhd",ownerPhone:"+60 3-1234 5678",status:"Draft",currentVersion:1,versions:[]}),[S,D]=(0,q.useState)(["Admin","Manager"]),P=e=>{switch(e){case"Draft":return(0,z.jsx)(cZ,{className:"bg-[#6B7280] hover:bg-[#4B5563]",children:"Draft"});case"Active":return(0,z.jsx)(cZ,{className:"bg-[#059669] hover:bg-[#047857]",children:"Active"});case"Expired":return(0,z.jsx)(cZ,{className:"bg-[#F59E0B] hover:bg-[#D97706]",children:"Expired"});case"Terminated":return(0,z.jsx)(cZ,{className:"bg-[#DC2626] hover:bg-[#B91C1C]",children:"Terminated"})}},k=()=>{C({owner:"Power Metal & Steel Sdn Bhd",ownerPhone:"+60 3-1234 5678",status:"Draft",currentVersion:1,versions:[]}),D(["Admin","Manager"])},E=e=>{ld.success(`Downloading ${e.agreementNumber} as PDF...`),setTimeout(()=>{ld.success("PDF downloaded successfully!")},1500)},A=(e,t)=>{let r=t.match(/(\d+)\s*months?/i);return r?e*parseInt(r[1]):e},[F,R]=(0,q.useState)(null),[O,I]=(0,q.useState)(!1);return(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)("h1",{children:"Rental Agreement"}),(0,z.jsx)("p",{className:"text-[#374151]",children:"Manage rental agreements with version control and role-based access"})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsxs)(or,{className:"flex flex-row items-center justify-between",children:[(0,z.jsx)(os,{className:"text-[18px]",children:"All Agreements"}),(0,z.jsxs)(tb,{className:"bg-[#F15929] hover:bg-[#d94d1f] h-10 px-6 rounded-lg",onClick:()=>s(!0),children:[(0,z.jsx)(dm,{className:"mr-2 h-4 w-4"}),"Create Agreement"]})]}),(0,z.jsx)(on,{children:(0,z.jsxs)(c8,{children:[(0,z.jsx)(c7,{children:(0,z.jsxs)(de,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,z.jsx)(dt,{children:"Project Name"}),(0,z.jsx)(dt,{children:"Total Rental"}),(0,z.jsx)(dt,{children:"Status"}),(0,z.jsx)(dt,{children:"Version"}),(0,z.jsx)(dt,{children:"Actions"})]})}),(0,z.jsx)(c9,{children:e.map(e=>(0,z.jsxs)(de,{className:"h-14 hover:bg-[#F3F4F6]",children:[(0,z.jsx)(dr,{className:"text-[#374151]",children:e.projectName}),(0,z.jsxs)(dr,{className:"text-[#374151]",children:["RM ",A(e.monthlyRental,e.termOfHire).toLocaleString()]}),(0,z.jsx)(dr,{children:P(e.status)}),(0,z.jsxs)(dr,{className:"text-[#374151]",children:["v",e.currentVersion]}),(0,z.jsx)(dr,{children:(0,z.jsx)(I5,{children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsxs)(I6,{children:[(0,z.jsx)(I3,{asChild:!0,children:(0,z.jsx)(tb,{variant:"ghost",size:"sm",onClick:()=>{e.versions[e.versions.length-1].allowedRoles.includes(N)?(h(e),n(!0)):ld.error("You don't have permission to view this agreement version")},children:(0,z.jsx)(lv,{className:"h-4 w-4 text-[#3B82F6]"})})}),(0,z.jsx)(I8,{children:(0,z.jsx)("p",{children:"View Agreement"})})]}),(0,z.jsxs)(I6,{children:[(0,z.jsx)(I3,{asChild:!0,children:(0,z.jsx)(tb,{variant:"ghost",size:"sm",onClick:()=>{h(e),C(e),D(e.versions[e.versions.length-1].allowedRoles),l(!0)},children:(0,z.jsx)(cX,{className:"h-4 w-4 text-[#F59E0B]"})})}),(0,z.jsx)(I8,{children:(0,z.jsx)("p",{children:"Edit Agreement"})})]}),(0,z.jsxs)(I6,{children:[(0,z.jsx)(I3,{asChild:!0,children:(0,z.jsx)(tb,{variant:"ghost",size:"sm",onClick:()=>{h(e),c(!0)},children:(0,z.jsx)(IA,{className:"h-4 w-4 text-[#6B7280]"})})}),(0,z.jsx)(I8,{children:(0,z.jsx)("p",{children:"Version History"})})]}),(0,z.jsxs)(I6,{children:[(0,z.jsx)(I3,{asChild:!0,children:(0,z.jsx)(tb,{variant:"ghost",size:"sm",onClick:()=>{h(e),u(!0)},children:e.signedDocumentUrl?(0,z.jsx)(hy,{className:"h-4 w-4 text-[#059669]"}):(0,z.jsx)(oo,{className:"h-4 w-4 text-[#F15929]"})})}),(0,z.jsx)(I8,{children:(0,z.jsx)("p",{children:e.signedDocumentUrl?"Signed Document Uploaded":"Upload Signed Agreement"})})]}),(0,z.jsxs)(I6,{children:[(0,z.jsx)(I3,{asChild:!0,children:(0,z.jsx)(tb,{variant:"ghost",size:"sm",onClick:()=>E(e),children:(0,z.jsx)(cY,{className:"h-4 w-4 text-[#059669]"})})}),(0,z.jsx)(I8,{children:(0,z.jsx)("p",{children:"Download PDF"})})]})]})})})]},e.id))})]})})]}),(0,z.jsx)(cQ,{open:r,onOpenChange:s,children:(0,z.jsxs)(c2,{className:"max-w-[900px] max-h-[90vh] overflow-y-auto",children:[(0,z.jsxs)(c4,{children:[(0,z.jsx)(c6,{children:"Create Rental Agreement"}),(0,z.jsx)(c3,{children:"Fill in the details to create a new rental agreement"})]}),(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)("h3",{className:"text-[#231F20]",children:"Agreement Information"}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Rental Agreement Number *"}),(0,z.jsx)(tN,{placeholder:"RA-2024-XXX",value:w.agreementNumber||"",onChange:e=>C({...w,agreementNumber:e.target.value})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"P/O Number *"}),(0,z.jsx)(tN,{placeholder:"PO-2024-XXX",value:w.poNumber||"",onChange:e=>C({...w,poNumber:e.target.value})})]}),(0,z.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,z.jsx)(lN,{children:"Project Name *"}),(0,z.jsx)(tN,{placeholder:"Enter project name",value:w.projectName||"",onChange:e=>C({...w,projectName:e.target.value})})]})]})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)("h3",{className:"text-[#231F20]",children:"Owner & Hirer Details"}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Owner"}),(0,z.jsx)(tN,{value:w.owner||"Power Metal & Steel Sdn Bhd",onChange:e=>C({...w,owner:e.target.value})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Owner Telephone"}),(0,z.jsx)(tN,{placeholder:"+60 X-XXXX XXXX",value:w.ownerPhone||"",onChange:e=>C({...w,ownerPhone:e.target.value})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Hirer *"}),(0,z.jsx)(tN,{placeholder:"Enter hirer company name",value:w.hirer||"",onChange:e=>C({...w,hirer:e.target.value})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Hirer Telephone"}),(0,z.jsx)(tN,{placeholder:"+60 X-XXXX XXXX",value:w.hirerPhone||"",onChange:e=>C({...w,hirerPhone:e.target.value})})]})]})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)("h3",{className:"text-[#231F20]",children:"Location & Terms"}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Location & Address of Goods"}),(0,z.jsx)(dl,{placeholder:"Enter full address",value:w.location||"",onChange:e=>C({...w,location:e.target.value}),rows:2})]}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Term of Hire"}),(0,z.jsx)(tN,{placeholder:"e.g., 6 months (Starting: 01 Jan 2025)",value:w.termOfHire||"",onChange:e=>C({...w,termOfHire:e.target.value})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Transportation"}),(0,z.jsxs)(cl,{value:w.transportation,onValueChange:e=>C({...w,transportation:e}),children:[(0,z.jsx)(cc,{children:(0,z.jsx)(co,{placeholder:"Select transportation"})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"Included - Delivery & Collection",children:"Included - Delivery & Collection"}),(0,z.jsx)(cu,{value:"Excluded - Self Collection",children:"Excluded - Self Collection"}),(0,z.jsx)(cu,{value:"Delivery Only",children:"Delivery Only"}),(0,z.jsx)(cu,{value:"Collection Only",children:"Collection Only"})]})]})]})]})]})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)("h3",{className:"text-[#231F20]",children:"Financial Details"}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Monthly Rental (RM)"}),(0,z.jsx)(tN,{type:"number",placeholder:"0.00",value:w.monthlyRental||"",onChange:e=>C({...w,monthlyRental:parseFloat(e.target.value)})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Security Deposit (Month)"}),(0,z.jsx)(tN,{type:"number",placeholder:"0",value:w.securityDeposit||"",onChange:e=>C({...w,securityDeposit:parseFloat(e.target.value)})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Minimum Charges (Month)"}),(0,z.jsx)(tN,{type:"number",placeholder:"0",value:w.minimumCharges||"",onChange:e=>C({...w,minimumCharges:parseFloat(e.target.value)})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Default Interest (% per month)"}),(0,z.jsx)(tN,{type:"number",step:"0.1",placeholder:"0.0",value:w.defaultInterest||"",onChange:e=>C({...w,defaultInterest:parseFloat(e.target.value)})})]})]})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)("h3",{className:"text-[#231F20]",children:"Signatory Details"}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Owner Signatory Name"}),(0,z.jsx)(tN,{placeholder:"Enter owner signatory name",value:w.ownerSignatoryName||"",onChange:e=>C({...w,ownerSignatoryName:e.target.value})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Owner NRIC No."}),(0,z.jsx)(tN,{placeholder:"XXXXXX-XX-XXXX",value:w.ownerNRIC||"",onChange:e=>C({...w,ownerNRIC:e.target.value})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Hirer Signatory Name"}),(0,z.jsx)(tN,{placeholder:"Enter hirer signatory name",value:w.hirerSignatoryName||"",onChange:e=>C({...w,hirerSignatoryName:e.target.value})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Hirer NRIC No."}),(0,z.jsx)(tN,{placeholder:"XXXXXX-XX-XXXX",value:w.hirerNRIC||"",onChange:e=>C({...w,hirerNRIC:e.target.value})})]})]})]}),(0,z.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,z.jsxs)(tb,{variant:"outline",className:"flex-1",onClick:()=>{s(!1),k()},children:[(0,z.jsx)(ea,{className:"mr-2 h-4 w-4"}),"Cancel"]}),(0,z.jsxs)(tb,{className:"flex-1 bg-[#F15929] hover:bg-[#d94d1f]",onClick:()=>{if(!w.projectName||!w.hirer||!w.agreementNumber||!w.poNumber)return void ld.error("Please fill in all required fields");let r={id:`AGR-2024-${String(e.length+1).padStart(3,"0")}`,agreementNumber:w.agreementNumber,poNumber:w.poNumber,projectName:w.projectName,owner:w.owner||"Power Metal & Steel Sdn Bhd",ownerPhone:w.ownerPhone||"+60 3-1234 5678",hirer:w.hirer,hirerPhone:w.hirerPhone||"",location:w.location||"",termOfHire:w.termOfHire||"",transportation:w.transportation||"",monthlyRental:w.monthlyRental||0,securityDeposit:w.securityDeposit||0,minimumCharges:w.minimumCharges||0,defaultInterest:w.defaultInterest||0,ownerSignatoryName:w.ownerSignatoryName||"",ownerNRIC:w.ownerNRIC||"",hirerSignatoryName:w.hirerSignatoryName||"",hirerNRIC:w.hirerNRIC||"",status:"Draft",currentVersion:1,versions:[{versionNumber:1,createdAt:new Date().toISOString(),createdBy:"Current User",changes:"Initial agreement created",allowedRoles:S}],createdAt:uq(new Date,"yyyy-MM-dd"),createdBy:"Current User"};t([...e,r]),ld.success("Rental agreement created successfully!"),s(!1),k()},children:[(0,z.jsx)(dk,{className:"mr-2 h-4 w-4"}),"Create Agreement"]})]})]})]})}),(0,z.jsx)(cQ,{open:i,onOpenChange:l,children:(0,z.jsxs)(c2,{className:"max-w-[900px] max-h-[90vh] overflow-y-auto",children:[(0,z.jsxs)(c4,{children:[(0,z.jsx)(c6,{children:"Edit Rental Agreement"}),(0,z.jsxs)(c3,{children:["Editing ",m?.agreementNumber," - This will create a new version"]})]}),(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)("h3",{className:"text-[#231F20]",children:"Agreement Information"}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Rental Agreement Number"}),(0,z.jsx)(tN,{value:w.agreementNumber||"",onChange:e=>C({...w,agreementNumber:e.target.value}),disabled:!0})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"P/O Number"}),(0,z.jsx)(tN,{value:w.poNumber||"",onChange:e=>C({...w,poNumber:e.target.value}),disabled:!0})]}),(0,z.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,z.jsx)(lN,{children:"Project Name *"}),(0,z.jsx)(tN,{value:w.projectName||"",onChange:e=>C({...w,projectName:e.target.value})})]})]})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)("h3",{className:"text-[#231F20]",children:"Owner & Hirer Details"}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Owner"}),(0,z.jsx)(tN,{value:w.owner||"",onChange:e=>C({...w,owner:e.target.value})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Owner Telephone"}),(0,z.jsx)(tN,{value:w.ownerPhone||"",onChange:e=>C({...w,ownerPhone:e.target.value})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Hirer *"}),(0,z.jsx)(tN,{value:w.hirer||"",onChange:e=>C({...w,hirer:e.target.value})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Hirer Telephone"}),(0,z.jsx)(tN,{value:w.hirerPhone||"",onChange:e=>C({...w,hirerPhone:e.target.value})})]})]})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)("h3",{className:"text-[#231F20]",children:"Location & Terms"}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Location & Address of Goods"}),(0,z.jsx)(dl,{value:w.location||"",onChange:e=>C({...w,location:e.target.value}),rows:2})]}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Term of Hire"}),(0,z.jsx)(tN,{value:w.termOfHire||"",onChange:e=>C({...w,termOfHire:e.target.value})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Transportation"}),(0,z.jsxs)(cl,{value:w.transportation,onValueChange:e=>C({...w,transportation:e}),children:[(0,z.jsx)(cc,{children:(0,z.jsx)(co,{})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"Included - Delivery & Collection",children:"Included - Delivery & Collection"}),(0,z.jsx)(cu,{value:"Excluded - Self Collection",children:"Excluded - Self Collection"}),(0,z.jsx)(cu,{value:"Delivery Only",children:"Delivery Only"}),(0,z.jsx)(cu,{value:"Collection Only",children:"Collection Only"})]})]})]})]})]})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)("h3",{className:"text-[#231F20]",children:"Financial Details"}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Monthly Rental (RM)"}),(0,z.jsx)(tN,{type:"number",value:w.monthlyRental||"",onChange:e=>C({...w,monthlyRental:parseFloat(e.target.value)})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Security Deposit (Month)"}),(0,z.jsx)(tN,{type:"number",value:w.securityDeposit||"",onChange:e=>C({...w,securityDeposit:parseFloat(e.target.value)})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Minimum Charges (Month)"}),(0,z.jsx)(tN,{type:"number",value:w.minimumCharges||"",onChange:e=>C({...w,minimumCharges:parseFloat(e.target.value)})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Default Interest (% per month)"}),(0,z.jsx)(tN,{type:"number",step:"0.1",value:w.defaultInterest||"",onChange:e=>C({...w,defaultInterest:parseFloat(e.target.value)})})]})]})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)("h3",{className:"text-[#231F20]",children:"Signatory Details"}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Owner Signatory Name"}),(0,z.jsx)(tN,{value:w.ownerSignatoryName||"",onChange:e=>C({...w,ownerSignatoryName:e.target.value})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Owner NRIC No."}),(0,z.jsx)(tN,{value:w.ownerNRIC||"",onChange:e=>C({...w,ownerNRIC:e.target.value})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Hirer Signatory Name"}),(0,z.jsx)(tN,{value:w.hirerSignatoryName||"",onChange:e=>C({...w,hirerSignatoryName:e.target.value})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Hirer NRIC No."}),(0,z.jsx)(tN,{value:w.hirerNRIC||"",onChange:e=>C({...w,hirerNRIC:e.target.value})})]})]})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)("h3",{className:"text-[#231F20]",children:"Agreement Status"}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Status"}),(0,z.jsxs)(cl,{value:w.status,onValueChange:e=>C({...w,status:e}),children:[(0,z.jsx)(cc,{children:(0,z.jsx)(co,{})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"Draft",children:"Draft"}),(0,z.jsx)(cu,{value:"Active",children:"Active"}),(0,z.jsx)(cu,{value:"Terminated",children:"Terminated"})]})]})]})]}),(0,z.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,z.jsxs)(tb,{variant:"outline",className:"flex-1",onClick:()=>{l(!1),h(null),k()},children:[(0,z.jsx)(ea,{className:"mr-2 h-4 w-4"}),"Cancel"]}),(0,z.jsxs)(tb,{className:"flex-1 bg-[#F15929] hover:bg-[#d94d1f]",onClick:()=>{if(!m||!w.projectName)return void ld.error("Please fill in all required fields");let r={...m,...w,currentVersion:m.currentVersion+1,versions:[...m.versions,{versionNumber:m.currentVersion+1,createdAt:new Date().toISOString(),createdBy:"Current User",changes:"Agreement updated",allowedRoles:["Admin","Manager","Sales","Finance","Operations","Staff"]}]};t(e.map(e=>e.id===m.id?r:e)),ld.success("Agreement updated successfully!"),l(!1),h(null),k()},children:[(0,z.jsx)(dk,{className:"mr-2 h-4 w-4"}),"Save Changes (Create v",m?m.currentVersion+1:1,")"]})]})]})]})}),(0,z.jsx)(cQ,{open:a,onOpenChange:n,children:(0,z.jsxs)(c2,{className:"max-w-[900px] max-h-[90vh] overflow-y-auto",children:[(0,z.jsxs)(c4,{children:[(0,z.jsx)(c6,{children:"Rental Agreement"}),(0,z.jsxs)(c3,{children:[m?.agreementNumber," - Version ",m?.currentVersion]})]}),m&&(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{className:"text-center space-y-2 pb-4 border-b-2 border-[#231F20]",children:[(0,z.jsx)("h2",{className:"text-[#231F20]",children:"RENTAL AGREEMENT"}),(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Power Metal & Steel Sdn Bhd"})]}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Owner"}),(0,z.jsx)("p",{className:"text-[#111827]",children:m.owner})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Hirer"}),(0,z.jsx)("p",{className:"text-[#111827]",children:m.hirer})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Owner Telephone"}),(0,z.jsx)("p",{className:"text-[#111827]",children:m.ownerPhone})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Hirer Telephone"}),(0,z.jsx)("p",{className:"text-[#111827]",children:m.hirerPhone})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Rental Agreement Number"}),(0,z.jsx)("p",{className:"text-[#111827]",children:m.agreementNumber})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"P/O Number"}),(0,z.jsx)("p",{className:"text-[#111827]",children:m.poNumber})]}),(0,z.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Project Name"}),(0,z.jsx)("p",{className:"text-[#111827]",children:m.projectName})]}),(0,z.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Location & Address of Goods"}),(0,z.jsx)("p",{className:"text-[#111827]",children:m.location})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Term of Hire"}),(0,z.jsx)("p",{className:"text-[#111827]",children:m.termOfHire})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Transportation"}),(0,z.jsx)("p",{className:"text-[#111827]",children:m.transportation})]})]}),(0,z.jsxs)("div",{className:"space-y-4 p-4 bg-[#F9FAFB] rounded-lg",children:[(0,z.jsx)("h3",{className:"text-[#231F20]",children:"Financial Details"}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Monthly Rental"}),(0,z.jsxs)("p",{className:"text-[#111827]",children:["RM ",m.monthlyRental.toLocaleString()]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Security Deposit"}),(0,z.jsxs)("p",{className:"text-[#111827]",children:[m.securityDeposit," Month(s)"]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Minimum Charges"}),(0,z.jsxs)("p",{className:"text-[#111827]",children:[m.minimumCharges," Month(s)"]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Default Interest"}),(0,z.jsxs)("p",{className:"text-[#111827]",children:[m.defaultInterest,"% per month"]})]})]})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)("h3",{className:"text-[#231F20]",children:"Signatory Details"}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,z.jsxs)("div",{className:"space-y-4 p-4 border border-[#E5E7EB] rounded-lg",children:[(0,z.jsx)("h4",{className:"text-[#111827]",children:"Owner"}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Name"}),(0,z.jsx)("p",{className:"text-[#111827]",children:m.ownerSignatoryName})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"NRIC No."}),(0,z.jsx)("p",{className:"text-[#111827]",children:m.ownerNRIC})]}),m.ownerSignature&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Signature"}),(0,z.jsx)("div",{className:"border-2 border-[#E5E7EB] rounded-lg p-2 bg-white",children:(0,z.jsx)("img",{src:m.ownerSignature,alt:"Owner signature"})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Date"}),(0,z.jsx)("p",{className:"text-[#111827]",children:m.ownerSignatureDate&&uq(new Date(m.ownerSignatureDate),"PPP")})]})]})]}),(0,z.jsxs)("div",{className:"space-y-4 p-4 border border-[#E5E7EB] rounded-lg",children:[(0,z.jsx)("h4",{className:"text-[#111827]",children:"Hirer"}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Name"}),(0,z.jsx)("p",{className:"text-[#111827]",children:m.hirerSignatoryName})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"NRIC No."}),(0,z.jsx)("p",{className:"text-[#111827]",children:m.hirerNRIC})]}),m.hirerSignature&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Signature"}),(0,z.jsx)("div",{className:"border-2 border-[#E5E7EB] rounded-lg p-2 bg-white",children:(0,z.jsx)("img",{src:m.hirerSignature,alt:"Hirer signature"})})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Date"}),(0,z.jsx)("p",{className:"text-[#111827]",children:m.hirerSignatureDate&&uq(new Date(m.hirerSignatureDate),"PPP")})]})]})]})]})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)("h3",{className:"text-[#231F20]",children:"Signed Agreement Document"}),m.signedDocumentUrl?(0,z.jsx)(ot,{className:"border-[#E5E7EB] bg-[#F0FDF4]",children:(0,z.jsx)(on,{className:"pt-4",children:(0,z.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,z.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,z.jsx)(hy,{className:"h-5 w-5 text-[#059669] mt-0.5"}),(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsx)("p",{className:"text-[14px] text-[#059669]",children:"Signed document uploaded"}),m.signedDocumentUploadedAt&&(0,z.jsxs)("p",{className:"text-[12px] text-[#6B7280] mt-1",children:["Uploaded on ",uq(new Date(m.signedDocumentUploadedAt),"PPp"),m.signedDocumentUploadedBy&&` by ${m.signedDocumentUploadedBy}`]})]})]}),(0,z.jsxs)(tb,{variant:"outline",size:"sm",onClick:()=>{m.signedDocumentUrl&&(ld.success("Downloading signed agreement..."),setTimeout(()=>{ld.success("Download complete!")},1e3))},className:"h-9 px-4 rounded-lg shrink-0",children:[(0,z.jsx)(cY,{className:"mr-2 h-4 w-4"}),"Download"]})]})})}):(0,z.jsx)(ot,{className:"border-[#E5E7EB] bg-[#FEF3C7]",children:(0,z.jsx)(on,{className:"pt-4",children:(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(ef,{className:"h-5 w-5 text-[#F59E0B] mt-0.5"}),(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsx)("p",{className:"text-[14px] text-[#92400E]",children:"No signed document uploaded yet"}),(0,z.jsx)("p",{className:"text-[12px] text-[#92400E] mt-1",children:"Use the upload button in the agreements table to upload the signed document."})]})]})})})]}),(0,z.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,z.jsx)(tb,{variant:"outline",className:"flex-1",onClick:()=>n(!1),children:"Close"}),(0,z.jsxs)(tb,{className:"flex-1 bg-[#F15929] hover:bg-[#d94d1f]",onClick:()=>E(m),children:[(0,z.jsx)(cY,{className:"mr-2 h-4 w-4"}),"Download PDF"]})]})]})]})}),(0,z.jsx)(cQ,{open:o,onOpenChange:c,children:(0,z.jsxs)(c2,{className:"max-w-[700px]",children:[(0,z.jsxs)(c4,{children:[(0,z.jsx)(c6,{children:"Version History"}),(0,z.jsxs)(c3,{children:["Agreement: ",m?.agreementNumber," - All versions are viewable"]})]}),m&&(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)("div",{className:"space-y-3",children:[...m.versions].reverse().map((e,t)=>(0,z.jsx)(ot,{className:"border-[#E5E7EB]",children:(0,z.jsx)(on,{className:"pt-4",children:(0,z.jsxs)("div",{className:"flex items-start justify-between",children:[(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,z.jsxs)(cZ,{className:"bg-[#F15929] hover:bg-[#d94d1f]",children:["Version ",e.versionNumber]}),e.versionNumber===m.currentVersion&&(0,z.jsx)(cZ,{className:"bg-[#059669] hover:bg-[#047857]",children:"Current"})]}),(0,z.jsx)("p",{className:"text-[14px] text-[#111827] mb-1",children:e.changes}),(0,z.jsxs)("div",{className:"flex items-center gap-4 text-[12px] text-[#6B7280]",children:[(0,z.jsxs)("span",{children:["Created by: ",e.createdBy]}),(0,z.jsx)("span",{children:""}),(0,z.jsx)("span",{children:uq(new Date(e.createdAt),"PPp")})]})]}),(0,z.jsxs)(tb,{variant:"outline",size:"sm",onClick:()=>{R(e),I(!0)},className:"ml-4",children:[(0,z.jsx)(lv,{className:"h-4 w-4 mr-1"}),"View"]})]})})},e.versionNumber))}),(0,z.jsx)("div",{className:"flex gap-3 pt-4 border-t",children:(0,z.jsx)(tb,{variant:"outline",className:"flex-1",onClick:()=>c(!1),children:"Close"})})]})]})}),(0,z.jsx)(cQ,{open:O,onOpenChange:I,children:(0,z.jsxs)(c2,{className:"max-w-[900px] max-h-[90vh] overflow-y-auto",children:[(0,z.jsxs)(c4,{children:[(0,z.jsx)(c6,{children:"View Agreement Version"}),(0,z.jsxs)(c3,{children:[m?.agreementNumber," - Version ",F?.versionNumber,F?.versionNumber===m?.currentVersion&&" (Current)"]})]}),m&&F&&(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsx)(ot,{className:"border-[#E5E7EB] bg-[#F9FAFB]",children:(0,z.jsx)(on,{className:"pt-4",children:(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)("p",{className:"text-[14px] text-[#111827]",children:[(0,z.jsx)("strong",{children:"Changes:"})," ",F.changes]}),(0,z.jsxs)("div",{className:"flex items-center gap-4 text-[12px] text-[#6B7280]",children:[(0,z.jsxs)("span",{children:["Created by: ",F.createdBy]}),(0,z.jsx)("span",{children:""}),(0,z.jsx)("span",{children:uq(new Date(F.createdAt),"PPp")})]})]})})}),(0,z.jsxs)("div",{className:"text-center space-y-2 pb-4 border-b-2 border-[#231F20]",children:[(0,z.jsx)("h2",{className:"text-[#231F20]",children:"RENTAL AGREEMENT"}),(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Power Metal & Steel Sdn Bhd"}),(0,z.jsxs)(cZ,{className:"bg-[#F15929] hover:bg-[#d94d1f]",children:["Version ",F.versionNumber]})]}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Owner"}),(0,z.jsx)("p",{className:"text-[#111827]",children:m.owner})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Hirer"}),(0,z.jsx)("p",{className:"text-[#111827]",children:m.hirer})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Owner Telephone"}),(0,z.jsx)("p",{className:"text-[#111827]",children:m.ownerPhone})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Hirer Telephone"}),(0,z.jsx)("p",{className:"text-[#111827]",children:m.hirerPhone})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Rental Agreement Number"}),(0,z.jsx)("p",{className:"text-[#111827]",children:m.agreementNumber})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"P/O Number"}),(0,z.jsx)("p",{className:"text-[#111827]",children:m.poNumber})]}),(0,z.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Project Name"}),(0,z.jsx)("p",{className:"text-[#111827]",children:m.projectName})]}),(0,z.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Location & Address of Goods"}),(0,z.jsx)("p",{className:"text-[#111827]",children:m.location})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Term of Hire"}),(0,z.jsx)("p",{className:"text-[#111827]",children:m.termOfHire})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Transportation"}),(0,z.jsx)("p",{className:"text-[#111827]",children:m.transportation})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Monthly Rental"}),(0,z.jsxs)("p",{className:"text-[#111827]",children:["RM ",m.monthlyRental.toLocaleString()]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Total Rental"}),(0,z.jsxs)("p",{className:"text-[#111827]",children:["RM ",A(m.monthlyRental,m.termOfHire).toLocaleString()]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Security Deposit"}),(0,z.jsxs)("p",{className:"text-[#111827]",children:[m.securityDeposit," month(s)"]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Minimum Charges"}),(0,z.jsxs)("p",{className:"text-[#111827]",children:[m.minimumCharges," month(s)"]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Default Interest"}),(0,z.jsxs)("p",{className:"text-[#111827]",children:[m.defaultInterest,"% per month"]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{className:"text-[#6B7280]",children:"Status"}),(0,z.jsx)("div",{children:P(m.status)})]})]}),(0,z.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,z.jsx)(tb,{variant:"outline",className:"flex-1",onClick:()=>{I(!1),R(null)},children:"Close"}),(0,z.jsxs)(tb,{className:"flex-1 bg-[#F15929] hover:bg-[#d94d1f]",onClick:()=>{ld.success(`Downloading Version ${F.versionNumber} as PDF...`),setTimeout(()=>{ld.success("PDF downloaded successfully!")},1500)},children:[(0,z.jsx)(cY,{className:"mr-2 h-4 w-4"}),"Download This Version"]})]})]})]})}),(0,z.jsx)(cQ,{open:d,onOpenChange:u,children:(0,z.jsxs)(c2,{className:"max-w-[600px]",children:[(0,z.jsxs)(c4,{children:[(0,z.jsx)(c6,{children:"Upload Signed Agreement"}),(0,z.jsxs)(c3,{children:["Upload the signed agreement document for ",m?.agreementNumber]})]}),(0,z.jsxs)("div",{className:"space-y-6",children:[m?.signedDocumentUrl&&(0,z.jsx)(ot,{className:"border-[#E5E7EB] bg-[#F0FDF4]",children:(0,z.jsx)(on,{className:"pt-4",children:(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(hy,{className:"h-5 w-5 text-[#059669] mt-0.5"}),(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsx)("p",{className:"text-[14px] text-[#059669]",children:"A signed document has already been uploaded for this agreement."}),m.signedDocumentUploadedAt&&(0,z.jsxs)("p",{className:"text-[12px] text-[#6B7280] mt-1",children:["Uploaded on ",uq(new Date(m.signedDocumentUploadedAt),"PPp"),m.signedDocumentUploadedBy&&` by ${m.signedDocumentUploadedBy}`]})]})]})})}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Select Document *"}),(0,z.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,z.jsx)(tN,{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:e=>{let t=e.target.files?.[0];if(t){if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(t.type))return void ld.error("Please upload a PDF or image file (JPG, PNG)");if(t.size>0xa00000)return void ld.error("File size should not exceed 10MB");j(t)}},className:"cursor-pointer"}),(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Accepted formats: PDF, JPG, PNG (Max size: 10MB)"})]})]}),v&&(0,z.jsx)(ot,{className:"border-[#E5E7EB] bg-[#F9FAFB]",children:(0,z.jsx)(on,{className:"pt-4",children:(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)(K,{className:"h-5 w-5 text-[#F15929]"}),(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsx)("p",{className:"text-[14px] text-[#111827]",children:v.name}),(0,z.jsxs)("p",{className:"text-[12px] text-[#6B7280]",children:[(v.size/1024/1024).toFixed(2)," MB"]})]})]})})})]}),(0,z.jsx)(ot,{className:"border-[#E5E7EB] bg-[#FEF3C7]",children:(0,z.jsx)(on,{className:"pt-4",children:(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(ef,{className:"h-5 w-5 text-[#F59E0B] mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[14px] text-[#92400E]",children:"Important Information"}),(0,z.jsxs)("ul",{className:"text-[12px] text-[#92400E] mt-2 space-y-1 list-disc list-inside",children:[(0,z.jsx)("li",{children:"Upload the agreement that has been signed by the customer"}),(0,z.jsx)("li",{children:"Ensure the document is clear and legible"}),(0,z.jsx)("li",{children:"Uploading a new document will replace the existing one"})]})]})]})})}),(0,z.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,z.jsxs)(tb,{variant:"outline",className:"flex-1",onClick:()=>{u(!1),j(null),h(null)},children:[(0,z.jsx)(ea,{className:"mr-2 h-4 w-4"}),"Cancel"]}),(0,z.jsxs)(tb,{className:"flex-1 bg-[#F15929] hover:bg-[#d94d1f]",onClick:()=>{if(!v||!m)return void ld.error("Please select a file to upload");let r=URL.createObjectURL(v),s={...m,signedDocumentUrl:r,signedDocumentUploadedAt:new Date().toISOString(),signedDocumentUploadedBy:"Current Admin User"};t(e.map(e=>e.id===m.id?s:e)),ld.success("Signed agreement uploaded successfully!"),u(!1),j(null),h(null)},disabled:!v,children:[(0,z.jsx)(oo,{className:"mr-2 h-4 w-4"}),"Upload Document"]})]})]})]})})]})}function Me({status:e}){switch(e){case"Pending Payment":return(0,z.jsx)(cZ,{className:"bg-[#F5A623] hover:bg-[#D88F1C] text-white",children:"Pending Payment"});case"Pending Approval":return(0,z.jsx)(cZ,{className:"bg-[#3B82F6] hover:bg-[#2563EB] text-white",children:"Pending Approval"});case"Paid":return(0,z.jsx)(cZ,{className:"bg-[#059669] hover:bg-[#047857] text-white",children:"Paid"});case"Rejected":return(0,z.jsx)(cZ,{className:"bg-[#DC2626] hover:bg-[#B91C1C] text-white",children:"Rejected"});case"Overdue":return(0,z.jsx)(cZ,{className:"bg-[#EA580C] hover:bg-[#C2410C] text-white",children:"Overdue"})}}function Mt({onFileSelect:e,existingFile:t}){let[r,s]=(0,q.useState)(t||null),[a,n]=(0,q.useState)(null),[i,l]=(0,q.useState)(null),[o,c]=(0,q.useState)(!1),d=(0,q.useRef)(null),u=t=>{if(t){if(t.size>0xa00000)return void alert("File size exceeds 10MB limit. Please choose a smaller file.");if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(t.type))return void alert("Invalid file type. Please upload PDF, JPG, or PNG only.");if(s(t),e(t),l(new Date().toLocaleString()),t.type.startsWith("image/")){let e=new FileReader;e.onloadend=()=>{n(e.result)},e.readAsDataURL(t)}else n(null)}};if(r){var m;return(0,z.jsx)(ot,{className:"border-[#E5E7EB] bg-[#F9FAFB]",children:(0,z.jsxs)("div",{className:"p-6",children:[(0,z.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,z.jsx)(oc,{className:"h-5 w-5 text-[#059669]"}),(0,z.jsx)("p",{className:"text-[#059669]",children:"File uploaded successfully"})]}),(0,z.jsxs)("div",{className:"space-y-4",children:[a&&(0,z.jsx)("div",{className:"relative w-full h-48 rounded-lg overflow-hidden border border-[#E5E7EB]",children:(0,z.jsx)("img",{src:a,alt:"Payment proof preview",className:"w-full h-full object-contain bg-white"})}),(0,z.jsx)(ot,{className:"p-4 border-[#E5E7EB] bg-white",children:(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)("div",{className:"flex-shrink-0",children:r.type.startsWith("image/")?(0,z.jsx)(dA,{className:"h-10 w-10 text-[#F15929]"}):(0,z.jsx)(K,{className:"h-10 w-10 text-[#6B7280]"})}),(0,z.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,z.jsx)("p",{className:"text-[14px] text-[#111827] truncate",children:r.name}),(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:(m=r.size)<1024?m+" B":m<1048576?(m/1024).toFixed(1)+" KB":(m/1048576).toFixed(1)+" MB"}),i&&(0,z.jsxs)("p",{className:"text-[12px] text-[#6B7280] mt-1",children:["Uploaded: ",i]})]}),(0,z.jsx)(tb,{type:"button",variant:"ghost",size:"sm",onClick:()=>{s(null),n(null),l(null),e(null),d.current&&(d.current.value="")},className:"flex-shrink-0 hover:bg-[#FEF2F2]",children:(0,z.jsx)(ea,{className:"h-4 w-4 text-[#DC2626]"})})]})})]})]})})}return(0,z.jsxs)("div",{className:`border-2 border-dashed rounded-lg p-12 text-center transition-all cursor-pointer shadow-sm ${o?"border-[#F15929] bg-[#FFF7F5]":"border-[#D1D5DB] bg-white hover:border-[#F15929] hover:bg-[#FAFAFA]"}`,onClick:()=>d.current?.click(),onDragOver:e=>{e.preventDefault(),c(!0)},onDragLeave:e=>{e.preventDefault(),c(!1)},onDrop:e=>{e.preventDefault(),c(!1),u(e.dataTransfer.files?.[0]||null)},children:[(0,z.jsx)(oo,{className:`h-16 w-16 mx-auto mb-4 ${o?"text-[#F15929]":"text-[#6B7280]"}`}),(0,z.jsx)("p",{className:"text-[#111827] mb-2",children:o?"Drop file here":"Click to upload or drag and drop"}),(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280] mb-1",children:"Upload the receipt, bank transfer slip, or payment confirmation"}),(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"PNG, JPG, PDF up to 10MB"}),(0,z.jsx)("input",{ref:d,type:"file",accept:"image/*,.pdf",className:"hidden",onChange:e=>{u(e.target.files?.[0]||null)}})]})}function Mr({open:e,onClose:t,onSubmit:r,depositInvoiceNo:s,isReupload:a=!1}){let[n,i]=(0,q.useState)(null),l=()=>{i(null),t()};return(0,z.jsx)(cQ,{open:e,onOpenChange:l,children:(0,z.jsxs)(c2,{className:"max-w-2xl",children:[(0,z.jsxs)(c4,{children:[(0,z.jsx)(c6,{className:"text-[20px]",children:"Upload Proof of Payment"}),(0,z.jsxs)("p",{className:"text-[14px] text-[#6B7280] mt-2",children:["Invoice: ",(0,z.jsx)("span",{className:"text-[#111827]",children:s})]})]}),(0,z.jsxs)("div",{className:"space-y-4 py-4",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"text-[14px] text-[#374151] mb-3 block",children:"Upload Proof of Payment Document"}),(0,z.jsx)(Mt,{onFileSelect:i,existingFile:n})]}),(0,z.jsx)("div",{className:"bg-[#F0F9FF] border border-[#BAE6FD] rounded-lg p-3",children:(0,z.jsxs)("p",{className:"text-[14px] text-[#075985]",children:[(0,z.jsx)("strong",{children:"Note:"})," Accepted file types are PDF, JPG, and PNG (max 10MB).",a?' This re-submission will move the deposit back to "Pending Approval" status for review.':' After submission, this deposit will move to "Pending Approval" status.']})})]}),(0,z.jsxs)(c5,{className:"gap-2",children:[(0,z.jsx)(tb,{variant:"outline",onClick:l,className:"border-[#D1D5DB] text-[#374151] hover:bg-[#F3F4F6]",children:"Cancel"}),(0,z.jsxs)(tb,{onClick:()=>{n&&(r(n),i(null),t())},disabled:!n,className:"bg-[#F15929] hover:bg-[#D14620] text-white disabled:opacity-50",children:[(0,z.jsx)(oo,{className:"mr-2 h-4 w-4"}),"Submit for Approval"]})]})]})})}function Ms({deposits:e,onView:t,onUploadProof:r,userRole:s}){let[a,n]=(0,q.useState)(""),[i,l]=(0,q.useState)("all"),[o,c]=(0,q.useState)(!1),[d,u]=(0,q.useState)(null),m=e.filter(e=>{let t=e.depositId.toLowerCase().includes(a.toLowerCase())||e.invoiceNo.toLowerCase().includes(a.toLowerCase())||e.customerName.toLowerCase().includes(a.toLowerCase()),r="all"===i||e.status===i;return t&&r}),h=e.filter(e=>"Pending Payment"===e.status).length,x=e.filter(e=>"Pending Approval"===e.status).length,p=e.filter(e=>"Paid"===e.status).length,f=e.filter(e=>"Paid"===e.status).reduce((e,t)=>e+t.depositAmount,0),g=e.filter(e=>"Overdue"===e.status).length;return(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"Pending Payment"})}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)("div",{className:"h-12 w-12 rounded-full bg-[#FEF3C7] flex items-center justify-center",children:(0,z.jsx)(X,{className:"h-6 w-6 text-[#F59E0B]"})}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#111827]",children:h}),(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Awaiting payment"})]})]})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"Pending Approval"})}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)("div",{className:"h-12 w-12 rounded-full bg-[#DBEAFE] flex items-center justify-center",children:(0,z.jsx)(K,{className:"h-6 w-6 text-[#3B82F6]"})}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#111827]",children:x}),(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Need review"})]})]})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"Paid Deposits"})}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)("div",{className:"h-12 w-12 rounded-full bg-[#D1FAE5] flex items-center justify-center",children:(0,z.jsx)(Z,{className:"h-6 w-6 text-[#059669]"})}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#111827]",children:p}),(0,z.jsxs)("p",{className:"text-[12px] text-[#059669]",children:["RM",f.toLocaleString()]})]})]})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-[14px] text-[#6B7280]",children:"Overdue"})}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)("div",{className:"h-12 w-12 rounded-full bg-[#FFEDD5] flex items-center justify-center",children:(0,z.jsx)(ej,{className:"h-6 w-6 text-[#EA580C]"})}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#111827]",children:g}),(0,z.jsx)("p",{className:"text-[12px] text-[#EA580C]",children:"Payment expired"})]})]})})]})]}),(0,z.jsxs)("div",{className:"flex items-center gap-4",children:[(0,z.jsxs)("div",{className:"relative flex-1 max-w-[400px]",children:[(0,z.jsx)(et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[#6B7280]"}),(0,z.jsx)(tN,{placeholder:"Search by deposit ID, invoice, or customer...",className:"pl-10 h-10 bg-white border-[#D1D5DB] rounded-md",value:a,onChange:e=>n(e.target.value)})]}),(0,z.jsxs)(cl,{value:i,onValueChange:l,children:[(0,z.jsx)(cc,{className:"w-[200px] h-10 bg-white border-[#D1D5DB] rounded-md",children:(0,z.jsx)(co,{placeholder:"Filter by status"})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"all",children:"All Status"}),(0,z.jsx)(cu,{value:"Pending Payment",children:"Pending Payment"}),(0,z.jsx)(cu,{value:"Pending Approval",children:"Pending Approval"}),(0,z.jsx)(cu,{value:"Paid",children:"Paid"}),(0,z.jsx)(cu,{value:"Rejected",children:"Rejected"}),(0,z.jsx)(cu,{value:"Overdue",children:"Overdue"})]})]})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px]",children:"Deposit List"})}),(0,z.jsx)(on,{children:(0,z.jsxs)(c8,{children:[(0,z.jsx)(c7,{children:(0,z.jsxs)(de,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,z.jsx)(dt,{children:"Invoice No."}),(0,z.jsx)(dt,{children:"Customer Name"}),(0,z.jsx)(dt,{children:"Deposit Amount"}),(0,z.jsx)(dt,{children:"Status"}),(0,z.jsx)(dt,{children:"Due Date"}),(0,z.jsx)(dt,{children:"Last Updated"}),(0,z.jsx)(dt,{className:"text-right",children:"Action"})]})}),(0,z.jsx)(c9,{children:0===m.length?(0,z.jsx)(de,{children:(0,z.jsx)(dr,{colSpan:7,className:"text-center py-8 text-[#6B7280]",children:"No deposits found"})}):m.map(e=>{let s;return(0,z.jsxs)(de,{className:"h-14 hover:bg-[#F3F4F6]",children:[(0,z.jsx)(dr,{className:"text-[#374151]",children:e.invoiceNo}),(0,z.jsx)(dr,{className:"text-[#374151]",children:e.customerName}),(0,z.jsxs)(dr,{className:"text-[#111827]",children:["RM",e.depositAmount.toLocaleString()]}),(0,z.jsx)(dr,{children:(0,z.jsx)(Me,{status:e.status})}),(0,z.jsx)(dr,{children:(0,z.jsx)("div",{className:"Overdue"===e.status?"text-[#EA580C]":"text-[#374151]",children:new Date(e.dueDate).toLocaleDateString()})}),(0,z.jsx)(dr,{className:"text-[#374151]",children:new Date(e.lastUpdated).toLocaleDateString()}),(0,z.jsx)(dr,{className:"text-right",children:(0,z.jsxs)(n1,{children:[(0,z.jsx)(n2,{asChild:!0,children:(0,z.jsx)(tb,{variant:"ghost",className:"h-8 w-8 p-0 hover:bg-[#F3F4F6]",children:(0,z.jsx)(dg,{className:"h-4 w-4 text-[#6B7280]"})})}),(0,z.jsxs)(n4,{align:"end",className:"w-[200px]",children:[(0,z.jsxs)(n5,{onClick:()=>t(e.id),children:[(0,z.jsx)(lv,{className:"mr-2 h-4 w-4"}),"View Details"]}),r&&("Pending Payment"===e.status||"Rejected"===e.status)&&(s=new Date<new Date(e.dueDate),(0,z.jsxs)(n5,{onClick:()=>{s&&(u(e),c(!0))},disabled:!s,className:s?"":"opacity-50 cursor-not-allowed",title:s?"":"Cannot upload new proof after due date",children:[(0,z.jsx)(oo,{className:"mr-2 h-4 w-4"}),"Rejected"===e.status?"Re-Upload Proof":"Upload Proof"]}))]})]})})]},e.id)})})]})})]}),o&&d&&r&&(0,z.jsx)(Mr,{open:o,onClose:()=>{c(!1),u(null)},onSubmit:e=>{r(d.id,e),c(!1),u(null)},depositInvoiceNo:d.invoiceNo,isReupload:"Rejected"===d.status})]})}function Ma({isOpen:e,onClose:t,onApprove:r,depositId:s,customerName:a,amount:n}){let[i,l]=(0,q.useState)(""),[o,c]=(0,q.useState)(""),d=()=>{l(""),c(""),t()};return(0,z.jsx)(cQ,{open:e,onOpenChange:d,children:(0,z.jsxs)(c2,{className:"sm:max-w-[500px]",children:[(0,z.jsxs)(c4,{children:[(0,z.jsxs)(c6,{className:"flex items-center gap-2",children:[(0,z.jsx)(oc,{className:"h-5 w-5 text-[#059669]"}),"Approve Payment"]}),(0,z.jsx)(c3,{children:"Enter the transaction reference ID to approve this deposit"})]}),(0,z.jsxs)("div",{className:"space-y-4 py-4",children:[(0,z.jsxs)("div",{className:"bg-[#F0FDF4] border border-[#BBF7D0] rounded-lg p-4 space-y-3",children:[(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-[14px] text-[#374151]",children:"Deposit ID:"}),(0,z.jsx)("span",{className:"text-[#111827]",children:s})]}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-[14px] text-[#374151]",children:"Customer:"}),(0,z.jsx)("span",{className:"text-[#111827]",children:a})]}),(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("span",{className:"text-[14px] text-[#374151]",children:"Amount:"}),(0,z.jsxs)("span",{className:"text-[#111827]",children:["RM",n.toLocaleString()]})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)(lN,{htmlFor:"referenceId",children:["Reference ID / Transaction ID ",(0,z.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,z.jsx)(tN,{id:"referenceId",placeholder:"Enter transaction reference ID",value:i,onChange:e=>{l(e.target.value),c("")},className:o?"border-[#DC2626]":""}),o&&(0,z.jsx)("p",{className:"text-[14px] text-[#DC2626]",children:o})]}),(0,z.jsx)("div",{className:"bg-[#FFFBEB] border border-[#FDE68A] rounded-lg p-4",children:(0,z.jsxs)("p",{className:"text-[14px] text-[#92400E]",children:[(0,z.jsx)("strong",{children:"Note:"})," Once approved, this deposit will be marked as PAID and the customer will be notified. This action cannot be undone."]})})]}),(0,z.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,z.jsx)(tb,{variant:"outline",onClick:d,className:"h-10 px-6 rounded-lg",children:"Cancel"}),(0,z.jsx)(tb,{onClick:()=>{i.trim()?(r(i),l(""),c(""),t()):c("Reference ID / Transaction ID is required")},className:"bg-[#059669] hover:bg-[#047857] text-white h-10 px-6 rounded-lg",children:"Confirm Approval"})]})]})})}function Mn({isOpen:e,onClose:t,onReject:r,depositId:s}){let[a,n]=(0,q.useState)(""),[i,l]=(0,q.useState)(""),o=()=>{n(""),l(""),t()};return(0,z.jsx)(cQ,{open:e,onOpenChange:o,children:(0,z.jsxs)(c2,{className:"sm:max-w-[500px]",children:[(0,z.jsxs)(c4,{children:[(0,z.jsxs)(c6,{className:"flex items-center gap-2",children:[(0,z.jsx)(cU,{className:"h-5 w-5 text-[#DC2626]"}),"Reject Payment"]}),(0,z.jsxs)(c3,{children:["You are about to reject the payment for deposit ",s,". Please provide a detailed reason."]})]}),(0,z.jsxs)("div",{className:"space-y-4 py-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)("label",{className:"text-[14px] text-[#374151]",children:["Rejection Reason ",(0,z.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,z.jsx)(dl,{placeholder:"Enter detailed reason for rejection (e.g., unclear payment proof, incorrect amount, expired document)...",value:a,onChange:e=>{n(e.target.value),l("")},className:"min-h-[150px] border-[#D1D5DB] rounded-md"}),i&&(0,z.jsx)("p",{className:"text-[12px] text-[#DC2626]",children:i})]}),(0,z.jsx)("div",{className:"bg-[#FEF2F2] border border-[#FEE2E2] rounded-lg p-4",children:(0,z.jsxs)("p",{className:"text-[14px] text-[#991B1B]",children:[(0,z.jsx)("strong",{children:"Important:"})," The customer will be notified of this rejection and can re-upload payment proof. Make sure to provide clear instructions on what needs to be corrected."]})})]}),(0,z.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,z.jsx)(tb,{variant:"outline",onClick:o,className:"h-10 px-6 rounded-lg",children:"Cancel"}),(0,z.jsx)(tb,{onClick:()=>{a.trim()?a.trim().length<10?l("Rejection reason must be at least 10 characters"):(r(a),n(""),l(""),t()):l("Please provide a reason for rejection")},className:"bg-[#DC2626] hover:bg-[#B91C1C] text-white h-10 px-6 rounded-lg",children:"Confirm Rejection"})]})]})})}function Mi({isOpen:e,onClose:t,document:r,title:s}){let a=r.fileType.startsWith("image/"),n="application/pdf"===r.fileType;return(0,z.jsx)(cQ,{open:e,onOpenChange:t,children:(0,z.jsxs)(c2,{className:"sm:max-w-[800px] max-h-[90vh]",children:[(0,z.jsx)(c4,{children:(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsx)(c6,{children:s}),(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsxs)(tb,{variant:"outline",size:"sm",onClick:()=>{let e=r.createElement("a");e.href=r.fileUrl,e.download=r.fileName,e.click()},className:"h-9 px-4 rounded-lg",children:[(0,z.jsx)(cY,{className:"h-4 w-4 mr-2"}),"Download"]}),(0,z.jsx)(tb,{variant:"ghost",size:"sm",onClick:t,className:"h-9 w-9 p-0",children:(0,z.jsx)(ea,{className:"h-4 w-4"})})]})]})}),(0,z.jsxs)("div",{className:"mt-4",children:[a&&(0,z.jsx)("div",{className:"bg-[#F9FAFB] rounded-lg p-4 flex items-center justify-center min-h-[400px]",children:(0,z.jsx)("img",{src:r.fileUrl,alt:r.fileName,className:"max-w-full max-h-[600px] object-contain"})}),n&&(0,z.jsx)("div",{className:"bg-[#F9FAFB] rounded-lg p-4",children:(0,z.jsx)("iframe",{src:r.fileUrl,className:"w-full h-[600px] border-0 rounded",title:r.fileName})}),(0,z.jsxs)("div",{className:"mt-4 flex items-center justify-between text-[14px] text-[#6B7280]",children:[(0,z.jsx)("span",{children:r.fileName}),(0,z.jsxs)("span",{children:[(r.fileSize/1024).toFixed(1)," KB"]})]})]})]})})}function Ml({deposit:e,onBack:t,onSubmitPayment:r,onApprove:s,onReject:a,onGenerateNewInvoice:n,onPrintReceipt:i,userRole:l}){let[o,c]=(0,q.useState)(null),[d,u]=(0,q.useState)(!1),[m,h]=(0,q.useState)(!1),[x,p]=(0,q.useState)(null),f="Customer"===l&&("Pending Payment"===e.status||"Rejected"===e.status&&!e.isOverdue),g=("Admin"===l||"Finance"===l||"Staff"===l)&&("Pending Payment"===e.status||"Rejected"===e.status)&&!e.paymentProof,v=("Admin"===l||"Finance"===l)&&"Pending Approval"===e.status,j="Customer"===l,y="Overdue"===e.status;e.status;let b=new Date<new Date(e.dueDate),N=()=>{o?(r(e.id,o),c(null)):ld.error("Please upload payment proof")},w=(e,t)=>{p({doc:e,title:t})};return(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsx)("div",{className:"flex items-center justify-between",children:(0,z.jsxs)("div",{className:"flex items-center gap-4",children:[(0,z.jsxs)(tb,{variant:"ghost",onClick:t,className:"hover:bg-[#F3F4F6]",children:[(0,z.jsx)(lC,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,z.jsxs)("div",{children:[(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)("h1",{children:e.depositId}),(0,z.jsx)(Me,{status:e.status})]}),(0,z.jsxs)("p",{className:"text-[#374151]",children:["Last updated: ",new Date(e.lastUpdated).toLocaleString()]})]})]})}),y&&j&&(0,z.jsx)(ot,{className:"border-[#EA580C] bg-[#FFF7ED]",children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(ej,{className:"h-6 w-6 text-[#EA580C] mt-0.5"}),(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsx)("p",{className:"text-[#EA580C]",children:" Payment Overdue"}),(0,z.jsx)("p",{className:"text-[14px] text-[#9A3412] mt-2",children:"The payment period has expired. You can no longer upload payment proof for this deposit."}),(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280] mt-2",children:"Please wait for the admin or finance team to issue a new invoice for this deposit."})]})]})})}),y&&("Admin"===l||"Finance"===l)&&(0,z.jsx)(ot,{className:"border-[#EA580C] bg-[#FFF7ED]",children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,z.jsx)(ej,{className:"h-6 w-6 text-[#EA580C] mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#EA580C]",children:"Payment Overdue"}),(0,z.jsx)("p",{className:"text-[14px] text-[#9A3412] mt-1",children:"Payment period has expired. Customer cannot upload proof anymore."}),(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280] mt-1",children:"Generate a new invoice to create a new deposit record for this customer."})]})]}),(0,z.jsxs)(tb,{onClick:()=>n(e.id),className:"bg-[#F15929] hover:bg-[#D14620] text-white h-10 px-6 rounded-lg flex-shrink-0",children:[(0,z.jsx)(ef,{className:"mr-2 h-4 w-4"}),"Generate New Invoice"]})]})})}),v&&(0,z.jsx)(ot,{className:"border-[#F15929] bg-[#FFF7F5]",children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#231F20]",children:"Payment Review Required"}),(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280] mt-1",children:"Customer has submitted payment proof. Please review and approve or reject."})]}),(0,z.jsxs)("div",{className:"flex gap-3",children:[(0,z.jsxs)(tb,{variant:"outline",onClick:()=>h(!0),className:"h-10 px-6 rounded-lg border-[#DC2626] text-[#DC2626] hover:bg-[#FEF2F2]",children:[(0,z.jsx)(cU,{className:"mr-2 h-4 w-4"}),"Reject"]}),(0,z.jsxs)(tb,{onClick:()=>u(!0),className:"bg-[#059669] hover:bg-[#047857] text-white h-10 px-6 rounded-lg",children:[(0,z.jsx)(oc,{className:"mr-2 h-4 w-4"}),"Approve Payment"]})]})]})})}),"Rejected"===e.status&&e.rejectionReason&&(0,z.jsx)(ot,{className:"border-[#DC2626] bg-[#FEF2F2]",children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(cU,{className:"h-5 w-5 text-[#DC2626] mt-0.5"}),(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsx)("p",{className:"text-[#991B1B]",children:"Payment Rejected"}),(0,z.jsxs)("p",{className:"text-[14px] text-[#6B7280] mt-1",children:["Rejected by ",e.rejectedBy||"Admin"," on ",new Date(e.rejectedAt||"").toLocaleDateString()]}),(0,z.jsx)("div",{className:"mt-3 p-3 bg-white rounded-lg border border-[#FEE2E2]",children:(0,z.jsxs)("p",{className:"text-[14px] text-[#111827]",children:[(0,z.jsx)("span",{className:"text-[#991B1B]",children:"Reason:"})," ",e.rejectionReason]})}),j&&(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280] mt-3",children:"Please review the reason above and re-upload the correct payment proof below."})]})]})})}),"Paid"===e.status&&(0,z.jsx)(ot,{className:"border-[#059669] bg-[#F0FDF4]",children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)(oc,{className:"h-5 w-5 text-[#059669]"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#047857]",children:"Payment Approved"}),(0,z.jsxs)("p",{className:"text-[14px] text-[#6B7280] mt-1",children:["Approved by ",e.approvedBy||"Admin"," on ",new Date(e.approvedAt||"").toLocaleDateString()]})]})]}),i&&(0,z.jsxs)(tb,{onClick:()=>i(e.id),className:"bg-[#F15929] hover:bg-[#D14620] text-white h-10 px-6 rounded-lg",children:[(0,z.jsx)(K,{className:"mr-2 h-4 w-4"}),"View Receipt"]})]}),(e.referenceId||e.transactionId)&&(0,z.jsxs)("div",{className:"bg-white rounded-lg border border-[#BBF7D0] p-4",children:[(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Reference / Transaction ID"}),(0,z.jsx)("p",{className:"text-[#111827] mt-1",children:e.referenceId||e.transactionId})]})]})})}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px]",children:"Invoice Information"})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Invoice Number"}),(0,z.jsx)("p",{className:"text-[#111827]",children:e.invoiceNo})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Customer Name"}),(0,z.jsx)("p",{className:"text-[#111827]",children:e.customerName})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Customer ID"}),(0,z.jsx)("p",{className:"text-[#111827]",children:e.customerId})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Deposit Amount"}),(0,z.jsxs)("p",{className:"text-[#111827]",children:["RM",e.depositAmount.toLocaleString()]})]})]})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px]",children:"Payment Details"})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Due Date"}),(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(Z,{className:"h-4 w-4 text-[#6B7280]"}),(0,z.jsxs)("p",{className:y?"text-[#DC2626]":"text-[#111827]",children:[new Date(e.dueDate).toLocaleDateString(),y&&" (Overdue)"]})]})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Current Status"}),(0,z.jsx)("div",{className:"mt-2",children:(0,z.jsx)(Me,{status:e.status})})]}),e.paymentSubmittedAt&&(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Payment Submitted"}),(0,z.jsx)("p",{className:"text-[#111827]",children:new Date(e.paymentSubmittedAt).toLocaleString()})]})]})]})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px]",children:"Rental Agreement"})}),(0,z.jsx)(on,{children:(0,z.jsx)(ot,{className:"border-[#E5E7EB] bg-[#F9FAFB]",children:(0,z.jsx)(on,{className:"p-4",children:(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)(K,{className:"h-10 w-10 text-[#F15929]"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[14px] text-[#111827]",children:e.agreementDocument.fileName}),(0,z.jsxs)("p",{className:"text-[12px] text-[#6B7280]",children:[(e.agreementDocument.fileSize/1024).toFixed(1)," KB"]})]})]}),(0,z.jsxs)("div",{className:"flex gap-2",children:[(0,z.jsx)(tb,{variant:"outline",size:"sm",onClick:()=>w(e.agreementDocument,"Rental Agreement"),className:"h-9 px-4 rounded-lg",children:"View"}),(0,z.jsxs)(tb,{variant:"outline",size:"sm",className:"h-9 px-4 rounded-lg",children:[(0,z.jsx)(cY,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})})})})]}),g&&(0,z.jsxs)(ot,{className:"border-[#E5E5E5] bg-white shadow-sm rounded-lg",children:[(0,z.jsxs)(or,{children:[(0,z.jsx)(os,{className:"text-[18px]",children:"Upload Proof of Payment"}),(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280] mt-2",children:"Upload payment proof such as receipt, bank slip, transfer confirmation, or any supporting evidence"})]}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsx)(Mt,{onFileSelect:c,existingFile:o}),(0,z.jsx)("div",{className:"bg-[#FFFBEB] border border-[#FDE68A] rounded-lg p-3",children:(0,z.jsxs)("p",{className:"text-[14px] text-[#92400E]",children:[(0,z.jsx)("strong",{children:"Note:"}),' Once uploaded, the status will change to "Pending Approval" for review.']})}),(0,z.jsx)("div",{className:"flex justify-end gap-3",children:(0,z.jsxs)(tb,{onClick:N,disabled:!o,className:"bg-[#F15929] hover:bg-[#D14620] text-white h-10 px-6 rounded-lg disabled:opacity-50",children:[(0,z.jsx)(oo,{className:"mr-2 h-4 w-4"}),"Submit Proof of Payment"]})})]})]}),f&&!y&&(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsxs)(or,{children:[(0,z.jsx)(os,{className:"text-[18px]",children:"Upload Payment Proof"}),(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280] mt-2",children:"Upload your payment receipt or bank transfer proof to complete this deposit payment"})]}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsx)(Mt,{onFileSelect:c,existingFile:o}),(0,z.jsx)("div",{className:"flex justify-end gap-3",children:(0,z.jsxs)(tb,{onClick:N,disabled:!o,className:"bg-[#F15929] hover:bg-[#D14620] text-white h-10 px-6 rounded-lg disabled:opacity-50",children:[(0,z.jsx)(oo,{className:"mr-2 h-4 w-4"}),"Submit Payment Proof"]})})]})]}),j&&"Rejected"===e.status&&!y&&b&&(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsxs)(or,{children:[(0,z.jsx)(os,{className:"text-[18px]",children:"Re-upload Payment Proof"}),(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280] mt-2",children:"Please upload the correct payment proof based on the rejection reason above"})]}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsx)(Mt,{onFileSelect:c,existingFile:o}),(0,z.jsx)("div",{className:"flex justify-end gap-3",children:(0,z.jsxs)(tb,{onClick:N,disabled:!o,className:"bg-[#F15929] hover:bg-[#D14620] text-white h-10 px-6 rounded-lg disabled:opacity-50",children:[(0,z.jsx)(oo,{className:"mr-2 h-4 w-4"}),"Submit for Re-Approval"]})})]})]}),j&&"Rejected"===e.status&&!b&&(0,z.jsx)(ot,{className:"border-[#DC2626] bg-[#FEF2F2]",children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(ej,{className:"h-6 w-6 text-[#DC2626] mt-0.5"}),(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsx)("p",{className:"text-[#DC2626]",children:"Cannot Re-Upload After Due Date"}),(0,z.jsxs)("p",{className:"text-[14px] text-[#991B1B] mt-2",children:["This deposit can no longer be re-submitted after the due date (",new Date(e.dueDate).toLocaleDateString(),")."]}),(0,z.jsx)("p",{className:"text-[14px] text-[#6B7280] mt-2",children:"Please contact the admin or finance team for assistance."})]})]})})}),e.paymentProof&&(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsxs)(or,{children:[(0,z.jsx)(os,{className:"text-[18px]",children:"Payment Proof"}),(0,z.jsxs)("p",{className:"text-[14px] text-[#6B7280] mt-2",children:["Submitted on ",new Date(e.paymentSubmittedAt||"").toLocaleString()]})]}),(0,z.jsx)(on,{children:(0,z.jsx)(ot,{className:"border-[#E5E7EB] bg-[#F9FAFB]",children:(0,z.jsx)(on,{className:"p-4",children:(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)(K,{className:"h-10 w-10 text-[#3B82F6]"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[14px] text-[#111827]",children:e.paymentProof.fileName}),(0,z.jsxs)("p",{className:"text-[12px] text-[#6B7280]",children:[(e.paymentProof.fileSize/1024).toFixed(1)," KB"]})]})]}),(0,z.jsxs)("div",{className:"flex gap-2",children:[(0,z.jsx)(tb,{variant:"outline",size:"sm",onClick:()=>w(e.paymentProof,"Payment Proof"),className:"h-9 px-4 rounded-lg",children:"View"}),(0,z.jsxs)(tb,{variant:"outline",size:"sm",className:"h-9 px-4 rounded-lg",children:[(0,z.jsx)(cY,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})})})})]}),e.linkedToNewInvoice&&(0,z.jsx)(ot,{className:"border-[#E5E7EB] bg-[#F0FDF4]",children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)(oc,{className:"h-5 w-5 text-[#059669]"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-[#047857]",children:"New Invoice Generated"}),(0,z.jsxs)("p",{className:"text-[14px] text-[#6B7280] mt-1",children:["This overdue deposit has been linked to new invoice: ",(0,z.jsx)("span",{className:"text-[#111827]",children:e.linkedToNewInvoice})]})]})]})})}),(0,z.jsx)(Ma,{isOpen:d,onClose:()=>u(!1),onApprove:t=>{s(e.id,t)},depositId:e.depositId,customerName:e.customerName,amount:e.depositAmount}),(0,z.jsx)(Mn,{isOpen:m,onClose:()=>h(!1),onReject:t=>{a(e.id)},depositId:e.depositId}),x&&(0,z.jsx)(Mi,{isOpen:!0,onClose:()=>p(null),document:x.doc,title:x.title})]})}function Mo({deposit:e,onBack:t}){let r=(0,q.useRef)(null),s=e.rentalItems?.reduce((e,t)=>e+t.totalPrice,0)||e.depositAmount;return(0,z.jsxs)("div",{className:"p-6",children:[(0,z.jsxs)("div",{className:"flex justify-between items-center mb-6 print:hidden",children:[(0,z.jsx)("h1",{className:"text-[#231F20]",children:"Deposit Receipt - Print Preview"}),(0,z.jsxs)("div",{className:"flex gap-2",children:[(0,z.jsxs)(tb,{variant:"outline",onClick:t,children:[(0,z.jsx)(ea,{className:"size-4 mr-2"}),"Close"]}),(0,z.jsxs)(tb,{onClick:()=>{window.print()},className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,z.jsx)(pk,{className:"size-4 mr-2"}),"Print"]})]})]}),(0,z.jsx)(ot,{className:"max-w-4xl mx-auto",children:(0,z.jsxs)(on,{className:"p-12",ref:r,children:[(0,z.jsx)("div",{className:"border-b-4 border-[#F15929] pb-6 mb-6",children:(0,z.jsxs)("div",{className:"flex justify-between items-start",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("h1",{className:"text-[#231F20] mb-2",children:"POWER METAL & STEEL"}),(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Scaffolding Equipment Supplier"}),(0,z.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:["123 Industrial Park, Johor Bahru",(0,z.jsx)("br",{}),"Johor, Malaysia 81200",(0,z.jsx)("br",{}),"Tel: +60 12-345 6789",(0,z.jsx)("br",{}),"Email: info@powermetalsteel.com"]})]}),(0,z.jsxs)("div",{className:"text-right",children:[(0,z.jsx)("h2",{className:"text-[#231F20] mb-4",children:"DEPOSIT RECEIPT"}),(0,z.jsxs)("div",{className:"text-sm space-y-1",children:[(0,z.jsxs)("p",{children:[(0,z.jsx)("strong",{children:"Receipt No:"})," ",e.depositReceipt?.receiptNumber||"RCP-"+e.depositId]}),(0,z.jsxs)("p",{children:[(0,z.jsx)("strong",{children:"Receipt Date:"})," ",e.depositReceipt?.receiptDate?new Date(e.depositReceipt.receiptDate).toLocaleDateString():new Date().toLocaleDateString()]}),(0,z.jsxs)("p",{children:[(0,z.jsx)("strong",{children:"Invoice No:"})," ",e.invoiceNo]})]})]})]})}),(0,z.jsxs)("div",{className:"mb-6 flex items-center gap-3",children:[(0,z.jsx)(oc,{className:"size-6 text-green-600"}),(0,z.jsx)(cZ,{className:"bg-green-100 text-green-800 px-4 py-2 text-base",children:"PAID"})]}),(0,z.jsxs)("div",{className:"mb-8",children:[(0,z.jsx)("h3",{className:"text-sm text-gray-600 mb-2",children:"CUSTOMER DETAILS:"}),(0,z.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,z.jsxs)("p",{className:"text-[#231F20]",children:[(0,z.jsx)("strong",{children:"Name:"})," ",e.customerName]}),(0,z.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[(0,z.jsx)("strong",{children:"Customer ID:"})," ",e.customerId]})]})]}),e.rentalItems&&e.rentalItems.length>0&&(0,z.jsxs)("div",{className:"mb-8",children:[(0,z.jsx)("h3",{className:"text-sm text-gray-600 mb-3",children:"RENTAL ITEM DETAILS:"}),(0,z.jsxs)("table",{className:"w-full border-collapse",children:[(0,z.jsx)("thead",{children:(0,z.jsxs)("tr",{className:"border-b-2 border-gray-300",children:[(0,z.jsx)("th",{className:"text-left py-3 px-2 text-sm text-[#231F20]",children:"Item Name"}),(0,z.jsx)("th",{className:"text-right py-3 px-2 text-sm text-[#231F20]",children:"Quantity"}),(0,z.jsx)("th",{className:"text-right py-3 px-2 text-sm text-[#231F20]",children:"Unit Price (RM)"}),(0,z.jsx)("th",{className:"text-right py-3 px-2 text-sm text-[#231F20]",children:"Total Price (RM)"})]})}),(0,z.jsx)("tbody",{children:e.rentalItems.map(e=>(0,z.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,z.jsx)("td",{className:"py-3 px-2 text-sm",children:e.itemName}),(0,z.jsx)("td",{className:"py-3 px-2 text-sm text-right",children:e.quantity}),(0,z.jsx)("td",{className:"py-3 px-2 text-sm text-right",children:e.unitPrice.toFixed(2)}),(0,z.jsx)("td",{className:"py-3 px-2 text-sm text-right",children:e.totalPrice.toFixed(2)})]},e.id))})]})]}),(0,z.jsx)("div",{className:"flex justify-end mb-8",children:(0,z.jsxs)("div",{className:"w-80 space-y-3",children:[(0,z.jsxs)("div",{className:"flex justify-between pb-2",children:[(0,z.jsx)("span",{className:"text-sm text-gray-600",children:"Subtotal:"}),(0,z.jsxs)("span",{className:"text-sm text-[#231F20]",children:["RM ",s.toFixed(2)]})]}),(0,z.jsxs)("div",{className:"flex justify-between pt-2 border-t-2 border-gray-300",children:[(0,z.jsx)("span",{className:"text-[#231F20]",children:"Deposit Amount Paid:"}),(0,z.jsxs)("span",{className:"text-[#F15929]",children:["RM ",e.depositAmount.toFixed(2)]})]})]})}),(0,z.jsx)("div",{className:"mb-8 p-4 bg-green-50 rounded-lg border-2 border-green-200",children:(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Payment Status:"}),(0,z.jsx)("p",{className:"text-green-600 mt-1",children:"PAID"})]}),e.approvedBy&&(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Approved By:"}),(0,z.jsx)("p",{className:"text-sm text-[#231F20] mt-1",children:e.approvedBy})]}),e.approvedAt&&(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Approved On:"}),(0,z.jsx)("p",{className:"text-sm text-[#231F20] mt-1",children:new Date(e.approvedAt).toLocaleDateString()})]}),e.paymentSubmittedAt&&(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"Payment Submitted:"}),(0,z.jsx)("p",{className:"text-sm text-[#231F20] mt-1",children:new Date(e.paymentSubmittedAt).toLocaleDateString()})]})]})}),(0,z.jsx)("div",{className:"mb-8 p-4 bg-blue-50 rounded-lg border border-blue-200",children:(0,z.jsxs)("p",{className:"text-sm text-blue-900",children:[(0,z.jsx)("strong",{children:"Official Note:"})," This receipt is generated upon confirmation of deposit payment."]})}),(0,z.jsx)("div",{className:"pt-8 border-t border-gray-300",children:(0,z.jsxs)("div",{className:"text-center text-sm text-gray-500",children:[(0,z.jsx)("p",{children:"Thank you for your business"}),(0,z.jsx)("p",{className:"mt-2",children:"This is a computer-generated document. No signature is required."})]})}),(0,z.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[(0,z.jsx)("h4",{className:"text-xs text-gray-600 mb-2",children:"TERMS & CONDITIONS:"}),(0,z.jsxs)("ul",{className:"text-xs text-gray-500 space-y-1",children:[(0,z.jsx)("li",{children:" This deposit is refundable upon return of equipment in good condition."}),(0,z.jsx)("li",{children:" Deposit will be forfeited if equipment is not returned within the agreed period."}),(0,z.jsx)("li",{children:" Any damage to equipment will be deducted from the deposit amount."}),(0,z.jsx)("li",{children:" Refund processing may take 7-14 business days after equipment inspection."})]})]}),(0,z.jsx)("div",{className:"mt-8 pt-4 border-t border-gray-300 text-center",children:(0,z.jsx)("p",{className:"text-xs text-gray-500",children:"Power Metal & Steel | www.powermetalsteel.com | Customer Service: +60 12-345 6789"})})]})}),(0,z.jsx)("style",{children:`
        @media print {
          body * {
            visibility: hidden;
          }
          ${r.current?"#print-area, #print-area *":""} {
            visibility: visible;
          }
          .print\\:hidden {
            display: none !important;
          }
          @page {
            margin: 1cm;
            size: A4;
          }
        }
      `})]})}let Mc=[{id:"7",depositId:"DEP-2024-007",invoiceNo:"INV-2024-051",customerName:"Sunrise Holdings",customerId:"CUST-007",agreementDocument:{id:"doc-7",fileName:"rental_agreement_sunrise.pdf",fileUrl:"#",fileSize:485632,fileType:"application/pdf",uploadedAt:"2024-12-05T08:20:00Z"},depositAmount:10800,status:"Pending Payment",dueDate:"2025-12-25",lastUpdated:"2024-12-09T08:15:00Z",createdAt:"2024-12-05T08:20:00Z"},{id:"3",depositId:"DEP-2024-003",invoiceNo:"INV-2024-047",customerName:"Metro Builders",customerId:"CUST-003",agreementDocument:{id:"doc-3",fileName:"rental_agreement_metro.pdf",fileUrl:"#",fileSize:498688,fileType:"application/pdf",uploadedAt:"2024-11-08T14:00:00Z"},depositAmount:18500,status:"Pending Payment",dueDate:"2025-12-25",lastUpdated:"2024-12-09T10:30:00Z",createdAt:"2024-11-08T14:00:00Z"},{id:"1",depositId:"DEP-2024-001",invoiceNo:"INV-2024-045",customerName:"Acme Construction Ltd.",customerId:"CUST-001",agreementDocument:{id:"doc-1",fileName:"rental_agreement_acme.pdf",fileUrl:"#",fileSize:524288,fileType:"application/pdf",uploadedAt:"2024-11-01T09:00:00Z"},depositAmount:15e3,status:"Paid",dueDate:"2024-11-15",lastUpdated:"2024-11-10T14:30:00Z",createdAt:"2024-11-01T09:00:00Z",paymentProof:{id:"proof-1",fileName:"payment_receipt_acme.jpg",fileUrl:"#",fileSize:245600,fileType:"image/jpeg",uploadedAt:"2024-11-08T10:15:00Z"},paymentSubmittedAt:"2024-11-08T10:15:00Z",approvedBy:"Jane Doe (Finance Manager)",approvedAt:"2024-11-10T14:30:00Z",referenceId:"TXN-2024-ACM-15000",rentalItems:[{id:"dep-item-1",itemName:"Standard Frame 1.8m x 1.2m",quantity:50,unitPrice:15,totalPrice:750},{id:"dep-item-2",itemName:"Cross Brace 1.8m",quantity:100,unitPrice:8,totalPrice:800},{id:"dep-item-3",itemName:"Base Jack (Adjustable)",quantity:60,unitPrice:12,totalPrice:720}],depositReceipt:{id:"rcpt-1",receiptNumber:"RCP-DEP-2024-001",receiptDate:"2024-11-10T14:30:00Z",generatedAt:"2024-11-10T14:30:00Z"}},{id:"2",depositId:"DEP-2024-002",invoiceNo:"INV-2024-046",customerName:"BuildRight Inc.",customerId:"CUST-002",agreementDocument:{id:"doc-2",fileName:"rental_agreement_buildright.pdf",fileUrl:"#",fileSize:612352,fileType:"application/pdf",uploadedAt:"2024-11-05T11:20:00Z"},depositAmount:22e3,status:"Pending Approval",dueDate:"2024-11-20",lastUpdated:"2024-11-12T09:45:00Z",createdAt:"2024-11-05T11:20:00Z",paymentProof:{id:"proof-2",fileName:"bank_transfer_proof.pdf",fileUrl:"#",fileSize:189440,fileType:"application/pdf",uploadedAt:"2024-11-12T09:45:00Z"},paymentSubmittedAt:"2024-11-12T09:45:00Z"},{id:"4",depositId:"DEP-2024-004",invoiceNo:"INV-2024-048",customerName:"Premium Projects",customerId:"CUST-004",agreementDocument:{id:"doc-4",fileName:"rental_agreement_premium.pdf",fileUrl:"#",fileSize:551936,fileType:"application/pdf",uploadedAt:"2024-11-10T16:30:00Z"},depositAmount:12750,status:"Rejected",dueDate:"2024-11-18",lastUpdated:"2024-11-15T11:20:00Z",createdAt:"2024-11-10T16:30:00Z",paymentProof:{id:"proof-4",fileName:"payment_screenshot.jpg",fileUrl:"#",fileSize:152600,fileType:"image/jpeg",uploadedAt:"2024-11-14T08:30:00Z"},paymentSubmittedAt:"2024-11-14T08:30:00Z",rejectedBy:"Robert Lee (Admin)",rejectedAt:"2024-11-15T11:20:00Z",rejectionReason:"The payment proof image is unclear and the transaction details are not visible. Please upload a clearer image showing the full transaction details including date, amount, and reference number."},{id:"5",depositId:"DEP-2024-005",invoiceNo:"INV-2024-049",customerName:"Steel Masters Co.",customerId:"CUST-005",agreementDocument:{id:"doc-5",fileName:"rental_agreement_steelmasters.pdf",fileUrl:"#",fileSize:478208,fileType:"application/pdf",uploadedAt:"2024-11-02T10:00:00Z"},depositAmount:31200,status:"Pending Payment",dueDate:"2024-11-27",lastUpdated:"2024-11-02T10:00:00Z",createdAt:"2024-11-02T10:00:00Z"},{id:"6",depositId:"DEP-2024-006",invoiceNo:"INV-2024-050",customerName:"Urban Construction",customerId:"CUST-006",agreementDocument:{id:"doc-6",fileName:"rental_agreement_urban.pdf",fileUrl:"#",fileSize:522240,fileType:"application/pdf",uploadedAt:"2024-10-28T13:15:00Z"},depositAmount:9500,status:"Pending Payment",dueDate:"2024-11-10",lastUpdated:"2024-10-28T13:15:00Z",createdAt:"2024-10-28T13:15:00Z"}];function Md({userRole:e="Admin"}){let[t,r]=(0,q.useState)("list"),[s,a]=(0,q.useState)(Mc),[n,i]=(0,q.useState)(null),[l,o]=(0,q.useState)(!1),[c,d]=(0,q.useState)(null),[u,m]=(0,q.useState)(!1),[h,x]=(0,q.useState)(null);(0,q.useEffect)(()=>{let e=localStorage.getItem("deposits");if(e)try{let t=JSON.parse(e);t&&t.length>0?a(t):a(Mc)}catch(e){console.error("Failed to load deposits from storage"),a(Mc)}else a(Mc)},[]),(0,q.useEffect)(()=>{localStorage.setItem("deposits",JSON.stringify(s))},[s]),(0,q.useEffect)(()=>{let e=()=>{let e=new Date;e.setHours(0,0,0,0);let t=s.map(t=>{if("Pending Payment"===t.status&&!t.paymentProof){let r=new Date(t.dueDate);if(r.setHours(0,0,0,0),r<e)return{...t,status:"Overdue",isOverdue:!0,lastUpdated:new Date().toISOString()}}return t});t.some((e,t)=>e.status!==s[t].status)&&a(t)};e();let t=setInterval(e,6e4);return()=>clearInterval(t)},[s]);let p=n?s.find(e=>e.id===n):null,f=()=>{r("list"),i(null)},g=(e,t)=>{let n=new Date().toISOString(),i={id:`proof-${Date.now()}`,fileName:t.name,fileUrl:URL.createObjectURL(t),fileSize:t.size,fileType:t.type,uploadedAt:n};a(s.map(t=>t.id===e?{...t,status:"Pending Approval",paymentProof:i,paymentSubmittedAt:n,lastUpdated:n,rejectedBy:void 0,rejectedAt:void 0,rejectionReason:void 0}:t));let l=s.find(t=>t.id===e);l?.status==="Rejected"?ld.success("Payment proof re-submitted for approval"):ld.success("Payment proof submitted successfully"),r("list")},v=e=>{i(e),r("receipt")};return(0,z.jsxs)("div",{className:"space-y-6",children:["list"===t&&(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)("h1",{children:"Manage Deposits"}),(0,z.jsx)("p",{className:"text-[#374151]",children:"Track and manage deposit payments, rental agreements, and payment approvals"})]}),(0,z.jsxs)(tb,{onClick:()=>{localStorage.removeItem("deposits"),a(Mc),ld.success("Data reset to sample deposits")},variant:"outline",className:"border-[#D1D5DB] text-[#374151] hover:bg-[#F3F4F6]",children:[(0,z.jsx)(J,{className:"mr-2 h-4 w-4"}),"Reset Sample Data"]})]}),"list"===t&&(0,z.jsx)(Ms,{deposits:s,onView:e=>{i(e),r("details")},onUploadProof:g,userRole:e}),"details"===t&&p&&(0,z.jsx)(Ml,{deposit:p,onBack:f,onSubmitPayment:g,onApprove:(e,t)=>{let n=new Date().toISOString(),i=`RCP-${s.find(t=>t.id===e)?.depositId||"DEP-XXXX"}`,l={id:`rcpt-${Date.now()}`,receiptNumber:i,receiptDate:n,generatedAt:n};a(s.map(r=>r.id===e?{...r,status:"Paid",approvedBy:"Current User (Admin)",approvedAt:n,lastUpdated:n,referenceId:t,depositReceipt:l}:r)),ld.success("Payment approved successfully"),x(e),m(!0),r("list")},onReject:(e,t)=>{let n=new Date().toISOString();a(s.map(r=>r.id===e?{...r,status:"Rejected",rejectedBy:"Current User (Admin)",rejectedAt:n,rejectionReason:t,lastUpdated:n}:r)),ld.error("Payment rejected"),r("list")},onGenerateNewInvoice:e=>{d(e),o(!0)},onPrintReceipt:v,userRole:e}),"receipt"===t&&p&&(0,z.jsx)(Mo,{deposit:p,onBack:f}),(0,z.jsx)(iZ,{open:l,onOpenChange:o,children:(0,z.jsxs)(i0,{children:[(0,z.jsxs)(i1,{children:[(0,z.jsx)(i4,{children:"Generate New Invoice"}),(0,z.jsx)(i5,{children:'This will create a new invoice for the overdue deposit. The current deposit record will remain as "Overdue" for historical tracking, and a new deposit record will be created for the customer.'})]}),(0,z.jsxs)(i2,{children:[(0,z.jsx)(i3,{children:"Cancel"}),(0,z.jsx)(i6,{onClick:()=>{if(!c||!s.find(e=>e.id===c))return;let e=`INV-2024-${String(Date.now()).slice(-3)}`;a(s.map(t=>t.id===c?{...t,linkedToNewInvoice:e,lastUpdated:new Date().toISOString()}:t)),ld.success(`New invoice ${e} generated successfully`),o(!1),d(null),r("list")},className:"bg-[#F15929] hover:bg-[#D14620] text-white",children:"Generate Invoice"})]})]})}),(0,z.jsx)(iZ,{open:u,onOpenChange:m,children:(0,z.jsxs)(i0,{children:[(0,z.jsxs)(i1,{children:[(0,z.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,z.jsx)("div",{className:"size-12 rounded-full bg-green-100 flex items-center justify-center",children:(0,z.jsx)(oc,{className:"size-6 text-green-600"})}),(0,z.jsx)("div",{children:(0,z.jsx)(i4,{children:"Payment Approved"})})]}),(0,z.jsxs)(i5,{className:"space-y-2",children:[(0,z.jsx)("p",{children:"A deposit receipt has been automatically generated and attached to this record."}),(0,z.jsx)("p",{className:"text-sm text-gray-500",children:"You can now view and print the deposit receipt."})]})]}),(0,z.jsxs)(i2,{children:[(0,z.jsxs)(i6,{onClick:()=>{m(!1),h&&v(h)},className:"bg-[#F15929] hover:bg-[#D14620] text-white",children:[(0,z.jsx)(K,{className:"size-4 mr-2"}),"View Receipt"]}),(0,z.jsx)(i6,{onClick:()=>m(!1),className:"bg-gray-500 hover:bg-gray-600 text-white",children:"Close"})]})]})})]})}let Mu=Y("file-down",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);function Mm(...e){return tv(ek(e))}function Mh({records:e}){return(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)("h3",{className:"text-xl",children:"Deposit Records"}),(0,z.jsx)("div",{className:"border rounded-lg",children:(0,z.jsxs)(c8,{children:[(0,z.jsx)(c7,{children:(0,z.jsxs)(de,{children:[(0,z.jsx)(dt,{children:"Invoice No"}),(0,z.jsx)(dt,{children:"Customer"}),(0,z.jsx)(dt,{children:"Deposit Amount"}),(0,z.jsx)(dt,{children:"Status"}),(0,z.jsx)(dt,{children:"Proof Uploaded"}),(0,z.jsx)(dt,{children:"Date"})]})}),(0,z.jsx)(c9,{children:e.map(e=>(0,z.jsxs)(de,{children:[(0,z.jsx)(dr,{children:e.invoiceNo}),(0,z.jsx)(dr,{children:e.customer}),(0,z.jsxs)(dr,{children:["RM ",e.depositAmount.toLocaleString()]}),(0,z.jsx)(dr,{children:(e=>{switch(e){case"Paid":return(0,z.jsx)(cZ,{className:"bg-green-600 hover:bg-green-700",children:"Paid"});case"Pending Approval":return(0,z.jsx)(cZ,{className:"bg-blue-600 hover:bg-blue-700",children:"Pending Approval"});case"Overdue":return(0,z.jsx)(cZ,{className:"bg-red-600 hover:bg-red-700",children:"Overdue"})}})(e.status)}),(0,z.jsx)(dr,{children:e.proofUploaded?(0,z.jsx)(oc,{className:"h-5 w-5 text-green-600"}):(0,z.jsx)(cU,{className:"h-5 w-5 text-red-600"})}),(0,z.jsx)(dr,{children:e.date})]},e.invoiceNo))})]})})]})}function Mx({records:e}){return(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)("h3",{className:"text-xl",children:"Monthly Billing"}),(0,z.jsx)("div",{className:"border rounded-lg",children:(0,z.jsxs)(c8,{children:[(0,z.jsx)(c7,{children:(0,z.jsxs)(de,{children:[(0,z.jsx)(dt,{children:"Invoice No"}),(0,z.jsx)(dt,{children:"Project"}),(0,z.jsx)(dt,{children:"Billing Month"}),(0,z.jsx)(dt,{children:"Amount"}),(0,z.jsx)(dt,{children:"Status"}),(0,z.jsx)(dt,{children:"Items Returned?"}),(0,z.jsx)(dt,{children:"Due Date"}),(0,z.jsx)(dt,{children:"Payment Proof"})]})}),(0,z.jsx)(c9,{children:e.map(e=>(0,z.jsxs)(de,{children:[(0,z.jsx)(dr,{children:e.invoiceNo}),(0,z.jsx)(dr,{children:e.project}),(0,z.jsx)(dr,{children:e.billingMonth}),(0,z.jsxs)(dr,{children:["RM ",e.amount.toLocaleString()]}),(0,z.jsx)(dr,{children:(e=>{switch(e){case"Paid":return(0,z.jsx)(cZ,{className:"bg-green-600 hover:bg-green-700",children:"Paid"});case"Pending Payment":return(0,z.jsx)(cZ,{className:"bg-blue-600 hover:bg-blue-700",children:"Pending Payment"});case"Overdue":return(0,z.jsx)(cZ,{className:"bg-red-600 hover:bg-red-700",children:"Overdue"})}})(e.status)}),(0,z.jsx)(dr,{children:e.itemsReturned?(0,z.jsx)(oc,{className:"h-5 w-5 text-green-600"}):(0,z.jsx)(cU,{className:"h-5 w-5 text-gray-400"})}),(0,z.jsx)(dr,{children:e.dueDate}),(0,z.jsx)(dr,{children:e.paymentProof?(0,z.jsx)(oc,{className:"h-5 w-5 text-green-600"}):(0,z.jsx)(cU,{className:"h-5 w-5 text-red-600"})})]},e.invoiceNo))})]})})]})}function Mp({records:e}){return(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)("h3",{className:"text-xl",children:"Credit Notes"}),(0,z.jsx)("div",{className:"border rounded-lg",children:(0,z.jsxs)(c8,{children:[(0,z.jsx)(c7,{children:(0,z.jsxs)(de,{children:[(0,z.jsx)(dt,{children:"CN No"}),(0,z.jsx)(dt,{children:"Invoice No"}),(0,z.jsx)(dt,{children:"Customer"}),(0,z.jsx)(dt,{children:"Item"}),(0,z.jsx)(dt,{children:"Quantity Adjusted"}),(0,z.jsx)(dt,{children:"Price Adjusted"}),(0,z.jsx)(dt,{children:"Reason"}),(0,z.jsx)(dt,{children:"Status"})]})}),(0,z.jsx)(c9,{children:e.map(e=>(0,z.jsxs)(de,{children:[(0,z.jsx)(dr,{children:e.cnNo}),(0,z.jsx)(dr,{children:e.invoiceNo}),(0,z.jsx)(dr,{children:e.customer}),(0,z.jsx)(dr,{children:e.item}),(0,z.jsx)(dr,{children:e.quantityAdjusted}),(0,z.jsx)(dr,{children:e.priceAdjusted}),(0,z.jsx)(dr,{children:e.reason}),(0,z.jsx)(dr,{children:(e=>{switch(e){case"Paid":return(0,z.jsx)(cZ,{className:"bg-green-600 hover:bg-green-700",children:"Paid"});case"Pending Approval":return(0,z.jsx)(cZ,{className:"bg-blue-600 hover:bg-blue-700",children:"Pending Approval"});case"Rejected":return(0,z.jsx)(cZ,{className:"bg-red-600 hover:bg-red-700",children:"Rejected"})}})(e.status)})]},e.cnNo))})]})})]})}let Mf=[{invoiceNo:"DEP-1001",customer:"Alpha Construction",depositAmount:5e3,status:"Paid",proofUploaded:!0,date:"12-Jan-2025"},{invoiceNo:"DEP-1002",customer:"Beta Builders",depositAmount:3200,status:"Pending Approval",proofUploaded:!0,date:"14-Jan-2025"},{invoiceNo:"DEP-1003",customer:"Citra Engineering",depositAmount:4500,status:"Overdue",proofUploaded:!1,date:"10-Jan-2025"},{invoiceNo:"DEP-1004",customer:"Alpha Construction",depositAmount:7200,status:"Paid",proofUploaded:!0,date:"15-Jan-2025"},{invoiceNo:"DEP-1005",customer:"KL Tower Project",depositAmount:1e4,status:"Paid",proofUploaded:!0,date:"18-Jan-2025"}],Mg=[{invoiceNo:"INV-2001",project:"KL Tower Project",billingMonth:"Month 1",amount:2400,status:"Paid",itemsReturned:!1,dueDate:"30-Jan-2025",paymentProof:!0},{invoiceNo:"INV-2002",project:"PJ Mall",billingMonth:"Month 1",amount:1800,status:"Pending Payment",itemsReturned:!1,dueDate:"31-Jan-2025",paymentProof:!1},{invoiceNo:"INV-3001",project:"KL Tower Project",billingMonth:"Month 2",amount:2400,status:"Paid",itemsReturned:!1,dueDate:"28-Feb-2025",paymentProof:!0},{invoiceNo:"INV-3002",project:"PJ Mall",billingMonth:"Month 2",amount:1800,status:"Overdue",itemsReturned:!1,dueDate:"28-Feb-2025",paymentProof:!1},{invoiceNo:"INV-4001",project:"Alpha Construction",billingMonth:"Month 1",amount:3200,status:"Paid",itemsReturned:!1,dueDate:"25-Jan-2025",paymentProof:!0}],Mv=[{cnNo:"CN-001",invoiceNo:"INV-2001",customer:"KL Tower Project",item:"Steel Pipe",quantityAdjusted:"10  8",priceAdjusted:"RM 200  RM 160",reason:"Item damaged",status:"Pending Approval"},{cnNo:"CN-002",invoiceNo:"INV-2002",customer:"PJ Mall",item:"Scaffold Set",quantityAdjusted:"5  5",priceAdjusted:"RM 500  RM 450",reason:"Price correction",status:"Rejected"},{cnNo:"CN-003",invoiceNo:"INV-3001",customer:"KL Tower Project",item:"Frame Set",quantityAdjusted:"2  1",priceAdjusted:"RM 400  RM 200",reason:"Customer return",status:"Paid"},{cnNo:"CN-004",invoiceNo:"INV-4001",customer:"Alpha Construction",item:"Clamp",quantityAdjusted:"50  45",priceAdjusted:"RM 150  RM 135",reason:"Incorrect quantity delivered",status:"Paid"},{cnNo:"CN-005",invoiceNo:"INV-2002",customer:"PJ Mall",item:"Base Jack",quantityAdjusted:"20  18",priceAdjusted:"RM 300  RM 270",reason:"Damaged during transport",status:"Pending Approval"}];function Mj({reportType:e,statusFilter:t,customerFilter:r,dateFrom:s,dateTo:a}){let n=e=>"all"===t||({paid:["Paid"],pending:["Pending Payment","Pending Approval"],overdue:["Overdue"],rejected:["Rejected"],"pending-approval":["Pending Approval"]})[t]?.includes(e),i=e=>"all"===r||({"alpha-construction":["Alpha Construction"],"beta-builders":["Beta Builders"],"citra-engineering":["Citra Engineering"],"kl-tower":["KL Tower Project"],"pj-mall":["PJ Mall"]})[r]?.includes(e),l=Mf.filter(e=>n(e.status)&&i(e.customer)),o=Mg.filter(e=>n(e.status)&&i(e.project)),c=Mv.filter(e=>n(e.status)&&i(e.customer)),d=l.reduce((e,t)=>e+t.depositAmount,0),u=l.filter(e=>"Paid"===e.status).reduce((e,t)=>e+t.depositAmount,0),m=o.reduce((e,t)=>e+t.amount,0),h=o.filter(e=>"Paid"===e.status).reduce((e,t)=>e+t.amount,0);return(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)(ot,{children:[(0,z.jsxs)(or,{children:[(0,z.jsx)(os,{style:{color:"#231F20"},children:"all"===e?"Consolidated Financial Report":"deposit"===e?"Deposit Report":"monthly-billing"===e?"Monthly Billing Report":"Credit Note Report"}),(0,z.jsxs)("div",{className:"text-sm text-gray-600",children:["Generated on: ",uq(new Date,"PPP p"),s&&a&&(0,z.jsxs)("span",{className:"ml-4",children:["Period: ",uq(s,"PP")," - ",uq(a,"PP")]})]})]}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-sm",children:"Total Deposits"})}),(0,z.jsxs)(on,{children:[(0,z.jsxs)("div",{className:"text-2xl",style:{color:"#F15929"},children:["RM ",d.toLocaleString()]}),(0,z.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:[l.length," record(s)"]})]})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-sm",children:"Deposits Paid"})}),(0,z.jsxs)(on,{children:[(0,z.jsxs)("div",{className:"text-2xl text-green-600",children:["RM ",u.toLocaleString()]}),(0,z.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:[l.filter(e=>"Paid"===e.status).length," record(s)"]})]})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-sm",children:"Total Monthly Billing"})}),(0,z.jsxs)(on,{children:[(0,z.jsxs)("div",{className:"text-2xl",style:{color:"#F15929"},children:["RM ",m.toLocaleString()]}),(0,z.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:[o.length," invoice(s)"]})]})]}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{className:"pb-2",children:(0,z.jsx)(os,{className:"text-sm",children:"Billing Paid"})}),(0,z.jsxs)(on,{children:[(0,z.jsxs)("div",{className:"text-2xl text-green-600",children:["RM ",h.toLocaleString()]}),(0,z.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:[o.filter(e=>"Paid"===e.status).length," invoice(s)"]})]})]})]})})]}),("all"===e||"deposit"===e)&&l.length>0&&(0,z.jsx)(ot,{children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsx)(Mh,{records:l})})}),("all"===e||"monthly-billing"===e)&&o.length>0&&(0,z.jsx)(ot,{children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsx)(Mx,{records:o})})}),("all"===e||"credit-note"===e)&&c.length>0&&(0,z.jsx)(ot,{children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsx)(Mp,{records:c})})}),0===l.length&&0===o.length&&0===c.length&&(0,z.jsx)(ot,{children:(0,z.jsx)(on,{className:"py-8 text-center text-gray-500",children:"No records found matching the selected filters."})})]})}function My({reportType:e,statusFilter:t,customerFilter:r,dateFrom:s,dateTo:a,onClose:n}){let i=e=>"all"===t||({paid:["Paid"],pending:["Pending Payment","Pending Approval"],overdue:["Overdue"],rejected:["Rejected"],"pending-approval":["Pending Approval"]})[t]?.includes(e),l=e=>"all"===r||({"alpha-construction":["Alpha Construction"],"beta-builders":["Beta Builders"],"citra-engineering":["Citra Engineering"],"kl-tower":["KL Tower Project"],"pj-mall":["PJ Mall"]})[r]?.includes(e),o=Mf.filter(e=>i(e.status)&&l(e.customer)),c=Mg.filter(e=>i(e.status)&&l(e.project)),d=Mv.filter(e=>i(e.status)&&l(e.customer));return(0,z.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,z.jsx)("div",{className:"print:hidden fixed top-4 right-4 z-50",children:(0,z.jsxs)(tb,{variant:"outline",onClick:n,children:[(0,z.jsx)(ea,{className:"h-4 w-4 mr-2"}),"Close Print Preview"]})}),(0,z.jsxs)("div",{className:"max-w-[210mm] mx-auto p-8 print:p-0",children:[(0,z.jsx)("div",{className:"mb-8 pb-4 border-b-2",style:{borderColor:"#231F20"},children:(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("h1",{className:"text-3xl mb-1",style:{color:"#F15929"},children:"Power Metal & Steel"}),(0,z.jsx)("p",{className:"text-sm text-gray-600",children:"ERP & CRM System"})]}),(0,z.jsxs)("div",{className:"text-right",children:[(0,z.jsx)("h2",{className:"text-xl",style:{color:"#231F20"},children:"all"===e?"Consolidated Report":"deposit"===e?"Deposit Report":"monthly-billing"===e?"Monthly Billing Report":"Credit Note Report"}),(0,z.jsxs)("p",{className:"text-sm text-gray-600",children:["Generated: ",uq(new Date,"PPP p")]}),s&&a&&(0,z.jsxs)("p",{className:"text-sm text-gray-600",children:["Period: ",uq(s,"PP")," - ",uq(a,"PP")]})]})]})}),("all"===e||"deposit"===e)&&o.length>0&&(0,z.jsxs)("div",{className:"mb-8",children:[(0,z.jsx)("h3",{className:"text-lg mb-3",style:{color:"#231F20"},children:"Deposit Records"}),(0,z.jsxs)("table",{className:"w-full border-collapse text-sm",children:[(0,z.jsx)("thead",{children:(0,z.jsxs)("tr",{style:{backgroundColor:"#F5F5F5"},children:[(0,z.jsx)("th",{className:"border px-2 py-2 text-left",children:"Invoice No"}),(0,z.jsx)("th",{className:"border px-2 py-2 text-left",children:"Customer"}),(0,z.jsx)("th",{className:"border px-2 py-2 text-right",children:"Deposit Amount"}),(0,z.jsx)("th",{className:"border px-2 py-2 text-left",children:"Status"}),(0,z.jsx)("th",{className:"border px-2 py-2 text-center",children:"Proof"}),(0,z.jsx)("th",{className:"border px-2 py-2 text-left",children:"Date"})]})}),(0,z.jsxs)("tbody",{children:[o.map(e=>(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{className:"border px-2 py-2",children:e.invoiceNo}),(0,z.jsx)("td",{className:"border px-2 py-2",children:e.customer}),(0,z.jsxs)("td",{className:"border px-2 py-2 text-right",children:["RM ",e.depositAmount.toLocaleString()]}),(0,z.jsx)("td",{className:"border px-2 py-2",children:(0,z.jsx)("span",{className:`px-2 py-1 rounded text-xs ${"Paid"===e.status?"bg-green-100 text-green-800":"Pending Approval"===e.status?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:e.status})}),(0,z.jsx)("td",{className:"border px-2 py-2 text-center",children:e.proofUploaded?"Yes":"No"}),(0,z.jsx)("td",{className:"border px-2 py-2",children:e.date})]},e.invoiceNo)),(0,z.jsxs)("tr",{style:{backgroundColor:"#F5F5F5"},children:[(0,z.jsx)("td",{colSpan:2,className:"border px-2 py-2",children:"Total"}),(0,z.jsxs)("td",{className:"border px-2 py-2 text-right",children:["RM ",o.reduce((e,t)=>e+t.depositAmount,0).toLocaleString()]}),(0,z.jsx)("td",{colSpan:3,className:"border px-2 py-2"})]})]})]})]}),("all"===e||"monthly-billing"===e)&&c.length>0&&(0,z.jsxs)("div",{className:"mb-8",children:[(0,z.jsx)("h3",{className:"text-lg mb-3",style:{color:"#231F20"},children:"Monthly Billing"}),(0,z.jsxs)("table",{className:"w-full border-collapse text-sm",children:[(0,z.jsx)("thead",{children:(0,z.jsxs)("tr",{style:{backgroundColor:"#F5F5F5"},children:[(0,z.jsx)("th",{className:"border px-2 py-2 text-left",children:"Invoice No"}),(0,z.jsx)("th",{className:"border px-2 py-2 text-left",children:"Project"}),(0,z.jsx)("th",{className:"border px-2 py-2 text-left",children:"Month"}),(0,z.jsx)("th",{className:"border px-2 py-2 text-right",children:"Amount"}),(0,z.jsx)("th",{className:"border px-2 py-2 text-left",children:"Status"}),(0,z.jsx)("th",{className:"border px-2 py-2 text-center",children:"Returned"}),(0,z.jsx)("th",{className:"border px-2 py-2 text-left",children:"Due Date"}),(0,z.jsx)("th",{className:"border px-2 py-2 text-center",children:"Proof"})]})}),(0,z.jsxs)("tbody",{children:[c.map(e=>(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{className:"border px-2 py-2",children:e.invoiceNo}),(0,z.jsx)("td",{className:"border px-2 py-2",children:e.project}),(0,z.jsx)("td",{className:"border px-2 py-2",children:e.billingMonth}),(0,z.jsxs)("td",{className:"border px-2 py-2 text-right",children:["RM ",e.amount.toLocaleString()]}),(0,z.jsx)("td",{className:"border px-2 py-2",children:(0,z.jsx)("span",{className:`px-2 py-1 rounded text-xs ${"Paid"===e.status?"bg-green-100 text-green-800":"Pending Payment"===e.status?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:e.status})}),(0,z.jsx)("td",{className:"border px-2 py-2 text-center",children:e.itemsReturned?"Yes":"No"}),(0,z.jsx)("td",{className:"border px-2 py-2",children:e.dueDate}),(0,z.jsx)("td",{className:"border px-2 py-2 text-center",children:e.paymentProof?"Yes":"No"})]},e.invoiceNo)),(0,z.jsxs)("tr",{style:{backgroundColor:"#F5F5F5"},children:[(0,z.jsx)("td",{colSpan:3,className:"border px-2 py-2",children:"Total"}),(0,z.jsxs)("td",{className:"border px-2 py-2 text-right",children:["RM ",c.reduce((e,t)=>e+t.amount,0).toLocaleString()]}),(0,z.jsx)("td",{colSpan:4,className:"border px-2 py-2"})]})]})]})]}),("all"===e||"credit-note"===e)&&d.length>0&&(0,z.jsxs)("div",{className:"mb-8",children:[(0,z.jsx)("h3",{className:"text-lg mb-3",style:{color:"#231F20"},children:"Credit Notes"}),(0,z.jsxs)("table",{className:"w-full border-collapse text-sm",children:[(0,z.jsx)("thead",{children:(0,z.jsxs)("tr",{style:{backgroundColor:"#F5F5F5"},children:[(0,z.jsx)("th",{className:"border px-2 py-2 text-left",children:"CN No"}),(0,z.jsx)("th",{className:"border px-2 py-2 text-left",children:"Invoice No"}),(0,z.jsx)("th",{className:"border px-2 py-2 text-left",children:"Customer"}),(0,z.jsx)("th",{className:"border px-2 py-2 text-left",children:"Item"}),(0,z.jsx)("th",{className:"border px-2 py-2 text-left",children:"Qty Adjusted"}),(0,z.jsx)("th",{className:"border px-2 py-2 text-left",children:"Price Adjusted"}),(0,z.jsx)("th",{className:"border px-2 py-2 text-left",children:"Reason"}),(0,z.jsx)("th",{className:"border px-2 py-2 text-left",children:"Status"})]})}),(0,z.jsx)("tbody",{children:d.map(e=>(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{className:"border px-2 py-2",children:e.cnNo}),(0,z.jsx)("td",{className:"border px-2 py-2",children:e.invoiceNo}),(0,z.jsx)("td",{className:"border px-2 py-2",children:e.customer}),(0,z.jsx)("td",{className:"border px-2 py-2",children:e.item}),(0,z.jsx)("td",{className:"border px-2 py-2",children:e.quantityAdjusted}),(0,z.jsx)("td",{className:"border px-2 py-2",children:e.priceAdjusted}),(0,z.jsx)("td",{className:"border px-2 py-2",children:e.reason}),(0,z.jsx)("td",{className:"border px-2 py-2",children:(0,z.jsx)("span",{className:`px-2 py-1 rounded text-xs ${"Paid"===e.status?"bg-green-100 text-green-800":"Pending Approval"===e.status?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:e.status})})]},e.cnNo))})]})]}),(0,z.jsxs)("div",{className:"mt-8 pt-4 border-t text-sm text-gray-600 flex justify-between",children:[(0,z.jsx)("div",{children:"Power Metal & Steel - Financial Report"}),(0,z.jsx)("div",{children:"Page 1 of 1"})]}),(0,z.jsxs)("div",{className:"mt-2 text-xs text-gray-500 text-center",children:["Printed on: ",uq(new Date,"PPP p")]})]}),(0,z.jsx)("style",{children:`
        @media print {
          @page {
            size: A4;
            margin: 20mm;
          }
          
          body {
            print-color-adjust: exact;
            -webkit-print-color-adjust: exact;
          }
          
          .print\\:hidden {
            display: none !important;
          }
          
          .print\\:p-0 {
            padding: 0 !important;
          }
        }
      `})]})}function Mb(){let[e,t]=(0,q.useState)("all"),[r,s]=(0,q.useState)("all"),[a,n]=(0,q.useState)("all"),[i,l]=(0,q.useState)(),[o,c]=(0,q.useState)(),[d,u]=(0,q.useState)(!1),[m,h]=(0,q.useState)(!1);return m?(0,z.jsx)(My,{reportType:e,statusFilter:r,customerFilter:a,dateFrom:i,dateTo:o,onClose:()=>h(!1)}):d?(0,z.jsxs)("div",{className:"p-6 space-y-6",children:[(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsx)(tb,{variant:"outline",onClick:()=>u(!1),children:" Back to Dashboard"}),(0,z.jsxs)("div",{className:"flex gap-2",children:[(0,z.jsxs)(tb,{variant:"outline",onClick:()=>{alert("Exporting to Excel... (This would trigger actual Excel export in production)")},children:[(0,z.jsx)(Mu,{className:"h-4 w-4 mr-2"}),"Export Excel"]}),(0,z.jsxs)(tb,{variant:"outline",onClick:()=>{window.print()},children:[(0,z.jsx)(Mu,{className:"h-4 w-4 mr-2"}),"Export PDF"]}),(0,z.jsxs)(tb,{onClick:()=>{h(!0),u(!1),setTimeout(()=>{window.print()},500)},children:[(0,z.jsx)(pk,{className:"h-4 w-4 mr-2"}),"Print Preview"]})]})]}),(0,z.jsx)(Mj,{reportType:e,statusFilter:r,customerFilter:a,dateFrom:i,dateTo:o})]}):(0,z.jsxs)("div",{className:"p-6 space-y-6",children:[(0,z.jsx)("div",{className:"flex items-center justify-between",children:(0,z.jsx)("h1",{className:"text-3xl",style:{color:"#231F20"},children:"Reports Center"})}),(0,z.jsxs)(ot,{children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{children:"Generate Financial Report"})}),(0,z.jsxs)(on,{className:"space-y-6",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)("label",{className:"font-medium",children:"Select Report Type"}),(0,z.jsxs)(cl,{value:e,onValueChange:e=>t(e),children:[(0,z.jsx)(cc,{children:(0,z.jsx)(co,{placeholder:"Select report type"})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"all",children:"All Reports (Consolidated)"}),(0,z.jsx)(cu,{value:"deposit",children:"Deposit Report"}),(0,z.jsx)(cu,{value:"monthly-billing",children:"Monthly Billing Report"}),(0,z.jsx)(cu,{value:"credit-note",children:"Credit Note Report"})]})]})]}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)("label",{className:"font-medium",children:"From Date"}),(0,z.jsxs)(hc,{children:[(0,z.jsx)(hd,{asChild:!0,children:(0,z.jsxs)(tb,{variant:"outline",className:Mm("w-full justify-start text-left",!i&&"text-muted-foreground"),children:[(0,z.jsx)(Z,{className:"mr-2 h-4 w-4"}),i?uq(i,"PPP"):(0,z.jsx)("span",{children:"Pick a date"})]})}),(0,z.jsx)(hu,{className:"w-auto p-0",children:(0,z.jsx)(mK,{mode:"single",selected:i,onSelect:l,initialFocus:!0})})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)("label",{className:"font-medium",children:"To Date"}),(0,z.jsxs)(hc,{children:[(0,z.jsx)(hd,{asChild:!0,children:(0,z.jsxs)(tb,{variant:"outline",className:Mm("w-full justify-start text-left",!o&&"text-muted-foreground"),children:[(0,z.jsx)(Z,{className:"mr-2 h-4 w-4"}),o?uq(o,"PPP"):(0,z.jsx)("span",{children:"Pick a date"})]})}),(0,z.jsx)(hu,{className:"w-auto p-0",children:(0,z.jsx)(mK,{mode:"single",selected:o,onSelect:c,initialFocus:!0})})]})]})]}),(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)("label",{className:"font-medium",children:"Customer / Project"}),(0,z.jsxs)(cl,{value:a,onValueChange:n,children:[(0,z.jsx)(cc,{children:(0,z.jsx)(co,{placeholder:"Select customer"})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"all",children:"All Customers"}),(0,z.jsx)(cu,{value:"alpha-construction",children:"Alpha Construction"}),(0,z.jsx)(cu,{value:"beta-builders",children:"Beta Builders"}),(0,z.jsx)(cu,{value:"citra-engineering",children:"Citra Engineering"}),(0,z.jsx)(cu,{value:"kl-tower",children:"KL Tower Project"}),(0,z.jsx)(cu,{value:"pj-mall",children:"PJ Mall"})]})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)("label",{className:"font-medium",children:"Status"}),(0,z.jsxs)(cl,{value:r,onValueChange:e=>s(e),children:[(0,z.jsx)(cc,{children:(0,z.jsx)(co,{placeholder:"Select status"})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"all",children:"All Statuses"}),(0,z.jsx)(cu,{value:"paid",children:"Paid"}),(0,z.jsx)(cu,{value:"pending",children:"Pending Payment"}),(0,z.jsx)(cu,{value:"overdue",children:"Overdue"}),(0,z.jsx)(cu,{value:"pending-approval",children:"Pending Approval"}),(0,z.jsx)(cu,{value:"rejected",children:"Rejected"})]})]})]})]}),(0,z.jsx)("div",{className:"flex justify-end pt-4",children:(0,z.jsx)(tb,{onClick:()=>{u(!0),h(!1)},style:{backgroundColor:"#F15929"},className:"hover:opacity-90",children:"Generate Report"})})]})]})]})}function MN({currentUserName:e="John Smith",currentUserRole:t="Admin",currentUserEmail:r="john.smith@example.com",currentUserPhone:s="+60123456789"}){let a=e.split(" "),n=a[0]||"",i=a.slice(1).join(" ")||"",[l,o]=(0,q.useState)(r),[c,d]=(0,q.useState)(""),[u,m]=(0,q.useState)(!1),[h,x]=(0,q.useState)(""),[p,f]=(0,q.useState)(""),[g,v]=(0,q.useState)(s),[j,y]=(0,q.useState)(""),[b,N]=(0,q.useState)(!1),[w,C]=(0,q.useState)(""),[S,D]=(0,q.useState)(""),[P,k]=(0,q.useState)(""),[E,A]=(0,q.useState)(""),[F,R]=(0,q.useState)(""),[O,I]=(0,q.useState)(!1),[M,T]=(0,q.useState)(!1),[B,_]=(0,q.useState)(!1),[L,U]=(0,q.useState)(""),[$,V]=(0,q.useState)(!1),W=e=>e.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?(d(""),!0):(d("Please enter a valid email address."),!1):(d("Email cannot be empty."),!1),H=e=>e.trim()?/^[+]?[\d\s\-()]+$/.test(e)?(y(""),!0):(y("Please enter a valid phone number."),!1):(y("Phone number cannot be empty."),!1),Y=e=>e?e.length<8?{valid:!1,message:"Password must be at least 8 characters."}:/[a-zA-Z]/.test(e)?/\d/.test(e)?{valid:!0,message:""}:{valid:!1,message:"Password must contain at least 1 digit."}:{valid:!1,message:"Password must contain at least 1 letter."}:{valid:!0,message:""},G=()=>!E||E===F||(U("Passwords do not match."),!1),X=E?Y(E).valid?E.length>=12&&/[A-Z]/.test(E)&&/[a-z]/.test(E)&&/\d/.test(E)&&/[^A-Za-z0-9]/.test(E)?{strength:"Strong",color:"text-[#059669]"}:{strength:"Medium",color:"text-[#F59E0B]"}:{strength:"Weak",color:"text-[#DC2626]"}:{strength:"",color:""};return(0,z.jsxs)("div",{className:"space-y-6 max-w-4xl",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)("h1",{children:"My Profile"}),(0,z.jsx)("p",{className:"text-[#374151]",children:"Update your contact information and password settings."})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)("div",{className:"w-8 h-8 rounded-lg bg-[#F15929] flex items-center justify-center",children:(0,z.jsx)(xU,{className:"h-4 w-4 text-white"})}),(0,z.jsx)(os,{className:"text-[18px]",children:"Basic Information"})]})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"First Name"}),(0,z.jsx)("div",{className:"h-10 px-3 rounded-lg bg-[#F3F4F6] border border-[#E5E7EB] flex items-center text-[#6B7280]",children:n})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Last Name"}),(0,z.jsx)("div",{className:"h-10 px-3 rounded-lg bg-[#F3F4F6] border border-[#E5E7EB] flex items-center text-[#6B7280]",children:i})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{children:"Role"}),(0,z.jsx)("div",{className:"h-10 px-3 rounded-lg bg-[#F3F4F6] border border-[#E5E7EB] flex items-center text-[#6B7280]",children:t}),(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Your role is managed by system administrators."})]})]})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)("div",{className:"w-8 h-8 rounded-lg bg-[#F15929] flex items-center justify-center",children:(0,z.jsx)(lK,{className:"h-4 w-4 text-white"})}),(0,z.jsxs)("div",{children:[(0,z.jsx)(os,{className:"text-[18px]",children:"Email Address"}),(0,z.jsx)(oa,{className:"text-[14px] text-[#6B7280] mt-1",children:"Update your email address (verification required)"})]})]})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"email",children:"Email Address"}),(0,z.jsx)(tN,{id:"email",type:"email",value:l,onChange:e=>{o(e.target.value),c&&d("")},onBlur:()=>W(l),className:`h-10 ${c?"border-[#DC2626] focus-visible:ring-[#DC2626]":""}`,placeholder:"Enter your email address"}),c&&(0,z.jsx)("p",{className:"text-[#DC2626] text-[14px]",children:c})]}),(0,z.jsx)("div",{className:"flex justify-end",children:(0,z.jsx)(tb,{onClick:()=>{W(l)&&(m(!0),x(""),f(""),ld.info("Verification code sent to your new email address.",{duration:3e3}))},className:"bg-[#F15929] hover:bg-[#D14821] h-10 px-6 rounded-lg",children:"Update Email"})})]})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)("div",{className:"w-8 h-8 rounded-lg bg-[#F15929] flex items-center justify-center",children:(0,z.jsx)(cp,{className:"h-4 w-4 text-white"})}),(0,z.jsxs)("div",{children:[(0,z.jsx)(os,{className:"text-[18px]",children:"Phone Number"}),(0,z.jsx)(oa,{className:"text-[14px] text-[#6B7280] mt-1",children:"Update your phone number (verification required)"})]})]})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"phone",children:"Phone Number"}),(0,z.jsx)(tN,{id:"phone",type:"tel",value:g,onChange:e=>{v(e.target.value),j&&y("")},onBlur:()=>H(g),className:`h-10 ${j?"border-[#DC2626] focus-visible:ring-[#DC2626]":""}`,placeholder:"Enter your phone number"}),j&&(0,z.jsx)("p",{className:"text-[#DC2626] text-[14px]",children:j})]}),(0,z.jsx)("div",{className:"flex justify-end",children:(0,z.jsx)(tb,{onClick:()=>{H(g)&&(N(!0),C(""),D(""),ld.info("Verification code sent to your new phone number.",{duration:3e3}))},className:"bg-[#F15929] hover:bg-[#D14821] h-10 px-6 rounded-lg",children:"Update Phone"})})]})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)("div",{className:"w-8 h-8 rounded-lg bg-[#F15929] flex items-center justify-center",children:(0,z.jsx)(ou,{className:"h-4 w-4 text-white"})}),(0,z.jsxs)("div",{children:[(0,z.jsx)(os,{className:"text-[18px]",children:"Account Security"}),(0,z.jsx)(oa,{className:"text-[14px] text-[#6B7280] mt-1",children:"Change your password to keep your account secure"})]})]})}),(0,z.jsxs)(on,{className:"space-y-4",children:[(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"currentPassword",children:"Current Password"}),(0,z.jsxs)("div",{className:"relative",children:[(0,z.jsx)(tN,{id:"currentPassword",type:O?"text":"password",value:P,onChange:e=>k(e.target.value),className:"h-10 pr-10",placeholder:"Enter current password"}),(0,z.jsx)("button",{type:"button",onClick:()=>I(!O),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280] hover:text-[#374151]",children:O?(0,z.jsx)(lj,{className:"h-4 w-4"}):(0,z.jsx)(lv,{className:"h-4 w-4"})})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"newPassword",children:"New Password"}),(0,z.jsxs)("div",{className:"relative",children:[(0,z.jsx)(tN,{id:"newPassword",type:M?"text":"password",value:E,onChange:e=>{A(e.target.value),L&&U("")},className:`h-10 pr-10 ${L?"border-[#DC2626] focus-visible:ring-[#DC2626]":""}`,placeholder:"Enter new password"}),(0,z.jsx)("button",{type:"button",onClick:()=>T(!M),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280] hover:text-[#374151]",children:M?(0,z.jsx)(lj,{className:"h-4 w-4"}):(0,z.jsx)(lv,{className:"h-4 w-4"})})]}),E&&X.strength&&(0,z.jsxs)("p",{className:`text-[14px] ${X.color}`,children:["Password strength: ",X.strength]}),(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Password must meet the following requirements:"}),(0,z.jsxs)("div",{className:"space-y-1 pl-4",children:[(0,z.jsxs)("div",{className:"flex items-center gap-2 text-[12px]",children:[(0,z.jsx)(nQ,{className:`h-3 w-3 ${E.length>=8?"text-[#059669]":"text-[#D1D5DB]"}`}),(0,z.jsx)("span",{className:E.length>=8?"text-[#059669]":"text-[#6B7280]",children:"At least 8 characters"})]}),(0,z.jsxs)("div",{className:"flex items-center gap-2 text-[12px]",children:[(0,z.jsx)(nQ,{className:`h-3 w-3 ${/[a-zA-Z]/.test(E)?"text-[#059669]":"text-[#D1D5DB]"}`}),(0,z.jsx)("span",{className:/[a-zA-Z]/.test(E)?"text-[#059669]":"text-[#6B7280]",children:"At least 1 letter"})]}),(0,z.jsxs)("div",{className:"flex items-center gap-2 text-[12px]",children:[(0,z.jsx)(nQ,{className:`h-3 w-3 ${/\d/.test(E)?"text-[#059669]":"text-[#D1D5DB]"}`}),(0,z.jsx)("span",{className:/\d/.test(E)?"text-[#059669]":"text-[#6B7280]",children:"At least 1 digit"})]})]})]})]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,z.jsxs)("div",{className:"relative",children:[(0,z.jsx)(tN,{id:"confirmPassword",type:B?"text":"password",value:F,onChange:e=>{R(e.target.value),L&&U("")},onBlur:G,className:`h-10 pr-10 ${L?"border-[#DC2626] focus-visible:ring-[#DC2626]":""}`,placeholder:"Re-enter new password"}),(0,z.jsx)("button",{type:"button",onClick:()=>_(!B),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280] hover:text-[#374151]",children:B?(0,z.jsx)(lj,{className:"h-4 w-4"}):(0,z.jsx)(lv,{className:"h-4 w-4"})})]}),L&&(0,z.jsx)("p",{className:"text-[#DC2626] text-[14px]",children:L})]}),(0,z.jsx)("div",{className:"flex justify-end",children:(0,z.jsx)(tb,{onClick:()=>{if(U(""),!P&&!E&&!F)return void U("Please enter your passwords to make changes.");if(!P)return void U("Current password is required to change password.");let e=Y(E);e.valid?G()&&V(!0):U(e.message)},className:"bg-[#F15929] hover:bg-[#D14821] h-10 px-6 rounded-lg",children:"Save Changes"})})]})]}),(0,z.jsx)(iZ,{open:u,onOpenChange:m,children:(0,z.jsxs)(i0,{children:[(0,z.jsxs)(i1,{children:[(0,z.jsx)(i4,{children:"Verify Email Address"}),(0,z.jsxs)(i5,{children:["Please enter the 6-digit verification code sent to ",l]})]}),(0,z.jsx)("div",{className:"py-4",children:(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"emailCode",children:"Verification Code"}),(0,z.jsx)(tN,{id:"emailCode",type:"text",value:h,onChange:e=>{x(e.target.value),p&&f("")},className:`h-10 ${p?"border-[#DC2626] focus-visible:ring-[#DC2626]":""}`,placeholder:"Enter 6-digit code",maxLength:6}),p&&(0,z.jsx)("p",{className:"text-[#DC2626] text-[14px]",children:p})]})}),(0,z.jsxs)(i2,{children:[(0,z.jsx)(i3,{onClick:()=>{m(!1),x(""),f("")},children:"Cancel"}),(0,z.jsx)(i6,{onClick:()=>{h.trim()?"123456"===h?(m(!1),ld.success("Email updated successfully.",{duration:2500}),x(""),f("")):f("Invalid verification code. Please try again."):f("Please enter the verification code.")},className:"bg-[#F15929] hover:bg-[#D14821]",children:"Verify"})]})]})}),(0,z.jsx)(iZ,{open:b,onOpenChange:N,children:(0,z.jsxs)(i0,{children:[(0,z.jsxs)(i1,{children:[(0,z.jsx)(i4,{children:"Verify Phone Number"}),(0,z.jsxs)(i5,{children:["Please enter the 6-digit verification code sent to ",g]})]}),(0,z.jsx)("div",{className:"py-4",children:(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)(lN,{htmlFor:"phoneCode",children:"Verification Code"}),(0,z.jsx)(tN,{id:"phoneCode",type:"text",value:w,onChange:e=>{C(e.target.value),S&&D("")},className:`h-10 ${S?"border-[#DC2626] focus-visible:ring-[#DC2626]":""}`,placeholder:"Enter 6-digit code",maxLength:6}),S&&(0,z.jsx)("p",{className:"text-[#DC2626] text-[14px]",children:S})]})}),(0,z.jsxs)(i2,{children:[(0,z.jsx)(i3,{onClick:()=>{N(!1),C(""),D("")},children:"Cancel"}),(0,z.jsx)(i6,{onClick:()=>{w.trim()?"123456"===w?(N(!1),ld.success("Phone number updated successfully.",{duration:2500}),C(""),D("")):D("Invalid verification code. Please try again."):D("Please enter the verification code.")},className:"bg-[#F15929] hover:bg-[#D14821]",children:"Verify"})]})]})}),(0,z.jsx)(iZ,{open:$,onOpenChange:V,children:(0,z.jsxs)(i0,{children:[(0,z.jsxs)(i1,{children:[(0,z.jsx)(i4,{children:"Confirm Password Update"}),(0,z.jsx)(i5,{children:"Are you sure you want to change your password?"})]}),(0,z.jsxs)(i2,{children:[(0,z.jsx)(i3,{children:"Cancel"}),(0,z.jsx)(i6,{onClick:()=>{V(!1),setTimeout(()=>{ld.success("Password updated successfully.",{duration:2500}),k(""),A(""),R("")},300)},className:"bg-[#F15929] hover:bg-[#D14821]",children:"Confirm"})]})]})})]})}let Mw=[{id:"CR-001",projectId:"PRJ-2024-001",projectName:"Tower Construction Site A",customerName:"John Tan",companyName:"ABC Construction Sdn Bhd",requestDate:"",rentalStartDate:"2024-06-01",minimumRentalPeriod:6,actualRentalPeriod:6,returnStatus:"completed",shortageItems:0,status:"active",validationChecks:{rentalPeriodMet:!0,returnProcessComplete:!0,noShortageDetected:!0}},{id:"CR-002",projectId:"PRJ-2024-002",projectName:"High-Rise Building Development",customerName:"Sarah Lim",companyName:"XYZ Builders Sdn Bhd",requestDate:"2024-11-28",rentalStartDate:"2024-08-15",minimumRentalPeriod:6,actualRentalPeriod:3.5,returnStatus:"pending",shortageItems:5,status:"pending",validationChecks:{rentalPeriodMet:!1,returnProcessComplete:!1,noShortageDetected:!1}},{id:"CR-003",projectId:"PRJ-2024-003",projectName:"Residential Complex Phase 2",customerName:"Michael Wong",companyName:"Prime Development Ltd",requestDate:"2024-11-25",rentalStartDate:"2024-01-10",minimumRentalPeriod:6,actualRentalPeriod:10.7,returnStatus:"completed",shortageItems:0,status:"approved",approvedBy:"Admin User",approvedDate:"2024-11-26",validationChecks:{rentalPeriodMet:!0,returnProcessComplete:!0,noShortageDetected:!0}},{id:"CR-004",projectId:"PRJ-2024-004",projectName:"Commercial Plaza",customerName:"David Lee",companyName:"Mega Build Sdn Bhd",requestDate:"",rentalStartDate:"2024-05-20",minimumRentalPeriod:6,actualRentalPeriod:6.3,returnStatus:"completed",shortageItems:2,status:"active",validationChecks:{rentalPeriodMet:!0,returnProcessComplete:!0,noShortageDetected:!1}},{id:"CR-005",projectId:"PRJ-2024-005",projectName:"Bridge Maintenance Project",customerName:"Emily Ng",companyName:"Infrastructure Solutions Sdn Bhd",requestDate:"",rentalStartDate:"2024-07-01",minimumRentalPeriod:6,actualRentalPeriod:5,returnStatus:"in-progress",shortageItems:0,status:"active",validationChecks:{rentalPeriodMet:!1,returnProcessComplete:!1,noShortageDetected:!0}}];function MC(){let[e,t]=(0,q.useState)(Mw),[r,s]=(0,q.useState)(""),[a,n]=(0,q.useState)("all"),[i,l]=(0,q.useState)(null),[o,c]=(0,q.useState)(!1),[d,u]=(0,q.useState)(!1),m=e.filter(e=>{let t=e.projectId.toLowerCase().includes(r.toLowerCase())||e.projectName.toLowerCase().includes(r.toLowerCase())||e.customerName.toLowerCase().includes(r.toLowerCase())||e.companyName.toLowerCase().includes(r.toLowerCase()),s="all"===a||e.status===a;return t&&s}),h=e=>{switch(e){case"active":return(0,z.jsx)(cZ,{className:"bg-[#6B7280] text-white",children:"Active"});case"pending":return(0,z.jsx)(cZ,{className:"bg-[#F59E0B] text-white",children:"Pending Review"});case"approved":return(0,z.jsx)(cZ,{className:"bg-[#10B981] text-white",children:"Approved"})}},x=e=>"pending"===e.status&&e.validationChecks.rentalPeriodMet&&e.validationChecks.returnProcessComplete&&e.validationChecks.noShortageDetected;return(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsx)("div",{className:"flex items-center justify-between",children:(0,z.jsxs)("div",{children:[(0,z.jsx)("h1",{className:"text-[#231F20]",children:"Project Closure Management"}),(0,z.jsx)("p",{className:"text-[#6B7280] mt-1",children:"Review and approve customer project closure requests"})]})}),(0,z.jsx)(ot,{children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,z.jsxs)("div",{className:"flex-1 relative",children:[(0,z.jsx)(et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[#6B7280]"}),(0,z.jsx)(tN,{placeholder:"Search by project ID, name, customer, or company...",value:r,onChange:e=>s(e.target.value),className:"pl-10"})]}),(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(xq,{className:"h-4 w-4 text-[#6B7280]"}),(0,z.jsxs)(cl,{value:a,onValueChange:n,children:[(0,z.jsx)(cc,{className:"w-[180px]",children:(0,z.jsx)(co,{placeholder:"Filter by status"})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"all",children:"All Statuses"}),(0,z.jsx)(cu,{value:"active",children:"Active"}),(0,z.jsx)(cu,{value:"pending",children:"Pending Review"}),(0,z.jsx)(cu,{value:"approved",children:"Approved"})]})]})]})]})})}),(0,z.jsx)(ot,{children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsxs)(c8,{children:[(0,z.jsx)(c7,{children:(0,z.jsxs)(de,{children:[(0,z.jsx)(dt,{children:"Customer"}),(0,z.jsx)(dt,{children:"Project Details"}),(0,z.jsx)(dt,{children:"Request Date"}),(0,z.jsx)(dt,{className:"text-center",children:"Validation Status"}),(0,z.jsx)(dt,{children:"Status"}),(0,z.jsx)(dt,{className:"text-right",children:"Actions"})]})}),(0,z.jsx)(c9,{children:0===m.length?(0,z.jsx)(de,{children:(0,z.jsx)(dr,{colSpan:6,className:"text-center py-8 text-[#6B7280]",children:"No closure requests found"})}):m.map(r=>(0,z.jsxs)(de,{children:[(0,z.jsx)(dr,{children:(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("div",{className:"text-[#231F20]",children:r.customerName}),(0,z.jsx)("div",{className:"text-[12px] text-[#6B7280]",children:r.companyName})]})}),(0,z.jsx)(dr,{children:(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("div",{className:"text-[#231F20]",children:r.projectName}),(0,z.jsxs)("div",{className:"text-[12px] text-[#6B7280]",children:["Rental: ",r.actualRentalPeriod," / ",r.minimumRentalPeriod," months"]})]})}),(0,z.jsx)(dr,{children:(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(lq,{checked:""!==r.requestDate,onCheckedChange:s=>((r,s)=>{if(s){let s=new Date().toISOString().split("T")[0];t(e.map(e=>e.id===r&&"active"===e.status?{...e,requestDate:s,status:"pending"}:e)),ld.success("Request date recorded",{description:"Status changed to Pending Review"})}})(r.id,s),disabled:"active"!==r.status}),r.requestDate&&(0,z.jsx)("span",{className:"text-[14px] text-[#6B7280]",children:r.requestDate})]})}),(0,z.jsx)(dr,{children:(0,z.jsx)(I5,{children:(0,z.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,z.jsxs)(I6,{children:[(0,z.jsx)(I3,{children:r.validationChecks.rentalPeriodMet?(0,z.jsx)(lX,{className:"h-5 w-5 text-[#10B981]"}):(0,z.jsx)(cU,{className:"h-5 w-5 text-[#EF4444]"})}),(0,z.jsx)(I8,{children:(0,z.jsx)("p",{children:"Minimum Rental Period"})})]}),(0,z.jsxs)(I6,{children:[(0,z.jsx)(I3,{children:r.validationChecks.returnProcessComplete?(0,z.jsx)(lX,{className:"h-5 w-5 text-[#10B981]"}):(0,z.jsx)(cU,{className:"h-5 w-5 text-[#EF4444]"})}),(0,z.jsx)(I8,{children:(0,z.jsx)("p",{children:"Return Process Status"})})]}),(0,z.jsxs)(I6,{children:[(0,z.jsx)(I3,{children:r.validationChecks.noShortageDetected?(0,z.jsx)(lX,{className:"h-5 w-5 text-[#10B981]"}):(0,z.jsx)(ej,{className:"h-5 w-5 text-[#F59E0B]"})}),(0,z.jsx)(I8,{children:(0,z.jsx)("p",{children:"Scaffolding Shortage Detection"})})]})]})})}),(0,z.jsx)(dr,{children:h(r.status)}),(0,z.jsx)(dr,{className:"text-right",children:(0,z.jsxs)(tb,{variant:"outline",size:"sm",onClick:()=>{l(r),c(!0)},children:[(0,z.jsx)(lv,{className:"h-4 w-4 mr-1"}),"View"]})})]},r.id))})]})})}),(0,z.jsx)(cQ,{open:o,onOpenChange:c,children:(0,z.jsxs)(c2,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,z.jsxs)(c4,{children:[(0,z.jsx)(c6,{children:"Project Closure Request Details"}),(0,z.jsx)(c3,{children:"Review the complete information for this closure request"})]}),i&&(0,z.jsxs)("div",{className:"space-y-6 py-4",children:[(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsx)("h3",{className:"text-[#231F20]",children:"Request Information"}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Request ID"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:i.id})]}),(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Request Date"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:i.requestDate||"Not set"})]}),(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Status"}),h(i.status)]}),i.approvedDate&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Approval Date"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:i.approvedDate})]}),(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Approved By"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:i.approvedBy})]})]})]})]}),(0,z.jsx)(di,{}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("h3",{className:"text-[#231F20] flex items-center gap-2",children:[(0,z.jsx)(ly,{className:"h-5 w-5"}),"Project Information"]}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Project ID"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:i.projectId})]}),(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Project Name"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:i.projectName})]})]})]}),(0,z.jsx)(di,{}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("h3",{className:"text-[#231F20] flex items-center gap-2",children:[(0,z.jsx)(xU,{className:"h-5 w-5"}),"Customer Information"]}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Customer Name"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:i.customerName})]}),(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Company Name"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:i.companyName})]})]})]}),(0,z.jsx)(di,{}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("h3",{className:"text-[#231F20] flex items-center gap-2",children:[(0,z.jsx)(K,{className:"h-5 w-5"}),"Validation Checks"]}),(0,z.jsx)("div",{className:"border rounded-lg p-4",children:(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[i.validationChecks.rentalPeriodMet?(0,z.jsx)(lX,{className:"h-5 w-5 text-[#10B981] mt-0.5"}):(0,z.jsx)(cU,{className:"h-5 w-5 text-[#EF4444] mt-0.5"}),(0,z.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(Z,{className:"h-4 w-4 text-[#6B7280]"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:"Minimum Rental Period"})]}),(0,z.jsxs)("p",{className:"text-[14px] text-[#6B7280]",children:["Rental Start Date: ",new Date(i.rentalStartDate).toLocaleDateString("en-MY")]}),(0,z.jsxs)("p",{className:"text-[14px] text-[#6B7280]",children:["Actual Rental Period: ",i.actualRentalPeriod," months"]}),(0,z.jsxs)("p",{className:"text-[14px] text-[#6B7280]",children:["Minimum Required: ",i.minimumRentalPeriod," months"]}),i.validationChecks.rentalPeriodMet?(0,z.jsx)(cZ,{className:"bg-[#10B981] text-white mt-2",children:"Requirement Met"}):(0,z.jsxs)(cZ,{className:"bg-[#EF4444] text-white mt-2",children:["Requirement Not Met - ",(i.minimumRentalPeriod-i.actualRentalPeriod).toFixed(1)," months remaining"]})]})]})}),(0,z.jsx)("div",{className:"border rounded-lg p-4",children:(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[i.validationChecks.returnProcessComplete?(0,z.jsx)(lX,{className:"h-5 w-5 text-[#10B981] mt-0.5"}):(0,z.jsx)(cU,{className:"h-5 w-5 text-[#EF4444] mt-0.5"}),(0,z.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(J,{className:"h-4 w-4 text-[#6B7280]"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:"Return Process Status"})]}),(0,z.jsxs)("p",{className:"text-[14px] text-[#6B7280]",children:["Current Status: ",(e=>{switch(e){case"completed":return(0,z.jsx)(cZ,{className:"bg-[#10B981] text-white",children:"Completed"});case"in-progress":return(0,z.jsx)(cZ,{className:"bg-[#3B82F6] text-white",children:"In Progress"});case"pending":return(0,z.jsx)(cZ,{className:"bg-[#F59E0B] text-white",children:"Pending"});default:return(0,z.jsx)(cZ,{children:e})}})(i.returnStatus)]}),i.validationChecks.returnProcessComplete?(0,z.jsx)(cZ,{className:"bg-[#10B981] text-white mt-2",children:"Return Process Completed"}):(0,z.jsx)(cZ,{className:"bg-[#EF4444] text-white mt-2",children:"Return Process Not Complete"})]})]})}),(0,z.jsx)("div",{className:"border rounded-lg p-4",children:(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[i.validationChecks.noShortageDetected?(0,z.jsx)(lX,{className:"h-5 w-5 text-[#10B981] mt-0.5"}):(0,z.jsx)(ej,{className:"h-5 w-5 text-[#F59E0B] mt-0.5"}),(0,z.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(ei,{className:"h-4 w-4 text-[#6B7280]"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:"Scaffolding Shortage Detection"})]}),(0,z.jsxs)("p",{className:"text-[14px] text-[#6B7280]",children:["Items Shortage Count: ",i.shortageItems]}),i.validationChecks.noShortageDetected?(0,z.jsx)(cZ,{className:"bg-[#10B981] text-white mt-2",children:"No Shortage Detected"}):(0,z.jsxs)(cZ,{className:"bg-[#F59E0B] text-white mt-2",children:[i.shortageItems," Items Missing"]})]})]})})]}),(0,z.jsx)("div",{className:"bg-[#F3F4F6] rounded-lg p-4",children:(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsx)("span",{className:"text-[#231F20]",children:"Overall Validation Status"}),x(i)?(0,z.jsx)(cZ,{className:"bg-[#10B981] text-white",children:"All Requirements Met - Ready for Approval"}):(0,z.jsx)(cZ,{className:"bg-[#EF4444] text-white",children:"Requirements Not Met - Cannot Approve"})]})})]}),(0,z.jsxs)(c5,{children:[i?.status==="pending"&&x(i)&&(0,z.jsxs)(tb,{className:"bg-[#10B981] hover:bg-[#059669] text-white",onClick:()=>{i&&u(!0)},children:[(0,z.jsx)(lX,{className:"h-4 w-4 mr-2"}),"Approve Closure"]}),(0,z.jsx)(tb,{variant:"outline",onClick:()=>c(!1),children:"Close"})]})]})}),(0,z.jsx)(iZ,{open:d,onOpenChange:u,children:(0,z.jsxs)(i0,{children:[(0,z.jsxs)(i1,{children:[(0,z.jsx)(i4,{children:"Approve Project Closure"}),(0,z.jsxs)(i5,{children:["Are you sure you want to approve this project closure request?",(0,z.jsx)("br",{}),(0,z.jsx)("br",{}),(0,z.jsxs)("span",{className:"text-[#231F20]",children:["Project: ",i?.projectName]}),(0,z.jsx)("br",{}),(0,z.jsxs)("span",{className:"text-[#231F20]",children:["Request ID: ",i?.id]}),(0,z.jsx)("br",{}),(0,z.jsx)("br",{}),"The approval date and time will be automatically recorded in the system."]})]}),(0,z.jsxs)(i2,{children:[(0,z.jsx)(i3,{children:"Cancel"}),(0,z.jsx)(i6,{onClick:()=>{if(i){let r=new Date().toISOString().split("T")[0];t(e.map(e=>e.id===i.id?{...e,status:"approved",approvedBy:"Admin User",approvedDate:r}:e)),ld.success("Project Closure Approved",{description:`Project ${i.projectId} closure has been approved successfully.`}),u(!1),c(!1),l(null)}},className:"bg-[#10B981] hover:bg-[#059669] text-white",children:"Confirm Approval"})]})]})})]})}function MS({requestId:e,customerName:t,agreementNo:r,setDetails:s,deliveryAddress:a,deliveryDate:n,customerPhone:i,customerEmail:l,onClose:o}){let[c,d]=(0,q.useState)(`DO-${new Date().getFullYear()}-${Math.floor(1e4*Math.random()).toString().padStart(4,"0")}`),[u,m]=(0,q.useState)(""),[h,x]=(0,q.useState)(""),[p,f]=(0,q.useState)(""),[g,v]=(0,q.useState)(!1);return g?(0,z.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,z.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,z.jsxs)("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("h2",{className:"text-[#231F20]",children:"Delivery Order Preview"}),(0,z.jsx)("p",{className:"text-gray-600",children:c})]}),(0,z.jsxs)("div",{className:"flex gap-2",children:[(0,z.jsxs)("button",{onClick:()=>{let o=window.open("","_blank");if(!o)return;let d=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Delivery Order - ${c}</title>
        <style>
          @media print {
            @page { margin: 20mm; }
            body { margin: 0; }
          }
          body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 210mm;
            margin: 0 auto;
          }
          .header {
            border-bottom: 3px solid #F15929;
            padding-bottom: 20px;
            margin-bottom: 20px;
          }
          .company-name {
            font-size: 24px;
            font-weight: bold;
            color: #231F20;
            margin-bottom: 5px;
          }
          .do-title {
            font-size: 28px;
            font-weight: bold;
            color: #F15929;
            text-align: right;
            margin-top: -30px;
          }
          .info-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
          }
          .info-box {
            border: 1px solid #ddd;
            padding: 15px;
            border-radius: 5px;
          }
          .info-label {
            font-weight: bold;
            color: #231F20;
            margin-bottom: 5px;
          }
          .info-value {
            color: #555;
            margin-bottom: 10px;
          }
          table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
          }
          th {
            background-color: #F15929;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: bold;
          }
          td {
            padding: 10px 12px;
            border-bottom: 1px solid #ddd;
          }
          tr:nth-child(even) {
            background-color: #f9f9f9;
          }
          .signature-section {
            margin-top: 40px;
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 40px;
          }
          .signature-box {
            text-align: center;
          }
          .signature-line {
            border-top: 1px solid #000;
            margin-top: 60px;
            padding-top: 10px;
          }
          .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #F15929;
            text-align: center;
            color: #666;
            font-size: 12px;
          }
          .instructions {
            background-color: #fff3cd;
            border: 1px solid #ffc107;
            padding: 10px;
            margin: 20px 0;
            border-radius: 5px;
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="company-name">Power Metal & Steel</div>
          <div class="do-title">DELIVERY ORDER</div>
        </div>

        <div class="info-section">
          <div class="info-box">
            <div class="info-label">DO Number:</div>
            <div class="info-value">${c}</div>
            <div class="info-label">Date:</div>
            <div class="info-value">${new Date().toLocaleDateString("en-MY")}</div>
            <div class="info-label">Request ID:</div>
            <div class="info-value">${e}</div>
            <div class="info-label">Agreement No:</div>
            <div class="info-value">${r}</div>
          </div>

          <div class="info-box">
            <div class="info-label">Customer:</div>
            <div class="info-value">${t}</div>
            <div class="info-label">Phone:</div>
            <div class="info-value">${i}</div>
            <div class="info-label">Email:</div>
            <div class="info-value">${l}</div>
          </div>
        </div>

        <div class="info-box">
          <div class="info-label">Delivery Address:</div>
          <div class="info-value">${a}</div>
          <div class="info-label">Scheduled Delivery Date:</div>
          <div class="info-value">${new Date(n).toLocaleDateString("en-MY")}</div>
        </div>

        <div class="info-section" style="margin-top: 20px;">
          <div class="info-box">
            <div class="info-label">Driver Name:</div>
            <div class="info-value">${u||"N/A"}</div>
          </div>
          <div class="info-box">
            <div class="info-label">Vehicle Number:</div>
            <div class="info-value">${h||"N/A"}</div>
          </div>
        </div>

        <div style="margin-top: 20px;">
          <div class="info-label">Set: ${s.setName}</div>
        </div>

        <table>
          <thead>
            <tr>
              <th style="width: 5%;">No.</th>
              <th style="width: 55%;">Item Description</th>
              <th style="width: 20%;">Quantity</th>
              <th style="width: 20%;">Unit</th>
            </tr>
          </thead>
          <tbody>
            ${s.items.map((e,t)=>`
              <tr>
                <td>${t+1}</td>
                <td>${e.name}</td>
                <td>${e.quantity}</td>
                <td>${e.unit}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>

        ${p?`
          <div class="instructions">
            <div class="info-label">Special Instructions:</div>
            <div>${p}</div>
          </div>
        `:""}

        <div class="signature-section">
          <div class="signature-box">
            <div class="signature-line">Prepared By</div>
          </div>
          <div class="signature-box">
            <div class="signature-line">Delivered By</div>
          </div>
          <div class="signature-box">
            <div class="signature-line">Received By</div>
          </div>
        </div>

        <div class="footer">
          This is a computer-generated document. No signature is required.<br>
          Power Metal & Steel - Scaffolding Rental Services
        </div>
      </body>
      </html>
    `;o.document.write(d),o.document.close(),o.print()},className:"px-4 py-2 bg-[#F15929] text-white rounded hover:bg-[#d14a1f] flex items-center gap-2",children:[(0,z.jsx)(pk,{className:"w-4 h-4"}),"Print"]}),(0,z.jsx)("button",{onClick:o,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50",children:"Close"})]})]}),(0,z.jsx)("div",{className:"p-6",children:(0,z.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6 bg-white",children:[(0,z.jsx)("div",{className:"border-b-2 border-[#F15929] pb-4 mb-4",children:(0,z.jsxs)("div",{className:"flex justify-between items-start",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("div",{className:"text-2xl text-[#231F20] mb-1",children:"Power Metal & Steel"}),(0,z.jsx)("p",{className:"text-gray-600",children:"Scaffolding Rental Services"})]}),(0,z.jsx)("div",{className:"text-3xl text-[#F15929]",children:"DELIVERY ORDER"})]})}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[(0,z.jsx)("div",{className:"border border-gray-200 rounded p-4",children:(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("span",{className:"text-gray-600",children:"DO Number:"}),(0,z.jsx)("span",{className:"ml-2 text-[#231F20]",children:c})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Date:"}),(0,z.jsx)("span",{className:"ml-2 text-[#231F20]",children:new Date().toLocaleDateString("en-MY")})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Request ID:"}),(0,z.jsx)("span",{className:"ml-2 text-[#231F20]",children:e})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Agreement No:"}),(0,z.jsx)("span",{className:"ml-2 text-[#231F20]",children:r})]})]})}),(0,z.jsx)("div",{className:"border border-gray-200 rounded p-4",children:(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Customer:"}),(0,z.jsx)("span",{className:"ml-2 text-[#231F20]",children:t})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Phone:"}),(0,z.jsx)("span",{className:"ml-2 text-[#231F20]",children:i})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Email:"}),(0,z.jsx)("span",{className:"ml-2 text-[#231F20]",children:l})]})]})})]}),(0,z.jsx)("div",{className:"border border-gray-200 rounded p-4 mb-6",children:(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Delivery Address:"}),(0,z.jsx)("span",{className:"ml-2 text-[#231F20]",children:a})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Scheduled Date:"}),(0,z.jsx)("span",{className:"ml-2 text-[#231F20]",children:new Date(n).toLocaleDateString("en-MY")})]})]})}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[(0,z.jsxs)("div",{className:"border border-gray-200 rounded p-4",children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Driver:"}),(0,z.jsx)("span",{className:"ml-2 text-[#231F20]",children:u||"N/A"})]}),(0,z.jsxs)("div",{className:"border border-gray-200 rounded p-4",children:[(0,z.jsx)("span",{className:"text-gray-600",children:"Vehicle:"}),(0,z.jsx)("span",{className:"ml-2 text-[#231F20]",children:h||"N/A"})]})]}),(0,z.jsx)("div",{className:"mb-4",children:(0,z.jsxs)("span",{className:"text-gray-700",children:["Set: ",s.setName]})}),(0,z.jsxs)("table",{className:"w-full border-collapse mb-6",children:[(0,z.jsx)("thead",{children:(0,z.jsxs)("tr",{className:"bg-[#F15929] text-white",children:[(0,z.jsx)("th",{className:"p-3 text-left",children:"No."}),(0,z.jsx)("th",{className:"p-3 text-left",children:"Item Description"}),(0,z.jsx)("th",{className:"p-3 text-left",children:"Quantity"}),(0,z.jsx)("th",{className:"p-3 text-left",children:"Unit"})]})}),(0,z.jsx)("tbody",{children:s.items.map((e,t)=>(0,z.jsxs)("tr",{className:t%2==0?"bg-gray-50":"",children:[(0,z.jsx)("td",{className:"p-3 border-b border-gray-200",children:t+1}),(0,z.jsx)("td",{className:"p-3 border-b border-gray-200",children:e.name}),(0,z.jsx)("td",{className:"p-3 border-b border-gray-200",children:e.quantity}),(0,z.jsx)("td",{className:"p-3 border-b border-gray-200",children:e.unit})]},t))})]}),p&&(0,z.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4 mb-6",children:[(0,z.jsx)("div",{className:"text-gray-700 mb-1",children:"Special Instructions:"}),(0,z.jsx)("div",{className:"text-gray-800",children:p})]}),(0,z.jsxs)("div",{className:"grid grid-cols-3 gap-8 mt-12",children:[(0,z.jsxs)("div",{className:"text-center",children:[(0,z.jsx)("div",{className:"h-16"}),(0,z.jsx)("div",{className:"border-t border-gray-800 pt-2",children:"Prepared By"})]}),(0,z.jsxs)("div",{className:"text-center",children:[(0,z.jsx)("div",{className:"h-16"}),(0,z.jsx)("div",{className:"border-t border-gray-800 pt-2",children:"Delivered By"})]}),(0,z.jsxs)("div",{className:"text-center",children:[(0,z.jsx)("div",{className:"h-16"}),(0,z.jsx)("div",{className:"border-t border-gray-800 pt-2",children:"Received By"})]})]}),(0,z.jsxs)("div",{className:"mt-8 pt-4 border-t-2 border-[#F15929] text-center text-gray-600 text-sm",children:["This is a computer-generated document. No signature is required.",(0,z.jsx)("br",{}),"Power Metal & Steel - Scaffolding Rental Services"]})]})})]})}):(0,z.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,z.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[(0,z.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,z.jsx)("h2",{className:"text-[#231F20]",children:"Generate Delivery Order"}),(0,z.jsxs)("p",{className:"text-gray-600",children:["Create a delivery order for ",s.setName]})]}),(0,z.jsx)("div",{className:"p-6",children:(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"DO Number *"}),(0,z.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F15929] focus:border-transparent"})]}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Customer Name"}),(0,z.jsx)("input",{type:"text",value:t,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Agreement No"}),(0,z.jsx)("input",{type:"text",value:r,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"})]})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Delivery Address"}),(0,z.jsx)("textarea",{value:a,disabled:!0,rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Scheduled Delivery Date"}),(0,z.jsx)("input",{type:"text",value:new Date(n).toLocaleDateString("en-MY"),disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Driver Name"}),(0,z.jsx)("input",{type:"text",value:u,onChange:e=>m(e.target.value),placeholder:"Enter driver name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F15929] focus:border-transparent"})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Vehicle Number"}),(0,z.jsx)("input",{type:"text",value:h,onChange:e=>x(e.target.value),placeholder:"e.g., ABC1234",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F15929] focus:border-transparent"})]})]}),(0,z.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[(0,z.jsx)("h3",{className:"text-[#231F20] mb-3",children:s.setName}),(0,z.jsx)("div",{className:"space-y-2",children:s.items.map((e,t)=>(0,z.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,z.jsx)("span",{className:"text-gray-700",children:e.name}),(0,z.jsxs)("span",{className:"text-gray-600",children:[e.quantity," ",e.unit]})]},t))})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Special Instructions"}),(0,z.jsx)("textarea",{value:p,onChange:e=>f(e.target.value),rows:3,placeholder:"Enter any special delivery instructions...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F15929] focus:border-transparent"})]})]})}),(0,z.jsxs)("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[(0,z.jsx)("button",{onClick:o,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50",children:"Cancel"}),(0,z.jsxs)("button",{onClick:()=>{v(!0)},className:"px-4 py-2 bg-[#F15929] text-white rounded hover:bg-[#d14a1f] flex items-center gap-2",children:[(0,z.jsx)(K,{className:"w-4 h-4"}),"Generate DO"]})]})]})})}function MD(){let[e,t]=(0,q.useState)("delivery"),[r,s]=(0,q.useState)(""),[a,n]=(0,q.useState)("all"),[i,l]=(0,q.useState)(null),[o,c]=(0,q.useState)(null),[d,u]=(0,q.useState)(!1),[m,h]=(0,q.useState)(!1),[x,p]=(0,q.useState)(!1),[f,g]=(0,q.useState)(!1),[v,j]=(0,q.useState)(!1),[y,b]=(0,q.useState)(!1),[N,w]=(0,q.useState)(!1),[C,S]=(0,q.useState)(null),[D,P]=(0,q.useState)(!1),[k,E]=(0,q.useState)(null),[A,F]=(0,q.useState)(!1),[R,O]=(0,q.useState)(!1),[I,M]=(0,q.useState)(null),[T,B]=(0,q.useState)(!1),[_,L]=(0,q.useState)(!1),[U,$]=(0,q.useState)(!1),[V,W]=(0,q.useState)(""),[H,Y]=(0,q.useState)(""),[G,X]=(0,q.useState)(""),[Q,J]=(0,q.useState)(""),[ee,er]=(0,q.useState)(""),[es,ea]=(0,q.useState)(""),[en,el]=(0,q.useState)(""),[ec,ed]=(0,q.useState)([{id:"DR001",requestId:"DR-2026-001",customerName:"ABC Construction Sdn Bhd",agreementNo:"AGR-2026-001",customerPhone:"+60123456789",customerEmail:"contact@abc.com",deliveryAddress:"Jalan Raja Laut, 50350 Kuala Lumpur",deliveryType:"delivery",requestDate:"2026-12-01",totalSets:3,deliveredSets:0,sets:[{id:"SET-A",setName:"Set A - Initial Phase",items:[{name:"Scaffolding Pipe 6m",quantity:100},{name:"Coupler Standard",quantity:200},{name:"Base Plate",quantity:50}],scheduledPeriod:"Month 1-3",status:"Pending"},{id:"SET-B",setName:"Set B - Extension Phase",items:[{name:"Scaffolding Pipe 4m",quantity:150},{name:"Coupler Swivel",quantity:180},{name:"Ladder Beam",quantity:30}],scheduledPeriod:"Month 4-6",status:"Pending"},{id:"SET-C",setName:"Set C - Final Phase",items:[{name:"H-Frame Scaffolding",quantity:80},{name:"Cross Brace",quantity:120},{name:"Walk Board",quantity:60}],scheduledPeriod:"Month 7-9",status:"Pending"}]},{id:"DR002",requestId:"DR-2026-002",customerName:"XYZ Development Sdn Bhd",agreementNo:"AGR-2026-002",customerPhone:"+60129876543",customerEmail:"info@xyz.com",deliveryAddress:"Jalan Ampang, 50450 Kuala Lumpur",deliveryType:"delivery",requestDate:"2026-12-03",totalSets:1,deliveredSets:0,sets:[{id:"SET-D",setName:"Set A - Main Structure",items:[{name:"Steel Tube 4m",quantity:200},{name:"Joint Pin",quantity:150},{name:"Base Jack",quantity:80},{name:"Safety Net",quantity:40}],scheduledPeriod:"Month 1-6",status:"Pending"}]}]),[eu,em]=(0,q.useState)([{id:"RR001",requestId:"RR-2026-001",customerName:"DEF Builders",agreementNo:"AGR-2026-003",setName:"Set A - Foundation Phase",items:[{name:"Scaffolding Pipe 6m",quantity:80},{name:"Coupler Standard",quantity:160},{name:"Base Plate",quantity:40}],requestDate:"2026-12-02",status:"Requested",reason:"Project completed",pickupAddress:"Jalan Ipoh, 51200 Kuala Lumpur",customerPhone:"+60124445555",customerEmail:"info@def.com",returnType:"full",collectionMethod:"transport"},{id:"RR002",requestId:"RR-2026-002",customerName:"ABC Construction Sdn Bhd",agreementNo:"AGR-2026-001",setName:"Set A - Initial Phase",items:[{name:"Scaffolding Pipe 6m",quantity:50},{name:"Coupler Standard",quantity:100}],requestDate:"2026-12-08",status:"Requested",reason:"Partial return - Phase 1 completed",pickupAddress:"Jalan Raja Laut, 50350 Kuala Lumpur",customerPhone:"+60123456789",customerEmail:"contact@abc.com",returnType:"partial",collectionMethod:"self-return"},{id:"RR003",requestId:"RR-2026-003",customerName:"Megah Engineering Sdn Bhd",agreementNo:"AGR-2026-004",setName:"Set C - Rooftop",items:[{name:"Aluminum Tube 4m",quantity:100},{name:"Edge Protection",quantity:60},{name:"Toe Board",quantity:50}],requestDate:"2026-12-05",status:"Requested",reason:"Phase completed ahead of schedule",pickupAddress:"Jalan Sultan Ismail, 50250 Kuala Lumpur",customerPhone:"+60167654321",customerEmail:"projects@megah.com",returnType:"full",collectionMethod:"self-return"},{id:"RR004",requestId:"RR-2026-004",customerName:"Sunrise Development Sdn Bhd",agreementNo:"AGR-2026-007",setName:"Set A - Bridge Construction",items:[{name:"Heavy Duty Tube 6m",quantity:120},{name:"Beam Clamp",quantity:90},{name:"Support Frame",quantity:45}],requestDate:"2026-12-07",status:"Requested",reason:"Partial return - Downsizing project scope",pickupAddress:"Jalan Damansara, 60000 Kuala Lumpur",customerPhone:"+60172223333",customerEmail:"ops@sunrise.com",returnType:"partial",collectionMethod:"transport"}]),eh=e=>{switch(e){case"Pending":case"Requested":default:return"bg-gray-100 text-gray-800";case"Quoted":return"bg-blue-100 text-blue-800";case"Agreed":case"DO Generated":case"GRN Generated":case"Delivered":case"Customer Confirmed":return"bg-green-100 text-green-800";case"Scheduled":case"Confirmed":return"bg-purple-100 text-purple-800";case"Packing List Issued":case"Customer Notified":return"bg-indigo-100 text-indigo-800";case"Packing & Loading":return"bg-yellow-100 text-yellow-800";case"Driver Acknowledged":return"bg-cyan-100 text-cyan-800";case"In Transit":return"bg-orange-100 text-orange-800";case"Received":return"bg-teal-100 text-teal-800";case"Cancelled":return"bg-red-100 text-red-800"}},ex=(e,t)=>{let r=e.sets.findIndex(e=>e.id===t.id);if(0===r)return!0;let s=e.sets[r-1];return"DO Generated"===s.status||"Customer Confirmed"===s.status||"Delivered"===s.status},ep=ec.filter(e=>e.customerName.toLowerCase().includes(r.toLowerCase())||e.requestId.toLowerCase().includes(r.toLowerCase())||e.agreementNo.toLowerCase().includes(r.toLowerCase())),ef=eu.filter(e=>e.customerName.toLowerCase().includes(r.toLowerCase())||e.requestId.toLowerCase().includes(r.toLowerCase())||e.agreementNo.toLowerCase().includes(r.toLowerCase()));return(0,z.jsxs)("div",{className:"p-6 space-y-6",children:[(0,z.jsx)("div",{className:"flex items-center justify-between",children:(0,z.jsxs)("div",{children:[(0,z.jsx)("h1",{className:"text-[#231F20]",children:"Delivery & Return Management"}),(0,z.jsx)("p",{className:"text-gray-600",children:"Manage delivery and return requests with quotation workflow"})]})}),(0,z.jsxs)("div",{className:"flex space-x-4 border-b border-gray-200",children:[(0,z.jsx)("button",{onClick:()=>t("delivery"),className:`pb-3 px-4 ${"delivery"===e?"border-b-2 border-[#F15929] text-[#F15929]":"text-gray-500 hover:text-gray-700"}`,children:(0,z.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,z.jsx)(eo,{className:"size-5"}),(0,z.jsx)("span",{children:"Delivery Requests"})]})}),(0,z.jsx)("button",{onClick:()=>t("return"),className:`pb-3 px-4 ${"return"===e?"border-b-2 border-[#F15929] text-[#F15929]":"text-gray-500 hover:text-gray-700"}`,children:(0,z.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,z.jsx)(ei,{className:"size-5"}),(0,z.jsx)("span",{children:"Return Requests"})]})})]}),(0,z.jsx)("div",{className:"flex items-center space-x-4",children:(0,z.jsxs)("div",{className:"flex-1 relative",children:[(0,z.jsx)(et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 size-5"}),(0,z.jsx)("input",{type:"text",placeholder:"Search by customer, request ID, or agreement...",value:r,onChange:e=>s(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F15929]"})]})}),"delivery"===e&&(0,z.jsxs)("div",{className:"space-y-6",children:[ep.map(e=>(0,z.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 space-y-4",children:[(0,z.jsx)("div",{className:"flex items-start justify-between pb-4 border-b",children:(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,z.jsx)("h3",{className:"text-lg text-[#231F20]",children:e.requestId}),(0,z.jsx)("span",{className:"px-3 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:"Delivery"})]}),(0,z.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,z.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[(0,z.jsx)(xU,{className:"size-4"}),(0,z.jsx)("span",{children:e.customerName})]}),(0,z.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[(0,z.jsx)(K,{className:"size-4"}),(0,z.jsx)("span",{children:e.agreementNo})]}),(0,z.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[(0,z.jsx)(cp,{className:"size-4"}),(0,z.jsx)("span",{children:e.customerPhone})]}),(0,z.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[(0,z.jsx)(hb,{className:"size-4"}),(0,z.jsx)("span",{children:e.deliveryAddress})]})]})]})}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("h4",{className:"text-sm text-gray-500",children:["Sets (",e.deliveredSets,"/",e.totalSets," delivered)"]}),e.sets.map((t,r)=>{let s;return(0,z.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 space-y-3",children:(0,z.jsxs)("div",{className:"flex items-start justify-between",children:[(0,z.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,z.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,z.jsx)("h5",{className:"text-[#231F20]",children:t.setName}),(0,z.jsx)("span",{className:`px-2 py-1 rounded-full text-xs ${eh(t.status)}`,children:t.status}),r>0&&"Pending"===t.status&&!ex(e,t)&&(0,z.jsxs)("span",{className:"text-xs text-gray-500 italic",children:["(Will quote after Set ",String.fromCharCode(65+r-1)," is completed)"]})]}),(0,z.jsxs)("p",{className:"text-sm text-gray-600",children:["Period: ",t.scheduledPeriod]}),(0,z.jsxs)("div",{className:"bg-gray-50 rounded p-3 space-y-1",children:[(0,z.jsx)("p",{className:"text-xs text-gray-500",children:"Items:"}),t.items.map((e,t)=>(0,z.jsxs)("p",{className:"text-sm text-gray-700",children:[" ",e.name," - Qty: ",e.quantity]},t))]}),t.quotedAmount&&(0,z.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,z.jsxs)("span",{className:"text-gray-600",children:["Rental: ",(0,z.jsxs)("span",{className:"text-[#F15929]",children:["RM ",t.quotedAmount.toLocaleString()]})]}),t.deliveryFee&&(0,z.jsxs)("span",{className:"text-gray-600",children:["Delivery Fee: ",(0,z.jsxs)("span",{className:"text-[#F15929]",children:["RM ",t.deliveryFee.toLocaleString()]})]})]})]}),(0,z.jsx)("div",{children:(s=((e,t)=>{if("Cancelled"===t.status)return null;if("Pending"===t.status&&!ex(e,t))return{label:"Waiting for previous set",disabled:!0,color:"gray"};if("delivery"===e.deliveryType||"pickup"===e.deliveryType)switch(t.status){case"Pending":return{label:"Issue Quotation",action:()=>{l(e),c(t),u(!0)},color:"blue"};case"Quoted":return{label:"Generate DO",action:()=>{S(e),c(t),w(!0)},color:"green"};case"DO Generated":return{label:"View DO",action:()=>{M({request:e,set:t}),O(!0)},color:"green",disabled:!1};default:return null}})(e,t))?(0,z.jsx)("button",{onClick:s.action,disabled:s.disabled,className:`px-4 py-2 rounded-lg text-sm ${s.disabled?"bg-gray-100 text-gray-400 cursor-not-allowed":`bg-${s.color}-500 hover:bg-${s.color}-600 text-white`}`,style:{backgroundColor:s.disabled?void 0:"blue"===s.color?"#3b82f6":"indigo"===s.color?"#6366f1":"yellow"===s.color?"#eab308":"cyan"===s.color?"#06b6d4":"green"===s.color?"#10b981":"gray"===s.color?"#9ca3af":"#3b82f6"},children:s.label}):null})]})},t.id)})]})]},e.id)),0===ep.length&&(0,z.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[(0,z.jsx)(eo,{className:"size-12 text-gray-400 mx-auto mb-4"}),(0,z.jsx)("p",{className:"text-gray-600",children:"No delivery requests found"})]})]}),"return"===e&&(0,z.jsxs)("div",{className:"space-y-4",children:[ef.map(e=>{let t;return(0,z.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 space-y-4",children:(0,z.jsxs)("div",{className:"flex items-start justify-between",children:[(0,z.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,z.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,z.jsx)("h3",{className:"text-lg text-[#231F20]",children:e.requestId}),(0,z.jsx)("span",{className:`px-3 py-1 rounded-full text-xs ${eh(e.status)}`,children:e.status})]}),(0,z.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[(0,z.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,z.jsx)(xU,{className:"size-4"}),(0,z.jsx)("span",{children:e.customerName})]}),(0,z.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,z.jsx)(K,{className:"size-4"}),(0,z.jsx)("span",{children:e.agreementNo})]}),(0,z.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,z.jsx)(ei,{className:"size-4"}),(0,z.jsx)("span",{children:e.setName})]}),(0,z.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,z.jsx)(hb,{className:"size-4"}),(0,z.jsx)("span",{children:e.pickupAddress})]})]}),(0,z.jsxs)("div",{className:"bg-gray-50 rounded p-3 space-y-1",children:[(0,z.jsx)("p",{className:"text-xs text-gray-500",children:"Items to be returned:"}),e.items.map((e,t)=>(0,z.jsxs)("p",{className:"text-sm text-gray-700",children:[" ",e.name," - Qty: ",e.quantity]},t))]}),e.pickupFee&&(0,z.jsx)("div",{className:"text-sm",children:(0,z.jsxs)("span",{className:"text-gray-600",children:["Pickup Fee: ",(0,z.jsxs)("span",{className:"text-[#F15929]",children:["RM ",e.pickupFee.toLocaleString()]})]})}),(0,z.jsxs)("p",{className:"text-sm text-gray-600",children:["Reason: ",e.reason]}),e.scheduledDate&&(0,z.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,z.jsx)(Z,{className:"size-4"}),(0,z.jsxs)("span",{children:["Scheduled: ",e.scheduledDate]})]})]}),(0,z.jsxs)("div",{className:"flex items-center space-x-2",children:[(t=(e=>{switch(e.status){case"Requested":return{label:"Issue Quotation",action:()=>{E(e),h(!0)},color:"blue"};case"Quoted":return{label:"Agree",action:()=>{em(eu.map(t=>t.id===e.id?{...t,status:"Agreed"}:t)),alert("Customer agreed to return quotation. Status updated to Agreed.")},color:"green"};case"Agreed":return{label:"Agreed",disabled:!0,color:"gray"};case"Cancelled":return{label:"Cancelled",disabled:!0,color:"gray"};default:return null}})(e))?(0,z.jsx)("button",{onClick:t.action,disabled:t.disabled,className:`px-4 py-2 rounded-lg text-sm ${t.disabled?"bg-gray-100 text-gray-400 cursor-not-allowed":`bg-${t.color}-500 hover:bg-${t.color}-600 text-white`}`,style:{backgroundColor:t.disabled?void 0:"blue"===t.color?"#3b82f6":"green"===t.color?"#10b981":"gray"===t.color?"#9ca3af":"#3b82f6"},children:t.label}):null,(0,z.jsx)("button",{onClick:()=>{E(e),F(!0)},className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"View Details",children:(0,z.jsx)(K,{className:"size-5"})})]})]})},e.id)}),0===ef.length&&(0,z.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[(0,z.jsx)(ei,{className:"size-12 text-gray-400 mx-auto mb-4"}),(0,z.jsx)("p",{className:"text-gray-600",children:"No return requests found"})]})]}),d&&i&&o&&(0,z.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,z.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md space-y-4",children:[(0,z.jsx)("h3",{className:"text-xl text-[#231F20]",children:"Issue Quotation & Delivery Fee"}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{children:[(0,z.jsxs)("p",{className:"text-sm text-gray-600",children:["Set: ",o.setName]}),(0,z.jsxs)("p",{className:"text-sm text-gray-600",children:["Rental Amount: RM ",o.quotedAmount?.toLocaleString()]})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Delivery Fee (RM)"}),(0,z.jsx)("input",{type:"number",value:V,onChange:e=>W(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F15929]",placeholder:"Enter delivery fee"})]}),(0,z.jsx)("p",{className:"text-xs text-gray-500",children:"Note: Sets are quoted sequentially. Set B will only be quoted after Set A is completed, unless customer requests early rental or extension."})]}),(0,z.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,z.jsx)("button",{onClick:()=>{u(!1),W("")},className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),(0,z.jsx)("button",{onClick:()=>{i&&o&&V&&(ed(ec.map(e=>e.id===i.id?{...e,sets:e.sets.map(e=>e.id===o.id?{...e,deliveryFee:parseFloat(V),status:"Quoted"}:e)}:e)),u(!1),W(""),alert("Quotation issued successfully!"))},className:"px-4 py-2 bg-[#F15929] hover:bg-[#d94d1f] text-white rounded-lg",children:"Issue Quotation"})]})]})}),m&&k&&(0,z.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,z.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md space-y-4",children:[(0,z.jsx)("h3",{className:"text-xl text-[#231F20]",children:"Issue Return Pickup Quotation"}),(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{children:[(0,z.jsxs)("p",{className:"text-sm text-gray-600",children:["Request ID: ",k.requestId]}),(0,z.jsxs)("p",{className:"text-sm text-gray-600",children:["Set: ",k.setName]}),(0,z.jsxs)("p",{className:"text-sm text-gray-600",children:["Pickup Address: ",k.pickupAddress]})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Pickup/Transportation Fee (RM)"}),(0,z.jsx)("input",{type:"number",value:H,onChange:e=>Y(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F15929]",placeholder:"Enter pickup fee for vehicle"})]}),(0,z.jsx)("p",{className:"text-xs text-gray-500",children:"Quote the transportation fee for sending a vehicle to pick up the returned items from the customer site."})]}),(0,z.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,z.jsx)("button",{onClick:()=>{h(!1),Y("")},className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),(0,z.jsx)("button",{onClick:()=>{k&&H&&(em(eu.map(e=>e.id===k.id?{...e,pickupFee:parseFloat(H),status:"Quoted"}:e)),h(!1),Y(""),alert("Return pickup quotation issued successfully!"))},className:"px-4 py-2 bg-[#F15929] hover:bg-[#d94d1f] text-white rounded-lg",children:"Issue Quotation"})]})]})}),A&&k&&(0,z.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,z.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md space-y-4",children:[(0,z.jsx)("h3",{className:"text-xl text-[#231F20]",children:"Return Request Details"}),(0,z.jsxs)("div",{className:"space-y-3",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm text-gray-500",children:"Request ID"}),(0,z.jsx)("p",{className:"text-sm text-gray-900",children:k.requestId})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm text-gray-500",children:"Customer Name"}),(0,z.jsx)("p",{className:"text-sm text-gray-900",children:k.customerName})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm text-gray-500",children:"Agreement Number"}),(0,z.jsx)("p",{className:"text-sm text-gray-900",children:k.agreementNo})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm text-gray-500",children:"Set Name"}),(0,z.jsx)("p",{className:"text-sm text-gray-900",children:k.setName})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm text-gray-500",children:"Pickup Address"}),(0,z.jsx)("p",{className:"text-sm text-gray-900",children:k.pickupAddress})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm text-gray-500",children:"Request Date"}),(0,z.jsx)("p",{className:"text-sm text-gray-900",children:k.requestDate})]}),k.scheduledDate&&(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm text-gray-500",children:"Scheduled Return Date"}),(0,z.jsx)("p",{className:"text-sm text-gray-900",children:k.scheduledDate})]}),k.pickupFee&&(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm text-gray-500",children:"Pickup Fee"}),(0,z.jsxs)("p",{className:"text-sm text-gray-900",children:["RM ",k.pickupFee.toLocaleString()]})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm text-gray-500",children:"Status"}),(0,z.jsx)("span",{className:`inline-block px-3 py-1 rounded-full text-xs ${eh(k.status)}`,children:k.status})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"block text-sm text-gray-500",children:"Reason for Return"}),(0,z.jsx)("p",{className:"text-sm text-gray-900",children:k.reason})]})]}),(0,z.jsx)("div",{className:"flex items-center justify-end",children:(0,z.jsx)("button",{onClick:()=>F(!1),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg",children:"Close"})})]})}),N&&C&&o&&(0,z.jsx)(MS,{requestId:C.requestId,customerName:C.customerName,agreementNo:C.agreementNo,setDetails:{setName:o.setName,items:o.items.map(e=>({...e,unit:"pcs"}))},deliveryAddress:C.deliveryAddress,deliveryDate:new Date().toISOString().split("T")[0],customerPhone:C.customerPhone,customerEmail:C.customerEmail,onClose:()=>{ed(ec.map(e=>e.id===C.id?{...e,sets:e.sets.map(e=>e.id===o.id?{...e,status:"DO Generated"}:e)}:e)),w(!1),alert("Delivery Order generated successfully!")}}),R&&I&&(0,z.jsx)(MS,{requestId:I.request.requestId,customerName:I.request.customerName,agreementNo:I.request.agreementNo,setDetails:{setName:I.set.setName,items:I.set.items.map(e=>({...e,unit:"pcs"}))},deliveryAddress:I.request.deliveryAddress,deliveryDate:I.set.deliveryDate||new Date().toISOString().split("T")[0],customerPhone:I.request.customerPhone,customerEmail:I.request.customerEmail,onClose:()=>O(!1)}),T&&k&&(0,z.jsx)(MS,{requestId:k.requestId,customerName:k.customerName,agreementNo:k.agreementNo,setDetails:{setName:k.setName,items:k.items.map(e=>({...e,unit:"pcs"}))},deliveryAddress:k.pickupAddress,deliveryDate:new Date().toISOString().split("T")[0],customerPhone:k.customerPhone,customerEmail:k.customerEmail,onClose:()=>{em(eu.map(e=>e.id===k.id?{...e,status:"DO Generated"}:e)),B(!1),alert("Return DO generated successfully!")}}),_&&k&&(0,z.jsx)(MS,{requestId:k.requestId,customerName:k.customerName,agreementNo:k.agreementNo,setDetails:{setName:k.setName,items:k.items.map(e=>({...e,unit:"pcs"}))},deliveryAddress:k.pickupAddress,deliveryDate:k.scheduledDate||new Date().toISOString().split("T")[0],customerPhone:k.customerPhone,customerEmail:k.customerEmail,onClose:()=>L(!1)})]})}function MP({status:e}){let t={"Pending Payment":{bg:"bg-[#FEF3C7]",text:"text-[#92400E]",label:"Pending Payment"},"Pending Approval":{bg:"bg-[#DBEAFE]",text:"text-[#1E40AF]",label:"Pending Approval"},Approved:{bg:"bg-[#D1FAE5]",text:"text-[#065F46]",label:"Approved"},Rejected:{bg:"bg-[#FEE2E2]",text:"text-[#991B1B]",label:"Rejected"}}[e];return(0,z.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs ${t.bg} ${t.text}`,children:t.label})}let Mk=Y("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);function ME({isOpen:e,onClose:t,onUpload:r,chargeId:s}){let[a,n]=(0,q.useState)(null),[i,l]=(0,q.useState)(!1);if(!e)return null;let o=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?l(!0):"dragleave"===e.type&&l(!1)},c=()=>{n(null),t()};return(0,z.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,z.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[(0,z.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-[#E5E7EB]",children:[(0,z.jsx)("h2",{className:"text-[18px] text-[#231F20]",children:"Upload Proof of Payment"}),(0,z.jsx)("button",{onClick:c,className:"text-[#6B7280] hover:text-[#231F20] transition-colors",children:(0,z.jsx)(ea,{className:"h-5 w-5"})})]}),(0,z.jsxs)("div",{className:"p-6 space-y-4",children:[(0,z.jsxs)("p",{className:"text-sm text-[#6B7280]",children:["Upload proof of payment for Additional Charge ",s]}),(0,z.jsxs)("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${i?"border-[#F15929] bg-[#FEF2F2]":"border-[#D1D5DB] bg-[#F9FAFB]"}`,onDragEnter:o,onDragLeave:o,onDragOver:o,onDrop:e=>{if(e.preventDefault(),e.stopPropagation(),l(!1),e.dataTransfer.files&&e.dataTransfer.files[0]){let t=e.dataTransfer.files[0];t.type.startsWith("image/")||"application/pdf"===t.type?n(t):ld.error("Please upload an image or PDF file")}},children:[a?(0,z.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,z.jsx)(Mk,{className:"h-8 w-8 text-[#F15929]"}),(0,z.jsxs)("div",{className:"text-left",children:[(0,z.jsx)("p",{className:"text-sm text-[#231F20]",children:a.name}),(0,z.jsxs)("p",{className:"text-xs text-[#6B7280]",children:[(a.size/1024).toFixed(2)," KB"]})]})]}):(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(oo,{className:"h-12 w-12 text-[#9CA3AF] mx-auto mb-4"}),(0,z.jsx)("p",{className:"text-sm text-[#231F20] mb-2",children:"Drag and drop your file here, or click to browse"}),(0,z.jsx)("p",{className:"text-xs text-[#6B7280]",children:"Supported formats: JPG, PNG, PDF (Max 5MB)"})]}),(0,z.jsx)("input",{type:"file",onChange:e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0];t.type.startsWith("image/")||"application/pdf"===t.type?n(t):ld.error("Please upload an image or PDF file")}},accept:"image/*,.pdf",className:"hidden",id:"file-upload"}),(0,z.jsx)("label",{htmlFor:"file-upload",className:"mt-4 inline-block cursor-pointer text-sm text-[#F15929] hover:text-[#D14620]",children:"Browse Files"})]}),(0,z.jsx)("div",{className:"bg-[#FEF3C7] border border-[#F59E0B] rounded-lg p-3",children:(0,z.jsxs)("p",{className:"text-xs text-[#92400E]",children:[(0,z.jsx)("strong",{children:"Note:"})," POP is required before submitting for approval. Ensure the payment reference is clearly visible."]})})]}),(0,z.jsxs)("div",{className:"flex justify-end gap-3 p-6 border-t border-[#E5E7EB]",children:[(0,z.jsx)(tb,{variant:"outline",onClick:c,className:"h-10 px-6 rounded-lg",children:"Cancel"}),(0,z.jsx)(tb,{onClick:()=>{a?(r(a),n(null),t()):ld.error("Please select a file to upload")},disabled:!a,className:"bg-[#F15929] hover:bg-[#D14620] text-white h-10 px-6 rounded-lg",children:"Submit Proof of Payment"})]})]})})}function MA({isOpen:e,onClose:t,onApprove:r,chargeId:s}){let[a,n]=(0,q.useState)("");if(!e)return null;let i=()=>{n(""),t()};return(0,z.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,z.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[(0,z.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-[#E5E7EB]",children:[(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)("div",{className:"h-10 w-10 rounded-full bg-[#D1FAE5] flex items-center justify-center",children:(0,z.jsx)(oc,{className:"h-5 w-5 text-[#065F46]"})}),(0,z.jsx)("h2",{className:"text-[18px] text-[#231F20]",children:"Approve Payment"})]}),(0,z.jsx)("button",{onClick:i,className:"text-[#6B7280] hover:text-[#231F20] transition-colors",children:(0,z.jsx)(ea,{className:"h-5 w-5"})})]}),(0,z.jsxs)("div",{className:"p-6 space-y-4",children:[(0,z.jsxs)("p",{className:"text-sm text-[#6B7280]",children:["You are about to approve Additional Charge ",(0,z.jsx)("strong",{children:s}),". Please enter the reference/transaction ID for record purposes."]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)("label",{className:"text-[14px] text-[#374151]",children:["Reference ID / Transaction ID ",(0,z.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,z.jsx)(tN,{type:"text",value:a,onChange:e=>n(e.target.value),placeholder:"e.g., TXN-20241210-001",className:"h-10 border-[#D1D5DB] rounded-md"})]}),(0,z.jsx)("div",{className:"bg-[#D1FAE5] border border-[#10B981] rounded-lg p-3",children:(0,z.jsxs)("p",{className:"text-xs text-[#065F46]",children:[(0,z.jsx)("strong",{children:"Confirmation:"})," Once approved, this action cannot be undone. The payment will be marked as completed."]})})]}),(0,z.jsxs)("div",{className:"flex justify-end gap-3 p-6 border-t border-[#E5E7EB]",children:[(0,z.jsx)(tb,{variant:"outline",onClick:i,className:"h-10 px-6 rounded-lg",children:"Cancel"}),(0,z.jsxs)(tb,{onClick:()=>{a.trim()?(r(a),n(""),t()):ld.error("Please enter a reference/transaction ID")},className:"bg-[#10B981] hover:bg-[#059669] text-white h-10 px-6 rounded-lg",children:[(0,z.jsx)(oc,{className:"h-4 w-4 mr-2"}),"Approve Payment"]})]})]})})}function MF({isOpen:e,onClose:t,onReject:r,chargeId:s}){let[a,n]=(0,q.useState)("");if(!e)return null;let i=()=>{n(""),t()};return(0,z.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,z.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[(0,z.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-[#E5E7EB]",children:[(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)("div",{className:"h-10 w-10 rounded-full bg-[#FEE2E2] flex items-center justify-center",children:(0,z.jsx)(cU,{className:"h-5 w-5 text-[#991B1B]"})}),(0,z.jsx)("h2",{className:"text-[18px] text-[#231F20]",children:"Reject Payment"})]}),(0,z.jsx)("button",{onClick:i,className:"text-[#6B7280] hover:text-[#231F20] transition-colors",children:(0,z.jsx)(ea,{className:"h-5 w-5"})})]}),(0,z.jsxs)("div",{className:"p-6 space-y-4",children:[(0,z.jsxs)("p",{className:"text-sm text-[#6B7280]",children:["You are about to reject Additional Charge ",(0,z.jsx)("strong",{children:s}),". Please provide a clear reason for rejection."]}),(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsxs)("label",{className:"text-[14px] text-[#374151]",children:["Rejection Reason ",(0,z.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,z.jsx)(dl,{value:a,onChange:e=>n(e.target.value),placeholder:"Explain why the payment proof is being rejected...",className:"min-h-[120px] border-[#D1D5DB] rounded-md"})]}),(0,z.jsx)("div",{className:"bg-[#FEF3C7] border border-[#F59E0B] rounded-lg p-3",children:(0,z.jsxs)("p",{className:"text-xs text-[#92400E]",children:[(0,z.jsx)("strong",{children:"Note:"})," The customer can resubmit a new proof of payment until the due date."]})})]}),(0,z.jsxs)("div",{className:"flex justify-end gap-3 p-6 border-t border-[#E5E7EB]",children:[(0,z.jsx)(tb,{variant:"outline",onClick:i,className:"h-10 px-6 rounded-lg",children:"Cancel"}),(0,z.jsxs)(tb,{onClick:()=>{a.trim()?(r(a),n(""),t()):ld.error("Please provide a rejection reason")},className:"bg-[#DC2626] hover:bg-[#B91C1C] text-white h-10 px-6 rounded-lg",children:[(0,z.jsx)(cU,{className:"h-4 w-4 mr-2"}),"Reject Payment"]})]})]})})}let MR=[{id:"AC-2024-001",invoiceNo:"INV-2024-045",doId:"DO-2024-001",customerName:"Acme Construction Ltd.",customerId:"CUST-001",returnedDate:"2024-12-01",inspectionReportId:"IR-2024-001",totalCharges:315.75,status:"Pending Payment",dueDate:"2024-12-20",lastUpdated:"2024-12-10 09:30 AM",items:[{id:"1",itemName:"Steel Pipe Scaffolding - Standard (6m)",itemType:"Damaged",quantity:3,unitPrice:10.5,amount:31.5,remark:"Major dents on horizontal members"},{id:"2",itemName:"Scaffold Board - Wooden (3.9m)",itemType:"Missing",quantity:2,unitPrice:50,amount:100,remark:"Not returned"},{id:"3",itemName:"Swivel Coupler",itemType:"Cleaning",quantity:15,unitPrice:2.1,amount:31.5,remark:"Concrete residue cleaning required"},{id:"4",itemName:"Steel Tube - Heavy Duty (4m)",itemType:"Repair",quantity:4,unitPrice:5.25,amount:21,remark:"Repairable bend"}]},{id:"AC-2024-002",invoiceNo:"INV-2024-046",doId:"DO-2024-002",customerName:"BuildRight Inc.",customerId:"CUST-002",returnedDate:"2024-12-03",inspectionReportId:"IR-2024-002",totalCharges:168,status:"Pending Approval",dueDate:"2024-12-22",lastUpdated:"2024-12-10 10:15 AM",proofOfPayment:"pop-ac-2024-002.pdf",items:[{id:"1",itemName:"H-Frame Scaffolding (1.7m x 1.2m)",itemType:"Damaged",quantity:2,unitPrice:10.5,amount:21,remark:"Welding points broken"},{id:"2",itemName:"Ringlock System - Vertical (3m)",itemType:"Cleaning",quantity:70,unitPrice:2.1,amount:147}]},{id:"AC-2024-003",invoiceNo:"INV-2024-047",doId:"DO-2024-003",customerName:"Metro Builders",customerId:"CUST-003",returnedDate:"2024-12-05",inspectionReportId:"IR-2024-003",totalCharges:525.5,status:"Approved",dueDate:"2024-12-24",lastUpdated:"2024-12-08 02:45 PM",proofOfPayment:"pop-ac-2024-003.pdf",referenceId:"TXN-20241208-001",approvalDate:"2024-12-08",items:[{id:"1",itemName:"Aluminum Mobile Tower (5m)",itemType:"Missing",quantity:1,unitPrice:480,amount:480,remark:"Complete unit not returned"},{id:"2",itemName:"Steel Pipe Scaffolding - Standard (6m)",itemType:"Repair",quantity:5,unitPrice:5.25,amount:26.25},{id:"3",itemName:"Swivel Coupler",itemType:"Cleaning",quantity:9,unitPrice:2.1,amount:18.9}]},{id:"AC-2024-004",invoiceNo:"INV-2024-048",doId:"DO-2024-004",customerName:"Premium Projects",customerId:"CUST-004",returnedDate:"2024-12-07",totalCharges:94.5,status:"Rejected",dueDate:"2024-12-26",lastUpdated:"2024-12-09 11:20 AM",proofOfPayment:"pop-ac-2024-004.pdf",rejectionReason:"Payment reference number is not visible in the uploaded document. Please upload a clearer image showing the complete transaction details.",rejectionDate:"2024-12-09",items:[{id:"1",itemName:"Steel Tube - Heavy Duty (4m)",itemType:"Damaged",quantity:6,unitPrice:10.5,amount:63,remark:"Severe rust damage"},{id:"2",itemName:"Scaffold Board - Wooden (3.9m)",itemType:"Cleaning",quantity:15,unitPrice:2.1,amount:31.5,remark:"Paint removal required"}]}];function MO({onViewDetails:e}){let[t,r]=(0,q.useState)(""),[s,a]=(0,q.useState)("all"),[n,i]=(0,q.useState)(MR),[l,o]=(0,q.useState)(!1),[c,d]=(0,q.useState)(!1),[u,m]=(0,q.useState)(!1),[h,x]=(0,q.useState)(null),p=n.filter(e=>{let r=e.invoiceNo.toLowerCase().includes(t.toLowerCase())||e.doId.toLowerCase().includes(t.toLowerCase())||e.customerName.toLowerCase().includes(t.toLowerCase())||e.id.toLowerCase().includes(t.toLowerCase()),a="all"===s||e.status===s;return r&&a}),f=e=>{let t=n.find(t=>t.id===e);t&&(x(t),o(!0))};return(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("h1",{children:"Additional Charges"}),(0,z.jsx)("p",{className:"text-[#374151]",children:"Manage additional charges for damaged, missing, or items requiring cleaning/repair"})]}),(0,z.jsx)(ot,{className:"border-[#E5E7EB]",children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,z.jsxs)("div",{className:"flex-1 relative",children:[(0,z.jsx)(et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#9CA3AF] h-4 w-4"}),(0,z.jsx)(tN,{placeholder:"Search by Invoice, DO, Customer, or Charge ID...",value:t,onChange:e=>r(e.target.value),className:"pl-10 h-10 border-[#D1D5DB] rounded-md"})]}),(0,z.jsxs)(cl,{value:s,onValueChange:a,children:[(0,z.jsx)(cc,{className:"w-full md:w-[200px] h-10 border-[#D1D5DB] rounded-md",children:(0,z.jsx)(co,{placeholder:"Filter by status"})}),(0,z.jsxs)(cd,{children:[(0,z.jsx)(cu,{value:"all",children:"All Statuses"}),(0,z.jsx)(cu,{value:"Pending Payment",children:"Pending Payment"}),(0,z.jsx)(cu,{value:"Pending Approval",children:"Pending Approval"}),(0,z.jsx)(cu,{value:"Approved",children:"Approved"}),(0,z.jsx)(cu,{value:"Rejected",children:"Rejected"})]})]})]})})}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsxs)(os,{className:"text-[18px]",children:["Additional Charges List (",p.length,")"]})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"rounded-md border border-[#E5E7EB]",children:(0,z.jsxs)(c8,{children:[(0,z.jsx)(c7,{children:(0,z.jsxs)(de,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,z.jsx)(dt,{className:"text-[#374151]",children:"Invoice No."}),(0,z.jsx)(dt,{className:"text-[#374151]",children:"DO ID"}),(0,z.jsx)(dt,{className:"text-[#374151]",children:"Customer Name"}),(0,z.jsx)(dt,{className:"text-[#374151]",children:"Total Charges"}),(0,z.jsx)(dt,{className:"text-[#374151]",children:"Status"}),(0,z.jsx)(dt,{className:"text-[#374151]",children:"Due Date"}),(0,z.jsx)(dt,{className:"text-[#374151] text-right",children:"Action"})]})}),(0,z.jsx)(c9,{children:0===p.length?(0,z.jsx)(de,{children:(0,z.jsx)(dr,{colSpan:7,className:"text-center py-8 text-[#9CA3AF]",children:"No additional charges found"})}):p.map(t=>{let r=new Date(t.dueDate)<new Date&&("Pending Payment"===t.status||"Rejected"===t.status);return(0,z.jsxs)(de,{className:"hover:bg-[#F9FAFB]",children:[(0,z.jsx)(dr,{className:"text-[#231F20]",children:t.invoiceNo}),(0,z.jsx)(dr,{className:"text-[#231F20]",children:t.doId}),(0,z.jsx)(dr,{className:"text-[#374151]",children:t.customerName}),(0,z.jsxs)(dr,{className:"text-[#231F20]",children:["RM",t.totalCharges.toFixed(2)]}),(0,z.jsx)(dr,{children:(0,z.jsx)(MP,{status:t.status})}),(0,z.jsx)(dr,{children:(0,z.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,z.jsx)("span",{className:"text-[#374151]",children:new Date(t.dueDate).toLocaleDateString()}),r&&(0,z.jsx)("span",{className:"text-xs text-[#DC2626]",children:"Overdue"})]})}),(0,z.jsx)(dr,{className:"text-right",children:(0,z.jsxs)(n1,{children:[(0,z.jsx)(n2,{asChild:!0,children:(0,z.jsx)(tb,{variant:"ghost",className:"h-8 w-8 p-0 hover:bg-[#F3F4F6]",children:(0,z.jsx)(dg,{className:"h-4 w-4 text-[#6B7280]"})})}),(0,z.jsxs)(n4,{align:"end",className:"w-48",children:[(0,z.jsxs)(n5,{onClick:()=>e(t),children:[(0,z.jsx)(lv,{className:"mr-2 h-4 w-4"}),"View Details"]}),"Pending Payment"===t.status&&(0,z.jsxs)(n5,{onClick:()=>f(t.id),children:[(0,z.jsx)(oo,{className:"mr-2 h-4 w-4"}),"Upload POP"]}),"Pending Approval"===t.status&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(n5,{onClick:()=>{var e;let r;return e=t.id,void((r=n.find(t=>t.id===e))&&(x(r),d(!0)))},children:[(0,z.jsx)(oc,{className:"mr-2 h-4 w-4 text-[#10B981]"}),"Approve"]}),(0,z.jsxs)(n5,{onClick:()=>{var e;let r;return e=t.id,void((r=n.find(t=>t.id===e))&&(x(r),m(!0)))},children:[(0,z.jsx)(cU,{className:"mr-2 h-4 w-4 text-[#DC2626]"}),"Reject"]})]}),"Rejected"===t.status&&(e=>{if("Rejected"!==e.status)return!1;let t=new Date(e.dueDate);return new Date<=t})(t)&&(0,z.jsxs)(n5,{onClick:()=>f(t.id),children:[(0,z.jsx)(oo,{className:"mr-2 h-4 w-4"}),"Re-upload POP"]})]})]})})]},t.id)})})]})})})]}),h&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(ME,{isOpen:l,onClose:()=>o(!1),onUpload:e=>{h&&(i(n.map(t=>t.id===h.id?{...t,proofOfPayment:e.name,status:"Pending Approval",lastUpdated:new Date().toLocaleString()}:t)),ld.success("Proof of payment uploaded successfully"))},chargeId:h.id}),(0,z.jsx)(MA,{isOpen:c,onClose:()=>d(!1),onApprove:e=>{h&&(i(n.map(t=>t.id===h.id?{...t,status:"Approved",referenceId:e,approvalDate:new Date().toISOString().split("T")[0],lastUpdated:new Date().toLocaleString()}:t)),ld.success("Payment approved successfully"))},chargeId:h.id}),(0,z.jsx)(MF,{isOpen:u,onClose:()=>m(!1),onReject:e=>{h&&(i(n.map(t=>t.id===h.id?{...t,status:"Rejected",rejectionReason:e,rejectionDate:new Date().toISOString().split("T")[0],lastUpdated:new Date().toLocaleString()}:t)),ld.error("Payment rejected"))},chargeId:h.id})]})]})}function MI({charge:e,onBack:t,onUpdate:r}){let[s,a]=(0,q.useState)(e),[n,i]=(0,q.useState)(!1),[l,o]=(0,q.useState)(!1),[c,d]=(0,q.useState)(!1),u=()=>{if("Rejected"!==s.status)return!1;let e=new Date(s.dueDate);return new Date<=e},m=()=>{let e=new Date(s.dueDate);return new Date>e};return(0,z.jsxs)("div",{className:"space-y-6",children:[(0,z.jsxs)("div",{className:"flex items-start justify-between",children:[(0,z.jsxs)("div",{className:"flex items-center gap-4",children:[(0,z.jsxs)(tb,{variant:"ghost",onClick:t,className:"hover:bg-[#F3F4F6]",children:[(0,z.jsx)(lC,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("h1",{children:"Additional Charge Details"}),(0,z.jsx)("p",{className:"text-[#374151]",children:"View and manage additional charge information"})]})]}),(0,z.jsx)(MP,{status:s.status})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px]",children:"Charge Summary"})}),(0,z.jsx)(on,{children:(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"text-sm text-[#6B7280]",children:"Charge ID"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:s.id})]}),(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"text-sm text-[#6B7280]",children:"Invoice No."}),(0,z.jsx)("p",{className:"text-[#231F20]",children:s.invoiceNo})]}),(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"text-sm text-[#6B7280]",children:"Delivery Order (DO)"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:s.doId})]}),(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"text-sm text-[#6B7280]",children:"Customer Name"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:s.customerName})]}),(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"text-sm text-[#6B7280]",children:"Returned Date"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:new Date(s.returnedDate).toLocaleDateString()})]}),s.inspectionReportId&&(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"text-sm text-[#6B7280]",children:"Inspection Report ID"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:s.inspectionReportId})]}),(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"text-sm text-[#6B7280]",children:"Due Date"}),(0,z.jsxs)("p",{className:m()?"text-[#DC2626]":"text-[#231F20]",children:[new Date(s.dueDate).toLocaleDateString(),m()&&" (Overdue)"]})]}),(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"text-sm text-[#6B7280]",children:"Last Updated"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:s.lastUpdated})]}),(0,z.jsxs)("div",{className:"space-y-1",children:[(0,z.jsx)("p",{className:"text-sm text-[#6B7280]",children:"Total Additional Charges"}),(0,z.jsxs)("p",{className:"text-[#F15929] text-lg",children:["RM",s.totalCharges.toFixed(2)]})]})]})})]}),"Rejected"===s.status&&s.rejectionReason&&(0,z.jsx)(ot,{className:"border-[#DC2626] bg-[#FEF2F2]",children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsxs)("div",{className:"flex gap-3",children:[(0,z.jsx)(ej,{className:"h-5 w-5 text-[#DC2626] mt-0.5 flex-shrink-0"}),(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsx)("p",{className:"text-sm text-[#991B1B]",children:(0,z.jsx)("strong",{children:"Rejected Reason:"})}),(0,z.jsx)("p",{className:"text-sm text-[#DC2626] mt-1",children:s.rejectionReason}),u()&&(0,z.jsxs)("p",{className:"text-xs text-[#991B1B] mt-2",children:["You can resubmit proof of payment until"," ",new Date(s.dueDate).toLocaleDateString()]})]})]})})}),"Approved"===s.status&&s.referenceId&&(0,z.jsx)(ot,{className:"border-[#10B981] bg-[#ECFDF5]",children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsxs)("div",{className:"flex gap-3",children:[(0,z.jsx)(oc,{className:"h-5 w-5 text-[#10B981] mt-0.5 flex-shrink-0"}),(0,z.jsxs)("div",{className:"flex-1",children:[(0,z.jsx)("p",{className:"text-sm text-[#065F46]",children:(0,z.jsx)("strong",{children:"Payment Approved"})}),(0,z.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,z.jsxs)("p",{className:"text-sm text-[#065F46]",children:["Reference ID: ",(0,z.jsx)("strong",{children:s.referenceId})]}),s.approvalDate&&(0,z.jsxs)("p",{className:"text-sm text-[#065F46]",children:["Approved on: ",new Date(s.approvalDate).toLocaleDateString()]})]})]})]})})}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px]",children:"Item Breakdown"})}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"rounded-md border border-[#E5E7EB]",children:(0,z.jsxs)(c8,{children:[(0,z.jsx)(c7,{children:(0,z.jsxs)(de,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,z.jsx)(dt,{className:"text-[#374151]",children:"Item Name"}),(0,z.jsx)(dt,{className:"text-[#374151]",children:"Type"}),(0,z.jsx)(dt,{className:"text-[#374151]",children:"Quantity"}),(0,z.jsx)(dt,{className:"text-[#374151]",children:"Unit Price (RM)"}),(0,z.jsx)(dt,{className:"text-[#374151]",children:"Amount (RM)"}),(0,z.jsx)(dt,{className:"text-[#374151]",children:"Remark"})]})}),(0,z.jsxs)(c9,{children:[s.items.map(e=>(0,z.jsxs)(de,{className:"hover:bg-[#F9FAFB]",children:[(0,z.jsx)(dr,{className:"text-[#231F20]",children:e.itemName}),(0,z.jsx)(dr,{children:(0,z.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs ${(e=>{switch(e){case"Missing":return"bg-[#FEE2E2] text-[#991B1B]";case"Damaged":return"bg-[#FED7AA] text-[#9A3412]";case"Repair":return"bg-[#DBEAFE] text-[#1E40AF]";case"Cleaning":return"bg-[#E0E7FF] text-[#3730A3]";default:return"bg-[#F3F4F6] text-[#374151]"}})(e.itemType)}`,children:e.itemType})}),(0,z.jsx)(dr,{className:"text-[#231F20]",children:e.quantity}),(0,z.jsx)(dr,{className:"text-[#231F20]",children:e.unitPrice.toFixed(2)}),(0,z.jsx)(dr,{className:"text-[#231F20]",children:e.amount.toFixed(2)}),(0,z.jsx)(dr,{className:"text-[#6B7280] text-sm",children:e.remark||"-"})]},e.id)),(0,z.jsxs)(de,{className:"bg-[#FEF2F2] hover:bg-[#FEF2F2]",children:[(0,z.jsx)(dr,{colSpan:4,className:"text-right text-[#231F20]",children:(0,z.jsx)("strong",{children:"Total Additional Charges:"})}),(0,z.jsx)(dr,{colSpan:2,className:"text-[#F15929]",children:(0,z.jsxs)("strong",{children:["RM",s.totalCharges.toFixed(2)]})})]})]})]})})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{children:(0,z.jsx)(os,{className:"text-[18px]",children:"Proof of Payment"})}),(0,z.jsx)(on,{children:s.proofOfPayment?(0,z.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB]",children:[(0,z.jsxs)("div",{className:"flex items-center gap-3",children:[(0,z.jsx)(K,{className:"h-8 w-8 text-[#F15929]"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-[#231F20]",children:s.proofOfPayment}),(0,z.jsx)("p",{className:"text-xs text-[#6B7280]",children:"Uploaded proof of payment"})]})]}),(0,z.jsxs)(tb,{variant:"outline",size:"sm",className:"h-9 px-4 rounded-lg",onClick:()=>ld.info("Download functionality would be implemented here"),children:[(0,z.jsx)(cY,{className:"h-4 w-4 mr-2"}),"Download"]})]}):(0,z.jsxs)("div",{className:"text-center py-8 border-2 border-dashed border-[#D1D5DB] rounded-lg bg-[#F9FAFB]",children:[(0,z.jsx)(oo,{className:"h-12 w-12 text-[#9CA3AF] mx-auto mb-3"}),(0,z.jsx)("p",{className:"text-sm text-[#6B7280]",children:"No proof of payment uploaded yet"})]})})]}),(0,z.jsx)(ot,{className:"border-[#E5E7EB]",children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsxs)("div",{className:"flex flex-wrap gap-3",children:["Pending Payment"===s.status&&(0,z.jsxs)(tb,{onClick:()=>i(!0),className:"bg-[#F15929] hover:bg-[#D14620] text-white h-10 px-6 rounded-lg",children:[(0,z.jsx)(oo,{className:"h-4 w-4 mr-2"}),"Upload Proof of Payment"]}),"Pending Approval"===s.status&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(tb,{onClick:()=>o(!0),className:"bg-[#10B981] hover:bg-[#059669] text-white h-10 px-6 rounded-lg",children:[(0,z.jsx)(oc,{className:"h-4 w-4 mr-2"}),"Approve Payment"]}),(0,z.jsxs)(tb,{onClick:()=>d(!0),className:"bg-[#DC2626] hover:bg-[#B91C1C] text-white h-10 px-6 rounded-lg",children:[(0,z.jsx)(cU,{className:"h-4 w-4 mr-2"}),"Reject Payment"]})]}),"Rejected"===s.status&&u()&&(0,z.jsxs)(tb,{onClick:()=>i(!0),className:"bg-[#F15929] hover:bg-[#D14620] text-white h-10 px-6 rounded-lg",children:[(0,z.jsx)(oo,{className:"h-4 w-4 mr-2"}),"Resubmit Proof of Payment"]}),"Rejected"===s.status&&!u()&&(0,z.jsx)("div",{className:"w-full p-4 bg-[#FEF3C7] border border-[#F59E0B] rounded-lg",children:(0,z.jsxs)("p",{className:"text-sm text-[#92400E]",children:[(0,z.jsx)(ej,{className:"h-4 w-4 inline mr-2"}),"The due date has passed. Resubmission is no longer available."]})})]})})}),(0,z.jsx)(ME,{isOpen:n,onClose:()=>i(!1),onUpload:e=>{let t={...s,proofOfPayment:e.name,status:"Pending Approval",lastUpdated:new Date().toLocaleString()};a(t),r(t),ld.success("Proof of payment uploaded successfully")},chargeId:s.id}),(0,z.jsx)(MA,{isOpen:l,onClose:()=>o(!1),onApprove:e=>{let t={...s,status:"Approved",referenceId:e,approvalDate:new Date().toISOString().split("T")[0],lastUpdated:new Date().toLocaleString()};a(t),r(t),ld.success("Payment approved successfully")},chargeId:s.id}),(0,z.jsx)(MF,{isOpen:c,onClose:()=>d(!1),onReject:e=>{let t={...s,status:"Rejected",rejectionReason:e,rejectionDate:new Date().toISOString().split("T")[0],lastUpdated:new Date().toLocaleString()};a(t),r(t),ld.error("Payment rejected")},chargeId:s.id})]})}function MM(){let[e,t]=(0,q.useState)("list"),[r,s]=(0,q.useState)(null);return"detail"===e&&r?(0,z.jsx)(MI,{charge:r,onBack:()=>{s(null),t("list")},onUpdate:e=>{s(e)}}):(0,z.jsx)(MO,{onViewDetails:e=>{s(e),t("detail")}})}let MT=Y("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);function MB({customers:e,projects:t,selectedCustomer:r,selectedProject:s,onCustomerChange:a,onProjectChange:n}){return(0,z.jsx)(ot,{className:"border-[#E5E7EB]",children:(0,z.jsx)(on,{className:"pt-6",children:(0,z.jsxs)("div",{className:"space-y-4",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("label",{className:"text-sm text-[#374151] mb-2 block",children:"Select Project"}),(0,z.jsxs)(cl,{value:s?.id,onValueChange:r=>{let s=t.find(e=>e.id===r);if(s){n(s);let t=e.find(e=>e.id===s.customerId);t&&a(t)}},children:[(0,z.jsx)(cc,{className:"w-full h-10 border-[#D1D5DB] rounded-md",children:(0,z.jsx)(co,{placeholder:"Choose a project to view its statement of account"})}),(0,z.jsx)(cd,{children:t.map(e=>(0,z.jsx)(cu,{value:e.id,children:(0,z.jsxs)("div",{className:"flex flex-col",children:[(0,z.jsx)("span",{children:e.projectName}),(0,z.jsxs)("span",{className:"text-xs text-[#6B7280]",children:[e.id,"  ",e.customerName,"  ",e.status]})]})},e.id))})]})]}),s&&r&&(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-[#F9FAFB] rounded-md border border-[#E5E7EB]",children:[(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(MT,{className:"h-5 w-5 text-[#F15929] mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-xs text-[#6B7280]",children:"Project Name"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:s.projectName}),(0,z.jsxs)("p",{className:"text-xs text-[#6B7280] mt-0.5",children:["ID: ",s.id]})]})]}),(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(xU,{className:"h-5 w-5 text-[#F15929] mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-xs text-[#6B7280]",children:"Customer"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:r.name}),(0,z.jsxs)("p",{className:"text-xs text-[#6B7280] mt-0.5",children:[r.type,"  ",r.id]})]})]}),(0,z.jsxs)("div",{className:"flex items-start gap-3",children:[(0,z.jsx)(Z,{className:"h-5 w-5 text-[#F15929] mt-0.5"}),(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-xs text-[#6B7280]",children:"Project Period"}),(0,z.jsx)("p",{className:"text-[#231F20]",children:new Date(s.startDate).toLocaleDateString()}),(0,z.jsx)("p",{className:"text-xs text-[#6B7280] mt-0.5",children:s.endDate?`End: ${new Date(s.endDate).toLocaleDateString()}`:"Ongoing"})]})]}),(0,z.jsxs)("div",{className:"md:col-span-3 flex items-center gap-2",children:[(0,z.jsx)("span",{className:"text-xs text-[#6B7280]",children:"Status:"}),(0,z.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs ${"Active"===s.status?"bg-[#D1FAE5] text-[#065F46]":"Completed"===s.status?"bg-[#DBEAFE] text-[#1E40AF]":"On Hold"===s.status?"bg-[#FEF3C7] text-[#92400E]":"bg-[#FEE2E2] text-[#991B1B]"}`,children:s.status})]})]})]})})})}function M_({summary:e}){let t=e.finalBalance>0;return(0,z.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsxs)(os,{className:"text-sm text-[#6B7280] flex items-center gap-2",children:[(0,z.jsx)(es,{className:"h-4 w-4 text-[#F15929]"}),"Total Deposit Collected"]})}),(0,z.jsx)(on,{children:(0,z.jsxs)("p",{className:"text-2xl text-[#231F20]",children:["RM",e.totalDepositCollected.toFixed(2)]})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsxs)(os,{className:"text-sm text-[#6B7280] flex items-center gap-2",children:[(0,z.jsx)(Q,{className:"h-4 w-4 text-[#F15929]"}),"Total Monthly Billing Issued"]})}),(0,z.jsx)(on,{children:(0,z.jsxs)("p",{className:"text-2xl text-[#231F20]",children:["RM",e.totalMonthlyBilling.toFixed(2)]})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsxs)(os,{className:"text-sm text-[#6B7280] flex items-center gap-2",children:[(0,z.jsx)(ej,{className:"h-4 w-4 text-[#DC2626]"}),"Total Penalty / Default Interest"]})}),(0,z.jsx)(on,{children:(0,z.jsxs)("p",{className:"text-2xl text-[#DC2626]",children:["RM",e.totalPenalty.toFixed(2)]})})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsxs)(os,{className:"text-sm text-[#6B7280] flex items-center gap-2",children:[(0,z.jsx)(X,{className:"h-4 w-4 text-[#F15929]"}),"Total Additional Charges"]})}),(0,z.jsxs)(on,{children:[(0,z.jsxs)("p",{className:"text-2xl text-[#231F20]",children:["RM",e.totalAdditionalCharges.toFixed(2)]}),(0,z.jsx)("p",{className:"text-xs text-[#6B7280] mt-1",children:"Damage / Repair / Missing / Cleaning"})]})]}),(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsxs)(os,{className:"text-sm text-[#6B7280] flex items-center gap-2",children:[(0,z.jsx)(pb,{className:"h-4 w-4 text-[#10B981]"}),"Total Paid Amount"]})}),(0,z.jsxs)(on,{children:[(0,z.jsxs)("p",{className:"text-2xl text-[#10B981]",children:["RM",e.totalPaid.toFixed(2)]}),(0,z.jsx)("p",{className:"text-xs text-[#6B7280] mt-1",children:"All Payments Received"})]})]}),(0,z.jsxs)(ot,{className:`border-2 ${t?"border-[#DC2626] bg-[#FEF2F2]":"border-[#10B981] bg-[#F0FDF4]"}`,children:[(0,z.jsx)(or,{className:"pb-3",children:(0,z.jsxs)(os,{className:"text-sm text-[#6B7280] flex items-center gap-2",children:[(0,z.jsx)(du,{className:`h-4 w-4 ${t?"text-[#DC2626]":"text-[#10B981]"}`}),"Final Balance"]})}),(0,z.jsxs)(on,{children:[(0,z.jsxs)("p",{className:`text-2xl ${t?"text-[#DC2626]":"text-[#10B981]"}`,children:[t?"":"-","RM",Math.abs(e.finalBalance).toFixed(2)]}),(0,z.jsx)("p",{className:`text-sm mt-2 ${t?"text-[#DC2626]":"text-[#10B981]"}`,children:t?" Customer Owes":" Customer Has Credit"})]})]})]})}function ML({type:e}){return(0,z.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs whitespace-nowrap ${(()=>{switch(e){case"Deposit":case"Deposit Payment":return"bg-[#DBEAFE] text-[#1E40AF]";case"Deposit Refund":return"bg-[#FEF3C7] text-[#92400E]";case"Monthly Bill":return"bg-[#E0E7FF] text-[#3730A3]";case"Monthly Payment":case"Additional Charge Payment":return"bg-[#D1FAE5] text-[#065F46]";case"Default Interest":return"bg-[#FEE2E2] text-[#991B1B]";case"Additional Charge":return"bg-[#FFEDD5] text-[#9A3412]";case"Credit Note":return"bg-[#F3E8FF] text-[#6B21A8]";case"Adjustment":return"bg-[#F1F5F9] text-[#475569]";default:return"bg-[#F3F4F6] text-[#374151]"}})()}`,children:e})}function Mz({status:e}){return(0,z.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs ${(()=>{switch(e){case"Paid":case"Approved":return"bg-[#D1FAE5] text-[#065F46]";case"Unpaid":return"bg-[#FEE2E2] text-[#991B1B]";case"Pending Approval":return"bg-[#FEF3C7] text-[#92400E]";case"Rejected":return"bg-[#FEE2E2] text-[#DC2626]";case"Partial":return"bg-[#FFEDD5] text-[#9A3412]";default:return"bg-[#F3F4F6] text-[#374151]"}})()}`,children:e})}function Mq({transactions:e,onViewDetails:t}){return(0,z.jsxs)(ot,{className:"border-[#E5E7EB]",children:[(0,z.jsxs)(or,{className:"flex flex-row items-center justify-between",children:[(0,z.jsxs)(os,{className:"text-[18px]",children:["Transaction Ledger (",e.length," entries)"]}),(0,z.jsxs)("div",{className:"text-xs text-[#6B7280] bg-[#F9FAFB] px-3 py-1.5 rounded-md border border-[#E5E7EB]",children:[(0,z.jsx)("strong",{children:"Formula:"})," Balance = Previous Balance + Debit - Credit"]})]}),(0,z.jsx)(on,{children:(0,z.jsx)("div",{className:"rounded-md border border-[#E5E7EB]",children:(0,z.jsxs)(c8,{children:[(0,z.jsx)(c7,{children:(0,z.jsxs)(de,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,z.jsx)(dt,{className:"text-[#374151]",children:"Date"}),(0,z.jsx)(dt,{className:"text-[#374151]",children:"Transaction Type"}),(0,z.jsx)(dt,{className:"text-[#374151]",children:"Description"}),(0,z.jsx)(dt,{className:"text-[#374151] text-right",children:"Debit (RM)"}),(0,z.jsx)(dt,{className:"text-[#374151] text-right",children:"Credit (RM)"}),(0,z.jsx)(dt,{className:"text-[#374151] text-right",children:"Balance (RM)"}),(0,z.jsx)(dt,{className:"text-[#374151]",children:"Status"}),(0,z.jsx)(dt,{className:"text-[#374151] text-right",children:"Action"})]})}),(0,z.jsx)(c9,{children:0===e.length?(0,z.jsx)(de,{children:(0,z.jsx)(dr,{colSpan:8,className:"text-center py-8 text-[#9CA3AF]",children:"No transactions found for this project"})}):e.map((e,r)=>(0,z.jsxs)(de,{className:"hover:bg-[#F9FAFB]",children:[(0,z.jsx)(dr,{className:"text-[#374151] whitespace-nowrap",children:new Date(e.date).toLocaleDateString()}),(0,z.jsx)(dr,{children:(0,z.jsx)(ML,{type:e.type})}),(0,z.jsx)(dr,{className:"text-[#374151] max-w-xs truncate",children:e.description}),(0,z.jsx)(dr,{className:"text-right text-[#DC2626]",children:e.debit>0?e.debit.toFixed(2):"-"}),(0,z.jsx)(dr,{className:"text-right text-[#10B981]",children:e.credit>0?e.credit.toFixed(2):"-"}),(0,z.jsxs)(dr,{className:`text-right ${e.balance>0?"text-[#DC2626]":e.balance<0?"text-[#10B981]":"text-[#374151]"}`,children:[e.balance>0&&"+",e.balance.toFixed(2)]}),(0,z.jsx)(dr,{children:(0,z.jsx)(Mz,{status:e.status})}),(0,z.jsx)(dr,{className:"text-right",children:(0,z.jsxs)(n1,{children:[(0,z.jsx)(n2,{asChild:!0,children:(0,z.jsx)(tb,{variant:"ghost",className:"h-8 w-8 p-0 hover:bg-[#F3F4F6]",children:(0,z.jsx)(dg,{className:"h-4 w-4 text-[#6B7280]"})})}),(0,z.jsxs)(n4,{align:"end",className:"w-48",children:[(0,z.jsxs)(n5,{onClick:()=>{t&&t(e)},children:[(0,z.jsx)(lv,{className:"mr-2 h-4 w-4"}),"View Details"]}),(0,z.jsxs)(n5,{onClick:()=>{console.log("View document for:",e.reference)},children:[(0,z.jsx)(K,{className:"mr-2 h-4 w-4"}),"View Document"]}),(0,z.jsxs)(n5,{onClick:()=>{console.log("Download document for:",e.reference)},children:[(0,z.jsx)(cY,{className:"mr-2 h-4 w-4"}),"Download Receipt"]})]})]})})]},e.id))})]})})})]})}let MU=[{id:"CUST-001",name:"Acme Construction Ltd.",type:"Company",email:"contact@acmeconstruction.com",phone:"+60 12-345 6789"},{id:"CUST-002",name:"BuildRight Inc.",type:"Company",email:"info@buildright.com",phone:"+60 12-987 6543"},{id:"CUST-003",name:"Metro Builders",type:"Company",email:"admin@metrobuilders.com",phone:"+60 11-234 5678"},{id:"CUST-004",name:"Ahmad bin Abdullah",type:"Individual",email:"ahmad.abdullah@email.com",phone:"+60 13-456 7890"}],M$=[{id:"PROJ-2024-001",projectName:"Sunway Construction Site - Tower A",customerId:"CUST-001",customerName:"Acme Construction Ltd.",startDate:"2024-01-15",endDate:"2024-12-31",status:"Active"},{id:"PROJ-2024-005",projectName:"KLCC Extension Works",customerId:"CUST-001",customerName:"Acme Construction Ltd.",startDate:"2024-06-01",status:"Active"},{id:"PROJ-2024-002",projectName:"KL Central Mall Renovation",customerId:"CUST-002",customerName:"BuildRight Inc.",startDate:"2024-03-01",status:"Active"},{id:"PROJ-2023-045",projectName:"Pavilion Exterior Works",customerId:"CUST-003",customerName:"Metro Builders",startDate:"2023-11-10",endDate:"2024-06-30",status:"Completed"},{id:"PROJ-2024-008",projectName:"Residential Renovation",customerId:"CUST-004",customerName:"Ahmad bin Abdullah",startDate:"2024-04-15",status:"Active"}],MV=e=>{let t=0;return e.map(e=>(t=t+e.debit-e.credit,{...e,balance:t}))},MW={"PROJ-2024-001":{project:M$[0],summary:{totalDepositCollected:15e3,totalMonthlyBilling:48e3,totalPenalty:720,totalAdditionalCharges:1250.5,totalPaid:52500,finalBalance:12470.5},transactions:MV([{id:"TXN-001",date:"2024-01-15",type:"Deposit",reference:"DEP-2024-001",description:"Initial deposit for scaffolding rental",debit:15e3,credit:0,status:"Unpaid"},{id:"TXN-002",date:"2024-01-20",type:"Deposit Payment",reference:"PAY-2024-001",description:"Deposit payment received",debit:0,credit:15e3,status:"Paid"},{id:"TXN-003",date:"2024-02-01",type:"Monthly Bill",reference:"INV-2024-001",description:"Monthly rental - February 2024",debit:12e3,credit:0,status:"Unpaid"},{id:"TXN-004",date:"2024-02-10",type:"Monthly Payment",reference:"PAY-2024-002",description:"Payment for INV-2024-001",debit:0,credit:12e3,status:"Paid"},{id:"TXN-005",date:"2024-03-01",type:"Monthly Bill",reference:"INV-2024-002",description:"Monthly rental - March 2024",debit:12e3,credit:0,status:"Unpaid"},{id:"TXN-006",date:"2024-03-15",type:"Monthly Payment",reference:"PAY-2024-003",description:"Payment for INV-2024-002",debit:0,credit:12e3,status:"Paid"},{id:"TXN-007",date:"2024-04-01",type:"Monthly Bill",reference:"INV-2024-003",description:"Monthly rental - April 2024",debit:12e3,credit:0,status:"Unpaid"},{id:"TXN-008",date:"2024-04-25",type:"Default Interest",reference:"INT-2024-001",description:"Late payment interest for INV-2024-003 (1.5%  RM12,000  1 month)",debit:180,credit:0,status:"Unpaid"},{id:"TXN-009",date:"2024-04-28",type:"Monthly Payment",reference:"PAY-2024-004",description:"Partial payment for INV-2024-003",debit:0,credit:8e3,status:"Paid"},{id:"TXN-010",date:"2024-05-01",type:"Monthly Bill",reference:"INV-2024-004",description:"Monthly rental - May 2024",debit:12e3,credit:0,status:"Unpaid"},{id:"TXN-011",date:"2024-05-20",type:"Additional Charge",reference:"AC-2024-001",description:"Damaged scaffolding components - inspection IR-2024-001",debit:850.5,credit:0,status:"Unpaid"},{id:"TXN-012",date:"2024-05-22",type:"Additional Charge Payment",reference:"PAY-2024-005",description:"Payment for AC-2024-001",debit:0,credit:850.5,status:"Approved"},{id:"TXN-013",date:"2024-06-01",type:"Credit Note",reference:"CN-2024-001",description:"Rebate for early return of items",debit:0,credit:500,status:"Approved"},{id:"TXN-014",date:"2024-06-10",type:"Additional Charge",reference:"AC-2024-002",description:"Missing items - DO-2024-015",debit:400,credit:0,status:"Pending Approval"},{id:"TXN-015",date:"2024-06-15",type:"Default Interest",reference:"INT-2024-002",description:"Late payment interest accumulation",debit:540,credit:0,status:"Unpaid"},{id:"TXN-016",date:"2024-07-01",type:"Monthly Payment",reference:"PAY-2024-006",description:"Bulk payment for outstanding invoices",debit:0,credit:4150,status:"Paid"}])},"PROJ-2024-005":{project:M$[1],summary:{totalDepositCollected:1e4,totalMonthlyBilling:24e3,totalPenalty:0,totalAdditionalCharges:0,totalPaid:34e3,finalBalance:-5200},transactions:MV([{id:"TXN-501",date:"2024-06-01",type:"Deposit",reference:"DEP-2024-005",description:"Initial deposit for KLCC Extension Works",debit:1e4,credit:0,status:"Unpaid"},{id:"TXN-502",date:"2024-06-05",type:"Deposit Payment",reference:"PAY-2024-501",description:"Deposit payment received",debit:0,credit:1e4,status:"Paid"},{id:"TXN-503",date:"2024-07-01",type:"Monthly Bill",reference:"INV-2024-501",description:"Monthly rental - July 2024",debit:12e3,credit:0,status:"Unpaid"},{id:"TXN-504",date:"2024-07-08",type:"Monthly Payment",reference:"PAY-2024-502",description:"Payment for INV-2024-501",debit:0,credit:12e3,status:"Paid"},{id:"TXN-505",date:"2024-08-01",type:"Monthly Bill",reference:"INV-2024-502",description:"Monthly rental - August 2024",debit:12e3,credit:0,status:"Unpaid"},{id:"TXN-506",date:"2024-08-10",type:"Monthly Payment",reference:"PAY-2024-503",description:"Payment for INV-2024-502",debit:0,credit:12e3,status:"Paid"},{id:"TXN-507",date:"2024-08-25",type:"Credit Note",reference:"CN-2024-005",description:"Project completed early - Refund for unused rental period (15 days)",debit:0,credit:3500,status:"Approved"},{id:"TXN-508",date:"2024-08-26",type:"Credit Note",reference:"CN-2024-006",description:"Goodwill credit - Customer loyalty discount",debit:0,credit:1200,status:"Approved"},{id:"TXN-509",date:"2024-08-27",type:"Credit Note",reference:"CN-2024-007",description:"Refund for returned items in excellent condition",debit:0,credit:500,status:"Approved"}])},"PROJ-2024-002":{project:M$[1],summary:{totalDepositCollected:2e4,totalMonthlyBilling:72e3,totalPenalty:0,totalAdditionalCharges:0,totalPaid:8e4,finalBalance:12e3},transactions:MV([{id:"TXN-101",date:"2024-03-01",type:"Deposit",reference:"DEP-2024-002",description:"Initial deposit",debit:2e4,credit:0,status:"Unpaid"},{id:"TXN-102",date:"2024-03-05",type:"Deposit Payment",reference:"PAY-2024-101",description:"Deposit payment received",debit:0,credit:2e4,status:"Paid"},{id:"TXN-103",date:"2024-04-01",type:"Monthly Bill",reference:"INV-2024-101",description:"Monthly rental - April 2024",debit:18e3,credit:0,status:"Unpaid"},{id:"TXN-104",date:"2024-04-08",type:"Monthly Payment",reference:"PAY-2024-102",description:"Payment for INV-2024-101",debit:0,credit:18e3,status:"Paid"},{id:"TXN-105",date:"2024-05-01",type:"Monthly Bill",reference:"INV-2024-102",description:"Monthly rental - May 2024",debit:18e3,credit:0,status:"Unpaid"},{id:"TXN-106",date:"2024-05-10",type:"Monthly Payment",reference:"PAY-2024-103",description:"Payment for INV-2024-102",debit:0,credit:18e3,status:"Paid"},{id:"TXN-107",date:"2024-06-01",type:"Monthly Bill",reference:"INV-2024-103",description:"Monthly rental - June 2024",debit:18e3,credit:0,status:"Unpaid"},{id:"TXN-108",date:"2024-06-12",type:"Monthly Payment",reference:"PAY-2024-104",description:"Payment for INV-2024-103",debit:0,credit:18e3,status:"Paid"},{id:"TXN-109",date:"2024-07-01",type:"Monthly Bill",reference:"INV-2024-104",description:"Monthly rental - July 2024",debit:18e3,credit:0,status:"Unpaid"},{id:"TXN-110",date:"2024-07-15",type:"Monthly Payment",reference:"PAY-2024-105",description:"Payment for INV-2024-104",debit:0,credit:6e3,status:"Paid"}])},"PROJ-2023-045":{project:M$[3],summary:{totalDepositCollected:25e3,totalMonthlyBilling:56e3,totalPenalty:0,totalAdditionalCharges:1500,totalPaid:57500,finalBalance:0},transactions:MV([{id:"TXN-301",date:"2023-11-10",type:"Deposit",reference:"DEP-2023-045",description:"Initial project deposit - Pavilion Exterior Works",debit:25e3,credit:0,status:"Unpaid"},{id:"TXN-302",date:"2023-11-15",type:"Deposit Payment",reference:"PAY-2023-301",description:"Deposit payment received",debit:0,credit:25e3,status:"Paid"},{id:"TXN-303",date:"2023-12-01",type:"Monthly Bill",reference:"INV-2023-301",description:"Monthly rental - December 2023",debit:14e3,credit:0,status:"Unpaid"},{id:"TXN-304",date:"2023-12-08",type:"Monthly Payment",reference:"PAY-2023-302",description:"Payment for INV-2023-301",debit:0,credit:14e3,status:"Paid"},{id:"TXN-305",date:"2024-01-01",type:"Monthly Bill",reference:"INV-2024-301",description:"Monthly rental - January 2024",debit:14e3,credit:0,status:"Unpaid"},{id:"TXN-306",date:"2024-01-10",type:"Monthly Payment",reference:"PAY-2024-301",description:"Payment for INV-2024-301",debit:0,credit:14e3,status:"Paid"},{id:"TXN-307",date:"2024-02-01",type:"Monthly Bill",reference:"INV-2024-302",description:"Monthly rental - February 2024",debit:14e3,credit:0,status:"Unpaid"},{id:"TXN-308",date:"2024-02-12",type:"Monthly Payment",reference:"PAY-2024-302",description:"Payment for INV-2024-302",debit:0,credit:14e3,status:"Paid"},{id:"TXN-309",date:"2024-03-01",type:"Monthly Bill",reference:"INV-2024-303",description:"Monthly rental - March 2024",debit:14e3,credit:0,status:"Unpaid"},{id:"TXN-310",date:"2024-03-15",type:"Monthly Payment",reference:"PAY-2024-303",description:"Payment for INV-2024-303",debit:0,credit:14e3,status:"Paid"},{id:"TXN-311",date:"2024-04-15",type:"Additional Charge",reference:"AC-2024-301",description:"Minor damages upon return inspection",debit:1500,credit:0,status:"Unpaid"},{id:"TXN-312",date:"2024-04-20",type:"Additional Charge Payment",reference:"PAY-2024-304",description:"Payment for AC-2024-301",debit:0,credit:1500,status:"Approved"},{id:"TXN-313",date:"2024-06-25",type:"Credit Note",reference:"CN-2024-301",description:"Project closure - Full deposit refund",debit:0,credit:25e3,status:"Approved"},{id:"TXN-314",date:"2024-06-30",type:"Deposit Payment",reference:"REF-2024-301",description:"Deposit refund processed to customer",debit:25e3,credit:0,status:"Refunded"},{id:"TXN-315",date:"2024-06-30",type:"Monthly Payment",reference:"PAY-2024-305",description:"Final settlement - Deposit offset against refund",debit:0,credit:25e3,status:"Paid"}])},"PROJ-2024-008":{project:M$[4],summary:{totalDepositCollected:8e3,totalMonthlyBilling:32e3,totalPenalty:0,totalAdditionalCharges:0,totalPaid:4e4,finalBalance:0},transactions:MV([{id:"TXN-401",date:"2024-04-15",type:"Deposit",reference:"DEP-2024-008",description:"Initial project deposit - Residential Renovation",debit:8e3,credit:0,status:"Unpaid"},{id:"TXN-402",date:"2024-04-18",type:"Deposit Payment",reference:"PAY-2024-401",description:"Deposit payment received",debit:0,credit:8e3,status:"Paid"},{id:"TXN-403",date:"2024-05-01",type:"Monthly Bill",reference:"INV-2024-401",description:"Monthly rental - May 2024",debit:8e3,credit:0,status:"Unpaid"},{id:"TXN-404",date:"2024-05-05",type:"Monthly Payment",reference:"PAY-2024-402",description:"Payment for INV-2024-401",debit:0,credit:8e3,status:"Paid"},{id:"TXN-405",date:"2024-06-01",type:"Monthly Bill",reference:"INV-2024-402",description:"Monthly rental - June 2024",debit:8e3,credit:0,status:"Unpaid"},{id:"TXN-406",date:"2024-06-08",type:"Monthly Payment",reference:"PAY-2024-403",description:"Payment for INV-2024-402",debit:0,credit:8e3,status:"Paid"},{id:"TXN-407",date:"2024-07-01",type:"Monthly Bill",reference:"INV-2024-403",description:"Monthly rental - July 2024",debit:8e3,credit:0,status:"Unpaid"},{id:"TXN-408",date:"2024-07-10",type:"Monthly Payment",reference:"PAY-2024-404",description:"Payment for INV-2024-403",debit:0,credit:8e3,status:"Paid"},{id:"TXN-409",date:"2024-08-01",type:"Monthly Bill",reference:"INV-2024-404",description:"Monthly rental - August 2024",debit:8e3,credit:0,status:"Unpaid"},{id:"TXN-410",date:"2024-08-12",type:"Monthly Payment",reference:"PAY-2024-405",description:"Payment for INV-2024-404",debit:0,credit:8e3,status:"Paid"}])}};function MH(){let[e,t]=(0,q.useState)(null),[r,s]=(0,q.useState)(null),[a,n]=(0,q.useState)(null);return(0,z.jsxs)("div",{className:"space-y-6 p-6",children:[(0,z.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("h1",{children:"Statement of Account (SOA)"}),(0,z.jsx)("p",{className:"text-[#374151]",children:"View complete financial health and transaction history for customer projects"})]}),(0,z.jsxs)("div",{className:"flex gap-2",children:[(0,z.jsxs)(tb,{onClick:()=>{r?ld.success("Exporting statement as PDF..."):ld.error("Please select a project first")},disabled:!r,className:"bg-[#F15929] hover:bg-[#D14721] text-white h-10 px-4 rounded-md",children:[(0,z.jsx)(Mu,{className:"mr-2 h-4 w-4"}),"Export as PDF"]}),(0,z.jsxs)(tb,{onClick:()=>{r?window.print():ld.error("Please select a project first")},disabled:!r,variant:"outline",className:"h-10 px-4 border-[#D1D5DB] rounded-md hover:bg-[#F9FAFB]",children:[(0,z.jsx)(pk,{className:"mr-2 h-4 w-4"}),"Print"]})]})]}),(0,z.jsx)(MB,{customers:MU,projects:M$,selectedCustomer:e,selectedProject:r,onCustomerChange:e=>{t(e)},onProjectChange:e=>{s(e),n(MW[e.id]||null)}}),a&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(M_,{summary:a.summary}),(0,z.jsx)("div",{className:`p-6 rounded-lg border-2 ${a.summary.finalBalance>0?"border-[#DC2626] bg-[#FEF2F2]":"border-[#10B981] bg-[#F0FDF4]"}`,children:(0,z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("p",{className:"text-sm text-[#6B7280] mb-1",children:"Project Financial Status"}),(0,z.jsx)("p",{className:`text-3xl ${a.summary.finalBalance>0?"text-[#DC2626]":"text-[#10B981]"}`,children:a.summary.finalBalance>0?(0,z.jsxs)(z.Fragment,{children:[" Customer Owes: RM",a.summary.finalBalance.toFixed(2)]}):(0,z.jsxs)(z.Fragment,{children:[" Customer Has Credit: RM",Math.abs(a.summary.finalBalance).toFixed(2)]})})]}),(0,z.jsxs)("div",{className:"text-right text-sm text-[#6B7280]",children:[(0,z.jsx)("p",{children:"Formula: Total Charged - Total Paid"}),(0,z.jsxs)("p",{className:"mt-1",children:["RM",(a.summary.totalDepositCollected+a.summary.totalMonthlyBilling+a.summary.totalPenalty+a.summary.totalAdditionalCharges).toFixed(2)," ","- RM",a.summary.totalPaid.toFixed(2)," = RM",a.summary.finalBalance.toFixed(2)]})]})]})}),(0,z.jsx)(Mq,{transactions:a.transactions,onViewDetails:e=>{console.log("View transaction details:",e)}})]}),!r&&(0,z.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,z.jsx)("div",{className:"w-20 h-20 bg-[#F9FAFB] rounded-full flex items-center justify-center mb-4",children:(0,z.jsx)(K,{className:"h-10 w-10 text-[#9CA3AF]"})}),(0,z.jsx)("h3",{className:"text-[#231F20] mb-2",children:"No Project Selected"}),(0,z.jsx)("p",{className:"text-[#6B7280] max-w-md",children:"Please select a project from the dropdown above to view its complete statement of account and transaction history. The customer will be automatically identified."})]})]})}function MY(){let{data:e,status:t}=(0,U.useSession)(),[r,s]=(0,q.useState)("portal-selector"),[a,n]=(0,q.useState)(""),[i,l]=(0,q.useState)("billing-dashboard"),[o,c]=(0,q.useState)(!0),[d,u]=(0,q.useState)("ERP"),[m,h]=(0,q.useState)(!1),[x,p]=(0,q.useState)("");(0,q.useEffect)(()=>{if("authenticated"===t&&e?.user){let t=(e.user.roles||[])[0]||"admin";n(t),"customer"===t?(u("CRM"),l("customer-portal")):(u("ERP"),l("billing-dashboard")),s("dashboard")}},[t,e]);let f=()=>{s("portal-selector")},g=async()=>{await (0,U.signOut)({redirect:!1}),n(""),u("ERP"),l("billing-dashboard"),s("portal-selector"),h(!1)};if("loading"===t)return(0,z.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#F15929] via-[#F15929] to-[#D14820]",children:(0,z.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,z.jsx)("div",{className:"w-12 h-12 border-4 border-white border-t-transparent rounded-full animate-spin"}),(0,z.jsx)("p",{className:"text-white text-lg",children:"Loading..."})]})});if("unauthenticated"===t&&"portal-selector"===r)return(0,z.jsx)(lw,{onLogin:e=>{n(e),"customer"===e?(u("CRM"),l("customer-portal")):(u("ERP"),l("billing-dashboard")),s("dashboard")},onNavigateToRegister:()=>s("register-select"),onNavigateToForgotPassword:()=>s("forgot-password-email")});if("staff-login"===r)return(0,z.jsx)(lW,{onLogin:e=>{n(e),u("ERP"),l("billing-dashboard"),s("dashboard")},onNavigateToRegister:()=>s("register-select"),onBack:()=>s("portal-selector")});if("customer-login"===r)return(0,z.jsx)(lH,{onLogin:()=>{n("customer"),u("CRM"),l("customer-portal"),s("dashboard")},onNavigateToRegister:()=>s("register-customer"),onBack:()=>s("portal-selector")});if("register-select"===r)return(0,z.jsx)(lY,{onSelectType:e=>{"internal"===e?s("register-internal"):"customer"===e?s("register-customer"):s("register-vendor")},onBackToLogin:()=>s("portal-selector")});if("register-internal"===r)return(0,z.jsx)(oi,{onBack:()=>s("register-select"),onComplete:f});if("register-customer"===r)return(0,z.jsx)(om,{onBack:()=>s("portal-selector"),onComplete:f});if("register-vendor"===r)return(0,z.jsx)(cx,{onBack:()=>s("register-select"),onComplete:f});if("forgot-password-email"===r)return(0,z.jsx)(cz,{onBack:()=>s("portal-selector"),onContinue:e=>{p(e),s("forgot-password-code")}});if("forgot-password-code"===r)return(0,z.jsx)(cq,{email:x,onBack:()=>s("forgot-password-email"),onContinue:()=>s("forgot-password-new"),onChangEmail:()=>s("forgot-password-email")});if("forgot-password-new"===r)return(0,z.jsx)(cV,{onBack:()=>s("forgot-password-code"),onSuccess:()=>s("forgot-password-success")});if("forgot-password-success"===r)return(0,z.jsx)(cW,{onReturnToLogin:()=>s("portal-selector")});let v=(()=>{if("CRM"===d||"customer"===a)return[{section:"Shopping",items:[{id:"customer-portal",label:"Marketplace",icon:el}]},{section:"My Orders",items:[{id:"billing-dashboard",label:"Order History",icon:K}]},{section:"Information",items:[{id:"customer-content-view",label:"Information Center",icon:eu}]}];let e=[{section:"Inventory Management",items:[{id:"scaffolding-management",label:"Scaffolding Items",icon:ei},{id:"inspection-maintenance",label:"Inspection & Maintenance",icon:eh}]},{section:"Sales & Orders",items:[{id:"rfq-management",label:"RFQ & Quotations",icon:em},{id:"rental-agreement",label:"Rental Agreement",icon:ef},{id:"delivery-return-requests",label:"Delivery & Return Requests",icon:ev},{id:"delivery-management",label:"Delivery Management",icon:eo},{id:"return-management",label:"Return Management",icon:ex},{id:"project-closure",label:"Project Closure",icon:eg}]},{section:"Billing & Payments",items:[{id:"billing-dashboard",label:"Dashboard",icon:X},{id:"manage-deposits",label:"Manage Deposits",icon:es},{id:"monthly-rental",label:"Monthly Rental",icon:Z},{id:"credit-notes",label:"Credit Notes",icon:Q},{id:"refund-management",label:"Refunds",icon:J},{id:"additional-charges",label:"Additional Charges",icon:ej},{id:"statement-of-account",label:"Statement of Account",icon:K}]},{section:"Reports",items:[{id:"report-generation",label:"Report Generation",icon:ep},{id:"report-financial",label:"Financial Reports",icon:ee}]}];return"admin"===a||"super_user"===a?[{section:"User Management",items:[{id:"user-management",label:"Users List",icon:G}]},{section:"Content Management",items:[{id:"content-management",label:"Manage Content",icon:ed}]},...e]:e})(),j=()=>{switch(a){case"super_user":return"Super Admin";case"admin":return"Admin";case"sales":return"Sales";case"finance":return"Finance";case"production":return"Production";case"operations":return"Operations";case"vendor":return"Vendor";case"customer":return"Customer";default:return"User"}};return(0,z.jsxs)("div",{className:"min-h-screen bg-[#FFFFFF]",children:[(0,z.jsx)(lf,{}),(0,z.jsx)("header",{className:"fixed top-0 left-0 right-0 h-16 bg-white border-b border-[#E5E7EB] z-50",children:(0,z.jsxs)("div",{className:"h-full px-6 flex items-center justify-between",children:[(0,z.jsxs)("div",{className:"flex items-center gap-4",children:[(0,z.jsx)(tb,{variant:"ghost",size:"icon",className:"h-10 w-10",onClick:()=>c(!o),children:o?(0,z.jsx)(ea,{className:"h-5 w-5"}):(0,z.jsx)(er,{className:"h-5 w-5"})}),(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${"CRM"===d?"bg-[#059669]":"bg-[#F15929]"}`,children:"CRM"===d?(0,z.jsx)(el,{className:"h-5 w-5 text-white"}):(0,z.jsx)(X,{className:"h-5 w-5 text-white"})}),(0,z.jsxs)("div",{children:[(0,z.jsx)("span",{className:"text-[#231F20]",children:"Power Metal & Steel"}),(0,z.jsx)("p",{className:"text-[10px] text-[#6B7280]",children:"ERP"===d?"Staff Portal":"Customer Portal"})]})]})]}),(0,z.jsx)("div",{className:"hidden md:block flex-1 max-w-[400px] mx-auto",children:(0,z.jsxs)("div",{className:"relative",children:[(0,z.jsx)(et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[#6B7280]"}),(0,z.jsx)(tN,{placeholder:"Search...",className:"pl-10 h-10 bg-[#F3F4F6] border-[#E5E7EB] rounded-lg"})]})}),(0,z.jsxs)("div",{className:"flex items-center gap-4",children:[(0,z.jsx)(pw,{}),(0,z.jsxs)(n1,{children:[(0,z.jsx)(n2,{asChild:!0,children:(0,z.jsxs)(tb,{variant:"ghost",className:"flex items-center gap-2 h-10",children:[(0,z.jsx)(tq,{className:"h-8 w-8",children:(0,z.jsx)(tU,{className:"CRM"===d?"bg-[#059669] text-white":"bg-[#F15929] text-white",children:j().substring(0,2).toUpperCase()})}),(0,z.jsx)("span",{className:"hidden md:inline text-[#374151]",children:j()}),(0,z.jsx)(en,{className:"h-4 w-4 text-[#6B7280]"})]})}),(0,z.jsxs)(n4,{align:"end",className:"w-48",children:[(0,z.jsxs)(n5,{onClick:()=>l("profile"),children:[(0,z.jsx)(G,{className:"h-4 w-4 mr-2"}),"My Profile"]}),(0,z.jsx)(n5,{children:"Settings"}),(0,z.jsx)(n6,{}),(0,z.jsxs)(n5,{className:"text-[#DC2626] focus:text-[#DC2626] focus:bg-[#FEE2E2]",onClick:()=>{h(!0)},children:[(0,z.jsx)(ec,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})]})]})}),(0,z.jsx)(iZ,{open:m,onOpenChange:h,children:(0,z.jsxs)(i0,{children:[(0,z.jsxs)(i1,{children:[(0,z.jsx)(i4,{children:"Confirm Logout"}),(0,z.jsx)(i5,{children:"Are you sure you want to logout? You will be redirected to the login page."})]}),(0,z.jsxs)(i2,{children:[(0,z.jsx)(i3,{children:"Cancel"}),(0,z.jsx)(i6,{onClick:g,className:"bg-[#DC2626] hover:bg-[#B91C1C] text-white",children:"Logout"})]})]})}),(0,z.jsx)("aside",{className:`fixed left-0 top-16 bottom-0 w-60 bg-[#F8FAFC] border-r border-[#E5E7EB] z-40 transition-transform duration-300 ${o?"translate-x-0":"-translate-x-full"}`,children:(0,z.jsx)("nav",{className:"p-4 space-y-6 overflow-y-auto h-full",children:v.map((e,t)=>(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)("h3",{className:"text-[12px] text-[#6B7280] uppercase tracking-wider px-3",children:e.section}),(0,z.jsx)("div",{className:"space-y-1",children:e.items.map(e=>{let t=e.icon,r=i===e.id;return(0,z.jsxs)("button",{onClick:()=>l(e.id),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${r?"CRM"===d?"bg-[#059669] text-white":"bg-[#F15929] text-white":"text-[#374151] hover:bg-[#F3F4F6]"}`,children:[(0,z.jsx)(t,{className:"h-5 w-5"}),(0,z.jsx)("span",{className:"text-[14px]",children:e.label})]},e.id)})})]},t))})}),(0,z.jsx)("main",{className:`pt-16 transition-all duration-300 ${o?"pl-60":"pl-0"}`,children:(0,z.jsx)("div",{className:"p-8 min-h-screen",children:(()=>{switch(i){case"user-management":return(0,z.jsx)(dd,{});case"billing-dashboard":return(0,z.jsx)(df,{onNavigateToCreditNotes:()=>l("credit-notes"),onNavigateToFinancialReports:()=>l("report-financial"),onNavigateToMonthlyRental:()=>l("monthly-rental"),onNavigateToManageDeposits:()=>l("manage-deposits"),onNavigateToRefunds:()=>l("refund-management")});case"manage-deposits":return(0,z.jsx)(Md,{userRole:"admin"===a?"Admin":"finance"===a?"Finance":"Staff"});case"monthly-rental":return(0,z.jsx)(dw,{});case"credit-notes":return(0,z.jsx)(dq,{});case"refund-management":return(0,z.jsx)(dH,{userRole:"admin"===a?"Admin":"finance"===a?"Finance":"Staff"});case"additional-charges":return(0,z.jsx)(MM,{});case"statement-of-account":return(0,z.jsx)(MH,{});case"scaffolding-management":return(0,z.jsx)(dG,{});case"order-sales":return(0,z.jsx)(dK,{});case"delivery-returns":return(0,z.jsx)(hx,{});case"delivery-management":return(0,z.jsx)(p$,{});case"return-management":return(0,z.jsx)(pQ,{});case"report-generation":return(0,z.jsx)(IE,{});case"report-financial":return(0,z.jsx)(Mb,{});case"customer-portal":return(0,z.jsx)(hv,{});case"content-management":return(0,z.jsx)(h4,{});case"customer-content-view":return(0,z.jsx)(xz,{});case"rfq-management":return(0,z.jsx)(xH,{});case"inspection-maintenance":return(0,z.jsx)(pL,{});case"rental-agreement":return(0,z.jsx)(I9,{});case"project-closure":return(0,z.jsx)(MC,{});case"profile":return(0,z.jsx)(MN,{currentUserName:j(),currentUserRole:j()});case"delivery-return-requests":return(0,z.jsx)(MD,{});default:return(0,z.jsx)(df,{})}})()})}),o&&(0,z.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>c(!1)})]})}function MG(){return(0,z.jsx)(MY,{})}e.s(["default",()=>MG],31713)}]);