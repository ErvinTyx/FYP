{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/inspection/ConditionReportList.tsx"],"sourcesContent":["import { Eye, Edit, Wrench, Calendar, User, Package, FileText } from 'lucide-react';\nimport { Button } from '../ui/button';\nimport { Card, CardContent } from '../ui/card';\nimport { Badge } from '../ui/badge';\nimport { ConditionReport } from '../../types/inspection';\n\ninterface ConditionReportListProps {\n  reports: ConditionReport[];\n  searchQuery: string;\n  onEdit: (report: ConditionReport) => void;\n  onCreateRepairSlip: (reportId: string) => void;\n  existingRepairSlips?: Array<{ conditionReportId: string }>; // Add this prop\n}\n\nexport function ConditionReportList({ reports, searchQuery, onEdit, onCreateRepairSlip, existingRepairSlips = [] }: ConditionReportListProps) {\n  const filteredReports = reports.filter(report =>\n    report.rcfNumber.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    report.deliveryOrderNumber.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    report.customerName.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  const getStatusColor = (status: ConditionReport['status']) => {\n    const colors = {\n      'pending': 'bg-amber-100 text-amber-800',\n      'in-progress': 'bg-blue-100 text-blue-800',\n      'completed': 'bg-green-100 text-green-800'\n    };\n    return colors[status];\n  };\n\n  if (filteredReports.length === 0) {\n    return (\n      <Card>\n        <CardContent className=\"py-12 text-center\">\n          <Package className=\"size-12 text-gray-400 mx-auto mb-4\" />\n          <p className=\"text-gray-600\">No condition reports found</p>\n          <p className=\"text-sm text-gray-500 mt-2\">\n            {searchQuery ? 'Try adjusting your search' : 'Create your first condition report'}\n          </p>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {filteredReports.map(report => (\n        <Card key={report.id} className=\"hover:shadow-md transition-shadow\">\n          <CardContent className=\"p-6\">\n            <div className=\"flex flex-col lg:flex-row lg:items-center justify-between gap-4\">\n              <div className=\"flex-1 space-y-3\">\n                <div className=\"flex items-start justify-between\">\n                  <div>\n                    <div className=\"flex items-center gap-3\">\n                      <h3 className=\"text-[#231F20]\">{report.rcfNumber}</h3>\n                      <Badge className={getStatusColor(report.status)}>\n                        {report.status.toUpperCase()}\n                      </Badge>\n                      {report.totalRepair > 0 && (\n                        <Badge className=\"bg-amber-100 text-amber-800\">\n                          {report.totalRepair} Need Repair\n                        </Badge>\n                      )}\n                      {report.totalWriteOff > 0 && (\n                        <Badge className=\"bg-red-100 text-red-800\">\n                          {report.totalWriteOff} Write-off\n                        </Badge>\n                      )}\n                    </div>\n                    <p className=\"text-gray-600 mt-1\">DO: {report.deliveryOrderNumber}</p>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm\">\n                  <div className=\"flex items-center gap-2\">\n                    <User className=\"size-4 text-gray-400\" />\n                    <div>\n                      <p className=\"text-gray-500\">Customer</p>\n                      <p className=\"text-[#231F20]\">{report.customerName}</p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <Calendar className=\"size-4 text-gray-400\" />\n                    <div>\n                      <p className=\"text-gray-500\">Inspection Date</p>\n                      <p className=\"text-[#231F20]\">{new Date(report.inspectionDate).toLocaleDateString()}</p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <Package className=\"size-4 text-gray-400\" />\n                    <div>\n                      <p className=\"text-gray-500\">Items Inspected</p>\n                      <p className=\"text-[#231F20]\">{report.totalItemsInspected} items</p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <Wrench className=\"size-4 text-gray-400\" />\n                    <div>\n                      <p className=\"text-gray-500\">Repair Cost</p>\n                      <p className=\"text-[#231F20]\">RM {report.totalRepairCost.toFixed(2)}</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"flex lg:flex-col items-center gap-2\">\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => onEdit(report)}\n                >\n                  <Edit className=\"size-4\" />\n                </Button>\n                {report.totalDamaged > 0 && !existingRepairSlips.some(slip => slip.conditionReportId === report.id) && (\n                  <>\n                    <Button\n                      size=\"sm\"\n                      onClick={() => onCreateRepairSlip(report.id)}\n                      className=\"bg-[#F15929] hover:bg-[#d94d1f]\"\n                    >\n                      <Wrench className=\"size-4 mr-2\" />\n                      Create Repair Slip\n                    </Button>\n                  </>\n                )}\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      ))}\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 410, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/inspection/ConditionReportForm.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { ArrowLeft, Plus, Trash2, Save, Upload, X, Image as ImageIcon, CheckCircle2 } from 'lucide-react';\nimport { Button } from '../ui/button';\nimport { Input } from '../ui/input';\nimport { Label } from '../ui/label';\nimport { Textarea } from '../ui/textarea';\nimport { Card, CardContent, CardHeader, CardTitle } from '../ui/card';\nimport { ConditionReport, InspectionItem, InspectionImage } from '../../types/inspection';\nimport { SCAFFOLDING_TYPES } from '../../types/rfq';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '../ui/select';\nimport { Checkbox } from '../ui/checkbox';\nimport { toast } from 'sonner';\nimport { Badge } from '../ui/badge';\n\ninterface ConditionReportFormProps {\n  report: ConditionReport | null;\n  onSave: (report: ConditionReport) => void;\n  onCancel: () => void;\n}\n\nexport function ConditionReportForm({ report, onSave, onCancel }: ConditionReportFormProps) {\n  const [formData, setFormData] = useState({\n    rcfNumber: '',\n    deliveryOrderNumber: '',\n    customerName: '',\n    returnedBy: '',\n    returnDate: new Date().toISOString().split('T')[0],\n    inspectionDate: new Date().toISOString().split('T')[0],\n    inspectedBy: 'Current User',\n    status: 'pending' as const,\n    notes: ''\n  });\n\n  const [items, setItems] = useState<InspectionItem[]>([]);\n\n  useEffect(() => {\n    if (report) {\n      setFormData({\n        rcfNumber: report.rcfNumber,\n        deliveryOrderNumber: report.deliveryOrderNumber,\n        customerName: report.customerName,\n        returnedBy: report.returnedBy || '',\n        returnDate: report.returnDate,\n        inspectionDate: report.inspectionDate,\n        inspectedBy: report.inspectedBy,\n        status: report.status,\n        notes: report.notes || ''\n      });\n      setItems(report.items);\n    }\n  }, [report]);\n\n  const addItem = () => {\n    const newItem: InspectionItem = {\n      id: `item-${Date.now()}`,\n      scaffoldingItemId: '',\n      scaffoldingItemName: '',\n      quantity: 0,\n      quantityGood: 0,\n      quantityRepair: 0,\n      quantityWriteOff: 0,\n      condition: 'good',\n      damageDescription: '',\n      images: [],\n      repairRequired: false,\n      estimatedRepairCost: 0,\n      originalItemPrice: 0,\n      inspectionChecklist: {\n        structuralIntegrity: false,\n        surfaceCondition: false,\n        connectionsSecure: false,\n        noCorrosion: false,\n        safetyCompliance: false,\n        completeParts: false,\n      }\n    };\n    setItems([...items, newItem]);\n  };\n\n  const removeItem = (id: string) => {\n    setItems(items.filter(item => item.id !== id));\n  };\n\n  const updateItem = (id: string, field: keyof InspectionItem, value: any) => {\n    setItems(items.map(item => {\n      if (item.id === id) {\n        const updated = { ...item, [field]: value };\n        \n        // Update scaffolding item name and original price when ID changes\n        if (field === 'scaffoldingItemId') {\n          const scaffoldingItem = SCAFFOLDING_TYPES.find(s => s.id === value);\n          if (scaffoldingItem) {\n            updated.scaffoldingItemName = scaffoldingItem.name;\n            updated.originalItemPrice = (scaffoldingItem as any).price || 0;\n          }\n        }\n        \n        // Auto-calculate total quantity\n        if (field === 'quantityGood' || field === 'quantityRepair' || field === 'quantityWriteOff') {\n          updated.quantity = (updated.quantityGood || 0) + (updated.quantityRepair || 0) + (updated.quantityWriteOff || 0);\n          \n          // Auto-set repair required and calculate costs\n          updated.repairRequired = (updated.quantityRepair || 0) > 0 || (updated.quantityWriteOff || 0) > 0;\n          \n          // Calculate estimated repair cost\n          const repairCost = (updated.quantityRepair || 0) * (updated.originalItemPrice || 0) * 0.6;\n          const writeOffCost = (updated.quantityWriteOff || 0) * (updated.originalItemPrice || 0) * 1.2;\n          updated.estimatedRepairCost = repairCost + writeOffCost;\n          \n          // Set condition based on quantities\n          if ((updated.quantityWriteOff || 0) > 0) {\n            updated.condition = 'beyond-repair';\n          } else if ((updated.quantityRepair || 0) > 0) {\n            updated.condition = 'major-damage';\n          } else {\n            updated.condition = 'good';\n          }\n        }\n\n        // Update original price and recalculate costs\n        if (field === 'originalItemPrice') {\n          const repairCost = (updated.quantityRepair || 0) * (value || 0) * 0.6;\n          const writeOffCost = (updated.quantityWriteOff || 0) * (value || 0) * 1.2;\n          updated.estimatedRepairCost = repairCost + writeOffCost;\n        }\n        \n        return updated;\n      }\n      return item;\n    }));\n  };\n\n  const updateChecklist = (itemId: string, field: string, value: boolean) => {\n    setItems(items.map(item => {\n      if (item.id === itemId && item.inspectionChecklist) {\n        return {\n          ...item,\n          inspectionChecklist: {\n            ...item.inspectionChecklist,\n            [field]: value\n          }\n        };\n      }\n      return item;\n    }));\n  };\n\n  const handleImageUpload = (itemId: string, event: React.ChangeEvent<HTMLInputElement>) => {\n    const files = event.target.files;\n    if (!files) return;\n\n    Array.from(files).forEach(file => {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        const newImage: InspectionImage = {\n          id: `img-${Date.now()}-${Math.random()}`,\n          url: e.target?.result as string,\n          caption: file.name,\n          uploadedAt: new Date().toISOString()\n        };\n\n        setItems(items.map(item => {\n          if (item.id === itemId) {\n            return {\n              ...item,\n              images: [...item.images, newImage]\n            };\n          }\n          return item;\n        }));\n      };\n      reader.readAsDataURL(file);\n    });\n\n    toast.success(`${files.length} image(s) uploaded`);\n  };\n\n  const removeImage = (itemId: string, imageId: string) => {\n    setItems(items.map(item => {\n      if (item.id === itemId) {\n        return {\n          ...item,\n          images: item.images.filter(img => img.id !== imageId)\n        };\n      }\n      return item;\n    }));\n  };\n\n  const calculateTotals = () => {\n    const totalItemsInspected = items.reduce((sum, item) => sum + item.quantity, 0);\n    const totalGood = items.reduce((sum, item) => sum + (item.quantityGood || 0), 0);\n    const totalRepair = items.reduce((sum, item) => sum + (item.quantityRepair || 0), 0);\n    const totalWriteOff = items.reduce((sum, item) => sum + (item.quantityWriteOff || 0), 0);\n    const totalDamaged = totalRepair + totalWriteOff;\n    const totalRepairCost = items.reduce((sum, item) => sum + item.estimatedRepairCost, 0);\n    return { totalItemsInspected, totalGood, totalRepair, totalWriteOff, totalDamaged, totalRepairCost };\n  };\n\n  const handleSubmit = () => {\n    // Validation\n    if (!formData.rcfNumber || !formData.deliveryOrderNumber || !formData.customerName || !formData.returnedBy) {\n      toast.error('Please fill in all required fields');\n      return;\n    }\n\n    if (items.length === 0) {\n      toast.error('Please add at least one inspection item');\n      return;\n    }\n\n    if (items.some(item => !item.scaffoldingItemId)) {\n      toast.error('Please complete all item details');\n      return;\n    }\n\n    if (items.some(item => item.quantity === 0)) {\n      toast.error('Please enter quantities for all items');\n      return;\n    }\n\n    const totals = calculateTotals();\n    const now = new Date().toISOString();\n\n    const newReport: ConditionReport = {\n      id: report?.id || `cr-${Date.now()}`,\n      ...formData,\n      items,\n      ...totals,\n      createdAt: report?.createdAt || now,\n      updatedAt: now\n    };\n\n    onSave(newReport);\n    toast.success('Condition report saved successfully');\n  };\n\n  const getConditionColor = (condition: InspectionItem['condition']) => {\n    const colors = {\n      'good': 'bg-green-100 text-green-800',\n      'minor-damage': 'bg-yellow-100 text-yellow-800',\n      'major-damage': 'bg-orange-100 text-orange-800',\n      'beyond-repair': 'bg-red-100 text-red-800'\n    };\n    return colors[condition];\n  };\n\n  const totals = calculateTotals();\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center gap-4\">\n        <Button variant=\"outline\" onClick={onCancel}>\n          <ArrowLeft className=\"size-4\" />\n        </Button>\n        <div>\n          <h1 className=\"text-[#231F20]\">{report ? 'Edit Condition Report' : 'New Condition Report'}</h1>\n          <p className=\"text-gray-600\">Inspection based on Return Completion Form (RCF)</p>\n        </div>\n      </div>\n\n      {/* Basic Information */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Return Information</CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"rcfNumber\">RCF Number *</Label>\n              <Input\n                id=\"rcfNumber\"\n                value={formData.rcfNumber}\n                onChange={(e) => setFormData({ ...formData, rcfNumber: e.target.value })}\n                placeholder=\"RCF-XXXXXX\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"deliveryOrderNumber\">Delivery Order (DO) Number *</Label>\n              <Input\n                id=\"deliveryOrderNumber\"\n                value={formData.deliveryOrderNumber}\n                onChange={(e) => setFormData({ ...formData, deliveryOrderNumber: e.target.value })}\n                placeholder=\"DO-XXXXXX\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"customerName\">Customer Name *</Label>\n              <Input\n                id=\"customerName\"\n                value={formData.customerName}\n                onChange={(e) => setFormData({ ...formData, customerName: e.target.value })}\n                placeholder=\"Enter customer name\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"returnedBy\">Returned By *</Label>\n              <Input\n                id=\"returnedBy\"\n                value={formData.returnedBy}\n                onChange={(e) => setFormData({ ...formData, returnedBy: e.target.value })}\n                placeholder=\"Person who returned the items\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"returnDate\">Return Date</Label>\n              <Input\n                id=\"returnDate\"\n                type=\"date\"\n                value={formData.returnDate}\n                onChange={(e) => setFormData({ ...formData, returnDate: e.target.value })}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"inspectionDate\">Inspection Date</Label>\n              <Input\n                id=\"inspectionDate\"\n                type=\"date\"\n                value={formData.inspectionDate}\n                onChange={(e) => setFormData({ ...formData, inspectionDate: e.target.value })}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"inspectedBy\">Inspected By</Label>\n              <Input\n                id=\"inspectedBy\"\n                value={formData.inspectedBy}\n                onChange={(e) => setFormData({ ...formData, inspectedBy: e.target.value })}\n                placeholder=\"Inspector name\"\n              />\n            </div>\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"notes\">General Notes</Label>\n            <Textarea\n              id=\"notes\"\n              value={formData.notes}\n              onChange={(e) => setFormData({ ...formData, notes: e.target.value })}\n              placeholder=\"Overall condition notes, special observations...\"\n              rows={2}\n            />\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Inspection Items */}\n      <Card>\n        <CardHeader>\n          <div className=\"flex justify-between items-center\">\n            <CardTitle>Inspection Items</CardTitle>\n            <Button onClick={addItem} size=\"sm\" className=\"bg-[#F15929] hover:bg-[#d94d1f]\">\n              <Plus className=\"size-4 mr-2\" />\n              Add Item\n            </Button>\n          </div>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          {items.length === 0 ? (\n            <div className=\"text-center py-8 text-gray-500\">\n              No items added yet. Click &quot;Add Item&quot; to start inspection.\n            </div>\n          ) : (\n            items.map((item, index) => (\n              <div key={item.id} className=\"p-4 border rounded-lg space-y-4 bg-gray-50\">\n                <div className=\"flex justify-between items-start\">\n                  <h4 className=\"text-[#231F20]\">Item {index + 1}</h4>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={() => removeItem(item.id)}\n                    className=\"text-red-600 hover:text-red-700 hover:bg-red-50\"\n                  >\n                    <Trash2 className=\"size-4\" />\n                  </Button>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div className=\"md:col-span-2 space-y-2\">\n                    <Label>Scaffolding Item *</Label>\n                    <Select\n                      value={item.scaffoldingItemId}\n                      onValueChange={(value) => updateItem(item.id, 'scaffoldingItemId', value)}\n                    >\n                      <SelectTrigger>\n                        <SelectValue placeholder=\"Select item type\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        {SCAFFOLDING_TYPES.map(type => (\n                          <SelectItem key={type.id} value={type.id}>\n                            {type.name}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label>Original Item Price (RM)</Label>\n                    <Input\n                      type=\"number\"\n                      step=\"0.01\"\n                      min=\"0\"\n                      value={item.originalItemPrice || 0}\n                      onChange={(e) => updateItem(item.id, 'originalItemPrice', parseFloat(e.target.value) || 0)}\n                      placeholder=\"0.00\"\n                    />\n                    <p className=\"text-xs text-gray-500\">Auto-populated from RFQ</p>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label>Total Quantity</Label>\n                    <Input\n                      type=\"number\"\n                      value={item.quantity}\n                      disabled\n                      className=\"bg-gray-200\"\n                    />\n                  </div>\n                </div>\n\n                {/* Quantity Breakdown */}\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 p-3 bg-white rounded border\">\n                  <div className=\"space-y-2\">\n                    <Label className=\"text-green-600\">Good</Label>\n                    <Input\n                      type=\"number\"\n                      min=\"0\"\n                      value={item.quantityGood || 0}\n                      onChange={(e) => updateItem(item.id, 'quantityGood', parseInt(e.target.value) || 0)}\n                      placeholder=\"0\"\n                    />\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label className=\"text-orange-600\">Need Repair</Label>\n                    <Input\n                      type=\"number\"\n                      min=\"0\"\n                      value={item.quantityRepair || 0}\n                      onChange={(e) => updateItem(item.id, 'quantityRepair', parseInt(e.target.value) || 0)}\n                      placeholder=\"0\"\n                    />\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label className=\"text-red-600\">Write Off</Label>\n                    <Input\n                      type=\"number\"\n                      min=\"0\"\n                      value={item.quantityWriteOff || 0}\n                      onChange={(e) => updateItem(item.id, 'quantityWriteOff', parseInt(e.target.value) || 0)}\n                      placeholder=\"0\"\n                    />\n                  </div>\n                </div>\n\n                {/* Inspection Checklist */}\n                <div className=\"space-y-3 p-3 bg-white rounded border\">\n                  <Label className=\"text-[#231F20]\">Item Inspection Checklist</Label>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                    <div className=\"flex items-center space-x-2\">\n                      <Checkbox\n                        id={`structural-${item.id}`}\n                        checked={item.inspectionChecklist?.structuralIntegrity || false}\n                        onCheckedChange={(checked) => updateChecklist(item.id, 'structuralIntegrity', !!checked)}\n                      />\n                      <label htmlFor={`structural-${item.id}`} className=\"text-sm cursor-pointer flex items-center gap-2\">\n                        <CheckCircle2 className=\"size-4 text-gray-400\" />\n                        Structural Integrity\n                      </label>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <Checkbox\n                        id={`surface-${item.id}`}\n                        checked={item.inspectionChecklist?.surfaceCondition || false}\n                        onCheckedChange={(checked) => updateChecklist(item.id, 'surfaceCondition', !!checked)}\n                      />\n                      <label htmlFor={`surface-${item.id}`} className=\"text-sm cursor-pointer flex items-center gap-2\">\n                        <CheckCircle2 className=\"size-4 text-gray-400\" />\n                        Surface Condition\n                      </label>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <Checkbox\n                        id={`connections-${item.id}`}\n                        checked={item.inspectionChecklist?.connectionsSecure || false}\n                        onCheckedChange={(checked) => updateChecklist(item.id, 'connectionsSecure', !!checked)}\n                      />\n                      <label htmlFor={`connections-${item.id}`} className=\"text-sm cursor-pointer flex items-center gap-2\">\n                        <CheckCircle2 className=\"size-4 text-gray-400\" />\n                        Connections Secure\n                      </label>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <Checkbox\n                        id={`corrosion-${item.id}`}\n                        checked={item.inspectionChecklist?.noCorrosion || false}\n                        onCheckedChange={(checked) => updateChecklist(item.id, 'noCorrosion', !!checked)}\n                      />\n                      <label htmlFor={`corrosion-${item.id}`} className=\"text-sm cursor-pointer flex items-center gap-2\">\n                        <CheckCircle2 className=\"size-4 text-gray-400\" />\n                        No Corrosion\n                      </label>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <Checkbox\n                        id={`safety-${item.id}`}\n                        checked={item.inspectionChecklist?.safetyCompliance || false}\n                        onCheckedChange={(checked) => updateChecklist(item.id, 'safetyCompliance', !!checked)}\n                      />\n                      <label htmlFor={`safety-${item.id}`} className=\"text-sm cursor-pointer flex items-center gap-2\">\n                        <CheckCircle2 className=\"size-4 text-gray-400\" />\n                        Safety Compliance\n                      </label>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <Checkbox\n                        id={`complete-${item.id}`}\n                        checked={item.inspectionChecklist?.completeParts || false}\n                        onCheckedChange={(checked) => updateChecklist(item.id, 'completeParts', !!checked)}\n                      />\n                      <label htmlFor={`complete-${item.id}`} className=\"text-sm cursor-pointer flex items-center gap-2\">\n                        <CheckCircle2 className=\"size-4 text-gray-400\" />\n                        Complete Parts\n                      </label>\n                    </div>\n                  </div>\n                </div>\n\n                {item.repairRequired && (\n                  <>\n                    <div className=\"space-y-2\">\n                      <Label>Damage Description</Label>\n                      <Textarea\n                        value={item.damageDescription}\n                        onChange={(e) => updateItem(item.id, 'damageDescription', e.target.value)}\n                        placeholder=\"Describe the damage in detail...\"\n                        rows={2}\n                      />\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label>Estimated Repair Cost (RM) - Auto Calculated</Label>\n                      <Input\n                        type=\"number\"\n                        value={item.estimatedRepairCost.toFixed(2)}\n                        disabled\n                        className=\"bg-gray-200\"\n                      />\n                      <p className=\"text-xs text-gray-500\">\n                        Repair: 60% × Price × Qty | Write-off: 120% × Price × Qty\n                      </p>\n                    </div>\n\n                    {/* Image Upload */}\n                    <div className=\"space-y-3\">\n                      <div className=\"flex items-center justify-between\">\n                        <Label>Damage Photos</Label>\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={() => document.getElementById(`file-${item.id}`)?.click()}\n                        >\n                          <Upload className=\"size-4 mr-2\" />\n                          Upload Images\n                        </Button>\n                        <input\n                          id={`file-${item.id}`}\n                          type=\"file\"\n                          accept=\"image/*\"\n                          multiple\n                          className=\"hidden\"\n                          onChange={(e) => handleImageUpload(item.id, e)}\n                        />\n                      </div>\n\n                      {item.images.length > 0 && (\n                        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n                          {item.images.map(image => (\n                            <div key={image.id} className=\"relative group\">\n                              <img\n                                src={image.url}\n                                alt={image.caption || 'Damage photo'}\n                                className=\"w-full h-24 object-cover rounded border\"\n                              />\n                              <Button\n                                variant=\"ghost\"\n                                size=\"sm\"\n                                onClick={() => removeImage(item.id, image.id)}\n                                className=\"absolute top-1 right-1 size-6 p-0 bg-red-600 hover:bg-red-700 text-white opacity-0 group-hover:opacity-100 transition-opacity\"\n                              >\n                                <X className=\"size-4\" />\n                              </Button>\n                              <p className=\"text-xs text-gray-600 mt-1 truncate\">{image.caption}</p>\n                            </div>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n                  </>\n                )}\n\n                <div className=\"flex items-center gap-2 pt-2 border-t flex-wrap\">\n                  <Badge className={getConditionColor(item.condition)}>\n                    {item.condition.replace('-', ' ').toUpperCase()}\n                  </Badge>\n                  {item.repairRequired && (\n                    <Badge className=\"bg-amber-100 text-amber-800\">\n                      REPAIR REQUIRED\n                    </Badge>\n                  )}\n                  {item.images.length > 0 && (\n                    <Badge variant=\"outline\" className=\"flex items-center gap-1\">\n                      <ImageIcon className=\"size-3\" />\n                      {item.images.length} photo(s)\n                    </Badge>\n                  )}\n                  {item.quantityRepair > 0 && (\n                    <Badge className=\"bg-amber-100 text-amber-800 ml-auto\">\n                      Repair: {item.quantityRepair} items\n                    </Badge>\n                  )}\n                  {item.quantityWriteOff > 0 && (\n                    <Badge className=\"bg-red-100 text-red-800 ml-auto\">\n                      Write-off: {item.quantityWriteOff} items\n                    </Badge>\n                  )}\n                </div>\n              </div>\n            ))\n          )}\n\n          {items.length > 0 && (\n            <div className=\"bg-gray-50 p-4 rounded-lg space-y-2 border border-gray-200\">\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-[#231F20]\">Total Items Inspected:</span>\n                <span className=\"text-[#231F20]\">{totals.totalItemsInspected}</span>\n              </div>\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-[#231F20]\">Good Condition:</span>\n                <span className=\"text-[#231F20]\">{totals.totalGood}</span>\n              </div>\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-[#231F20]\">Need Repair:</span>\n                <span className=\"text-[#231F20]\">{totals.totalRepair}</span>\n              </div>\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-[#231F20]\">Write-off:</span>\n                <span className=\"text-[#231F20]\">{totals.totalWriteOff}</span>\n              </div>\n              <div className=\"flex justify-between pt-2 border-t border-gray-300\">\n                <span className=\"text-[#231F20]\">Estimated Total Repair Cost:</span>\n                <span className=\"text-[#231F20]\">RM {totals.totalRepairCost.toFixed(2)}</span>\n              </div>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Actions */}\n      <div className=\"flex justify-end gap-3\">\n        <Button variant=\"outline\" onClick={onCancel}>\n          Cancel\n        </Button>\n        <Button onClick={handleSubmit} className=\"bg-[#F15929] hover:bg-[#d94d1f]\">\n          <Save className=\"size-4 mr-2\" />\n          Save Condition Report\n        </Button>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1988, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/inspection/RepairSlipList.tsx"],"sourcesContent":["import { Eye, Calendar, User, AlertCircle, CheckCircle, FileText } from 'lucide-react';\nimport { Button } from '../ui/button';\nimport { Card, CardContent } from '../ui/card';\nimport { Badge } from '../ui/badge';\nimport { OpenRepairSlip } from '../../types/inspection';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '../ui/select';\n\ninterface RepairSlipListProps {\n  repairSlips: OpenRepairSlip[];\n  searchQuery: string;\n  onView: (slip: OpenRepairSlip) => void;\n  onUpdateStatus: (slipId: string, status: OpenRepairSlip['status']) => void;\n  onGenerateDamageInvoice: (slipId: string) => void;\n}\n\nexport function RepairSlipList({ repairSlips, searchQuery, onView, onUpdateStatus, onGenerateDamageInvoice }: RepairSlipListProps) {\n  const filteredSlips = repairSlips.filter(slip =>\n    slip.orpNumber.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    slip.rcfNumber.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  const getStatusColor = (status: OpenRepairSlip['status']) => {\n    const colors = {\n      'open': 'bg-blue-100 text-blue-800',\n      'in-repair': 'bg-amber-100 text-amber-800',\n      'completed': 'bg-green-100 text-green-800',\n      'cancelled': 'bg-gray-100 text-gray-800'\n    };\n    return colors[status];\n  };\n\n  const getPriorityColor = (priority: OpenRepairSlip['priority']) => {\n    const colors = {\n      'low': 'bg-gray-100 text-gray-800',\n      'medium': 'bg-blue-100 text-blue-800',\n      'high': 'bg-orange-100 text-orange-800',\n      'urgent': 'bg-red-100 text-red-800'\n    };\n    return colors[priority];\n  };\n\n  if (filteredSlips.length === 0) {\n    return (\n      <Card>\n        <CardContent className=\"py-12 text-center\">\n          <AlertCircle className=\"size-12 text-gray-400 mx-auto mb-4\" />\n          <p className=\"text-gray-600\">No repair slips found</p>\n          <p className=\"text-sm text-gray-500 mt-2\">\n            {searchQuery ? 'Try adjusting your search' : 'Create repair slips from condition reports'}\n          </p>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {filteredSlips.map(slip => (\n        <Card key={slip.id} className=\"hover:shadow-md transition-shadow\">\n          <CardContent className=\"p-6\">\n            <div className=\"flex flex-col lg:flex-row lg:items-center justify-between gap-4\">\n              <div className=\"flex-1 space-y-3\">\n                <div className=\"flex items-start justify-between\">\n                  <div>\n                    <div className=\"flex items-center gap-3 flex-wrap\">\n                      <h3 className=\"text-[#231F20]\">{slip.orpNumber}</h3>\n                      <Badge className={getStatusColor(slip.status)}>\n                        {slip.status.toUpperCase()}\n                      </Badge>\n                      <Badge className={getPriorityColor(slip.priority)}>\n                        {slip.priority.toUpperCase()}\n                      </Badge>\n                    </div>\n                    <p className=\"text-gray-600 mt-1\">RCF: {slip.rcfNumber}</p>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm\">\n                  <div className=\"flex items-center gap-2\">\n                    <AlertCircle className=\"size-4 text-gray-400\" />\n                    <div>\n                      <p className=\"text-gray-500\">Repair Items</p>\n                      <p className=\"text-[#231F20]\">{slip.items.length} items</p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <Calendar className=\"size-4 text-gray-400\" />\n                    <div>\n                      <p className=\"text-gray-500\">Created</p>\n                      <p className=\"text-[#231F20]\">{new Date(slip.createdAt).toLocaleDateString()}</p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <User className=\"size-4 text-gray-400\" />\n                    <div>\n                      <p className=\"text-gray-500\">Assigned To</p>\n                      <p className=\"text-[#231F20]\">{slip.assignedTo || 'Unassigned'}</p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <CheckCircle className=\"size-4 text-gray-400\" />\n                    <div>\n                      <p className=\"text-gray-500\">Est. Cost</p>\n                      <p className=\"text-[#231F20]\">RM {slip.estimatedCost.toFixed(2)}</p>\n                    </div>\n                  </div>\n                </div>\n\n                {slip.completionDate && (\n                  <div className=\"text-sm text-green-600\">\n                    Completed on {new Date(slip.completionDate).toLocaleDateString()}\n                  </div>\n                )}\n              </div>\n\n              <div className=\"flex lg:flex-col items-center gap-2\">\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => onView(slip)}\n                >\n                  <Eye className=\"size-4 mr-2\" />\n                  View Details\n                </Button>\n                {!slip.damageInvoiceId && (\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => onGenerateDamageInvoice(slip.id)}\n                    className=\"bg-[#F15929] text-white hover:bg-[#d94d1f]\"\n                  >\n                    <FileText className=\"size-4 mr-2\" />\n                    Generate Invoice\n                  </Button>\n                )}\n                {slip.damageInvoiceId && (\n                  <Badge className=\"bg-green-100 text-green-800\">\n                    Invoice Generated\n                  </Badge>\n                )}\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      ))}\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2412, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/inspection/RepairSlipDetails.tsx"],"sourcesContent":["import { ArrowLeft, AlertCircle, Calendar, User, DollarSign, CheckCircle, Printer } from 'lucide-react';\nimport { Button } from '../ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '../ui/card';\nimport { Badge } from '../ui/badge';\nimport { OpenRepairSlip } from '../../types/inspection';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '../ui/table';\n\ninterface RepairSlipDetailsProps {\n  repairSlip: OpenRepairSlip;\n  onBack: () => void;\n  onUpdateStatus: (slipId: string, status: OpenRepairSlip['status']) => void;\n  onPrint?: (slip: OpenRepairSlip) => void;\n}\n\nexport function RepairSlipDetails({ repairSlip, onBack, onUpdateStatus, onPrint }: RepairSlipDetailsProps) {\n  const getStatusColor = (status: OpenRepairSlip['status']) => {\n    const colors = {\n      'open': 'bg-blue-100 text-blue-800',\n      'in-repair': 'bg-amber-100 text-amber-800',\n      'completed': 'bg-green-100 text-green-800',\n      'cancelled': 'bg-gray-100 text-gray-800'\n    };\n    return colors[status];\n  };\n\n  const getPriorityColor = (priority: OpenRepairSlip['priority']) => {\n    const colors = {\n      'low': 'bg-gray-100 text-gray-800',\n      'medium': 'bg-blue-100 text-blue-800',\n      'high': 'bg-orange-100 text-orange-800',\n      'urgent': 'bg-red-100 text-red-800'\n    };\n    return colors[priority];\n  };\n\n  const getRepairStatusColor = (status: string) => {\n    const colors = {\n      'pending': 'bg-gray-100 text-gray-800',\n      'in-progress': 'bg-blue-100 text-blue-800',\n      'completed': 'bg-green-100 text-green-800',\n      'scrapped': 'bg-red-100 text-red-800'\n    };\n    return colors[status as keyof typeof colors] || 'bg-gray-100 text-gray-800';\n  };\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-4\">\n          <Button variant=\"outline\" onClick={onBack}>\n            <ArrowLeft className=\"size-4\" />\n          </Button>\n          <div>\n            <div className=\"flex items-center gap-3\">\n              <h1 className=\"text-[#231F20]\">{repairSlip.orpNumber}</h1>\n              <Badge className={getStatusColor(repairSlip.status)}>\n                {repairSlip.status.toUpperCase()}\n              </Badge>\n              <Badge className={getPriorityColor(repairSlip.priority)}>\n                {repairSlip.priority.toUpperCase()} PRIORITY\n              </Badge>\n            </div>\n            <p className=\"text-gray-600\">Open Repair Slip Details</p>\n          </div>\n        </div>\n        <div className=\"flex gap-2\">\n          {repairSlip.status === 'in-repair' && (\n            <Button\n              onClick={() => onUpdateStatus(repairSlip.id, 'completed')}\n              className=\"bg-green-600 hover:bg-green-700\"\n            >\n              <CheckCircle className=\"size-4 mr-2\" />\n              Mark Complete\n            </Button>\n          )}\n          <Button\n            onClick={() => onPrint && onPrint(repairSlip)}\n            className=\"bg-gray-600 hover:bg-gray-700\"\n          >\n            <Printer className=\"size-4 mr-2\" />\n            Print\n          </Button>\n        </div>\n      </div>\n\n      {/* Summary Information */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Repair Slip Information</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n            <div className=\"flex items-start gap-3\">\n              <AlertCircle className=\"size-5 text-gray-400 mt-0.5\" />\n              <div>\n                <p className=\"text-sm text-gray-500\">Related RCF</p>\n                <p className=\"text-[#231F20]\">{repairSlip.rcfNumber}</p>\n              </div>\n            </div>\n            <div className=\"flex items-start gap-3\">\n              <User className=\"size-5 text-gray-400 mt-0.5\" />\n              <div>\n                <p className=\"text-sm text-gray-500\">Assigned To</p>\n                <p className=\"text-[#231F20]\">{repairSlip.assignedTo || 'Unassigned'}</p>\n              </div>\n            </div>\n            <div className=\"flex items-start gap-3\">\n              <Calendar className=\"size-5 text-gray-400 mt-0.5\" />\n              <div>\n                <p className=\"text-sm text-gray-500\">Created Date</p>\n                <p className=\"text-[#231F20]\">\n                  {new Date(repairSlip.createdAt).toLocaleDateString()}\n                </p>\n              </div>\n            </div>\n            <div className=\"flex items-start gap-3\">\n              <DollarSign className=\"size-5 text-gray-400 mt-0.5\" />\n              <div>\n                <p className=\"text-sm text-gray-500\">Estimated Cost</p>\n                <p className=\"text-[#231F20]\">RM {repairSlip.estimatedCost.toFixed(2)}</p>\n              </div>\n            </div>\n          </div>\n\n          {repairSlip.startDate && (\n            <div className=\"mt-6 pt-6 border-t\">\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                <div className=\"flex items-start gap-3\">\n                  <Calendar className=\"size-5 text-gray-400 mt-0.5\" />\n                  <div>\n                    <p className=\"text-sm text-gray-500\">Start Date</p>\n                    <p className=\"text-[#231F20]\">\n                      {new Date(repairSlip.startDate).toLocaleDateString()}\n                    </p>\n                  </div>\n                </div>\n                {repairSlip.completionDate && (\n                  <div className=\"flex items-start gap-3\">\n                    <CheckCircle className=\"size-5 text-green-600 mt-0.5\" />\n                    <div>\n                      <p className=\"text-sm text-gray-500\">Completion Date</p>\n                      <p className=\"text-[#231F20]\">\n                        {new Date(repairSlip.completionDate).toLocaleDateString()}\n                      </p>\n                    </div>\n                  </div>\n                )}\n                {repairSlip.actualCost > 0 && (\n                  <div className=\"flex items-start gap-3\">\n                    <DollarSign className=\"size-5 text-gray-400 mt-0.5\" />\n                    <div>\n                      <p className=\"text-sm text-gray-500\">Actual Cost</p>\n                      <p className=\"text-[#231F20]\">RM {repairSlip.actualCost.toFixed(2)}</p>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n\n          {repairSlip.repairNotes && (\n            <div className=\"mt-6 pt-6 border-t\">\n              <p className=\"text-sm text-gray-500 mb-2\">Repair Notes</p>\n              <p className=\"text-[#231F20]\">{repairSlip.repairNotes}</p>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Repair Items */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Items Requiring Repair</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"overflow-x-auto\">\n            <Table>\n              <TableHeader>\n                <TableRow>\n                  <TableHead className=\"w-12\">#</TableHead>\n                  <TableHead>Item Description</TableHead>\n                  <TableHead>Quantity</TableHead>\n                  <TableHead>Damage Type</TableHead>\n                  <TableHead>Repair Actions</TableHead>\n                  <TableHead>Status</TableHead>\n                  <TableHead className=\"text-right\">Cost (RM)</TableHead>\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                {repairSlip.items.map((item, index) => (\n                  <TableRow key={item.id}>\n                    <TableCell>{index + 1}</TableCell>\n                    <TableCell>\n                      <div>\n                        <p className=\"text-[#231F20]\">{item.scaffoldingItemName}</p>\n                        {item.damageDescription && (\n                          <p className=\"text-sm text-gray-500 mt-1\">{item.damageDescription}</p>\n                        )}\n                      </div>\n                    </TableCell>\n                    <TableCell>{item.quantity}</TableCell>\n                    <TableCell>\n                      <Badge variant=\"outline\">\n                        {item.damageType.replace('-', ' ').toUpperCase()}\n                      </Badge>\n                    </TableCell>\n                    <TableCell>\n                      <div className=\"space-y-1\">\n                        {item.repairActions.map((action, idx) => (\n                          <div key={idx} className=\"text-sm text-gray-600\">\n                            • {action}\n                          </div>\n                        ))}\n                      </div>\n                    </TableCell>\n                    <TableCell>\n                      <Badge className={getRepairStatusColor(item.repairStatus)}>\n                        {item.repairStatus.replace('-', ' ').toUpperCase()}\n                      </Badge>\n                    </TableCell>\n                    <TableCell className=\"text-right\">\n                      {item.totalCost.toFixed(2)}\n                    </TableCell>\n                  </TableRow>\n                ))}\n                <TableRow>\n                  <TableCell colSpan={6} className=\"text-right\">\n                    <span className=\"text-[#231F20]\">Total Estimated Cost:</span>\n                  </TableCell>\n                  <TableCell className=\"text-right\">\n                    <span className=\"text-[#231F20]\">\n                      RM {repairSlip.estimatedCost.toFixed(2)}\n                    </span>\n                  </TableCell>\n                </TableRow>\n              </TableBody>\n            </Table>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Metadata */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Additional Information</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n            <div>\n              <p className=\"text-sm text-gray-500\">Created By</p>\n              <p className=\"text-[#231F20]\">{repairSlip.createdBy}</p>\n            </div>\n            <div>\n              <p className=\"text-sm text-gray-500\">Created At</p>\n              <p className=\"text-[#231F20]\">\n                {new Date(repairSlip.createdAt).toLocaleString()}\n              </p>\n            </div>\n            <div>\n              <p className=\"text-sm text-gray-500\">Last Updated</p>\n              <p className=\"text-[#231F20]\">\n                {new Date(repairSlip.updatedAt).toLocaleString()}\n              </p>\n            </div>\n          </div>\n          {repairSlip.invoiceNumber && (\n            <div className=\"mt-6 pt-6 border-t\">\n              <p className=\"text-sm text-gray-500\">Associated Invoice</p>\n              <p className=\"text-[#231F20]\">{repairSlip.invoiceNumber}</p>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3375, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/inspection/RepairSlipForm.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { ArrowLeft, Plus, Trash2, Upload, X } from 'lucide-react';\nimport { Button } from '../ui/button';\nimport { Input } from '../ui/input';\nimport { Label } from '../ui/label';\nimport { Textarea } from '../ui/textarea';\nimport { Card, CardContent, CardHeader, CardTitle } from '../ui/card';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '../ui/select';\nimport { Badge } from '../ui/badge';\nimport { toast } from 'sonner';\nimport { OpenRepairSlip, RepairItem, ConditionReport, DAMAGE_TYPES, REPAIR_ACTIONS } from '../../types/inspection';\n\ninterface RepairSlipFormProps {\n  repairSlip?: OpenRepairSlip | null;\n  conditionReport?: ConditionReport | null;\n  onSave: (repairSlip: OpenRepairSlip) => void;\n  onCancel: () => void;\n}\n\nexport function RepairSlipForm({ repairSlip, conditionReport, onSave, onCancel }: RepairSlipFormProps) {\n  const [formData, setFormData] = useState<Partial<OpenRepairSlip>>({\n    orpNumber: repairSlip?.orpNumber || `ORP-${Date.now()}`,\n    conditionReportId: repairSlip?.conditionReportId || conditionReport?.id || '',\n    rcfNumber: repairSlip?.rcfNumber || conditionReport?.rcfNumber || '',\n    status: repairSlip?.status || 'open',\n    priority: repairSlip?.priority || 'medium',\n    estimatedCost: repairSlip?.estimatedCost || 0,\n    actualCost: repairSlip?.actualCost || 0,\n    repairNotes: repairSlip?.repairNotes || '',\n    assignedTo: repairSlip?.assignedTo || '',\n    startDate: repairSlip?.startDate || '',\n    createdBy: repairSlip?.createdBy || 'Current User',\n  });\n\n  const [repairItems, setRepairItems] = useState<RepairItem[]>(repairSlip?.items || []);\n\n  // Initialize repair items from condition report\n  useEffect(() => {\n    if (conditionReport && !repairSlip) {\n      const damagedItems = conditionReport.items.filter(item => item.repairRequired);\n      const initialItems: RepairItem[] = damagedItems.map(item => {\n        // Auto-populate cost from condition report\n        const damageQty = (item.quantityRepair || 0) + (item.quantityWriteOff || 0);\n        const costPerUnit = damageQty > 0 ? item.estimatedRepairCost / damageQty : item.estimatedRepairCost;\n        return {\n          id: `repair-item-${Date.now()}-${Math.random()}`,\n          inspectionItemId: item.id,\n          scaffoldingItemId: item.scaffoldingItemId,\n          scaffoldingItemName: item.scaffoldingItemName,\n          quantity: damageQty, // Only damaged/repair needed items\n          damageType: 'other',\n          damageDescription: item.damageDescription || '',\n          repairActions: [],\n          repairStatus: 'pending',\n          costPerUnit: costPerUnit,\n          totalCost: item.estimatedRepairCost,\n          beforeImages: item.images.map(img => img.url),\n          afterImages: [],\n        };\n      });\n      setRepairItems(initialItems);\n    }\n  }, [conditionReport, repairSlip]);\n\n  // Recalculate estimated cost when items change\n  useEffect(() => {\n    const total = repairItems.reduce((sum, item) => sum + item.totalCost, 0);\n    setFormData(prev => ({ ...prev, estimatedCost: total }));\n  }, [repairItems]);\n\n  const handleAddItem = () => {\n    const newItem: RepairItem = {\n      id: `repair-item-${Date.now()}-${Math.random()}`,\n      inspectionItemId: '',\n      scaffoldingItemId: '',\n      scaffoldingItemName: '',\n      quantity: 1,\n      damageType: 'other',\n      damageDescription: '',\n      repairActions: [],\n      repairStatus: 'pending',\n      costPerUnit: 0,\n      totalCost: 0,\n      beforeImages: [],\n      afterImages: [],\n    };\n    setRepairItems([...repairItems, newItem]);\n  };\n\n  const handleRemoveItem = (itemId: string) => {\n    setRepairItems(repairItems.filter(item => item.id !== itemId));\n  };\n\n  const handleUpdateItem = (itemId: string, field: keyof RepairItem, value: any) => {\n    setRepairItems(repairItems.map(item => {\n      if (item.id === itemId) {\n        const updated = { ...item, [field]: value };\n        \n        // Auto-calculate total cost\n        if (field === 'costPerUnit' || field === 'quantity') {\n          updated.totalCost = updated.costPerUnit * updated.quantity;\n        }\n        \n        return updated;\n      }\n      return item;\n    }));\n  };\n\n  const handleToggleRepairAction = (itemId: string, action: string) => {\n    setRepairItems(repairItems.map(item => {\n      if (item.id === itemId) {\n        const actions = item.repairActions.includes(action)\n          ? item.repairActions.filter(a => a !== action)\n          : [...item.repairActions, action];\n        return { ...item, repairActions: actions };\n      }\n      return item;\n    }));\n  };\n\n  const handleSubmit = () => {\n    // Validation\n    if (!formData.rcfNumber) {\n      toast.error('RCF Number is required');\n      return;\n    }\n\n    if (repairItems.length === 0) {\n      toast.error('At least one repair item is required');\n      return;\n    }\n\n    const invalidItems = repairItems.filter(\n      item => !item.scaffoldingItemName || !item.damageDescription || item.repairActions.length === 0\n    );\n\n    if (invalidItems.length > 0) {\n      toast.error('Please complete all repair item details');\n      return;\n    }\n\n    const repairSlipData: OpenRepairSlip = {\n      id: repairSlip?.id || `repair-${Date.now()}`,\n      orpNumber: formData.orpNumber!,\n      conditionReportId: formData.conditionReportId!,\n      rcfNumber: formData.rcfNumber!,\n      items: repairItems,\n      status: formData.status as OpenRepairSlip['status'],\n      priority: formData.priority as OpenRepairSlip['priority'],\n      assignedTo: formData.assignedTo,\n      startDate: formData.startDate,\n      completionDate: repairSlip?.completionDate,\n      estimatedCost: formData.estimatedCost!,\n      actualCost: formData.actualCost!,\n      repairNotes: formData.repairNotes,\n      invoiceNumber: repairSlip?.invoiceNumber,\n      createdBy: formData.createdBy!,\n      createdAt: repairSlip?.createdAt || new Date().toISOString(),\n      updatedAt: new Date().toISOString(),\n    };\n\n    onSave(repairSlipData);\n    toast.success(repairSlip ? 'Repair slip updated successfully' : 'Repair slip created successfully');\n  };\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-4\">\n          <Button variant=\"ghost\" size=\"icon\" onClick={onCancel}>\n            <ArrowLeft className=\"size-5\" />\n          </Button>\n          <div>\n            <h1 className=\"text-[#231F20]\">\n              {repairSlip ? 'Edit Repair Slip' : 'Create Repair Slip'}\n            </h1>\n            <p className=\"text-gray-600\">\n              {conditionReport ? `From RCF: ${conditionReport.rcfNumber}` : 'Enter repair details'}\n            </p>\n          </div>\n        </div>\n        <div className=\"flex gap-2\">\n          <Button variant=\"outline\" onClick={onCancel}>\n            Cancel\n          </Button>\n          <Button onClick={handleSubmit} className=\"bg-[#F15929] hover:bg-[#d94d1f]\">\n            {repairSlip ? 'Update' : 'Create'} Repair Slip\n          </Button>\n        </div>\n      </div>\n\n      {/* Basic Information */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Basic Information</CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"space-y-2\">\n              <Label>ORP Number</Label>\n              <Input\n                value={formData.orpNumber}\n                onChange={(e) => setFormData({ ...formData, orpNumber: e.target.value })}\n                placeholder=\"ORP-XXXXX\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>RCF Number</Label>\n              <Input\n                value={formData.rcfNumber}\n                onChange={(e) => setFormData({ ...formData, rcfNumber: e.target.value })}\n                placeholder=\"RCF-XXXXX\"\n                disabled={!!conditionReport}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Priority</Label>\n              <Select\n                value={formData.priority}\n                onValueChange={(value) => setFormData({ ...formData, priority: value as OpenRepairSlip['priority'] })}\n              >\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"low\">Low</SelectItem>\n                  <SelectItem value=\"medium\">Medium</SelectItem>\n                  <SelectItem value=\"high\">High</SelectItem>\n                  <SelectItem value=\"urgent\">Urgent</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label>Assigned To</Label>\n              <Input\n                value={formData.assignedTo}\n                onChange={(e) => setFormData({ ...formData, assignedTo: e.target.value })}\n                placeholder=\"Technician name\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Start Date</Label>\n              <Input\n                type=\"date\"\n                value={formData.startDate}\n                onChange={(e) => setFormData({ ...formData, startDate: e.target.value })}\n              />\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label>Repair Notes</Label>\n            <Textarea\n              value={formData.repairNotes}\n              onChange={(e) => setFormData({ ...formData, repairNotes: e.target.value })}\n              placeholder=\"Additional notes about the repair...\"\n              rows={3}\n            />\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Repair Items */}\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <CardTitle>Repair Items</CardTitle>\n            <Button onClick={handleAddItem} variant=\"outline\" size=\"sm\">\n              <Plus className=\"size-4 mr-2\" />\n              Add Item\n            </Button>\n          </div>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          {repairItems.length === 0 ? (\n            <div className=\"text-center py-8 text-gray-500\">\n              No repair items added. Click \"Add Item\" to add repair items.\n            </div>\n          ) : (\n            repairItems.map((item, index) => (\n              <div key={item.id} className=\"p-4 border rounded-lg space-y-4 relative\">\n                <div className=\"flex items-start justify-between\">\n                  <h4 className=\"text-[#231F20]\">Item #{index + 1}</h4>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onClick={() => handleRemoveItem(item.id)}\n                    className=\"text-red-600 hover:text-red-700 hover:bg-red-50\"\n                  >\n                    <Trash2 className=\"size-4\" />\n                  </Button>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <div className=\"space-y-2\">\n                    <Label>Scaffolding Item Name</Label>\n                    <Input\n                      value={item.scaffoldingItemName}\n                      onChange={(e) => handleUpdateItem(item.id, 'scaffoldingItemName', e.target.value)}\n                      placeholder=\"e.g., Standard Frame\"\n                      disabled={!!conditionReport}\n                      className={conditionReport ? \"bg-gray-200\" : \"\"}\n                    />\n                    {conditionReport && (\n                      <p className=\"text-xs text-gray-500\">From condition report</p>\n                    )}\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label>Quantity</Label>\n                    <Input\n                      type=\"number\"\n                      value={item.quantity}\n                      onChange={(e) => handleUpdateItem(item.id, 'quantity', parseInt(e.target.value) || 0)}\n                      min=\"1\"\n                      disabled={!!conditionReport}\n                      className={conditionReport ? \"bg-gray-200\" : \"\"}\n                    />\n                    {conditionReport && (\n                      <p className=\"text-xs text-gray-500\">From condition report</p>\n                    )}\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label>Damage Type</Label>\n                    <Select\n                      value={item.damageType}\n                      onValueChange={(value) => handleUpdateItem(item.id, 'damageType', value)}\n                    >\n                      <SelectTrigger>\n                        <SelectValue />\n                      </SelectTrigger>\n                      <SelectContent>\n                        {DAMAGE_TYPES.map(type => (\n                          <SelectItem key={type.value} value={type.value}>\n                            {type.label}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n                </div>\n\n                {item.damageType === 'other' && (\n                  <div className=\"space-y-2\">\n                    <Label>Damage Description</Label>\n                    <Textarea\n                      value={item.damageDescription}\n                      onChange={(e) => handleUpdateItem(item.id, 'damageDescription', e.target.value)}\n                      placeholder=\"Describe the damage...\"\n                      rows={2}\n                    />\n                  </div>\n                )}\n\n                <div className=\"space-y-2\">\n                  <Label>Repair Actions Required</Label>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {REPAIR_ACTIONS.map(action => (\n                      <Badge\n                        key={action}\n                        variant={item.repairActions.includes(action) ? 'default' : 'outline'}\n                        className={`cursor-pointer ${\n                          item.repairActions.includes(action)\n                            ? 'bg-[#F15929] hover:bg-[#d94d1f]'\n                            : 'hover:bg-gray-100'\n                        }`}\n                        onClick={() => handleToggleRepairAction(item.id, action)}\n                      >\n                        {action}\n                      </Badge>\n                    ))}\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div className=\"space-y-2\">\n                    <Label>Repair Status</Label>\n                    <Select\n                      value={item.repairStatus}\n                      onValueChange={(value) => handleUpdateItem(item.id, 'repairStatus', value)}\n                    >\n                      <SelectTrigger>\n                        <SelectValue />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"pending\">Pending</SelectItem>\n                        <SelectItem value=\"in-progress\">In Progress</SelectItem>\n                        <SelectItem value=\"completed\">Completed</SelectItem>\n                        <SelectItem value=\"scrapped\">Scrapped</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label>Total Cost (RM)</Label>\n                    <Input\n                      type=\"number\"\n                      value={item.totalCost.toFixed(2)}\n                      disabled\n                      className=\"bg-gray-200\"\n                    />\n                    {conditionReport && (\n                      <p className=\"text-xs text-gray-500\">Auto-calculated from condition report</p>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))\n          )}\n\n          {repairItems.length > 0 && (\n            <div className=\"pt-4 border-t\">\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-[#231F20]\">Estimated Total Cost:</span>\n                <span className=\"text-[#231F20]\">RM {formData.estimatedCost?.toFixed(2)}</span>\n              </div>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4380, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/inspection/RepairSlipPrint.tsx"],"sourcesContent":["import { useRef } from 'react';\nimport { X, Printer, Download } from 'lucide-react';\nimport { Button } from '../ui/button';\nimport { Card, CardContent } from '../ui/card';\nimport { OpenRepairSlip } from '../../types/inspection';\nimport { toast } from 'sonner';\n\ninterface RepairSlipPrintProps {\n  repairSlip: OpenRepairSlip;\n  onClose: () => void;\n}\n\nexport function RepairSlipPrint({ repairSlip, onClose }: RepairSlipPrintProps) {\n  const printRef = useRef<HTMLDivElement>(null);\n\n  const handlePrint = () => {\n    window.print();\n  };\n\n  const handleDownload = () => {\n    // Note: Browser print dialog can save as PDF\n    toast.info('Use the Print dialog and select \"Save as PDF\" to download');\n    window.print();\n  };\n\n  return (\n    <div className=\"p-6\">\n      {/* Action Buttons - Hidden on Print */}\n      <div className=\"flex justify-between items-center mb-6 print:hidden\">\n        <h1 className=\"text-[#231F20]\">Open Repair Slip - Print Preview</h1>\n        <div className=\"flex gap-2\">\n          <Button variant=\"outline\" onClick={onClose}>\n            <X className=\"size-4 mr-2\" />\n            Close\n          </Button>\n          <Button variant=\"outline\" onClick={handleDownload}>\n            <Download className=\"size-4 mr-2\" />\n            Download PDF\n          </Button>\n          <Button onClick={handlePrint} className=\"bg-[#F15929] hover:bg-[#d94d1f]\">\n            <Printer className=\"size-4 mr-2\" />\n            Print\n          </Button>\n        </div>\n      </div>\n\n      {/* Printable Repair Slip */}\n      <Card className=\"max-w-4xl mx-auto\">\n        <CardContent className=\"p-12\" ref={printRef}>\n          {/* Header */}\n          <div className=\"border-b-4 border-[#F15929] pb-6 mb-6\">\n            <div className=\"flex justify-between items-start\">\n              <div>\n                <h1 className=\"text-[#231F20] text-3xl mb-2\">Power Metal & Steel</h1>\n                <p className=\"text-gray-600\">Scaffolding Rental & Services</p>\n              </div>\n              <div className=\"text-right\">\n                <div className=\"text-[#F15929] text-xl mb-2\">OPEN REPAIR SLIP</div>\n                <div className=\"text-[#231F20]\">{repairSlip.orpNumber}</div>\n              </div>\n            </div>\n          </div>\n\n          {/* Repair Slip Information */}\n          <div className=\"grid grid-cols-2 gap-8 mb-8\">\n            <div>\n              <h3 className=\"text-[#231F20] mb-4\">Repair Slip Details</h3>\n              <div className=\"space-y-2 text-sm\">\n                <div className=\"flex\">\n                  <span className=\"text-gray-600 w-32\">RCF Number:</span>\n                  <span className=\"text-[#231F20]\">{repairSlip.rcfNumber}</span>\n                </div>\n                <div className=\"flex\">\n                  <span className=\"text-gray-600 w-32\">Priority:</span>\n                  <span className=\"text-[#231F20]\">{repairSlip.priority.toUpperCase()}</span>\n                </div>\n                <div className=\"flex\">\n                  <span className=\"text-gray-600 w-32\">Status:</span>\n                  <span className=\"text-[#231F20]\">{repairSlip.status.toUpperCase()}</span>\n                </div>\n                <div className=\"flex\">\n                  <span className=\"text-gray-600 w-32\">Created Date:</span>\n                  <span className=\"text-[#231F20]\">\n                    {new Date(repairSlip.createdAt).toLocaleDateString()}\n                  </span>\n                </div>\n                {repairSlip.startDate && (\n                  <div className=\"flex\">\n                    <span className=\"text-gray-600 w-32\">Start Date:</span>\n                    <span className=\"text-[#231F20]\">\n                      {new Date(repairSlip.startDate).toLocaleDateString()}\n                    </span>\n                  </div>\n                )}\n                {repairSlip.completionDate && (\n                  <div className=\"flex\">\n                    <span className=\"text-gray-600 w-32\">Completion Date:</span>\n                    <span className=\"text-[#231F20]\">\n                      {new Date(repairSlip.completionDate).toLocaleDateString()}\n                    </span>\n                  </div>\n                )}\n              </div>\n            </div>\n            <div>\n              <h3 className=\"text-[#231F20] mb-4\">Assignment & Cost</h3>\n              <div className=\"space-y-2 text-sm\">\n                <div className=\"flex\">\n                  <span className=\"text-gray-600 w-32\">Assigned To:</span>\n                  <span className=\"text-[#231F20]\">{repairSlip.assignedTo || 'Unassigned'}</span>\n                </div>\n                <div className=\"flex\">\n                  <span className=\"text-gray-600 w-32\">Created By:</span>\n                  <span className=\"text-[#231F20]\">{repairSlip.createdBy}</span>\n                </div>\n                <div className=\"flex\">\n                  <span className=\"text-gray-600 w-32\">Estimated Cost:</span>\n                  <span className=\"text-[#231F20]\">RM {repairSlip.estimatedCost.toFixed(2)}</span>\n                </div>\n                {repairSlip.actualCost > 0 && (\n                  <div className=\"flex\">\n                    <span className=\"text-gray-600 w-32\">Actual Cost:</span>\n                    <span className=\"text-[#231F20]\">RM {repairSlip.actualCost.toFixed(2)}</span>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Repair Notes */}\n          {repairSlip.repairNotes && (\n            <div className=\"mb-8\">\n              <h3 className=\"text-[#231F20] mb-2\">Repair Notes</h3>\n              <p className=\"text-sm text-gray-700 p-3 bg-gray-50 rounded\">\n                {repairSlip.repairNotes}\n              </p>\n            </div>\n          )}\n\n          {/* Items Requiring Repair */}\n          <div className=\"mb-8\">\n            <h3 className=\"text-[#231F20] mb-4\">Items Requiring Repair</h3>\n            <table className=\"w-full border-collapse\">\n              <thead>\n                <tr className=\"bg-gray-100\">\n                  <th className=\"border border-gray-300 p-2 text-left text-sm\">#</th>\n                  <th className=\"border border-gray-300 p-2 text-left text-sm\">Item Description</th>\n                  <th className=\"border border-gray-300 p-2 text-center text-sm\">Qty</th>\n                  <th className=\"border border-gray-300 p-2 text-left text-sm\">Damage Type</th>\n                  <th className=\"border border-gray-300 p-2 text-left text-sm\">Repair Actions</th>\n                  <th className=\"border border-gray-300 p-2 text-left text-sm\">Status</th>\n                  <th className=\"border border-gray-300 p-2 text-right text-sm\">Cost (RM)</th>\n                </tr>\n              </thead>\n              <tbody>\n                {repairSlip.items.map((item, index) => (\n                  <tr key={item.id}>\n                    <td className=\"border border-gray-300 p-2 text-sm\">{index + 1}</td>\n                    <td className=\"border border-gray-300 p-2 text-sm\">\n                      <div>\n                        <div className=\"text-[#231F20]\">{item.scaffoldingItemName}</div>\n                        {item.damageDescription && (\n                          <div className=\"text-xs text-gray-600 mt-1\">\n                            {item.damageDescription}\n                          </div>\n                        )}\n                      </div>\n                    </td>\n                    <td className=\"border border-gray-300 p-2 text-center text-sm\">\n                      {item.quantity}\n                    </td>\n                    <td className=\"border border-gray-300 p-2 text-sm\">\n                      {item.damageType.replace('-', ' ').toUpperCase()}\n                    </td>\n                    <td className=\"border border-gray-300 p-2 text-sm\">\n                      <ul className=\"list-disc list-inside text-xs\">\n                        {item.repairActions.map((action, idx) => (\n                          <li key={idx}>{action}</li>\n                        ))}\n                      </ul>\n                    </td>\n                    <td className=\"border border-gray-300 p-2 text-sm\">\n                      {item.repairStatus.replace('-', ' ').toUpperCase()}\n                    </td>\n                    <td className=\"border border-gray-300 p-2 text-right text-sm\">\n                      {item.totalCost.toFixed(2)}\n                    </td>\n                  </tr>\n                ))}\n                <tr className=\"bg-gray-100\">\n                  <td colSpan={6} className=\"border border-gray-300 p-2 text-right text-sm\">\n                    <strong>Total Estimated Cost:</strong>\n                  </td>\n                  <td className=\"border border-gray-300 p-2 text-right text-sm\">\n                    <strong className=\"text-[#F15929]\">\n                      RM {repairSlip.estimatedCost.toFixed(2)}\n                    </strong>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n\n          {/* Signatures */}\n          <div className=\"grid grid-cols-2 gap-12 mt-16\">\n            <div>\n              <div className=\"border-t-2 border-[#231F20] pt-2 mt-16\">\n                <div className=\"text-sm text-gray-600\">Prepared By</div>\n                <div className=\"text-sm text-[#231F20] mt-1\">{repairSlip.createdBy}</div>\n                <div className=\"text-xs text-gray-500 mt-1\">\n                  Date: {new Date(repairSlip.createdAt).toLocaleDateString()}\n                </div>\n              </div>\n            </div>\n            <div>\n              <div className=\"border-t-2 border-[#231F20] pt-2 mt-16\">\n                <div className=\"text-sm text-gray-600\">Technician Acknowledgment</div>\n                <div className=\"text-sm text-[#231F20] mt-1\">\n                  {repairSlip.assignedTo || '_____________________'}\n                </div>\n                <div className=\"text-xs text-gray-500 mt-1\">\n                  Date: _____________________\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Footer */}\n          <div className=\"mt-12 pt-6 border-t border-gray-300 text-center text-xs text-gray-500\">\n            <p>This is a computer-generated document. No signature is required for validity.</p>\n            <p className=\"mt-1\">\n              Power Metal & Steel | Generated on {new Date().toLocaleString()}\n            </p>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Print Styles */}\n      <style>{`\n        @media print {\n          body * {\n            visibility: hidden;\n          }\n          .print\\\\:hidden {\n            display: none !important;\n          }\n          #root, #root * {\n            visibility: visible;\n          }\n          ${printRef.current ? `#${printRef.current.id}` : ''} {\n            position: absolute;\n            left: 0;\n            top: 0;\n          }\n        }\n      `}</style>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5312, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/inspection/DamageInvoicePrint.tsx"],"sourcesContent":["import { useRef } from 'react';\nimport { X, Printer, Download } from 'lucide-react';\nimport { Button } from '../ui/button';\nimport { Card, CardContent } from '../ui/card';\nimport { DamageInvoice } from '../../types/inspection';\nimport { toast } from 'sonner';\n\ninterface DamageInvoicePrintProps {\n  invoice: DamageInvoice;\n  onClose: () => void;\n}\n\nexport function DamageInvoicePrint({ invoice, onClose }: DamageInvoicePrintProps) {\n  const printRef = useRef<HTMLDivElement>(null);\n\n  const handlePrint = () => {\n    window.print();\n  };\n\n  const handleDownload = () => {\n    // Note: Browser print dialog can save as PDF\n    toast.info('Use the Print dialog and select \"Save as PDF\" to download');\n    window.print();\n  };\n\n  return (\n    <div className=\"p-6\">\n      {/* Action Buttons - Hidden on Print */}\n      <div className=\"flex justify-between items-center mb-6 print:hidden\">\n        <h1 className=\"text-[#231F20]\">Damage Invoice - Print Preview</h1>\n        <div className=\"flex gap-2\">\n          <Button variant=\"outline\" onClick={onClose}>\n            <X className=\"size-4 mr-2\" />\n            Close\n          </Button>\n          <Button variant=\"outline\" onClick={handleDownload}>\n            <Download className=\"size-4 mr-2\" />\n            Download PDF\n          </Button>\n          <Button onClick={handlePrint} className=\"bg-[#F15929] hover:bg-[#d94d1f]\">\n            <Printer className=\"size-4 mr-2\" />\n            Print\n          </Button>\n        </div>\n      </div>\n\n      {/* Printable Invoice */}\n      <Card className=\"max-w-4xl mx-auto\">\n        <CardContent className=\"p-12\" ref={printRef}>\n          {/* Header */}\n          <div className=\"border-b-4 border-[#F15929] pb-6 mb-6\">\n            <div className=\"flex justify-between items-start\">\n              <div>\n                <h1 className=\"text-[#231F20] mb-2\">POWER METAL & STEEL</h1>\n                <p className=\"text-sm text-gray-600\">Scaffolding Equipment Supplier</p>\n                <p className=\"text-sm text-gray-600 mt-2\">\n                  123 Industrial Park, Johor Bahru<br />\n                  Johor, Malaysia 81200<br />\n                  Tel: +60 12-345 6789<br />\n                  Email: info@powermetalsteel.com\n                </p>\n              </div>\n              <div className=\"text-right\">\n                <h2 className=\"text-[#231F20] mb-4\">DAMAGE INVOICE</h2>\n                <div className=\"text-sm space-y-1\">\n                  <p><strong>Invoice No:</strong> {invoice.invoiceNumber}</p>\n                  <p><strong>ORP No:</strong> {invoice.orpNumber}</p>\n                  <p><strong>Date:</strong> {new Date(invoice.invoiceDate).toLocaleDateString()}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Vendor Information */}\n          {invoice.vendor && (\n            <div className=\"mb-8\">\n              <h3 className=\"text-sm text-gray-600 mb-2\">BILLED TO:</h3>\n              <div className=\"bg-gray-50 p-4 rounded-lg\">\n                <p className=\"text-[#231F20]\">{invoice.vendor}</p>\n              </div>\n            </div>\n          )}\n\n          {/* Invoice Items Table */}\n          <div className=\"mb-8\">\n            <table className=\"w-full border-collapse\">\n              <thead>\n                <tr className=\"border-b-2 border-gray-300\">\n                  <th className=\"text-left py-3 px-2 text-sm text-[#231F20]\">No.</th>\n                  <th className=\"text-left py-3 px-2 text-sm text-[#231F20]\">Description</th>\n                  <th className=\"text-right py-3 px-2 text-sm text-[#231F20]\">Qty</th>\n                  <th className=\"text-right py-3 px-2 text-sm text-[#231F20]\">Unit Price (RM)</th>\n                  <th className=\"text-right py-3 px-2 text-sm text-[#231F20]\">Total (RM)</th>\n                </tr>\n              </thead>\n              <tbody>\n                {invoice.items.map((item, index) => (\n                  <tr key={item.id} className=\"border-b border-gray-200\">\n                    <td className=\"py-3 px-2 text-sm\">{index + 1}</td>\n                    <td className=\"py-3 px-2 text-sm\">{item.description}</td>\n                    <td className=\"py-3 px-2 text-sm text-right\">{item.quantity}</td>\n                    <td className=\"py-3 px-2 text-sm text-right\">{item.unitPrice.toFixed(2)}</td>\n                    <td className=\"py-3 px-2 text-sm text-right\">{item.total.toFixed(2)}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n\n          {/* Totals */}\n          <div className=\"flex justify-end mb-8\">\n            <div className=\"w-64 space-y-3\">\n              <div className=\"flex justify-between pb-2\">\n                <span className=\"text-sm text-gray-600\">Subtotal:</span>\n                <span className=\"text-sm text-[#231F20]\">RM {invoice.subtotal.toFixed(2)}</span>\n              </div>\n              <div className=\"flex justify-between pb-2\">\n                <span className=\"text-sm text-gray-600\">Tax (SST):</span>\n                <span className=\"text-sm text-[#231F20]\">RM {invoice.tax.toFixed(2)}</span>\n              </div>\n              <div className=\"flex justify-between pt-2 border-t-2 border-gray-300\">\n                <span className=\"text-[#231F20]\">Total Amount:</span>\n                <span className=\"text-[#F15929]\">RM {invoice.total.toFixed(2)}</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Payment Status */}\n          <div className=\"mb-8 p-4 bg-gray-50 rounded-lg\">\n            <div className=\"flex justify-between items-center\">\n              <div>\n                <p className=\"text-sm text-gray-600\">Payment Status:</p>\n                <p className={`text-sm mt-1 ${\n                  invoice.paymentStatus === 'paid' ? 'text-green-600' :\n                  invoice.paymentStatus === 'overdue' ? 'text-red-600' :\n                  'text-amber-600'\n                }`}>\n                  {invoice.paymentStatus.toUpperCase()}\n                </p>\n              </div>\n              {invoice.paidDate && (\n                <div className=\"text-right\">\n                  <p className=\"text-sm text-gray-600\">Paid On:</p>\n                  <p className=\"text-sm text-green-600 mt-1\">\n                    {new Date(invoice.paidDate).toLocaleDateString()}\n                  </p>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Notes */}\n          {invoice.notes && (\n            <div className=\"mb-8\">\n              <h3 className=\"text-sm text-gray-600 mb-2\">NOTES:</h3>\n              <div className=\"bg-gray-50 p-4 rounded-lg\">\n                <p className=\"text-sm text-[#231F20]\">{invoice.notes}</p>\n              </div>\n            </div>\n          )}\n\n          {/* Signature Section */}\n          <div className=\"mt-12 pt-8 border-t-2 border-gray-300\">\n            <div className=\"grid grid-cols-2 gap-12\">\n              <div>\n                <h4 className=\"text-sm text-[#231F20] mb-8\">COMPANY REPRESENTATIVE:</h4>\n                <div className=\"space-y-4\">\n                  <div className=\"border-b border-gray-400 pb-2\">\n                    <p className=\"text-xs text-gray-500 mb-8\">Signature</p>\n                  </div>\n                  <div className=\"border-b border-gray-400 pb-2\">\n                    <p className=\"text-xs text-gray-500\">Name</p>\n                  </div>\n                  <div className=\"border-b border-gray-400 pb-2\">\n                    <p className=\"text-xs text-gray-500\">Position</p>\n                  </div>\n                  <div className=\"border-b border-gray-400 pb-2\">\n                    <p className=\"text-xs text-gray-500\">Date</p>\n                  </div>\n                  <div className=\"mt-4\">\n                    <p className=\"text-xs text-gray-500 italic\">Company Stamp</p>\n                    <div className=\"border-2 border-dashed border-gray-300 h-20 rounded mt-2\"></div>\n                  </div>\n                </div>\n              </div>\n              \n              <div>\n                <h4 className=\"text-sm text-[#231F20] mb-8\">AUTHORIZED BY (POWER METAL & STEEL):</h4>\n                <div className=\"space-y-4\">\n                  <div className=\"border-b border-gray-400 pb-2\">\n                    <p className=\"text-xs text-gray-500 mb-8\">Signature</p>\n                  </div>\n                  <div className=\"border-b border-gray-400 pb-2\">\n                    <p className=\"text-xs text-gray-500\">Name</p>\n                  </div>\n                  <div className=\"border-b border-gray-400 pb-2\">\n                    <p className=\"text-xs text-gray-500\">Position</p>\n                  </div>\n                  <div className=\"border-b border-gray-400 pb-2\">\n                    <p className=\"text-xs text-gray-500\">Date</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Terms & Conditions */}\n          <div className=\"mt-8 pt-6 border-t border-gray-200\">\n            <h4 className=\"text-xs text-gray-600 mb-2\">TERMS & CONDITIONS:</h4>\n            <ul className=\"text-xs text-gray-500 space-y-1\">\n              <li>• Payment is due within 30 days from the invoice date.</li>\n              <li>• Late payments will incur a 2% monthly interest charge.</li>\n              <li>• All damage charges are based on actual repair costs or replacement value.</li>\n              <li>• Customer is responsible for damages beyond normal wear and tear.</li>\n              <li>• Any disputes must be raised within 7 days of invoice date.</li>\n              <li>• This invoice must be signed and returned within 14 days to acknowledge receipt.</li>\n            </ul>\n          </div>\n\n          {/* Footer */}\n          <div className=\"mt-6 text-center text-xs text-gray-400\">\n            <p>This is an official document from Power Metal & Steel</p>\n            <p className=\"mt-1\">For inquiries, please contact: info@powermetalsteel.com | +60 12-345 6789</p>\n          </div>\n        </CardContent>\n      </Card>\n\n      <style>{`\n        @media print {\n          body * {\n            visibility: hidden;\n          }\n          ${printRef.current ? '#print-area, #print-area *' : ''} {\n            visibility: visible;\n          }\n          .print\\\\:hidden {\n            display: none !important;\n          }\n          @page {\n            margin: 1cm;\n            size: A4;\n          }\n        }\n      `}</style>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6276, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/inspection/DamageInvoiceList.tsx"],"sourcesContent":["import { FileText, Calendar, DollarSign, AlertCircle, Printer, Eye } from 'lucide-react';\nimport { Card, CardContent } from '../ui/card';\nimport { Badge } from '../ui/badge';\nimport { Button } from '../ui/button';\nimport { useState } from 'react';\nimport { DamageInvoice } from '../../types/inspection';\nimport { DamageInvoicePrint } from './DamageInvoicePrint';\n\ninterface DamageInvoiceListProps {\n  invoices: DamageInvoice[];\n  searchQuery: string;\n}\n\nexport function DamageInvoiceList({ invoices, searchQuery }: DamageInvoiceListProps) {\n  const [selectedInvoice, setSelectedInvoice] = useState<DamageInvoice | null>(null);\n  const [showPrintPreview, setShowPrintPreview] = useState(false);\n\n  const filteredInvoices = invoices.filter(invoice =>\n    invoice.invoiceNumber.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    invoice.orpNumber.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  const getPaymentStatusColor = (status: DamageInvoice['paymentStatus']) => {\n    const colors = {\n      'pending': 'bg-amber-100 text-amber-800',\n      'paid': 'bg-green-100 text-green-800',\n      'overdue': 'bg-red-100 text-red-800'\n    };\n    return colors[status];\n  };\n\n  const handlePrintInvoice = (invoice: DamageInvoice) => {\n    setSelectedInvoice(invoice);\n    setShowPrintPreview(true);\n  };\n\n  if (showPrintPreview && selectedInvoice) {\n    return (\n      <DamageInvoicePrint\n        invoice={selectedInvoice}\n        onClose={() => {\n          setShowPrintPreview(false);\n          setSelectedInvoice(null);\n        }}\n      />\n    );\n  }\n\n  if (filteredInvoices.length === 0) {\n    return (\n      <Card>\n        <CardContent className=\"py-12 text-center\">\n          <FileText className=\"size-12 text-gray-400 mx-auto mb-4\" />\n          <p className=\"text-gray-600\">No damage invoices found</p>\n          <p className=\"text-sm text-gray-500 mt-2\">\n            {searchQuery ? 'Try adjusting your search' : 'Invoices will appear here when repairs are billed'}\n          </p>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {filteredInvoices.map(invoice => (\n        <Card key={invoice.id} className=\"hover:shadow-md transition-shadow\">\n          <CardContent className=\"p-6\">\n            <div className=\"flex flex-col lg:flex-row lg:items-center justify-between gap-4\">\n              <div className=\"flex-1 space-y-3\">\n                <div className=\"flex items-start justify-between\">\n                  <div>\n                    <div className=\"flex items-center gap-3\">\n                      <h3 className=\"text-[#231F20]\">{invoice.invoiceNumber}</h3>\n                      {invoice.paymentStatus === 'paid' && (\n                        <Badge className={getPaymentStatusColor(invoice.paymentStatus)}>\n                          {invoice.paymentStatus.toUpperCase()}\n                        </Badge>\n                      )}\n                      {invoice.paymentStatus === 'overdue' && (\n                        <Badge className={getPaymentStatusColor(invoice.paymentStatus)}>\n                          {invoice.paymentStatus.toUpperCase()}\n                        </Badge>\n                      )}\n                    </div>\n                    <p className=\"text-gray-600 mt-1\">ORP: {invoice.orpNumber}</p>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm\">\n                  <div className=\"flex items-center gap-2\">\n                    <Calendar className=\"size-4 text-gray-400\" />\n                    <div>\n                      <p className=\"text-gray-500\">Invoice Date</p>\n                      <p className=\"text-[#231F20]\">{new Date(invoice.invoiceDate).toLocaleDateString()}</p>\n                    </div>\n                  </div>\n                  {invoice.vendor && (\n                    <div className=\"flex items-center gap-2\">\n                      <AlertCircle className=\"size-4 text-gray-400\" />\n                      <div>\n                        <p className=\"text-gray-500\">Vendor</p>\n                        <p className=\"text-[#231F20]\">{invoice.vendor}</p>\n                      </div>\n                    </div>\n                  )}\n                  <div className=\"flex items-center gap-2\">\n                    <FileText className=\"size-4 text-gray-400\" />\n                    <div>\n                      <p className=\"text-gray-500\">Line Items</p>\n                      <p className=\"text-[#231F20]\">{invoice.items.length} items</p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <DollarSign className=\"size-4 text-gray-400\" />\n                    <div>\n                      <p className=\"text-gray-500\">Total Amount</p>\n                      <p className=\"text-[#231F20]\">RM {invoice.total.toFixed(2)}</p>\n                    </div>\n                  </div>\n                </div>\n\n                {invoice.paidDate && (\n                  <div className=\"text-sm text-green-600\">\n                    Paid on {new Date(invoice.paidDate).toLocaleDateString()}\n                  </div>\n                )}\n\n                {invoice.notes && (\n                  <div className=\"pt-3 border-t\">\n                    <p className=\"text-sm text-gray-500\">Notes</p>\n                    <p className=\"text-sm text-[#231F20] mt-1\">{invoice.notes}</p>\n                  </div>\n                )}\n              </div>\n\n              <div className=\"flex flex-col gap-2 lg:ml-4\">\n                <Button\n                  onClick={() => handlePrintInvoice(invoice)}\n                  className=\"bg-[#F15929] hover:bg-[#d94d1f]\"\n                >\n                  <Printer className=\"size-4 mr-2\" />\n                  Print Invoice\n                </Button>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      ))}\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6706, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/inspection/InventoryAdjustmentLog.tsx"],"sourcesContent":["import { ArrowRight, Package, Calendar, User, Eye } from 'lucide-react';\nimport { Card, CardContent } from '../ui/card';\nimport { Badge } from '../ui/badge';\nimport { Button } from '../ui/button';\nimport { InventoryAdjustment } from '../../types/inspection';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '../ui/table';\n\ninterface InventoryAdjustmentLogProps {\n  adjustments: InventoryAdjustment[];\n  searchQuery: string;\n  onViewReference?: (referenceId: string, referenceType: string) => void;\n}\n\nexport function InventoryAdjustmentLog({ adjustments, searchQuery, onViewReference }: InventoryAdjustmentLogProps) {\n  const filteredAdjustments = adjustments.filter(adj =>\n    adj.scaffoldingItemName.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    adj.referenceId.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  const getAdjustmentTypeColor = (type: InventoryAdjustment['adjustmentType']) => {\n    const colors = {\n      'damage-detected': 'bg-red-100 text-red-800',\n      'repair-completed': 'bg-green-100 text-green-800',\n      'scrapped': 'bg-gray-100 text-gray-800'\n    };\n    return colors[type];\n  };\n\n  const getAdjustmentTypeLabel = (type: InventoryAdjustment['adjustmentType']) => {\n    const labels = {\n      'damage-detected': 'Damage Detected',\n      'repair-completed': 'Repair Completed',\n      'scrapped': 'Scrapped'\n    };\n    return labels[type];\n  };\n\n  if (filteredAdjustments.length === 0) {\n    return (\n      <Card>\n        <CardContent className=\"py-12 text-center\">\n          <Package className=\"size-12 text-gray-400 mx-auto mb-4\" />\n          <p className=\"text-gray-600\">No inventory adjustments found</p>\n          <p className=\"text-sm text-gray-500 mt-2\">\n            {searchQuery ? 'Try adjusting your search' : 'Inventory adjustments will appear here automatically'}\n          </p>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  // Sort by date, newest first\n  const sortedAdjustments = [...filteredAdjustments].sort((a, b) => \n    new Date(b.adjustedAt).getTime() - new Date(a.adjustedAt).getTime()\n  );\n\n  return (\n    <Card>\n      <CardContent className=\"pt-6\">\n        <div className=\"overflow-x-auto\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>Date & Time</TableHead>\n                <TableHead>Item</TableHead>\n                <TableHead className=\"text-center\">Quantity</TableHead>\n                <TableHead>Status Change</TableHead>\n                <TableHead>Type</TableHead>\n                <TableHead>Reference</TableHead>\n                <TableHead>Adjusted By</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {sortedAdjustments.map(adjustment => (\n                <TableRow key={adjustment.id}>\n                  <TableCell>\n                    <div className=\"flex items-center gap-2\">\n                      <Calendar className=\"size-4 text-gray-400\" />\n                      <div>\n                        <p className=\"text-sm text-[#231F20]\">\n                          {new Date(adjustment.adjustedAt).toLocaleDateString()}\n                        </p>\n                        <p className=\"text-xs text-gray-500\">\n                          {new Date(adjustment.adjustedAt).toLocaleTimeString()}\n                        </p>\n                      </div>\n                    </div>\n                  </TableCell>\n                  <TableCell>\n                    <div className=\"flex items-center gap-2\">\n                      <Package className=\"size-4 text-gray-400\" />\n                      <span className=\"text-[#231F20]\">{adjustment.scaffoldingItemName}</span>\n                    </div>\n                  </TableCell>\n                  <TableCell className=\"text-center\">\n                    <span className=\"text-[#231F20] px-2 py-1 bg-gray-100 rounded\">\n                      {adjustment.quantity}\n                    </span>\n                  </TableCell>\n                  <TableCell>\n                    <div className=\"flex items-center gap-2\">\n                      <Badge variant=\"outline\" className=\"text-xs\">\n                        {adjustment.fromStatus}\n                      </Badge>\n                      <ArrowRight className=\"size-3 text-gray-400\" />\n                      <Badge variant=\"outline\" className=\"text-xs\">\n                        {adjustment.toStatus}\n                      </Badge>\n                    </div>\n                  </TableCell>\n                  <TableCell>\n                    <Badge className={getAdjustmentTypeColor(adjustment.adjustmentType)}>\n                      {getAdjustmentTypeLabel(adjustment.adjustmentType)}\n                    </Badge>\n                  </TableCell>\n                  <TableCell>\n                    <div>\n                      <p className=\"text-sm text-[#231F20]\">{adjustment.referenceId}</p>\n                      <p className=\"text-xs text-gray-500\">{adjustment.referenceType}</p>\n                      {onViewReference && (\n                        <Button\n                          size=\"sm\"\n                          className=\"mt-2\"\n                          onClick={() => onViewReference(adjustment.referenceId, adjustment.referenceType)}\n                        >\n                          <Eye className=\"size-4 mr-1\" />\n                          View\n                        </Button>\n                      )}\n                    </div>\n                  </TableCell>\n                  <TableCell>\n                    <div className=\"flex items-center gap-2\">\n                      <User className=\"size-4 text-gray-400\" />\n                      <span className=\"text-sm text-gray-600\">{adjustment.adjustedBy}</span>\n                    </div>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7123, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/inspection/MaintenanceDashboard.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { Search, Upload, Check, AlertCircle } from 'lucide-react';\nimport { Button } from '../ui/button';\nimport { Input } from '../ui/input';\nimport { Card, CardContent, CardHeader, CardTitle } from '../ui/card';\nimport { Badge } from '../ui/badge';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '../ui/dialog';\nimport { Label } from '../ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '../ui/select';\nimport { Textarea } from '../ui/textarea';\nimport { OpenRepairSlip, RepairItem, InventoryAdjustment } from '../../types/inspection';\nimport { toast } from 'sonner';\n\ninterface MaintenanceDashboardProps {\n  repairSlips: OpenRepairSlip[];\n  onUpdateRepairSlip: (updatedSlip: OpenRepairSlip) => void;\n  onCreateInventoryLog: (log: InventoryAdjustment) => void;\n  onBackToInspection?: () => void; // Add callback to go back to main view\n}\n\nexport function MaintenanceDashboard({ repairSlips, onUpdateRepairSlip, onCreateInventoryLog, onBackToInspection }: MaintenanceDashboardProps) {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedSlip, setSelectedSlip] = useState<OpenRepairSlip | null>(null);\n  const [selectedItem, setSelectedItem] = useState<RepairItem | null>(null);\n  const [showUpdateDialog, setShowUpdateDialog] = useState(false);\n  const [uploadedImages, setUploadedImages] = useState<string[]>([]);\n  const [updateForm, setUpdateForm] = useState({\n    quantityToRepair: 0,\n    repairStatus: '' as RepairItem['repairStatus'],\n    notes: ''\n  });\n\n  // Filter slips that have remaining quantities to repair\n  const activeRepairSlips = repairSlips\n    .filter(slip => {\n      // Show slips with at least one item that has remaining quantity\n      const hasRemaining = slip.items.some(item => (item.quantityRemaining || item.quantity) > 0);\n      return hasRemaining && (slip.status === 'open' || slip.status === 'in-repair');\n    })\n    .filter(slip => {\n      if (!searchQuery) return true;\n      const query = searchQuery.toLowerCase();\n      return (\n        slip.orpNumber.toLowerCase().includes(query) ||\n        slip.rcfNumber.toLowerCase().includes(query) ||\n        slip.items.some(item => item.scaffoldingItemName.toLowerCase().includes(query))\n      );\n    });\n\n  const handleOpenUpdateDialog = (slip: OpenRepairSlip, item: RepairItem) => {\n    setSelectedSlip(slip);\n    setSelectedItem(item);\n    \n    // Initialize fields if they don't exist (for backward compatibility)\n    const quantityRemaining = item.quantityRemaining !== undefined ? item.quantityRemaining : item.quantity;\n    const quantityRepaired = item.quantityRepaired || 0;\n    \n    setUpdateForm({\n      quantityToRepair: quantityRemaining,\n      repairStatus: item.repairStatus,\n      notes: ''\n    });\n    setUploadedImages(item.afterImages || []);\n    setShowUpdateDialog(true);\n  };\n\n  const handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const files = e.target.files;\n    if (!files) return;\n\n    // Simulate image upload (in real app, upload to server)\n    Array.from(files).forEach(file => {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setUploadedImages(prev => [...prev, reader.result as string]);\n      };\n      reader.readAsDataURL(file);\n    });\n  };\n\n  const handleRemoveImage = (index: number) => {\n    setUploadedImages(prev => prev.filter((_, i) => i !== index));\n  };\n\n  const handleSaveUpdate = () => {\n    if (!selectedSlip || !selectedItem) return;\n\n    // Initialize fields if they don't exist\n    const currentQuantityRemaining = selectedItem.quantityRemaining !== undefined ? selectedItem.quantityRemaining : selectedItem.quantity;\n    const currentQuantityRepaired = selectedItem.quantityRepaired || 0;\n\n    // Validate\n    if (updateForm.quantityToRepair <= 0) {\n      toast.error('Repair quantity must be greater than 0');\n      return;\n    }\n\n    if (updateForm.quantityToRepair > currentQuantityRemaining) {\n      toast.error(`Repair quantity cannot exceed remaining quantity (${currentQuantityRemaining})`);\n      return;\n    }\n\n    if (!updateForm.repairStatus) {\n      toast.error('Please select a repair status');\n      return;\n    }\n\n    // Only completed items reduce the remaining quantity\n    const newQuantityRepaired = updateForm.repairStatus === 'completed' \n      ? currentQuantityRepaired + updateForm.quantityToRepair \n      : currentQuantityRepaired;\n    const newQuantityRemaining = updateForm.repairStatus === 'completed'\n      ? currentQuantityRemaining - updateForm.quantityToRepair\n      : currentQuantityRemaining;\n\n    // Update the repair item\n    const updatedItems = selectedSlip.items.map(item => {\n      if (item.id === selectedItem.id) {\n        return {\n          ...item,\n          quantityRepaired: newQuantityRepaired,\n          quantityRemaining: newQuantityRemaining,\n          repairStatus: updateForm.repairStatus,\n          afterImages: uploadedImages,\n          completedDate: updateForm.repairStatus === 'completed' && newQuantityRemaining === 0 ? new Date().toISOString() : item.completedDate\n        };\n      }\n      return item;\n    });\n\n    // Update slip status based on all items\n    let newSlipStatus = selectedSlip.status;\n    const allCompleted = updatedItems.every(item => {\n      const remaining = item.quantityRemaining !== undefined ? item.quantityRemaining : item.quantity;\n      return remaining === 0;\n    });\n    const anyInProgress = updatedItems.some(item => item.repairStatus === 'in-progress');\n    \n    if (allCompleted) {\n      newSlipStatus = 'completed';\n    } else if (anyInProgress) {\n      newSlipStatus = 'in-repair';\n    }\n\n    const updatedSlip: OpenRepairSlip = {\n      ...selectedSlip,\n      items: updatedItems,\n      status: newSlipStatus,\n      updatedAt: new Date().toISOString()\n    };\n\n    onUpdateRepairSlip(updatedSlip);\n\n    // Create inventory adjustment log if completed\n    if (updateForm.repairStatus === 'completed') {\n      const inventoryLog: InventoryAdjustment = {\n        id: `adj-${Date.now()}-${Math.random()}`,\n        adjustmentType: 'repair-completed',\n        scaffoldingItemId: selectedItem.scaffoldingItemId,\n        scaffoldingItemName: selectedItem.scaffoldingItemName,\n        quantity: updateForm.quantityToRepair,\n        fromStatus: 'under-repair',\n        toStatus: 'available',\n        referenceId: selectedSlip.orpNumber,\n        referenceType: 'repair-slip',\n        adjustedBy: 'Current User',\n        adjustedAt: new Date().toISOString(),\n        notes: updateForm.notes || `Repaired ${updateForm.quantityToRepair} units`\n      };\n      \n      onCreateInventoryLog(inventoryLog);\n    }\n    \n    toast.success('Repair item updated successfully');\n    setShowUpdateDialog(false);\n    setSelectedSlip(null);\n    setSelectedItem(null);\n    \n    // Go back to main inspection view if callback is provided\n    if (onBackToInspection) {\n      onBackToInspection();\n    }\n  };\n\n  const getStatusColor = (status: RepairItem['repairStatus']) => {\n    switch (status) {\n      case 'pending': return 'bg-gray-100 text-gray-800';\n      case 'in-progress': return 'bg-blue-100 text-blue-800';\n      case 'completed': return 'bg-green-100 text-green-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const getPriorityColor = (priority: OpenRepairSlip['priority']) => {\n    switch (priority) {\n      case 'urgent': return 'bg-red-100 text-red-800';\n      case 'high': return 'bg-orange-100 text-orange-800';\n      case 'medium': return 'bg-yellow-100 text-yellow-800';\n      case 'low': return 'bg-green-100 text-green-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Search */}\n      <Card>\n        <CardContent className=\"pt-6\">\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 size-4 text-gray-400\" />\n            <Input\n              placeholder=\"Search by ORP number, RCF number, or item name...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"pl-10\"\n            />\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Repair Slips */}\n      {activeRepairSlips.length === 0 ? (\n        <Card>\n          <CardContent className=\"pt-6 text-center text-gray-500\">\n            No active repair slips found\n          </CardContent>\n        </Card>\n      ) : (\n        <div className=\"space-y-4\">\n          {activeRepairSlips.map((slip) => (\n            <Card key={slip.id}>\n              <CardHeader>\n                <div className=\"flex justify-between items-start\">\n                  <div>\n                    <CardTitle className=\"text-[#231F20]\">{slip.orpNumber}</CardTitle>\n                    <p className=\"text-gray-600 text-sm mt-1\">RCF: {slip.rcfNumber}</p>\n                  </div>\n                  <div className=\"flex gap-2\">\n                    <Badge className={getPriorityColor(slip.priority)}>\n                      {slip.priority}\n                    </Badge>\n                    <Badge className={getStatusColor(slip.status as any)}>\n                      {slip.status}\n                    </Badge>\n                  </div>\n                </div>\n              </CardHeader>\n              <CardContent>\n                {/* Repair Items */}\n                <div className=\"space-y-3\">\n                  {slip.items.map((item) => {\n                    const quantityRemaining = item.quantityRemaining !== undefined ? item.quantityRemaining : item.quantity;\n                    const quantityRepaired = item.quantityRepaired || 0;\n                    \n                    // Show all items, but mark completed ones\n\n                    return (\n                      <div\n                        key={item.id}\n                        className={`border rounded-lg p-4 transition-colors ${\n                          quantityRemaining === 0 \n                            ? 'border-green-300 bg-green-50' \n                            : 'border-gray-200 hover:border-[#F15929]'\n                        }`}\n                      >\n                        <div className=\"flex justify-between items-start mb-2\">\n                          <div className=\"flex-1\">\n                            <h4 className=\"text-[#231F20]\">{item.scaffoldingItemName}</h4>\n                            <p className=\"text-gray-600 text-sm mt-1\">\n                              Total Qty: {item.quantity} | Repaired: {quantityRepaired} | Remaining: {quantityRemaining}\n                            </p>\n                            <p className=\"text-gray-600 text-sm\">\n                              Damage: {item.damageType} - {item.damageDescription}\n                            </p>\n                          </div>\n                          <Badge className={getStatusColor(quantityRemaining === 0 ? 'completed' : item.repairStatus)}>\n                            {quantityRemaining === 0 ? 'COMPLETED' : item.repairStatus.replace('-', ' ').toUpperCase()}\n                          </Badge>\n                        </div>\n\n                        {/* Repair Actions */}\n                        <div className=\"mt-3\">\n                          <p className=\"text-sm text-gray-700\">\n                            <span className=\"text-gray-600\">Repair Actions:</span> {item.repairActions.join(', ')}\n                          </p>\n                          {item.repairDescription && (\n                            <p className=\"text-sm text-gray-700 mt-1\">\n                              <span className=\"text-gray-600\">Details:</span> {item.repairDescription}\n                            </p>\n                          )}\n                        </div>\n\n                        {/* Before/After Images */}\n                        <div className=\"grid grid-cols-2 gap-4 mt-3\">\n                          <div>\n                            <p className=\"text-sm text-gray-600 mb-2\">Before Images ({item.beforeImages.length})</p>\n                            {item.beforeImages.length > 0 && (\n                              <div className=\"grid grid-cols-2 gap-2\">\n                                {item.beforeImages.slice(0, 2).map((img, idx) => (\n                                  <img\n                                    key={idx}\n                                    src={img}\n                                    alt={`Before ${idx + 1}`}\n                                    className=\"w-full h-20 object-cover rounded border\"\n                                  />\n                                ))}\n                              </div>\n                            )}\n                          </div>\n                          <div>\n                            <p className=\"text-sm text-gray-600 mb-2\">After Images ({item.afterImages.length})</p>\n                            {item.afterImages.length > 0 && (\n                              <div className=\"grid grid-cols-2 gap-2\">\n                                {item.afterImages.slice(0, 2).map((img, idx) => (\n                                  <img\n                                    key={idx}\n                                    src={img}\n                                    alt={`After ${idx + 1}`}\n                                    className=\"w-full h-20 object-cover rounded border\"\n                                  />\n                                ))}\n                              </div>\n                            )}\n                          </div>\n                        </div>\n\n                        {/* Update Button */}\n                        <div className=\"mt-4 flex justify-end\">\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => handleOpenUpdateDialog(slip, item)}\n                            className=\"border-[#F15929] text-[#F15929] hover:bg-[#F15929] hover:text-white\"\n                          >\n                            <Upload className=\"size-4 mr-2\" />\n                            Update Repair\n                          </Button>\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n\n                {/* Slip Info */}\n                <div className=\"mt-4 pt-4 border-t border-gray-200\">\n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                    {slip.assignedTo && (\n                      <div>\n                        <span className=\"text-gray-600\">Assigned To:</span> {slip.assignedTo}\n                      </div>\n                    )}\n                    {slip.startDate && (\n                      <div>\n                        <span className=\"text-gray-600\">Start Date:</span>{' '}\n                        {new Date(slip.startDate).toLocaleDateString()}\n                      </div>\n                    )}\n                    <div>\n                      <span className=\"text-gray-600\">Estimated Cost:</span> RM {slip.estimatedCost.toFixed(2)}\n                    </div>\n                    <div>\n                      <span className=\"text-gray-600\">Actual Cost:</span> RM {slip.actualCost.toFixed(2)}\n                    </div>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      )}\n\n      {/* Update Dialog */}\n      <Dialog open={showUpdateDialog} onOpenChange={setShowUpdateDialog}>\n        <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle>Update Repair Item</DialogTitle>\n            <DialogDescription>\n              Update the repair progress, upload completion photos, and update repair status\n            </DialogDescription>\n          </DialogHeader>\n\n          {selectedItem && (\n            <div className=\"space-y-4 overflow-y-auto max-h-[60vh] pr-2\">\n              {/* Item Info */}\n              <div className=\"bg-gray-50 p-4 rounded-lg\">\n                <h4 className=\"text-[#231F20]\">{selectedItem.scaffoldingItemName}</h4>\n                <p className=\"text-gray-600 text-sm mt-1\">{selectedItem.damageDescription}</p>\n                <p className=\"text-gray-600 text-sm mt-1\">\n                  Total: {selectedItem.quantity} | \n                  Repaired: {selectedItem.quantityRepaired || 0} | \n                  Remaining: {selectedItem.quantityRemaining !== undefined ? selectedItem.quantityRemaining : selectedItem.quantity}\n                </p>\n              </div>\n\n              {/* Quantity to Repair */}\n              <div className=\"space-y-2\">\n                <Label>Quantity to Repair *</Label>\n                <Input\n                  type=\"number\"\n                  min=\"1\"\n                  max={selectedItem.quantityRemaining !== undefined ? selectedItem.quantityRemaining : selectedItem.quantity}\n                  value={updateForm.quantityToRepair}\n                  onChange={(e) => setUpdateForm({ ...updateForm, quantityToRepair: parseInt(e.target.value) || 0 })}\n                />\n                <p className=\"text-sm text-gray-500\">\n                  Remaining quantity: {selectedItem.quantityRemaining !== undefined ? selectedItem.quantityRemaining : selectedItem.quantity}\n                </p>\n              </div>\n\n              {/* Repair Status */}\n              <div className=\"space-y-2\">\n                <Label>Repair Status *</Label>\n                <Select\n                  value={updateForm.repairStatus}\n                  onValueChange={(value) => setUpdateForm({ ...updateForm, repairStatus: value as RepairItem['repairStatus'] })}\n                >\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"Select status\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"pending\">Pending</SelectItem>\n                    <SelectItem value=\"in-progress\">In Progress</SelectItem>\n                    <SelectItem value=\"completed\">Completed</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              {/* Upload Photos */}\n              <div className=\"space-y-2\">\n                <Label>After Repair Photos</Label>\n                <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center\">\n                  <Input\n                    type=\"file\"\n                    accept=\"image/*\"\n                    multiple\n                    onChange={handleImageUpload}\n                    className=\"hidden\"\n                    id=\"repair-images\"\n                  />\n                  <label htmlFor=\"repair-images\" className=\"cursor-pointer\">\n                    <Upload className=\"size-8 mx-auto text-gray-400 mb-2\" />\n                    <p className=\"text-sm text-gray-600\">Click to upload repair completion photos</p>\n                    <p className=\"text-xs text-gray-500 mt-1\">PNG, JPG up to 10MB</p>\n                  </label>\n                </div>\n\n                {/* Image Preview */}\n                {uploadedImages.length > 0 && (\n                  <div className=\"grid grid-cols-4 gap-3 mt-3\">\n                    {uploadedImages.map((img, idx) => (\n                      <div key={idx} className=\"relative group\">\n                        <img\n                          src={img}\n                          alt={`Upload ${idx + 1}`}\n                          className=\"w-full h-24 object-cover rounded border\"\n                        />\n                        <button\n                          onClick={() => handleRemoveImage(idx)}\n                          className=\"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity\"\n                        >\n                          <AlertCircle className=\"size-3\" />\n                        </button>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n\n              {/* Notes */}\n              <div className=\"space-y-2\">\n                <Label>Notes (Optional)</Label>\n                <Textarea\n                  value={updateForm.notes}\n                  onChange={(e) => setUpdateForm({ ...updateForm, notes: e.target.value })}\n                  placeholder=\"Add any notes about the repair...\"\n                  rows={3}\n                />\n              </div>\n            </div>\n          )}\n\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setShowUpdateDialog(false)}>\n              Cancel\n            </Button>\n            <Button\n              onClick={handleSaveUpdate}\n              className=\"bg-[#F15929] hover:bg-[#d94d1f]\"\n            >\n              <Check className=\"size-4 mr-2\" />\n              Save Update\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8173, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/inspection/InspectionMaintenanceModule.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { ClipboardCheck, Wrench, FileText, Plus, Filter, Search } from 'lucide-react';\nimport { Button } from '../ui/button';\nimport { Input } from '../ui/input';\nimport { Card, CardContent, CardHeader, CardTitle } from '../ui/card';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '../ui/tabs';\nimport { Badge } from '../ui/badge';\nimport { ConditionReportList } from './ConditionReportList';\nimport { ConditionReportForm } from './ConditionReportForm';\nimport { RepairSlipList } from './RepairSlipList';\nimport { RepairSlipDetails } from './RepairSlipDetails';\nimport { RepairSlipForm } from './RepairSlipForm';\nimport { RepairSlipPrint } from './RepairSlipPrint';\nimport { DamageInvoiceList } from './DamageInvoiceList';\nimport { InventoryAdjustmentLog } from './InventoryAdjustmentLog';\nimport { MaintenanceDashboard } from './MaintenanceDashboard';\nimport { ConditionReport, OpenRepairSlip, DamageInvoice, InventoryAdjustment } from '../../types/inspection';\nimport { toast } from 'sonner';\n\ntype ViewMode = 'list' | 'create-report' | 'view-repair' | 'create-repair' | 'print-repair' | 'maintenance';\n\nexport function InspectionMaintenanceModule() {\n  const [activeTab, setActiveTab] = useState('reports');\n  const [viewMode, setViewMode] = useState<ViewMode>('list');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedReport, setSelectedReport] = useState<ConditionReport | null>(null);\n  const [selectedRepairSlip, setSelectedRepairSlip] = useState<OpenRepairSlip | null>(null);\n\n  const [conditionReports, setConditionReports] = useState<ConditionReport[]>([]);\n  const [repairSlips, setRepairSlips] = useState<OpenRepairSlip[]>([]);\n  const [damageInvoices, setDamageInvoices] = useState<DamageInvoice[]>([]);\n  const [adjustments, setAdjustments] = useState<InventoryAdjustment[]>([]);\n\n  // Load data from localStorage\n  useEffect(() => {\n    const savedReports = localStorage.getItem('conditionReports');\n    const savedSlips = localStorage.getItem('repairSlips');\n    const savedInvoices = localStorage.getItem('damageInvoices');\n    const savedAdjustments = localStorage.getItem('inventoryAdjustments');\n\n    if (savedReports) setConditionReports(JSON.parse(savedReports));\n    if (savedSlips) setRepairSlips(JSON.parse(savedSlips));\n    if (savedInvoices) setDamageInvoices(JSON.parse(savedInvoices));\n    if (savedAdjustments) setAdjustments(JSON.parse(savedAdjustments));\n  }, []);\n\n  const handleCreateReport = () => {\n    setSelectedReport(null);\n    setViewMode('create-report');\n  };\n\n  const handleSaveReport = (report: ConditionReport) => {\n    let updatedReports: ConditionReport[];\n    \n    if (selectedReport) {\n      updatedReports = conditionReports.map(r => r.id === report.id ? report : r);\n    } else {\n      updatedReports = [...conditionReports, report];\n    }\n    \n    setConditionReports(updatedReports);\n    localStorage.setItem('conditionReports', JSON.stringify(updatedReports));\n    \n    // Create inventory adjustments for damaged items\n    const newAdjustments: InventoryAdjustment[] = report.items\n      .filter(item => item.repairRequired)\n      .map(item => ({\n        id: `adj-${Date.now()}-${Math.random()}`,\n        adjustmentType: 'damage-detected' as const,\n        scaffoldingItemId: item.scaffoldingItemId,\n        scaffoldingItemName: item.scaffoldingItemName,\n        quantity: item.quantityRepair, // Only show repair quantity, not total\n        fromStatus: 'available',\n        toStatus: 'under-repair',\n        referenceId: report.rcfNumber,\n        referenceType: 'condition-report' as const,\n        adjustedBy: report.inspectedBy,\n        adjustedAt: new Date().toISOString(),\n        notes: item.damageDescription\n      }));\n    \n    if (newAdjustments.length > 0) {\n      const updatedAdjustments = [...adjustments, ...newAdjustments];\n      setAdjustments(updatedAdjustments);\n      localStorage.setItem('inventoryAdjustments', JSON.stringify(updatedAdjustments));\n    }\n    \n    setViewMode('list');\n  };\n\n  const handleCancelReport = () => {\n    setViewMode('list');\n    setSelectedReport(null);\n  };\n\n  const handleViewRepairSlip = (slip: OpenRepairSlip) => {\n    setSelectedRepairSlip(slip);\n    setViewMode('view-repair');\n  };\n\n  const handleCreateRepairSlip = (reportId?: string) => {\n    if (reportId) {\n      const report = conditionReports.find(r => r.id === reportId);\n      setSelectedReport(report || null);\n    }\n    setViewMode('create-repair');\n  };\n\n  const handleSaveRepairSlip = (slip: OpenRepairSlip) => {\n    let updatedSlips: OpenRepairSlip[];\n    const isNewSlip = !selectedRepairSlip;\n    \n    if (selectedRepairSlip) {\n      updatedSlips = repairSlips.map(s => s.id === slip.id ? slip : s);\n    } else {\n      updatedSlips = [...repairSlips, slip];\n    }\n    \n    setRepairSlips(updatedSlips);\n    localStorage.setItem('repairSlips', JSON.stringify(updatedSlips));\n    \n    // If it's a new slip, navigate to view it\n    if (isNewSlip) {\n      setSelectedRepairSlip(slip);\n      setActiveTab('repairs');\n      setViewMode('view-repair');\n    } else {\n      setViewMode('list');\n    }\n  };\n\n  const handleUpdateRepairStatus = (slipId: string, status: OpenRepairSlip['status']) => {\n    const updatedSlips = repairSlips.map(slip => {\n      if (slip.id === slipId) {\n        const updated = { ...slip, status, updatedAt: new Date().toISOString() };\n        if (status === 'completed') {\n          updated.completionDate = new Date().toISOString();\n          \n          // Create inventory adjustments for completed repairs\n          const newAdjustments: InventoryAdjustment[] = slip.items\n            .filter(item => item.repairStatus === 'completed')\n            .map(item => ({\n              id: `adj-${Date.now()}-${Math.random()}`,\n              adjustmentType: 'repair-completed' as const,\n              scaffoldingItemId: item.scaffoldingItemId,\n              scaffoldingItemName: item.scaffoldingItemName,\n              quantity: item.quantity,\n              fromStatus: 'under-repair',\n              toStatus: 'available',\n              referenceId: slip.orpNumber,\n              referenceType: 'repair-slip' as const,\n              adjustedBy: 'System',\n              adjustedAt: new Date().toISOString(),\n              notes: 'Repair completed and items returned to inventory'\n            }));\n          \n          if (newAdjustments.length > 0) {\n            const updatedAdjustments = [...adjustments, ...newAdjustments];\n            setAdjustments(updatedAdjustments);\n            localStorage.setItem('inventoryAdjustments', JSON.stringify(updatedAdjustments));\n          }\n        }\n        return updated;\n      }\n      return slip;\n    });\n    \n    setRepairSlips(updatedSlips);\n    localStorage.setItem('repairSlips', JSON.stringify(updatedSlips));\n  };\n\n  const handleUpdateRepairSlip = (updatedSlip: OpenRepairSlip) => {\n    const updatedSlips = repairSlips.map(s => s.id === updatedSlip.id ? updatedSlip : s);\n    setRepairSlips(updatedSlips);\n    localStorage.setItem('repairSlips', JSON.stringify(updatedSlips));\n  };\n\n  const handleCreateInventoryLog = (log: InventoryAdjustment) => {\n    const updatedAdjustments = [...adjustments, log];\n    setAdjustments(updatedAdjustments);\n    localStorage.setItem('inventoryAdjustments', JSON.stringify(updatedAdjustments));\n  };\n\n  const handleViewReference = (referenceId: string, referenceType: string) => {\n    if (referenceType === 'condition-report') {\n      const report = conditionReports.find(r => r.rcfNumber === referenceId);\n      if (report) {\n        setSelectedReport(report);\n        setViewMode('create-report');\n        setActiveTab('reports');\n      }\n    } else if (referenceType === 'repair-slip') {\n      const slip = repairSlips.find(s => s.orpNumber === referenceId);\n      if (slip) {\n        setSelectedRepairSlip(slip);\n        setViewMode('view-repair');\n        setActiveTab('repairs');\n      }\n    }\n  };\n\n  const handleGenerateDamageInvoice = (repairSlipId: string) => {\n    const slip = repairSlips.find(s => s.id === repairSlipId);\n    if (!slip) {\n      toast.error('Repair slip not found');\n      return;\n    }\n\n    // Generate invoice from repair slip (not condition report)\n    const invoiceItems = slip.items\n      .filter(item => item.totalCost > 0)\n      .map(item => ({\n        id: `inv-item-${Date.now()}-${Math.random()}`,\n        description: `${item.scaffoldingItemName} - ${item.damageDescription || 'Damage repair'}`,\n        quantity: item.quantity,\n        unitPrice: item.quantity > 0 ? item.totalCost / item.quantity : item.totalCost,\n        total: item.totalCost\n      }));\n\n    // Check if there are items with cost\n    if (invoiceItems.length === 0) {\n      toast.error('No items with repair costs found in this repair slip. Please ensure items have cost values.');\n      return;\n    }\n\n    const subtotal = invoiceItems.reduce((sum, item) => sum + item.total, 0);\n    const taxRate = 0.06; // 6% SST\n    const tax = subtotal * taxRate;\n    const total = subtotal + tax;\n\n    const newInvoice: DamageInvoice = {\n      id: `damage-inv-${Date.now()}`,\n      invoiceNumber: `DI-${Date.now()}`,\n      orpNumber: slip.orpNumber,\n      repairSlipId: slip.id,\n      invoiceDate: new Date().toISOString(),\n      vendor: '', // Will be filled from customer info\n      items: invoiceItems,\n      subtotal: subtotal,\n      tax: tax,\n      total: total,\n      paymentStatus: 'pending',\n      notes: `Damage charges for items in repair slip: ${slip.orpNumber}. Based on completed repairs.`,\n      createdAt: new Date().toISOString(),\n      createdFrom: 'repair-slip'\n    };\n\n    // Update repair slip with invoice link\n    const updatedSlips = repairSlips.map(s =>\n      s.id === repairSlipId ? { ...s, damageInvoiceId: newInvoice.id } : s\n    );\n    setRepairSlips(updatedSlips);\n    localStorage.setItem('repairSlips', JSON.stringify(updatedSlips));\n\n    const updatedInvoices = [...damageInvoices, newInvoice];\n    setDamageInvoices(updatedInvoices);\n    localStorage.setItem('damageInvoices', JSON.stringify(updatedInvoices));\n    \n    toast.success(`Damage invoice ${newInvoice.invoiceNumber} generated successfully with RM ${total.toFixed(2)} total`);\n    \n    // Switch to invoices tab to show the generated invoice\n    setActiveTab('invoices');\n  };\n\n  // Calculate statistics\n  const stats = {\n    totalReports: conditionReports.length,\n    pendingReports: conditionReports.filter(r => r.status === 'pending').length,\n    openRepairs: repairSlips.filter(s => s.status === 'open' || s.status === 'in-repair').length,\n    completedRepairs: repairSlips.filter(s => s.status === 'completed').length,\n    totalRepairCost: repairSlips.reduce((sum, s) => sum + s.actualCost, 0),\n    itemsUnderRepair: adjustments.reduce((net, a) => {\n      // Add items going TO under-repair status\n      if (a.toStatus === 'under-repair') {\n        return net + a.quantity;\n      }\n      // Subtract items coming FROM under-repair status (completed repairs)\n      if (a.fromStatus === 'under-repair') {\n        return net - a.quantity;\n      }\n      return net;\n    }, 0)\n  };\n\n  if (viewMode === 'create-report') {\n    return (\n      <ConditionReportForm\n        report={selectedReport}\n        onSave={handleSaveReport}\n        onCancel={handleCancelReport}\n      />\n    );\n  }\n\n  if (viewMode === 'view-repair' && selectedRepairSlip) {\n    return (\n      <RepairSlipDetails\n        repairSlip={selectedRepairSlip}\n        onBack={() => setViewMode('list')}\n        onUpdateStatus={handleUpdateRepairStatus}\n        onPrint={(slip) => {\n          setSelectedRepairSlip(slip);\n          setViewMode('print-repair');\n        }}\n      />\n    );\n  }\n\n  if (viewMode === 'create-repair') {\n    return (\n      <RepairSlipForm\n        repairSlip={selectedRepairSlip}\n        onSave={handleSaveRepairSlip}\n        onCancel={() => setViewMode('list')}\n        conditionReport={selectedReport}\n      />\n    );\n  }\n\n  if (viewMode === 'print-repair' && selectedRepairSlip) {\n    return (\n      <RepairSlipPrint\n        repairSlip={selectedRepairSlip}\n        onClose={() => setViewMode('list')}\n      />\n    );\n  }\n\n  if (viewMode === 'maintenance') {\n    return (\n      <div className=\"p-6 space-y-6\">\n        {/* Header with Back Button */}\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <h1 className=\"text-[#231F20]\">Maintenance Dashboard</h1>\n            <p className=\"text-gray-600\">Update repair progress and upload completion photos</p>\n          </div>\n          <Button\n            variant=\"outline\"\n            onClick={() => setViewMode('list')}\n            className=\"border-[#F15929] text-[#F15929] hover:bg-[#F15929] hover:text-white\"\n          >\n            Back to Inspection\n          </Button>\n        </div>\n\n        {/* Stats Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4\">\n          <Card>\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-sm text-gray-600\">Total Reports</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-[#231F20]\">{stats.totalReports}</div>\n            </CardContent>\n          </Card>\n          <Card>\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-sm text-gray-600\">Pending Inspection</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-amber-600\">{stats.pendingReports}</div>\n            </CardContent>\n          </Card>\n          <Card>\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-sm text-gray-600\">Open Repairs</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-blue-600\">{stats.openRepairs}</div>\n            </CardContent>\n          </Card>\n          <Card>\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-sm text-gray-600\">Completed</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-green-600\">{stats.completedRepairs}</div>\n            </CardContent>\n          </Card>\n          <Card>\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-sm text-gray-600\">Items in Repair</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-[#231F20]\">{stats.itemsUnderRepair}</div>\n            </CardContent>\n          </Card>\n          <Card>\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-sm text-gray-600\">Total Repair Cost</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-[#231F20]\">RM {stats.totalRepairCost.toFixed(2)}</div>\n            </CardContent>\n          </Card>\n        </div>\n\n        <MaintenanceDashboard\n          repairSlips={repairSlips}\n          onUpdateRepairSlip={handleUpdateRepairSlip}\n          onCreateInventoryLog={handleCreateInventoryLog}\n          onBackToInspection={() => setViewMode('list')}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-[#231F20]\">Inspection & Maintenance</h1>\n          <p className=\"text-gray-600\">Manage condition reports, repairs, and inventory adjustments</p>\n        </div>\n        <div className=\"flex gap-3\">\n          <Button\n            variant=\"outline\"\n            onClick={() => setViewMode('maintenance')}\n            className=\"border-[#F15929] text-[#F15929] hover:bg-[#F15929] hover:text-white\"\n          >\n            <Wrench className=\"size-4 mr-2\" />\n            Maintenance Dashboard\n          </Button>\n          <Button onClick={handleCreateReport} className=\"bg-[#F15929] hover:bg-[#d94d1f]\">\n            <Plus className=\"size-4 mr-2\" />\n            New Condition Report\n          </Button>\n        </div>\n      </div>\n\n      {/* Stats Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4\">\n        <Card>\n          <CardHeader className=\"pb-3\">\n            <CardTitle className=\"text-sm text-gray-600\">Total Reports</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-[#231F20]\">{stats.totalReports}</div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardHeader className=\"pb-3\">\n            <CardTitle className=\"text-sm text-gray-600\">Pending Inspection</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-amber-600\">{stats.pendingReports}</div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardHeader className=\"pb-3\">\n            <CardTitle className=\"text-sm text-gray-600\">Open Repairs</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-blue-600\">{stats.openRepairs}</div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardHeader className=\"pb-3\">\n            <CardTitle className=\"text-sm text-gray-600\">Completed</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-green-600\">{stats.completedRepairs}</div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardHeader className=\"pb-3\">\n            <CardTitle className=\"text-sm text-gray-600\">Items in Repair</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-[#231F20]\">{stats.itemsUnderRepair}</div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Search */}\n      <Card>\n        <CardContent className=\"pt-6\">\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 size-4 text-gray-400\" />\n            <Input\n              placeholder=\"Search by RCF number, DO number, or customer name...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"pl-10\"\n            />\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Tabs */}\n      <Tabs value={activeTab} onValueChange={setActiveTab}>\n        <TabsList className=\"grid w-full grid-cols-4\">\n          <TabsTrigger value=\"reports\">\n            <ClipboardCheck className=\"size-4 mr-2\" />\n            Condition Reports\n          </TabsTrigger>\n          <TabsTrigger value=\"repairs\">\n            <Wrench className=\"size-4 mr-2\" />\n            Open Repair Slip\n          </TabsTrigger>\n          <TabsTrigger value=\"invoices\">\n            <FileText className=\"size-4 mr-2\" />\n            Damage Invoices\n          </TabsTrigger>\n          <TabsTrigger value=\"adjustments\">\n            <FileText className=\"size-4 mr-2\" />\n            Inventory Log\n          </TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"reports\" className=\"mt-6\">\n          <ConditionReportList\n            reports={conditionReports}\n            searchQuery={searchQuery}\n            onEdit={(report) => {\n              setSelectedReport(report);\n              setViewMode('create-report');\n            }}\n            onCreateRepairSlip={handleCreateRepairSlip}\n            existingRepairSlips={repairSlips}\n          />\n        </TabsContent>\n\n        <TabsContent value=\"repairs\" className=\"mt-6\">\n          <RepairSlipList\n            repairSlips={repairSlips}\n            searchQuery={searchQuery}\n            onView={handleViewRepairSlip}\n            onUpdateStatus={handleUpdateRepairStatus}\n            onGenerateDamageInvoice={handleGenerateDamageInvoice}\n          />\n        </TabsContent>\n\n        <TabsContent value=\"invoices\" className=\"mt-6\">\n          <DamageInvoiceList\n            invoices={damageInvoices}\n            searchQuery={searchQuery}\n          />\n        </TabsContent>\n\n        <TabsContent value=\"adjustments\" className=\"mt-6\">\n          <InventoryAdjustmentLog\n            adjustments={adjustments}\n            searchQuery={searchQuery}\n            onViewReference={handleViewReference}\n          />\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}}]
}