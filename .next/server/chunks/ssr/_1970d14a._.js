module.exports=[47349,(a,b,c)=>{"use strict";var d=a.r(72131);d.useState,d.useEffect,d.useLayoutEffect,d.useDebugValue,c.useSyncExternalStore=void 0!==d.useSyncExternalStore?d.useSyncExternalStore:function(a,b){return b()}},87610,(a,b,c)=>{"use strict";b.exports=a.r(47349)},14315,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isUnsafeProperty=function(a){return"__proto__"===a}},67984,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isDeepKey=function(a){switch(typeof a){case"number":case"symbol":return!1;case"string":return a.includes(".")||a.includes("[")||a.includes("]")}}},21619,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.toKey=function(a){return"string"==typeof a||"symbol"==typeof a?a:Object.is(a?.valueOf?.(),-0)?"-0":String(a)}},16270,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.toPath=function(a){let b=[],c=a.length;if(0===c)return b;let d=0,e="",f="",g=!1;for(46===a.charCodeAt(0)&&(b.push(""),d++);d<c;){let h=a[d];f?"\\"===h&&d+1<c?e+=a[++d]:h===f?f="":e+=h:g?'"'===h||"'"===h?f=h:"]"===h?(g=!1,b.push(e),e=""):e+=h:"["===h?(g=!0,e&&(b.push(e),e="")):"."===h?e&&(b.push(e),e=""):e+=h,d++}return e&&b.push(e),b}},64093,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(14315),e=a.r(67984),f=a.r(21619),g=a.r(16270);c.get=function a(b,c,h){if(null==b)return h;switch(typeof c){case"string":{if(d.isUnsafeProperty(c))return h;let f=b[c];if(void 0===f)if(e.isDeepKey(c))return a(b,g.toPath(c),h);else return h;return f}case"number":case"symbol":{"number"==typeof c&&(c=f.toKey(c));let a=b[c];if(void 0===a)return h;return a}default:{if(Array.isArray(c)){var i=b,j=c,k=h;if(0===j.length)return k;let a=i;for(let b=0;b<j.length;b++){if(null==a||d.isUnsafeProperty(j[b]))return k;a=a[j[b]]}return void 0===a?k:a}if(c=Object.is(c?.valueOf(),-0)?"-0":String(c),d.isUnsafeProperty(c))return h;let a=b[c];if(void 0===a)return h;return a}}}},88804,(a,b,c)=>{b.exports=a.r(64093).get},67658,(a,b,c)=>{"use strict";var d=a.r(72131),e="function"==typeof Object.is?Object.is:function(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b},f=d.useSyncExternalStore,g=d.useRef,h=d.useEffect,i=d.useMemo,j=d.useDebugValue;c.useSyncExternalStoreWithSelector=function(a,b,c,d,k){var l=g(null);if(null===l.current){var m={hasValue:!1,value:null};l.current=m}else m=l.current;var n=f(a,(l=i(function(){function a(a){if(!h){if(h=!0,f=a,a=d(a),void 0!==k&&m.hasValue){var b=m.value;if(k(b,a))return g=b}return g=a}if(b=g,e(f,a))return b;var c=d(a);return void 0!==k&&k(b,c)?(f=a,b):(f=a,g=c)}var f,g,h=!1,i=void 0===c?null:c;return[function(){return a(b())},null===i?void 0:function(){return a(i())}]},[b,c,d,k]))[0],l[1]);return h(function(){m.hasValue=!0,m.value=n},[n]),j(n),n}},32473,(a,b,c)=>{"use strict";b.exports=a.r(67658)},97514,(a,b,c)=>{"use strict";var d=a.r(72131),e=a.r(87610),f="function"==typeof Object.is?Object.is:function(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b},g=e.useSyncExternalStore,h=d.useRef,i=d.useEffect,j=d.useMemo,k=d.useDebugValue;c.useSyncExternalStoreWithSelector=function(a,b,c,d,e){var l=h(null);if(null===l.current){var m={hasValue:!1,value:null};l.current=m}else m=l.current;var n=g(a,(l=j(function(){function a(a){if(!i){if(i=!0,g=a,a=d(a),void 0!==e&&m.hasValue){var b=m.value;if(e(b,a))return h=b}return h=a}if(b=h,f(g,a))return b;var c=d(a);return void 0!==e&&e(b,c)?(g=a,b):(g=a,h=c)}var g,h,i=!1,j=void 0===c?null:c;return[function(){return a(b())},null===j?void 0:function(){return a(j())}]},[b,c,d,e]))[0],l[1]);return i(function(){m.hasValue=!0,m.value=n},[n]),k(n),n}},64442,(a,b,c)=>{"use strict";b.exports=a.r(97514)},70371,(a,b,c)=>{"use strict";function d(a){return"symbol"==typeof a?1:null===a?2:void 0===a?3:4*(a!=a)}Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.compareValues=(a,b,c)=>{if(a!==b){let e=d(a),f=d(b);if(e===f&&0===e){if(a<b)return"desc"===c?1:-1;if(a>b)return"desc"===c?-1:1}return"desc"===c?f-e:e-f}return 0}},62039,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isSymbol=function(a){return"symbol"==typeof a||a instanceof Symbol}},71071,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(62039),e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/;c.isKey=function(a,b){return!Array.isArray(a)&&(!!("number"==typeof a||"boolean"==typeof a||null==a||d.isSymbol(a))||"string"==typeof a&&(f.test(a)||!e.test(a))||null!=b&&Object.hasOwn(b,a))}},1611,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(70371),e=a.r(71071),f=a.r(16270);c.orderBy=function(a,b,c,g){if(null==a)return[];c=g?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(b)||(b=null==b?[null]:[b]),0===b.length&&(b=[null]),Array.isArray(c)||(c=null==c?[]:[c]),c=c.map(a=>String(a));let h=(a,b)=>{let c=a;for(let a=0;a<b.length&&null!=c;++a)c=c[b[a]];return c},i=b.map(a=>(Array.isArray(a)&&1===a.length&&(a=a[0]),null==a||"function"==typeof a||Array.isArray(a)||e.isKey(a))?a:{key:a,path:f.toPath(a)});return a.map(a=>({original:a,criteria:i.map(b=>{var c,d;return c=b,null==(d=a)||null==c?d:"object"==typeof c&&"key"in c?Object.hasOwn(d,c.key)?d[c.key]:h(d,c.path):"function"==typeof c?c(d):Array.isArray(c)?h(d,c):"object"==typeof d?d[c]:d})})).slice().sort((a,b)=>{for(let e=0;e<i.length;e++){let f=d.compareValues(a.criteria[e],b.criteria[e],c[e]);if(0!==f)return f}return 0}).map(a=>a.original)}},52959,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.flatten=function(a,b=1){let c=[],d=Math.floor(b),e=(a,b)=>{for(let f=0;f<a.length;f++){let g=a[f];Array.isArray(g)&&b<d?e(g,b+1):c.push(g)}};return e(a,0),c}},36762,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=/^(?:0|[1-9]\d*)$/;c.isIndex=function(a,b=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<b;case"symbol":return!1;case"string":return d.test(a)}}},42671,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isLength=function(a){return Number.isSafeInteger(a)&&a>=0}},53673,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(42671);c.isArrayLike=function(a){return null!=a&&"function"!=typeof a&&d.isLength(a.length)}},22700,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isObject=function(a){return null!==a&&("object"==typeof a||"function"==typeof a)}},70655,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.eq=function(a,b){return a===b||Number.isNaN(a)&&Number.isNaN(b)}},18496,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(36762),e=a.r(53673),f=a.r(22700),g=a.r(70655);c.isIterateeCall=function(a,b,c){return!!f.isObject(c)&&(!!("number"==typeof b&&e.isArrayLike(c)&&d.isIndex(b))&&b<c.length||"string"==typeof b&&b in c)&&g.eq(c[b],a)}},58311,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(1611),e=a.r(52959),f=a.r(18496);c.sortBy=function(a,...b){let c=b.length;return c>1&&f.isIterateeCall(a,b[0],b[1])?b=[]:c>2&&f.isIterateeCall(b[0],b[1],b[2])&&(b=[b[0]]),d.orderBy(a,e.flatten(b),["asc"])}},81101,(a,b,c)=>{b.exports=a.r(58311).sortBy},36131,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(62039);c.toNumber=function(a){return d.isSymbol(a)?NaN:Number(a)}},55362,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(36131);c.toFinite=function(a){return a?(a=d.toNumber(a))===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a==a?a:0:0===a?a:0}},48127,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(18496),e=a.r(55362);c.range=function(a,b,c){c&&"number"!=typeof c&&d.isIterateeCall(a,b,c)&&(b=c=void 0),a=e.toFinite(a),void 0===b?(b=a,a=0):b=e.toFinite(b),c=void 0===c?a<b?1:-1:e.toFinite(c);let f=Math.max(Math.ceil((b-a)/(c||1)),0),g=Array(f);for(let b=0;b<f;b++)g[b]=a,a+=c;return g}},56161,(a,b,c)=>{b.exports=a.r(48127).range},22060,(a,b,c)=>{"use strict";var d=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler");Symbol.for("react.provider");var i=Symbol.for("react.consumer"),j=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),n=Symbol.for("react.memo"),o=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),q=Symbol.for("react.client.reference");function r(a){if("object"==typeof a&&null!==a){var b=a.$$typeof;switch(b){case d:switch(a=a.type){case f:case h:case g:case l:case m:case p:return a;default:switch(a=a&&a.$$typeof){case j:case k:case o:case n:case i:return a;default:return b}}case e:return b}}}c.ContextConsumer=i,c.ContextProvider=j,c.Element=d,c.ForwardRef=k,c.Fragment=f,c.Lazy=o,c.Memo=n,c.Portal=e,c.Profiler=h,c.StrictMode=g,c.Suspense=l,c.SuspenseList=m,c.isContextConsumer=function(a){return r(a)===i},c.isContextProvider=function(a){return r(a)===j},c.isElement=function(a){return"object"==typeof a&&null!==a&&a.$$typeof===d},c.isForwardRef=function(a){return r(a)===k},c.isFragment=function(a){return r(a)===f},c.isLazy=function(a){return r(a)===o},c.isMemo=function(a){return r(a)===n},c.isPortal=function(a){return r(a)===e},c.isProfiler=function(a){return r(a)===h},c.isStrictMode=function(a){return r(a)===g},c.isSuspense=function(a){return r(a)===l},c.isSuspenseList=function(a){return r(a)===m},c.isValidElementType=function(a){return"string"==typeof a||"function"==typeof a||a===f||a===h||a===g||a===l||a===m||"object"==typeof a&&null!==a&&(a.$$typeof===o||a.$$typeof===n||a.$$typeof===j||a.$$typeof===i||a.$$typeof===k||a.$$typeof===q||void 0!==a.getModuleId)||!1},c.typeOf=r},66539,(a,b,c)=>{"use strict";b.exports=a.r(22060)},53686,(a,b,c)=>{"use strict";var d=Object.prototype.hasOwnProperty,e="~";function f(){}function g(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function h(a,b,c,d,f){if("function"!=typeof c)throw TypeError("The listener must be a function");var h=new g(c,d||a,f),i=e?e+b:b;return a._events[i]?a._events[i].fn?a._events[i]=[a._events[i],h]:a._events[i].push(h):(a._events[i]=h,a._eventsCount++),a}function i(a,b){0==--a._eventsCount?a._events=new f:delete a._events[b]}function j(){this._events=new f,this._eventsCount=0}Object.create&&(f.prototype=Object.create(null),new f().__proto__||(e=!1)),j.prototype.eventNames=function(){var a,b,c=[];if(0===this._eventsCount)return c;for(b in a=this._events)d.call(a,b)&&c.push(e?b.slice(1):b);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(a)):c},j.prototype.listeners=function(a){var b=e?e+a:a,c=this._events[b];if(!c)return[];if(c.fn)return[c.fn];for(var d=0,f=c.length,g=Array(f);d<f;d++)g[d]=c[d].fn;return g},j.prototype.listenerCount=function(a){var b=e?e+a:a,c=this._events[b];return c?c.fn?1:c.length:0},j.prototype.emit=function(a,b,c,d,f,g){var h=e?e+a:a;if(!this._events[h])return!1;var i,j,k=this._events[h],l=arguments.length;if(k.fn){switch(k.once&&this.removeListener(a,k.fn,void 0,!0),l){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,b),!0;case 3:return k.fn.call(k.context,b,c),!0;case 4:return k.fn.call(k.context,b,c,d),!0;case 5:return k.fn.call(k.context,b,c,d,f),!0;case 6:return k.fn.call(k.context,b,c,d,f,g),!0}for(j=1,i=Array(l-1);j<l;j++)i[j-1]=arguments[j];k.fn.apply(k.context,i)}else{var m,n=k.length;for(j=0;j<n;j++)switch(k[j].once&&this.removeListener(a,k[j].fn,void 0,!0),l){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,b);break;case 3:k[j].fn.call(k[j].context,b,c);break;case 4:k[j].fn.call(k[j].context,b,c,d);break;default:if(!i)for(m=1,i=Array(l-1);m<l;m++)i[m-1]=arguments[m];k[j].fn.apply(k[j].context,i)}}return!0},j.prototype.on=function(a,b,c){return h(this,a,b,c,!1)},j.prototype.once=function(a,b,c){return h(this,a,b,c,!0)},j.prototype.removeListener=function(a,b,c,d){var f=e?e+a:a;if(!this._events[f])return this;if(!b)return i(this,f),this;var g=this._events[f];if(g.fn)g.fn!==b||d&&!g.once||c&&g.context!==c||i(this,f);else{for(var h=0,j=[],k=g.length;h<k;h++)(g[h].fn!==b||d&&!g[h].once||c&&g[h].context!==c)&&j.push(g[h]);j.length?this._events[f]=1===j.length?j[0]:j:i(this,f)}return this},j.prototype.removeAllListeners=function(a){var b;return a?(b=e?e+a:a,this._events[b]&&i(this,b)):(this._events=new f,this._eventsCount=0),this},j.prototype.off=j.prototype.removeListener,j.prototype.addListener=j.prototype.on,j.prefixed=e,j.EventEmitter=j,b.exports=j},40483,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.last=function(a){return a[a.length-1]}},32969,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.toArray=function(a){return Array.isArray(a)?a:Array.from(a)}},16642,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(40483),e=a.r(32969),f=a.r(53673);c.last=function(a){if(f.isArrayLike(a))return d.last(e.toArray(a))}},78375,(a,b,c)=>{b.exports=a.r(16642).last},81537,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isPlainObject=function(a){if("object"!=typeof a||null==a)return!1;if(null===Object.getPrototypeOf(a))return!0;if("[object Object]"!==Object.prototype.toString.call(a)){let b=a[Symbol.toStringTag];return null!=b&&!!Object.getOwnPropertyDescriptor(a,Symbol.toStringTag)?.writable&&a.toString()===`[object ${b}]`}let b=a;for(;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b}},3068,(a,b,c)=>{b.exports=a.r(81537).isPlainObject},10183,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isPlainObject=function(a){if(!a||"object"!=typeof a)return!1;let b=Object.getPrototypeOf(a);return(null===b||b===Object.prototype||null===Object.getPrototypeOf(b))&&"[object Object]"===Object.prototype.toString.call(a)}},81922,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.getSymbols=function(a){return Object.getOwnPropertySymbols(a).filter(b=>Object.prototype.propertyIsEnumerable.call(a,b))}},71755,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.getTag=function(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":Object.prototype.toString.call(a)}},39792,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.argumentsTag="[object Arguments]",c.arrayBufferTag="[object ArrayBuffer]",c.arrayTag="[object Array]",c.bigInt64ArrayTag="[object BigInt64Array]",c.bigUint64ArrayTag="[object BigUint64Array]",c.booleanTag="[object Boolean]",c.dataViewTag="[object DataView]",c.dateTag="[object Date]",c.errorTag="[object Error]",c.float32ArrayTag="[object Float32Array]",c.float64ArrayTag="[object Float64Array]",c.functionTag="[object Function]",c.int16ArrayTag="[object Int16Array]",c.int32ArrayTag="[object Int32Array]",c.int8ArrayTag="[object Int8Array]",c.mapTag="[object Map]",c.numberTag="[object Number]",c.objectTag="[object Object]",c.regexpTag="[object RegExp]",c.setTag="[object Set]",c.stringTag="[object String]",c.symbolTag="[object Symbol]",c.uint16ArrayTag="[object Uint16Array]",c.uint32ArrayTag="[object Uint32Array]",c.uint8ArrayTag="[object Uint8Array]",c.uint8ClampedArrayTag="[object Uint8ClampedArray]"},95266,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(10183),e=a.r(81922),f=a.r(71755),g=a.r(39792),h=a.r(70655);c.isEqualWith=function(a,b,c){return function a(b,c,i,j,k,l,m){let n=m(b,c,i,j,k,l);if(void 0!==n)return n;if(typeof b==typeof c)switch(typeof b){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return b===c;case"number":return b===c||Object.is(b,c)}return function b(c,i,j,k){if(Object.is(c,i))return!0;let l=f.getTag(c),m=f.getTag(i);if(l===g.argumentsTag&&(l=g.objectTag),m===g.argumentsTag&&(m=g.objectTag),l!==m)return!1;switch(l){case g.stringTag:return c.toString()===i.toString();case g.numberTag:{let a=c.valueOf(),b=i.valueOf();return h.eq(a,b)}case g.booleanTag:case g.dateTag:case g.symbolTag:return Object.is(c.valueOf(),i.valueOf());case g.regexpTag:return c.source===i.source&&c.flags===i.flags;case g.functionTag:return c===i}let n=(j=j??new Map).get(c),o=j.get(i);if(null!=n&&null!=o)return n===i;j.set(c,i),j.set(i,c);try{switch(l){case g.mapTag:if(c.size!==i.size)return!1;for(let[b,d]of c.entries())if(!i.has(b)||!a(d,i.get(b),b,c,i,j,k))return!1;return!0;case g.setTag:{if(c.size!==i.size)return!1;let b=Array.from(c.values()),d=Array.from(i.values());for(let e=0;e<b.length;e++){let f=b[e],g=d.findIndex(b=>a(f,b,void 0,c,i,j,k));if(-1===g)return!1;d.splice(g,1)}return!0}case g.arrayTag:case g.uint8ArrayTag:case g.uint8ClampedArrayTag:case g.uint16ArrayTag:case g.uint32ArrayTag:case g.bigUint64ArrayTag:case g.int8ArrayTag:case g.int16ArrayTag:case g.int32ArrayTag:case g.bigInt64ArrayTag:case g.float32ArrayTag:case g.float64ArrayTag:if("u">typeof Buffer&&Buffer.isBuffer(c)!==Buffer.isBuffer(i)||c.length!==i.length)return!1;for(let b=0;b<c.length;b++)if(!a(c[b],i[b],b,c,i,j,k))return!1;return!0;case g.arrayBufferTag:if(c.byteLength!==i.byteLength)return!1;return b(new Uint8Array(c),new Uint8Array(i),j,k);case g.dataViewTag:if(c.byteLength!==i.byteLength||c.byteOffset!==i.byteOffset)return!1;return b(new Uint8Array(c),new Uint8Array(i),j,k);case g.errorTag:return c.name===i.name&&c.message===i.message;case g.objectTag:{if(!(b(c.constructor,i.constructor,j,k)||d.isPlainObject(c)&&d.isPlainObject(i)))return!1;let f=[...Object.keys(c),...e.getSymbols(c)],g=[...Object.keys(i),...e.getSymbols(i)];if(f.length!==g.length)return!1;for(let b=0;b<f.length;b++){let d=f[b],e=c[d];if(!Object.hasOwn(i,d))return!1;let g=i[d];if(!a(e,g,d,c,i,j,k))return!1}return!0}default:return!1}}finally{j.delete(c),j.delete(i)}}(b,c,l,m)}(a,b,void 0,void 0,void 0,void 0,c)}},60125,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.noop=function(){}},97842,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(95266),e=a.r(60125);c.isEqual=function(a,b){return d.isEqualWith(a,b,e.noop)}},97854,(a,b,c)=>{b.exports=a.r(97842).isEqual},27057,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.uniqBy=function(a,b){let c=new Map;for(let d=0;d<a.length;d++){let e=a[d],f=b(e);c.has(f)||c.set(f,e)}return Array.from(c.values())}},31540,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.identity=function(a){return a}},970,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isObjectLike=function(a){return"object"==typeof a&&null!==a}},90228,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(53673),e=a.r(970);c.isArrayLikeObject=function(a){return e.isObjectLike(a)&&d.isArrayLike(a)}},32100,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(64093);c.property=function(a){return function(b){return d.get(b,a)}}},79687,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isPrimitive=function(a){return null==a||"object"!=typeof a&&"function"!=typeof a}},71112,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(35295),e=a.r(22700),f=a.r(79687),g=a.r(70655);function h(a,b,c,d){if(b===a)return!0;switch(typeof b){case"object":return function(a,b,c,d){if(null==b)return!0;if(Array.isArray(b))return i(a,b,c,d);if(b instanceof Map){var e=a,g=b,h=c,k=d;if(0===g.size)return!0;if(!(e instanceof Map))return!1;for(let[a,b]of g.entries())if(!1===h(e.get(a),b,a,e,g,k))return!1;return!0}if(b instanceof Set)return j(a,b,c,d);let l=Object.keys(b);if(null==a)return 0===l.length;if(0===l.length)return!0;if(d&&d.has(b))return d.get(b)===a;d&&d.set(b,a);try{for(let e=0;e<l.length;e++){let g=l[e];if(!f.isPrimitive(a)&&!(g in a)||void 0===b[g]&&void 0!==a[g]||null===b[g]&&null!==a[g]||!c(a[g],b[g],g,a,b,d))return!1}return!0}finally{d&&d.delete(b)}}(a,b,c,d);case"function":if(Object.keys(b).length>0)return h(a,{...b},c,d);return g.eq(a,b);default:if(!e.isObject(a))return g.eq(a,b);if("string"==typeof b)return""===b;return!0}}function i(a,b,c,d){if(0===b.length)return!0;if(!Array.isArray(a))return!1;let e=new Set;for(let f=0;f<b.length;f++){let g=b[f],h=!1;for(let i=0;i<a.length;i++){if(e.has(i))continue;let j=a[i],k=!1;if(c(j,g,f,a,b,d)&&(k=!0),k){e.add(i),h=!0;break}}if(!h)return!1}return!0}function j(a,b,c,d){return 0===b.size||a instanceof Set&&i([...a],[...b],c,d)}c.isMatchWith=function(a,b,c){return"function"!=typeof c?d.isMatch(a,b):h(a,b,function a(b,d,e,f,g,i){let j=c(b,d,e,f,g,i);return void 0!==j?!!j:h(b,d,a,i)},new Map)},c.isSetMatch=j},35295,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(71112);c.isMatch=function(a,b){return d.isMatchWith(a,b,()=>void 0)}},11963,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.isTypedArray=function(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}},18844,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(81922),e=a.r(71755),f=a.r(39792),g=a.r(79687),h=a.r(11963);function i(a,b,c,d=new Map,k){let l=k?.(a,b,c,d);if(void 0!==l)return l;if(g.isPrimitive(a))return a;if(d.has(a))return d.get(a);if(Array.isArray(a)){let b=Array(a.length);d.set(a,b);for(let e=0;e<a.length;e++)b[e]=i(a[e],e,c,d,k);return Object.hasOwn(a,"index")&&(b.index=a.index),Object.hasOwn(a,"input")&&(b.input=a.input),b}if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp){let b=new RegExp(a.source,a.flags);return b.lastIndex=a.lastIndex,b}if(a instanceof Map){let b=new Map;for(let[e,f]of(d.set(a,b),a))b.set(e,i(f,e,c,d,k));return b}if(a instanceof Set){let b=new Set;for(let e of(d.set(a,b),a))b.add(i(e,void 0,c,d,k));return b}if("u">typeof Buffer&&Buffer.isBuffer(a))return a.subarray();if(h.isTypedArray(a)){let b=new(Object.getPrototypeOf(a)).constructor(a.length);d.set(a,b);for(let e=0;e<a.length;e++)b[e]=i(a[e],e,c,d,k);return b}if(a instanceof ArrayBuffer||"u">typeof SharedArrayBuffer&&a instanceof SharedArrayBuffer)return a.slice(0);if(a instanceof DataView){let b=new DataView(a.buffer.slice(0),a.byteOffset,a.byteLength);return d.set(a,b),j(b,a,c,d,k),b}if("u">typeof File&&a instanceof File){let b=new File([a],a.name,{type:a.type});return d.set(a,b),j(b,a,c,d,k),b}if(a instanceof Blob){let b=new Blob([a],{type:a.type});return d.set(a,b),j(b,a,c,d,k),b}if(a instanceof Error){let b=new a.constructor;return d.set(a,b),b.message=a.message,b.name=a.name,b.stack=a.stack,b.cause=a.cause,j(b,a,c,d,k),b}if("object"==typeof a&&function(a){switch(e.getTag(a)){case f.argumentsTag:case f.arrayTag:case f.arrayBufferTag:case f.dataViewTag:case f.booleanTag:case f.dateTag:case f.float32ArrayTag:case f.float64ArrayTag:case f.int8ArrayTag:case f.int16ArrayTag:case f.int32ArrayTag:case f.mapTag:case f.numberTag:case f.objectTag:case f.regexpTag:case f.setTag:case f.stringTag:case f.symbolTag:case f.uint8ArrayTag:case f.uint8ClampedArrayTag:case f.uint16ArrayTag:case f.uint32ArrayTag:return!0;default:return!1}}(a)){let b=Object.create(Object.getPrototypeOf(a));return d.set(a,b),j(b,a,c,d,k),b}return a}function j(a,b,c=a,e,f){let g=[...Object.keys(b),...d.getSymbols(b)];for(let d=0;d<g.length;d++){let h=g[d],j=Object.getOwnPropertyDescriptor(a,h);(null==j||j.writable)&&(a[h]=i(b[h],h,c,e,f))}}c.cloneDeepWith=function(a,b){return i(a,void 0,a,new Map,b)},c.cloneDeepWithImpl=i,c.copyProperties=j},12188,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(18844);c.cloneDeep=function(a){return d.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}},45794,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(35295),e=a.r(12188);c.matches=function(a){return a=e.cloneDeep(a),b=>d.isMatch(b,a)}},84955,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(18844),e=a.r(39792);c.cloneDeepWith=function(a,b){return d.cloneDeepWith(a,(c,f,g,h)=>{let i=b?.(c,f,g,h);if(void 0!==i)return i;if("object"==typeof a)switch(Object.prototype.toString.call(a)){case e.numberTag:case e.stringTag:case e.booleanTag:{let b=new a.constructor(a?.valueOf());return d.copyProperties(b,a),b}case e.argumentsTag:{let b={};return d.copyProperties(b,a),b.length=a.length,b[Symbol.iterator]=a[Symbol.iterator],b}default:return}})}},37595,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(84955);c.cloneDeep=function(a){return d.cloneDeepWith(a)}},21864,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(71755);c.isArguments=function(a){return null!==a&&"object"==typeof a&&"[object Arguments]"===d.getTag(a)}},70767,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(67984),e=a.r(36762),f=a.r(21864),g=a.r(16270);c.has=function(a,b){let c;if(0===(c=Array.isArray(b)?b:"string"==typeof b&&d.isDeepKey(b)&&a?.[b]==null?g.toPath(b):[b]).length)return!1;let h=a;for(let a=0;a<c.length;a++){let b=c[a];if((null==h||!Object.hasOwn(h,b))&&!((Array.isArray(h)||f.isArguments(h))&&e.isIndex(b)&&b<h.length))return!1;h=h[b]}return!0}},31544,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(35295),e=a.r(21619),f=a.r(37595),g=a.r(64093),h=a.r(70767);c.matchesProperty=function(a,b){switch(typeof a){case"object":Object.is(a?.valueOf(),-0)&&(a="-0");break;case"number":a=e.toKey(a)}return b=f.cloneDeep(b),function(c){let e=g.get(c,a);return void 0===e?h.has(c,a):void 0===b?void 0===e:d.isMatch(e,b)}}},59111,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(31540),e=a.r(32100),f=a.r(45794),g=a.r(31544);c.iteratee=function(a){if(null==a)return d.identity;switch(typeof a){case"function":return a;case"object":if(Array.isArray(a)&&2===a.length)return g.matchesProperty(a[0],a[1]);return f.matches(a);case"string":case"symbol":case"number":return e.property(a)}}},60066,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(27057),e=a.r(31540),f=a.r(90228),g=a.r(59111);c.uniqBy=function(a,b=e.identity){return f.isArrayLikeObject(a)?d.uniqBy(Array.from(a),g.iteratee(b)):[]}},53451,(a,b,c)=>{b.exports=a.r(60066).uniqBy},70257,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),c.debounce=function(a,b,{signal:c,edges:d}={}){let e,f=null,g=null!=d&&d.includes("leading"),h=null==d||d.includes("trailing"),i=()=>{null!==f&&(a.apply(e,f),e=void 0,f=null)},j=null,k=()=>{null!=j&&clearTimeout(j),j=setTimeout(()=>{j=null,h&&i(),l()},b)},l=()=>{null!==j&&(clearTimeout(j),j=null),e=void 0,f=null},m=function(...a){if(c?.aborted)return;e=this,f=a;let b=null==j;k(),g&&b&&i()};return m.schedule=k,m.cancel=l,m.flush=()=>{i()},c?.addEventListener("abort",l,{once:!0}),m}},52844,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(70257);c.debounce=function(a,b=0,c={}){let e;"object"!=typeof c&&(c={});let{leading:f=!1,trailing:g=!0,maxWait:h}=c,i=[,,];f&&(i[0]="leading"),g&&(i[1]="trailing");let j=null,k=d.debounce(function(...b){e=a.apply(this,b),j=null},b,{edges:i}),l=function(...b){return null!=h&&(null===j&&(j=Date.now()),Date.now()-j>=h)?(e=a.apply(this,b),j=Date.now(),k.cancel(),k.schedule(),e):(k.apply(this,b),e)};return l.cancel=k.cancel,l.flush=()=>(k.flush(),e),l}},4855,(a,b,c)=>{"use strict";Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});let d=a.r(52844);c.throttle=function(a,b=0,c={}){let{leading:e=!0,trailing:f=!0}=c;return d.debounce(a,b,{leading:e,maxWait:b,trailing:f})}},61349,(a,b,c)=>{b.exports=a.r(4855).throttle},60350,a=>{"use strict";let b,c,d,e,f,g,h;var i,j,k,l=a.i(87924),m=a.i(72131),n=a.i(18402);let o=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},p=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var q={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let r=(0,m.forwardRef)(({color:a="currentColor",size:b=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:e="",children:f,iconNode:g,...h},i)=>(0,m.createElement)("svg",{ref:i,...q,width:b,height:b,stroke:a,strokeWidth:d?24*Number(c)/Number(b):c,className:p("lucide",e),...!f&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(h)&&{"aria-hidden":"true"},...h},[...g.map(([a,b])=>(0,m.createElement)(a,b)),...Array.isArray(f)?f:[f]])),s=(a,b)=>{let c=(0,m.forwardRef)(({className:c,...d},e)=>(0,m.createElement)(r,{ref:e,iconNode:b,className:p(`lucide-${o(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,c),...d}));return c.displayName=o(a),c},t=s("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),u=s("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),v=s("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),w=s("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),x=s("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),y=s("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),z=s("file-spreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]),A=s("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),B=s("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),C=s("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),D=s("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),E=s("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),F=s("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),G=s("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),H=s("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),I=s("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),J=s("newspaper",[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]]),K=s("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),L=s("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),M=s("clipboard-check",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),N=s("package-check",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),O=s("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),P=s("file-pen-line",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]]),Q=s("file-x",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]]),R=s("package-open",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]),S=s("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);function T(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}function U(...a){return b=>{let c=!1,d=a.map(a=>{let d=T(a,b);return c||"function"!=typeof d||(c=!0),d});if(c)return()=>{for(let b=0;b<d.length;b++){let c=d[b];"function"==typeof c?c():T(a[b],null)}}}}function V(...a){return m.useCallback(U(...a),a)}function W(a){var b;let c,d=(b=a,(c=m.forwardRef((a,b)=>{let{children:c,...d}=a;if(m.isValidElement(c)){var e;let a,f,g=(e=c,(f=(a=Object.getOwnPropertyDescriptor(e.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.ref:(f=(a=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref),h=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(d,c.props);return c.type!==m.Fragment&&(h.ref=b?U(b,g):g),m.cloneElement(c,h)}return m.Children.count(c)>1?m.Children.only(null):null})).displayName=`${b}.SlotClone`,c),e=m.forwardRef((a,b)=>{let{children:c,...e}=a,f=m.Children.toArray(c),g=f.find($);if(g){let a=g.props.children,c=f.map(b=>b!==g?b:m.Children.count(a)>1?m.Children.only(null):m.isValidElement(a)?a.props.children:null);return(0,l.jsx)(d,{...e,ref:b,children:m.isValidElement(a)?m.cloneElement(a,void 0,c):null})}return(0,l.jsx)(d,{...e,ref:b,children:c})});return e.displayName=`${a}.Slot`,e}var X=W("Slot"),Y=Symbol("radix.slottable");function Z(a){let b=({children:a})=>(0,l.jsx)(l.Fragment,{children:a});return b.displayName=`${a}.Slottable`,b.__radixId=Y,b}function $(a){return m.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===Y}function _(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d}let aa=a=>"boolean"==typeof a?`${a}`:0===a?"0":a,ab=(a,b)=>c=>{var d;if((null==b?void 0:b.variants)==null)return _(a,null==c?void 0:c.class,null==c?void 0:c.className);let{variants:e,defaultVariants:f}=b,g=Object.keys(e).map(a=>{let b=null==c?void 0:c[a],d=null==f?void 0:f[a];if(null===b)return null;let g=aa(b)||aa(d);return e[a][g]}),h=c&&Object.entries(c).reduce((a,b)=>{let[c,d]=b;return void 0===d||(a[c]=d),a},{});return _(a,g,null==b||null==(d=b.compoundVariants)?void 0:d.reduce((a,b)=>{let{class:c,className:d,...e}=b;return Object.entries(e).every(a=>{let[b,c]=a;return Array.isArray(c)?c.includes({...f,...h}[b]):({...f,...h})[b]===c})?[...a,c,d]:a},[]),null==c?void 0:c.class,null==c?void 0:c.className)},ac=(a,b)=>{if(0===a.length)return b.classGroupId;let c=a[0],d=b.nextPart.get(c),e=d?ac(a.slice(1),d):void 0;if(e)return e;if(0===b.validators.length)return;let f=a.join("-");return b.validators.find(({validator:a})=>a(f))?.classGroupId},ad=/^\[(.+)\]$/,ae=(a,b,c,d)=>{a.forEach(a=>{if("string"==typeof a){(""===a?b:af(b,a)).classGroupId=c;return}"function"==typeof a?ag(a)?ae(a(d),b,c,d):b.validators.push({validator:a,classGroupId:c}):Object.entries(a).forEach(([a,e])=>{ae(e,af(b,a),c,d)})})},af=(a,b)=>{let c=a;return b.split("-").forEach(a=>{c.nextPart.has(a)||c.nextPart.set(a,{nextPart:new Map,validators:[]}),c=c.nextPart.get(a)}),c},ag=a=>a.isThemeGetter,ah=/\s+/;function ai(){let a,b,c=0,d="";for(;c<arguments.length;)(a=arguments[c++])&&(b=aj(a))&&(d&&(d+=" "),d+=b);return d}let aj=a=>{let b;if("string"==typeof a)return a;let c="";for(let d=0;d<a.length;d++)a[d]&&(b=aj(a[d]))&&(c&&(c+=" "),c+=b);return c},ak=a=>{let b=b=>b[a]||[];return b.isThemeGetter=!0,b},al=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,am=/^\((?:(\w[\w-]*):)?(.+)\)$/i,an=/^\d+\/\d+$/,ao=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ap=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,ar=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,as=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,at=a=>an.test(a),au=a=>!!a&&!Number.isNaN(Number(a)),av=a=>!!a&&Number.isInteger(Number(a)),aw=a=>a.endsWith("%")&&au(a.slice(0,-1)),ax=a=>ao.test(a),ay=()=>!0,az=a=>ap.test(a)&&!aq.test(a),aA=()=>!1,aB=a=>ar.test(a),aC=a=>as.test(a),aD=a=>!aF(a)&&!aL(a),aE=a=>aS(a,aW,aA),aF=a=>al.test(a),aG=a=>aS(a,aX,az),aH=a=>aS(a,aY,au),aI=a=>aS(a,aU,aA),aJ=a=>aS(a,aV,aC),aK=a=>aS(a,a$,aB),aL=a=>am.test(a),aM=a=>aT(a,aX),aN=a=>aT(a,aZ),aO=a=>aT(a,aU),aP=a=>aT(a,aW),aQ=a=>aT(a,aV),aR=a=>aT(a,a$,!0),aS=(a,b,c)=>{let d=al.exec(a);return!!d&&(d[1]?b(d[1]):c(d[2]))},aT=(a,b,c=!1)=>{let d=am.exec(a);return!!d&&(d[1]?b(d[1]):c)},aU=a=>"position"===a||"percentage"===a,aV=a=>"image"===a||"url"===a,aW=a=>"length"===a||"size"===a||"bg-size"===a,aX=a=>"length"===a,aY=a=>"number"===a,aZ=a=>"family-name"===a,a$=a=>"shadow"===a,a_=function(a,...b){let c,d,e,f=function(h){var i;let j;return d=(c={cache:(a=>{if(a<1)return{get:()=>void 0,set:()=>{}};let b=0,c=new Map,d=new Map,e=(e,f)=>{c.set(e,f),++b>a&&(b=0,d=c,c=new Map)};return{get(a){let b=c.get(a);return void 0!==b?b:void 0!==(b=d.get(a))?(e(a,b),b):void 0},set(a,b){c.has(a)?c.set(a,b):e(a,b)}}})((i=b.reduce((a,b)=>b(a),a())).cacheSize),parseClassName:(a=>{let{prefix:b,experimentalParseClassName:c}=a,d=a=>{let b,c,d=[],e=0,f=0,g=0;for(let b=0;b<a.length;b++){let h=a[b];if(0===e&&0===f){if(":"===h){d.push(a.slice(g,b)),g=b+1;continue}if("/"===h){c=b;continue}}"["===h?e++:"]"===h?e--:"("===h?f++:")"===h&&f--}let h=0===d.length?a:a.substring(g),i=(b=h).endsWith("!")?b.substring(0,b.length-1):b.startsWith("!")?b.substring(1):b;return{modifiers:d,hasImportantModifier:i!==h,baseClassName:i,maybePostfixModifierPosition:c&&c>g?c-g:void 0}};if(b){let a=b+":",c=d;d=b=>b.startsWith(a)?c(b.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:b,maybePostfixModifierPosition:void 0}}if(c){let a=d;d=b=>c({className:b,parseClassName:a})}return d})(i),sortModifiers:(j=Object.fromEntries(i.orderSensitiveModifiers.map(a=>[a,!0])),a=>{if(a.length<=1)return a;let b=[],c=[];return a.forEach(a=>{"["===a[0]||j[a]?(b.push(...c.sort(),a),c=[]):c.push(a)}),b.push(...c.sort()),b}),...(a=>{let b=(a=>{let{theme:b,classGroups:c}=a,d={nextPart:new Map,validators:[]};for(let a in c)ae(c[a],d,a,b);return d})(a),{conflictingClassGroups:c,conflictingClassGroupModifiers:d}=a;return{getClassGroupId:a=>{let c=a.split("-");return""===c[0]&&1!==c.length&&c.shift(),ac(c,b)||(a=>{if(ad.test(a)){let b=ad.exec(a)[1],c=b?.substring(0,b.indexOf(":"));if(c)return"arbitrary.."+c}})(a)},getConflictingClassGroupIds:(a,b)=>{let e=c[a]||[];return b&&d[a]?[...e,...d[a]]:e}}})(i)}).cache.get,e=c.cache.set,f=g,g(h)};function g(a){let b=d(a);if(b)return b;let f=((a,b)=>{let{parseClassName:c,getClassGroupId:d,getConflictingClassGroupIds:e,sortModifiers:f}=b,g=[],h=a.trim().split(ah),i="";for(let a=h.length-1;a>=0;a-=1){let b=h[a],{isExternal:j,modifiers:k,hasImportantModifier:l,baseClassName:m,maybePostfixModifierPosition:n}=c(b);if(j){i=b+(i.length>0?" "+i:i);continue}let o=!!n,p=d(o?m.substring(0,n):m);if(!p){if(!o||!(p=d(m))){i=b+(i.length>0?" "+i:i);continue}o=!1}let q=f(k).join(":"),r=l?q+"!":q,s=r+p;if(g.includes(s))continue;g.push(s);let t=e(p,o);for(let a=0;a<t.length;++a){let b=t[a];g.push(r+b)}i=b+(i.length>0?" "+i:i)}return i})(a,c);return e(a,f),f}return function(){return f(ai.apply(null,arguments))}}(()=>{let a=ak("color"),b=ak("font"),c=ak("text"),d=ak("font-weight"),e=ak("tracking"),f=ak("leading"),g=ak("breakpoint"),h=ak("container"),i=ak("spacing"),j=ak("radius"),k=ak("shadow"),l=ak("inset-shadow"),m=ak("text-shadow"),n=ak("drop-shadow"),o=ak("blur"),p=ak("perspective"),q=ak("aspect"),r=ak("ease"),s=ak("animate"),t=()=>["auto","avoid","all","avoid-page","page","left","right","column"],u=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],v=()=>[...u(),aL,aF],w=()=>["auto","hidden","clip","visible","scroll"],x=()=>["auto","contain","none"],y=()=>[aL,aF,i],z=()=>[at,"full","auto",...y()],A=()=>[av,"none","subgrid",aL,aF],B=()=>["auto",{span:["full",av,aL,aF]},av,aL,aF],C=()=>[av,"auto",aL,aF],D=()=>["auto","min","max","fr",aL,aF],E=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],F=()=>["start","end","center","stretch","center-safe","end-safe"],G=()=>["auto",...y()],H=()=>[at,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...y()],I=()=>[a,aL,aF],J=()=>[...u(),aO,aI,{position:[aL,aF]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",aP,aE,{size:[aL,aF]}],M=()=>[aw,aM,aG],N=()=>["","none","full",j,aL,aF],O=()=>["",au,aM,aG],P=()=>["solid","dashed","dotted","double"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>[au,aw,aO,aI],S=()=>["","none",o,aL,aF],T=()=>["none",au,aL,aF],U=()=>["none",au,aL,aF],V=()=>[au,aL,aF],W=()=>[at,"full",...y()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ax],breakpoint:[ax],color:[ay],container:[ax],"drop-shadow":[ax],ease:["in","out","in-out"],font:[aD],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ax],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ax],shadow:[ax],spacing:["px",au],text:[ax],"text-shadow":[ax],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",at,aF,aL,q]}],container:["container"],columns:[{columns:[au,aF,aL,h]}],"break-after":[{"break-after":t()}],"break-before":[{"break-before":t()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:v()}],overflow:[{overflow:w()}],"overflow-x":[{"overflow-x":w()}],"overflow-y":[{"overflow-y":w()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[av,"auto",aL,aF]}],basis:[{basis:[at,"full","auto",h,...y()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[au,at,"auto","initial","none",aF]}],grow:[{grow:["",au,aL,aF]}],shrink:[{shrink:["",au,aL,aF]}],order:[{order:[av,"first","last","none",aL,aF]}],"grid-cols":[{"grid-cols":A()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":A()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:y()}],"gap-x":[{"gap-x":y()}],"gap-y":[{"gap-y":y()}],"justify-content":[{justify:[...E(),"normal"]}],"justify-items":[{"justify-items":[...F(),"normal"]}],"justify-self":[{"justify-self":["auto",...F()]}],"align-content":[{content:["normal",...E()]}],"align-items":[{items:[...F(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...F(),{baseline:["","last"]}]}],"place-content":[{"place-content":E()}],"place-items":[{"place-items":[...F(),"baseline"]}],"place-self":[{"place-self":["auto",...F()]}],p:[{p:y()}],px:[{px:y()}],py:[{py:y()}],ps:[{ps:y()}],pe:[{pe:y()}],pt:[{pt:y()}],pr:[{pr:y()}],pb:[{pb:y()}],pl:[{pl:y()}],m:[{m:G()}],mx:[{mx:G()}],my:[{my:G()}],ms:[{ms:G()}],me:[{me:G()}],mt:[{mt:G()}],mr:[{mr:G()}],mb:[{mb:G()}],ml:[{ml:G()}],"space-x":[{"space-x":y()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":y()}],"space-y-reverse":["space-y-reverse"],size:[{size:H()}],w:[{w:[h,"screen",...H()]}],"min-w":[{"min-w":[h,"screen","none",...H()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[g]},...H()]}],h:[{h:["screen","lh",...H()]}],"min-h":[{"min-h":["screen","lh","none",...H()]}],"max-h":[{"max-h":["screen","lh",...H()]}],"font-size":[{text:["base",c,aM,aG]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[d,aL,aH]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",aw,aF]}],"font-family":[{font:[aN,aF,b]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[e,aL,aF]}],"line-clamp":[{"line-clamp":[au,"none",aL,aH]}],leading:[{leading:[f,...y()]}],"list-image":[{"list-image":["none",aL,aF]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",aL,aF]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:I()}],"text-color":[{text:I()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...P(),"wavy"]}],"text-decoration-thickness":[{decoration:[au,"from-font","auto",aL,aG]}],"text-decoration-color":[{decoration:I()}],"underline-offset":[{"underline-offset":[au,"auto",aL,aF]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",aL,aF]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",aL,aF]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:J()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},av,aL,aF],radial:["",aL,aF],conic:[av,aL,aF]},aQ,aJ]}],"bg-color":[{bg:I()}],"gradient-from-pos":[{from:M()}],"gradient-via-pos":[{via:M()}],"gradient-to-pos":[{to:M()}],"gradient-from":[{from:I()}],"gradient-via":[{via:I()}],"gradient-to":[{to:I()}],rounded:[{rounded:N()}],"rounded-s":[{"rounded-s":N()}],"rounded-e":[{"rounded-e":N()}],"rounded-t":[{"rounded-t":N()}],"rounded-r":[{"rounded-r":N()}],"rounded-b":[{"rounded-b":N()}],"rounded-l":[{"rounded-l":N()}],"rounded-ss":[{"rounded-ss":N()}],"rounded-se":[{"rounded-se":N()}],"rounded-ee":[{"rounded-ee":N()}],"rounded-es":[{"rounded-es":N()}],"rounded-tl":[{"rounded-tl":N()}],"rounded-tr":[{"rounded-tr":N()}],"rounded-br":[{"rounded-br":N()}],"rounded-bl":[{"rounded-bl":N()}],"border-w":[{border:O()}],"border-w-x":[{"border-x":O()}],"border-w-y":[{"border-y":O()}],"border-w-s":[{"border-s":O()}],"border-w-e":[{"border-e":O()}],"border-w-t":[{"border-t":O()}],"border-w-r":[{"border-r":O()}],"border-w-b":[{"border-b":O()}],"border-w-l":[{"border-l":O()}],"divide-x":[{"divide-x":O()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":O()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...P(),"hidden","none"]}],"divide-style":[{divide:[...P(),"hidden","none"]}],"border-color":[{border:I()}],"border-color-x":[{"border-x":I()}],"border-color-y":[{"border-y":I()}],"border-color-s":[{"border-s":I()}],"border-color-e":[{"border-e":I()}],"border-color-t":[{"border-t":I()}],"border-color-r":[{"border-r":I()}],"border-color-b":[{"border-b":I()}],"border-color-l":[{"border-l":I()}],"divide-color":[{divide:I()}],"outline-style":[{outline:[...P(),"none","hidden"]}],"outline-offset":[{"outline-offset":[au,aL,aF]}],"outline-w":[{outline:["",au,aM,aG]}],"outline-color":[{outline:I()}],shadow:[{shadow:["","none",k,aR,aK]}],"shadow-color":[{shadow:I()}],"inset-shadow":[{"inset-shadow":["none",l,aR,aK]}],"inset-shadow-color":[{"inset-shadow":I()}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:I()}],"ring-offset-w":[{"ring-offset":[au,aG]}],"ring-offset-color":[{"ring-offset":I()}],"inset-ring-w":[{"inset-ring":O()}],"inset-ring-color":[{"inset-ring":I()}],"text-shadow":[{"text-shadow":["none",m,aR,aK]}],"text-shadow-color":[{"text-shadow":I()}],opacity:[{opacity:[au,aL,aF]}],"mix-blend":[{"mix-blend":[...Q(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Q()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[au]}],"mask-image-linear-from-pos":[{"mask-linear-from":R()}],"mask-image-linear-to-pos":[{"mask-linear-to":R()}],"mask-image-linear-from-color":[{"mask-linear-from":I()}],"mask-image-linear-to-color":[{"mask-linear-to":I()}],"mask-image-t-from-pos":[{"mask-t-from":R()}],"mask-image-t-to-pos":[{"mask-t-to":R()}],"mask-image-t-from-color":[{"mask-t-from":I()}],"mask-image-t-to-color":[{"mask-t-to":I()}],"mask-image-r-from-pos":[{"mask-r-from":R()}],"mask-image-r-to-pos":[{"mask-r-to":R()}],"mask-image-r-from-color":[{"mask-r-from":I()}],"mask-image-r-to-color":[{"mask-r-to":I()}],"mask-image-b-from-pos":[{"mask-b-from":R()}],"mask-image-b-to-pos":[{"mask-b-to":R()}],"mask-image-b-from-color":[{"mask-b-from":I()}],"mask-image-b-to-color":[{"mask-b-to":I()}],"mask-image-l-from-pos":[{"mask-l-from":R()}],"mask-image-l-to-pos":[{"mask-l-to":R()}],"mask-image-l-from-color":[{"mask-l-from":I()}],"mask-image-l-to-color":[{"mask-l-to":I()}],"mask-image-x-from-pos":[{"mask-x-from":R()}],"mask-image-x-to-pos":[{"mask-x-to":R()}],"mask-image-x-from-color":[{"mask-x-from":I()}],"mask-image-x-to-color":[{"mask-x-to":I()}],"mask-image-y-from-pos":[{"mask-y-from":R()}],"mask-image-y-to-pos":[{"mask-y-to":R()}],"mask-image-y-from-color":[{"mask-y-from":I()}],"mask-image-y-to-color":[{"mask-y-to":I()}],"mask-image-radial":[{"mask-radial":[aL,aF]}],"mask-image-radial-from-pos":[{"mask-radial-from":R()}],"mask-image-radial-to-pos":[{"mask-radial-to":R()}],"mask-image-radial-from-color":[{"mask-radial-from":I()}],"mask-image-radial-to-color":[{"mask-radial-to":I()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":u()}],"mask-image-conic-pos":[{"mask-conic":[au]}],"mask-image-conic-from-pos":[{"mask-conic-from":R()}],"mask-image-conic-to-pos":[{"mask-conic-to":R()}],"mask-image-conic-from-color":[{"mask-conic-from":I()}],"mask-image-conic-to-color":[{"mask-conic-to":I()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:J()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",aL,aF]}],filter:[{filter:["","none",aL,aF]}],blur:[{blur:S()}],brightness:[{brightness:[au,aL,aF]}],contrast:[{contrast:[au,aL,aF]}],"drop-shadow":[{"drop-shadow":["","none",n,aR,aK]}],"drop-shadow-color":[{"drop-shadow":I()}],grayscale:[{grayscale:["",au,aL,aF]}],"hue-rotate":[{"hue-rotate":[au,aL,aF]}],invert:[{invert:["",au,aL,aF]}],saturate:[{saturate:[au,aL,aF]}],sepia:[{sepia:["",au,aL,aF]}],"backdrop-filter":[{"backdrop-filter":["","none",aL,aF]}],"backdrop-blur":[{"backdrop-blur":S()}],"backdrop-brightness":[{"backdrop-brightness":[au,aL,aF]}],"backdrop-contrast":[{"backdrop-contrast":[au,aL,aF]}],"backdrop-grayscale":[{"backdrop-grayscale":["",au,aL,aF]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[au,aL,aF]}],"backdrop-invert":[{"backdrop-invert":["",au,aL,aF]}],"backdrop-opacity":[{"backdrop-opacity":[au,aL,aF]}],"backdrop-saturate":[{"backdrop-saturate":[au,aL,aF]}],"backdrop-sepia":[{"backdrop-sepia":["",au,aL,aF]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":y()}],"border-spacing-x":[{"border-spacing-x":y()}],"border-spacing-y":[{"border-spacing-y":y()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",aL,aF]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[au,"initial",aL,aF]}],ease:[{ease:["linear","initial",r,aL,aF]}],delay:[{delay:[au,aL,aF]}],animate:[{animate:["none",s,aL,aF]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,aL,aF]}],"perspective-origin":[{"perspective-origin":v()}],rotate:[{rotate:T()}],"rotate-x":[{"rotate-x":T()}],"rotate-y":[{"rotate-y":T()}],"rotate-z":[{"rotate-z":T()}],scale:[{scale:U()}],"scale-x":[{"scale-x":U()}],"scale-y":[{"scale-y":U()}],"scale-z":[{"scale-z":U()}],"scale-3d":["scale-3d"],skew:[{skew:V()}],"skew-x":[{"skew-x":V()}],"skew-y":[{"skew-y":V()}],transform:[{transform:[aL,aF,"","none","gpu","cpu"]}],"transform-origin":[{origin:v()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:W()}],"translate-x":[{"translate-x":W()}],"translate-y":[{"translate-y":W()}],"translate-z":[{"translate-z":W()}],"translate-none":["translate-none"],accent:[{accent:I()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:I()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",aL,aF]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":y()}],"scroll-mx":[{"scroll-mx":y()}],"scroll-my":[{"scroll-my":y()}],"scroll-ms":[{"scroll-ms":y()}],"scroll-me":[{"scroll-me":y()}],"scroll-mt":[{"scroll-mt":y()}],"scroll-mr":[{"scroll-mr":y()}],"scroll-mb":[{"scroll-mb":y()}],"scroll-ml":[{"scroll-ml":y()}],"scroll-p":[{"scroll-p":y()}],"scroll-px":[{"scroll-px":y()}],"scroll-py":[{"scroll-py":y()}],"scroll-ps":[{"scroll-ps":y()}],"scroll-pe":[{"scroll-pe":y()}],"scroll-pt":[{"scroll-pt":y()}],"scroll-pr":[{"scroll-pr":y()}],"scroll-pb":[{"scroll-pb":y()}],"scroll-pl":[{"scroll-pl":y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",aL,aF]}],fill:[{fill:["none",...I()]}],"stroke-w":[{stroke:[au,aM,aG,aH]}],stroke:[{stroke:["none",...I()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function a0(...a){return a_(_(a))}let a1=ab("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),a2=m.forwardRef(({className:a,variant:b,size:c,asChild:d=!1,...e},f)=>(0,l.jsx)(d?X:"button",{"data-slot":"button",className:a0(a1({variant:b,size:c,className:a})),ref:f,...e}));function a3({className:a,type:b,...c}){return(0,l.jsx)("input",{type:b,"data-slot":"input",className:a0("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...c})}function a4(a,b=[]){let c=[],d=()=>{let b=c.map(a=>m.createContext(a));return function(c){let d=c?.[a]||b;return m.useMemo(()=>({[`__scope${a}`]:{...c,[a]:d}}),[c,d])}};return d.scopeName=a,[function(b,d){let e=m.createContext(d),f=c.length;c=[...c,d];let g=b=>{let{scope:c,children:d,...g}=b,h=c?.[a]?.[f]||e,i=m.useMemo(()=>g,Object.values(g));return(0,l.jsx)(h.Provider,{value:i,children:d})};return g.displayName=b+"Provider",[g,function(c,g){let h=g?.[a]?.[f]||e,i=m.useContext(h);if(i)return i;if(void 0!==d)return d;throw Error(`\`${c}\` must be used within \`${b}\``)}]},function(...a){let b=a[0];if(1===a.length)return b;let c=()=>{let c=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let d=c.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return m.useMemo(()=>({[`__scope${b.scopeName}`]:d}),[d])}};return c.scopeName=b.scopeName,c}(d,...b)]}function a5(a){let b=m.useRef(a);return m.useEffect(()=>{b.current=a}),m.useMemo(()=>(...a)=>b.current?.(...a),[])}a2.displayName="Button";var a6=globalThis?.document?m.useLayoutEffect:()=>{},a7=a.i(35112),a8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,b)=>{let c=W(`Primitive.${b}`),d=m.forwardRef((a,d)=>{let{asChild:e,...f}=a;return(0,l.jsx)(e?c:b,{...f,ref:d})});return d.displayName=`Primitive.${b}`,{...a,[b]:d}},{});function a9(a,b){a&&a7.flushSync(()=>a.dispatchEvent(b))}var ba=a.i(87610);function bb(){return()=>{}}var bc="Avatar",[bd,be]=a4(bc),[bf,bg]=bd(bc),bh=m.forwardRef((a,b)=>{let{__scopeAvatar:c,...d}=a,[e,f]=m.useState("idle");return(0,l.jsx)(bf,{scope:c,imageLoadingStatus:e,onImageLoadingStatusChange:f,children:(0,l.jsx)(a8.span,{...d,ref:b})})});bh.displayName=bc;var bi="AvatarImage";m.forwardRef((a,b)=>{let{__scopeAvatar:c,src:d,onLoadingStatusChange:e=()=>{},...f}=a,g=bg(bi,c),h=function(a,{referrerPolicy:b,crossOrigin:c}){let d=(0,ba.useSyncExternalStore)(bb,()=>!0,()=>!1),e=m.useRef(null),f=d?(e.current||(e.current=new window.Image),e.current):null,[g,h]=m.useState(()=>bl(f,a));return a6(()=>{h(bl(f,a))},[f,a]),a6(()=>{let a=a=>()=>{h(a)};if(!f)return;let d=a("loaded"),e=a("error");return f.addEventListener("load",d),f.addEventListener("error",e),b&&(f.referrerPolicy=b),"string"==typeof c&&(f.crossOrigin=c),()=>{f.removeEventListener("load",d),f.removeEventListener("error",e)}},[f,c,b]),g}(d,f),i=a5(a=>{e(a),g.onImageLoadingStatusChange(a)});return a6(()=>{"idle"!==h&&i(h)},[h,i]),"loaded"===h?(0,l.jsx)(a8.img,{...f,ref:b,src:d}):null}).displayName=bi;var bj="AvatarFallback",bk=m.forwardRef((a,b)=>{let{__scopeAvatar:c,delayMs:d,...e}=a,f=bg(bj,c),[g,h]=m.useState(void 0===d);return m.useEffect(()=>{if(void 0!==d){let a=window.setTimeout(()=>h(!0),d);return()=>window.clearTimeout(a)}},[d]),g&&"loaded"!==f.imageLoadingStatus?(0,l.jsx)(a8.span,{...e,ref:b}):null});function bl(a,b){return a?b?(a.src!==b&&(a.src=b),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function bm({className:a,...b}){return(0,l.jsx)(bh,{"data-slot":"avatar",className:a0("relative flex size-10 shrink-0 overflow-hidden rounded-full",a),...b})}function bn({className:a,...b}){return(0,l.jsx)(bk,{"data-slot":"avatar-fallback",className:a0("bg-muted flex size-full items-center justify-center rounded-full",a),...b})}function bo(a,b,{checkForDefaultPrevented:c=!0}={}){return function(d){if(a?.(d),!1===c||!d.defaultPrevented)return b?.(d)}}bk.displayName=bj,m[" useEffectEvent ".trim().toString()],m[" useInsertionEffect ".trim().toString()];var bp=m[" useInsertionEffect ".trim().toString()]||a6;function bq({prop:a,defaultProp:b,onChange:c=()=>{},caller:d}){let[e,f,g]=function({defaultProp:a,onChange:b}){let[c,d]=m.useState(a),e=m.useRef(c),f=m.useRef(b);return bp(()=>{f.current=b},[b]),m.useEffect(()=>{e.current!==c&&(f.current?.(c),e.current=c)},[c,e]),[c,d,f]}({defaultProp:b,onChange:c}),h=void 0!==a,i=h?a:e;{let b=m.useRef(void 0!==a);m.useEffect(()=>{let a=b.current;if(a!==h){let b=h?"controlled":"uncontrolled";console.warn(`${d} is changing from ${a?"controlled":"uncontrolled"} to ${b}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}b.current=h},[h,d])}return[i,m.useCallback(b=>{if(h){let c="function"==typeof b?b(a):b;c!==a&&g.current?.(c)}else f(b)},[h,a,f,g])]}function br(a){let b=a+"CollectionProvider",[c,d]=a4(b),[e,f]=c(b,{collectionRef:{current:null},itemMap:new Map}),g=a=>{let{scope:b,children:c}=a,d=m.default.useRef(null),f=m.default.useRef(new Map).current;return(0,l.jsx)(e,{scope:b,itemMap:f,collectionRef:d,children:c})};g.displayName=b;let h=a+"CollectionSlot",i=W(h),j=m.default.forwardRef((a,b)=>{let{scope:c,children:d}=a,e=V(b,f(h,c).collectionRef);return(0,l.jsx)(i,{ref:e,children:d})});j.displayName=h;let k=a+"CollectionItemSlot",n="data-radix-collection-item",o=W(k),p=m.default.forwardRef((a,b)=>{let{scope:c,children:d,...e}=a,g=m.default.useRef(null),h=V(b,g),i=f(k,c);return m.default.useEffect(()=>(i.itemMap.set(g,{ref:g,...e}),()=>void i.itemMap.delete(g))),(0,l.jsx)(o,{...{[n]:""},ref:h,children:d})});return p.displayName=k,[{Provider:g,Slot:j,ItemSlot:p},function(b){let c=f(a+"CollectionConsumer",b);return m.default.useCallback(()=>{let a=c.collectionRef.current;if(!a)return[];let b=Array.from(a.querySelectorAll(`[${n}]`));return Array.from(c.itemMap.values()).sort((a,c)=>b.indexOf(a.ref.current)-b.indexOf(c.ref.current))},[c.collectionRef,c.itemMap])},d]}Symbol("RADIX:SYNC_STATE");var bs=new WeakMap;function bt(a,b){var c,d;let e,f,g;if("at"in Array.prototype)return Array.prototype.at.call(a,b);let h=(c=a,d=b,e=c.length,(g=(f=bu(d))>=0?f:e+f)<0||g>=e?-1:g);return -1===h?void 0:a[h]}function bu(a){return a!=a||0===a?0:Math.trunc(a)}(class a extends Map{#a;constructor(a){super(a),this.#a=[...super.keys()],bs.set(this,!0)}set(a,b){return bs.get(this)&&(this.has(a)?this.#a[this.#a.indexOf(a)]=a:this.#a.push(a)),super.set(a,b),this}insert(a,b,c){let d,e=this.has(b),f=this.#a.length,g=bu(a),h=g>=0?g:f+g,i=h<0||h>=f?-1:h;if(i===this.size||e&&i===this.size-1||-1===i)return this.set(b,c),this;let j=this.size+ +!e;g<0&&h++;let k=[...this.#a],l=!1;for(let a=h;a<j;a++)if(h===a){let f=k[a];k[a]===b&&(f=k[a+1]),e&&this.delete(b),d=this.get(f),this.set(b,c)}else{l||k[a-1]!==b||(l=!0);let c=k[l?a:a-1],e=d;d=this.get(c),this.delete(c),this.set(c,e)}return this}with(b,c,d){let e=new a(this);return e.insert(b,c,d),e}before(a){let b=this.#a.indexOf(a)-1;if(!(b<0))return this.entryAt(b)}setBefore(a,b,c){let d=this.#a.indexOf(a);return -1===d?this:this.insert(d,b,c)}after(a){let b=this.#a.indexOf(a);if(-1!==(b=-1===b||b===this.size-1?-1:b+1))return this.entryAt(b)}setAfter(a,b,c){let d=this.#a.indexOf(a);return -1===d?this:this.insert(d+1,b,c)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return this.#a=[],super.clear()}delete(a){let b=super.delete(a);return b&&this.#a.splice(this.#a.indexOf(a),1),b}deleteAt(a){let b=this.keyAt(a);return void 0!==b&&this.delete(b)}at(a){let b=bt(this.#a,a);if(void 0!==b)return this.get(b)}entryAt(a){let b=bt(this.#a,a);if(void 0!==b)return[b,this.get(b)]}indexOf(a){return this.#a.indexOf(a)}keyAt(a){return bt(this.#a,a)}from(a,b){let c=this.indexOf(a);if(-1===c)return;let d=c+b;return d<0&&(d=0),d>=this.size&&(d=this.size-1),this.at(d)}keyFrom(a,b){let c=this.indexOf(a);if(-1===c)return;let d=c+b;return d<0&&(d=0),d>=this.size&&(d=this.size-1),this.keyAt(d)}find(a,b){let c=0;for(let d of this){if(Reflect.apply(a,b,[d,c,this]))return d;c++}}findIndex(a,b){let c=0;for(let d of this){if(Reflect.apply(a,b,[d,c,this]))return c;c++}return -1}filter(b,c){let d=[],e=0;for(let a of this)Reflect.apply(b,c,[a,e,this])&&d.push(a),e++;return new a(d)}map(b,c){let d=[],e=0;for(let a of this)d.push([a[0],Reflect.apply(b,c,[a,e,this])]),e++;return new a(d)}reduce(...a){let[b,c]=a,d=0,e=c??this.at(0);for(let c of this)e=0===d&&1===a.length?c:Reflect.apply(b,this,[e,c,d,this]),d++;return e}reduceRight(...a){let[b,c]=a,d=c??this.at(-1);for(let c=this.size-1;c>=0;c--){let e=this.at(c);d=c===this.size-1&&1===a.length?e:Reflect.apply(b,this,[d,e,c,this])}return d}toSorted(b){return new a([...this.entries()].sort(b))}toReversed(){let b=new a;for(let a=this.size-1;a>=0;a--){let c=this.keyAt(a),d=this.get(c);b.set(c,d)}return b}toSpliced(...b){let c=[...this.entries()];return c.splice(...b),new a(c)}slice(b,c){let d=new a,e=this.size-1;if(void 0===b)return d;b<0&&(b+=this.size),void 0!==c&&c>0&&(e=c-1);for(let a=b;a<=e;a++){let b=this.keyAt(a),c=this.get(b);d.set(b,c)}return d}every(a,b){let c=0;for(let d of this){if(!Reflect.apply(a,b,[d,c,this]))return!1;c++}return!0}some(a,b){let c=0;for(let d of this){if(Reflect.apply(a,b,[d,c,this]))return!0;c++}return!1}});var bv=m.createContext(void 0);function bw(a){let b=m.useContext(bv);return a||b||"ltr"}var bx="dismissableLayer.update",by=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bz=m.forwardRef((a,b)=>{let{disableOutsidePointerEvents:c=!1,onEscapeKeyDown:d,onPointerDownOutside:e,onFocusOutside:f,onInteractOutside:g,onDismiss:h,...i}=a,j=m.useContext(by),[k,n]=m.useState(null),o=k?.ownerDocument??globalThis?.document,[,p]=m.useState({}),q=V(b,a=>n(a)),r=Array.from(j.layers),[s]=[...j.layersWithOutsidePointerEventsDisabled].slice(-1),t=r.indexOf(s),u=k?r.indexOf(k):-1,v=j.layersWithOutsidePointerEventsDisabled.size>0,w=u>=t,x=function(a,b=globalThis?.document){let c=a5(a),d=m.useRef(!1),e=m.useRef(()=>{});return m.useEffect(()=>{let a=a=>{if(a.target&&!d.current){let d=function(){bB("dismissableLayer.pointerDownOutside",c,f,{discrete:!0})},f={originalEvent:a};"touch"===a.pointerType?(b.removeEventListener("click",e.current),e.current=d,b.addEventListener("click",e.current,{once:!0})):d()}else b.removeEventListener("click",e.current);d.current=!1},f=window.setTimeout(()=>{b.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(f),b.removeEventListener("pointerdown",a),b.removeEventListener("click",e.current)}},[b,c]),{onPointerDownCapture:()=>d.current=!0}}(a=>{let b=a.target,c=[...j.branches].some(a=>a.contains(b));w&&!c&&(e?.(a),g?.(a),a.defaultPrevented||h?.())},o),y=function(a,b=globalThis?.document){let c=a5(a),d=m.useRef(!1);return m.useEffect(()=>{let a=a=>{a.target&&!d.current&&bB("dismissableLayer.focusOutside",c,{originalEvent:a},{discrete:!1})};return b.addEventListener("focusin",a),()=>b.removeEventListener("focusin",a)},[b,c]),{onFocusCapture:()=>d.current=!0,onBlurCapture:()=>d.current=!1}}(a=>{let b=a.target;![...j.branches].some(a=>a.contains(b))&&(f?.(a),g?.(a),a.defaultPrevented||h?.())},o);return!function(a,b=globalThis?.document){let c=a5(a);m.useEffect(()=>{let a=a=>{"Escape"===a.key&&c(a)};return b.addEventListener("keydown",a,{capture:!0}),()=>b.removeEventListener("keydown",a,{capture:!0})},[c,b])}(a=>{u===j.layers.size-1&&(d?.(a),!a.defaultPrevented&&h&&(a.preventDefault(),h()))},o),m.useEffect(()=>{if(k)return c&&(0===j.layersWithOutsidePointerEventsDisabled.size&&(w1=o.body.style.pointerEvents,o.body.style.pointerEvents="none"),j.layersWithOutsidePointerEventsDisabled.add(k)),j.layers.add(k),bA(),()=>{c&&1===j.layersWithOutsidePointerEventsDisabled.size&&(o.body.style.pointerEvents=w1)}},[k,o,c,j]),m.useEffect(()=>()=>{k&&(j.layers.delete(k),j.layersWithOutsidePointerEventsDisabled.delete(k),bA())},[k,j]),m.useEffect(()=>{let a=()=>p({});return document.addEventListener(bx,a),()=>document.removeEventListener(bx,a)},[]),(0,l.jsx)(a8.div,{...i,ref:q,style:{pointerEvents:v?w?"auto":"none":void 0,...a.style},onFocusCapture:bo(a.onFocusCapture,y.onFocusCapture),onBlurCapture:bo(a.onBlurCapture,y.onBlurCapture),onPointerDownCapture:bo(a.onPointerDownCapture,x.onPointerDownCapture)})});function bA(){let a=new CustomEvent(bx);document.dispatchEvent(a)}function bB(a,b,c,{discrete:d}){let e=c.originalEvent.target,f=new CustomEvent(a,{bubbles:!1,cancelable:!0,detail:c});b&&e.addEventListener(a,b,{once:!0}),d?a9(e,f):e.dispatchEvent(f)}bz.displayName="DismissableLayer",m.forwardRef((a,b)=>{let c=m.useContext(by),d=m.useRef(null),e=V(b,d);return m.useEffect(()=>{let a=d.current;if(a)return c.branches.add(a),()=>{c.branches.delete(a)}},[c.branches]),(0,l.jsx)(a8.div,{...a,ref:e})}).displayName="DismissableLayerBranch";var bC=0;function bD(){m.useEffect(()=>{let a=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",a[0]??bE()),document.body.insertAdjacentElement("beforeend",a[1]??bE()),bC++,()=>{1===bC&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),bC--}},[])}function bE(){let a=document.createElement("span");return a.setAttribute("data-radix-focus-guard",""),a.tabIndex=0,a.style.outline="none",a.style.opacity="0",a.style.position="fixed",a.style.pointerEvents="none",a}var bF="focusScope.autoFocusOnMount",bG="focusScope.autoFocusOnUnmount",bH={bubbles:!1,cancelable:!0},bI=m.forwardRef((a,b)=>{let{loop:c=!1,trapped:d=!1,onMountAutoFocus:e,onUnmountAutoFocus:f,...g}=a,[h,i]=m.useState(null),j=a5(e),k=a5(f),n=m.useRef(null),o=V(b,a=>i(a)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(d){let a=function(a){if(p.paused||!h)return;let b=a.target;h.contains(b)?n.current=b:bL(n.current,{select:!0})},b=function(a){if(p.paused||!h)return;let b=a.relatedTarget;null!==b&&(h.contains(b)||bL(n.current,{select:!0}))};document.addEventListener("focusin",a),document.addEventListener("focusout",b);let c=new MutationObserver(function(a){if(document.activeElement===document.body)for(let b of a)b.removedNodes.length>0&&bL(h)});return h&&c.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",a),document.removeEventListener("focusout",b),c.disconnect()}}},[d,h,p.paused]),m.useEffect(()=>{if(h){bM.add(p);let a=document.activeElement;if(!h.contains(a)){let b=new CustomEvent(bF,bH);h.addEventListener(bF,j),h.dispatchEvent(b),b.defaultPrevented||(function(a,{select:b=!1}={}){let c=document.activeElement;for(let d of a)if(bL(d,{select:b}),document.activeElement!==c)return}(bJ(h).filter(a=>"A"!==a.tagName),{select:!0}),document.activeElement===a&&bL(h))}return()=>{h.removeEventListener(bF,j),setTimeout(()=>{let b=new CustomEvent(bG,bH);h.addEventListener(bG,k),h.dispatchEvent(b),b.defaultPrevented||bL(a??document.body,{select:!0}),h.removeEventListener(bG,k),bM.remove(p)},0)}}},[h,j,k,p]);let q=m.useCallback(a=>{if(!c&&!d||p.paused)return;let b="Tab"===a.key&&!a.altKey&&!a.ctrlKey&&!a.metaKey,e=document.activeElement;if(b&&e){var f;let b,d=a.currentTarget,[g,h]=[bK(b=bJ(f=d),f),bK(b.reverse(),f)];g&&h?a.shiftKey||e!==h?a.shiftKey&&e===g&&(a.preventDefault(),c&&bL(h,{select:!0})):(a.preventDefault(),c&&bL(g,{select:!0})):e===d&&a.preventDefault()}},[c,d,p.paused]);return(0,l.jsx)(a8.div,{tabIndex:-1,...g,ref:o,onKeyDown:q})});function bJ(a){let b=[],c=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{let b="INPUT"===a.tagName&&"hidden"===a.type;return a.disabled||a.hidden||b?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;c.nextNode();)b.push(c.currentNode);return b}function bK(a,b){for(let c of a)if(!function(a,{upTo:b}){if("hidden"===getComputedStyle(a).visibility)return!0;for(;a&&(void 0===b||a!==b);){if("none"===getComputedStyle(a).display)return!0;a=a.parentElement}return!1}(c,{upTo:b}))return c}function bL(a,{select:b=!1}={}){if(a&&a.focus){var c;let d=document.activeElement;a.focus({preventScroll:!0}),a!==d&&(c=a)instanceof HTMLInputElement&&"select"in c&&b&&a.select()}}bI.displayName="FocusScope";var bM=(h=[],{add(a){let b=h[0];a!==b&&b?.pause(),(h=bN(h,a)).unshift(a)},remove(a){h=bN(h,a),h[0]?.resume()}});function bN(a,b){let c=[...a],d=c.indexOf(b);return -1!==d&&c.splice(d,1),c}var bO=m[" useId ".trim().toString()]||(()=>void 0),bP=0;function bQ(a){let[b,c]=m.useState(bO());return a6(()=>{a||c(a=>a??String(bP++))},[a]),a||(b?`radix-${b}`:"")}let bR=["top","right","bottom","left"],bS=Math.min,bT=Math.max,bU=Math.round,bV=Math.floor,bW=a=>({x:a,y:a}),bX={left:"right",right:"left",bottom:"top",top:"bottom"},bY={start:"end",end:"start"};function bZ(a,b){return"function"==typeof a?a(b):a}function b$(a){return a.split("-")[0]}function b_(a){return a.split("-")[1]}function b0(a){return"x"===a?"y":"x"}function b1(a){return"y"===a?"height":"width"}let b2=new Set(["top","bottom"]);function b3(a){return b2.has(b$(a))?"y":"x"}function b4(a){return a.replace(/start|end/g,a=>bY[a])}let b5=["left","right"],b6=["right","left"],b7=["top","bottom"],b8=["bottom","top"];function b9(a){return a.replace(/left|right|bottom|top/g,a=>bX[a])}function ca(a){return"number"!=typeof a?{top:0,right:0,bottom:0,left:0,...a}:{top:a,right:a,bottom:a,left:a}}function cb(a){let{x:b,y:c,width:d,height:e}=a;return{width:d,height:e,top:c,left:b,right:b+d,bottom:c+e,x:b,y:c}}function cc(a,b,c){let d,{reference:e,floating:f}=a,g=b3(b),h=b0(b3(b)),i=b1(h),j=b$(b),k="y"===g,l=e.x+e.width/2-f.width/2,m=e.y+e.height/2-f.height/2,n=e[i]/2-f[i]/2;switch(j){case"top":d={x:l,y:e.y-f.height};break;case"bottom":d={x:l,y:e.y+e.height};break;case"right":d={x:e.x+e.width,y:m};break;case"left":d={x:e.x-f.width,y:m};break;default:d={x:e.x,y:e.y}}switch(b_(b)){case"start":d[h]-=n*(c&&k?-1:1);break;case"end":d[h]+=n*(c&&k?-1:1)}return d}let cd=async(a,b,c)=>{let{placement:d="bottom",strategy:e="absolute",middleware:f=[],platform:g}=c,h=f.filter(Boolean),i=await (null==g.isRTL?void 0:g.isRTL(b)),j=await g.getElementRects({reference:a,floating:b,strategy:e}),{x:k,y:l}=cc(j,d,i),m=d,n={},o=0;for(let c=0;c<h.length;c++){let{name:f,fn:p}=h[c],{x:q,y:r,data:s,reset:t}=await p({x:k,y:l,initialPlacement:d,placement:m,strategy:e,middlewareData:n,rects:j,platform:g,elements:{reference:a,floating:b}});k=null!=q?q:k,l=null!=r?r:l,n={...n,[f]:{...n[f],...s}},t&&o<=50&&(o++,"object"==typeof t&&(t.placement&&(m=t.placement),t.rects&&(j=!0===t.rects?await g.getElementRects({reference:a,floating:b,strategy:e}):t.rects),{x:k,y:l}=cc(j,m,i)),c=-1)}return{x:k,y:l,placement:m,strategy:e,middlewareData:n}};async function ce(a,b){var c;void 0===b&&(b={});let{x:d,y:e,platform:f,rects:g,elements:h,strategy:i}=a,{boundary:j="clippingAncestors",rootBoundary:k="viewport",elementContext:l="floating",altBoundary:m=!1,padding:n=0}=bZ(b,a),o=ca(n),p=h[m?"floating"===l?"reference":"floating":l],q=cb(await f.getClippingRect({element:null==(c=await (null==f.isElement?void 0:f.isElement(p)))||c?p:p.contextElement||await (null==f.getDocumentElement?void 0:f.getDocumentElement(h.floating)),boundary:j,rootBoundary:k,strategy:i})),r="floating"===l?{x:d,y:e,width:g.floating.width,height:g.floating.height}:g.reference,s=await (null==f.getOffsetParent?void 0:f.getOffsetParent(h.floating)),t=await (null==f.isElement?void 0:f.isElement(s))&&await (null==f.getScale?void 0:f.getScale(s))||{x:1,y:1},u=cb(f.convertOffsetParentRelativeRectToViewportRelativeRect?await f.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:r,offsetParent:s,strategy:i}):r);return{top:(q.top-u.top+o.top)/t.y,bottom:(u.bottom-q.bottom+o.bottom)/t.y,left:(q.left-u.left+o.left)/t.x,right:(u.right-q.right+o.right)/t.x}}function cf(a,b){return{top:a.top-b.height,right:a.right-b.width,bottom:a.bottom-b.height,left:a.left-b.width}}function cg(a){return bR.some(b=>a[b]>=0)}let ch=new Set(["left","top"]);async function ci(a,b){let{placement:c,platform:d,elements:e}=a,f=await (null==d.isRTL?void 0:d.isRTL(e.floating)),g=b$(c),h=b_(c),i="y"===b3(c),j=ch.has(g)?-1:1,k=f&&i?-1:1,l=bZ(b,a),{mainAxis:m,crossAxis:n,alignmentAxis:o}="number"==typeof l?{mainAxis:l,crossAxis:0,alignmentAxis:null}:{mainAxis:l.mainAxis||0,crossAxis:l.crossAxis||0,alignmentAxis:l.alignmentAxis};return h&&"number"==typeof o&&(n="end"===h?-1*o:o),i?{x:n*k,y:m*j}:{x:m*j,y:n*k}}function cj(a){return function(a){return!1}(a)?(a.nodeName||"").toLowerCase():"#document"}function ck(a){var b;return(null==a||null==(b=a.ownerDocument)?void 0:b.defaultView)||window}function cl(a){var b;return null==(b=(function(a){return!1}(a)?a.ownerDocument:a.document)||window.document)?void 0:b.documentElement}function cm(a){return!1}let cn=new Set(["inline","contents"]);function co(a){let{overflow:b,overflowX:c,overflowY:d,display:e}=cz(a);return/auto|scroll|overlay|hidden|clip/.test(b+d+c)&&!cn.has(e)}let cp=new Set(["table","td","th"]),cq=[":popover-open",":modal"];function cr(a){return cq.some(b=>{try{return a.matches(b)}catch(a){return!1}})}let cs=["transform","translate","scale","rotate","perspective"],ct=["transform","translate","scale","rotate","perspective","filter"],cu=["paint","layout","strict","content"];function cv(a){let b=cw(),c=a;return cs.some(a=>!!c[a]&&"none"!==c[a])||!!c.containerType&&"normal"!==c.containerType||!b&&!!c.backdropFilter&&"none"!==c.backdropFilter||!b&&!!c.filter&&"none"!==c.filter||ct.some(a=>(c.willChange||"").includes(a))||cu.some(a=>(c.contain||"").includes(a))}function cw(){return!("u"<typeof CSS)&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}let cx=new Set(["html","body","#document"]);function cy(a){return cx.has(cj(a))}function cz(a){return ck(a).getComputedStyle(a)}function cA(a){return{scrollLeft:a.scrollX,scrollTop:a.scrollY}}function cB(a){if("html"===cj(a))return a;let b=a.assignedSlot||a.parentNode||!1||cl(a);return b}function cC(a,b,c){var d;void 0===b&&(b=[]),void 0===c&&(c=!0);let e=function a(b){let c=cB(b);return cy(c)?b.ownerDocument?b.ownerDocument.body:b.body:a(c)}(a),f=e===(null==(d=a.ownerDocument)?void 0:d.body),g=ck(e);if(f){let a=cD(g);return b.concat(g,g.visualViewport||[],co(e)?e:[],a&&c?cC(a):[])}return b.concat(e,cC(e,[],c))}function cD(a){return a.parent&&Object.getPrototypeOf(a.parent)?a.frameElement:null}function cE(a){let b=cz(a),c=parseFloat(b.width)||0,d=parseFloat(b.height)||0,e=!1,f=e?a.offsetWidth:c,g=e?a.offsetHeight:d,h=bU(c)!==f||bU(d)!==g;return h&&(c=f,d=g),{width:c,height:d,$:h}}function cF(a){return 0,a.contextElement}function cG(a){let b=cF(a);1;return bW(1)}let cH=bW(0);function cI(a){let b=ck(a);return cw()&&b.visualViewport?{x:b.visualViewport.offsetLeft,y:b.visualViewport.offsetTop}:cH}function cJ(a,b,c,d){var e;void 0===b&&(b=!1),void 0===c&&(c=!1);let f=a.getBoundingClientRect(),g=cF(a),h=bW(1);b&&(d||(h=cG(a)));let i=(void 0===(e=c)&&(e=!1),d&&(!e||d===ck(g))&&e)?cI(g):bW(0),j=(f.left+i.x)/h.x,k=(f.top+i.y)/h.y,l=f.width/h.x,m=f.height/h.y;if(g){let a=ck(g),b=d,c=a,e=cD(c);for(;e&&d&&b!==c;){let a=cG(e),b=e.getBoundingClientRect(),d=cz(e),f=b.left+(e.clientLeft+parseFloat(d.paddingLeft))*a.x,g=b.top+(e.clientTop+parseFloat(d.paddingTop))*a.y;j*=a.x,k*=a.y,l*=a.x,m*=a.y,j+=f,k+=g,e=cD(c=ck(e))}}return cb({width:l,height:m,x:j,y:k})}function cK(a,b){let c=cA(a).scrollLeft;return b?b.left+c:cJ(cl(a)).left+c}function cL(a,b,c){void 0===c&&(c=!1);let d=a.getBoundingClientRect();return{x:d.left+b.scrollLeft-(c?0:cK(a,d)),y:d.top+b.scrollTop}}function cM(a,b,c){var d;let e;if("viewport"===b)e=function(a,b){let c=ck(a),d=cl(a),e=c.visualViewport,f=d.clientWidth,g=d.clientHeight,h=0,i=0;if(e){f=e.width,g=e.height;let a=cw();(!a||a&&"fixed"===b)&&(h=e.offsetLeft,i=e.offsetTop)}return{width:f,height:g,x:h,y:i}}(a,c);else if("document"===b){let b,c,f,g,h,i,j;d=cl(a),b=cl(d),c=cA(d),f=d.ownerDocument.body,g=bT(b.scrollWidth,b.clientWidth,f.scrollWidth,f.clientWidth),h=bT(b.scrollHeight,b.clientHeight,f.scrollHeight,f.clientHeight),i=-c.scrollLeft+cK(d),j=-c.scrollTop,"rtl"===cz(f).direction&&(i+=bT(b.clientWidth,f.clientWidth)-g),e={width:g,height:h,x:i,y:j}}else{1;{let c=cI(a);e={x:b.x-c.x,y:b.y-c.y,width:b.width,height:b.height}}}return cb(e)}function cN(a){return"static"===cz(a).position}function cO(a,b){1;return null}function cP(a,b){var c;let d=ck(a);if(cr(a))return d;1;{let b=cB(a);for(;b&&!cy(b);){0;b=cB(b)}return d}}let cQ=async function(a){let b=this.getOffsetParent||cP,c=this.getDimensions,d=await c(a.floating);return{reference:function(a,b,c){var d;let e=(d=0,!1),f=cl(b),g="fixed"===c,h=cJ(a,!0,g,b),i={scrollLeft:0,scrollTop:0},j=bW(0);if(e||!e&&!g)if(("body"!==cj(b)||co(f))&&(i=cA(b)),e){let a=cJ(b,!0,g,b);j.x=a.x+b.clientLeft,j.y=a.y+b.clientTop}else f&&(j.x=cK(f));g&&!e&&f&&(j.x=cK(f));let k=!f||e||g?bW(0):cL(f,i);return{x:h.left+i.scrollLeft-j.x-k.x,y:h.top+i.scrollTop-j.y-k.y,width:h.width,height:h.height}}(a.reference,await b(a.floating),a.strategy),floating:{x:0,y:0,width:d.width,height:d.height}}},cR={convertOffsetParentRelativeRectToViewportRelativeRect:function(a){var b,c;let{elements:d,rect:e,offsetParent:f,strategy:g}=a,h="fixed"===g,i=cl(f),j=!!d&&cr(d.floating);if(f===i||j&&h)return e;let k={scrollLeft:0,scrollTop:0},l=bW(1),m=bW(0),n=(b=0,!1);(n||!n&&!h)&&(("body"!==cj(f)||co(i))&&(k=cA(f)),c=0,0);let o=!i||n||h?bW(0):cL(i,k,!0);return{width:e.width*l.x,height:e.height*l.y,x:e.x*l.x-k.scrollLeft*l.x+m.x+o.x,y:e.y*l.y-k.scrollTop*l.y+m.y+o.y}},getDocumentElement:cl,getClippingRect:function(a){let{element:b,boundary:c,rootBoundary:d,strategy:e}=a,f=[..."clippingAncestors"===c?cr(b)?[]:function(a,b){var c;let d=b.get(a);if(d)return d;let e=cC(a,[],!1).filter(a=>{var b;return b=0,!1}),f="fixed"===cz(a).position,g=f?cB(a):a;return c=0,b.set(a,e),e}(b,this._c):[].concat(c),d],g=f[0],h=f.reduce((a,c)=>{let d=cM(b,c,e);return a.top=bT(d.top,a.top),a.right=bS(d.right,a.right),a.bottom=bS(d.bottom,a.bottom),a.left=bT(d.left,a.left),a},cM(b,g,e));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}},getOffsetParent:cP,getElementRects:cQ,getClientRects:function(a){return Array.from(a.getClientRects())},getDimensions:function(a){let{width:b,height:c}=cE(a);return{width:b,height:c}},getScale:cG,isElement:cm,isRTL:function(a){return"rtl"===cz(a).direction}};function cS(a,b){return a.x===b.x&&a.y===b.y&&a.width===b.width&&a.height===b.height}let cT=a=>({name:"arrow",options:a,async fn(b){let{x:c,y:d,placement:e,rects:f,platform:g,elements:h,middlewareData:i}=b,{element:j,padding:k=0}=bZ(a,b)||{};if(null==j)return{};let l=ca(k),m={x:c,y:d},n=b0(b3(e)),o=b1(n),p=await g.getDimensions(j),q="y"===n,r=q?"clientHeight":"clientWidth",s=f.reference[o]+f.reference[n]-m[n]-f.floating[o],t=m[n]-f.reference[n],u=await (null==g.getOffsetParent?void 0:g.getOffsetParent(j)),v=u?u[r]:0;v&&await (null==g.isElement?void 0:g.isElement(u))||(v=h.floating[r]||f.floating[o]);let w=v/2-p[o]/2-1,x=bS(l[q?"top":"left"],w),y=bS(l[q?"bottom":"right"],w),z=v-p[o]-y,A=v/2-p[o]/2+(s/2-t/2),B=bT(x,bS(A,z)),C=!i.arrow&&null!=b_(e)&&A!==B&&f.reference[o]/2-(A<x?x:y)-p[o]/2<0,D=C?A<x?A-x:A-z:0;return{[n]:m[n]+D,data:{[n]:B,centerOffset:A-B-D,...C&&{alignmentOffset:D}},reset:C}}});var cU="u">typeof document?m.useLayoutEffect:function(){};function cV(a,b){let c,d,e;if(a===b)return!0;if(typeof a!=typeof b)return!1;if("function"==typeof a&&a.toString()===b.toString())return!0;if(a&&b&&"object"==typeof a){if(Array.isArray(a)){if((c=a.length)!==b.length)return!1;for(d=c;0!=d--;)if(!cV(a[d],b[d]))return!1;return!0}if((c=(e=Object.keys(a)).length)!==Object.keys(b).length)return!1;for(d=c;0!=d--;)if(!({}).hasOwnProperty.call(b,e[d]))return!1;for(d=c;0!=d--;){let c=e[d];if(("_owner"!==c||!a.$$typeof)&&!cV(a[c],b[c]))return!1}return!0}return a!=a&&b!=b}function cW(a,b){let c=1;return Math.round(b*c)/c}function cX(a){let b=m.useRef(a);return cU(()=>{b.current=a}),b}var cY=m.forwardRef((a,b)=>{let{children:c,width:d=10,height:e=5,...f}=a;return(0,l.jsx)(a8.svg,{...f,ref:b,width:d,height:e,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:a.asChild?c:(0,l.jsx)("polygon",{points:"0,0 30,0 15,10"})})});function cZ(a){let[b,c]=m.useState(void 0);return a6(()=>{if(a){c({width:a.offsetWidth,height:a.offsetHeight});let b=new ResizeObserver(b=>{let d,e;if(!Array.isArray(b)||!b.length)return;let f=b[0];if("borderBoxSize"in f){let a=f.borderBoxSize,b=Array.isArray(a)?a[0]:a;d=b.inlineSize,e=b.blockSize}else d=a.offsetWidth,e=a.offsetHeight;c({width:d,height:e})});return b.observe(a,{box:"border-box"}),()=>b.unobserve(a)}c(void 0)},[a]),b}cY.displayName="Arrow";var c$="Popper",[c_,c0]=a4(c$),[c1,c2]=c_(c$),c3=a=>{let{__scopePopper:b,children:c}=a,[d,e]=m.useState(null);return(0,l.jsx)(c1,{scope:b,anchor:d,onAnchorChange:e,children:c})};c3.displayName=c$;var c4="PopperAnchor",c5=m.forwardRef((a,b)=>{let{__scopePopper:c,virtualRef:d,...e}=a,f=c2(c4,c),g=m.useRef(null),h=V(b,g);return m.useEffect(()=>{f.onAnchorChange(d?.current||g.current)}),d?null:(0,l.jsx)(a8.div,{...e,ref:h})});c5.displayName=c4;var c6="PopperContent",[c7,c8]=c_(c6),c9=m.forwardRef((a,b)=>{var c,d,e,f,g,h,i,j,k,n,o,p,q,r,s,t,u,v,w,x,y;let{__scopePopper:z,side:A="bottom",sideOffset:B=0,align:C="center",alignOffset:D=0,arrowPadding:E=0,avoidCollisions:F=!0,collisionBoundary:G=[],collisionPadding:H=0,sticky:I="partial",hideWhenDetached:J=!1,updatePositionStrategy:K="optimized",onPlaced:L,...M}=a,N=c2(c6,z),[O,P]=m.useState(null),Q=V(b,a=>P(a)),[R,S]=m.useState(null),T=cZ(R),U=T?.width??0,W=T?.height??0,X="number"==typeof H?H:{top:0,right:0,bottom:0,left:0,...H},Y=Array.isArray(G)?G:[G],Z=Y.length>0,$={padding:X,boundary:Y.filter(dd),altBoundary:Z},{refs:_,floatingStyles:aa,placement:ab,isPositioned:ac,middlewareData:ad}=function(a){void 0===a&&(a={});let{placement:b="bottom",strategy:c="absolute",middleware:d=[],platform:e,elements:{reference:f,floating:g}={},transform:h=!0,whileElementsMounted:i,open:j}=a,[k,l]=m.useState({x:0,y:0,strategy:c,placement:b,middlewareData:{},isPositioned:!1}),[n,o]=m.useState(d);cV(n,d)||o(d);let[p,q]=m.useState(null),[r,s]=m.useState(null),t=m.useCallback(a=>{a!==x.current&&(x.current=a,q(a))},[]),u=m.useCallback(a=>{a!==y.current&&(y.current=a,s(a))},[]),v=f||p,w=g||r,x=m.useRef(null),y=m.useRef(null),z=m.useRef(k),A=null!=i,B=cX(i),C=cX(e),D=cX(j),E=m.useCallback(()=>{var a,d;let e,f,g;if(!x.current||!y.current)return;let h={placement:b,strategy:c,middleware:n};C.current&&(h.platform=C.current),(a=x.current,d=y.current,e=new Map,g={...(f={platform:cR,...h}).platform,_c:e},cd(a,d,{...f,platform:g})).then(a=>{let b={...a,isPositioned:!1!==D.current};F.current&&!cV(z.current,b)&&(z.current=b,a7.flushSync(()=>{l(b)}))})},[n,b,c,C,D]);cU(()=>{!1===j&&z.current.isPositioned&&(z.current.isPositioned=!1,l(a=>({...a,isPositioned:!1})))},[j]);let F=m.useRef(!1);cU(()=>(F.current=!0,()=>{F.current=!1}),[]),cU(()=>{if(v&&(x.current=v),w&&(y.current=w),v&&w){if(B.current)return B.current(v,w,E);E()}},[v,w,E,B,A]);let G=m.useMemo(()=>({reference:x,floating:y,setReference:t,setFloating:u}),[t,u]),H=m.useMemo(()=>({reference:v,floating:w}),[v,w]),I=m.useMemo(()=>{let a={position:c,left:0,top:0};if(!H.floating)return a;let b=cW(H.floating,k.x),d=cW(H.floating,k.y);if(h)return{...a,transform:"translate("+b+"px, "+d+"px)",...(H.floating,false)};return{position:c,left:b,top:d}},[c,h,H.floating,k.x,k.y]);return m.useMemo(()=>({...k,update:E,refs:G,elements:H,floatingStyles:I}),[k,E,G,H,I])}({strategy:"fixed",placement:A+("center"!==C?"-"+C:""),whileElementsMounted:(...a)=>(function(a,b,c,d){let e;void 0===d&&(d={});let{ancestorScroll:f=!0,ancestorResize:g=!0,elementResize:h="function"==typeof ResizeObserver,layoutShift:i="function"==typeof IntersectionObserver,animationFrame:j=!1}=d,k=cF(a),l=f||g?[...k?cC(k):[],...cC(b)]:[];l.forEach(a=>{f&&a.addEventListener("scroll",c,{passive:!0}),g&&a.addEventListener("resize",c)});let m=k&&i?function(a,b){let c,d=null,e=cl(a);function f(){var a;clearTimeout(c),null==(a=d)||a.disconnect(),d=null}return!function g(h,i){void 0===h&&(h=!1),void 0===i&&(i=1),f();let j=a.getBoundingClientRect(),{left:k,top:l,width:m,height:n}=j;if(h||b(),!m||!n)return;let o={rootMargin:-bV(l)+"px "+-bV(e.clientWidth-(k+m))+"px "+-bV(e.clientHeight-(l+n))+"px "+-bV(k)+"px",threshold:bT(0,bS(1,i))||1},p=!0;function q(b){let d=b[0].intersectionRatio;if(d!==i){if(!p)return g();d?g(!1,d):c=setTimeout(()=>{g(!1,1e-7)},1e3)}1!==d||cS(j,a.getBoundingClientRect())||g(),p=!1}try{d=new IntersectionObserver(q,{...o,root:e.ownerDocument})}catch(a){d=new IntersectionObserver(q,o)}d.observe(a)}(!0),f}(k,c):null,n=-1,o=null;h&&(o=new ResizeObserver(a=>{let[d]=a;d&&d.target===k&&o&&(o.unobserve(b),cancelAnimationFrame(n),n=requestAnimationFrame(()=>{var a;null==(a=o)||a.observe(b)})),c()}),k&&!j&&o.observe(k),o.observe(b));let p=j?cJ(a):null;return j&&function b(){let d=cJ(a);p&&!cS(p,d)&&c(),p=d,e=requestAnimationFrame(b)}(),c(),()=>{var a;l.forEach(a=>{f&&a.removeEventListener("scroll",c),g&&a.removeEventListener("resize",c)}),null==m||m(),null==(a=o)||a.disconnect(),o=null,j&&cancelAnimationFrame(e)}})(...a,{animationFrame:"always"===K}),elements:{reference:N.anchor},middleware:[{...{name:"offset",options:e=c={mainAxis:B+W,alignmentAxis:D},async fn(a){var b,c;let{x:d,y:f,placement:g,middlewareData:h}=a,i=await ci(a,e);return g===(null==(b=h.offset)?void 0:b.placement)&&null!=(c=h.arrow)&&c.alignmentOffset?{}:{x:d+i.x,y:f+i.y,data:{...i,placement:g}}}},options:[c,d]},F&&{...{name:"shift",options:k=i={mainAxis:!0,crossAxis:!1,limiter:"partial"===I?{...(void 0===(h=f)&&(h={}),{options:h,fn(a){let{x:b,y:c,placement:d,rects:e,middlewareData:f}=a,{offset:g=0,mainAxis:i=!0,crossAxis:j=!0}=bZ(h,a),k={x:b,y:c},l=b3(d),m=b0(l),n=k[m],o=k[l],p=bZ(g,a),q="number"==typeof p?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(i){let a="y"===m?"height":"width",b=e.reference[m]-e.floating[a]+q.mainAxis,c=e.reference[m]+e.reference[a]-q.mainAxis;n<b?n=b:n>c&&(n=c)}if(j){var r,s;let a="y"===m?"width":"height",b=ch.has(b$(d)),c=e.reference[l]-e.floating[a]+(b&&(null==(r=f.offset)?void 0:r[l])||0)+(b?0:q.crossAxis),g=e.reference[l]+e.reference[a]+(b?0:(null==(s=f.offset)?void 0:s[l])||0)-(b?q.crossAxis:0);o<c?o=c:o>g&&(o=g)}return{[m]:n,[l]:o}}}),options:[f,g]}:void 0,...$},async fn(a){let{x:b,y:c,placement:d}=a,{mainAxis:e=!0,crossAxis:f=!1,limiter:g={fn:a=>{let{x:b,y:c}=a;return{x:b,y:c}}},...h}=bZ(k,a),i={x:b,y:c},j=await ce(a,h),l=b3(b$(d)),m=b0(l),n=i[m],o=i[l];if(e){let a="y"===m?"top":"left",b="y"===m?"bottom":"right",c=n+j[a],d=n-j[b];n=bT(c,bS(n,d))}if(f){let a="y"===l?"top":"left",b="y"===l?"bottom":"right",c=o+j[a],d=o-j[b];o=bT(c,bS(o,d))}let p=g.fn({...a,[m]:n,[l]:o});return{...p,data:{x:p.x-b,y:p.y-c,enabled:{[m]:e,[l]:f}}}}},options:[i,j]},F&&{...{name:"flip",options:p=n={...$},async fn(a){var b,c,d,e,f,g,h,i;let j,k,l,{placement:m,middlewareData:n,rects:o,initialPlacement:q,platform:r,elements:s}=a,{mainAxis:t=!0,crossAxis:u=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...z}=bZ(p,a);if(null!=(b=n.arrow)&&b.alignmentOffset)return{};let A=b$(m),B=b3(q),C=b$(q)===q,D=await (null==r.isRTL?void 0:r.isRTL(s.floating)),E=v||(C||!y?[b9(q)]:(j=b9(q),[b4(q),j,b4(j)])),F="none"!==x;!v&&F&&E.push(...(k=b_(q),l=function(a,b,c){switch(a){case"top":case"bottom":if(c)return b?b6:b5;return b?b5:b6;case"left":case"right":return b?b7:b8;default:return[]}}(b$(q),"start"===x,D),k&&(l=l.map(a=>a+"-"+k),y&&(l=l.concat(l.map(b4)))),l));let G=[q,...E],H=await ce(a,z),I=[],J=(null==(c=n.flip)?void 0:c.overflows)||[];if(t&&I.push(H[A]),u){let a,b,c,d,e=(g=m,h=o,void 0===(i=D)&&(i=!1),a=b_(g),c=b1(b=b0(b3(g))),d="x"===b?a===(i?"end":"start")?"right":"left":"start"===a?"bottom":"top",h.reference[c]>h.floating[c]&&(d=b9(d)),[d,b9(d)]);I.push(H[e[0]],H[e[1]])}if(J=[...J,{placement:m,overflows:I}],!I.every(a=>a<=0)){let a=((null==(d=n.flip)?void 0:d.index)||0)+1,b=G[a];if(b&&("alignment"!==u||B===b3(b)||J.every(a=>a.overflows[0]>0&&b3(a.placement)===B)))return{data:{index:a,overflows:J},reset:{placement:b}};let c=null==(e=J.filter(a=>a.overflows[0]<=0).sort((a,b)=>a.overflows[1]-b.overflows[1])[0])?void 0:e.placement;if(!c)switch(w){case"bestFit":{let a=null==(f=J.filter(a=>{if(F){let b=b3(a.placement);return b===B||"y"===b}return!0}).map(a=>[a.placement,a.overflows.filter(a=>a>0).reduce((a,b)=>a+b,0)]).sort((a,b)=>a[1]-b[1])[0])?void 0:f[0];a&&(c=a);break}case"initialPlacement":c=q}if(m!==c)return{reset:{placement:c}}}return{}}},options:[n,o]},{...{name:"size",options:s=q={...$,apply:({elements:a,rects:b,availableWidth:c,availableHeight:d})=>{let{width:e,height:f}=b.reference,g=a.floating.style;g.setProperty("--radix-popper-available-width",`${c}px`),g.setProperty("--radix-popper-available-height",`${d}px`),g.setProperty("--radix-popper-anchor-width",`${e}px`),g.setProperty("--radix-popper-anchor-height",`${f}px`)}},async fn(a){var b,c;let d,e,{placement:f,rects:g,platform:h,elements:i}=a,{apply:j=()=>{},...k}=bZ(s,a),l=await ce(a,k),m=b$(f),n=b_(f),o="y"===b3(f),{width:p,height:q}=g.floating;"top"===m||"bottom"===m?(d=m,e=n===(await (null==h.isRTL?void 0:h.isRTL(i.floating))?"start":"end")?"left":"right"):(e=m,d="end"===n?"top":"bottom");let r=q-l.top-l.bottom,t=p-l.left-l.right,u=bS(q-l[d],r),v=bS(p-l[e],t),w=!a.middlewareData.shift,x=u,y=v;if(null!=(b=a.middlewareData.shift)&&b.enabled.x&&(y=t),null!=(c=a.middlewareData.shift)&&c.enabled.y&&(x=r),w&&!n){let a=bT(l.left,0),b=bT(l.right,0),c=bT(l.top,0),d=bT(l.bottom,0);o?y=p-2*(0!==a||0!==b?a+b:bT(l.left,l.right)):x=q-2*(0!==c||0!==d?c+d:bT(l.top,l.bottom))}await j({...a,availableWidth:y,availableHeight:x});let z=await h.getDimensions(i.floating);return p!==z.width||q!==z.height?{reset:{rects:!0}}:{}}},options:[q,r]},R&&{...{name:"arrow",options:v=t={element:R,padding:E},fn(a){let{element:b,padding:c}="function"==typeof v?v(a):v;return b&&({}).hasOwnProperty.call(b,"current")?null!=b.current?cT({element:b.current,padding:c}).fn(a):{}:b?cT({element:b,padding:c}).fn(a):{}}},options:[t,u]},de({arrowWidth:U,arrowHeight:W}),J&&{...{name:"hide",options:y=w={strategy:"referenceHidden",...$},async fn(a){let{rects:b}=a,{strategy:c="referenceHidden",...d}=bZ(y,a);switch(c){case"referenceHidden":{let c=cf(await ce(a,{...d,elementContext:"reference"}),b.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:cg(c)}}}case"escaped":{let c=cf(await ce(a,{...d,altBoundary:!0}),b.floating);return{data:{escapedOffsets:c,escaped:cg(c)}}}default:return{}}}},options:[w,x]}]}),[ae,af]=df(ab),ag=a5(L);a6(()=>{ac&&ag?.()},[ac,ag]);let ah=ad.arrow?.x,ai=ad.arrow?.y,aj=ad.arrow?.centerOffset!==0,[ak,al]=m.useState();return a6(()=>{O&&al(window.getComputedStyle(O).zIndex)},[O]),(0,l.jsx)("div",{ref:_.setFloating,"data-radix-popper-content-wrapper":"",style:{...aa,transform:ac?aa.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ak,"--radix-popper-transform-origin":[ad.transformOrigin?.x,ad.transformOrigin?.y].join(" "),...ad.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:a.dir,children:(0,l.jsx)(c7,{scope:z,placedSide:ae,onArrowChange:S,arrowX:ah,arrowY:ai,shouldHideArrow:aj,children:(0,l.jsx)(a8.div,{"data-side":ae,"data-align":af,...M,ref:Q,style:{...M.style,animation:ac?void 0:"none"}})})})});c9.displayName=c6;var da="PopperArrow",db={top:"bottom",right:"left",bottom:"top",left:"right"},dc=m.forwardRef(function(a,b){let{__scopePopper:c,...d}=a,e=c8(da,c),f=db[e.placedSide];return(0,l.jsx)("span",{ref:e.onArrowChange,style:{position:"absolute",left:e.arrowX,top:e.arrowY,[f]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[e.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[e.placedSide],visibility:e.shouldHideArrow?"hidden":void 0},children:(0,l.jsx)(cY,{...d,ref:b,style:{...d.style,display:"block"}})})});function dd(a){return null!==a}dc.displayName=da;var de=a=>({name:"transformOrigin",options:a,fn(b){let{placement:c,rects:d,middlewareData:e}=b,f=e.arrow?.centerOffset!==0,g=f?0:a.arrowWidth,h=f?0:a.arrowHeight,[i,j]=df(c),k={start:"0%",center:"50%",end:"100%"}[j],l=(e.arrow?.x??0)+g/2,m=(e.arrow?.y??0)+h/2,n="",o="";return"bottom"===i?(n=f?k:`${l}px`,o=`${-h}px`):"top"===i?(n=f?k:`${l}px`,o=`${d.floating.height+h}px`):"right"===i?(n=`${-h}px`,o=f?k:`${m}px`):"left"===i&&(n=`${d.floating.width+h}px`,o=f?k:`${m}px`),{data:{x:n,y:o}}}});function df(a){let[b,c="center"]=a.split("-");return[b,c]}var dg=m.forwardRef((a,b)=>{let{container:c,...d}=a,[e,f]=m.useState(!1);a6(()=>f(!0),[]);let g=c||e&&globalThis?.document?.body;return g?a7.default.createPortal((0,l.jsx)(a8.div,{...d,ref:b}),g):null});dg.displayName="Portal";var dh=a=>{var b;let c,d,{present:e,children:f}=a,g=function(a){var b,c;let[d,e]=m.useState(),f=m.useRef(null),g=m.useRef(a),h=m.useRef("none"),[i,j]=(b=a?"mounted":"unmounted",c={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},m.useReducer((a,b)=>c[a][b]??a,b));return m.useEffect(()=>{let a=di(f.current);h.current="mounted"===i?a:"none"},[i]),a6(()=>{let b=f.current,c=g.current;if(c!==a){let d=h.current,e=di(b);a?j("MOUNT"):"none"===e||b?.display==="none"?j("UNMOUNT"):c&&d!==e?j("ANIMATION_OUT"):j("UNMOUNT"),g.current=a}},[a,j]),a6(()=>{if(d){let a,b=d.ownerDocument.defaultView??window,c=c=>{let e=di(f.current).includes(c.animationName);if(c.target===d&&e&&(j("ANIMATION_END"),!g.current)){let c=d.style.animationFillMode;d.style.animationFillMode="forwards",a=b.setTimeout(()=>{"forwards"===d.style.animationFillMode&&(d.style.animationFillMode=c)})}},e=a=>{a.target===d&&(h.current=di(f.current))};return d.addEventListener("animationstart",e),d.addEventListener("animationcancel",c),d.addEventListener("animationend",c),()=>{b.clearTimeout(a),d.removeEventListener("animationstart",e),d.removeEventListener("animationcancel",c),d.removeEventListener("animationend",c)}}j("ANIMATION_END")},[d,j]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:m.useCallback(a=>{f.current=a?getComputedStyle(a):null,e(a)},[])}}(e),h="function"==typeof f?f({present:g.isPresent}):m.Children.only(f),i=V(g.ref,(b=h,(d=(c=Object.getOwnPropertyDescriptor(b.props,"ref")?.get)&&"isReactWarning"in c&&c.isReactWarning)?b.ref:(d=(c=Object.getOwnPropertyDescriptor(b,"ref")?.get)&&"isReactWarning"in c&&c.isReactWarning)?b.props.ref:b.props.ref||b.ref));return"function"==typeof f||g.isPresent?m.cloneElement(h,{ref:i}):null};function di(a){return a?.animationName||"none"}dh.displayName="Presence";var dj="rovingFocusGroup.onEntryFocus",dk={bubbles:!1,cancelable:!0},dl="RovingFocusGroup",[dm,dn,dp]=br(dl),[dq,dr]=a4(dl,[dp]),[ds,dt]=dq(dl),du=m.forwardRef((a,b)=>(0,l.jsx)(dm.Provider,{scope:a.__scopeRovingFocusGroup,children:(0,l.jsx)(dm.Slot,{scope:a.__scopeRovingFocusGroup,children:(0,l.jsx)(dv,{...a,ref:b})})}));du.displayName=dl;var dv=m.forwardRef((a,b)=>{let{__scopeRovingFocusGroup:c,orientation:d,loop:e=!1,dir:f,currentTabStopId:g,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:i,onEntryFocus:j,preventScrollOnEntryFocus:k=!1,...n}=a,o=m.useRef(null),p=V(b,o),q=bw(f),[r,s]=bq({prop:g,defaultProp:h??null,onChange:i,caller:dl}),[t,u]=m.useState(!1),v=a5(j),w=dn(c),x=m.useRef(!1),[y,z]=m.useState(0);return m.useEffect(()=>{let a=o.current;if(a)return a.addEventListener(dj,v),()=>a.removeEventListener(dj,v)},[v]),(0,l.jsx)(ds,{scope:c,orientation:d,dir:q,loop:e,currentTabStopId:r,onItemFocus:m.useCallback(a=>s(a),[s]),onItemShiftTab:m.useCallback(()=>u(!0),[]),onFocusableItemAdd:m.useCallback(()=>z(a=>a+1),[]),onFocusableItemRemove:m.useCallback(()=>z(a=>a-1),[]),children:(0,l.jsx)(a8.div,{tabIndex:t||0===y?-1:0,"data-orientation":d,...n,ref:p,style:{outline:"none",...a.style},onMouseDown:bo(a.onMouseDown,()=>{x.current=!0}),onFocus:bo(a.onFocus,a=>{let b=!x.current;if(a.target===a.currentTarget&&b&&!t){let b=new CustomEvent(dj,dk);if(a.currentTarget.dispatchEvent(b),!b.defaultPrevented){let a=w().filter(a=>a.focusable);dz([a.find(a=>a.active),a.find(a=>a.id===r),...a].filter(Boolean).map(a=>a.ref.current),k)}}x.current=!1}),onBlur:bo(a.onBlur,()=>u(!1))})})}),dw="RovingFocusGroupItem",dx=m.forwardRef((a,b)=>{let{__scopeRovingFocusGroup:c,focusable:d=!0,active:e=!1,tabStopId:f,children:g,...h}=a,i=bQ(),j=f||i,k=dt(dw,c),n=k.currentTabStopId===j,o=dn(c),{onFocusableItemAdd:p,onFocusableItemRemove:q,currentTabStopId:r}=k;return m.useEffect(()=>{if(d)return p(),()=>q()},[d,p,q]),(0,l.jsx)(dm.ItemSlot,{scope:c,id:j,focusable:d,active:e,children:(0,l.jsx)(a8.span,{tabIndex:n?0:-1,"data-orientation":k.orientation,...h,ref:b,onMouseDown:bo(a.onMouseDown,a=>{d?k.onItemFocus(j):a.preventDefault()}),onFocus:bo(a.onFocus,()=>k.onItemFocus(j)),onKeyDown:bo(a.onKeyDown,a=>{if("Tab"===a.key&&a.shiftKey)return void k.onItemShiftTab();if(a.target!==a.currentTarget)return;let b=function(a,b,c){var d;let e=(d=a.key,"rtl"!==c?d:"ArrowLeft"===d?"ArrowRight":"ArrowRight"===d?"ArrowLeft":d);if(!("vertical"===b&&["ArrowLeft","ArrowRight"].includes(e))&&!("horizontal"===b&&["ArrowUp","ArrowDown"].includes(e)))return dy[e]}(a,k.orientation,k.dir);if(void 0!==b){if(a.metaKey||a.ctrlKey||a.altKey||a.shiftKey)return;a.preventDefault();let e=o().filter(a=>a.focusable).map(a=>a.ref.current);if("last"===b)e.reverse();else if("prev"===b||"next"===b){var c,d;"prev"===b&&e.reverse();let f=e.indexOf(a.currentTarget);e=k.loop?(c=e,d=f+1,c.map((a,b)=>c[(d+b)%c.length])):e.slice(f+1)}setTimeout(()=>dz(e))}}),children:"function"==typeof g?g({isCurrentTabStop:n,hasTabStop:null!=r}):g})})});dx.displayName=dw;var dy={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function dz(a,b=!1){let c=document.activeElement;for(let d of a)if(d===c||(d.focus({preventScroll:b}),document.activeElement!==c))return}var dA=new WeakMap,dB=new WeakMap,dC={},dD=0,dE=function(a){return a&&(a.host||dE(a.parentNode))},dF=function(a,b,c,d){var e=(Array.isArray(a)?a:[a]).map(function(a){if(b.contains(a))return a;var c=dE(a);return c&&b.contains(c)?c:(console.error("aria-hidden",a,"in not contained inside",b,". Doing nothing"),null)}).filter(function(a){return!!a});dC[c]||(dC[c]=new WeakMap);var f=dC[c],g=[],h=new Set,i=new Set(e),j=function(a){!a||h.has(a)||(h.add(a),j(a.parentNode))};e.forEach(j);var k=function(a){!a||i.has(a)||Array.prototype.forEach.call(a.children,function(a){if(h.has(a))k(a);else try{var b=a.getAttribute(d),e=null!==b&&"false"!==b,i=(dA.get(a)||0)+1,j=(f.get(a)||0)+1;dA.set(a,i),f.set(a,j),g.push(a),1===i&&e&&dB.set(a,!0),1===j&&a.setAttribute(c,"true"),e||a.setAttribute(d,"true")}catch(b){console.error("aria-hidden: cannot operate on ",a,b)}})};return k(b),h.clear(),dD++,function(){g.forEach(function(a){var b=dA.get(a)-1,e=f.get(a)-1;dA.set(a,b),f.set(a,e),b||(dB.has(a)||a.removeAttribute(d),dB.delete(a)),e||a.removeAttribute(c)}),--dD||(dA=new WeakMap,dA=new WeakMap,dB=new WeakMap,dC={})}},dG=function(a,b,c){void 0===c&&(c="data-aria-hidden");var d=Array.from(Array.isArray(a)?a:[a]),e=b||("u"<typeof document?null:(Array.isArray(a)?a[0]:a).ownerDocument.body);return e?(d.push.apply(d,Array.from(e.querySelectorAll("[aria-live], script"))),dF(d,e,c,"aria-hidden")):function(){return null}},dH=function(){return(dH=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function dI(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}var dJ=("function"==typeof SuppressedError&&SuppressedError,"right-scroll-bar-position"),dK="width-before-scroll-bar";function dL(a,b){return"function"==typeof a?a(b):a&&(a.current=b),a}var dM=m.useEffect,dN=new WeakMap,dO=(void 0===wP&&(wP={}),(void 0===wQ&&(wQ=function(a){return a}),wR=[],wS=!1,wT={read:function(){if(wS)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return wR.length?wR[wR.length-1]:null},useMedium:function(a){var b=wQ(a,wS);return wR.push(b),function(){wR=wR.filter(function(a){return a!==b})}},assignSyncMedium:function(a){for(wS=!0;wR.length;){var b=wR;wR=[],b.forEach(a)}wR={push:function(b){return a(b)},filter:function(){return wR}}},assignMedium:function(a){wS=!0;var b=[];if(wR.length){var c=wR;wR=[],c.forEach(a),b=wR}var d=function(){var c=b;b=[],c.forEach(a)},e=function(){return Promise.resolve().then(d)};e(),wR={push:function(a){b.push(a),e()},filter:function(a){return b=b.filter(a),wR}}}}).options=dH({async:!0,ssr:!1},wP),wT),dP=function(){},dQ=m.forwardRef(function(a,b){var c,d,e,f,g=m.useRef(null),h=m.useState({onScrollCapture:dP,onWheelCapture:dP,onTouchMoveCapture:dP}),i=h[0],j=h[1],k=a.forwardProps,l=a.children,n=a.className,o=a.removeScrollBar,p=a.enabled,q=a.shards,r=a.sideCar,s=a.noRelative,t=a.noIsolation,u=a.inert,v=a.allowPinchZoom,w=a.as,x=a.gapMode,y=dI(a,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=(c=[g,b],d=function(a){return c.forEach(function(b){return dL(b,a)})},(e=(0,m.useState)(function(){return{value:null,callback:d,facade:{get current(){return e.value},set current(value){var a=e.value;a!==value&&(e.value=value,e.callback(value,a))}}}})[0]).callback=d,f=e.facade,dM(function(){var a=dN.get(f);if(a){var b=new Set(a),d=new Set(c),e=f.current;b.forEach(function(a){d.has(a)||dL(a,null)}),d.forEach(function(a){b.has(a)||dL(a,e)})}dN.set(f,c)},[c]),f),A=dH(dH({},y),i);return m.createElement(m.Fragment,null,p&&m.createElement(r,{sideCar:dO,removeScrollBar:o,shards:q,noRelative:s,noIsolation:t,inert:u,setCallbacks:j,allowPinchZoom:!!v,lockRef:g,gapMode:x}),k?m.cloneElement(m.Children.only(l),dH(dH({},A),{ref:z})):m.createElement(void 0===w?"div":w,dH({},A,{className:n,ref:z}),l))});dQ.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},dQ.classNames={fullWidth:dK,zeroRight:dJ};var dR=function(a){var b=a.sideCar,c=dI(a,["sideCar"]);if(!b)throw Error("Sidecar: please provide `sideCar` property to import the right car");var d=b.read();if(!d)throw Error("Sidecar medium not found");return m.createElement(d,dH({},c))};dR.isSideCarExport=!0;var dS=function(){var a=0,b=null;return{add:function(c){if(0==a&&(b=function(){if(!document)return null;var a=document.createElement("style");a.type="text/css";var b=w2||("u">typeof __webpack_nonce__?__webpack_nonce__:void 0);return b&&a.setAttribute("nonce",b),a}())){var d,e;(d=b).styleSheet?d.styleSheet.cssText=c:d.appendChild(document.createTextNode(c)),e=b,(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}a++},remove:function(){--a||!b||(b.parentNode&&b.parentNode.removeChild(b),b=null)}}},dT=function(){var a=dS();return function(b,c){m.useEffect(function(){return a.add(b),function(){a.remove()}},[b&&c])}},dU=function(){var a=dT();return function(b){return a(b.styles,b.dynamic),null}},dV={left:0,top:0,right:0,gap:0},dW=dU(),dX="data-scroll-locked",dY=function(a,b,c,d){var e=a.left,f=a.top,g=a.right,h=a.gap;return void 0===c&&(c="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(d,";\n   padding-right: ").concat(h,"px ").concat(d,";\n  }\n  body[").concat(dX,"] {\n    overflow: hidden ").concat(d,";\n    overscroll-behavior: contain;\n    ").concat([b&&"position: relative ".concat(d,";"),"margin"===c&&"\n    padding-left: ".concat(e,"px;\n    padding-top: ").concat(f,"px;\n    padding-right: ").concat(g,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(h,"px ").concat(d,";\n    "),"padding"===c&&"padding-right: ".concat(h,"px ").concat(d,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(dJ," {\n    right: ").concat(h,"px ").concat(d,";\n  }\n  \n  .").concat(dK," {\n    margin-right: ").concat(h,"px ").concat(d,";\n  }\n  \n  .").concat(dJ," .").concat(dJ," {\n    right: 0 ").concat(d,";\n  }\n  \n  .").concat(dK," .").concat(dK," {\n    margin-right: 0 ").concat(d,";\n  }\n  \n  body[").concat(dX,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(h,"px;\n  }\n")},dZ=function(){var a=parseInt(document.body.getAttribute(dX)||"0",10);return isFinite(a)?a:0},d$=function(){m.useEffect(function(){return document.body.setAttribute(dX,(dZ()+1).toString()),function(){var a=dZ()-1;a<=0?document.body.removeAttribute(dX):document.body.setAttribute(dX,a.toString())}},[])},d_=function(a){var b=a.noRelative,c=a.noImportant,d=a.gapMode,e=void 0===d?"margin":d;d$();var f=m.useMemo(function(){return void 0===e,dV},[e]);return m.createElement(dW,{styles:dY(f,!b,e,c?"":"!important")})},d0=function(a,b){if(!(a instanceof Element))return!1;var c=window.getComputedStyle(a);return"hidden"!==c[b]&&(c.overflowY!==c.overflowX||"TEXTAREA"===a.tagName||"visible"!==c[b])},d1=function(a,b){var c=b.ownerDocument,d=b;do{if("u">typeof ShadowRoot&&d instanceof ShadowRoot&&(d=d.host),d2(a,d)){var e=d3(a,d);if(e[1]>e[2])return!0}d=d.parentNode}while(d&&d!==c.body)return!1},d2=function(a,b){return"v"===a?d0(b,"overflowY"):d0(b,"overflowX")},d3=function(a,b){return"v"===a?[b.scrollTop,b.scrollHeight,b.clientHeight]:[b.scrollLeft,b.scrollWidth,b.clientWidth]},d4=function(a,b,c,d,e){var f,g=(f=window.getComputedStyle(b).direction,"h"===a&&"rtl"===f?-1:1),h=g*d,i=c.target,j=b.contains(i),k=!1,l=h>0,m=0,n=0;do{if(!i)break;var o=d3(a,i),p=o[0],q=o[1]-o[2]-g*p;(p||q)&&d2(a,i)&&(m+=q,n+=p);var r=i.parentNode;i=r&&r.nodeType===Node.DOCUMENT_FRAGMENT_NODE?r.host:r}while(!j&&i!==document.body||j&&(b.contains(i)||b===i))return l&&(e&&1>Math.abs(m)||!e&&h>m)?k=!0:!l&&(e&&1>Math.abs(n)||!e&&-h>n)&&(k=!0),k},d5=function(a){return"changedTouches"in a?[a.changedTouches[0].clientX,a.changedTouches[0].clientY]:[0,0]},d6=function(a){return[a.deltaX,a.deltaY]},d7=function(a){return a&&"current"in a?a.current:a},d8=0,d9=[];let ea=(wU=function(a){var b=m.useRef([]),c=m.useRef([0,0]),d=m.useRef(),e=m.useState(d8++)[0],f=m.useState(dU)[0],g=m.useRef(a);m.useEffect(function(){g.current=a},[a]),m.useEffect(function(){if(a.inert){document.body.classList.add("block-interactivity-".concat(e));var b=(function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))})([a.lockRef.current],(a.shards||[]).map(d7),!0).filter(Boolean);return b.forEach(function(a){return a.classList.add("allow-interactivity-".concat(e))}),function(){document.body.classList.remove("block-interactivity-".concat(e)),b.forEach(function(a){return a.classList.remove("allow-interactivity-".concat(e))})}}},[a.inert,a.lockRef.current,a.shards]);var h=m.useCallback(function(a,b){if("touches"in a&&2===a.touches.length||"wheel"===a.type&&a.ctrlKey)return!g.current.allowPinchZoom;var e,f=d5(a),h=c.current,i="deltaX"in a?a.deltaX:h[0]-f[0],j="deltaY"in a?a.deltaY:h[1]-f[1],k=a.target,l=Math.abs(i)>Math.abs(j)?"h":"v";if("touches"in a&&"h"===l&&"range"===k.type)return!1;var m=d1(l,k);if(!m)return!0;if(m?e=l:(e="v"===l?"h":"v",m=d1(l,k)),!m)return!1;if(!d.current&&"changedTouches"in a&&(i||j)&&(d.current=e),!e)return!0;var n=d.current||e;return d4(n,b,a,"h"===n?i:j,!0)},[]),i=m.useCallback(function(a){if(d9.length&&d9[d9.length-1]===f){var c="deltaY"in a?d6(a):d5(a),d=b.current.filter(function(b){var d;return b.name===a.type&&(b.target===a.target||a.target===b.shadowParent)&&(d=b.delta,d[0]===c[0]&&d[1]===c[1])})[0];if(d&&d.should){a.cancelable&&a.preventDefault();return}if(!d){var e=(g.current.shards||[]).map(d7).filter(Boolean).filter(function(b){return b.contains(a.target)});(e.length>0?h(a,e[0]):!g.current.noIsolation)&&a.cancelable&&a.preventDefault()}}},[]),j=m.useCallback(function(a,c,d,e){var f={name:a,delta:c,target:d,should:e,shadowParent:function(a){for(var b=null;null!==a;)a instanceof ShadowRoot&&(b=a.host,a=a.host),a=a.parentNode;return b}(d)};b.current.push(f),setTimeout(function(){b.current=b.current.filter(function(a){return a!==f})},1)},[]),k=m.useCallback(function(a){c.current=d5(a),d.current=void 0},[]),l=m.useCallback(function(b){j(b.type,d6(b),b.target,h(b,a.lockRef.current))},[]),n=m.useCallback(function(b){j(b.type,d5(b),b.target,h(b,a.lockRef.current))},[]);m.useEffect(function(){return d9.push(f),a.setCallbacks({onScrollCapture:l,onWheelCapture:l,onTouchMoveCapture:n}),document.addEventListener("wheel",i,!1),document.addEventListener("touchmove",i,!1),document.addEventListener("touchstart",k,!1),function(){d9=d9.filter(function(a){return a!==f}),document.removeEventListener("wheel",i,!1),document.removeEventListener("touchmove",i,!1),document.removeEventListener("touchstart",k,!1)}},[]);var o=a.removeScrollBar,p=a.inert;return m.createElement(m.Fragment,null,p?m.createElement(f,{styles:"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")}):null,o?m.createElement(d_,{noRelative:a.noRelative,gapMode:a.gapMode}):null)},dO.useMedium(wU),dR);var eb=m.forwardRef(function(a,b){return m.createElement(dQ,dH({},a,{ref:b,sideCar:ea}))});eb.classNames=dQ.classNames;var ec=["Enter"," "],ed=["ArrowUp","PageDown","End"],ee=["ArrowDown","PageUp","Home",...ed],ef={ltr:[...ec,"ArrowRight"],rtl:[...ec,"ArrowLeft"]},eg={ltr:["ArrowLeft"],rtl:["ArrowRight"]},eh="Menu",[ei,ej,ek]=br(eh),[el,em]=a4(eh,[ek,c0,dr]),en=c0(),eo=dr(),[ep,eq]=el(eh),[er,es]=el(eh),et=a=>{let{__scopeMenu:b,open:c=!1,children:d,dir:e,onOpenChange:f,modal:g=!0}=a,h=en(b),[i,j]=m.useState(null),k=m.useRef(!1),n=a5(f),o=bw(e);return m.useEffect(()=>{let a=()=>{k.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>k.current=!1;return document.addEventListener("keydown",a,{capture:!0}),()=>{document.removeEventListener("keydown",a,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),(0,l.jsx)(c3,{...h,children:(0,l.jsx)(ep,{scope:b,open:c,onOpenChange:n,content:i,onContentChange:j,children:(0,l.jsx)(er,{scope:b,onClose:m.useCallback(()=>n(!1),[n]),isUsingKeyboardRef:k,dir:o,modal:g,children:d})})})};et.displayName=eh;var eu=m.forwardRef((a,b)=>{let{__scopeMenu:c,...d}=a,e=en(c);return(0,l.jsx)(c5,{...e,...d,ref:b})});eu.displayName="MenuAnchor";var ev="MenuPortal",[ew,ex]=el(ev,{forceMount:void 0}),ey=a=>{let{__scopeMenu:b,forceMount:c,children:d,container:e}=a,f=eq(ev,b);return(0,l.jsx)(ew,{scope:b,forceMount:c,children:(0,l.jsx)(dh,{present:c||f.open,children:(0,l.jsx)(dg,{asChild:!0,container:e,children:d})})})};ey.displayName=ev;var ez="MenuContent",[eA,eB]=el(ez),eC=m.forwardRef((a,b)=>{let c=ex(ez,a.__scopeMenu),{forceMount:d=c.forceMount,...e}=a,f=eq(ez,a.__scopeMenu),g=es(ez,a.__scopeMenu);return(0,l.jsx)(ei.Provider,{scope:a.__scopeMenu,children:(0,l.jsx)(dh,{present:d||f.open,children:(0,l.jsx)(ei.Slot,{scope:a.__scopeMenu,children:g.modal?(0,l.jsx)(eD,{...e,ref:b}):(0,l.jsx)(eE,{...e,ref:b})})})})}),eD=m.forwardRef((a,b)=>{let c=eq(ez,a.__scopeMenu),d=m.useRef(null),e=V(b,d);return m.useEffect(()=>{let a=d.current;if(a)return dG(a)},[]),(0,l.jsx)(eG,{...a,ref:e,trapFocus:c.open,disableOutsidePointerEvents:c.open,disableOutsideScroll:!0,onFocusOutside:bo(a.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>c.onOpenChange(!1)})}),eE=m.forwardRef((a,b)=>{let c=eq(ez,a.__scopeMenu);return(0,l.jsx)(eG,{...a,ref:b,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>c.onOpenChange(!1)})}),eF=W("MenuContent.ScrollLock"),eG=m.forwardRef((a,b)=>{let{__scopeMenu:c,loop:d=!1,trapFocus:e,onOpenAutoFocus:f,onCloseAutoFocus:g,disableOutsidePointerEvents:h,onEntryFocus:i,onEscapeKeyDown:j,onPointerDownOutside:k,onFocusOutside:n,onInteractOutside:o,onDismiss:p,disableOutsideScroll:q,...r}=a,s=eq(ez,c),t=es(ez,c),u=en(c),v=eo(c),w=ej(c),[x,y]=m.useState(null),z=m.useRef(null),A=V(b,z,s.onContentChange),B=m.useRef(0),C=m.useRef(""),D=m.useRef(0),E=m.useRef(null),F=m.useRef("right"),G=m.useRef(0),H=q?eb:m.Fragment;m.useEffect(()=>()=>window.clearTimeout(B.current),[]),bD();let I=m.useCallback(a=>{var b,c;return F.current===E.current?.side&&(b=a,!!(c=E.current?.area)&&function(a,b){let{x:c,y:d}=a,e=!1;for(let a=0,f=b.length-1;a<b.length;f=a++){let g=b[a],h=b[f],i=g.x,j=g.y,k=h.x,l=h.y;j>d!=l>d&&c<(k-i)*(d-j)/(l-j)+i&&(e=!e)}return e}({x:b.clientX,y:b.clientY},c))},[]);return(0,l.jsx)(eA,{scope:c,searchRef:C,onItemEnter:m.useCallback(a=>{I(a)&&a.preventDefault()},[I]),onItemLeave:m.useCallback(a=>{I(a)||(z.current?.focus(),y(null))},[I]),onTriggerLeave:m.useCallback(a=>{I(a)&&a.preventDefault()},[I]),pointerGraceTimerRef:D,onPointerGraceIntentChange:m.useCallback(a=>{E.current=a},[]),children:(0,l.jsx)(H,{...q?{as:eF,allowPinchZoom:!0}:void 0,children:(0,l.jsx)(bI,{asChild:!0,trapped:e,onMountAutoFocus:bo(f,a=>{a.preventDefault(),z.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:g,children:(0,l.jsx)(bz,{asChild:!0,disableOutsidePointerEvents:h,onEscapeKeyDown:j,onPointerDownOutside:k,onFocusOutside:n,onInteractOutside:o,onDismiss:p,children:(0,l.jsx)(du,{asChild:!0,...v,dir:t.dir,orientation:"vertical",loop:d,currentTabStopId:x,onCurrentTabStopIdChange:y,onEntryFocus:bo(i,a=>{t.isUsingKeyboardRef.current||a.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,l.jsx)(c9,{role:"menu","aria-orientation":"vertical","data-state":e4(s.open),"data-radix-menu-content":"",dir:t.dir,...u,...r,ref:A,style:{outline:"none",...r.style},onKeyDown:bo(r.onKeyDown,a=>{let b=a.target.closest("[data-radix-menu-content]")===a.currentTarget,c=a.ctrlKey||a.altKey||a.metaKey,d=1===a.key.length;if(b){var e;let b,f,g,h,i,j;"Tab"===a.key&&a.preventDefault(),!c&&d&&(e=a.key,b=C.current+e,f=w().filter(a=>!a.disabled),g=document.activeElement,h=f.find(a=>a.ref.current===g)?.textValue,i=function(a,b,c){var d;let e=b.length>1&&Array.from(b).every(a=>a===b[0])?b[0]:b,f=c?a.indexOf(c):-1,g=(d=Math.max(f,0),a.map((b,c)=>a[(d+c)%a.length]));1===e.length&&(g=g.filter(a=>a!==c));let h=g.find(a=>a.toLowerCase().startsWith(e.toLowerCase()));return h!==c?h:void 0}(f.map(a=>a.textValue),b,h),j=f.find(a=>a.textValue===i)?.ref.current,function a(b){C.current=b,window.clearTimeout(B.current),""!==b&&(B.current=window.setTimeout(()=>a(""),1e3))}(b),j&&setTimeout(()=>j.focus()))}let f=z.current;if(a.target!==f||!ee.includes(a.key))return;a.preventDefault();let g=w().filter(a=>!a.disabled).map(a=>a.ref.current);ed.includes(a.key)&&g.reverse(),function(a){let b=document.activeElement;for(let c of a)if(c===b||(c.focus(),document.activeElement!==b))return}(g)}),onBlur:bo(a.onBlur,a=>{a.currentTarget.contains(a.target)||(window.clearTimeout(B.current),C.current="")}),onPointerMove:bo(a.onPointerMove,e7(a=>{let b=a.target,c=G.current!==a.clientX;a.currentTarget.contains(b)&&c&&(F.current=a.clientX>G.current?"right":"left",G.current=a.clientX)}))})})})})})})});eC.displayName=ez;var eH=m.forwardRef((a,b)=>{let{__scopeMenu:c,...d}=a;return(0,l.jsx)(a8.div,{role:"group",...d,ref:b})});eH.displayName="MenuGroup";var eI=m.forwardRef((a,b)=>{let{__scopeMenu:c,...d}=a;return(0,l.jsx)(a8.div,{...d,ref:b})});eI.displayName="MenuLabel";var eJ="MenuItem",eK="menu.itemSelect",eL=m.forwardRef((a,b)=>{let{disabled:c=!1,onSelect:d,...e}=a,f=m.useRef(null),g=es(eJ,a.__scopeMenu),h=eB(eJ,a.__scopeMenu),i=V(b,f),j=m.useRef(!1);return(0,l.jsx)(eM,{...e,ref:i,disabled:c,onClick:bo(a.onClick,()=>{let a=f.current;if(!c&&a){let b=new CustomEvent(eK,{bubbles:!0,cancelable:!0});a.addEventListener(eK,a=>d?.(a),{once:!0}),a9(a,b),b.defaultPrevented?j.current=!1:g.onClose()}}),onPointerDown:b=>{a.onPointerDown?.(b),j.current=!0},onPointerUp:bo(a.onPointerUp,a=>{j.current||a.currentTarget?.click()}),onKeyDown:bo(a.onKeyDown,a=>{let b=""!==h.searchRef.current;c||b&&" "===a.key||ec.includes(a.key)&&(a.currentTarget.click(),a.preventDefault())})})});eL.displayName=eJ;var eM=m.forwardRef((a,b)=>{let{__scopeMenu:c,disabled:d=!1,textValue:e,...f}=a,g=eB(eJ,c),h=eo(c),i=m.useRef(null),j=V(b,i),[k,n]=m.useState(!1),[o,p]=m.useState("");return m.useEffect(()=>{let a=i.current;a&&p((a.textContent??"").trim())},[f.children]),(0,l.jsx)(ei.ItemSlot,{scope:c,disabled:d,textValue:e??o,children:(0,l.jsx)(dx,{asChild:!0,...h,focusable:!d,children:(0,l.jsx)(a8.div,{role:"menuitem","data-highlighted":k?"":void 0,"aria-disabled":d||void 0,"data-disabled":d?"":void 0,...f,ref:j,onPointerMove:bo(a.onPointerMove,e7(a=>{d?g.onItemLeave(a):(g.onItemEnter(a),a.defaultPrevented||a.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:bo(a.onPointerLeave,e7(a=>g.onItemLeave(a))),onFocus:bo(a.onFocus,()=>n(!0)),onBlur:bo(a.onBlur,()=>n(!1))})})})}),eN=m.forwardRef((a,b)=>{let{checked:c=!1,onCheckedChange:d,...e}=a;return(0,l.jsx)(eV,{scope:a.__scopeMenu,checked:c,children:(0,l.jsx)(eL,{role:"menuitemcheckbox","aria-checked":e5(c)?"mixed":c,...e,ref:b,"data-state":e6(c),onSelect:bo(e.onSelect,()=>d?.(!!e5(c)||!c),{checkForDefaultPrevented:!1})})})});eN.displayName="MenuCheckboxItem";var eO="MenuRadioGroup",[eP,eQ]=el(eO,{value:void 0,onValueChange:()=>{}}),eR=m.forwardRef((a,b)=>{let{value:c,onValueChange:d,...e}=a,f=a5(d);return(0,l.jsx)(eP,{scope:a.__scopeMenu,value:c,onValueChange:f,children:(0,l.jsx)(eH,{...e,ref:b})})});eR.displayName=eO;var eS="MenuRadioItem",eT=m.forwardRef((a,b)=>{let{value:c,...d}=a,e=eQ(eS,a.__scopeMenu),f=c===e.value;return(0,l.jsx)(eV,{scope:a.__scopeMenu,checked:f,children:(0,l.jsx)(eL,{role:"menuitemradio","aria-checked":f,...d,ref:b,"data-state":e6(f),onSelect:bo(d.onSelect,()=>e.onValueChange?.(c),{checkForDefaultPrevented:!1})})})});eT.displayName=eS;var eU="MenuItemIndicator",[eV,eW]=el(eU,{checked:!1}),eX=m.forwardRef((a,b)=>{let{__scopeMenu:c,forceMount:d,...e}=a,f=eW(eU,c);return(0,l.jsx)(dh,{present:d||e5(f.checked)||!0===f.checked,children:(0,l.jsx)(a8.span,{...e,ref:b,"data-state":e6(f.checked)})})});eX.displayName=eU;var eY=m.forwardRef((a,b)=>{let{__scopeMenu:c,...d}=a;return(0,l.jsx)(a8.div,{role:"separator","aria-orientation":"horizontal",...d,ref:b})});eY.displayName="MenuSeparator";var eZ=m.forwardRef((a,b)=>{let{__scopeMenu:c,...d}=a,e=en(c);return(0,l.jsx)(dc,{...e,...d,ref:b})});eZ.displayName="MenuArrow";var[e$,e_]=el("MenuSub"),e0="MenuSubTrigger",e1=m.forwardRef((a,b)=>{let c=eq(e0,a.__scopeMenu),d=es(e0,a.__scopeMenu),e=e_(e0,a.__scopeMenu),f=eB(e0,a.__scopeMenu),g=m.useRef(null),{pointerGraceTimerRef:h,onPointerGraceIntentChange:i}=f,j={__scopeMenu:a.__scopeMenu},k=m.useCallback(()=>{g.current&&window.clearTimeout(g.current),g.current=null},[]);return m.useEffect(()=>k,[k]),m.useEffect(()=>{let a=h.current;return()=>{window.clearTimeout(a),i(null)}},[h,i]),(0,l.jsx)(eu,{asChild:!0,...j,children:(0,l.jsx)(eM,{id:e.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":e.contentId,"data-state":e4(c.open),...a,ref:U(b,e.onTriggerChange),onClick:b=>{a.onClick?.(b),a.disabled||b.defaultPrevented||(b.currentTarget.focus(),c.open||c.onOpenChange(!0))},onPointerMove:bo(a.onPointerMove,e7(b=>{f.onItemEnter(b),!b.defaultPrevented&&(a.disabled||c.open||g.current||(f.onPointerGraceIntentChange(null),g.current=window.setTimeout(()=>{c.onOpenChange(!0),k()},100)))})),onPointerLeave:bo(a.onPointerLeave,e7(a=>{k();let b=c.content?.getBoundingClientRect();if(b){let d=c.content?.dataset.side,e="right"===d,g=b[e?"left":"right"],i=b[e?"right":"left"];f.onPointerGraceIntentChange({area:[{x:a.clientX+(e?-5:5),y:a.clientY},{x:g,y:b.top},{x:i,y:b.top},{x:i,y:b.bottom},{x:g,y:b.bottom}],side:d}),window.clearTimeout(h.current),h.current=window.setTimeout(()=>f.onPointerGraceIntentChange(null),300)}else{if(f.onTriggerLeave(a),a.defaultPrevented)return;f.onPointerGraceIntentChange(null)}})),onKeyDown:bo(a.onKeyDown,b=>{let e=""!==f.searchRef.current;a.disabled||e&&" "===b.key||ef[d.dir].includes(b.key)&&(c.onOpenChange(!0),c.content?.focus(),b.preventDefault())})})})});e1.displayName=e0;var e2="MenuSubContent",e3=m.forwardRef((a,b)=>{let c=ex(ez,a.__scopeMenu),{forceMount:d=c.forceMount,...e}=a,f=eq(ez,a.__scopeMenu),g=es(ez,a.__scopeMenu),h=e_(e2,a.__scopeMenu),i=m.useRef(null),j=V(b,i);return(0,l.jsx)(ei.Provider,{scope:a.__scopeMenu,children:(0,l.jsx)(dh,{present:d||f.open,children:(0,l.jsx)(ei.Slot,{scope:a.__scopeMenu,children:(0,l.jsx)(eG,{id:h.contentId,"aria-labelledby":h.triggerId,...e,ref:j,align:"start",side:"rtl"===g.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:a=>{g.isUsingKeyboardRef.current&&i.current?.focus(),a.preventDefault()},onCloseAutoFocus:a=>a.preventDefault(),onFocusOutside:bo(a.onFocusOutside,a=>{a.target!==h.trigger&&f.onOpenChange(!1)}),onEscapeKeyDown:bo(a.onEscapeKeyDown,a=>{g.onClose(),a.preventDefault()}),onKeyDown:bo(a.onKeyDown,a=>{let b=a.currentTarget.contains(a.target),c=eg[g.dir].includes(a.key);b&&c&&(f.onOpenChange(!1),h.trigger?.focus(),a.preventDefault())})})})})})});function e4(a){return a?"open":"closed"}function e5(a){return"indeterminate"===a}function e6(a){return e5(a)?"indeterminate":a?"checked":"unchecked"}function e7(a){return b=>"mouse"===b.pointerType?a(b):void 0}e3.displayName=e2;var e8="DropdownMenu",[e9,fa]=a4(e8,[em]),fb=em(),[fc,fd]=e9(e8),fe=a=>{let{__scopeDropdownMenu:b,children:c,dir:d,open:e,defaultOpen:f,onOpenChange:g,modal:h=!0}=a,i=fb(b),j=m.useRef(null),[k,n]=bq({prop:e,defaultProp:f??!1,onChange:g,caller:e8});return(0,l.jsx)(fc,{scope:b,triggerId:bQ(),triggerRef:j,contentId:bQ(),open:k,onOpenChange:n,onOpenToggle:m.useCallback(()=>n(a=>!a),[n]),modal:h,children:(0,l.jsx)(et,{...i,open:k,onOpenChange:n,dir:d,modal:h,children:c})})};fe.displayName=e8;var ff="DropdownMenuTrigger",fg=m.forwardRef((a,b)=>{let{__scopeDropdownMenu:c,disabled:d=!1,...e}=a,f=fd(ff,c),g=fb(c);return(0,l.jsx)(eu,{asChild:!0,...g,children:(0,l.jsx)(a8.button,{type:"button",id:f.triggerId,"aria-haspopup":"menu","aria-expanded":f.open,"aria-controls":f.open?f.contentId:void 0,"data-state":f.open?"open":"closed","data-disabled":d?"":void 0,disabled:d,...e,ref:U(b,f.triggerRef),onPointerDown:bo(a.onPointerDown,a=>{!d&&0===a.button&&!1===a.ctrlKey&&(f.onOpenToggle(),f.open||a.preventDefault())}),onKeyDown:bo(a.onKeyDown,a=>{!d&&(["Enter"," "].includes(a.key)&&f.onOpenToggle(),"ArrowDown"===a.key&&f.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});fg.displayName=ff;var fh=a=>{let{__scopeDropdownMenu:b,...c}=a,d=fb(b);return(0,l.jsx)(ey,{...d,...c})};fh.displayName="DropdownMenuPortal";var fi="DropdownMenuContent",fj=m.forwardRef((a,b)=>{let{__scopeDropdownMenu:c,...d}=a,e=fd(fi,c),f=fb(c),g=m.useRef(!1);return(0,l.jsx)(eC,{id:e.contentId,"aria-labelledby":e.triggerId,...f,...d,ref:b,onCloseAutoFocus:bo(a.onCloseAutoFocus,a=>{g.current||e.triggerRef.current?.focus(),g.current=!1,a.preventDefault()}),onInteractOutside:bo(a.onInteractOutside,a=>{let b=a.detail.originalEvent,c=0===b.button&&!0===b.ctrlKey,d=2===b.button||c;(!e.modal||d)&&(g.current=!0)}),style:{...a.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fj.displayName=fi,m.forwardRef((a,b)=>{let{__scopeDropdownMenu:c,...d}=a,e=fb(c);return(0,l.jsx)(eH,{...e,...d,ref:b})}).displayName="DropdownMenuGroup",m.forwardRef((a,b)=>{let{__scopeDropdownMenu:c,...d}=a,e=fb(c);return(0,l.jsx)(eI,{...e,...d,ref:b})}).displayName="DropdownMenuLabel";var fk=m.forwardRef((a,b)=>{let{__scopeDropdownMenu:c,...d}=a,e=fb(c);return(0,l.jsx)(eL,{...e,...d,ref:b})});fk.displayName="DropdownMenuItem",m.forwardRef((a,b)=>{let{__scopeDropdownMenu:c,...d}=a,e=fb(c);return(0,l.jsx)(eN,{...e,...d,ref:b})}).displayName="DropdownMenuCheckboxItem",m.forwardRef((a,b)=>{let{__scopeDropdownMenu:c,...d}=a,e=fb(c);return(0,l.jsx)(eR,{...e,...d,ref:b})}).displayName="DropdownMenuRadioGroup",m.forwardRef((a,b)=>{let{__scopeDropdownMenu:c,...d}=a,e=fb(c);return(0,l.jsx)(eT,{...e,...d,ref:b})}).displayName="DropdownMenuRadioItem",m.forwardRef((a,b)=>{let{__scopeDropdownMenu:c,...d}=a,e=fb(c);return(0,l.jsx)(eX,{...e,...d,ref:b})}).displayName="DropdownMenuItemIndicator";var fl=m.forwardRef((a,b)=>{let{__scopeDropdownMenu:c,...d}=a,e=fb(c);return(0,l.jsx)(eY,{...e,...d,ref:b})});fl.displayName="DropdownMenuSeparator",m.forwardRef((a,b)=>{let{__scopeDropdownMenu:c,...d}=a,e=fb(c);return(0,l.jsx)(eZ,{...e,...d,ref:b})}).displayName="DropdownMenuArrow",m.forwardRef((a,b)=>{let{__scopeDropdownMenu:c,...d}=a,e=fb(c);return(0,l.jsx)(e1,{...e,...d,ref:b})}).displayName="DropdownMenuSubTrigger",m.forwardRef((a,b)=>{let{__scopeDropdownMenu:c,...d}=a,e=fb(c);return(0,l.jsx)(e3,{...e,...d,ref:b,style:{...a.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})}).displayName="DropdownMenuSubContent";let fm=s("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),fn=s("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),fo=s("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function fp({...a}){return(0,l.jsx)(fe,{"data-slot":"dropdown-menu",...a})}function fq({...a}){return(0,l.jsx)(fg,{"data-slot":"dropdown-menu-trigger",...a})}function fr({className:a,sideOffset:b=4,...c}){return(0,l.jsx)(fh,{children:(0,l.jsx)(fj,{"data-slot":"dropdown-menu-content",sideOffset:b,className:a0("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",a),...c})})}function fs({className:a,inset:b,variant:c="default",...d}){return(0,l.jsx)(fk,{"data-slot":"dropdown-menu-item","data-inset":b,"data-variant":c,className:a0("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...d})}function ft({className:a,...b}){return(0,l.jsx)(fl,{"data-slot":"dropdown-menu-separator",className:a0("bg-border -mx-1 my-1 h-px",a),...b})}var fu="Dialog",[fv,fw]=a4(fu),[fx,fy]=fv(fu),fz=a=>{let{__scopeDialog:b,children:c,open:d,defaultOpen:e,onOpenChange:f,modal:g=!0}=a,h=m.useRef(null),i=m.useRef(null),[j,k]=bq({prop:d,defaultProp:e??!1,onChange:f,caller:fu});return(0,l.jsx)(fx,{scope:b,triggerRef:h,contentRef:i,contentId:bQ(),titleId:bQ(),descriptionId:bQ(),open:j,onOpenChange:k,onOpenToggle:m.useCallback(()=>k(a=>!a),[k]),modal:g,children:c})};fz.displayName=fu;var fA="DialogTrigger",fB=m.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=fy(fA,c),f=V(b,e.triggerRef);return(0,l.jsx)(a8.button,{type:"button","aria-haspopup":"dialog","aria-expanded":e.open,"aria-controls":e.contentId,"data-state":fV(e.open),...d,ref:f,onClick:bo(a.onClick,e.onOpenToggle)})});fB.displayName=fA;var fC="DialogPortal",[fD,fE]=fv(fC,{forceMount:void 0}),fF=a=>{let{__scopeDialog:b,forceMount:c,children:d,container:e}=a,f=fy(fC,b);return(0,l.jsx)(fD,{scope:b,forceMount:c,children:m.Children.map(d,a=>(0,l.jsx)(dh,{present:c||f.open,children:(0,l.jsx)(dg,{asChild:!0,container:e,children:a})}))})};fF.displayName=fC;var fG="DialogOverlay",fH=m.forwardRef((a,b)=>{let c=fE(fG,a.__scopeDialog),{forceMount:d=c.forceMount,...e}=a,f=fy(fG,a.__scopeDialog);return f.modal?(0,l.jsx)(dh,{present:d||f.open,children:(0,l.jsx)(fJ,{...e,ref:b})}):null});fH.displayName=fG;var fI=W("DialogOverlay.RemoveScroll"),fJ=m.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=fy(fG,c);return(0,l.jsx)(eb,{as:fI,allowPinchZoom:!0,shards:[e.contentRef],children:(0,l.jsx)(a8.div,{"data-state":fV(e.open),...d,ref:b,style:{pointerEvents:"auto",...d.style}})})}),fK="DialogContent",fL=m.forwardRef((a,b)=>{let c=fE(fK,a.__scopeDialog),{forceMount:d=c.forceMount,...e}=a,f=fy(fK,a.__scopeDialog);return(0,l.jsx)(dh,{present:d||f.open,children:f.modal?(0,l.jsx)(fM,{...e,ref:b}):(0,l.jsx)(fN,{...e,ref:b})})});fL.displayName=fK;var fM=m.forwardRef((a,b)=>{let c=fy(fK,a.__scopeDialog),d=m.useRef(null),e=V(b,c.contentRef,d);return m.useEffect(()=>{let a=d.current;if(a)return dG(a)},[]),(0,l.jsx)(fO,{...a,ref:e,trapFocus:c.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:bo(a.onCloseAutoFocus,a=>{a.preventDefault(),c.triggerRef.current?.focus()}),onPointerDownOutside:bo(a.onPointerDownOutside,a=>{let b=a.detail.originalEvent,c=0===b.button&&!0===b.ctrlKey;(2===b.button||c)&&a.preventDefault()}),onFocusOutside:bo(a.onFocusOutside,a=>a.preventDefault())})}),fN=m.forwardRef((a,b)=>{let c=fy(fK,a.__scopeDialog),d=m.useRef(!1),e=m.useRef(!1);return(0,l.jsx)(fO,{...a,ref:b,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:b=>{a.onCloseAutoFocus?.(b),b.defaultPrevented||(d.current||c.triggerRef.current?.focus(),b.preventDefault()),d.current=!1,e.current=!1},onInteractOutside:b=>{a.onInteractOutside?.(b),b.defaultPrevented||(d.current=!0,"pointerdown"===b.detail.originalEvent.type&&(e.current=!0));let f=b.target;c.triggerRef.current?.contains(f)&&b.preventDefault(),"focusin"===b.detail.originalEvent.type&&e.current&&b.preventDefault()}})}),fO=m.forwardRef((a,b)=>{let{__scopeDialog:c,trapFocus:d,onOpenAutoFocus:e,onCloseAutoFocus:f,...g}=a,h=fy(fK,c),i=m.useRef(null),j=V(b,i);return bD(),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(bI,{asChild:!0,loop:!0,trapped:d,onMountAutoFocus:e,onUnmountAutoFocus:f,children:(0,l.jsx)(bz,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":fV(h.open),...g,ref:j,onDismiss:()=>h.onOpenChange(!1)})}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(fZ,{titleId:h.titleId}),(0,l.jsx)(f$,{contentRef:i,descriptionId:h.descriptionId})]})]})}),fP="DialogTitle",fQ=m.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=fy(fP,c);return(0,l.jsx)(a8.h2,{id:e.titleId,...d,ref:b})});fQ.displayName=fP;var fR="DialogDescription",fS=m.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=fy(fR,c);return(0,l.jsx)(a8.p,{id:e.descriptionId,...d,ref:b})});fS.displayName=fR;var fT="DialogClose",fU=m.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=fy(fT,c);return(0,l.jsx)(a8.button,{type:"button",...d,ref:b,onClick:bo(a.onClick,()=>e.onOpenChange(!1))})});function fV(a){return a?"open":"closed"}fU.displayName=fT;var fW="DialogTitleWarning",[fX,fY]=(wV={contentName:fK,titleName:fP,docsSlug:"dialog"},b=m.createContext(wV),(c=a=>{let{children:c,...d}=a,e=m.useMemo(()=>d,Object.values(d));return(0,l.jsx)(b.Provider,{value:e,children:c})}).displayName=fW+"Provider",[c,function(a){let c=m.useContext(b);if(c)return c;if(void 0!==wV)return wV;throw Error(`\`${a}\` must be used within \`${fW}\``)}]),fZ=({titleId:a})=>{let b=fY(fW),c=`\`${b.contentName}\` requires a \`${b.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${b.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${b.docsSlug}`;return m.useEffect(()=>{a&&(document.getElementById(a)||console.error(c))},[c,a]),null},f$=({contentRef:a,descriptionId:b})=>{let c=fY("DialogDescriptionWarning"),d=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${c.contentName}}.`;return m.useEffect(()=>{let c=a.current?.getAttribute("aria-describedby");b&&c&&(document.getElementById(b)||console.warn(d))},[d,a,b]),null},f_="AlertDialog",[f0,f1]=a4(f_,[fw]),f2=fw(),f3=a=>{let{__scopeAlertDialog:b,...c}=a,d=f2(b);return(0,l.jsx)(fz,{...d,...c,modal:!0})};f3.displayName=f_,m.forwardRef((a,b)=>{let{__scopeAlertDialog:c,...d}=a,e=f2(c);return(0,l.jsx)(fB,{...e,...d,ref:b})}).displayName="AlertDialogTrigger";var f4=a=>{let{__scopeAlertDialog:b,...c}=a,d=f2(b);return(0,l.jsx)(fF,{...d,...c})};f4.displayName="AlertDialogPortal";var f5=m.forwardRef((a,b)=>{let{__scopeAlertDialog:c,...d}=a,e=f2(c);return(0,l.jsx)(fH,{...e,...d,ref:b})});f5.displayName="AlertDialogOverlay";var f6="AlertDialogContent",[f7,f8]=f0(f6),f9=Z("AlertDialogContent"),ga=m.forwardRef((a,b)=>{let{__scopeAlertDialog:c,children:d,...e}=a,f=f2(c),g=m.useRef(null),h=V(b,g),i=m.useRef(null);return(0,l.jsx)(fX,{contentName:f6,titleName:gb,docsSlug:"alert-dialog",children:(0,l.jsx)(f7,{scope:c,cancelRef:i,children:(0,l.jsxs)(fL,{role:"alertdialog",...f,...e,ref:h,onOpenAutoFocus:bo(e.onOpenAutoFocus,a=>{a.preventDefault(),i.current?.focus({preventScroll:!0})}),onPointerDownOutside:a=>a.preventDefault(),onInteractOutside:a=>a.preventDefault(),children:[(0,l.jsx)(f9,{children:d}),(0,l.jsx)(gi,{contentRef:g})]})})})});ga.displayName=f6;var gb="AlertDialogTitle",gc=m.forwardRef((a,b)=>{let{__scopeAlertDialog:c,...d}=a,e=f2(c);return(0,l.jsx)(fQ,{...e,...d,ref:b})});gc.displayName=gb;var gd="AlertDialogDescription",ge=m.forwardRef((a,b)=>{let{__scopeAlertDialog:c,...d}=a,e=f2(c);return(0,l.jsx)(fS,{...e,...d,ref:b})});ge.displayName=gd;var gf=m.forwardRef((a,b)=>{let{__scopeAlertDialog:c,...d}=a,e=f2(c);return(0,l.jsx)(fU,{...e,...d,ref:b})});gf.displayName="AlertDialogAction";var gg="AlertDialogCancel",gh=m.forwardRef((a,b)=>{let{__scopeAlertDialog:c,...d}=a,{cancelRef:e}=f8(gg,c),f=f2(c),g=V(b,e);return(0,l.jsx)(fU,{...f,...d,ref:g})});gh.displayName=gg;var gi=({contentRef:a})=>{let b=`\`${f6}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${f6}\` by passing a \`${gd}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${f6}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{document.getElementById(a.current?.getAttribute("aria-describedby"))||console.warn(b)},[b,a]),null};function gj({...a}){return(0,l.jsx)(f3,{"data-slot":"alert-dialog",...a})}function gk({...a}){return(0,l.jsx)(f4,{"data-slot":"alert-dialog-portal",...a})}function gl({className:a,...b}){return(0,l.jsx)(f5,{"data-slot":"alert-dialog-overlay",className:a0("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...b})}function gm({className:a,...b}){return(0,l.jsxs)(gk,{children:[(0,l.jsx)(gl,{}),(0,l.jsx)(ga,{"data-slot":"alert-dialog-content",className:a0("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...b})]})}function gn({className:a,...b}){return(0,l.jsx)("div",{"data-slot":"alert-dialog-header",className:a0("flex flex-col gap-2 text-center sm:text-left",a),...b})}function go({className:a,...b}){return(0,l.jsx)("div",{"data-slot":"alert-dialog-footer",className:a0("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...b})}function gp({className:a,...b}){return(0,l.jsx)(gc,{"data-slot":"alert-dialog-title",className:a0("text-lg font-semibold",a),...b})}function gq({className:a,...b}){return(0,l.jsx)(ge,{"data-slot":"alert-dialog-description",className:a0("text-muted-foreground text-sm",a),...b})}function gr({className:a,...b}){return(0,l.jsx)(gf,{className:a0(a1(),a),...b})}function gs({className:a,...b}){return(0,l.jsx)(gh,{className:a0(a1({variant:"outline"}),a),...b})}var gt=(a,b,c,d,e,f,g,h)=>{let i=document.documentElement,j=["light","dark"];function k(b){var c;(Array.isArray(a)?a:[a]).forEach(a=>{let c="class"===a,d=c&&f?e.map(a=>f[a]||a):e;c?(i.classList.remove(...d),i.classList.add(f&&f[b]?f[b]:b)):i.setAttribute(a,b)}),c=b,h&&j.includes(c)&&(i.style.colorScheme=c)}if(d)k(d);else try{let a=localStorage.getItem(b)||c,d=g&&"system"===a?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":a;k(d)}catch(a){}},gu=m.createContext(void 0),gv={setTheme:a=>{},themes:[]};m.memo(({forcedTheme:a,storageKey:b,attribute:c,enableSystem:d,enableColorScheme:e,defaultTheme:f,value:g,themes:h,nonce:i,scriptProps:j})=>{let k=JSON.stringify([c,b,f,a,h,g,d,e]).slice(1,-1);return m.createElement("script",{...j,suppressHydrationWarning:!0,nonce:i,dangerouslySetInnerHTML:{__html:`(${gt.toString()})(${k})`}})});let gw=Array(12).fill(0),gx=({visible:a,className:b})=>m.default.createElement("div",{className:["sonner-loading-wrapper",b].filter(Boolean).join(" "),"data-visible":a},m.default.createElement("div",{className:"sonner-spinner"},gw.map((a,b)=>m.default.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${b}`})))),gy=m.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},m.default.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),gz=m.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},m.default.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),gA=m.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},m.default.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),gB=m.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},m.default.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),gC=m.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},m.default.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.default.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),gD=1,gE=new class{constructor(){this.subscribe=a=>(this.subscribers.push(a),()=>{let b=this.subscribers.indexOf(a);this.subscribers.splice(b,1)}),this.publish=a=>{this.subscribers.forEach(b=>b(a))},this.addToast=a=>{this.publish(a),this.toasts=[...this.toasts,a]},this.create=a=>{var b;let{message:c,...d}=a,e="number"==typeof(null==a?void 0:a.id)||(null==(b=a.id)?void 0:b.length)>0?a.id:gD++,f=this.toasts.find(a=>a.id===e),g=void 0===a.dismissible||a.dismissible;return this.dismissedToasts.has(e)&&this.dismissedToasts.delete(e),f?this.toasts=this.toasts.map(b=>b.id===e?(this.publish({...b,...a,id:e,title:c}),{...b,...a,id:e,dismissible:g,title:c}):b):this.addToast({title:c,...d,dismissible:g,id:e}),e},this.dismiss=a=>(a?(this.dismissedToasts.add(a),requestAnimationFrame(()=>this.subscribers.forEach(b=>b({id:a,dismiss:!0})))):this.toasts.forEach(a=>{this.subscribers.forEach(b=>b({id:a.id,dismiss:!0}))}),a),this.message=(a,b)=>this.create({...b,message:a}),this.error=(a,b)=>this.create({...b,message:a,type:"error"}),this.success=(a,b)=>this.create({...b,type:"success",message:a}),this.info=(a,b)=>this.create({...b,type:"info",message:a}),this.warning=(a,b)=>this.create({...b,type:"warning",message:a}),this.loading=(a,b)=>this.create({...b,type:"loading",message:a}),this.promise=(a,b)=>{let c,d;if(!b)return;void 0!==b.loading&&(d=this.create({...b,promise:a,type:"loading",message:b.loading,description:"function"!=typeof b.description?b.description:void 0}));let e=Promise.resolve(a instanceof Function?a():a),f=void 0!==d,g=e.then(async a=>{if(c=["resolve",a],m.default.isValidElement(a))f=!1,this.create({id:d,type:"default",message:a});else if(gF(a)&&!a.ok){f=!1;let c="function"==typeof b.error?await b.error(`HTTP error! status: ${a.status}`):b.error,e="function"==typeof b.description?await b.description(`HTTP error! status: ${a.status}`):b.description,g="object"!=typeof c||m.default.isValidElement(c)?{message:c}:c;this.create({id:d,type:"error",description:e,...g})}else if(a instanceof Error){f=!1;let c="function"==typeof b.error?await b.error(a):b.error,e="function"==typeof b.description?await b.description(a):b.description,g="object"!=typeof c||m.default.isValidElement(c)?{message:c}:c;this.create({id:d,type:"error",description:e,...g})}else if(void 0!==b.success){f=!1;let c="function"==typeof b.success?await b.success(a):b.success,e="function"==typeof b.description?await b.description(a):b.description,g="object"!=typeof c||m.default.isValidElement(c)?{message:c}:c;this.create({id:d,type:"success",description:e,...g})}}).catch(async a=>{if(c=["reject",a],void 0!==b.error){f=!1;let c="function"==typeof b.error?await b.error(a):b.error,e="function"==typeof b.description?await b.description(a):b.description,g="object"!=typeof c||m.default.isValidElement(c)?{message:c}:c;this.create({id:d,type:"error",description:e,...g})}}).finally(()=>{f&&(this.dismiss(d),d=void 0),null==b.finally||b.finally.call(b)}),h=()=>new Promise((a,b)=>g.then(()=>"reject"===c[0]?b(c[1]):a(c[1])).catch(b));return"string"!=typeof d&&"number"!=typeof d?{unwrap:h}:Object.assign(d,{unwrap:h})},this.custom=(a,b)=>{let c=(null==b?void 0:b.id)||gD++;return this.create({jsx:a(c),id:c,...b}),c},this.getActiveToasts=()=>this.toasts.filter(a=>!this.dismissedToasts.has(a.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},gF=a=>a&&"object"==typeof a&&"ok"in a&&"boolean"==typeof a.ok&&"status"in a&&"number"==typeof a.status,gG=Object.assign((a,b)=>{let c=(null==b?void 0:b.id)||gD++;return gE.addToast({title:a,...b,id:c}),c},{success:gE.success,info:gE.info,warning:gE.warning,error:gE.error,custom:gE.custom,message:gE.message,promise:gE.promise,dismiss:gE.dismiss,loading:gE.loading},{getHistory:()=>gE.toasts,getToasts:()=>gE.getActiveToasts()});function gH(a){return void 0!==a.label}function gI(...a){return a.filter(Boolean).join(" ")}!function(a){if(!a||"u"<typeof document)return;let b=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css",b.appendChild(c),c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");let gJ=a=>{var b,c,d,e,f,g,h,i,j,k,l,n,o;let{invert:p,toast:q,unstyled:r,interacting:s,setHeights:t,visibleToasts:u,heights:v,index:w,toasts:x,expanded:y,removeToast:z,defaultRichColors:A,closeButton:B,style:C,cancelButtonStyle:D,actionButtonStyle:E,className:F="",descriptionClassName:G="",duration:H,position:I,gap:J,expandByDefault:K,classNames:L,icons:M,closeButtonAriaLabel:N="Close toast"}=a,[O,P]=m.default.useState(null),[Q,R]=m.default.useState(null),[S,T]=m.default.useState(!1),[U,V]=m.default.useState(!1),[W,X]=m.default.useState(!1),[Y,Z]=m.default.useState(!1),[$,_]=m.default.useState(!1),[aa,ab]=m.default.useState(0),[ac,ad]=m.default.useState(0),ae=m.default.useRef(q.duration||H||4e3),af=m.default.useRef(null),ag=m.default.useRef(null),ah=0===w,ai=w+1<=u,aj=q.type,ak=!1!==q.dismissible,al=q.className||"",am=q.descriptionClassName||"",an=m.default.useMemo(()=>v.findIndex(a=>a.toastId===q.id)||0,[v,q.id]),ao=m.default.useMemo(()=>{var a;return null!=(a=q.closeButton)?a:B},[q.closeButton,B]),ap=m.default.useMemo(()=>q.duration||H||4e3,[q.duration,H]),aq=m.default.useRef(0),ar=m.default.useRef(0),as=m.default.useRef(0),at=m.default.useRef(null),[au,av]=I.split("-"),aw=m.default.useMemo(()=>v.reduce((a,b,c)=>c>=an?a:a+b.height,0),[v,an]),ax=(()=>{let[a,b]=m.default.useState(document.hidden);return m.default.useEffect(()=>{let a=()=>{b(document.hidden)};return document.addEventListener("visibilitychange",a),()=>window.removeEventListener("visibilitychange",a)},[]),a})(),ay=q.invert||p,az="loading"===aj;ar.current=m.default.useMemo(()=>an*J+aw,[an,aw]),m.default.useEffect(()=>{ae.current=ap},[ap]),m.default.useEffect(()=>{T(!0)},[]),m.default.useEffect(()=>{let a=ag.current;if(a){let b=a.getBoundingClientRect().height;return ad(b),t(a=>[{toastId:q.id,height:b,position:q.position},...a]),()=>t(a=>a.filter(a=>a.toastId!==q.id))}},[t,q.id]),m.default.useLayoutEffect(()=>{if(!S)return;let a=ag.current,b=a.style.height;a.style.height="auto";let c=a.getBoundingClientRect().height;a.style.height=b,ad(c),t(a=>a.find(a=>a.toastId===q.id)?a.map(a=>a.toastId===q.id?{...a,height:c}:a):[{toastId:q.id,height:c,position:q.position},...a])},[S,q.title,q.description,t,q.id,q.jsx,q.action,q.cancel]);let aA=m.default.useCallback(()=>{V(!0),ab(ar.current),t(a=>a.filter(a=>a.toastId!==q.id)),setTimeout(()=>{z(q)},200)},[q,z,t,ar]);m.default.useEffect(()=>{let a;if((!q.promise||"loading"!==aj)&&q.duration!==1/0&&"loading"!==q.type){if(y||s||ax){if(as.current<aq.current){let a=new Date().getTime()-aq.current;ae.current=ae.current-a}as.current=new Date().getTime()}else ae.current!==1/0&&(aq.current=new Date().getTime(),a=setTimeout(()=>{null==q.onAutoClose||q.onAutoClose.call(q,q),aA()},ae.current));return()=>clearTimeout(a)}},[y,s,q,aj,ax,aA]),m.default.useEffect(()=>{q.delete&&(aA(),null==q.onDismiss||q.onDismiss.call(q,q))},[aA,q.delete]);let aB=q.icon||(null==M?void 0:M[aj])||(a=>{switch(a){case"success":return gy;case"info":return gA;case"warning":return gz;case"error":return gB;default:return null}})(aj);return m.default.createElement("li",{tabIndex:0,ref:ag,className:gI(F,al,null==L?void 0:L.toast,null==q||null==(b=q.classNames)?void 0:b.toast,null==L?void 0:L.default,null==L?void 0:L[aj],null==q||null==(c=q.classNames)?void 0:c[aj]),"data-sonner-toast":"","data-rich-colors":null!=(k=q.richColors)?k:A,"data-styled":!(q.jsx||q.unstyled||r),"data-mounted":S,"data-promise":!!q.promise,"data-swiped":$,"data-removed":U,"data-visible":ai,"data-y-position":au,"data-x-position":av,"data-index":w,"data-front":ah,"data-swiping":W,"data-dismissible":ak,"data-type":aj,"data-invert":ay,"data-swipe-out":Y,"data-swipe-direction":Q,"data-expanded":!!(y||K&&S),style:{"--index":w,"--toasts-before":w,"--z-index":x.length-w,"--offset":`${U?aa:ar.current}px`,"--initial-height":K?"auto":`${ac}px`,...C,...q.style},onDragEnd:()=>{X(!1),P(null),at.current=null},onPointerDown:a=>{2===a.button||az||!ak||(af.current=new Date,ab(ar.current),a.target.setPointerCapture(a.pointerId),"BUTTON"!==a.target.tagName&&(X(!0),at.current={x:a.clientX,y:a.clientY}))},onPointerUp:()=>{var a,b,c,d,e;if(Y||!ak)return;at.current=null;let f=Number((null==(a=ag.current)?void 0:a.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),g=Number((null==(b=ag.current)?void 0:b.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),h=new Date().getTime()-(null==(c=af.current)?void 0:c.getTime()),i="x"===O?f:g,j=Math.abs(i)/h;if(Math.abs(i)>=45||j>.11){ab(ar.current),null==q.onDismiss||q.onDismiss.call(q,q),"x"===O?R(f>0?"right":"left"):R(g>0?"down":"up"),aA(),Z(!0);return}null==(d=ag.current)||d.style.setProperty("--swipe-amount-x","0px"),null==(e=ag.current)||e.style.setProperty("--swipe-amount-y","0px"),_(!1),X(!1),P(null)},onPointerMove:b=>{var c,d,e,f;if(!at.current||!ak||(null==(c=window.getSelection())?void 0:c.toString().length)>0)return;let g=b.clientY-at.current.y,h=b.clientX-at.current.x,i=null!=(f=a.swipeDirections)?f:function(a){let[b,c]=a.split("-"),d=[];return b&&d.push(b),c&&d.push(c),d}(I);!O&&(Math.abs(h)>1||Math.abs(g)>1)&&P(Math.abs(h)>Math.abs(g)?"x":"y");let j={x:0,y:0},k=a=>1/(1.5+Math.abs(a)/20);if("y"===O){if(i.includes("top")||i.includes("bottom"))if(i.includes("top")&&g<0||i.includes("bottom")&&g>0)j.y=g;else{let a=g*k(g);j.y=Math.abs(a)<Math.abs(g)?a:g}}else if("x"===O&&(i.includes("left")||i.includes("right")))if(i.includes("left")&&h<0||i.includes("right")&&h>0)j.x=h;else{let a=h*k(h);j.x=Math.abs(a)<Math.abs(h)?a:h}(Math.abs(j.x)>0||Math.abs(j.y)>0)&&_(!0),null==(d=ag.current)||d.style.setProperty("--swipe-amount-x",`${j.x}px`),null==(e=ag.current)||e.style.setProperty("--swipe-amount-y",`${j.y}px`)}},ao&&!q.jsx&&"loading"!==aj?m.default.createElement("button",{"aria-label":N,"data-disabled":az,"data-close-button":!0,onClick:az||!ak?()=>{}:()=>{aA(),null==q.onDismiss||q.onDismiss.call(q,q)},className:gI(null==L?void 0:L.closeButton,null==q||null==(d=q.classNames)?void 0:d.closeButton)},null!=(l=null==M?void 0:M.close)?l:gC):null,(aj||q.icon||q.promise)&&null!==q.icon&&((null==M?void 0:M[aj])!==null||q.icon)?m.default.createElement("div",{"data-icon":"",className:gI(null==L?void 0:L.icon,null==q||null==(e=q.classNames)?void 0:e.icon)},q.promise||"loading"===q.type&&!q.icon?q.icon||((null==M?void 0:M.loading)?m.default.createElement("div",{className:gI(null==L?void 0:L.loader,null==q||null==(o=q.classNames)?void 0:o.loader,"sonner-loader"),"data-visible":"loading"===aj},M.loading):m.default.createElement(gx,{className:gI(null==L?void 0:L.loader,null==q||null==(n=q.classNames)?void 0:n.loader),visible:"loading"===aj})):null,"loading"!==q.type?aB:null):null,m.default.createElement("div",{"data-content":"",className:gI(null==L?void 0:L.content,null==q||null==(f=q.classNames)?void 0:f.content)},m.default.createElement("div",{"data-title":"",className:gI(null==L?void 0:L.title,null==q||null==(g=q.classNames)?void 0:g.title)},q.jsx?q.jsx:"function"==typeof q.title?q.title():q.title),q.description?m.default.createElement("div",{"data-description":"",className:gI(G,am,null==L?void 0:L.description,null==q||null==(h=q.classNames)?void 0:h.description)},"function"==typeof q.description?q.description():q.description):null),m.default.isValidElement(q.cancel)?q.cancel:q.cancel&&gH(q.cancel)?m.default.createElement("button",{"data-button":!0,"data-cancel":!0,style:q.cancelButtonStyle||D,onClick:a=>{!gH(q.cancel)||ak&&(null==q.cancel.onClick||q.cancel.onClick.call(q.cancel,a),aA())},className:gI(null==L?void 0:L.cancelButton,null==q||null==(i=q.classNames)?void 0:i.cancelButton)},q.cancel.label):null,m.default.isValidElement(q.action)?q.action:q.action&&gH(q.action)?m.default.createElement("button",{"data-button":!0,"data-action":!0,style:q.actionButtonStyle||E,onClick:a=>{!gH(q.action)||(null==q.action.onClick||q.action.onClick.call(q.action,a),a.defaultPrevented||aA())},className:gI(null==L?void 0:L.actionButton,null==q||null==(j=q.classNames)?void 0:j.actionButton)},q.action.label):null)},gK=m.default.forwardRef(function(a,b){let{invert:c,position:d="bottom-right",hotkey:e=["altKey","KeyT"],expand:f,closeButton:g,className:h,offset:i,mobileOffset:j,theme:k="light",richColors:l,duration:n,style:o,visibleToasts:p=3,toastOptions:q,dir:r="ltr",gap:s=14,icons:t,containerAriaLabel:u="Notifications"}=a,[v,w]=m.default.useState([]),x=m.default.useMemo(()=>Array.from(new Set([d].concat(v.filter(a=>a.position).map(a=>a.position)))),[v,d]),[y,z]=m.default.useState([]),[A,B]=m.default.useState(!1),[C,D]=m.default.useState(!1),[E,F]=m.default.useState("system"!==k?k:"light"),G=m.default.useRef(null),H=e.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=m.default.useRef(null),J=m.default.useRef(!1),K=m.default.useCallback(a=>{w(b=>{var c;return(null==(c=b.find(b=>b.id===a.id))?void 0:c.delete)||gE.dismiss(a.id),b.filter(({id:b})=>b!==a.id)})},[]);return m.default.useEffect(()=>gE.subscribe(a=>{a.dismiss?requestAnimationFrame(()=>{w(b=>b.map(b=>b.id===a.id?{...b,delete:!0}:b))}):setTimeout(()=>{a7.default.flushSync(()=>{w(b=>{let c=b.findIndex(b=>b.id===a.id);return -1!==c?[...b.slice(0,c),{...b[c],...a},...b.slice(c+1)]:[a,...b]})})})}),[v]),m.default.useEffect(()=>{"system"!==k?F(k):"system"===k&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light"))},[k]),m.default.useEffect(()=>{v.length<=1&&B(!1)},[v]),m.default.useEffect(()=>{let a=a=>{var b,c;e.every(b=>a[b]||a.code===b)&&(B(!0),null==(c=G.current)||c.focus()),"Escape"===a.code&&(document.activeElement===G.current||(null==(b=G.current)?void 0:b.contains(document.activeElement)))&&B(!1)};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[e]),m.default.useEffect(()=>{if(G.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,J.current=!1)}},[G.current]),m.default.createElement("section",{ref:b,"aria-label":`${u} ${H}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},x.map((b,d)=>{var e;let k,[u,w]=b.split("-");return v.length?m.default.createElement("ol",{key:b,dir:"auto"===r?"ltr":r,tabIndex:-1,ref:G,className:h,"data-sonner-toaster":!0,"data-sonner-theme":E,"data-y-position":u,"data-x-position":w,style:{"--front-toast-height":`${(null==(e=y[0])?void 0:e.height)||0}px`,"--width":"356px","--gap":`${s}px`,...o,...(k={},[i,j].forEach((a,b)=>{let c=1===b,d=c?"--mobile-offset":"--offset",e=c?"16px":"24px";function f(a){["top","right","bottom","left"].forEach(b=>{k[`${d}-${b}`]="number"==typeof a?`${a}px`:a})}"number"==typeof a||"string"==typeof a?f(a):"object"==typeof a?["top","right","bottom","left"].forEach(b=>{void 0===a[b]?k[`${d}-${b}`]=e:k[`${d}-${b}`]="number"==typeof a[b]?`${a[b]}px`:a[b]}):f(e)}),k)},onBlur:a=>{J.current&&!a.currentTarget.contains(a.relatedTarget)&&(J.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:a=>{!(a.target instanceof HTMLElement&&"false"===a.target.dataset.dismissible)&&(J.current||(J.current=!0,I.current=a.relatedTarget))},onMouseEnter:()=>B(!0),onMouseMove:()=>B(!0),onMouseLeave:()=>{C||B(!1)},onDragEnd:()=>B(!1),onPointerDown:a=>{a.target instanceof HTMLElement&&"false"===a.target.dataset.dismissible||D(!0)},onPointerUp:()=>D(!1)},v.filter(a=>!a.position&&0===d||a.position===b).map((d,e)=>{var h,i;return m.default.createElement(gJ,{key:d.id,icons:t,index:e,toast:d,defaultRichColors:l,duration:null!=(h=null==q?void 0:q.duration)?h:n,className:null==q?void 0:q.className,descriptionClassName:null==q?void 0:q.descriptionClassName,invert:c,visibleToasts:p,closeButton:null!=(i=null==q?void 0:q.closeButton)?i:g,interacting:C,position:b,style:null==q?void 0:q.style,unstyled:null==q?void 0:q.unstyled,classNames:null==q?void 0:q.classNames,cancelButtonStyle:null==q?void 0:q.cancelButtonStyle,actionButtonStyle:null==q?void 0:q.actionButtonStyle,closeButtonAriaLabel:null==q?void 0:q.closeButtonAriaLabel,removeToast:K,toasts:v.filter(a=>a.position==d.position),heights:y.filter(a=>a.position==d.position),setHeights:z,expandByDefault:f,gap:s,expanded:A,swipeDirections:a.swipeDirections})})):null}))}),gL=({...a})=>{var b;let{theme:c="system"}=null!=(b=m.useContext(gu))?b:gv;return(0,l.jsx)(gK,{theme:c,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...a})},gM=s("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]),gN=s("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),gO=s("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),gP=s("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);var gQ=m.forwardRef((a,b)=>(0,l.jsx)(a8.label,{...a,ref:b,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));function gR({className:a,...b}){return(0,l.jsx)(gQ,{"data-slot":"label",className:a0("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...b})}function gS({onLogin:a,onNavigateToRegister:b,onNavigateToForgotPassword:c,callbackUrl:d="/"}){let[e,f]=(0,m.useState)(""),[g,h]=(0,m.useState)(""),[i,j]=(0,m.useState)(!1),[k,o]=(0,m.useState)(!1),[p,q]=(0,m.useState)(""),r=async b=>{if(b.preventDefault(),q(""),!e||!g)return void gG.error("Please enter both email and password");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))return void gG.error("Please enter a valid email address");o(!0);try{let b=await (0,n.signIn)("credentials",{email:e,password:g,redirect:!1,callbackUrl:d});if(b?.error){q("Invalid email or password. Please try again."),o(!1);return}b?.ok&&(gG.success("Welcome!"),a&&a("authenticated"),window.location.href=d)}catch{q("An error occurred. Please try again."),o(!1)}};return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#F15929] via-[#F15929] to-[#D14820] flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"w-full max-w-md",children:[(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[(0,l.jsx)("div",{className:"flex justify-center mb-8",children:(0,l.jsx)("div",{className:"w-16 h-16 bg-[#F15929] rounded-xl flex items-center justify-center",children:(0,l.jsx)(gP,{className:"h-8 w-8 text-white"})})}),(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"text-[#231F20] mb-2",children:"Power Metal & Steel"}),(0,l.jsx)("p",{className:"text-[#6B7280]",children:"Sign in to your account"})]}),(0,l.jsxs)("form",{onSubmit:r,className:"space-y-6",children:[p&&(0,l.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg flex items-start gap-2 animate-in fade-in slide-in-from-top-2 duration-300",children:[(0,l.jsx)("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,l.jsx)("span",{className:"text-sm",children:p})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"email",className:"text-[#374151]",children:"Email Address"}),(0,l.jsx)(a3,{id:"email",type:"email",placeholder:"Enter your email",value:e,onChange:a=>{f(a.target.value),q("")},className:"h-12 border-[#D1D5DB] focus:border-[#F15929] focus:ring-[#F15929]",disabled:k})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"password",className:"text-[#374151]",children:"Password"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(a3,{id:"password",type:i?"text":"password",placeholder:"Enter your password",value:g,onChange:a=>{h(a.target.value),q("")},className:"h-12 border-[#D1D5DB] focus:border-[#F15929] focus:ring-[#F15929] pr-12",disabled:k}),(0,l.jsx)("button",{type:"button",onClick:()=>j(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280] hover:text-[#374151]",tabIndex:-1,children:i?(0,l.jsx)(gO,{className:"h-5 w-5"}):(0,l.jsx)(gN,{className:"h-5 w-5"})})]})]}),(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsx)("button",{type:"button",className:"text-sm text-[#F15929] hover:text-[#D14820] hover:underline",onClick:c||(()=>gG.info("Please contact administrator to reset your password")),children:"Forgot Password?"})}),(0,l.jsx)(a2,{type:"submit",className:"w-full h-12 bg-[#F15929] hover:bg-[#D14820] text-white",disabled:k,children:k?(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Signing in..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(gM,{className:"mr-2 h-5 w-5"}),"Sign In"]})})]}),(0,l.jsxs)("div",{className:"mt-8 p-4 bg-[#F3F4F6] rounded-lg",children:[(0,l.jsx)("p",{className:"text-xs text-[#6B7280] mb-2",children:"Super Admin Credentials:"}),(0,l.jsxs)("div",{className:"text-xs text-[#374151] space-y-1",children:[(0,l.jsx)("p",{children:" superadmin@powermetalsteel.com"}),(0,l.jsx)("p",{className:"mt-2 text-[#6B7280]",children:"Password: SuperAdmin@2024!"})]})]}),(0,l.jsx)("div",{className:"mt-6 text-center",children:(0,l.jsxs)("p",{className:"text-sm text-[#6B7280]",children:["Don't have an account?"," ",(0,l.jsx)("button",{type:"button",onClick:b,className:"text-[#F15929] hover:text-[#D14820] hover:underline",children:"Sign up"})]})})]}),(0,l.jsx)("div",{className:"text-center mt-6 text-white text-sm",children:" 2025 Power Metal & Steel. All rights reserved."})]})})}gQ.displayName="Label";let gT=s("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);function gU(a){let b=m.useRef({value:a,previous:a});return m.useMemo(()=>(b.current.value!==a&&(b.current.previous=b.current.value,b.current.value=a),b.current.previous),[a])}var gV="Checkbox",[gW,gX]=a4(gV),[gY,gZ]=gW(gV);function g$(a){let{__scopeCheckbox:b,checked:c,children:d,defaultChecked:e,disabled:f,form:g,name:h,onCheckedChange:i,required:j,value:k="on",internal_do_not_use_render:n}=a,[o,p]=bq({prop:c,defaultProp:e??!1,onChange:i,caller:gV}),[q,r]=m.useState(null),[s,t]=m.useState(null),u=m.useRef(!1),v=!q||!!g||!!q.closest("form"),w={checked:o,disabled:f,setChecked:p,control:q,setControl:r,name:h,form:g,value:k,hasConsumerStoppedPropagationRef:u,required:j,defaultChecked:!g6(e)&&e,isFormControl:v,bubbleInput:s,setBubbleInput:t};return(0,l.jsx)(gY,{scope:b,...w,children:"function"==typeof n?n(w):d})}var g_="CheckboxTrigger",g0=m.forwardRef(({__scopeCheckbox:a,onKeyDown:b,onClick:c,...d},e)=>{let{control:f,value:g,disabled:h,checked:i,required:j,setControl:k,setChecked:n,hasConsumerStoppedPropagationRef:o,isFormControl:p,bubbleInput:q}=gZ(g_,a),r=V(e,k),s=m.useRef(i);return m.useEffect(()=>{let a=f?.form;if(a){let b=()=>n(s.current);return a.addEventListener("reset",b),()=>a.removeEventListener("reset",b)}},[f,n]),(0,l.jsx)(a8.button,{type:"button",role:"checkbox","aria-checked":g6(i)?"mixed":i,"aria-required":j,"data-state":g7(i),"data-disabled":h?"":void 0,disabled:h,value:g,...d,ref:r,onKeyDown:bo(b,a=>{"Enter"===a.key&&a.preventDefault()}),onClick:bo(c,a=>{n(a=>!!g6(a)||!a),q&&p&&(o.current=a.isPropagationStopped(),o.current||a.stopPropagation())})})});g0.displayName=g_;var g1=m.forwardRef((a,b)=>{let{__scopeCheckbox:c,name:d,checked:e,defaultChecked:f,required:g,disabled:h,value:i,onCheckedChange:j,form:k,...m}=a;return(0,l.jsx)(g$,{__scopeCheckbox:c,checked:e,defaultChecked:f,disabled:h,required:g,onCheckedChange:j,name:d,form:k,value:i,internal_do_not_use_render:({isFormControl:a})=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(g0,{...m,ref:b,__scopeCheckbox:c}),a&&(0,l.jsx)(g5,{__scopeCheckbox:c})]})})});g1.displayName=gV;var g2="CheckboxIndicator",g3=m.forwardRef((a,b)=>{let{__scopeCheckbox:c,forceMount:d,...e}=a,f=gZ(g2,c);return(0,l.jsx)(dh,{present:d||g6(f.checked)||!0===f.checked,children:(0,l.jsx)(a8.span,{"data-state":g7(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:b,style:{pointerEvents:"none",...a.style}})})});g3.displayName=g2;var g4="CheckboxBubbleInput",g5=m.forwardRef(({__scopeCheckbox:a,...b},c)=>{let{control:d,hasConsumerStoppedPropagationRef:e,checked:f,defaultChecked:g,required:h,disabled:i,name:j,value:k,form:n,bubbleInput:o,setBubbleInput:p}=gZ(g4,a),q=V(c,p),r=gU(f),s=cZ(d);m.useEffect(()=>{if(!o)return;let a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,b=!e.current;if(r!==f&&a){let c=new Event("click",{bubbles:b});o.indeterminate=g6(f),a.call(o,!g6(f)&&f),o.dispatchEvent(c)}},[o,r,f,e]);let t=m.useRef(!g6(f)&&f);return(0,l.jsx)(a8.input,{type:"checkbox","aria-hidden":!0,defaultChecked:g??t.current,required:h,disabled:i,name:j,value:k,form:n,...b,tabIndex:-1,ref:q,style:{...b.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function g6(a){return"indeterminate"===a}function g7(a){return g6(a)?"indeterminate":a?"checked":"unchecked"}function g8({className:a,...b}){return(0,l.jsx)(g1,{"data-slot":"checkbox",className:a0("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...b,children:(0,l.jsx)(g3,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,l.jsx)(fm,{className:"size-3.5"})})})}g5.displayName=g4;let g9=ab("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function ha({className:a,variant:b,...c}){return(0,l.jsx)("div",{"data-slot":"alert",role:"alert",className:a0(g9({variant:b}),a),...c})}function hb({className:a,...b}){return(0,l.jsx)("div",{"data-slot":"alert-description",className:a0("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",a),...b})}function hc({onLogin:a,onNavigateToRegister:b,onBack:c}){let[d,e]=(0,m.useState)(""),[f,g]=(0,m.useState)(""),[h,i]=(0,m.useState)(!1),[j,k]=(0,m.useState)(!1),[n,o]=(0,m.useState)(""),[p,q]=(0,m.useState)(!1),r=async b=>{b.preventDefault(),o(""),q(!0),setTimeout(()=>{d&&"1234"===f?d.includes("admin")?a("admin"):d.includes("sales")?a("sales"):d.includes("finance")?a("finance"):d.includes("production")?a("production"):d.includes("operations")?a("operations"):d.includes("vendor")?a("vendor"):a("admin"):(o("Please check your email and password (use 1234)"),q(!1))},1e3)};return(0,l.jsx)("div",{className:"min-h-screen w-full bg-gradient-to-br from-[#1E40AF] to-[#1E3A8A] flex items-center justify-center p-4 bg-[rgba(0,0,0,0)]",children:(0,l.jsxs)("div",{className:"w-full max-w-[440px] bg-white rounded-2xl shadow-2xl p-10",children:[(0,l.jsxs)("button",{onClick:c,className:"flex items-center gap-2 text-[#6B7280] hover:text-[#374151] mb-6",children:[(0,l.jsx)(gT,{className:"h-4 w-4"}),"Back"]}),(0,l.jsx)("div",{className:"flex justify-center mb-8",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-11 h-11 bg-[#F15929] rounded-lg flex items-center justify-center",children:(0,l.jsx)(gP,{className:"h-6 w-6 text-white"})}),(0,l.jsx)("span",{className:"text-[#231F20]",children:"Staff Portal"})]})}),(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"text-[#231F20] mb-2",children:"Welcome Back!"}),(0,l.jsx)("p",{className:"text-[#374151]",children:"Sign in to your staff account"})]}),n&&(0,l.jsxs)(ha,{className:"mb-6 border-[#DC2626] bg-[#FEE2E2]",children:[(0,l.jsx)(S,{className:"h-4 w-4 text-[#DC2626]"}),(0,l.jsx)(hb,{className:"text-[#DC2626]",children:n})]}),(0,l.jsxs)("form",{onSubmit:r,className:"space-y-6",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"email",children:"Email Address"}),(0,l.jsx)(a3,{id:"email",type:"email",placeholder:"user@company.com",value:d,onChange:a=>e(a.target.value),className:"h-10 border-[#D1D5DB] focus:border-[#F15929] focus:ring-2 focus:ring-[#F15929]/20"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"password",children:"Password"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(a3,{id:"password",type:h?"text":"password",placeholder:"",value:f,onChange:a=>g(a.target.value),className:"h-10 pr-10 border-[#D1D5DB] focus:border-[#F15929] focus:ring-2 focus:ring-[#F15929]/20"}),(0,l.jsx)("button",{type:"button",onClick:()=>i(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280] hover:text-[#374151]",children:h?(0,l.jsx)(gO,{className:"h-4 w-4"}):(0,l.jsx)(gN,{className:"h-4 w-4"})})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(g8,{id:"remember",checked:j,onCheckedChange:a=>k(a)}),(0,l.jsx)(gR,{htmlFor:"remember",className:"text-[14px] cursor-pointer",children:"Remember me"})]}),(0,l.jsx)("button",{type:"button",className:"text-[14px] text-[#F15929] hover:text-[#D94E23]",children:"Forgot password?"})]}),(0,l.jsx)(a2,{type:"submit",className:"w-full h-12 bg-[#F15929] hover:bg-[#D94E23] text-white rounded-lg",disabled:p,children:p?"Signing in...":"SIGN IN"})]}),(0,l.jsxs)("div",{className:"relative my-6",children:[(0,l.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,l.jsx)("div",{className:"w-full border-t border-[#E5E7EB]"})}),(0,l.jsx)("div",{className:"relative flex justify-center text-[14px]",children:(0,l.jsx)("span",{className:"px-2 bg-white text-[#6B7280]",children:"or continue with"})})]}),(0,l.jsxs)(a2,{variant:"outline",className:"w-full h-12 border-[#D1D5DB] hover:bg-[#F3F4F6] rounded-lg",children:[(0,l.jsx)(gP,{className:"mr-2 h-5 w-5"}),"SSO - Company Portal"]}),(0,l.jsxs)("p",{className:"text-center mt-6 text-[14px] text-[#374151]",children:["Don't have an account?"," ",(0,l.jsx)("button",{type:"button",onClick:b,className:"text-[#1E40AF] hover:text-[#1E3A8A]",children:"Sign up"})]}),(0,l.jsxs)("div",{className:"mt-8 p-4 bg-[#EFF6FF] rounded-lg border border-[#DBEAFE]",children:[(0,l.jsx)("p",{className:"text-[12px] text-[#1E40AF] mb-2",children:"Demo credentials:"}),(0,l.jsxs)("div",{className:"space-y-1 text-[12px] text-[#1E3A8A]",children:[(0,l.jsx)("p",{children:" admin@company.com (Admin)"}),(0,l.jsx)("p",{children:" sales@company.com (Sales)"}),(0,l.jsx)("p",{children:" finance@company.com (Finance)"}),(0,l.jsx)("p",{children:" Password: 1234"})]})]})]})})}function hd({onLogin:a,onNavigateToRegister:b,onBack:c}){let[d,e]=(0,m.useState)(""),[f,g]=(0,m.useState)(""),[h,i]=(0,m.useState)(!1),[j,k]=(0,m.useState)(!1),[n,o]=(0,m.useState)(""),[p,q]=(0,m.useState)(!1),r=async b=>{b.preventDefault(),o(""),q(!0),setTimeout(()=>{d&&"1234"===f?a():(o("Please check your email and password (use 1234)"),q(!1))},1e3)};return(0,l.jsx)("div",{className:"min-h-screen w-full bg-gradient-to-br from-[#059669] to-[#047857] flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"w-full max-w-[440px] bg-white rounded-2xl shadow-2xl p-10",children:[(0,l.jsxs)("button",{onClick:c,className:"flex items-center gap-2 text-[#6B7280] hover:text-[#374151] mb-6",children:[(0,l.jsx)(gT,{className:"h-4 w-4"}),"Back"]}),(0,l.jsx)("div",{className:"flex justify-center mb-8",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-11 h-11 bg-[#059669] rounded-lg flex items-center justify-center",children:(0,l.jsx)(G,{className:"h-6 w-6 text-white"})}),(0,l.jsx)("span",{className:"text-[#111827]",children:"Customer Portal"})]})}),(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"text-[#111827] mb-2",children:"Welcome Back!"}),(0,l.jsx)("p",{className:"text-[#374151]",children:"Sign in to your customer account"})]}),n&&(0,l.jsxs)(ha,{className:"mb-6 border-[#DC2626] bg-[#FEE2E2]",children:[(0,l.jsx)(S,{className:"h-4 w-4 text-[#DC2626]"}),(0,l.jsx)(hb,{className:"text-[#DC2626]",children:n})]}),(0,l.jsxs)("form",{onSubmit:r,className:"space-y-6",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"email",children:"Email Address"}),(0,l.jsx)(a3,{id:"email",type:"email",placeholder:"customer@email.com",value:d,onChange:a=>e(a.target.value),className:"h-10 border-[#D1D5DB] focus:border-[#059669] focus:ring-2 focus:ring-[#059669]/20"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"password",children:"Password"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(a3,{id:"password",type:h?"text":"password",placeholder:"",value:f,onChange:a=>g(a.target.value),className:"h-10 pr-10 border-[#D1D5DB] focus:border-[#059669] focus:ring-2 focus:ring-[#059669]/20"}),(0,l.jsx)("button",{type:"button",onClick:()=>i(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280] hover:text-[#374151]",children:h?(0,l.jsx)(gO,{className:"h-4 w-4"}):(0,l.jsx)(gN,{className:"h-4 w-4"})})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(g8,{id:"remember",checked:j,onCheckedChange:a=>k(a)}),(0,l.jsx)(gR,{htmlFor:"remember",className:"text-[14px] cursor-pointer",children:"Remember me"})]}),(0,l.jsx)("button",{type:"button",className:"text-[14px] text-[#059669] hover:text-[#047857]",children:"Forgot password?"})]}),(0,l.jsx)(a2,{type:"submit",className:"w-full h-12 bg-[#059669] hover:bg-[#047857] text-white rounded-lg",disabled:p,children:p?"Signing in...":"SIGN IN"})]}),(0,l.jsxs)("p",{className:"text-center mt-6 text-[14px] text-[#374151]",children:["Don't have an account?"," ",(0,l.jsx)("button",{type:"button",onClick:b,className:"text-[#059669] hover:text-[#047857]",children:"Sign up"})]}),(0,l.jsxs)("div",{className:"mt-8 p-4 bg-[#F0FDF4] rounded-lg border border-[#D1FAE5]",children:[(0,l.jsx)("p",{className:"text-[12px] text-[#047857] mb-2",children:"Demo credentials:"}),(0,l.jsxs)("div",{className:"space-y-1 text-[12px] text-[#065F46]",children:[(0,l.jsx)("p",{children:" Email: customer@demo.com"}),(0,l.jsx)("p",{children:" Password: 1234"})]})]})]})})}function he({onSelectType:a,onBackToLogin:b}){return(0,l.jsx)("div",{className:"min-h-screen w-full bg-gradient-to-br from-[#059669] to-[#047857] flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"w-full max-w-[600px] bg-white rounded-2xl shadow-2xl p-10",children:[(0,l.jsx)("div",{className:"flex justify-center mb-8",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-11 h-11 bg-[rgb(235,86,40)] rounded-lg flex items-center justify-center",children:(0,l.jsx)(gP,{className:"h-6 w-6 text-white"})}),(0,l.jsx)("span",{className:"text-[#111827]",children:"Power Metal & Steel"})]})}),(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"text-[#111827] mb-2",children:"Get Started"}),(0,l.jsx)("p",{className:"text-[#374151]",children:"Choose your account type"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[(0,l.jsx)("button",{onClick:()=>a("internal"),className:"p-6 border-2 border-[#E5E7EB] rounded-xl hover:border-[#059669] hover:bg-[#F0FDF4] transition-all group",children:(0,l.jsxs)("div",{className:"flex flex-col items-center text-center space-y-3",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-[#F0FDF4] rounded-full flex items-center justify-center group-hover:bg-[#059669] transition-colors",children:(0,l.jsx)(gP,{className:"h-8 w-8 text-[#059669] group-hover:text-white"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-[#111827] mb-1",children:"Internal Team"}),(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Company employees"})]})]})}),(0,l.jsx)("button",{onClick:()=>a("customer"),className:"p-6 border-2 border-[#E5E7EB] rounded-xl hover:border-[#1E40AF] hover:bg-[#EFF6FF] transition-all group",children:(0,l.jsxs)("div",{className:"flex flex-col items-center text-center space-y-3",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-[#EFF6FF] rounded-full flex items-center justify-center group-hover:bg-[#1E40AF] transition-colors",children:(0,l.jsx)(t,{className:"h-8 w-8 text-[#1E40AF] group-hover:text-white"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-[#111827] mb-1",children:"Customer"}),(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Business or individual"})]})]})})]}),(0,l.jsx)("div",{className:"text-center mt-8",children:(0,l.jsxs)("p",{className:"text-[14px] text-[#374151]",children:["Already have an account?"," ",(0,l.jsx)("button",{type:"button",onClick:b,className:"text-[#059669] hover:text-[#047857]",children:"Sign in"})]})})]})})}let hf=s("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),hg=s("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),hh=s("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);var hi="Progress",[hj,hk]=a4(hi),[hl,hm]=hj(hi),hn=m.forwardRef((a,b)=>{var c,d;let{__scopeProgress:e,value:f=null,max:g,getValueLabel:h=hq,...i}=a;(g||0===g)&&!ht(g)&&console.error((c=`${g}`,`Invalid prop \`max\` of value \`${c}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let j=ht(g)?g:100;null===f||hu(f,j)||console.error((d=`${f}`,`Invalid prop \`value\` of value \`${d}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let k=hu(f,j)?f:null,m=hs(k)?h(k,j):void 0;return(0,l.jsx)(hl,{scope:e,value:k,max:j,children:(0,l.jsx)(a8.div,{"aria-valuemax":j,"aria-valuemin":0,"aria-valuenow":hs(k)?k:void 0,"aria-valuetext":m,role:"progressbar","data-state":hr(k,j),"data-value":k??void 0,"data-max":j,...i,ref:b})})});hn.displayName=hi;var ho="ProgressIndicator",hp=m.forwardRef((a,b)=>{let{__scopeProgress:c,...d}=a,e=hm(ho,c);return(0,l.jsx)(a8.div,{"data-state":hr(e.value,e.max),"data-value":e.value??void 0,"data-max":e.max,...d,ref:b})});function hq(a,b){return`${Math.round(a/b*100)}%`}function hr(a,b){return null==a?"indeterminate":a===b?"complete":"loading"}function hs(a){return"number"==typeof a}function ht(a){return hs(a)&&!isNaN(a)&&a>0}function hu(a,b){return hs(a)&&!isNaN(a)&&a<=b&&a>=0}function hv({className:a,value:b,...c}){return(0,l.jsx)(hn,{"data-slot":"progress",className:a0("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",a),...c,children:(0,l.jsx)(hp,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(b||0)}%)`}})})}function hw({className:a,...b}){return(0,l.jsx)("div",{"data-slot":"card",className:a0("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",a),...b})}function hx({className:a,...b}){return(0,l.jsx)("div",{"data-slot":"card-header",className:a0("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...b})}function hy({className:a,...b}){return(0,l.jsx)("h4",{"data-slot":"card-title",className:a0("leading-none",a),...b})}function hz({className:a,...b}){return(0,l.jsx)("p",{"data-slot":"card-description",className:a0("text-muted-foreground",a),...b})}function hA({className:a,...b}){return(0,l.jsx)("div",{"data-slot":"card-content",className:a0("px-6 [&:last-child]:pb-6",a),...b})}function hB({onBack:a,onComplete:b}){let[c,d]=(0,m.useState)(1),[e,f]=(0,m.useState)(!1),[g,h]=(0,m.useState)(!1),[i,j]=(0,m.useState)(""),[k,n]=(0,m.useState)(""),[o,p]=(0,m.useState)(!1),[q,r]=(0,m.useState)(0),[s,t]=(0,m.useState)(!0),[u,v]=(0,m.useState)({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",enable2FA:!1,twoFAMethod:"authenticator",agreeTerms:!1,agreePolicy:!1,agreeAccess:!1}),[w,x]=(0,m.useState)(0);(0,m.useEffect)(()=>{if(q>0){let a=setTimeout(()=>r(q-1),1e3);return()=>clearTimeout(a)}0!==q||s||t(!0)},[q,s]);let y=(a,b)=>{if(v({...u,[a]:b}),"password"===a){let a=0;b.length>=12&&(a+=25),/[a-z]/.test(b)&&/[A-Z]/.test(b)&&(a+=25),/[0-9]/.test(b)&&(a+=25),/[^a-zA-Z0-9]/.test(b)&&(a+=25),x(a)}},z=()=>{p(!0),setTimeout(()=>{p(!1),r(60),t(!1),n("")},1e3)};return(0,l.jsx)("div",{className:"min-h-screen w-full bg-gradient-to-br from-[#1E40AF] to-[#1E3A8A] flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"w-full max-w-[520px] bg-white rounded-2xl shadow-2xl p-8",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("button",{onClick:a,className:"flex items-center gap-2 text-[#6B7280] hover:text-[#374151] mb-4",children:[(0,l.jsx)(gT,{className:"h-4 w-4"}),"Back"]}),(0,l.jsx)("h2",{className:"text-[#111827] mb-2",children:"Internal Team Registration"}),(0,l.jsx)(hv,{value:c/3*100,className:"h-2 [&>div]:bg-[#1E3FA6]"}),(0,l.jsxs)("p",{className:"text-[12px] text-[#6B7280] mt-2",children:["Step ",c," of 3"]})]}),1===c&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-[#111827] mb-4",children:"Personal Information"}),(0,l.jsx)("div",{className:"border-b border-[#E5E7EB] mb-4"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"firstName",children:["First Name ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)(a3,{id:"firstName",value:u.firstName,onChange:a=>y("firstName",a.target.value),className:"h-10 border-[#D1D5DB]"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"lastName",children:["Last Name ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)(a3,{id:"lastName",value:u.lastName,onChange:a=>y("lastName",a.target.value),className:"h-10 border-[#D1D5DB]"})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"email",children:["Email Address ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)(a3,{id:"email",type:"email",value:u.email,onChange:a=>y("email",a.target.value),className:"h-10 border-[#D1D5DB]"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"phone",children:["Phone Number ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)(a3,{id:"phone",type:"tel",placeholder:"+60 12-345-6789",value:u.phone,onChange:a=>y("phone",a.target.value),className:"h-10 border-[#D1D5DB]"})]}),(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsx)(a2,{onClick:()=>{z(),d(2)},className:"bg-[#1E40AF] hover:bg-[#1E3A8A] h-10 px-6",disabled:!u.email,children:"Next"})})]}),2===c&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-[#111827] mb-4",children:"Email Verification"}),(0,l.jsx)("div",{className:"border-b border-[#E5E7EB] mb-4"})]}),(0,l.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,l.jsx)("p",{className:"text-sm text-blue-800 mb-2",children:(0,l.jsx)("strong",{children:"Demo Verification Code:"})}),(0,l.jsx)("p",{className:"text-2xl text-blue-900 tracking-wider",children:"123456"})]}),(0,l.jsx)("div",{className:"space-y-2",children:(0,l.jsxs)("p",{className:"text-sm text-[#6B7280]",children:["We've sent a verification code to ",(0,l.jsx)("strong",{children:u.email})]})}),k&&(0,l.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg flex items-start gap-2",children:[(0,l.jsx)("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,l.jsx)("span",{className:"text-sm",children:k})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"verificationCode",children:["Verification Code ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(a3,{id:"verificationCode",type:"text",placeholder:"Enter 6-digit code",value:i,onChange:a=>{j(a.target.value),n("")},maxLength:6,className:"h-12 border-[#D1D5DB] pl-12 text-center text-2xl tracking-widest"}),(0,l.jsx)(hh,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-[#6B7280]"})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("p",{className:"text-sm text-[#6B7280]",children:"Didn't receive the code?"}),(0,l.jsx)(a2,{variant:"ghost",onClick:()=>{s&&z()},disabled:!s||o,className:"text-[#1E40AF] hover:text-[#1E3A8A] h-auto p-0",children:o?"Sending...":s?"Resend Code":`Resend in ${q}s`})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)(a2,{variant:"outline",onClick:()=>d(1),className:"h-10 px-6",children:"Back"}),(0,l.jsx)(a2,{onClick:()=>{"123456"===i?(n(""),d(3)):n("Invalid verification code. Please try again.")},className:"bg-[#1E40AF] hover:bg-[#1E3A8A] h-10 px-6",disabled:6!==i.length,children:"Verify & Continue"})]})]}),3===c&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-[#111827] mb-4",children:"Security Settings"}),(0,l.jsx)("div",{className:"border-b border-[#E5E7EB] mb-4"})]}),(0,l.jsx)(hw,{className:"border-[#E5E7EB] bg-[#F9FAFB]",children:(0,l.jsxs)(hA,{className:"pt-4",children:[(0,l.jsx)("p",{className:"text-[12px] text-[#374151] mb-2",children:"Password Requirements:"}),(0,l.jsxs)("ul",{className:"text-[12px] text-[#6B7280] space-y-1",children:[(0,l.jsx)("li",{children:" Minimum 12 characters"}),(0,l.jsx)("li",{children:" Upper & lowercase letters"}),(0,l.jsx)("li",{children:" Numbers & special characters"}),(0,l.jsx)("li",{children:" Not similar to personal info"})]})]})}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"password",children:"Password"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(a3,{id:"password",type:e?"text":"password",value:u.password,onChange:a=>y("password",a.target.value),className:"h-10 pr-10 border-[#D1D5DB]"}),(0,l.jsx)("button",{type:"button",onClick:()=>f(!e),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280]",children:e?(0,l.jsx)(gO,{className:"h-4 w-4"}):(0,l.jsx)(gN,{className:"h-4 w-4"})})]}),u.password&&(0,l.jsx)("div",{className:"space-y-1",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"flex-1 h-2 bg-[#E5E7EB] rounded-full overflow-hidden",children:(0,l.jsx)("div",{className:`h-full ${w<34?"bg-[#DC2626]":w<67?"bg-[#F59E0B]":w<90?"bg-[#059669]":"bg-[#047857]"} transition-all`,style:{width:`${w}%`}})}),(0,l.jsxs)("span",{className:"text-[12px] text-[#6B7280]",children:["Strength: ",w<34?"Weak":w<67?"Fair":w<90?"Good":"Excellent"," ",w,"%"]})]})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(a3,{id:"confirmPassword",type:g?"text":"password",value:u.confirmPassword,onChange:a=>y("confirmPassword",a.target.value),className:"h-10 pr-10 border-[#D1D5DB]"}),(0,l.jsx)("button",{type:"button",onClick:()=>h(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280]",children:g?(0,l.jsx)(gO,{className:"h-4 w-4"}):(0,l.jsx)(gN,{className:"h-4 w-4"})})]}),u.confirmPassword&&u.password===u.confirmPassword&&(0,l.jsxs)("p",{className:"text-[12px] text-[#059669] flex items-center gap-1",children:[(0,l.jsx)(hg,{className:"h-3 w-3"}),"Passwords match"]})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,l.jsx)(g8,{id:"agreeTerms",checked:u.agreeTerms,onCheckedChange:a=>y("agreeTerms",a)}),(0,l.jsx)(gR,{htmlFor:"agreeTerms",className:"cursor-pointer",children:"I agree to the terms and conditions"})]}),(0,l.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,l.jsx)(g8,{id:"agreePolicy",checked:u.agreePolicy,onCheckedChange:a=>y("agreePolicy",a)}),(0,l.jsx)(gR,{htmlFor:"agreePolicy",className:"cursor-pointer",children:"I accept the data privacy policy"})]}),(0,l.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,l.jsx)(g8,{id:"agreeAccess",checked:u.agreeAccess,onCheckedChange:a=>y("agreeAccess",a)}),(0,l.jsx)(gR,{htmlFor:"agreeAccess",className:"cursor-pointer",children:"I understand the access rules"})]})]}),(0,l.jsx)(hw,{className:"border-[#E5E7EB] bg-[#F9FAFB]",children:(0,l.jsxs)(hA,{className:"pt-4",children:[(0,l.jsxs)("h4",{className:"text-[#111827] mb-2 flex items-center gap-2",children:[(0,l.jsx)(hf,{className:"h-4 w-4"}),"Approval Workflow"]}),(0,l.jsxs)("ol",{className:"text-[14px] text-[#6B7280] space-y-1 ml-6",children:[(0,l.jsx)("li",{children:"1. Manager approval required"}),(0,l.jsx)("li",{children:"2. IT department review"}),(0,l.jsx)("li",{children:"3. Account activation in 24-48h"})]})]})}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)(a2,{variant:"outline",onClick:()=>d(2),className:"h-10 px-6",children:"Back"}),(0,l.jsx)(a2,{onClick:b,className:"bg-[#1E40AF] hover:bg-[#1E3A8A] h-10 px-6",disabled:!u.agreeTerms||!u.agreePolicy||!u.agreeAccess,children:"Submit for Approval"})]})]})]})})}hp.displayName=ho;let hC=s("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),hD=s("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),hE=s("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),hF=s("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),hG=s("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);function hH({onBack:a,onComplete:b}){let[c,d]=(0,m.useState)(null),[e,f]=(0,m.useState)(1),[g,h]=(0,m.useState)(1),[i,j]=(0,m.useState)({firstName:"",lastName:"",email:"",phone:"",tin:"",verificationCode:"",password:"",confirmPassword:"",icNumber:"",icFrontImage:null,icBackImage:null}),[k,n]=(0,m.useState)({firstName:"",lastName:"",email:"",phone:"",verificationCode:"",password:"",confirmPassword:"",brn:"",tin:""}),[o,p]=(0,m.useState)({}),[q,r]=(0,m.useState)({}),[s,t]=(0,m.useState)(0),[u,w]=(0,m.useState)(!1),x=()=>{t(60);let a=setInterval(()=>{t(b=>b<=1?(clearInterval(a),0):b-1)},1e3)},y=(a,b)=>{j({...i,[a]:b}),b&&p({...o,[a]:void 0})};return c?"business"===c?(0,l.jsx)("div",{className:"min-h-screen w-full bg-gradient-to-br from-[#1E40AF] to-[#1E3A8A] flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"w-full max-w-[520px] bg-white rounded-2xl shadow-2xl p-8",children:[g<5&&(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-2",children:[1,2,3,4].map(a=>(0,l.jsxs)("div",{className:"flex items-center flex-1",children:[(0,l.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm ${g>=a?"bg-[#1E40AF] text-white":"bg-gray-200 text-gray-500"}`,children:a}),a<4&&(0,l.jsx)("div",{className:`flex-1 h-1 mx-2 ${g>a?"bg-[#1E40AF]":"bg-gray-200"}`})]},a))}),(0,l.jsx)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:["Info","Verify","Password","Business"].map((a,b)=>(0,l.jsxs)("div",{className:"flex items-center flex-1",children:[(0,l.jsx)("span",{className:"w-8 text-center",children:a}),b<3&&(0,l.jsx)("div",{className:"flex-1"})]},a))})]}),1===g&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("button",{onClick:()=>d(null),className:"flex items-center gap-2 text-[#6B7280] hover:text-[#374151] mb-6",children:[(0,l.jsx)(gT,{className:"h-4 w-4"}),"Back"]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h2",{className:"text-[#111827] mb-2",children:"Account Creator Information"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Please provide your personal details"}),(0,l.jsx)("div",{className:"border-b border-[#E5E7EB] my-4"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"businessFirstName",children:["First Name ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)(a3,{id:"businessFirstName",value:k.firstName,onChange:a=>n({...k,firstName:a.target.value}),className:`h-10 border-[#D1D5DB] ${q.firstName?"border-red-500":""}`}),q.firstName&&(0,l.jsx)("p",{className:"text-xs text-red-500",children:q.firstName})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"businessLastName",children:["Last Name ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)(a3,{id:"businessLastName",value:k.lastName,onChange:a=>n({...k,lastName:a.target.value}),className:`h-10 border-[#D1D5DB] ${q.lastName?"border-red-500":""}`}),q.lastName&&(0,l.jsx)("p",{className:"text-xs text-red-500",children:q.lastName})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"businessEmail",children:["Email Address ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)(a3,{id:"businessEmail",type:"email",value:k.email,onChange:a=>n({...k,email:a.target.value}),className:`h-10 border-[#D1D5DB] ${q.email?"border-red-500":""}`}),q.email&&(0,l.jsx)("p",{className:"text-xs text-red-500",children:q.email})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"businessPhone",children:["Phone Number ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)(a3,{id:"businessPhone",type:"tel",placeholder:"+60 12-345-6789",value:k.phone,onChange:a=>n({...k,phone:a.target.value}),className:`h-10 border-[#D1D5DB] ${q.phone?"border-red-500":""}`}),q.phone&&(0,l.jsx)("p",{className:"text-xs text-red-500",children:q.phone})]}),(0,l.jsx)("div",{className:"flex justify-end pt-4",children:(0,l.jsx)(a2,{type:"button",onClick:()=>{let a;a={},k.firstName.trim()||(a.firstName="First name is required"),k.lastName.trim()||(a.lastName="Last name is required"),k.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(k.email)||(a.email="Invalid email format"):a.email="Email is required",k.phone.trim()||(a.phone="Phone number is required"),r(a),0===Object.keys(a).length&&(h(2),w(!0),x())},className:"bg-[#1E40AF] hover:bg-[#1E3A8A] h-10 px-6",children:"Continue"})})]})]}),2===g&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,l.jsx)("div",{className:"w-16 h-16 bg-[#EFF6FF] rounded-full flex items-center justify-center",children:(0,l.jsx)(hh,{className:"h-8 w-8 text-[#1E40AF]"})})}),(0,l.jsx)("h2",{className:"text-[#111827] mb-2 text-center",children:"Verify Your Email"}),(0,l.jsxs)("p",{className:"text-sm text-gray-600 text-center",children:["We've sent a verification code to",(0,l.jsx)("br",{}),(0,l.jsx)("span",{className:"font-medium",children:k.email})]}),(0,l.jsx)("div",{className:"border-b border-[#E5E7EB] my-4"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"businessVerificationCode",children:["Verification Code ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)(a3,{id:"businessVerificationCode",placeholder:"Enter 6-digit code",maxLength:6,value:k.verificationCode,onChange:a=>n({...k,verificationCode:a.target.value}),className:`h-10 border-[#D1D5DB] text-center text-lg tracking-widest ${q.verificationCode?"border-red-500":""}`}),q.verificationCode&&(0,l.jsxs)("div",{className:"flex items-center gap-2 text-xs text-red-500",children:[(0,l.jsx)(S,{className:"h-4 w-4"}),(0,l.jsx)("span",{children:q.verificationCode})]})]}),(0,l.jsx)("div",{className:"flex items-center justify-center gap-2 text-sm",children:s>0?(0,l.jsxs)("div",{className:"flex items-center gap-2 text-gray-500",children:[(0,l.jsx)(hF,{className:"h-4 w-4"}),(0,l.jsxs)("span",{children:["Resend code in ",s,"s"]})]}):(0,l.jsx)("button",{onClick:()=>{alert("Verification code resent to "+k.email),x()},className:"text-[#1E40AF] hover:text-[#1E3A8A] font-medium",children:"Resend Code"})}),(0,l.jsxs)("div",{className:"flex justify-between gap-3 pt-4",children:[(0,l.jsx)(a2,{type:"button",variant:"outline",onClick:()=>h(1),className:"h-10 px-6",children:"Back"}),(0,l.jsx)(a2,{type:"button",onClick:()=>{(k.verificationCode.trim()?"123456"!==k.verificationCode?(r({verificationCode:"Invalid verification code. Please try again."}),1):(r({}),0):(r({verificationCode:"Verification code is required"}),1))||h(3)},className:"bg-[#1E40AF] hover:bg-[#1E3A8A] h-10 px-6",children:"Verify Email"})]}),(0,l.jsxs)("p",{className:"text-xs text-center text-gray-500 pt-2",children:["Demo: Use code ",(0,l.jsx)("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"123456"})," to verify"]})]})]}),3===g&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,l.jsx)("div",{className:"w-16 h-16 bg-[#EFF6FF] rounded-full flex items-center justify-center",children:(0,l.jsx)(hG,{className:"h-8 w-8 text-[#1E40AF]"})})}),(0,l.jsx)("h2",{className:"text-[#111827] mb-2 text-center",children:"Set Your Password"}),(0,l.jsx)("p",{className:"text-sm text-gray-600 text-center",children:"Create a secure password for your account"}),(0,l.jsx)("div",{className:"border-b border-[#E5E7EB] my-4"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"businessPassword",children:["Password ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)(a3,{id:"businessPassword",type:"password",placeholder:"At least 8 characters",value:k.password,onChange:a=>n({...k,password:a.target.value}),className:`h-10 border-[#D1D5DB] ${q.password?"border-red-500":""}`}),q.password&&(0,l.jsx)("p",{className:"text-xs text-red-500",children:q.password})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"businessConfirmPassword",children:["Confirm Password ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)(a3,{id:"businessConfirmPassword",type:"password",placeholder:"Re-enter your password",value:k.confirmPassword,onChange:a=>n({...k,confirmPassword:a.target.value}),className:`h-10 border-[#D1D5DB] ${q.confirmPassword?"border-red-500":""}`}),q.confirmPassword&&(0,l.jsx)("p",{className:"text-xs text-red-500",children:q.confirmPassword})]}),(0,l.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[(0,l.jsx)("p",{className:"text-xs text-gray-700 mb-2",children:"Password must contain:"}),(0,l.jsxs)("ul",{className:"text-xs text-gray-600 space-y-1",children:[(0,l.jsx)("li",{className:k.password.length>=8?"text-green-600":"",children:" At least 8 characters"}),(0,l.jsx)("li",{className:/[A-Z]/.test(k.password)?"text-green-600":"",children:" At least one uppercase letter"}),(0,l.jsx)("li",{className:/[a-z]/.test(k.password)?"text-green-600":"",children:" At least one lowercase letter"}),(0,l.jsx)("li",{className:/[0-9]/.test(k.password)?"text-green-600":"",children:" At least one number"}),(0,l.jsx)("li",{className:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(k.password)?"text-green-600":"",children:" At least one symbol"})]})]}),(0,l.jsxs)("div",{className:"flex justify-between gap-3 pt-4",children:[(0,l.jsx)(a2,{type:"button",variant:"outline",onClick:()=>h(2),className:"h-10 px-6",children:"Back"}),(0,l.jsx)(a2,{type:"button",onClick:()=>{let a;a={},k.password.trim()?k.password.length<8&&(a.password="Password must be at least 8 characters"):a.password="Password is required",k.confirmPassword.trim()?k.password!==k.confirmPassword&&(a.confirmPassword="Passwords do not match"):a.confirmPassword="Please confirm your password",r(a),0===Object.keys(a).length&&h(4)},className:"bg-[#1E40AF] hover:bg-[#1E3A8A] h-10 px-6",children:"Continue"})]})]})]}),4===g&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,l.jsx)("div",{className:"w-16 h-16 bg-[#EFF6FF] rounded-full flex items-center justify-center",children:(0,l.jsx)(v,{className:"h-8 w-8 text-[#1E40AF]"})})}),(0,l.jsx)("h2",{className:"text-[#111827] mb-2 text-center",children:"Business Details"}),(0,l.jsx)("p",{className:"text-sm text-gray-600 text-center",children:"Enter your company registration and tax information"}),(0,l.jsx)("div",{className:"border-b border-[#E5E7EB] my-4"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"brn",children:["Business Registration Number (BRN) ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)(a3,{id:"brn",placeholder:"202201234565",value:k.brn,onChange:a=>n({...k,brn:a.target.value}),className:`h-10 border-[#D1D5DB] ${q.brn?"border-red-500":""}`}),(0,l.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-xs text-blue-900",children:[(0,l.jsx)("p",{className:"mb-2",children:"Format: YYYY-TT-NNNNNN (12 digits)"}),(0,l.jsxs)("ul",{className:"space-y-1 ml-2",children:[(0,l.jsx)("li",{children:" First 4 digits: Year of incorporation"}),(0,l.jsx)("li",{children:" Next 2 digits: Entity type (01-06)"}),(0,l.jsx)("li",{children:" Last 6 digits: Unique entity number"})]}),(0,l.jsx)("p",{className:"mt-2",children:"Example: 2022 01 234565"})]}),q.brn&&(0,l.jsx)("p",{className:"text-xs text-red-500",children:q.brn})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"businessTin",children:["Tax Identification Number (TIN) ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)(a3,{id:"businessTin",placeholder:"C123456789012",value:k.tin,onChange:a=>n({...k,tin:a.target.value.toUpperCase()}),className:`h-10 border-[#D1D5DB] ${q.tin?"border-red-500":""}`}),(0,l.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-xs text-blue-900",children:[(0,l.jsx)("p",{className:"mb-2",children:"Format: Prefix + 12 digits"}),(0,l.jsx)("p",{className:"mb-1",children:"Valid prefixes:"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 ml-2",children:[(0,l.jsx)("span",{children:" C (Companies)"}),(0,l.jsx)("span",{children:" CS (Cooperative)"}),(0,l.jsx)("span",{children:" D (Partnerships)"}),(0,l.jsx)("span",{children:" E (Employers)"}),(0,l.jsx)("span",{children:" F (Associations)"}),(0,l.jsx)("span",{children:" FA (Entertainers)"}),(0,l.jsx)("span",{children:" PT (LLPs)"}),(0,l.jsx)("span",{children:" TA (Trust Bodies)"}),(0,l.jsx)("span",{children:" TC (Unit Trusts)"}),(0,l.jsx)("span",{children:" TN (Business Trusts)"}),(0,l.jsx)("span",{children:" TR (REITs)"}),(0,l.jsx)("span",{children:" TP (Estates)"}),(0,l.jsx)("span",{children:" J (Hindu Families)"}),(0,l.jsx)("span",{children:" LE (Labuan)"})]})]}),q.tin&&(0,l.jsx)("p",{className:"text-xs text-red-500",children:q.tin})]}),(0,l.jsxs)("div",{className:"flex justify-between gap-3 pt-4",children:[(0,l.jsx)(a2,{type:"button",variant:"outline",onClick:()=>h(3),className:"h-10 px-6",children:"Back"}),(0,l.jsx)(a2,{type:"button",onClick:()=>{let a;a={},k.brn.trim()?(a=>{let b=a.replace(/[\s-]/g,"");if(!/^\d{12}$/.test(b))return!1;let c=parseInt(b.substring(0,4)),d=b.substring(4,6);return!(c<1900||c>new Date().getFullYear())&&!!["01","02","03","04","05","06"].includes(d)})(k.brn)||(a.brn="Invalid BRN format. Must be 12 digits (YYYY-TT-NNNNNN)"):a.brn="Business Registration Number is required",k.tin.trim()?(a=>{let b=["C","CS","D","E","F","FA","PT","TA","TC","TN","TR","TP","J","LE"].find(b=>a.toUpperCase().startsWith(b));if(!b)return!1;let c=a.substring(b.length);return!!/^\d{12}$/.test(c)})(k.tin)||(a.tin="Invalid TIN format. Must be a valid prefix (C, CS, D, E, F, FA, PT, TA, TC, TN, TR, TP, J, LE) followed by 12 digits"):a.tin="Tax Identification Number is required",r(a),0===Object.keys(a).length&&h(5)},className:"bg-[#1E40AF] hover:bg-[#1E3A8A] h-10 px-6",children:"Submit Registration"})]})]})]}),5===g&&(0,l.jsxs)("div",{className:"text-center space-y-6",children:[(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsx)("div",{className:"w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(hF,{className:"h-10 w-10 text-yellow-600"})})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-[#111827] mb-2",children:"Company Registration Pending Approval"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Your company registration has been submitted and is now pending admin approval."})]}),(0,l.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-left",children:[(0,l.jsx)("h3",{className:"text-sm text-yellow-900 mb-2",children:"What happens next?"}),(0,l.jsxs)("ul",{className:"text-sm text-yellow-800 space-y-2",children:[(0,l.jsxs)("li",{className:"flex items-start gap-2",children:[(0,l.jsx)(hE,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),(0,l.jsx)("span",{children:"Our team will review your company registration details"})]}),(0,l.jsxs)("li",{className:"flex items-start gap-2",children:[(0,l.jsx)(hE,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),(0,l.jsx)("span",{children:"We'll verify your Business Registration Number and TIN"})]}),(0,l.jsxs)("li",{className:"flex items-start gap-2",children:[(0,l.jsx)(hE,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),(0,l.jsx)("span",{children:"You'll receive an email once approved (usually within 1-2 business days)"})]})]})]}),(0,l.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,l.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Registration Summary:"}),(0,l.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-left space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Account Creator:"}),(0,l.jsxs)("span",{className:"text-gray-900",children:[k.firstName," ",k.lastName]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Email:"}),(0,l.jsx)("span",{className:"text-gray-900",children:k.email})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Phone:"}),(0,l.jsx)("span",{className:"text-gray-900",children:k.phone})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"BRN:"}),(0,l.jsx)("span",{className:"text-gray-900",children:k.brn})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"TIN:"}),(0,l.jsx)("span",{className:"text-gray-900",children:k.tin})]})]})]}),(0,l.jsx)(a2,{type:"button",onClick:b,className:"bg-[#1E40AF] hover:bg-[#1E3A8A] h-10 px-8",children:"Return to Login"})]})]})}):(0,l.jsx)("div",{className:"min-h-screen w-full bg-gradient-to-br from-[#059669] to-[#047857] flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"w-full max-w-[520px] bg-white rounded-2xl shadow-2xl p-8",children:[e<5&&(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-2",children:[1,2,3,4].map(a=>(0,l.jsxs)("div",{className:"flex items-center flex-1",children:[(0,l.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm ${e>=a?"bg-[#059669] text-white":"bg-gray-200 text-gray-500"}`,children:a}),a<4&&(0,l.jsx)("div",{className:`flex-1 h-1 mx-2 ${e>a?"bg-[#059669]":"bg-gray-200"}`})]},a))}),(0,l.jsx)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:["Info","Verify","Password","ID"].map((a,b)=>(0,l.jsxs)("div",{className:"flex items-center flex-1",children:[(0,l.jsx)("span",{className:"w-8 text-center",children:a}),b<3&&(0,l.jsx)("div",{className:"flex-1"})]},a))})]}),1===e&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("button",{onClick:()=>d(null),className:"flex items-center gap-2 text-[#6B7280] hover:text-[#374151] mb-6",children:[(0,l.jsx)(gT,{className:"h-4 w-4"}),"Back"]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h2",{className:"text-[#111827] mb-2",children:"Individual Information"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Please provide your personal details"}),(0,l.jsx)("div",{className:"border-b border-[#E5E7EB] my-4"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"firstName",children:["First Name ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)(a3,{id:"firstName",value:i.firstName,onChange:a=>j({...i,firstName:a.target.value}),className:`h-10 border-[#D1D5DB] ${o.firstName?"border-red-500":""}`}),o.firstName&&(0,l.jsx)("p",{className:"text-xs text-red-500",children:o.firstName})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"lastName",children:["Last Name ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)(a3,{id:"lastName",value:i.lastName,onChange:a=>j({...i,lastName:a.target.value}),className:`h-10 border-[#D1D5DB] ${o.lastName?"border-red-500":""}`}),o.lastName&&(0,l.jsx)("p",{className:"text-xs text-red-500",children:o.lastName})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"email",children:["Email Address ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)(a3,{id:"email",type:"email",value:i.email,onChange:a=>j({...i,email:a.target.value}),className:`h-10 border-[#D1D5DB] ${o.email?"border-red-500":""}`}),o.email&&(0,l.jsx)("p",{className:"text-xs text-red-500",children:o.email})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"phone",children:["Phone Number ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)(a3,{id:"phone",type:"tel",placeholder:"+60 12-345-6789",value:i.phone,onChange:a=>j({...i,phone:a.target.value}),className:`h-10 border-[#D1D5DB] ${o.phone?"border-red-500":""}`}),o.phone&&(0,l.jsx)("p",{className:"text-xs text-red-500",children:o.phone})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"tin",children:["Tax Identification Number (TIN) ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)(a3,{id:"tin",placeholder:"IG123456789012",value:i.tin,onChange:a=>j({...i,tin:a.target.value.toUpperCase()}),className:`h-10 border-[#D1D5DB] ${o.tin?"border-red-500":""}`}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"Format: IG followed by 12 digits"}),o.tin&&(0,l.jsx)("p",{className:"text-xs text-red-500",children:o.tin})]}),(0,l.jsx)("div",{className:"flex justify-end pt-4",children:(0,l.jsx)(a2,{type:"button",onClick:()=>{(()=>{let a={};if(i.firstName.trim()||(a.firstName="First name is required"),i.lastName.trim()||(a.lastName="Last name is required"),i.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)||(a.email="Invalid email format"):a.email="Email is required",i.phone.trim()||(a.phone="Phone number is required"),i.tin.trim()){var b;b=i.tin,/^IG\d{12}$/.test(b)||(a.tin="TIN must be in format: IG followed by 12 digits (e.g., IG123456789012)")}else a.tin="TIN is required";return p(a),0===Object.keys(a).length})()&&(f(2),w(!0),x())},className:"bg-[#059669] hover:bg-[#047857] h-10 px-6",children:"Continue"})})]})]}),2===e&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,l.jsx)("div",{className:"w-16 h-16 bg-[#F0FDF4] rounded-full flex items-center justify-center",children:(0,l.jsx)(hh,{className:"h-8 w-8 text-[#059669]"})})}),(0,l.jsx)("h2",{className:"text-[#111827] mb-2 text-center",children:"Verify Your Email"}),(0,l.jsxs)("p",{className:"text-sm text-gray-600 text-center",children:["We've sent a verification code to",(0,l.jsx)("br",{}),(0,l.jsx)("span",{className:"font-medium",children:i.email})]}),(0,l.jsx)("div",{className:"border-b border-[#E5E7EB] my-4"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"verificationCode",children:["Verification Code ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)(a3,{id:"verificationCode",placeholder:"Enter 6-digit code",maxLength:6,value:i.verificationCode,onChange:a=>j({...i,verificationCode:a.target.value}),className:`h-10 border-[#D1D5DB] text-center text-lg tracking-widest ${o.verificationCode?"border-red-500":""}`}),o.verificationCode&&(0,l.jsxs)("div",{className:"flex items-center gap-2 text-xs text-red-500",children:[(0,l.jsx)(S,{className:"h-4 w-4"}),(0,l.jsx)("span",{children:o.verificationCode})]})]}),(0,l.jsx)("div",{className:"flex items-center justify-center gap-2 text-sm",children:s>0?(0,l.jsxs)("div",{className:"flex items-center gap-2 text-gray-500",children:[(0,l.jsx)(hF,{className:"h-4 w-4"}),(0,l.jsxs)("span",{children:["Resend code in ",s,"s"]})]}):(0,l.jsx)("button",{onClick:()=>{0===s&&(alert("Verification code resent to "+i.email),x())},className:"text-[#059669] hover:text-[#047857] font-medium",children:"Resend Code"})}),(0,l.jsxs)("div",{className:"flex justify-between gap-3 pt-4",children:[(0,l.jsx)(a2,{type:"button",variant:"outline",onClick:()=>f(1),className:"h-10 px-6",children:"Back"}),(0,l.jsx)(a2,{type:"button",onClick:()=>{i.verificationCode.trim()?"123456"!==i.verificationCode?p({verificationCode:"Invalid verification code. Please try again."}):(p({}),f(3)):p({verificationCode:"Verification code is required"})},className:"bg-[#059669] hover:bg-[#047857] h-10 px-6",children:"Verify Email"})]}),(0,l.jsxs)("p",{className:"text-xs text-center text-gray-500 pt-2",children:["Demo: Use code ",(0,l.jsx)("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"123456"})," to verify"]})]})]}),3===e&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,l.jsx)("div",{className:"w-16 h-16 bg-[#F0FDF4] rounded-full flex items-center justify-center",children:(0,l.jsx)(hG,{className:"h-8 w-8 text-[#059669]"})})}),(0,l.jsx)("h2",{className:"text-[#111827] mb-2 text-center",children:"Set Your Password"}),(0,l.jsx)("p",{className:"text-sm text-gray-600 text-center",children:"Create a secure password for your account"}),(0,l.jsx)("div",{className:"border-b border-[#E5E7EB] my-4"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"password",children:["Password ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)(a3,{id:"password",type:"password",placeholder:"At least 8 characters",value:i.password,onChange:a=>j({...i,password:a.target.value}),className:`h-10 border-[#D1D5DB] ${o.password?"border-red-500":""}`}),o.password&&(0,l.jsx)("p",{className:"text-xs text-red-500",children:o.password})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"confirmPassword",children:["Confirm Password ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)(a3,{id:"confirmPassword",type:"password",placeholder:"Re-enter your password",value:i.confirmPassword,onChange:a=>j({...i,confirmPassword:a.target.value}),className:`h-10 border-[#D1D5DB] ${o.confirmPassword?"border-red-500":""}`}),o.confirmPassword&&(0,l.jsx)("p",{className:"text-xs text-red-500",children:o.confirmPassword})]}),(0,l.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[(0,l.jsx)("p",{className:"text-xs text-gray-700 mb-2",children:"Password must contain:"}),(0,l.jsxs)("ul",{className:"text-xs text-gray-600 space-y-1",children:[(0,l.jsx)("li",{className:i.password.length>=8?"text-green-600":"",children:" At least 8 characters"}),(0,l.jsx)("li",{children:" Recommended: Mix of letters, numbers, and symbols"})]})]}),(0,l.jsxs)("div",{className:"flex justify-between gap-3 pt-4",children:[(0,l.jsx)(a2,{type:"button",variant:"outline",onClick:()=>f(2),className:"h-10 px-6",children:"Back"}),(0,l.jsx)(a2,{type:"button",onClick:()=>{let a={};i.password.trim()?i.password.length<8&&(a.password="Password must be at least 8 characters"):a.password="Password is required",i.confirmPassword.trim()?i.password!==i.confirmPassword&&(a.confirmPassword="Passwords do not match"):a.confirmPassword="Please confirm your password",p(a),0===Object.keys(a).length&&f(4)},className:"bg-[#059669] hover:bg-[#047857] h-10 px-6",children:"Continue"})]})]})]}),4===e&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,l.jsx)("div",{className:"w-16 h-16 bg-[#F0FDF4] rounded-full flex items-center justify-center",children:(0,l.jsx)(hf,{className:"h-8 w-8 text-[#059669]"})})}),(0,l.jsx)("h2",{className:"text-[#111827] mb-2 text-center",children:"Identity Verification"}),(0,l.jsx)("p",{className:"text-sm text-gray-600 text-center",children:"Upload your identification card for verification"}),(0,l.jsx)("div",{className:"border-b border-[#E5E7EB] my-4"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"icNumber",children:["IC Number ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)(a3,{id:"icNumber",placeholder:"Enter your IC number",value:i.icNumber,onChange:a=>j({...i,icNumber:a.target.value}),className:`h-10 border-[#D1D5DB] ${o.icNumber?"border-red-500":""}`}),o.icNumber&&(0,l.jsx)("p",{className:"text-xs text-red-500",children:o.icNumber})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{children:["IC Front Image ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsxs)("div",{className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:border-[#059669] transition-colors ${o.icFrontImage?"border-red-500":"border-gray-300"}`,onClick:()=>document.getElementById("icFrontInput")?.click(),children:[(0,l.jsx)("input",{id:"icFrontInput",type:"file",accept:"image/*",className:"hidden",onChange:a=>y("icFrontImage",a.target.files?.[0]||null)}),i.icFrontImage?(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2 text-green-600",children:[(0,l.jsx)(hE,{className:"h-5 w-5"}),(0,l.jsx)("span",{className:"text-sm",children:i.icFrontImage.name})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(hD,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Click to upload IC front image"}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 10MB"})]})]}),o.icFrontImage&&(0,l.jsx)("p",{className:"text-xs text-red-500",children:o.icFrontImage})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{children:["IC Back Image ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsxs)("div",{className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:border-[#059669] transition-colors ${o.icBackImage?"border-red-500":"border-gray-300"}`,onClick:()=>document.getElementById("icBackInput")?.click(),children:[(0,l.jsx)("input",{id:"icBackInput",type:"file",accept:"image/*",className:"hidden",onChange:a=>y("icBackImage",a.target.files?.[0]||null)}),i.icBackImage?(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2 text-green-600",children:[(0,l.jsx)(hE,{className:"h-5 w-5"}),(0,l.jsx)("span",{className:"text-sm",children:i.icBackImage.name})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(hD,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Click to upload IC back image"}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 10MB"})]})]}),o.icBackImage&&(0,l.jsx)("p",{className:"text-xs text-red-500",children:o.icBackImage})]}),(0,l.jsxs)("div",{className:"flex justify-between gap-3 pt-4",children:[(0,l.jsx)(a2,{type:"button",variant:"outline",onClick:()=>f(3),className:"h-10 px-6",children:"Back"}),(0,l.jsx)(a2,{type:"button",onClick:()=>{let a={};i.icNumber.trim()||(a.icNumber="IC number is required"),i.icFrontImage||(a.icFrontImage="IC front image is required"),i.icBackImage||(a.icBackImage="IC back image is required"),p(a),0===Object.keys(a).length&&f(5)},className:"bg-[#059669] hover:bg-[#047857] h-10 px-6",children:"Submit Registration"})]})]})]}),5===e&&(0,l.jsxs)("div",{className:"text-center space-y-6",children:[(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsx)("div",{className:"w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(hF,{className:"h-10 w-10 text-yellow-600"})})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-[#111827] mb-2",children:"Account Pending Approval"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Thank you for registering! Your account is currently under review."})]}),(0,l.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-left",children:[(0,l.jsx)("h3",{className:"text-sm text-yellow-900 mb-2",children:"What happens next?"}),(0,l.jsxs)("ul",{className:"text-sm text-yellow-800 space-y-2",children:[(0,l.jsxs)("li",{className:"flex items-start gap-2",children:[(0,l.jsx)(hE,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),(0,l.jsx)("span",{children:"Our team will review your registration details"})]}),(0,l.jsxs)("li",{className:"flex items-start gap-2",children:[(0,l.jsx)(hE,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),(0,l.jsx)("span",{children:"We'll verify your identity documents"})]}),(0,l.jsxs)("li",{className:"flex items-start gap-2",children:[(0,l.jsx)(hE,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),(0,l.jsx)("span",{children:"You'll receive an email once approved (usually within 1-2 business days)"})]})]})]}),(0,l.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,l.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Registration Summary:"}),(0,l.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-left space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Name:"}),(0,l.jsxs)("span",{className:"text-gray-900",children:[i.firstName," ",i.lastName]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Email:"}),(0,l.jsx)("span",{className:"text-gray-900",children:i.email})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Phone:"}),(0,l.jsx)("span",{className:"text-gray-900",children:i.phone})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"TIN:"}),(0,l.jsx)("span",{className:"text-gray-900",children:i.tin})]})]})]}),(0,l.jsx)(a2,{type:"button",onClick:b,className:"bg-[#059669] hover:bg-[#047857] h-10 px-8",children:"Return to Login"})]})]})}):(0,l.jsx)("div",{className:"min-h-screen w-full bg-gradient-to-br from-[#1E40AF] to-[#1E3A8A] flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"w-full max-w-[520px] bg-white rounded-2xl shadow-2xl p-8",children:[(0,l.jsxs)("button",{onClick:a,className:"flex items-center gap-2 text-[#6B7280] hover:text-[#374151] mb-6",children:[(0,l.jsx)(gT,{className:"h-4 w-4"}),"Back"]}),(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h2",{className:"text-[#111827] mb-2",children:"Customer Type"}),(0,l.jsx)("div",{className:"border-b border-[#E5E7EB] my-4"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("button",{onClick:()=>d("business"),className:"w-full p-6 border-2 border-[#E5E7EB] rounded-xl hover:border-[#1E40AF] hover:bg-[#EFF6FF] transition-all text-left",children:(0,l.jsxs)("div",{className:"flex items-start gap-4",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-[#EFF6FF] rounded-lg flex items-center justify-center flex-shrink-0",children:(0,l.jsx)(gP,{className:"h-6 w-6 text-[#1E40AF]"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-[#111827] mb-1",children:"Business Customer"}),(0,l.jsxs)("ul",{className:"text-[14px] text-[#6B7280] space-y-1",children:[(0,l.jsx)("li",{children:" Company account"}),(0,l.jsx)("li",{children:" Multiple users, contracts"}),(0,l.jsx)("li",{children:" Tax invoices, credit terms"})]})]})]})}),(0,l.jsx)("button",{onClick:()=>d("individual"),className:"w-full p-6 border-2 border-[#E5E7EB] rounded-xl hover:border-[#059669] hover:bg-[#F0FDF4] transition-all text-left",children:(0,l.jsxs)("div",{className:"flex items-start gap-4",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-[#F0FDF4] rounded-lg flex items-center justify-center flex-shrink-0",children:(0,l.jsx)(hC,{className:"h-6 w-6 text-[#059669]"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-[#111827] mb-1",children:"Individual Customer"}),(0,l.jsxs)("ul",{className:"text-[14px] text-[#6B7280] space-y-1",children:[(0,l.jsx)("li",{children:" Personal account"}),(0,l.jsx)("li",{children:" Single user, simple billing"}),(0,l.jsx)("li",{children:" Receipts only, prepayment"})]})]})]})})]})]})})}function hI(a,[b,c]){return Math.min(c,Math.max(b,a))}var hJ=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),hK=m.forwardRef((a,b)=>(0,l.jsx)(a8.span,{...a,ref:b,style:{...hJ,...a.style}}));hK.displayName="VisuallyHidden";var hL=[" ","Enter","ArrowUp","ArrowDown"],hM=[" ","Enter"],hN="Select",[hO,hP,hQ]=br(hN),[hR,hS]=a4(hN,[hQ,c0]),hT=c0(),[hU,hV]=hR(hN),[hW,hX]=hR(hN),hY=a=>{let{__scopeSelect:b,children:c,open:d,defaultOpen:e,onOpenChange:f,value:g,defaultValue:h,onValueChange:i,dir:j,name:k,autoComplete:n,disabled:o,required:p,form:q}=a,r=hT(b),[s,t]=m.useState(null),[u,v]=m.useState(null),[w,x]=m.useState(!1),y=bw(j),[z,A]=bq({prop:d,defaultProp:e??!1,onChange:f,caller:hN}),[B,C]=bq({prop:g,defaultProp:h,onChange:i,caller:hN}),D=m.useRef(null),E=!s||q||!!s.closest("form"),[F,G]=m.useState(new Set),H=Array.from(F).map(a=>a.props.value).join(";");return(0,l.jsx)(c3,{...r,children:(0,l.jsxs)(hU,{required:p,scope:b,trigger:s,onTriggerChange:t,valueNode:u,onValueNodeChange:v,valueNodeHasChildren:w,onValueNodeHasChildrenChange:x,contentId:bQ(),value:B,onValueChange:C,open:z,onOpenChange:A,dir:y,triggerPointerDownPosRef:D,disabled:o,children:[(0,l.jsx)(hO.Provider,{scope:b,children:(0,l.jsx)(hW,{scope:a.__scopeSelect,onNativeOptionAdd:m.useCallback(a=>{G(b=>new Set(b).add(a))},[]),onNativeOptionRemove:m.useCallback(a=>{G(b=>{let c=new Set(b);return c.delete(a),c})},[]),children:c})}),E?(0,l.jsxs)(iz,{"aria-hidden":!0,required:p,tabIndex:-1,name:k,autoComplete:n,value:B,onChange:a=>C(a.target.value),disabled:o,form:q,children:[void 0===B?(0,l.jsx)("option",{value:""}):null,Array.from(F)]},H):null]})})};hY.displayName=hN;var hZ="SelectTrigger",h$=m.forwardRef((a,b)=>{let{__scopeSelect:c,disabled:d=!1,...e}=a,f=hT(c),g=hV(hZ,c),h=g.disabled||d,i=V(b,g.onTriggerChange),j=hP(c),k=m.useRef("touch"),[n,o,p]=iB(a=>{let b=j().filter(a=>!a.disabled),c=b.find(a=>a.value===g.value),d=iC(b,a,c);void 0!==d&&g.onValueChange(d.value)}),q=a=>{h||(g.onOpenChange(!0),p()),a&&(g.triggerPointerDownPosRef.current={x:Math.round(a.pageX),y:Math.round(a.pageY)})};return(0,l.jsx)(c5,{asChild:!0,...f,children:(0,l.jsx)(a8.button,{type:"button",role:"combobox","aria-controls":g.contentId,"aria-expanded":g.open,"aria-required":g.required,"aria-autocomplete":"none",dir:g.dir,"data-state":g.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":iA(g.value)?"":void 0,...e,ref:i,onClick:bo(e.onClick,a=>{a.currentTarget.focus(),"mouse"!==k.current&&q(a)}),onPointerDown:bo(e.onPointerDown,a=>{k.current=a.pointerType;let b=a.target;b.hasPointerCapture(a.pointerId)&&b.releasePointerCapture(a.pointerId),0===a.button&&!1===a.ctrlKey&&"mouse"===a.pointerType&&(q(a),a.preventDefault())}),onKeyDown:bo(e.onKeyDown,a=>{let b=""!==n.current;a.ctrlKey||a.altKey||a.metaKey||1!==a.key.length||o(a.key),(!b||" "!==a.key)&&hL.includes(a.key)&&(q(),a.preventDefault())})})})});h$.displayName=hZ;var h_="SelectValue",h0=m.forwardRef((a,b)=>{let{__scopeSelect:c,className:d,style:e,children:f,placeholder:g="",...h}=a,i=hV(h_,c),{onValueNodeHasChildrenChange:j}=i,k=void 0!==f,m=V(b,i.onValueNodeChange);return a6(()=>{j(k)},[j,k]),(0,l.jsx)(a8.span,{...h,ref:m,style:{pointerEvents:"none"},children:iA(i.value)?(0,l.jsx)(l.Fragment,{children:g}):f})});h0.displayName=h_;var h1=m.forwardRef((a,b)=>{let{__scopeSelect:c,children:d,...e}=a;return(0,l.jsx)(a8.span,{"aria-hidden":!0,...e,ref:b,children:d||""})});h1.displayName="SelectIcon";var h2=a=>(0,l.jsx)(dg,{asChild:!0,...a});h2.displayName="SelectPortal";var h3="SelectContent",h4=m.forwardRef((a,b)=>{let c=hV(h3,a.__scopeSelect),[d,e]=m.useState();return(a6(()=>{e(new DocumentFragment)},[]),c.open)?(0,l.jsx)(h8,{...a,ref:b}):d?a7.createPortal((0,l.jsx)(h5,{scope:a.__scopeSelect,children:(0,l.jsx)(hO.Slot,{scope:a.__scopeSelect,children:(0,l.jsx)("div",{children:a.children})})}),d):null});h4.displayName=h3;var[h5,h6]=hR(h3),h7=W("SelectContent.RemoveScroll"),h8=m.forwardRef((a,b)=>{let{__scopeSelect:c,position:d="item-aligned",onCloseAutoFocus:e,onEscapeKeyDown:f,onPointerDownOutside:g,side:h,sideOffset:i,align:j,alignOffset:k,arrowPadding:n,collisionBoundary:o,collisionPadding:p,sticky:q,hideWhenDetached:r,avoidCollisions:s,...t}=a,u=hV(h3,c),[v,w]=m.useState(null),[x,y]=m.useState(null),z=V(b,a=>w(a)),[A,B]=m.useState(null),[C,D]=m.useState(null),E=hP(c),[F,G]=m.useState(!1),H=m.useRef(!1);m.useEffect(()=>{if(v)return dG(v)},[v]),bD();let I=m.useCallback(a=>{let[b,...c]=E().map(a=>a.ref.current),[d]=c.slice(-1),e=document.activeElement;for(let c of a)if(c===e||(c?.scrollIntoView({block:"nearest"}),c===b&&x&&(x.scrollTop=0),c===d&&x&&(x.scrollTop=x.scrollHeight),c?.focus(),document.activeElement!==e))return},[E,x]),J=m.useCallback(()=>I([A,v]),[I,A,v]);m.useEffect(()=>{F&&J()},[F,J]);let{onOpenChange:K,triggerPointerDownPosRef:L}=u;m.useEffect(()=>{if(v){let a={x:0,y:0},b=b=>{a={x:Math.abs(Math.round(b.pageX)-(L.current?.x??0)),y:Math.abs(Math.round(b.pageY)-(L.current?.y??0))}},c=c=>{a.x<=10&&a.y<=10?c.preventDefault():v.contains(c.target)||K(!1),document.removeEventListener("pointermove",b),L.current=null};return null!==L.current&&(document.addEventListener("pointermove",b),document.addEventListener("pointerup",c,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",c,{capture:!0})}}},[v,K,L]),m.useEffect(()=>{let a=()=>K(!1);return window.addEventListener("blur",a),window.addEventListener("resize",a),()=>{window.removeEventListener("blur",a),window.removeEventListener("resize",a)}},[K]);let[M,N]=iB(a=>{let b=E().filter(a=>!a.disabled),c=b.find(a=>a.ref.current===document.activeElement),d=iC(b,a,c);d&&setTimeout(()=>d.ref.current.focus())}),O=m.useCallback((a,b,c)=>{let d=!H.current&&!c;(void 0!==u.value&&u.value===b||d)&&(B(a),d&&(H.current=!0))},[u.value]),P=m.useCallback(()=>v?.focus(),[v]),Q=m.useCallback((a,b,c)=>{let d=!H.current&&!c;(void 0!==u.value&&u.value===b||d)&&D(a)},[u.value]),R="popper"===d?ia:h9,S=R===ia?{side:h,sideOffset:i,align:j,alignOffset:k,arrowPadding:n,collisionBoundary:o,collisionPadding:p,sticky:q,hideWhenDetached:r,avoidCollisions:s}:{};return(0,l.jsx)(h5,{scope:c,content:v,viewport:x,onViewportChange:y,itemRefCallback:O,selectedItem:A,onItemLeave:P,itemTextRefCallback:Q,focusSelectedItem:J,selectedItemText:C,position:d,isPositioned:F,searchRef:M,children:(0,l.jsx)(eb,{as:h7,allowPinchZoom:!0,children:(0,l.jsx)(bI,{asChild:!0,trapped:u.open,onMountAutoFocus:a=>{a.preventDefault()},onUnmountAutoFocus:bo(e,a=>{u.trigger?.focus({preventScroll:!0}),a.preventDefault()}),children:(0,l.jsx)(bz,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:a=>a.preventDefault(),onDismiss:()=>u.onOpenChange(!1),children:(0,l.jsx)(R,{role:"listbox",id:u.contentId,"data-state":u.open?"open":"closed",dir:u.dir,onContextMenu:a=>a.preventDefault(),...t,...S,onPlaced:()=>G(!0),ref:z,style:{display:"flex",flexDirection:"column",outline:"none",...t.style},onKeyDown:bo(t.onKeyDown,a=>{let b=a.ctrlKey||a.altKey||a.metaKey;if("Tab"===a.key&&a.preventDefault(),b||1!==a.key.length||N(a.key),["ArrowUp","ArrowDown","Home","End"].includes(a.key)){let b=E().filter(a=>!a.disabled).map(a=>a.ref.current);if(["ArrowUp","End"].includes(a.key)&&(b=b.slice().reverse()),["ArrowUp","ArrowDown"].includes(a.key)){let c=a.target,d=b.indexOf(c);b=b.slice(d+1)}setTimeout(()=>I(b)),a.preventDefault()}})})})})})})});h8.displayName="SelectContentImpl";var h9=m.forwardRef((a,b)=>{let{__scopeSelect:c,onPlaced:d,...e}=a,f=hV(h3,c),g=h6(h3,c),[h,i]=m.useState(null),[j,k]=m.useState(null),n=V(b,a=>k(a)),o=hP(c),p=m.useRef(!1),q=m.useRef(!0),{viewport:r,selectedItem:s,selectedItemText:t,focusSelectedItem:u}=g,v=m.useCallback(()=>{if(f.trigger&&f.valueNode&&h&&j&&r&&s&&t){let a=f.trigger.getBoundingClientRect(),b=j.getBoundingClientRect(),c=f.valueNode.getBoundingClientRect(),e=t.getBoundingClientRect();if("rtl"!==f.dir){let d=e.left-b.left,f=c.left-d,g=a.left-f,i=a.width+g,j=Math.max(i,b.width),k=hI(f,[10,Math.max(10,window.innerWidth-10-j)]);h.style.minWidth=i+"px",h.style.left=k+"px"}else{let d=b.right-e.right,f=window.innerWidth-c.right-d,g=window.innerWidth-a.right-f,i=a.width+g,j=Math.max(i,b.width),k=hI(f,[10,Math.max(10,window.innerWidth-10-j)]);h.style.minWidth=i+"px",h.style.right=k+"px"}let g=o(),i=window.innerHeight-20,k=r.scrollHeight,l=window.getComputedStyle(j),m=parseInt(l.borderTopWidth,10),n=parseInt(l.paddingTop,10),q=parseInt(l.borderBottomWidth,10),u=m+n+k+parseInt(l.paddingBottom,10)+q,v=Math.min(5*s.offsetHeight,u),w=window.getComputedStyle(r),x=parseInt(w.paddingTop,10),y=parseInt(w.paddingBottom,10),z=a.top+a.height/2-10,A=s.offsetHeight/2,B=m+n+(s.offsetTop+A);if(B<=z){let a=g.length>0&&s===g[g.length-1].ref.current;h.style.bottom="0px";let b=Math.max(i-z,A+(a?y:0)+(j.clientHeight-r.offsetTop-r.offsetHeight)+q);h.style.height=B+b+"px"}else{let a=g.length>0&&s===g[0].ref.current;h.style.top="0px";let b=Math.max(z,m+r.offsetTop+(a?x:0)+A);h.style.height=b+(u-B)+"px",r.scrollTop=B-z+r.offsetTop}h.style.margin="10px 0",h.style.minHeight=v+"px",h.style.maxHeight=i+"px",d?.(),requestAnimationFrame(()=>p.current=!0)}},[o,f.trigger,f.valueNode,h,j,r,s,t,f.dir,d]);a6(()=>v(),[v]);let[w,x]=m.useState();a6(()=>{j&&x(window.getComputedStyle(j).zIndex)},[j]);let y=m.useCallback(a=>{a&&!0===q.current&&(v(),u?.(),q.current=!1)},[v,u]);return(0,l.jsx)(ib,{scope:c,contentWrapper:h,shouldExpandOnScrollRef:p,onScrollButtonChange:y,children:(0,l.jsx)("div",{ref:i,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:(0,l.jsx)(a8.div,{...e,ref:n,style:{boxSizing:"border-box",maxHeight:"100%",...e.style}})})})});h9.displayName="SelectItemAlignedPosition";var ia=m.forwardRef((a,b)=>{let{__scopeSelect:c,align:d="start",collisionPadding:e=10,...f}=a,g=hT(c);return(0,l.jsx)(c9,{...g,...f,ref:b,align:d,collisionPadding:e,style:{boxSizing:"border-box",...f.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ia.displayName="SelectPopperPosition";var[ib,ic]=hR(h3,{}),id="SelectViewport",ie=m.forwardRef((a,b)=>{let{__scopeSelect:c,nonce:d,...e}=a,f=h6(id,c),g=ic(id,c),h=V(b,f.onViewportChange),i=m.useRef(0);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:d}),(0,l.jsx)(hO.Slot,{scope:c,children:(0,l.jsx)(a8.div,{"data-radix-select-viewport":"",role:"presentation",...e,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...e.style},onScroll:bo(e.onScroll,a=>{let b=a.currentTarget,{contentWrapper:c,shouldExpandOnScrollRef:d}=g;if(d?.current&&c){let a=Math.abs(i.current-b.scrollTop);if(a>0){let d=window.innerHeight-20,e=Math.max(parseFloat(c.style.minHeight),parseFloat(c.style.height));if(e<d){let f=e+a,g=Math.min(d,f),h=f-g;c.style.height=g+"px","0px"===c.style.bottom&&(b.scrollTop=h>0?h:0,c.style.justifyContent="flex-end")}}}i.current=b.scrollTop})})})]})});ie.displayName=id;var ig="SelectGroup",[ih,ii]=hR(ig);m.forwardRef((a,b)=>{let{__scopeSelect:c,...d}=a,e=bQ();return(0,l.jsx)(ih,{scope:c,id:e,children:(0,l.jsx)(a8.div,{role:"group","aria-labelledby":e,...d,ref:b})})}).displayName=ig;var ij="SelectLabel";m.forwardRef((a,b)=>{let{__scopeSelect:c,...d}=a,e=ii(ij,c);return(0,l.jsx)(a8.div,{id:e.id,...d,ref:b})}).displayName=ij;var ik="SelectItem",[il,im]=hR(ik),io=m.forwardRef((a,b)=>{let{__scopeSelect:c,value:d,disabled:e=!1,textValue:f,...g}=a,h=hV(ik,c),i=h6(ik,c),j=h.value===d,[k,n]=m.useState(f??""),[o,p]=m.useState(!1),q=V(b,a=>i.itemRefCallback?.(a,d,e)),r=bQ(),s=m.useRef("touch"),t=()=>{e||(h.onValueChange(d),h.onOpenChange(!1))};if(""===d)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,l.jsx)(il,{scope:c,value:d,disabled:e,textId:r,isSelected:j,onItemTextChange:m.useCallback(a=>{n(b=>b||(a?.textContent??"").trim())},[]),children:(0,l.jsx)(hO.ItemSlot,{scope:c,value:d,disabled:e,textValue:k,children:(0,l.jsx)(a8.div,{role:"option","aria-labelledby":r,"data-highlighted":o?"":void 0,"aria-selected":j&&o,"data-state":j?"checked":"unchecked","aria-disabled":e||void 0,"data-disabled":e?"":void 0,tabIndex:e?void 0:-1,...g,ref:q,onFocus:bo(g.onFocus,()=>p(!0)),onBlur:bo(g.onBlur,()=>p(!1)),onClick:bo(g.onClick,()=>{"mouse"!==s.current&&t()}),onPointerUp:bo(g.onPointerUp,()=>{"mouse"===s.current&&t()}),onPointerDown:bo(g.onPointerDown,a=>{s.current=a.pointerType}),onPointerMove:bo(g.onPointerMove,a=>{s.current=a.pointerType,e?i.onItemLeave?.():"mouse"===s.current&&a.currentTarget.focus({preventScroll:!0})}),onPointerLeave:bo(g.onPointerLeave,a=>{a.currentTarget===document.activeElement&&i.onItemLeave?.()}),onKeyDown:bo(g.onKeyDown,a=>{(i.searchRef?.current===""||" "!==a.key)&&(hM.includes(a.key)&&t()," "===a.key&&a.preventDefault())})})})})});io.displayName=ik;var ip="SelectItemText",iq=m.forwardRef((a,b)=>{let{__scopeSelect:c,className:d,style:e,...f}=a,g=hV(ip,c),h=h6(ip,c),i=im(ip,c),j=hX(ip,c),[k,n]=m.useState(null),o=V(b,a=>n(a),i.onItemTextChange,a=>h.itemTextRefCallback?.(a,i.value,i.disabled)),p=k?.textContent,q=m.useMemo(()=>(0,l.jsx)("option",{value:i.value,disabled:i.disabled,children:p},i.value),[i.disabled,i.value,p]),{onNativeOptionAdd:r,onNativeOptionRemove:s}=j;return a6(()=>(r(q),()=>s(q)),[r,s,q]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a8.span,{id:i.textId,...f,ref:o}),i.isSelected&&g.valueNode&&!g.valueNodeHasChildren?a7.createPortal(f.children,g.valueNode):null]})});iq.displayName=ip;var ir="SelectItemIndicator",is=m.forwardRef((a,b)=>{let{__scopeSelect:c,...d}=a;return im(ir,c).isSelected?(0,l.jsx)(a8.span,{"aria-hidden":!0,...d,ref:b}):null});is.displayName=ir;var it="SelectScrollUpButton",iu=m.forwardRef((a,b)=>{let c=h6(it,a.__scopeSelect),d=ic(it,a.__scopeSelect),[e,f]=m.useState(!1),g=V(b,d.onScrollButtonChange);return a6(()=>{if(c.viewport&&c.isPositioned){let a=function(){f(b.scrollTop>0)},b=c.viewport;return a(),b.addEventListener("scroll",a),()=>b.removeEventListener("scroll",a)}},[c.viewport,c.isPositioned]),e?(0,l.jsx)(ix,{...a,ref:g,onAutoScroll:()=>{let{viewport:a,selectedItem:b}=c;a&&b&&(a.scrollTop=a.scrollTop-b.offsetHeight)}}):null});iu.displayName=it;var iv="SelectScrollDownButton",iw=m.forwardRef((a,b)=>{let c=h6(iv,a.__scopeSelect),d=ic(iv,a.__scopeSelect),[e,f]=m.useState(!1),g=V(b,d.onScrollButtonChange);return a6(()=>{if(c.viewport&&c.isPositioned){let a=function(){let a=b.scrollHeight-b.clientHeight;f(Math.ceil(b.scrollTop)<a)},b=c.viewport;return a(),b.addEventListener("scroll",a),()=>b.removeEventListener("scroll",a)}},[c.viewport,c.isPositioned]),e?(0,l.jsx)(ix,{...a,ref:g,onAutoScroll:()=>{let{viewport:a,selectedItem:b}=c;a&&b&&(a.scrollTop=a.scrollTop+b.offsetHeight)}}):null});iw.displayName=iv;var ix=m.forwardRef((a,b)=>{let{__scopeSelect:c,onAutoScroll:d,...e}=a,f=h6("SelectScrollButton",c),g=m.useRef(null),h=hP(c),i=m.useCallback(()=>{null!==g.current&&(window.clearInterval(g.current),g.current=null)},[]);return m.useEffect(()=>()=>i(),[i]),a6(()=>{let a=h().find(a=>a.ref.current===document.activeElement);a?.ref.current?.scrollIntoView({block:"nearest"})},[h]),(0,l.jsx)(a8.div,{"aria-hidden":!0,...e,ref:b,style:{flexShrink:0,...e.style},onPointerDown:bo(e.onPointerDown,()=>{null===g.current&&(g.current=window.setInterval(d,50))}),onPointerMove:bo(e.onPointerMove,()=>{f.onItemLeave?.(),null===g.current&&(g.current=window.setInterval(d,50))}),onPointerLeave:bo(e.onPointerLeave,()=>{i()})})});m.forwardRef((a,b)=>{let{__scopeSelect:c,...d}=a;return(0,l.jsx)(a8.div,{"aria-hidden":!0,...d,ref:b})}).displayName="SelectSeparator";var iy="SelectArrow";m.forwardRef((a,b)=>{let{__scopeSelect:c,...d}=a,e=hT(c),f=hV(iy,c),g=h6(iy,c);return f.open&&"popper"===g.position?(0,l.jsx)(dc,{...e,...d,ref:b}):null}).displayName=iy;var iz=m.forwardRef(({__scopeSelect:a,value:b,...c},d)=>{let e=m.useRef(null),f=V(d,e),g=gU(b);return m.useEffect(()=>{let a=e.current;if(!a)return;let c=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(g!==b&&c){let d=new Event("change",{bubbles:!0});c.call(a,b),a.dispatchEvent(d)}},[g,b]),(0,l.jsx)(a8.select,{...c,style:{...hJ,...c.style},ref:f,defaultValue:b})});function iA(a){return""===a||void 0===a}function iB(a){let b=a5(a),c=m.useRef(""),d=m.useRef(0),e=m.useCallback(a=>{let e=c.current+a;b(e),function a(b){c.current=b,window.clearTimeout(d.current),""!==b&&(d.current=window.setTimeout(()=>a(""),1e3))}(e)},[b]),f=m.useCallback(()=>{c.current="",window.clearTimeout(d.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(d.current),[]),[c,e,f]}function iC(a,b,c){var d,e;let f=b.length>1&&Array.from(b).every(a=>a===b[0])?b[0]:b,g=c?a.indexOf(c):-1,h=(d=a,e=Math.max(g,0),d.map((a,b)=>d[(e+b)%d.length]));1===f.length&&(h=h.filter(a=>a!==c));let i=h.find(a=>a.textValue.toLowerCase().startsWith(f.toLowerCase()));return i!==c?i:void 0}iz.displayName="SelectBubbleInput";let iD=s("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);function iE({...a}){return(0,l.jsx)(hY,{"data-slot":"select",...a})}function iF({...a}){return(0,l.jsx)(h0,{"data-slot":"select-value",...a})}function iG({className:a,size:b="default",children:c,...d}){return(0,l.jsxs)(h$,{"data-slot":"select-trigger","data-size":b,className:a0("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...d,children:[c,(0,l.jsx)(h1,{asChild:!0,children:(0,l.jsx)(E,{className:"size-4 opacity-50"})})]})}function iH({className:a,children:b,position:c="popper",...d}){return(0,l.jsx)(h2,{children:(0,l.jsxs)(h4,{"data-slot":"select-content",className:a0("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===c&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:c,...d,children:[(0,l.jsx)(iJ,{}),(0,l.jsx)(ie,{className:a0("p-1","popper"===c&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:b}),(0,l.jsx)(iK,{})]})})}function iI({className:a,children:b,...c}){return(0,l.jsxs)(io,{"data-slot":"select-item",className:a0("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",a),...c,children:[(0,l.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,l.jsx)(is,{children:(0,l.jsx)(fm,{className:"size-4"})})}),(0,l.jsx)(iq,{children:b})]})}function iJ({className:a,...b}){return(0,l.jsx)(iu,{"data-slot":"select-scroll-up-button",className:a0("flex cursor-default items-center justify-center py-1",a),...b,children:(0,l.jsx)(iD,{className:"size-4"})})}function iK({className:a,...b}){return(0,l.jsx)(iw,{"data-slot":"select-scroll-down-button",className:a0("flex cursor-default items-center justify-center py-1",a),...b,children:(0,l.jsx)(E,{className:"size-4"})})}function iL({onBack:a,onComplete:b}){let[c,d]=(0,m.useState)(1);return(0,l.jsx)("div",{className:"min-h-screen w-full bg-gradient-to-br from-[#F59E0B] to-[#D97706] flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"w-full max-w-[520px] bg-white rounded-2xl shadow-2xl p-8",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("button",{onClick:a,className:"flex items-center gap-2 text-[#6B7280] hover:text-[#374151] mb-4",children:[(0,l.jsx)(gT,{className:"h-4 w-4"}),"Back"]}),(0,l.jsx)("h2",{className:"text-[#111827] mb-2",children:"Vendor Registration"}),(0,l.jsx)(hv,{value:c/4*100,className:"h-2"}),(0,l.jsxs)("p",{className:"text-[12px] text-[#6B7280] mt-2",children:["Step ",c," of 4"]})]}),1===c&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-[#111827] mb-4",children:"Vendor Profile"}),(0,l.jsx)("div",{className:"border-b border-[#E5E7EB] mb-4"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"companyName",children:"Company Name"}),(0,l.jsx)(a3,{id:"companyName",className:"h-10 border-[#D1D5DB]"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"businessClassification",children:"Business Classification"}),(0,l.jsxs)(iE,{children:[(0,l.jsx)(iG,{className:"h-10 border-[#D1D5DB]",children:(0,l.jsx)(iF,{placeholder:"Select classification..."})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"equipment",children:"Equipment Supplier"}),(0,l.jsx)(iI,{value:"services",children:"Service Provider"}),(0,l.jsx)(iI,{value:"materials",children:"Materials Supplier"}),(0,l.jsx)(iI,{value:"contractor",children:"Contractor"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"services",children:"Services/Products Offered"}),(0,l.jsx)(a3,{id:"services",className:"h-10 border-[#D1D5DB]",placeholder:"e.g., Construction equipment rental"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"yearsInOperation",children:"Years in Operation"}),(0,l.jsx)(a3,{id:"yearsInOperation",type:"number",className:"h-10 border-[#D1D5DB]"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"contactPerson",children:"Primary Contact Person"}),(0,l.jsx)(a3,{id:"contactPerson",className:"h-10 border-[#D1D5DB]"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"email",children:"Email Address"}),(0,l.jsx)(a3,{id:"email",type:"email",className:"h-10 border-[#D1D5DB]"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"phone",children:"Phone Number"}),(0,l.jsx)(a3,{id:"phone",type:"tel",placeholder:"+60 12-345-6789",className:"h-10 border-[#D1D5DB]"})]}),(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsx)(a2,{onClick:()=>d(2),className:"bg-[#F59E0B] hover:bg-[#D97706] h-10 px-6",children:"Next"})})]}),2===c&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-[#111827] mb-4",children:"Document Upload"}),(0,l.jsx)("div",{className:"border-b border-[#E5E7EB] mb-4"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"border-2 border-dashed border-[#D1D5DB] rounded-lg p-8 text-center hover:border-[#F59E0B] hover:bg-[#FFFBEB] transition-colors cursor-pointer",children:[(0,l.jsx)(hD,{className:"h-12 w-12 text-[#6B7280] mx-auto mb-3"}),(0,l.jsx)("p",{className:"text-[14px] text-[#374151] mb-1",children:"Business Registration"}),(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Drag & drop or click to upload"}),(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"PDF, JPG, PNG (Max 10MB)"})]}),(0,l.jsxs)("div",{className:"border-2 border-dashed border-[#D1D5DB] rounded-lg p-8 text-center hover:border-[#F59E0B] hover:bg-[#FFFBEB] transition-colors cursor-pointer",children:[(0,l.jsx)(hD,{className:"h-12 w-12 text-[#6B7280] mx-auto mb-3"}),(0,l.jsx)("p",{className:"text-[14px] text-[#374151] mb-1",children:"Tax Certificates"}),(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Drag & drop or click to upload"}),(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"PDF, JPG, PNG (Max 10MB)"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"bankName",children:"Bank Name"}),(0,l.jsx)(a3,{id:"bankName",className:"h-10 border-[#D1D5DB]"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"accountNumber",children:"Account Number"}),(0,l.jsx)(a3,{id:"accountNumber",className:"h-10 border-[#D1D5DB]"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"accountName",children:"Account Name"}),(0,l.jsx)(a3,{id:"accountName",className:"h-10 border-[#D1D5DB]"})]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)(a2,{variant:"outline",onClick:()=>d(1),className:"h-10 px-6",children:"Back"}),(0,l.jsx)(a2,{onClick:()=>d(3),className:"bg-[#F59E0B] hover:bg-[#D97706] h-10 px-6",children:"Next"})]})]}),3===c&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-[#111827] mb-4",children:"Service Agreements"}),(0,l.jsx)("div",{className:"border-b border-[#E5E7EB] mb-4"})]}),(0,l.jsx)(hw,{className:"border-[#E5E7EB]",children:(0,l.jsx)(hA,{className:"pt-4",children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(v,{className:"h-5 w-5 text-[#F59E0B] flex-shrink-0 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-[#111827] mb-2",children:"Terms & Conditions"}),(0,l.jsxs)("div",{className:"text-[12px] text-[#6B7280] space-y-1 max-h-40 overflow-y-auto p-3 bg-[#F9FAFB] rounded",children:[(0,l.jsx)("p",{children:"1. Vendor agrees to provide services/products as specified"}),(0,l.jsx)("p",{children:"2. Payment terms: Net 30 days from invoice date"}),(0,l.jsx)("p",{children:"3. Quality standards must be maintained"}),(0,l.jsx)("p",{children:"4. Compliance with all local regulations required"}),(0,l.jsx)("p",{children:"5. Confidentiality and data protection obligations"})]})]})]})})}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"paymentTerms",children:"Preferred Payment Terms"}),(0,l.jsxs)(iE,{children:[(0,l.jsx)(iG,{className:"h-10 border-[#D1D5DB]",children:(0,l.jsx)(iF,{placeholder:"Select payment terms..."})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"net15",children:"Net 15 days"}),(0,l.jsx)(iI,{value:"net30",children:"Net 30 days"}),(0,l.jsx)(iI,{value:"net45",children:"Net 45 days"}),(0,l.jsx)(iI,{value:"net60",children:"Net 60 days"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,l.jsx)(g8,{id:"agreeTerms"}),(0,l.jsx)(gR,{htmlFor:"agreeTerms",className:"cursor-pointer",children:"I agree to the terms and conditions"})]}),(0,l.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,l.jsx)(g8,{id:"agreeSLA"}),(0,l.jsx)(gR,{htmlFor:"agreeSLA",className:"cursor-pointer",children:"I accept the service level agreements"})]}),(0,l.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,l.jsx)(g8,{id:"agreeConfidentiality"}),(0,l.jsx)(gR,{htmlFor:"agreeConfidentiality",className:"cursor-pointer",children:"I understand confidentiality requirements"})]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)(a2,{variant:"outline",onClick:()=>d(2),className:"h-10 px-6",children:"Back"}),(0,l.jsx)(a2,{onClick:()=>d(4),className:"bg-[#F59E0B] hover:bg-[#D97706] h-10 px-6",children:"Next"})]})]}),4===c&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-[#111827] mb-4",children:"Review & Submit"}),(0,l.jsx)("div",{className:"border-b border-[#E5E7EB] mb-4"})]}),(0,l.jsx)(hw,{className:"border-[#E5E7EB] bg-[#FFFBEB]",children:(0,l.jsx)(hA,{className:"pt-4",children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(hf,{className:"h-5 w-5 text-[#F59E0B] flex-shrink-0 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-[#111827] mb-2",children:"Approval Process"}),(0,l.jsxs)("ol",{className:"text-[14px] text-[#6B7280] space-y-1",children:[(0,l.jsx)("li",{children:"1. Procurement team review"}),(0,l.jsx)("li",{children:"2. Document verification"}),(0,l.jsx)("li",{children:"3. Compliance check"}),(0,l.jsx)("li",{children:"4. Contract signing"}),(0,l.jsx)("li",{children:"5. Vendor portal access granted (3-5 business days)"})]})]})]})})}),(0,l.jsx)(hw,{className:"border-[#E5E7EB]",children:(0,l.jsxs)(hA,{className:"pt-4",children:[(0,l.jsx)("h4",{className:"text-[#111827] mb-3",children:"What happens next?"}),(0,l.jsxs)("div",{className:"text-[14px] text-[#6B7280] space-y-2",children:[(0,l.jsx)("p",{children:" You'll receive a confirmation email"}),(0,l.jsx)("p",{children:" Our team will review your application"}),(0,l.jsx)("p",{children:" We may contact you for additional information"}),(0,l.jsx)("p",{children:" Upon approval, you'll get vendor portal credentials"})]})]})}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)(a2,{variant:"outline",onClick:()=>d(3),className:"h-10 px-6",children:"Back"}),(0,l.jsx)(a2,{onClick:b,className:"bg-[#F59E0B] hover:bg-[#D97706] h-10 px-6",children:"Submit for Approval"})]})]})]})})}let iM=s("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);var iN="Radio",[iO,iP]=a4(iN),[iQ,iR]=iO(iN),iS=m.forwardRef((a,b)=>{let{__scopeRadio:c,name:d,checked:e=!1,required:f,disabled:g,value:h="on",onCheck:i,form:j,...k}=a,[n,o]=m.useState(null),p=V(b,a=>o(a)),q=m.useRef(!1),r=!n||j||!!n.closest("form");return(0,l.jsxs)(iQ,{scope:c,checked:e,disabled:g,children:[(0,l.jsx)(a8.button,{type:"button",role:"radio","aria-checked":e,"data-state":iW(e),"data-disabled":g?"":void 0,disabled:g,value:h,...k,ref:p,onClick:bo(a.onClick,a=>{e||i?.(),r&&(q.current=a.isPropagationStopped(),q.current||a.stopPropagation())})}),r&&(0,l.jsx)(iV,{control:n,bubbles:!q.current,name:d,value:h,checked:e,required:f,disabled:g,form:j,style:{transform:"translateX(-100%)"}})]})});iS.displayName=iN;var iT="RadioIndicator",iU=m.forwardRef((a,b)=>{let{__scopeRadio:c,forceMount:d,...e}=a,f=iR(iT,c);return(0,l.jsx)(dh,{present:d||f.checked,children:(0,l.jsx)(a8.span,{"data-state":iW(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:b})})});iU.displayName=iT;var iV=m.forwardRef(({__scopeRadio:a,control:b,checked:c,bubbles:d=!0,...e},f)=>{let g=m.useRef(null),h=V(g,f),i=gU(c),j=cZ(b);return m.useEffect(()=>{let a=g.current;if(!a)return;let b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(i!==c&&b){let e=new Event("click",{bubbles:d});b.call(a,c),a.dispatchEvent(e)}},[i,c,d]),(0,l.jsx)(a8.input,{type:"radio","aria-hidden":!0,defaultChecked:c,...e,tabIndex:-1,ref:h,style:{...e.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function iW(a){return a?"checked":"unchecked"}iV.displayName="RadioBubbleInput";var iX=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],iY="RadioGroup",[iZ,i$]=a4(iY,[dr,iP]),i_=dr(),i0=iP(),[i1,i2]=iZ(iY),i3=m.forwardRef((a,b)=>{let{__scopeRadioGroup:c,name:d,defaultValue:e,value:f,required:g=!1,disabled:h=!1,orientation:i,dir:j,loop:k=!0,onValueChange:m,...n}=a,o=i_(c),p=bw(j),[q,r]=bq({prop:f,defaultProp:e??null,onChange:m,caller:iY});return(0,l.jsx)(i1,{scope:c,name:d,required:g,disabled:h,value:q,onValueChange:r,children:(0,l.jsx)(du,{asChild:!0,...o,orientation:i,dir:p,loop:k,children:(0,l.jsx)(a8.div,{role:"radiogroup","aria-required":g,"aria-orientation":i,"data-disabled":h?"":void 0,dir:p,...n,ref:b})})})});i3.displayName=iY;var i4="RadioGroupItem",i5=m.forwardRef((a,b)=>{let{__scopeRadioGroup:c,disabled:d,...e}=a,f=i2(i4,c),g=f.disabled||d,h=i_(c),i=i0(c),j=m.useRef(null),k=V(b,j),n=f.value===e.value,o=m.useRef(!1);return m.useEffect(()=>{let a=a=>{iX.includes(a.key)&&(o.current=!0)},b=()=>o.current=!1;return document.addEventListener("keydown",a),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",a),document.removeEventListener("keyup",b)}},[]),(0,l.jsx)(dx,{asChild:!0,...h,focusable:!g,active:n,children:(0,l.jsx)(iS,{disabled:g,required:f.required,checked:n,...i,...e,name:f.name,ref:k,onCheck:()=>f.onValueChange(e.value),onKeyDown:bo(a=>{"Enter"===a.key&&a.preventDefault()}),onFocus:bo(e.onFocus,()=>{o.current&&j.current?.click()})})})});i5.displayName=i4;var i6=m.forwardRef((a,b)=>{let{__scopeRadioGroup:c,...d}=a,e=i0(c);return(0,l.jsx)(iU,{...e,...d,ref:b})});function i7({className:a,...b}){return(0,l.jsx)(i3,{"data-slot":"radio-group",className:a0("grid gap-3",a),...b})}function i8({className:a,...b}){return(0,l.jsx)(i5,{"data-slot":"radio-group-item",className:a0("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...b,children:(0,l.jsx)(i6,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,l.jsx)(fo,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function i9({onBack:a,onContinue:b}){let[c,d]=(0,m.useState)("email"),[e,f]=(0,m.useState)(""),[g,h]=(0,m.useState)(""),[i,j]=(0,m.useState)(""),[k,n]=(0,m.useState)(!1);return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#F15929] via-[#F15929] to-[#D14820] flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"w-full max-w-md",children:[(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("button",{onClick:a,className:"flex items-center gap-2 text-[#6B7280] hover:text-[#374151] mb-4",children:[(0,l.jsx)(gT,{className:"h-4 w-4"}),"Back to Login"]}),(0,l.jsx)("h2",{className:"text-[#231F20] mb-2",children:"Reset Password"}),(0,l.jsx)("p",{className:"text-[#6B7280]",children:"email"===c?"Enter the email associated with your account. We'll send a verification code.":"Enter the phone number associated with your account. We'll send a verification code via SMS."})]}),(0,l.jsxs)("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,l.jsx)("p",{className:"text-sm text-blue-800 mb-2",children:(0,l.jsx)("strong",{children:"Demo Credentials:"})}),(0,l.jsxs)("div",{className:"text-xs text-blue-700 space-y-1",children:[(0,l.jsx)("p",{children:" Email: customer@demo.com"}),(0,l.jsx)("p",{children:" Phone: +60123456789"})]})]}),(0,l.jsxs)("form",{onSubmit:a=>{if(a.preventDefault(),j(""),"email"===c){if(!e)return void j("Please enter your email address.");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))return void j("Please enter a valid email address.")}else{if(!g)return void j("Please enter your phone number.");if(!/^(\+?60)?[0-9\s\-]{9,15}$/.test(g.replace(/\s/g,"")))return void j("Please enter a valid phone number.")}n(!0),setTimeout(()=>{if("email"===c&&!["customer@demo.com","admin@company.com","sales@company.com","finance@company.com","operations@company.com","production@company.com"].includes(e)){j("No account found for this email."),n(!1);return}if("phone"===c&&!["+60123456789","+60198765432","0123456789"].includes(g.replace(/\s/g,""))){j("No account found for this phone number."),n(!1);return}n(!1),b("email"===c?e:g)},800)},className:"space-y-6",children:[i&&(0,l.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg flex items-start gap-2",children:[(0,l.jsx)("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,l.jsx)("span",{className:"text-sm",children:i})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"method",children:"Select Method"}),(0,l.jsxs)(i7,{value:c,onValueChange:a=>d(a),children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(i8,{value:"email"}),(0,l.jsx)(gR,{htmlFor:"email",children:"Email"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(i8,{value:"phone"}),(0,l.jsx)(gR,{htmlFor:"phone",children:"Phone"})]})]})]}),"email"===c&&(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"email",children:"Email Address"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(a3,{id:"email",type:"email",placeholder:"name@example.com",value:e,onChange:a=>{f(a.target.value),j("")},className:"h-12 border-[#D1D5DB] pl-12",disabled:k}),(0,l.jsx)(hh,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-[#6B7280]"})]})]}),"phone"===c&&(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"phone",children:"Phone Number"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(a3,{id:"phone",type:"tel",placeholder:"+60 XX-XXX-XXXX",value:g,onChange:a=>{h(a.target.value),j("")},className:"h-12 border-[#D1D5DB] pl-12",disabled:k}),(0,l.jsx)(iM,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-[#6B7280]"})]})]}),(0,l.jsx)(a2,{type:"submit",className:"w-full h-12 bg-[#F15929] hover:bg-[#D14820]",disabled:k||!e&&!g,children:k?(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):"Send Verification Code"})]})]}),(0,l.jsx)("div",{className:"text-center mt-6 text-white text-sm",children:" 2025 Power Metal & Steel. All rights reserved."})]})})}function ja({email:a,onBack:b,onContinue:c,onChangEmail:d}){let[e,f]=(0,m.useState)(["","","","","",""]),[g,h]=(0,m.useState)(""),[i,j]=(0,m.useState)(300),[k,n]=(0,m.useState)(0),[o,p]=(0,m.useState)(!1),q=(0,m.useRef)([]);(0,m.useEffect)(()=>{if(i>0){let a=setTimeout(()=>j(i-1),1e3);return()=>clearTimeout(a)}},[i]);let r=a=>{let b=Math.floor(a/60);return`${b.toString().padStart(2,"0")}:${(a%60).toString().padStart(2,"0")}`},s=a=>{a.preventDefault();let b=a.clipboardData.getData("text").slice(0,6);/^\d+$/.test(b)&&(f(b.split("").concat(Array(6).fill("")).slice(0,6)),h(""),6===b.length?(q.current[5]?.focus(),setTimeout(()=>t(b),100)):q.current[b.length]?.focus())},t=a=>{let b=a||e.join("");6!==b.length?h("Please enter all 6 digits."):(p(!0),setTimeout(()=>{if("123456"===b)p(!1),gG.success("Code verified successfully!"),c();else{let a=k+1;n(a),a>=3?(h("Too many failed attempts. Please request a new code."),f(["","","","","",""]),setTimeout(()=>{d()},2e3)):(h(`Invalid or expired code. ${3-a} attempts remaining.`),f(["","","","","",""]),q.current[0]?.focus()),p(!1)}},800))},u=e.every(a=>""!==a);return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#F15929] via-[#F15929] to-[#D14820] flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"w-full max-w-md",children:[(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("button",{onClick:b,className:"flex items-center gap-2 text-[#6B7280] hover:text-[#374151] mb-4",children:[(0,l.jsx)(gT,{className:"h-4 w-4"}),"Back"]}),(0,l.jsx)("h2",{className:"text-[#231F20] mb-2",children:"Enter Verification Code"}),(0,l.jsxs)("p",{className:"text-[#6B7280] text-sm",children:["We sent a 6-digit verification code to"," ",(0,l.jsx)("span",{className:"text-[#231F20]",children:a}),". Code expires in"," ",(0,l.jsx)("span",{className:"text-[#F15929]",children:r(i)}),"."]})]}),g&&(0,l.jsxs)("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg flex items-start gap-2",children:[(0,l.jsx)("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,l.jsx)("span",{className:"text-sm",children:g})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("div",{className:"flex gap-2 justify-center",children:e.map((a,b)=>(0,l.jsx)(a3,{ref:a=>q.current[b]=a,type:"text",inputMode:"numeric",maxLength:1,value:a,onChange:a=>((a,b)=>{if(b&&!/^\d$/.test(b))return;let c=[...e];c[a]=b,f(c),h(""),b&&a<5&&q.current[a+1]?.focus(),c.every(a=>""!==a)&&5===a&&setTimeout(()=>t(c.join("")),100)})(b,a.target.value),onKeyDown:a=>{"Backspace"===a.key&&!e[b]&&b>0&&q.current[b-1]?.focus()},onPaste:0===b?s:void 0,className:"w-12 h-14 text-center border-[#D1D5DB] focus:border-[#F15929] focus:ring-[#F15929]",disabled:o},b))}),(0,l.jsx)("p",{className:"text-xs text-[#6B7280] text-center mt-3",children:"Check your spam folder if you don't see the email."})]}),(0,l.jsx)("div",{className:"mb-6 p-3 bg-[#F3F4F6] rounded-lg",children:(0,l.jsxs)("p",{className:"text-xs text-[#6B7280]",children:["Demo: Use code ",(0,l.jsx)("span",{className:"text-[#231F20]",children:"123456"})]})}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)(a2,{onClick:()=>t(),className:"w-full h-12 bg-[#F15929] hover:bg-[#D14820]",disabled:!u||o,children:o?(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Verifying..."]}):"Verify Code"}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("button",{type:"button",onClick:()=>{i>0||(gG.success(`Verification code resent to ${a}`),j(300),f(["","","","","",""]),h(""),n(0),q.current[0]?.focus())},disabled:i>0,className:`text-sm ${i>0?"text-[#9CA3AF] cursor-not-allowed":"text-[#F15929] hover:text-[#D14820] hover:underline"}`,children:i>0?`Resend in ${r(i)}`:"Resend Code"}),(0,l.jsx)("button",{type:"button",onClick:d,className:"text-sm text-[#6B7280] hover:text-[#374151] hover:underline",children:"Use a different email"})]})]})]}),(0,l.jsx)("div",{className:"text-center mt-6 text-white text-sm",children:" 2025 Power Metal & Steel. All rights reserved."})]})})}i6.displayName="RadioGroupIndicator";let jb=s("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),jc=[{id:"length",label:"At least 8 characters",test:a=>a.length>=8},{id:"letter",label:"At least 1 letter",test:a=>/[a-zA-Z]/.test(a)},{id:"digit",label:"At least 1 number",test:a=>/\d/.test(a)},{id:"special",label:"At least 1 special character",test:a=>/[!@#$%^&*(),.?":{}|<>]/.test(a)}];function jd({onBack:a,onSuccess:b}){let[c,d]=(0,m.useState)(""),[e,f]=(0,m.useState)(""),[g,h]=(0,m.useState)(!1),[i,j]=(0,m.useState)(!1),[k,n]=(0,m.useState)(""),[o,p]=(0,m.useState)(""),[q,r]=(0,m.useState)(!1),s=()=>jc.every(a=>a.test(c)),t=jc.map(a=>({...a,passed:a.test(c)})),u=s()&&c===e&&e.length>0;return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#F15929] via-[#F15929] to-[#D14820] flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"w-full max-w-md",children:[(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("button",{onClick:a,className:"flex items-center gap-2 text-[#6B7280] hover:text-[#374151] mb-4",children:[(0,l.jsx)(gT,{className:"h-4 w-4"}),"Back"]}),(0,l.jsx)("h2",{className:"text-[#231F20] mb-2",children:"Create New Password"}),(0,l.jsx)("p",{className:"text-[#6B7280]",children:"Choose a strong password. You'll use it to sign in."})]}),(0,l.jsxs)("form",{onSubmit:a=>{(a.preventDefault(),n(""),p(""),c)?s()?e?c!==e?p("Passwords do not match."):"1234"===c?n("New password cannot be same as previous password."):(r(!0),setTimeout(()=>{r(!1),b()},1e3)):p("Please confirm your password."):n("Password must meet all requirements."):n("Please enter a new password.")},className:"space-y-6",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"newPassword",children:"New Password"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(a3,{id:"newPassword",type:g?"text":"password",placeholder:"Enter new password",value:c,onChange:a=>{var b;d(b=a.target.value),n(""),e&&b===e&&p("")},className:`h-12 border-[#D1D5DB] pr-12 ${k?"border-red-500":""}`,disabled:q}),(0,l.jsx)("button",{type:"button",onClick:()=>h(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280] hover:text-[#374151]",tabIndex:-1,children:g?(0,l.jsx)(gO,{className:"h-5 w-5"}):(0,l.jsx)(gN,{className:"h-5 w-5"})})]}),k&&(0,l.jsx)("p",{className:"text-sm text-red-600",children:k}),c&&(0,l.jsx)("div",{className:"mt-3 space-y-2",children:t.map(a=>(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[a.passed?(0,l.jsx)(hg,{className:"h-4 w-4 text-[#059669]"}):(0,l.jsx)(jb,{className:"h-4 w-4 text-[#DC2626]"}),(0,l.jsx)("span",{className:a.passed?"text-[#059669]":"text-[#6B7280]",children:a.label})]},a.id))})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(a3,{id:"confirmPassword",type:i?"text":"password",placeholder:"Re-enter new password",value:e,onChange:a=>{var b;f(b=a.target.value),b&&c&&b!==c?p("Passwords do not match."):p("")},className:`h-12 border-[#D1D5DB] pr-12 ${o?"border-red-500":""}`,disabled:q}),(0,l.jsx)("button",{type:"button",onClick:()=>j(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280] hover:text-[#374151]",tabIndex:-1,children:i?(0,l.jsx)(gO,{className:"h-5 w-5"}):(0,l.jsx)(gN,{className:"h-5 w-5"})})]}),o&&(0,l.jsx)("p",{className:"text-sm text-red-600",children:o}),!o&&e&&c===e&&(0,l.jsxs)("p",{className:"text-sm text-[#059669] flex items-center gap-1",children:[(0,l.jsx)(hg,{className:"h-4 w-4"}),"Passwords match"]})]}),(0,l.jsx)("div",{className:"p-4 bg-[#F3F4F6] rounded-lg",children:(0,l.jsx)("p",{className:"text-xs text-[#6B7280]",children:"By saving, your password will be updated immediately."})}),(0,l.jsx)(a2,{type:"submit",className:"w-full h-12 bg-[#F15929] hover:bg-[#D14820]",disabled:!u||q,children:q?(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):"Save New Password"})]})]}),(0,l.jsx)("div",{className:"text-center mt-6 text-white text-sm",children:" 2025 Power Metal & Steel. All rights reserved."})]})})}function je({onReturnToLogin:a}){return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#F15929] via-[#F15929] to-[#D14820] flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"w-full max-w-md",children:[(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[(0,l.jsx)("div",{className:"flex justify-center mb-6",children:(0,l.jsx)("div",{className:"w-20 h-20 bg-[#059669] rounded-full flex items-center justify-center",children:(0,l.jsx)(hE,{className:"h-10 w-10 text-white"})})}),(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h2",{className:"text-[#231F20] mb-3",children:"Password Updated Successfully"}),(0,l.jsx)("p",{className:"text-[#6B7280]",children:"Your password has been changed. You can now sign in using your new password."})]}),(0,l.jsx)("div",{className:"mb-6 p-4 bg-[#F3F4F6] rounded-lg",children:(0,l.jsx)("p",{className:"text-sm text-[#374151]",children:"For your security, we've sent a confirmation email to your registered email address."})}),(0,l.jsx)(a2,{onClick:a,className:"w-full h-12 bg-[#F15929] hover:bg-[#D14820]",children:"Return to Login"})]}),(0,l.jsx)("div",{className:"text-center mt-6 text-white text-sm",children:" 2025 Power Metal & Steel. All rights reserved."})]})})}let jf=s("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),jg=s("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),jh=s("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),ji=s("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),jj=ab("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function jk({className:a,variant:b,asChild:c=!1,...d}){return(0,l.jsx)(c?X:"span",{"data-slot":"badge",className:a0(jj({variant:b}),a),...d})}function jl({...a}){return(0,l.jsx)(fz,{"data-slot":"dialog",...a})}function jm({...a}){return(0,l.jsx)(fB,{"data-slot":"dialog-trigger",...a})}function jn({...a}){return(0,l.jsx)(fF,{"data-slot":"dialog-portal",...a})}let jo=m.forwardRef(({className:a,...b},c)=>(0,l.jsx)(fH,{ref:c,"data-slot":"dialog-overlay",className:a0("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...b}));jo.displayName="DialogOverlay";let jp=m.forwardRef(({className:a,children:b,...c},d)=>(0,l.jsxs)(jn,{"data-slot":"dialog-portal",children:[(0,l.jsx)(jo,{}),(0,l.jsxs)(fL,{ref:d,"data-slot":"dialog-content",className:a0("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...c,children:[b,(0,l.jsxs)(fU,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,l.jsx)(D,{}),(0,l.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));function jq({className:a,...b}){return(0,l.jsx)("div",{"data-slot":"dialog-header",className:a0("flex flex-col gap-2 text-center sm:text-left",a),...b})}function jr({className:a,...b}){return(0,l.jsx)("div",{"data-slot":"dialog-footer",className:a0("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...b})}function js({className:a,...b}){return(0,l.jsx)(fQ,{"data-slot":"dialog-title",className:a0("text-lg leading-none font-semibold",a),...b})}function jt({className:a,...b}){return(0,l.jsx)(fS,{"data-slot":"dialog-description",className:a0("text-muted-foreground text-sm",a),...b})}function ju({className:a,...b}){return(0,l.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,l.jsx)("table",{"data-slot":"table",className:a0("w-full caption-bottom text-sm",a),...b})})}function jv({className:a,...b}){return(0,l.jsx)("thead",{"data-slot":"table-header",className:a0("[&_tr]:border-b",a),...b})}function jw({className:a,...b}){return(0,l.jsx)("tbody",{"data-slot":"table-body",className:a0("[&_tr:last-child]:border-0",a),...b})}function jx({className:a,...b}){return(0,l.jsx)("tr",{"data-slot":"table-row",className:a0("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...b})}function jy({className:a,...b}){return(0,l.jsx)("th",{"data-slot":"table-head",className:a0("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...b})}function jz({className:a,...b}){return(0,l.jsx)("td",{"data-slot":"table-cell",className:a0("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...b})}jp.displayName="DialogContent";var jA="horizontal",jB=["horizontal","vertical"],jC=m.forwardRef((a,b)=>{var c;let{decorative:d,orientation:e=jA,...f}=a,g=(c=e,jB.includes(c))?e:jA;return(0,l.jsx)(a8.div,{"data-orientation":g,...d?{role:"none"}:{"aria-orientation":"vertical"===g?g:void 0,role:"separator"},...f,ref:b})});function jD({className:a,orientation:b="horizontal",decorative:c=!0,...d}){return(0,l.jsx)(jC,{"data-slot":"separator-root",decorative:c,orientation:b,className:a0("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",a),...d})}function jE({className:a,...b}){return(0,l.jsx)("textarea",{"data-slot":"textarea",className:a0("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...b})}jC.displayName="Separator";let jF=[{id:"1",firstName:"John",lastName:"Doe",email:"john.doe@company.com",phone:"+60 12-345-6789",userType:"Internal Staff",role:"Admin",status:"Active",lastLogin:"2024-11-03"},{id:"2",firstName:"Sarah",lastName:"Williams",email:"sarah.w@company.com",phone:"+60 12-456-7890",userType:"Internal Staff",role:"Sales",status:"Active",lastLogin:"2024-11-04"},{id:"3",firstName:"Mike",lastName:"Johnson",email:"mike.j@gmail.com",phone:"+60 13-234-5678",userType:"Individual Customer",status:"Pending Approval",tin:"IG123456789012",idCardNumber:"920415-10-5234",idCardFrontImage:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=400",idCardBackImage:"https://images.unsplash.com/photo-1554224154-26032ffc0d07?w=400",lastLogin:"Never"},{id:"4",firstName:"Ahmad",lastName:"Hassan",email:"ahmad@steelworks.com",phone:"+60 19-876-5432",userType:"Business Customer",status:"Pending Approval",brn:"202201123456",companyTin:"C987654321012",lastLogin:"Never"},{id:"5",firstName:"Lisa",lastName:"Tan",email:"lisa.tan@outlook.com",phone:"+60 16-555-4321",userType:"Individual Customer",status:"Active",tin:"IG998877665544",idCardNumber:"880320-08-1234",lastLogin:"2024-11-01"},{id:"6",firstName:"David",lastName:"Lee",email:"david@construction.my",phone:"+60 17-222-3333",userType:"Business Customer",status:"Active",brn:"201905234567",companyTin:"PT123456789012",lastLogin:"2024-11-02"},{id:"7",firstName:"Emily",lastName:"Wong",email:"emily.wong@company.com",phone:"+60 12-888-9999",userType:"Internal Staff",status:"Pending Approval",lastLogin:"Never"}];function jG(){let[a,b]=(0,m.useState)(jF),[c,d]=(0,m.useState)(""),[e,f]=(0,m.useState)("all"),[g,h]=(0,m.useState)("all"),[i,j]=(0,m.useState)(!1),[k,n]=(0,m.useState)(!1),[o,p]=(0,m.useState)("list"),[q,r]=(0,m.useState)(!1),[s,t]=(0,m.useState)(!1),[u,v]=(0,m.useState)(null),[w,x]=(0,m.useState)("Sales"),[y,z]=(0,m.useState)(""),[B,C]=(0,m.useState)({firstName:"",lastName:"",email:"",phone:"",role:"",status:"Active"}),[E,F]=(0,m.useState)({firstName:"",lastName:"",email:"",phone:"",role:"",status:"Active"}),G=a.filter(a=>{let b=a.firstName.toLowerCase().includes(c.toLowerCase())||a.lastName.toLowerCase().includes(c.toLowerCase())||a.email.toLowerCase().includes(c.toLowerCase()),d="all"===e||a.userType===e,f="all"===g||a.status===g;return b&&d&&f}),H=a=>{switch(a){case"Internal Staff":return(0,l.jsx)(hf,{className:"h-3.5 w-3.5"});case"Individual Customer":return(0,l.jsx)(hC,{className:"h-3.5 w-3.5"});case"Business Customer":return(0,l.jsx)(gP,{className:"h-3.5 w-3.5"})}},I=a=>{switch(a){case"Internal Staff":return"bg-[#1E40AF] hover:bg-[#1E3A8A] text-white";case"Individual Customer":return"bg-[#8B5CF6] hover:bg-[#7C3AED] text-white";case"Business Customer":return"bg-[#059669] hover:bg-[#047857] text-white"}};return(0,l.jsxs)("div",{className:"space-y-6",children:["detail"===o&&u?(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(a2,{variant:"outline",size:"icon",onClick:()=>{p("list"),v(null),z("")},className:"h-10 w-10",children:(0,l.jsx)(gT,{className:"h-5 w-5"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h1",{children:"User Details"}),(0,l.jsx)("p",{className:"text-[#374151]",children:"Pending Approval"===u.status?"Review user information and approve or reject the registration":"View detailed user information"})]})]}),(0,l.jsx)("div",{className:"bg-white rounded-lg border border-[#E5E7EB] p-6",children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("div",{children:"Active"===u.status?(0,l.jsxs)(jk,{className:"bg-[#059669] hover:bg-[#047857]",children:[(0,l.jsx)(hE,{className:"mr-1 h-3 w-3"}),"Active"]}):"Pending Approval"===u.status?(0,l.jsxs)(jk,{className:"bg-[#F59E0B] hover:bg-[#D97706]",children:[(0,l.jsx)(hF,{className:"mr-1 h-3 w-3"}),"Pending Approval"]}):(0,l.jsxs)(jk,{className:"bg-[#6B7280] hover:bg-[#4B5563]",children:[(0,l.jsx)(jb,{className:"mr-1 h-3 w-3"}),"Inactive"]})}),(0,l.jsxs)(jk,{className:I(u.userType),children:[H(u.userType),(0,l.jsx)("span",{className:"ml-1.5",children:u.userType})]})]}),(0,l.jsx)(jD,{}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-[#111827]",children:"Personal Information"}),(0,l.jsx)(hw,{className:"border-[#E5E7EB]",children:(0,l.jsxs)(hA,{className:"pt-6 space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"First Name"}),(0,l.jsx)("p",{className:"text-[#111827] mt-1",children:u.firstName})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Last Name"}),(0,l.jsx)("p",{className:"text-[#111827] mt-1",children:u.lastName})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Email Address"}),(0,l.jsx)("p",{className:"text-[#111827] mt-1",children:u.email})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Phone Number"}),(0,l.jsx)("p",{className:"text-[#111827] mt-1",children:u.phone})]})]})})]}),"Internal Staff"===u.userType&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(jD,{}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-[#111827]",children:"Role Assignment"}),(0,l.jsx)(hw,{className:"border-[#E5E7EB] bg-[#F9FAFB]",children:(0,l.jsx)(hA,{className:"pt-6",children:"Pending Approval"===u.status?(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"role-select",children:["Assign Role ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsxs)(iE,{value:w,onValueChange:a=>x(a),children:[(0,l.jsx)(iG,{id:"role-select",className:"h-10",children:(0,l.jsx)(iF,{placeholder:"Select role"})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"Admin",children:"Admin"}),(0,l.jsx)(iI,{value:"Sales",children:"Sales"}),(0,l.jsx)(iI,{value:"Finance",children:"Finance"}),(0,l.jsx)(iI,{value:"Support",children:"Support"}),(0,l.jsx)(iI,{value:"Operations",children:"Operations"}),(0,l.jsx)(iI,{value:"Production",children:"Production"})]})]}),(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Role must be assigned before approval"})]}):(0,l.jsxs)("div",{children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Current Role"}),(0,l.jsx)("p",{className:"text-[#111827] mt-1",children:u.role})]})})})]})]}),"Individual Customer"===u.userType&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(jD,{}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-[#111827]",children:"Tax & Identity Verification"}),(0,l.jsx)(hw,{className:"border-[#E5E7EB]",children:(0,l.jsxs)(hA,{className:"pt-6 space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Tax Identification Number (TIN)"}),(0,l.jsx)("p",{className:"text-[#111827] mt-1 font-mono",children:u.tin})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Identification Card Number"}),(0,l.jsx)("p",{className:"text-[#111827] mt-1",children:u.idCardNumber})]})]})}),u.idCardFrontImage&&u.idCardBackImage&&(0,l.jsx)(hw,{className:"border-[#E5E7EB]",children:(0,l.jsxs)(hA,{className:"pt-6 space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(gR,{className:"text-[#6B7280] mb-2 block",children:"ID Card Front"}),(0,l.jsx)("img",{src:u.idCardFrontImage,alt:"ID Card Front",className:"w-full h-48 object-cover rounded-lg border border-[#E5E7EB]"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(gR,{className:"text-[#6B7280] mb-2 block",children:"ID Card Back"}),(0,l.jsx)("img",{src:u.idCardBackImage,alt:"ID Card Back",className:"w-full h-48 object-cover rounded-lg border border-[#E5E7EB]"})]})]})})]})]}),"Business Customer"===u.userType&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(jD,{}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-[#111827]",children:"Business Details"}),(0,l.jsx)(hw,{className:"border-[#E5E7EB]",children:(0,l.jsxs)(hA,{className:"pt-6 space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Business Registration Number (BRN)"}),(0,l.jsx)("p",{className:"text-[#111827] mt-1 font-mono",children:u.brn}),(0,l.jsxs)("p",{className:"text-[12px] text-[#6B7280] mt-1",children:["Year: ",u.brn?.substring(0,4)," | Type: ",u.brn?.substring(4,6)," | ID: ",u.brn?.substring(6)]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Company Tax Identification Number (TIN)"}),(0,l.jsx)("p",{className:"text-[#111827] mt-1 font-mono",children:u.companyTin})]})]})})]})]}),"Pending Approval"===u.status&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(jD,{}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsxs)(a2,{onClick:()=>t(!0),variant:"outline",className:"flex-1 h-11 border-[#DC2626] text-[#DC2626] hover:bg-[#FEF2F2] hover:text-[#DC2626]",children:[(0,l.jsx)(D,{className:"mr-2 h-4 w-4"}),"Reject"]}),(0,l.jsxs)(a2,{onClick:()=>r(!0),className:"flex-1 h-11 bg-[#059669] hover:bg-[#047857]",children:[(0,l.jsx)(fm,{className:"mr-2 h-4 w-4"}),"Approve"]})]})]})]})})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("h1",{children:"User Management"}),(0,l.jsx)("p",{className:"text-[#374151]",children:"Manage system users and permissions"})]}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsxs)(a2,{className:"bg-[#1E40AF] hover:bg-[#1E3A8A] h-10 px-6 rounded-lg",onClick:()=>{F({firstName:"",lastName:"",email:"",phone:"",role:"",status:"Active"}),n(!0)},children:[(0,l.jsx)(jf,{className:"mr-2 h-4 w-4"}),"Add New User"]}),(0,l.jsxs)(a2,{variant:"outline",className:"h-10 px-6 rounded-lg",children:[(0,l.jsx)(hD,{className:"mr-2 h-4 w-4"}),"Import Users"]}),(0,l.jsxs)(a2,{variant:"outline",className:"h-10 px-6 rounded-lg",children:[(0,l.jsx)(jg,{className:"mr-2 h-4 w-4"}),"Export Users"]})]}),(0,l.jsxs)("div",{className:"flex gap-4 items-center bg-white p-4 rounded-lg border border-[#E5E7EB]",children:[(0,l.jsxs)("div",{className:"relative flex-1 max-w-[300px]",children:[(0,l.jsx)(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[#6B7280]"}),(0,l.jsx)(a3,{placeholder:"Search users...",className:"pl-10 h-10 bg-white border-[#D1D5DB] rounded-md",value:c,onChange:a=>d(a.target.value)})]}),(0,l.jsxs)(iE,{value:e,onValueChange:f,children:[(0,l.jsx)(iG,{className:"w-[200px] h-10 bg-white border-[#D1D5DB] rounded-md",children:(0,l.jsx)(iF,{placeholder:"User Type"})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"all",children:"All User Types"}),(0,l.jsx)(iI,{value:"Internal Staff",children:"Internal Staff"}),(0,l.jsx)(iI,{value:"Individual Customer",children:"Individual Customer"}),(0,l.jsx)(iI,{value:"Business Customer",children:"Business Customer"})]})]}),(0,l.jsxs)(iE,{value:g,onValueChange:h,children:[(0,l.jsx)(iG,{className:"w-[180px] h-10 bg-white border-[#D1D5DB] rounded-md",children:(0,l.jsx)(iF,{placeholder:"Status"})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"all",children:"All Status"}),(0,l.jsx)(iI,{value:"Active",children:"Active"}),(0,l.jsx)(iI,{value:"Pending Approval",children:"Pending Approval"}),(0,l.jsx)(iI,{value:"Inactive",children:"Inactive"})]})]})]}),(0,l.jsx)("div",{className:"bg-white rounded-lg border border-[#E5E7EB] overflow-hidden",children:(0,l.jsxs)(ju,{children:[(0,l.jsx)(jv,{children:(0,l.jsxs)(jx,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,l.jsx)(jy,{className:"w-[40px]",children:(0,l.jsx)(g8,{})}),(0,l.jsx)(jy,{className:"w-[200px]",children:"Name"}),(0,l.jsx)(jy,{className:"w-[240px]",children:"Email"}),(0,l.jsx)(jy,{className:"w-[160px]",children:"User Type"}),(0,l.jsx)(jy,{className:"w-[140px]",children:"Status"}),(0,l.jsx)(jy,{className:"w-[120px]",children:"Role"}),(0,l.jsx)(jy,{className:"w-[140px]",children:"Last Login"}),(0,l.jsx)(jy,{className:"w-[120px] text-right",children:"Actions"})]})}),(0,l.jsx)(jw,{children:G.map(a=>(0,l.jsxs)(jx,{className:"h-14 hover:bg-[#F3F4F6]",children:[(0,l.jsx)(jz,{children:(0,l.jsx)(g8,{})}),(0,l.jsx)(jz,{children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(bm,{className:"h-8 w-8",children:(0,l.jsx)(bn,{className:"bg-[#E5E7EB] text-[#374151]",children:(a.firstName+" "+a.lastName).split(" ").map(a=>a[0]).join("").toUpperCase()})}),(0,l.jsxs)("span",{className:"text-[#111827]",children:[a.firstName," ",a.lastName]})]})}),(0,l.jsx)(jz,{className:"text-[#374151]",children:a.email}),(0,l.jsx)(jz,{children:(0,l.jsxs)(jk,{className:I(a.userType),children:[H(a.userType),(0,l.jsx)("span",{className:"ml-1.5",children:a.userType})]})}),(0,l.jsx)(jz,{children:"Active"===a.status?(0,l.jsxs)(jk,{className:"bg-[#059669] hover:bg-[#047857]",children:[(0,l.jsx)(hE,{className:"mr-1 h-3 w-3"}),"Active"]}):"Pending Approval"===a.status?(0,l.jsxs)(jk,{className:"bg-[#F59E0B] hover:bg-[#D97706]",children:[(0,l.jsx)(hF,{className:"mr-1 h-3 w-3"}),"Pending"]}):(0,l.jsxs)(jk,{className:"bg-[#6B7280] hover:bg-[#4B5563]",children:[(0,l.jsx)(jb,{className:"mr-1 h-3 w-3"}),"Inactive"]})}),(0,l.jsx)(jz,{children:a.role?(0,l.jsx)(jk,{variant:"secondary",className:"bg-[#F3F4F6] text-[#374151] hover:bg-[#E5E7EB]",children:a.role}):(0,l.jsx)("span",{className:"text-[#9CA3AF] text-sm",children:""})}),(0,l.jsx)(jz,{className:"text-[#374151]",children:a.lastLogin}),(0,l.jsx)(jz,{className:"text-right",children:(0,l.jsxs)(fp,{children:[(0,l.jsx)(fq,{asChild:!0,children:(0,l.jsx)(a2,{variant:"ghost",className:"h-8 w-8 p-0 hover:bg-[#F3F4F6]",children:(0,l.jsx)(jh,{className:"h-4 w-4"})})}),(0,l.jsxs)(fr,{align:"end",children:[(0,l.jsxs)(fs,{onClick:()=>{v(a),x(a.role||"Sales"),z(""),p("detail")},children:[(0,l.jsx)(gN,{className:"mr-2 h-4 w-4"}),"View Details"]}),"Pending Approval"!==a.status&&(0,l.jsxs)(fs,{onClick:()=>{v(a),C({firstName:a.firstName,lastName:a.lastName,email:a.email,phone:a.phone,role:a.role||"",status:a.status}),j(!0)},children:[(0,l.jsx)(ji,{className:"mr-2 h-4 w-4"}),"Edit"]})]})]})})]},a.id))})]})}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("p",{className:"text-[#6B7280]",children:["Showing ",G.length," of ",a.length," users"]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(a2,{variant:"outline",className:"h-10 px-4",children:"Previous"}),(0,l.jsx)(a2,{className:"bg-[#1E40AF] hover:bg-[#1E3A8A] h-10 px-4",children:"1"}),(0,l.jsx)(a2,{variant:"outline",className:"h-10 px-4",children:"2"}),(0,l.jsx)(a2,{variant:"outline",className:"h-10 px-4",children:"3"}),(0,l.jsx)(a2,{variant:"outline",className:"h-10 px-4",children:"Next"})]})]})]}),(0,l.jsx)(gj,{open:q,onOpenChange:r,children:(0,l.jsxs)(gm,{children:[(0,l.jsxs)(gn,{children:[(0,l.jsx)(gp,{children:"Approve User Registration"}),(0,l.jsx)(gq,{children:u&&(0,l.jsxs)(l.Fragment,{children:["Are you sure you want to approve the registration for ",(0,l.jsxs)("strong",{children:[u.firstName," ",u.lastName]}),"?","Internal Staff"===u.userType&&(0,l.jsxs)("span",{className:"block mt-2 text-[#059669]",children:["Role will be set to: ",(0,l.jsx)("strong",{children:w})]}),(0,l.jsx)("span",{className:"block mt-2",children:"The user will be granted access to the system immediately."})]})})]}),(0,l.jsxs)(go,{children:[(0,l.jsx)(gs,{children:"Cancel"}),(0,l.jsx)(gr,{onClick:()=>{if(u){if("Internal Staff"===u.userType&&!w)return void gG.error("Please select a role for the staff member");b(a.map(a=>a.id===u.id?{...a,status:"Active",role:"Internal Staff"===u.userType?w:a.role,lastLogin:new Date().toISOString().split("T")[0]}:a)),gG.success(`${u.firstName} ${u.lastName} has been approved`),r(!1),p("list"),v(null)}},className:"bg-[#059669] hover:bg-[#047857]",children:"Approve User"})]})]})}),(0,l.jsx)(gj,{open:s,onOpenChange:a=>{t(a),a||z("")},children:(0,l.jsxs)(gm,{className:"max-w-[500px]",children:[(0,l.jsxs)(gn,{children:[(0,l.jsx)(gp,{children:"Reject User Registration"}),(0,l.jsx)(gq,{children:u&&(0,l.jsxs)(l.Fragment,{children:["Are you sure you want to reject the registration for ",(0,l.jsxs)("strong",{children:[u.firstName," ",u.lastName]}),"?",(0,l.jsx)("span",{className:"block mt-2 text-[#DC2626]",children:"This action cannot be undone. The user will be removed from the system."})]})})]}),(0,l.jsxs)("div",{className:"space-y-2 py-4",children:[(0,l.jsxs)(gR,{htmlFor:"rejection-reason",children:["Reason for Rejection ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)(jE,{id:"rejection-reason",placeholder:"Please provide a reason for rejecting this registration...",value:y,onChange:a=>z(a.target.value),className:"min-h-[100px] resize-none"}),(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"This reason will be recorded for audit purposes."})]}),(0,l.jsxs)(go,{children:[(0,l.jsx)(gs,{children:"Cancel"}),(0,l.jsx)(gr,{onClick:()=>{if(u){if(!y.trim())return void gG.error("Please provide a reason for rejection");b(a.filter(a=>a.id!==u.id)),gG.success(`Registration for ${u.firstName} ${u.lastName} has been rejected`),t(!1),z(""),p("list"),v(null)}},className:"bg-[#DC2626] hover:bg-[#B91C1C]",children:"Reject User"})]})]})}),(0,l.jsx)(jl,{open:k,onOpenChange:n,children:(0,l.jsxs)(jp,{className:"sm:max-w-[500px]",children:[(0,l.jsxs)(jq,{children:[(0,l.jsx)(js,{children:"Add New User"}),(0,l.jsx)(jt,{children:"Create a new user account with access to the system"})]}),(0,l.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(gR,{htmlFor:"add-first-name",children:"First Name *"}),(0,l.jsx)(a3,{id:"add-first-name",value:E.firstName,onChange:a=>F({...E,firstName:a.target.value}),placeholder:"Enter first name",className:"h-10"})]}),(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(gR,{htmlFor:"add-last-name",children:"Last Name *"}),(0,l.jsx)(a3,{id:"add-last-name",value:E.lastName,onChange:a=>F({...E,lastName:a.target.value}),placeholder:"Enter last name",className:"h-10"})]}),(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(gR,{htmlFor:"add-email",children:"Email Address *"}),(0,l.jsx)(a3,{id:"add-email",type:"email",value:E.email,onChange:a=>F({...E,email:a.target.value}),placeholder:"Enter email address",className:"h-10"})]}),(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(gR,{htmlFor:"add-phone",children:"Phone Number *"}),(0,l.jsx)(a3,{id:"add-phone",type:"tel",value:E.phone,onChange:a=>F({...E,phone:a.target.value}),placeholder:"+60 12-345-6789",className:"h-10"})]}),(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(gR,{htmlFor:"add-role",children:"Role *"}),(0,l.jsxs)(iE,{value:E.role,onValueChange:a=>F({...E,role:a}),children:[(0,l.jsx)(iG,{id:"add-role",className:"h-10",children:(0,l.jsx)(iF,{placeholder:"Select role"})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"Admin",children:"Admin"}),(0,l.jsx)(iI,{value:"Sales",children:"Sales"}),(0,l.jsx)(iI,{value:"Finance",children:"Finance"}),(0,l.jsx)(iI,{value:"Support",children:"Support"}),(0,l.jsx)(iI,{value:"Operations",children:"Operations"}),(0,l.jsx)(iI,{value:"Production",children:"Production"})]})]})]}),(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(gR,{htmlFor:"add-status",children:"Status *"}),(0,l.jsxs)(iE,{value:E.status,onValueChange:a=>F({...E,status:a}),children:[(0,l.jsx)(iG,{id:"add-status",className:"h-10",children:(0,l.jsx)(iF,{placeholder:"Select status"})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"Active",children:"Active"}),(0,l.jsx)(iI,{value:"Inactive",children:"Inactive"})]})]})]})]}),(0,l.jsxs)(jr,{children:[(0,l.jsx)(a2,{variant:"outline",onClick:()=>n(!1),className:"h-10 px-6",children:"Cancel"}),(0,l.jsx)(a2,{onClick:()=>{if(!E.firstName.trim()||!E.lastName.trim()||!E.email.trim()||!E.role)return void gG.error("Please fill in all required fields");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(E.email))return void gG.error("Please enter a valid email address");if(a.some(a=>a.email.toLowerCase()===E.email.toLowerCase()))return void gG.error("A user with this email already exists");let c={id:(Math.max(...a.map(a=>parseInt(a.id)))+1).toString(),firstName:E.firstName,lastName:E.lastName,email:E.email,phone:E.phone,userType:"Internal Staff",role:E.role,status:E.status,lastLogin:new Date().toISOString().split("T")[0]};b([...a,c]),gG.success("User added successfully"),n(!1)},className:"bg-[#F15929] hover:bg-[#D14820] h-10 px-6",children:"Add User"})]})]})}),(0,l.jsx)(jl,{open:i,onOpenChange:j,children:(0,l.jsxs)(jp,{className:"sm:max-w-[500px]",children:[(0,l.jsxs)(jq,{children:[(0,l.jsx)(js,{children:"Edit User"}),(0,l.jsx)(jt,{children:"Update user information and account details"})]}),(0,l.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(gR,{htmlFor:"edit-first-name",children:"First Name *"}),(0,l.jsx)(a3,{id:"edit-first-name",value:B.firstName,onChange:a=>C({...B,firstName:a.target.value}),placeholder:"Enter first name",className:"h-10"})]}),(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(gR,{htmlFor:"edit-last-name",children:"Last Name *"}),(0,l.jsx)(a3,{id:"edit-last-name",value:B.lastName,onChange:a=>C({...B,lastName:a.target.value}),placeholder:"Enter last name",className:"h-10"})]}),(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(gR,{htmlFor:"edit-email",children:"Email Address *"}),(0,l.jsx)(a3,{id:"edit-email",type:"email",value:B.email,onChange:a=>C({...B,email:a.target.value}),placeholder:"Enter email address",className:"h-10"})]}),(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(gR,{htmlFor:"edit-phone",children:"Phone Number *"}),(0,l.jsx)(a3,{id:"edit-phone",type:"tel",value:B.phone,onChange:a=>C({...B,phone:a.target.value}),placeholder:"+60 12-345-6789",className:"h-10"})]}),u?.userType==="Internal Staff"&&(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(gR,{htmlFor:"edit-role",children:"Role *"}),(0,l.jsxs)(iE,{value:B.role,onValueChange:a=>C({...B,role:a}),children:[(0,l.jsx)(iG,{id:"edit-role",className:"h-10",children:(0,l.jsx)(iF,{placeholder:"Select role"})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"Admin",children:"Admin"}),(0,l.jsx)(iI,{value:"Sales",children:"Sales"}),(0,l.jsx)(iI,{value:"Finance",children:"Finance"}),(0,l.jsx)(iI,{value:"Support",children:"Support"}),(0,l.jsx)(iI,{value:"Operations",children:"Operations"}),(0,l.jsx)(iI,{value:"Production",children:"Production"})]})]})]}),(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)(gR,{htmlFor:"edit-status",children:"Status *"}),(0,l.jsxs)(iE,{value:B.status,onValueChange:a=>C({...B,status:a}),children:[(0,l.jsx)(iG,{id:"edit-status",className:"h-10",children:(0,l.jsx)(iF,{placeholder:"Select status"})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"Active",children:"Active"}),(0,l.jsx)(iI,{value:"Inactive",children:"Inactive"})]})]})]})]}),(0,l.jsxs)(jr,{children:[(0,l.jsx)(a2,{variant:"outline",onClick:()=>j(!1),className:"h-10 px-6",children:"Cancel"}),(0,l.jsx)(a2,{onClick:()=>{u&&(B.firstName.trim()&&B.lastName.trim()&&B.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(B.email)?(b(a.map(a=>a.id===u.id?{...a,...B}:a)),gG.success("User updated successfully"),j(!1),v(null)):gG.error("Please enter a valid email address"):gG.error("Please fill in all required fields"))},className:"bg-[#F15929] hover:bg-[#D14820] h-10 px-6",children:"Save Changes"})]})]})})]})}let jH=s("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),jI=s("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),jJ=s("file-output",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4 7V4a2 2 0 0 1 2-2 2 2 0 0 0-2 2",key:"1vk7w2"}],["path",{d:"M4.063 20.999a2 2 0 0 0 2 1L18 22a2 2 0 0 0 2-2V7l-5-5H6",key:"1jink5"}],["path",{d:"m5 11-3 3",key:"1dgrs4"}],["path",{d:"m5 17-3-3h10",key:"1mvvaf"}]]);function jK({title:a,amount:b,trend:c,icon:d,subtitle:e}){return(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsxs)(hx,{className:"flex flex-row items-center justify-between pb-2",children:[(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:a}),(0,l.jsx)("div",{className:"text-[#6B7280]",children:d})]}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,l.jsx)("span",{className:"text-[#111827]",children:b}),c&&(0,l.jsxs)("span",{className:"text-[12px] text-[#059669] flex items-center gap-1",children:[(0,l.jsx)(jH,{className:"h-3 w-3"}),c]})]}),e&&(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:e})]})})]})}let jL=[{id:"INV-2024-001",date:"2024-11-01",type:"Invoice",description:"Monthly rental - October 2024",amount:"RM2,450.00",status:"Paid"},{id:"INV-2024-002",date:"2024-11-02",type:"Invoice",description:"Equipment deposit",amount:"RM5,000.00",status:"Pending"},{id:"CN-2024-001",date:"2024-11-03",type:"Credit Note",description:"Item return credit",amount:"-RM750.00",status:"Paid"},{id:"INV-2024-003",date:"2024-10-28",type:"Invoice",description:"Monthly rental - September 2024",amount:"RM2,450.00",status:"Overdue"},{id:"INV-2024-004",date:"2024-11-04",type:"Invoice",description:"Additional equipment",amount:"RM1,200.00",status:"Pending"}];function jM({onNavigateToCreditNotes:a,onNavigateToFinancialReports:b,onNavigateToMonthlyRental:c,onNavigateToManageDeposits:d,onNavigateToRefunds:e}={}){return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("h1",{children:"Billing & Payments"}),(0,l.jsx)("p",{className:"text-[#374151]",children:"Manage invoices, payments, and financial records"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,l.jsx)(jK,{title:"Total Outstanding",amount:"RM45,230.00",trend:"+12%",icon:(0,l.jsx)(u,{className:"h-5 w-5"}),subtitle:"from last month"}),(0,l.jsx)(jK,{title:"Payments Due",amount:"23 invoices",icon:(0,l.jsx)(w,{className:"h-5 w-5"}),subtitle:"RM12,450.00"}),(0,l.jsx)(jK,{title:"Recent Payments",amount:"15 payments",icon:(0,l.jsx)(hE,{className:"h-5 w-5"}),subtitle:"RM8,720.00"}),(0,l.jsx)(jK,{title:"Credit Notes",amount:"3 notes",icon:(0,l.jsx)(v,{className:"h-5 w-5"}),subtitle:"RM1,230.00"})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px]",children:"Quick Actions"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,l.jsxs)(a2,{className:"bg-[#1E40AF] hover:bg-[#1E3A8A] h-10 px-6 rounded-lg",onClick:c,children:[(0,l.jsx)(jI,{className:"mr-2 h-4 w-4"}),"Monthly Rental"]}),(0,l.jsxs)(a2,{variant:"outline",className:"h-10 px-6 rounded-lg",onClick:d,children:[(0,l.jsx)(x,{className:"mr-2 h-4 w-4"}),"Manage Deposits"]}),(0,l.jsxs)(a2,{variant:"outline",className:"h-10 px-6 rounded-lg",onClick:a,children:[(0,l.jsx)(v,{className:"mr-2 h-4 w-4"}),"Issue Credit Note"]}),(0,l.jsxs)(a2,{variant:"outline",className:"h-10 px-6 rounded-lg",onClick:e,children:[(0,l.jsx)(y,{className:"mr-2 h-4 w-4"}),"Issue Refund"]}),(0,l.jsxs)(a2,{variant:"outline",className:"h-10 px-6 rounded-lg",onClick:b,children:[(0,l.jsx)(jJ,{className:"mr-2 h-4 w-4"}),"Generate Report"]})]})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px]",children:"Recent Activity"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)(ju,{children:[(0,l.jsx)(jv,{children:(0,l.jsxs)(jx,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,l.jsx)(jy,{children:"Date"}),(0,l.jsx)(jy,{children:"Type"}),(0,l.jsx)(jy,{children:"Description"}),(0,l.jsx)(jy,{children:"Amount"}),(0,l.jsx)(jy,{children:"Status"}),(0,l.jsx)(jy,{className:"text-right",children:"Actions"})]})}),(0,l.jsx)(jw,{children:jL.map(a=>(0,l.jsxs)(jx,{className:"h-14 hover:bg-[#F3F4F6]",children:[(0,l.jsx)(jz,{className:"text-[#374151]",children:a.date}),(0,l.jsx)(jz,{children:(0,l.jsx)(jk,{variant:"secondary",className:"bg-[#F3F4F6] text-[#374151]",children:a.type})}),(0,l.jsx)(jz,{className:"text-[#374151]",children:a.description}),(0,l.jsx)(jz,{className:"text-[#111827]",children:a.amount}),(0,l.jsxs)(jz,{children:["Paid"===a.status&&(0,l.jsx)(jk,{className:"bg-[#059669] hover:bg-[#047857]",children:"Paid"}),"Pending"===a.status&&(0,l.jsx)(jk,{className:"bg-[#F59E0B] hover:bg-[#D97706]",children:"Pending"}),"Overdue"===a.status&&(0,l.jsx)(jk,{className:"bg-[#DC2626] hover:bg-[#B91C1C]",children:"Overdue"})]}),(0,l.jsx)(jz,{className:"text-right",children:(0,l.jsx)(a2,{variant:"ghost",size:"sm",className:"hover:bg-[#F3F4F6]",children:"View"})})]},a.id))})]})})]})]})}let jN=s("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);function jO({invoices:a,onView:b,onEditPayment:c,userRole:d}){let[e,f]=(0,m.useState)(""),[g,h]=(0,m.useState)("all"),i=a.filter(a=>{let b=a.invoiceNumber.toLowerCase().includes(e.toLowerCase())||a.customerName.toLowerCase().includes(e.toLowerCase())||a.deliveryOrderNumber.toLowerCase().includes(e.toLowerCase()),c="all"===g||a.status===g;return b&&c}),j={total:a.length,pending:a.filter(a=>"Pending Payment"===a.status).length,pendingApproval:a.filter(a=>"Pending Approval"===a.status).length,paid:a.filter(a=>"Paid"===a.status).length,rejected:a.filter(a=>"Rejected"===a.status).length,overdue:a.filter(a=>"Overdue"===a.status).length,totalRevenue:a.filter(a=>"Paid"===a.status).reduce((a,b)=>a+b.grandTotal,0)};return(0,l.jsxs)("div",{className:"space-y-6",children:[j.overdue>0&&(0,l.jsx)(hw,{className:"border-orange-500 bg-orange-50",children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(S,{className:"h-5 w-5 text-orange-600"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-orange-900",children:["You have ",j.overdue," overdue invoice",j.overdue>1?"s":""]}),(0,l.jsx)("p",{className:"text-sm text-orange-700 mt-1",children:"Please review and follow up on overdue payments"})]})]})})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"Total Invoices"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("p",{className:"text-[#111827]",children:j.total})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"Pending Payment"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("p",{className:"text-blue-600",children:j.pending})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"Awaiting Approval"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("p",{className:"text-yellow-600",children:j.pendingApproval})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"Overdue"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("p",{className:"text-orange-600",children:j.overdue})})]})]}),(0,l.jsxs)(hw,{className:"border-[#F15929] bg-gradient-to-br from-[#FFF7F5] to-white",children:[(0,l.jsx)(hx,{children:(0,l.jsxs)(hy,{className:"text-[18px] text-[#231F20] flex items-center gap-2",children:[(0,l.jsx)(jH,{className:"size-5 text-[#F15929]"}),"Total Paid Revenue"]})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("p",{className:"text-[#F15929]",children:["RM ",j.totalRevenue.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})]})})]}),(0,l.jsx)(hw,{className:"border-[#E5E7EB]",children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,l.jsxs)("div",{className:"flex-1 relative",children:[(0,l.jsx)(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[#6B7280]"}),(0,l.jsx)(a3,{placeholder:"Search by invoice number, customer name, or DO number...",value:e,onChange:a=>f(a.target.value),className:"pl-10 h-10 bg-white border-[#D1D5DB] rounded-md"})]}),(0,l.jsxs)(iE,{value:g,onValueChange:h,children:[(0,l.jsx)(iG,{className:"w-full md:w-[200px] h-10 bg-white border-[#D1D5DB] rounded-md",children:(0,l.jsx)(iF,{placeholder:"Filter by status"})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"all",children:"All Statuses"}),(0,l.jsx)(iI,{value:"Pending Payment",children:"Pending Payment"}),(0,l.jsx)(iI,{value:"Pending Approval",children:"Pending Approval"}),(0,l.jsx)(iI,{value:"Paid",children:"Paid"}),(0,l.jsx)(iI,{value:"Rejected",children:"Rejected"}),(0,l.jsx)(iI,{value:"Overdue",children:"Overdue"}),(0,l.jsx)(iI,{value:"Completed",children:"Completed"})]})]})]})})}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px]",children:"Monthly Rental Invoices"})}),(0,l.jsx)(hA,{children:0===i.length?(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)(v,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,l.jsx)("p",{className:"text-gray-500",children:"No invoices found"})]}):(0,l.jsxs)(ju,{children:[(0,l.jsx)(jv,{children:(0,l.jsxs)(jx,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,l.jsx)(jy,{children:"Customer"}),(0,l.jsx)(jy,{children:"DO Number"}),(0,l.jsx)(jy,{children:"Billing Month"}),(0,l.jsx)(jy,{children:"Amount"}),(0,l.jsx)(jy,{children:"Due Date"}),(0,l.jsx)(jy,{children:"Status"}),(0,l.jsx)(jy,{className:"text-right",children:"Actions"})]})}),(0,l.jsx)(jw,{children:i.map(a=>{var d;let e,f;return(0,l.jsxs)(jx,{className:"h-14 hover:bg-[#F3F4F6]",children:[(0,l.jsx)(jz,{className:"text-[#111827]",children:a.customerName}),(0,l.jsx)(jz,{className:"text-[#374151]",children:a.deliveryOrderNumber}),(0,l.jsxs)(jz,{className:"text-[#374151]",children:["Month ",a.billingMonth]}),(0,l.jsxs)(jz,{className:"text-[#111827]",children:["RM ",a.grandTotal.toLocaleString("en-MY",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,l.jsx)(jz,{className:"text-[#374151]",children:(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(w,{className:"h-4 w-4 text-gray-400"}),new Date(a.dueDate).toLocaleDateString()]})}),(0,l.jsx)(jz,{children:(a=>{switch(a){case"Paid":return(0,l.jsx)(jk,{className:"bg-green-600 hover:bg-green-700 text-white",children:"Paid"});case"Pending Payment":return(0,l.jsx)(jk,{className:"bg-[#EEF5FF] hover:bg-[#E6F0FF] text-[#2F6AE0]",children:"Pending Payment"});case"Pending Approval":return(0,l.jsx)(jk,{className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Pending Approval"});case"Rejected":return(0,l.jsx)(jk,{className:"bg-red-600 hover:bg-red-700 text-white",children:"Rejected"});case"Overdue":return(0,l.jsx)(jk,{className:"bg-orange-600 hover:bg-orange-700 text-white",children:"Overdue"});case"Completed":return(0,l.jsx)(jk,{className:"bg-gray-600 hover:bg-gray-700 text-white",children:"Completed"});default:return(0,l.jsx)(jk,{children:a})}})(a.status)}),(0,l.jsx)(jz,{className:"text-right",children:(0,l.jsxs)(fp,{children:[(0,l.jsx)(fq,{asChild:!0,children:(0,l.jsx)(a2,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:(0,l.jsx)(jN,{className:"h-4 w-4"})})}),(0,l.jsxs)(fr,{align:"end",children:[(0,l.jsxs)(fs,{onClick:()=>b(a.id),children:[(0,l.jsx)(gN,{className:"h-4 w-4 mr-2"}),"View Details"]}),"Pending Payment"===a.status&&c&&(0,l.jsxs)(fs,{onClick:()=>c(a.id),disabled:(d=a.dueDate,e=new Date,f=new Date(d),e.setHours(0,0,0,0),f.setHours(0,0,0,0),!(e<=f)),children:[(0,l.jsx)(ji,{className:"h-4 w-4 mr-2"}),"Edit Payment Details / Replace Proof"]})]})]})})]},a.id)})})]})})]})]})}function jP({invoice:a,onBack:b,onSubmitPayment:c,onApprove:d,onReject:e,onMarkAsReturned:f,userRole:g}){let[h,i]=(0,m.useState)(null),[j,k]=(0,m.useState)(!1),[n,o]=(0,m.useState)(!1),[p,q]=(0,m.useState)(!1),[r,s]=(0,m.useState)(""),[t,u]=(0,m.useState)("");a.dueDate;let x=("Pending Payment"===a.status||"Rejected"===a.status||"Overdue"===a.status)&&!a.paymentProof,y=("Admin"===g||"Finance"===g)&&"Pending Approval"===a.status,{monthsLate:z,overdueCharge:A,totalWithOverdue:B}=(()=>{let b=new Date,c=new Date(a.dueDate),d=a.paymentSubmittedAt?new Date(a.paymentSubmittedAt):b,e=Math.max(0,(d.getFullYear()-c.getFullYear())*12+(d.getMonth()-c.getMonth()));if(0===e)return{monthsLate:0,overdueCharge:0,totalWithOverdue:a.grandTotal};let f=a.grandTotal*a.defaultInterestRate*e,g=a.grandTotal+f;return{monthsLate:e,overdueCharge:f,totalWithOverdue:g}})(),C=A>0;return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)(a2,{variant:"outline",onClick:b,className:"h-10",children:[(0,l.jsx)(gT,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-[#231F20]",children:"Invoice Details"}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:a.invoiceNumber})]})]}),(a=>{switch(a){case"Paid":return(0,l.jsx)(jk,{className:"bg-green-600 hover:bg-green-700 text-white text-base px-4 py-1",children:"Paid"});case"Pending Payment":return(0,l.jsx)(jk,{className:"bg-[#EEF5FF] hover:bg-[#E6F0FF] text-[#2F6AE0] text-base px-4 py-1",children:"Pending Payment"});case"Pending Approval":return(0,l.jsx)(jk,{className:"bg-blue-600 hover:bg-blue-700 text-white text-base px-4 py-1",children:"Pending Approval"});case"Rejected":return(0,l.jsx)(jk,{className:"bg-red-600 hover:bg-red-700 text-white text-base px-4 py-1",children:"Rejected"});case"Overdue":return(0,l.jsx)(jk,{className:"bg-orange-600 hover:bg-orange-700 text-white text-base px-4 py-1",children:"Overdue"});case"Completed":return(0,l.jsx)(jk,{className:"bg-gray-600 hover:bg-gray-700 text-white text-base px-4 py-1",children:"Completed"});default:return(0,l.jsx)(jk,{children:a})}})(a.status)]}),"Overdue"===a.status&&(0,l.jsx)(hw,{className:"border-orange-500 bg-orange-50",children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(S,{className:"h-6 w-6 text-orange-600"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"text-orange-900",children:"Payment Overdue"}),(0,l.jsxs)("p",{className:"text-sm text-orange-700 mt-1",children:["This invoice is past its due date. Overdue charges of ",(0,l.jsxs)("span",{className:"font-semibold",children:["RM ",A.toFixed(2)]})," (",z," ",1===z?"month":"months"," late) have been applied."]}),(0,l.jsxs)("p",{className:"text-sm text-orange-700 mt-1",children:["Total amount due: ",(0,l.jsxs)("span",{className:"font-semibold",children:["RM ",B.toFixed(2)]})]})]})]})})}),a.isAutoGenerated&&(0,l.jsx)(hw,{className:"border-blue-500 bg-blue-50",children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(v,{className:"h-5 w-5 text-blue-600"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-blue-900",children:a.notes}),a.itemsReturned&&(0,l.jsxs)("p",{className:"text-sm text-green-700 mt-2 flex items-center gap-2",children:[(0,l.jsx)(N,{className:"h-4 w-4"}),"Rental items returned. No further billing will occur."]})]})]})})}),"Rejected"===a.status&&a.rejectionReason&&(0,l.jsx)(hw,{className:"border-[#DC2626] bg-[#FEF2F2]",children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(S,{className:"h-5 w-5 text-[#DC2626] flex-shrink-0 mt-0.5"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"text-[#991B1B]",children:"Payment Rejected"}),(0,l.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Reason: ",a.rejectionReason]}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Please upload new payment proof below to resubmit for approval."})]})]})})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[16px]",children:"Customer Information"})}),(0,l.jsxs)(hA,{className:"space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Customer Name"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.customerName})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Customer ID"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.customerId})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Address"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.customerAddress})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Contact"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.customerContact})]})]})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[16px]",children:"Invoice Information"})}),(0,l.jsxs)(hA,{className:"space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Delivery Order (DO)"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.deliveryOrderNumber})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Agreement ID"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.agreementId})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Billing Month"}),(0,l.jsxs)("p",{className:"text-[#231F20]",children:["Month ",a.billingMonth," of rental contract"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Billing Period"}),(0,l.jsxs)("p",{className:"text-[#231F20]",children:[new Date(a.billingPeriodStart).toLocaleDateString()," - ",new Date(a.billingPeriodEnd).toLocaleDateString()]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Due Date"}),(0,l.jsxs)("p",{className:"text-[#231F20] flex items-center gap-2",children:[(0,l.jsx)(w,{className:"h-4 w-4 text-gray-400"}),new Date(a.dueDate).toLocaleDateString()]})]}),(0,l.jsxs)("div",{className:"pt-2 border-t",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("p",{className:"text-sm text-[#444444] font-medium",children:"Default Interest (Per Month)"}),(0,l.jsxs)("div",{className:"group relative",children:[(0,l.jsx)(K,{className:"h-4 w-4 text-gray-400 cursor-help"}),(0,l.jsx)("div",{className:"absolute left-0 bottom-full mb-2 hidden group-hover:block w-64 p-2 bg-gray-900 text-white text-xs rounded shadow-lg z-10",children:"Default interest rate specified in the rental agreement. Applied when payments are overdue."})]})]}),(0,l.jsxs)("p",{className:"text-[#444444] font-semibold mt-1",children:[(100*a.defaultInterestRate).toFixed(1),"% per month"]}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Overdue charges will be calculated automatically based on the default interest rate."})]})]})]})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[16px]",children:"Rental Items"})}),(0,l.jsxs)(hA,{children:[(0,l.jsxs)(ju,{children:[(0,l.jsx)(jv,{children:(0,l.jsxs)(jx,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,l.jsx)(jy,{children:"Item Name"}),(0,l.jsx)(jy,{className:"text-right",children:"Quantity"}),(0,l.jsx)(jy,{className:"text-right",children:"Unit Price (RM)"}),(0,l.jsx)(jy,{className:"text-center",children:"Rental Duration"}),(0,l.jsx)(jy,{className:"text-right",children:"Monthly Rate (RM)"}),(0,l.jsx)(jy,{className:"text-right",children:"Total (RM)"})]})}),(0,l.jsx)(jw,{children:a.rentalItems.map(a=>(0,l.jsxs)(jx,{className:"hover:bg-[#F3F4F6]",children:[(0,l.jsx)(jz,{className:"text-[#231F20]",children:a.itemName}),(0,l.jsx)(jz,{className:"text-right",children:a.quantity}),(0,l.jsx)(jz,{className:"text-right",children:a.unitPrice.toFixed(2)}),(0,l.jsx)(jz,{className:"text-center",children:a.rentalDuration}),(0,l.jsx)(jz,{className:"text-right",children:a.monthlyRate.toFixed(2)}),(0,l.jsx)(jz,{className:"text-right",children:a.totalPrice.toFixed(2)})]},a.id))})]}),(0,l.jsxs)("div",{className:"mt-6 border-t pt-4 space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Subtotal:"}),(0,l.jsxs)("span",{className:"text-[#231F20]",children:["RM ",a.subtotal.toFixed(2)]})]}),a.taxRate>0&&(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)("span",{className:"text-gray-600",children:["Tax (",(100*a.taxRate).toFixed(0),"%):"]}),(0,l.jsxs)("span",{className:"text-[#231F20]",children:["RM ",a.taxAmount.toFixed(2)]})]}),C&&(0,l.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-md p-3 space-y-2 my-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,l.jsx)(S,{className:"h-4 w-4 text-orange-600"}),(0,l.jsx)("span",{className:"text-sm font-medium text-orange-900",children:"Overdue Charges"})]}),(0,l.jsxs)("div",{className:"text-sm space-y-1 text-gray-700",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"Outstanding Balance:"}),(0,l.jsxs)("span",{children:["RM ",a.grandTotal.toFixed(2)]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"Monthly Interest Rate:"}),(0,l.jsxs)("span",{children:[(100*a.defaultInterestRate).toFixed(1),"%"]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"Months Late:"}),(0,l.jsxs)("span",{children:[z," ",1===z?"month":"months"]})]}),(0,l.jsxs)("div",{className:"flex justify-between border-t border-orange-300 pt-1 mt-1",children:[(0,l.jsx)("span",{className:"font-medium text-orange-900",children:"Overdue Charge:"}),(0,l.jsxs)("span",{className:"font-medium text-orange-900",children:["RM ",A.toFixed(2)]})]}),(0,l.jsxs)("p",{className:"text-xs text-gray-600 mt-2 italic",children:["Calculation: RM ",a.grandTotal.toFixed(2),"  ",(100*a.defaultInterestRate).toFixed(1),"%  ",z," ",1===z?"month":"months"]})]})]}),(0,l.jsxs)("div",{className:"flex justify-between border-t pt-2",children:[(0,l.jsx)("span",{className:"text-[#231F20]",children:C?"Original Amount:":"Grand Total:"}),(0,l.jsxs)("span",{className:C?"text-[#231F20]":"text-[#F15929]",children:["RM ",a.grandTotal.toFixed(2)]})]}),C&&(0,l.jsxs)("div",{className:"flex justify-between border-t pt-2 bg-red-50 -mx-4 px-4 py-2",children:[(0,l.jsx)("span",{className:"text-red-900 font-semibold",children:"Total Amount Due (with overdue charges):"}),(0,l.jsxs)("span",{className:"text-red-600 font-semibold",children:["RM ",B.toFixed(2)]})]})]})]})]}),x&&(0,l.jsxs)(hw,{className:"border-[#F15929]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[16px]",children:"Submit Payment Proof"})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(gR,{htmlFor:"paymentProof",children:"Upload Payment Receipt/Screenshot"}),(0,l.jsx)(a3,{id:"paymentProof",type:"file",accept:"image/*,.pdf",onChange:a=>{a.target.files&&a.target.files[0]&&i(a.target.files[0])},className:"mt-2"}),h&&(0,l.jsxs)("p",{className:"text-sm text-green-600 mt-2",children:["Selected: ",h.name]})]}),(0,l.jsxs)(a2,{onClick:()=>{h?c(a.id,h):gG.error("Please select a payment proof file")},disabled:!h,className:"bg-[#F15929] hover:bg-[#D14620] text-white",children:[(0,l.jsx)(hD,{className:"h-4 w-4 mr-2"}),"Submit Payment Proof"]})]})]}),a.paymentProof&&(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[16px]",children:"Payment Proof"})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"File Name"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.paymentProof.fileName})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Uploaded At"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:new Date(a.paymentProof.uploadedAt).toLocaleString()})]})]}),(0,l.jsx)(a2,{variant:"outline",asChild:!0,children:(0,l.jsxs)("a",{href:a.paymentProof.fileUrl,target:"_blank",rel:"noopener noreferrer",children:[(0,l.jsx)(v,{className:"h-4 w-4 mr-2"}),"View Document"]})}),y&&(0,l.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,l.jsxs)(a2,{onClick:()=>k(!0),className:"bg-green-600 hover:bg-green-700 text-white",children:[(0,l.jsx)(fm,{className:"h-4 w-4 mr-2"}),"Approve Payment"]}),(0,l.jsxs)(a2,{onClick:()=>o(!0),variant:"destructive",children:[(0,l.jsx)(D,{className:"h-4 w-4 mr-2"}),"Reject Payment"]})]})]})]}),"Paid"===a.status&&(0,l.jsx)(hw,{className:"border-green-500 bg-green-50",children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(fm,{className:"h-5 w-5 text-green-600"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-green-900",children:"Payment Approved"}),(0,l.jsxs)("p",{className:"text-sm text-green-700",children:["Approved by ",a.approvedBy," on ",new Date(a.approvedAt||"").toLocaleDateString()]}),a.transactionReferenceId&&(0,l.jsxs)("p",{className:"text-sm text-green-700 mt-1",children:["Transaction Reference: ",a.transactionReferenceId]})]})]})})})}),("Admin"===g||"Staff"===g)&&"Paid"===a.status&&!a.itemsReturned&&(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[16px]",children:"Item Return Management"})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:'When rental items are returned, mark them as returned to stop automatic monthly billing and set the invoice status to "Completed".'}),(0,l.jsxs)(a2,{onClick:()=>q(!0),variant:"outline",className:"border-[#F15929] text-[#F15929] hover:bg-[#FFF7F5]",children:[(0,l.jsx)(N,{className:"h-4 w-4 mr-2"}),"Mark Items as Returned"]})]})]}),"Completed"===a.status&&(0,l.jsx)(hw,{className:"border-gray-500 bg-gray-50",children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(N,{className:"h-5 w-5 text-gray-600"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-900",children:"Rental Completed"}),(0,l.jsxs)("p",{className:"text-sm text-gray-700",children:["Items were returned on ",new Date(a.returnedAt||"").toLocaleDateString()]}),(0,l.jsx)("p",{className:"text-sm text-gray-700 mt-1",children:"No further invoices will be generated for this contract."})]})]})})})}),(0,l.jsx)(gj,{open:j,onOpenChange:k,children:(0,l.jsxs)(gm,{children:[(0,l.jsxs)(gn,{children:[(0,l.jsx)(gp,{children:"Approve Payment"}),(0,l.jsx)(gq,{children:'Are you sure you want to approve this payment? The invoice status will be updated to "Paid".'})]}),C&&(0,l.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-md p-3 space-y-1",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-orange-900",children:"Note: Overdue Charges Applied"}),(0,l.jsxs)("div",{className:"text-sm text-gray-700 space-y-1",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"Original Amount:"}),(0,l.jsxs)("span",{children:["RM ",a.grandTotal.toFixed(2)]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)("span",{children:["Overdue Charge (",z," ",1===z?"month":"months","  ",(100*a.defaultInterestRate).toFixed(1),"%):"]}),(0,l.jsxs)("span",{children:["RM ",A.toFixed(2)]})]}),(0,l.jsxs)("div",{className:"flex justify-between border-t border-orange-300 pt-1 font-medium text-orange-900",children:[(0,l.jsx)("span",{children:"Total Paid:"}),(0,l.jsxs)("span",{children:["RM ",B.toFixed(2)]})]})]})]}),(0,l.jsxs)("div",{className:"py-4",children:[(0,l.jsx)(gR,{htmlFor:"transactionReferenceId",children:"Transaction Reference ID"}),(0,l.jsx)(a3,{id:"transactionReferenceId",type:"text",value:t,onChange:a=>u(a.target.value),className:"mt-2",placeholder:"Enter transaction reference ID"})]}),(0,l.jsxs)(go,{children:[(0,l.jsx)(gs,{children:"Cancel"}),(0,l.jsx)(gr,{onClick:()=>{t.trim()?(k(!1),d(a.id,t),u("")):gG.error("Please provide a transaction reference ID")},className:"bg-green-600 hover:bg-green-700 text-white",children:"Approve"})]})]})}),(0,l.jsx)(gj,{open:n,onOpenChange:o,children:(0,l.jsxs)(gm,{children:[(0,l.jsxs)(gn,{children:[(0,l.jsx)(gp,{children:"Reject Payment"}),(0,l.jsx)(gq,{children:"Please provide a reason for rejecting this payment. The customer will need to resubmit."})]}),(0,l.jsx)("div",{className:"py-4",children:(0,l.jsx)(jE,{placeholder:"Enter rejection reason...",value:r,onChange:a=>s(a.target.value),className:"min-h-[100px]"})}),(0,l.jsxs)(go,{children:[(0,l.jsx)(gs,{onClick:()=>s(""),children:"Cancel"}),(0,l.jsx)(gr,{onClick:()=>{r.trim()?(o(!1),e(a.id,r),s("")):gG.error("Please provide a rejection reason")},className:"bg-red-600 hover:bg-red-700 text-white",children:"Reject"})]})]})}),(0,l.jsx)(gj,{open:p,onOpenChange:q,children:(0,l.jsxs)(gm,{children:[(0,l.jsxs)(gn,{children:[(0,l.jsx)(gp,{children:"Mark Items as Returned"}),(0,l.jsx)(gq,{children:"This will stop all future automatic billing for this contract. Are you sure the rental items have been returned and verified?"})]}),(0,l.jsxs)(go,{children:[(0,l.jsx)(gs,{children:"Cancel"}),(0,l.jsx)(gr,{onClick:()=>{q(!1),f(a.id)},className:"bg-[#F15929] hover:bg-[#D14620] text-white",children:"Confirm Return"})]})]})})]})}let jQ=[{id:"item-1",scaffoldingItemId:"std-frame-1",itemName:"Standard Frame 1.8m x 1.2m",quantity:50,unitPrice:15,rentalDuration:"30 days",monthlyRate:450,totalPrice:22500},{id:"item-2",scaffoldingItemId:"cross-brace-1",itemName:"Cross Brace 1.8m",quantity:100,unitPrice:8,rentalDuration:"30 days",monthlyRate:240,totalPrice:24e3},{id:"item-3",scaffoldingItemId:"base-jack-1",itemName:"Base Jack (Adjustable)",quantity:60,unitPrice:12,rentalDuration:"30 days",monthlyRate:360,totalPrice:21600}],jR=[{id:"contract-1",agreementId:"AGR-2024-001",deliveryOrderNumber:"DO-2024-001",customerId:"CUST-001",customerName:"Acme Construction Ltd.",customerAddress:"123 Construction Ave, Johor Bahru, Johor 81200",customerContact:"+60 12-345 6789",contractStartDate:"2024-10-01T00:00:00Z",billingCycleDay:1,rentalItems:jQ,isActive:!0,itemsReturned:!1,doSignedAt:"2024-10-01T10:00:00Z",createdAt:"2024-10-01T09:00:00Z",lastUpdated:"2024-10-01T09:00:00Z"},{id:"contract-2",agreementId:"AGR-2024-002",deliveryOrderNumber:"DO-2024-002",customerId:"CUST-002",customerName:"BuildRight Inc.",customerAddress:"456 Builder Street, Kuala Lumpur 50000",customerContact:"+60 13-456 7890",contractStartDate:"2024-11-15T00:00:00Z",billingCycleDay:15,rentalItems:[{id:"item-4",scaffoldingItemId:"plank-1",itemName:"Steel Plank 2.0m",quantity:80,unitPrice:20,rentalDuration:"30 days",monthlyRate:600,totalPrice:48e3}],isActive:!0,itemsReturned:!1,doSignedAt:"2024-11-15T14:00:00Z",createdAt:"2024-11-15T13:00:00Z",lastUpdated:"2024-11-15T13:00:00Z"}],jS=[{id:"inv-1",invoiceNumber:"INV-MR-2024-10-0001",deliveryOrderNumber:"DO-2024-001",agreementId:"AGR-2024-001",customerId:"CUST-001",customerName:"Acme Construction Ltd.",customerAddress:"123 Construction Ave, Johor Bahru, Johor 81200",customerContact:"+60 12-345 6789",billingMonth:1,billingPeriodStart:"2024-10-01T00:00:00Z",billingPeriodEnd:"2024-10-31T23:59:59Z",rentalItems:jQ,subtotal:68100,taxRate:0,taxAmount:0,grandTotal:68100,defaultInterestRate:.015,status:"Paid",dueDate:"2024-10-08T00:00:00Z",createdAt:"2024-10-01T10:00:00Z",lastUpdated:"2024-10-05T15:00:00Z",isAutoGenerated:!0,autoGeneratedAt:"2024-10-01T10:00:00Z",itemsReturned:!1,notes:"First month invoice - automatically generated upon delivery order confirmation.",paymentProof:{id:"proof-1",fileName:"payment_oct_2024.pdf",fileUrl:"#",fileSize:245e3,fileType:"application/pdf",uploadedAt:"2024-10-03T09:00:00Z"},paymentSubmittedAt:"2024-10-03T09:00:00Z",transactionReferenceId:"TXN-20241003-001234",approvedBy:"Finance Manager",approvedAt:"2024-10-05T15:00:00Z"},{id:"inv-2",invoiceNumber:"INV-MR-2024-11-0002",deliveryOrderNumber:"DO-2024-001",agreementId:"AGR-2024-001",customerId:"CUST-001",customerName:"Acme Construction Ltd.",customerAddress:"123 Construction Ave, Johor Bahru, Johor 81200",customerContact:"+60 12-345 6789",billingMonth:2,billingPeriodStart:"2024-11-01T00:00:00Z",billingPeriodEnd:"2024-11-30T23:59:59Z",rentalItems:jQ,subtotal:68100,taxRate:0,taxAmount:0,grandTotal:68100,defaultInterestRate:.015,status:"Pending Approval",dueDate:"2024-11-08T00:00:00Z",createdAt:"2024-11-01T00:00:00Z",lastUpdated:"2024-11-25T10:00:00Z",isAutoGenerated:!0,autoGeneratedAt:"2024-11-01T00:00:00Z",itemsReturned:!1,notes:"Month 2 invoice - automatically generated as rental continues. Items have not yet been returned.",paymentProof:{id:"proof-2",fileName:"payment_nov_2024.jpg",fileUrl:"#",fileSize:189e3,fileType:"image/jpeg",uploadedAt:"2024-11-25T10:00:00Z"},paymentSubmittedAt:"2024-11-25T10:00:00Z"},{id:"inv-3",invoiceNumber:"INV-MR-2024-11-0003",deliveryOrderNumber:"DO-2024-002",agreementId:"AGR-2024-002",customerId:"CUST-002",customerName:"BuildRight Inc.",customerAddress:"456 Builder Street, Kuala Lumpur 50000",customerContact:"+60 13-456 7890",billingMonth:1,billingPeriodStart:"2024-11-15T00:00:00Z",billingPeriodEnd:"2024-12-14T23:59:59Z",rentalItems:[{id:"item-4",scaffoldingItemId:"plank-1",itemName:"Steel Plank 2.0m",quantity:80,unitPrice:20,rentalDuration:"30 days",monthlyRate:600,totalPrice:48e3}],subtotal:48e3,taxRate:0,taxAmount:0,grandTotal:48e3,defaultInterestRate:.015,status:"Pending Payment",dueDate:"2024-11-22T00:00:00Z",createdAt:"2024-11-15T14:00:00Z",lastUpdated:"2024-11-15T14:00:00Z",isAutoGenerated:!0,autoGeneratedAt:"2024-11-15T14:00:00Z",itemsReturned:!1,notes:"First month invoice - automatically generated upon delivery order confirmation."},{id:"inv-4",invoiceNumber:"INV-MR-2024-12-0004",deliveryOrderNumber:"DO-2024-001",agreementId:"AGR-2024-001",customerId:"CUST-001",customerName:"Acme Construction Ltd.",customerAddress:"123 Construction Ave, Johor Bahru, Johor 81200",customerContact:"+60 12-345 6789",billingMonth:3,billingPeriodStart:"2024-12-01T00:00:00Z",billingPeriodEnd:"2024-12-31T23:59:59Z",rentalItems:jQ,subtotal:68100,taxRate:0,taxAmount:0,grandTotal:68100,defaultInterestRate:.015,status:"Rejected",dueDate:"2024-12-15T00:00:00Z",createdAt:"2024-12-01T00:00:00Z",lastUpdated:"2024-12-08T14:30:00Z",isAutoGenerated:!0,autoGeneratedAt:"2024-12-01T00:00:00Z",itemsReturned:!1,notes:"Month 3 invoice - automatically generated as rental continues. Items have not yet been returned.",rejectedBy:"Finance Manager",rejectedAt:"2024-12-08T14:30:00Z",rejectionReason:"Payment proof image is unclear. Please upload a clearer screenshot showing transaction details and amount."},{id:"inv-5",invoiceNumber:"INV-MR-2025-12-0005",deliveryOrderNumber:"DO-2024-002",agreementId:"AGR-2024-002",customerId:"CUST-002",customerName:"BuildRight Inc.",customerAddress:"456 Builder Street, Kuala Lumpur 50000",customerContact:"+60 13-456 7890",billingMonth:2,billingPeriodStart:"2025-12-01T00:00:00Z",billingPeriodEnd:"2025-12-31T23:59:59Z",rentalItems:[{id:"item-5",scaffoldingItemId:"plank-1",itemName:"Steel Plank 2.0m",quantity:80,unitPrice:20,rentalDuration:"30 days",monthlyRate:600,totalPrice:48e3}],subtotal:48e3,taxRate:0,taxAmount:0,grandTotal:48e3,defaultInterestRate:.015,status:"Pending Payment",dueDate:"2025-12-31T00:00:00Z",createdAt:"2025-12-01T00:00:00Z",lastUpdated:"2025-12-01T00:00:00Z",isAutoGenerated:!0,autoGeneratedAt:"2025-12-01T00:00:00Z",itemsReturned:!1,notes:"Month 2 invoice - automatically generated as rental continues. Items have not yet been returned."}];function jT({userRole:a="Admin"}){let[b,c]=(0,m.useState)("list"),[d,e]=(0,m.useState)(jS),[f,g]=(0,m.useState)(jR),[h,i]=(0,m.useState)(null),[j,k]=(0,m.useState)([]);(0,m.useEffect)(()=>{let a=localStorage.getItem("monthlyRentalInvoices"),b=localStorage.getItem("rentalContracts"),c=localStorage.getItem("billingCycleLogs");if(a)try{e(JSON.parse(a))}catch(a){console.error("Failed to load invoices")}if(b)try{g(JSON.parse(b))}catch(a){console.error("Failed to load contracts")}if(c)try{k(JSON.parse(c))}catch(a){console.error("Failed to load billing logs")}},[]),(0,m.useEffect)(()=>{localStorage.setItem("monthlyRentalInvoices",JSON.stringify(d))},[d]),(0,m.useEffect)(()=>{localStorage.setItem("rentalContracts",JSON.stringify(f))},[f]),(0,m.useEffect)(()=>{localStorage.setItem("billingCycleLogs",JSON.stringify(j))},[j]),(0,m.useEffect)(()=>{let a=()=>{let a=new Date,b=a.getDate();f.forEach(c=>{if(!c.isActive||c.itemsReturned||b!==c.billingCycleDay)return;let e=new Date(c.contractStartDate),f=(a.getFullYear()-e.getFullYear())*12+(a.getMonth()-e.getMonth())+1;d.find(a=>a.agreementId===c.agreementId&&a.billingMonth===f)||n(c,f)})},b=setInterval(a,864e5);return a(),()=>clearInterval(b)},[f,d]),(0,m.useEffect)(()=>{let a=()=>{let a=new Date;a.setHours(0,0,0,0);let b=d.map(b=>{if("Pending Payment"===b.status&&!b.paymentProof){let c=new Date(b.dueDate);if(c.setHours(0,0,0,0),c<a)return{...b,status:"Overdue",lastUpdated:new Date().toISOString()}}return b});b.some((a,b)=>a.status!==d[b].status)&&e(b)};a();let b=setInterval(a,6e4);return()=>clearInterval(b)},[d]);let n=(a,b)=>{let c=new Date,d=`INV-MR-${c.getFullYear()}-${String(c.getMonth()+1).padStart(2,"0")}-${String(Date.now()).slice(-4)}`,f=new Date(a.contractStartDate);f.setMonth(f.getMonth()+(b-1));let g=new Date(f);g.setMonth(g.getMonth()+1),g.setDate(g.getDate()-1);let h=new Date(c);h.setDate(h.getDate()+7);let i=a.rentalItems.reduce((a,b)=>a+b.totalPrice,0),j=0*i,l={id:`inv-${Date.now()}`,invoiceNumber:d,deliveryOrderNumber:a.deliveryOrderNumber,agreementId:a.agreementId,customerId:a.customerId,customerName:a.customerName,customerAddress:a.customerAddress,customerContact:a.customerContact,billingMonth:b,billingPeriodStart:f.toISOString(),billingPeriodEnd:g.toISOString(),rentalItems:a.rentalItems,subtotal:i,taxRate:0,taxAmount:j,grandTotal:i+j,defaultInterestRate:.015,status:"Pending Payment",dueDate:h.toISOString(),createdAt:c.toISOString(),lastUpdated:c.toISOString(),isAutoGenerated:!0,autoGeneratedAt:c.toISOString(),itemsReturned:!1,notes:1===b?"First month invoice - automatically generated upon delivery order confirmation.":`Month ${b} invoice - automatically generated as rental continues. Items have not yet been returned.`};e(a=>[...a,l]);let m={id:`log-${Date.now()}`,contractId:a.id,cycleNumber:b,generatedAt:c.toISOString(),invoiceId:l.id,status:"generated"};k(a=>[...a,m]),gG.success(`Invoice ${d} generated for ${a.customerName} - Month ${b}`)},o=h?d.find(a=>a.id===h):null;return(0,l.jsxs)("div",{className:"space-y-6",children:["list"===b&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("h1",{children:"Monthly Rental Billing"}),(0,l.jsx)("p",{className:"text-[#374151]",children:"Automated monthly rental invoicing with payment tracking and approval workflows"})]}),(0,l.jsx)(jO,{invoices:d,onView:a=>{i(a),c("details")},onEditPayment:a=>{i(a),c("details")},userRole:a})]}),"details"===b&&o&&(0,l.jsx)(jP,{invoice:o,onBack:()=>{c("list"),i(null)},onSubmitPayment:(a,b)=>{let f=new Date().toISOString(),g={id:`proof-${Date.now()}`,fileName:b.name,fileUrl:URL.createObjectURL(b),fileSize:b.size,fileType:b.type,uploadedAt:f};e(d.map(b=>b.id===a?{...b,status:"Pending Approval",paymentProof:g,paymentSubmittedAt:f,lastUpdated:f}:b)),gG.success("Payment proof submitted successfully"),c("list")},onApprove:(a,b)=>{let f=new Date().toISOString();e(d.map(c=>c.id===a?{...c,status:"Paid",transactionReferenceId:b,approvedBy:"Current User (Admin)",approvedAt:f,lastUpdated:f}:c)),gG.success("Payment approved successfully"),c("list")},onReject:(a,b)=>{let f=new Date().toISOString();e(d.map(c=>c.id===a?{...c,status:"Rejected",rejectedBy:"Current User (Admin)",rejectedAt:f,rejectionReason:b,paymentProof:void 0,lastUpdated:f}:c)),gG.error("Payment rejected"),c("list")},onMarkAsReturned:a=>{let b=d.find(b=>b.id===a);if(!b)return;let c=new Date().toISOString();e(d.map(b=>b.id===a?{...b,status:"Completed",itemsReturned:!0,returnedAt:c,lastUpdated:c}:b)),g(f.map(a=>a.agreementId===b.agreementId?{...a,itemsReturned:!0,returnDate:c,isActive:!1,lastUpdated:c}:a)),gG.success("Items marked as returned. No further invoices will be generated.")},userRole:a})]})}let jU=s("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),jV=s("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function jW({status:a}){switch(a){case"Approved":return(0,l.jsx)(jk,{className:"bg-[#059669] hover:bg-[#047857] text-white",children:"Approved"});case"Pending Approval":return(0,l.jsx)(jk,{className:"bg-[#F59E0B] hover:bg-[#D97706] text-white",children:"Pending Approval"});case"Draft":return(0,l.jsx)(jk,{className:"bg-[#6B7280] hover:bg-[#4B5563] text-white",children:"Draft"});case"Rejected":return(0,l.jsx)(jk,{className:"bg-[#DC2626] hover:bg-[#B91C1C] text-white",children:"Rejected"})}}function jX({creditNotes:a,onView:b,onEdit:c,onDelete:d}){let[e,f]=(0,m.useState)(""),[g,h]=(0,m.useState)("all"),i=a.filter(a=>{let b=a.creditNoteNumber.toLowerCase().includes(e.toLowerCase())||a.customer.toLowerCase().includes(e.toLowerCase()),c="all"===g||a.status===g;return b&&c}),j=a.filter(a=>"Approved"===a.status).reduce((a,b)=>a+b.amount,0),k=a.filter(a=>"Pending Approval"===a.status).reduce((a,b)=>a+b.amount,0),n=a.filter(a=>"Draft"===a.status).length;return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"Total Credit Notes"})}),(0,l.jsxs)(hA,{children:[(0,l.jsx)("p",{className:"text-[#111827]",children:a.length}),(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280] mt-1",children:"All time"})]})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"Approved Amount"})}),(0,l.jsxs)(hA,{children:[(0,l.jsxs)("p",{className:"text-[#111827]",children:["RM",j.toLocaleString()]}),(0,l.jsx)("p",{className:"text-[12px] text-[#059669] mt-1",children:"Processed"})]})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"Pending Approval"})}),(0,l.jsxs)(hA,{children:[(0,l.jsxs)("p",{className:"text-[#111827]",children:["RM",k.toLocaleString()]}),(0,l.jsx)("p",{className:"text-[12px] text-[#F59E0B] mt-1",children:"Awaiting review"})]})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"Drafts"})}),(0,l.jsxs)(hA,{children:[(0,l.jsx)("p",{className:"text-[#111827]",children:n}),(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280] mt-1",children:"Not submitted"})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)("div",{className:"relative flex-1 max-w-[400px]",children:[(0,l.jsx)(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[#6B7280]"}),(0,l.jsx)(a3,{placeholder:"Search by credit note # or customer...",className:"pl-10 h-10 bg-white border-[#D1D5DB] rounded-md",value:e,onChange:a=>f(a.target.value)})]}),(0,l.jsxs)(iE,{value:g,onValueChange:h,children:[(0,l.jsx)(iG,{className:"w-[200px] h-10 bg-white border-[#D1D5DB] rounded-md",children:(0,l.jsx)(iF,{placeholder:"Filter by status"})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"all",children:"All Status"}),(0,l.jsx)(iI,{value:"Draft",children:"Draft"}),(0,l.jsx)(iI,{value:"Pending Approval",children:"Pending Approval"}),(0,l.jsx)(iI,{value:"Approved",children:"Approved"}),(0,l.jsx)(iI,{value:"Rejected",children:"Rejected"})]})]})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px]",children:"Credit Notes"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)(ju,{children:[(0,l.jsx)(jv,{children:(0,l.jsxs)(jx,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,l.jsx)(jy,{children:"Customer"}),(0,l.jsx)(jy,{children:"Original Invoice"}),(0,l.jsx)(jy,{children:"Amount"}),(0,l.jsx)(jy,{children:"Reason"}),(0,l.jsx)(jy,{children:"Date"}),(0,l.jsx)(jy,{children:"Status"}),(0,l.jsx)(jy,{className:"text-right",children:"Actions"})]})}),(0,l.jsx)(jw,{children:0===i.length?(0,l.jsx)(jx,{children:(0,l.jsx)(jz,{colSpan:7,className:"text-center py-8 text-[#6B7280]",children:"No credit notes found"})}):i.map(a=>(0,l.jsxs)(jx,{className:"h-14 hover:bg-[#F3F4F6]",children:[(0,l.jsx)(jz,{className:"text-[#374151]",children:a.customer}),(0,l.jsx)(jz,{className:"text-[#374151]",children:a.originalInvoice}),(0,l.jsxs)(jz,{className:"text-[#111827]",children:["RM",a.amount.toLocaleString()]}),(0,l.jsx)(jz,{children:(0,l.jsx)(jk,{variant:"secondary",className:"bg-[#F3F4F6] text-[#374151]",children:a.reason})}),(0,l.jsx)(jz,{className:"text-[#374151]",children:new Date(a.date).toLocaleDateString()}),(0,l.jsx)(jz,{children:(0,l.jsx)(jW,{status:a.status})}),(0,l.jsx)(jz,{className:"text-right",children:(0,l.jsxs)(fp,{children:[(0,l.jsx)(fq,{asChild:!0,children:(0,l.jsx)(a2,{variant:"ghost",size:"sm",className:"hover:bg-[#F3F4F6]",children:(0,l.jsx)(jN,{className:"h-4 w-4"})})}),(0,l.jsxs)(fr,{align:"end",children:[(0,l.jsxs)(fs,{onClick:()=>b(a.id),children:[(0,l.jsx)(gN,{className:"h-4 w-4 mr-2"}),"View"]}),"Draft"===a.status&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(fs,{onClick:()=>c(a.id),children:[(0,l.jsx)(jU,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,l.jsxs)(fs,{onClick:()=>d(a.id),className:"text-[#DC2626] focus:text-[#DC2626]",children:[(0,l.jsx)(jV,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})})]},a.id))})]})})]})]})}let jY=s("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),jZ=s("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),j$=s("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);function j_({onFilesChange:a,maxFiles:b=5,existingFiles:c=[]}){let[d,e]=(0,m.useState)(c),f=(0,m.useRef)(null);return(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"border-2 border-dashed border-[#D1D5DB] rounded-lg p-8 text-center hover:border-[#F15929] transition-colors cursor-pointer",onClick:()=>f.current?.click(),children:[(0,l.jsx)(hD,{className:"h-12 w-12 text-[#6B7280] mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-[#111827] mb-1",children:"Click to upload or drag and drop"}),(0,l.jsxs)("p",{className:"text-[14px] text-[#6B7280]",children:["PNG, JPG, PDF up to 10MB (Max ",b," files)"]}),(0,l.jsx)("input",{ref:f,type:"file",multiple:!0,accept:"image/*,.pdf",className:"hidden",onChange:c=>{let f=[...d,...Array.from(c.target.files||[])].slice(0,b);e(f),a(f)}})]}),d.length>0&&(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("p",{className:"text-[14px] text-[#374151]",children:["Uploaded Files (",d.length,"/",b,")"]}),(0,l.jsx)("div",{className:"grid grid-cols-1 gap-2",children:d.map((b,c)=>{var f;return(0,l.jsx)(hw,{className:"p-3 border-[#E5E7EB]",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:b.type.startsWith("image/")?(0,l.jsx)(j$,{className:"h-8 w-8 text-[#F15929]"}):(0,l.jsx)(v,{className:"h-8 w-8 text-[#6B7280]"})}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("p",{className:"text-[14px] text-[#111827] truncate",children:b.name}),(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:(f=b.size)<1024?f+" B":f<1048576?(f/1024).toFixed(1)+" KB":(f/1048576).toFixed(1)+" MB"})]}),(0,l.jsx)(a2,{type:"button",variant:"ghost",size:"sm",onClick:()=>{let b;e(b=d.filter((a,b)=>b!==c)),a(b)},className:"flex-shrink-0",children:(0,l.jsx)(D,{className:"h-4 w-4 text-[#DC2626]"})})]})},c)})})]})]})}let j0=[{id:"CUST-001",name:"Acme Construction Ltd."},{id:"CUST-002",name:"BuildRight Inc."},{id:"CUST-003",name:"Metro Builders"},{id:"CUST-004",name:"Premium Projects"},{id:"CUST-005",name:"Steel Masters Co."}],j1=[{id:"INV-2024-045",customerId:"CUST-001",amount:15500},{id:"INV-2024-046",customerId:"CUST-002",amount:22300},{id:"INV-2024-047",customerId:"CUST-003",amount:18900},{id:"INV-2024-048",customerId:"CUST-004",amount:12750},{id:"INV-2024-049",customerId:"CUST-005",amount:31200}],j2=[{id:"DO-2024-001",customerId:"CUST-001",invoiceId:"INV-2024-045",doNumber:"DO-2024-001"},{id:"DO-2024-002",customerId:"CUST-002",invoiceId:"INV-2024-046",doNumber:"DO-2024-002"},{id:"DO-2024-003",customerId:"CUST-003",invoiceId:"INV-2024-047",doNumber:"DO-2024-003"},{id:"DO-2024-004",customerId:"CUST-004",invoiceId:"INV-2024-048",doNumber:"DO-2024-004"},{id:"DO-2024-005",customerId:"CUST-005",invoiceId:"INV-2024-049",doNumber:"DO-2024-005"}],j3=[{id:"ITEM-001",doId:"DO-2024-001",name:"Steel Pipe Scaffolding - Standard (6m)",previousPrice:85,currentPrice:95,maxQty:50},{id:"ITEM-002",doId:"DO-2024-001",name:"Scaffold Board - Wooden (3.9m)",previousPrice:45,currentPrice:50,maxQty:30},{id:"ITEM-003",doId:"DO-2024-002",name:"H-Frame Scaffolding (1.7m x 1.2m)",previousPrice:120,currentPrice:135,maxQty:20},{id:"ITEM-004",doId:"DO-2024-003",name:"Ringlock System - Vertical (3m)",previousPrice:95,currentPrice:105,maxQty:60},{id:"ITEM-005",doId:"DO-2024-004",name:"Steel Tube - Heavy Duty (4m)",previousPrice:75,currentPrice:80,maxQty:100},{id:"ITEM-006",doId:"DO-2024-004",name:"Swivel Coupler",previousPrice:12,currentPrice:15,maxQty:150},{id:"ITEM-007",doId:"DO-2024-005",name:"Aluminum Mobile Tower (5m)",previousPrice:450,currentPrice:480,maxQty:3}];function j4({onBack:a,onSave:b,editingNote:c}){let[d,e]=(0,m.useState)(c?.customerId||""),[f,g]=(0,m.useState)(c?.originalInvoice||""),[h,i]=(0,m.useState)(c?.deliveryOrderId||""),[j,k]=(0,m.useState)(c?.reason||"Returned Items"),[n,o]=(0,m.useState)(c?.reasonDescription||""),[p,q]=(0,m.useState)(c?.date||new Date().toISOString().split("T")[0]),[r,s]=(0,m.useState)(c?.items||[{id:"1",description:"",quantity:1,previousPrice:0,currentPrice:0,unitPrice:0,amount:0}]),[t,u]=(0,m.useState)([]),v=j1.filter(a=>a.customerId===d),w=j2.filter(a=>a.invoiceId===f),x=j3.filter(a=>a.doId===h),y=r.map(a=>a.description).filter(Boolean),z=x.length>0&&y.length>=x.length,A=(a,b,c)=>{s(r.map(d=>{if(d.id===a){let a={...d,[b]:c};if("description"===b&&c){let b=x.find(a=>a.name===c);b&&(a.previousPrice=b.previousPrice,a.currentPrice=b.previousPrice,a.unitPrice=b.previousPrice,a.amount=a.quantity*b.previousPrice)}if("quantity"===b||"currentPrice"===b){let b=a.currentPrice||a.unitPrice;a.amount=a.quantity*b,a.unitPrice=b}return a}return d}))},B=r.reduce((a,b)=>a+b.amount,0);return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)(a2,{variant:"ghost",onClick:a,className:"hover:bg-[#F3F4F6]",children:[(0,l.jsx)(gT,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h1",{children:c?"Edit Credit Note":"Create Credit Note"}),(0,l.jsx)("p",{className:"text-[#374151]",children:c?"Update credit note details":"Fill in the details to create a new credit note"})]})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px]",children:"Credit Note Information"})}),(0,l.jsxs)(hA,{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("label",{className:"text-[14px] text-[#374151]",children:["Customer ",(0,l.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,l.jsxs)(iE,{value:d,onValueChange:e,children:[(0,l.jsx)(iG,{className:"h-10 bg-white border-[#D1D5DB] rounded-md",children:(0,l.jsx)(iF,{placeholder:"Select customer..."})}),(0,l.jsx)(iH,{children:j0.map(a=>(0,l.jsx)(iI,{value:a.id,children:a.name},a.id))})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("label",{className:"text-[14px] text-[#374151]",children:["Original Invoice ",(0,l.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,l.jsxs)(iE,{value:f,onValueChange:g,disabled:!d,children:[(0,l.jsx)(iG,{className:"h-10 bg-white border-[#D1D5DB] rounded-md",children:(0,l.jsx)(iF,{placeholder:"Select invoice..."})}),(0,l.jsx)(iH,{children:v.map(a=>(0,l.jsxs)(iI,{value:a.id,children:[a.id," - RM",a.amount.toLocaleString()]},a.id))})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("label",{className:"text-[14px] text-[#374151]",children:["Delivery Order (DO) ",(0,l.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,l.jsxs)(iE,{value:h,onValueChange:i,disabled:!f,children:[(0,l.jsx)(iG,{className:"h-10 bg-white border-[#D1D5DB] rounded-md",children:(0,l.jsx)(iF,{placeholder:"Select delivery order..."})}),(0,l.jsx)(iH,{children:w.map(a=>(0,l.jsx)(iI,{value:a.id,children:a.doNumber},a.id))})]}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"Select the DO to load items with price comparison (Previous Price from DO vs Current Price from Invoice)"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("label",{className:"text-[14px] text-[#374151]",children:["Reason ",(0,l.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,l.jsxs)(iE,{value:j,onValueChange:a=>k(a),children:[(0,l.jsx)(iG,{className:"h-10 bg-white border-[#D1D5DB] rounded-md",children:(0,l.jsx)(iF,{})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"Returned Items",children:"Returned Items"}),(0,l.jsx)(iI,{value:"Price Adjustment",children:"Price Adjustment"}),(0,l.jsx)(iI,{value:"Service Issue",children:"Service Issue"}),(0,l.jsx)(iI,{value:"Damaged Goods",children:"Damaged Goods"}),(0,l.jsx)(iI,{value:"Billing Error",children:"Billing Error"}),(0,l.jsx)(iI,{value:"Other",children:"Other"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"text-[14px] text-[#374151]",children:"Date"}),(0,l.jsx)(a3,{type:"date",value:p,onChange:a=>q(a.target.value),disabled:!0,className:"h-10 bg-[#F3F4F6] border-[#D1D5DB] rounded-md"})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"text-[14px] text-[#374151]",children:"Additional Details"}),(0,l.jsx)(jE,{placeholder:"Provide additional details about the credit note...",value:n,onChange:a=>o(a.target.value),className:"min-h-[100px] border-[#D1D5DB] rounded-md"})]})]})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsxs)(hx,{className:"flex flex-row items-center justify-between",children:[(0,l.jsx)(hy,{className:"text-[18px]",children:"Line Items"}),(0,l.jsxs)(a2,{onClick:()=>{s([...r,{id:Date.now().toString(),description:"",quantity:1,previousPrice:0,currentPrice:0,unitPrice:0,amount:0}])},variant:"outline",className:"h-9 px-4 rounded-lg",disabled:z,children:[(0,l.jsx)(jI,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),(0,l.jsxs)(hA,{className:"space-y-4",children:[!h&&(0,l.jsx)("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg text-sm text-amber-800",children:"Please select a Delivery Order (DO) above to load items with price comparison"}),r.map((a,b)=>(0,l.jsx)(hw,{className:"border-[#E5E7EB] bg-[#F9FAFB]",children:(0,l.jsx)(hA,{className:"pt-6 pb-6",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("label",{className:"text-[14px] text-[#374151]",children:["Select Item from DO ",(0,l.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,l.jsxs)(iE,{value:a.description,onValueChange:b=>A(a.id,"description",b),disabled:!h,children:[(0,l.jsx)(iG,{className:"h-10 bg-white border-[#D1D5DB] rounded-md",children:(0,l.jsx)(iF,{placeholder:"Select item from DO..."})}),(0,l.jsx)(iH,{children:x.filter(b=>{let c=b.name===a.description,d=r.some(c=>c.id!==a.id&&c.description===b.name);return c||!d}).map(a=>(0,l.jsx)(iI,{value:a.name,children:a.name},a.id))})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"text-[14px] text-[#6B7280]",children:"Previous Price (from Invoice)"}),(0,l.jsx)("div",{className:"h-10 px-3 bg-[#F9FAFB] border border-[#D1D5DB] rounded-md flex items-center",children:(0,l.jsx)("span",{className:"text-[#6B7280]",children:a.previousPrice>0?`RM${a.previousPrice.toFixed(2)}`:"-"})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("label",{className:"text-[14px] text-[#231F20]",children:["Current Price ",(0,l.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,l.jsx)(a3,{type:"number",step:"0.01",min:"0",max:a.previousPrice||void 0,value:a.currentPrice||"",onChange:b=>A(a.id,"currentPrice",parseFloat(b.target.value)||0),placeholder:"Enter current price",className:"h-10 bg-white border-[#D1D5DB] rounded-md",disabled:!a.description}),a.currentPrice>a.previousPrice&&a.previousPrice>0&&(0,l.jsxs)("p",{className:"text-xs text-[#DC2626] flex items-center gap-1",children:[(0,l.jsx)("span",{className:"font-semibold",children:""})," Current price cannot exceed previous price (RM",a.previousPrice.toFixed(2),")"]})]}),a.previousPrice>0&&a.currentPrice>0&&(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"text-[14px] text-[#6B7280]",children:"Price Reduction"}),(0,l.jsx)("div",{className:"h-10 px-3 bg-[#FEF2F2] border border-[#DC2626] rounded-md flex items-center",children:(0,l.jsxs)("span",{className:a.previousPrice-a.currentPrice>0?"text-[#DC2626]":"text-[#16A34A]",children:[a.previousPrice-a.currentPrice>0?"-":"+","RM",Math.abs(a.previousPrice-a.currentPrice).toFixed(2)]})})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("label",{className:"text-[14px] text-[#374151]",children:["Quantity to Credit ",(0,l.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,l.jsx)(a3,{type:"number",min:"1",max:x.find(b=>b.name===a.description)?.maxQty||999,value:a.quantity,onChange:b=>A(a.id,"quantity",parseFloat(b.target.value)||0),placeholder:"Enter quantity",className:"h-10 bg-white border-[#D1D5DB] rounded-md",disabled:!a.description}),a.description&&(0,l.jsxs)("p",{className:"text-xs text-gray-500",children:["Max quantity: ",x.find(b=>b.name===a.description)?.maxQty||0]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"text-[14px] text-[#374151]",children:"Amount (RM)"}),(0,l.jsx)("div",{className:"h-10 px-3 bg-[#F3F4F6] border border-[#D1D5DB] rounded-md flex items-center",children:(0,l.jsxs)("span",{className:"text-[#231F20]",children:["RM",(a.amount||0).toFixed(2)]})}),(0,l.jsxs)("p",{className:"text-xs text-gray-500",children:["Calculated: ",a.quantity,"  RM",(a.currentPrice||0).toFixed(2)]})]}),r.length>1&&(0,l.jsx)("div",{className:"flex items-end h-10",children:(0,l.jsxs)(a2,{variant:"outline",size:"sm",onClick:()=>{var b;return b=a.id,void(r.length>1&&s(r.filter(a=>a.id!==b)))},className:"hover:bg-[#FEF2F2] text-[#DC2626] border-[#DC2626]",children:[(0,l.jsx)(jV,{className:"h-4 w-4 mr-2"}),"Remove Item"]})})]})]})})},a.id)),(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsxs)("div",{className:"w-full md:w-1/3 space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center p-4 bg-[#FEF2F2] border border-[#DC2626] rounded-lg",children:[(0,l.jsx)("span",{className:"text-[#231F20]",children:"Total Amount Reduce (RM)"}),(0,l.jsxs)("span",{className:"text-[#DC2626]",children:["-RM",r.reduce((a,b)=>a+(b.previousPrice-b.currentPrice)*b.quantity,0).toFixed(2)]})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center p-4 bg-[#F15929] bg-opacity-10 border border-[#F15929] rounded-lg",children:[(0,l.jsx)("span",{className:"text-[#231F20]",children:"Total Amount Charge:"}),(0,l.jsxs)("span",{className:"text-[#231F20]",children:["RM",B.toLocaleString()]})]})]})})]})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px]",children:"Supporting Documents"})}),(0,l.jsx)(hA,{children:(0,l.jsx)(j_,{onFilesChange:u,maxFiles:5})})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-3 pb-6",children:[(0,l.jsxs)(a2,{variant:"outline",onClick:()=>{let a=j0.find(a=>a.id===d),e={id:c?.id,customer:a?.name||"",customerId:d,originalInvoice:f,amount:B,reason:j,reasonDescription:n,date:p,status:"Draft",items:r};b(e,!0)},className:"h-10 px-6 rounded-lg",children:[(0,l.jsx)(jY,{className:"mr-2 h-4 w-4"}),"Save as Draft"]}),(0,l.jsxs)(a2,{onClick:()=>{if(!(d?f?p?r.some(a=>!a.description||a.quantity<=0||a.unitPrice<=0)?(gG.error("Please complete all item details"),!1):!(B<=0)||(gG.error("Total amount must be greater than zero"),!1):(gG.error("Please select a date"),!1):(gG.error("Please select an original invoice"),!1):(gG.error("Please select a customer"),!1)))return;let a=j0.find(a=>a.id===d),e={id:c?.id,customer:a?.name||"",customerId:d,originalInvoice:f,amount:B,reason:j,reasonDescription:n,date:p,status:"Pending Approval",items:r};b(e,!1)},className:"bg-[#F15929] hover:bg-[#D14620] text-white h-10 px-6 rounded-lg",children:[(0,l.jsx)(jZ,{className:"mr-2 h-4 w-4"}),"Submit for Approval"]})]})]})}function j5({isOpen:a,onClose:b,onReject:c,creditNoteNumber:d}){let[e,f]=(0,m.useState)(""),[g,h]=(0,m.useState)(""),i=()=>{f(""),h(""),b()};return(0,l.jsx)(jl,{open:a,onOpenChange:i,children:(0,l.jsxs)(jp,{className:"sm:max-w-[500px]",children:[(0,l.jsxs)(jq,{children:[(0,l.jsx)(js,{children:"Reject Credit Note"}),(0,l.jsxs)(jt,{children:["You are about to reject credit note ",d,". Please provide a reason for rejection."]})]}),(0,l.jsxs)("div",{className:"space-y-4 py-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("label",{className:"text-[14px] text-[#374151]",children:["Rejection Reason ",(0,l.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,l.jsx)(jE,{placeholder:"Enter detailed reason for rejection...",value:e,onChange:a=>{f(a.target.value),h("")},className:"min-h-[120px] border-[#D1D5DB] rounded-md"}),g&&(0,l.jsx)("p",{className:"text-[12px] text-[#DC2626]",children:g})]}),(0,l.jsx)("div",{className:"bg-[#FEF2F2] border border-[#FEE2E2] rounded-lg p-4",children:(0,l.jsx)("p",{className:"text-[14px] text-[#991B1B]",children:"This action will reject the credit note and notify the creator. The credit note can be revised and resubmitted."})})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,l.jsx)(a2,{variant:"outline",onClick:i,className:"h-10 px-6 rounded-lg",children:"Cancel"}),(0,l.jsx)(a2,{onClick:()=>{e.trim()?e.trim().length<10?h("Rejection reason must be at least 10 characters"):(c(e),f(""),h(""),b()):h("Please provide a reason for rejection")},className:"bg-[#DC2626] hover:bg-[#B91C1C] text-white h-10 px-6 rounded-lg",children:"Reject Credit Note"})]})]})})}function j6({creditNote:a,onBack:b,onApprove:c,onReject:d,userRole:e}){let[f,g]=(0,m.useState)(!1),h=("Admin"===e||"Finance"===e)&&"Pending Approval"===a.status;return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)(a2,{variant:"ghost",onClick:b,className:"hover:bg-[#F3F4F6]",children:[(0,l.jsx)(gT,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("h1",{children:a.creditNoteNumber}),(0,l.jsx)(jW,{status:a.status})]}),(0,l.jsxs)("p",{className:"text-[#374151]",children:["Created on ",new Date(a.createdAt).toLocaleDateString()]})]})]}),(0,l.jsxs)(a2,{variant:"outline",onClick:()=>{gG.success("PDF download started")},className:"h-10 px-6 rounded-lg",children:[(0,l.jsx)(jg,{className:"mr-2 h-4 w-4"}),"Download PDF"]})]}),h&&(0,l.jsx)(hw,{className:"border-[#F15929] bg-[#FFF7F5]",children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#231F20]",children:"Approval Required"}),(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280] mt-1",children:"This credit note requires your approval before processing"})]}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsxs)(a2,{variant:"outline",onClick:()=>g(!0),className:"h-10 px-6 rounded-lg border-[#DC2626] text-[#DC2626] hover:bg-[#FEF2F2]",children:[(0,l.jsx)(jb,{className:"mr-2 h-4 w-4"}),"Reject"]}),(0,l.jsxs)(a2,{onClick:()=>{c(a.id)},className:"bg-[#059669] hover:bg-[#047857] text-white h-10 px-6 rounded-lg",children:[(0,l.jsx)(hE,{className:"mr-2 h-4 w-4"}),"Approve"]})]})]})})}),"Rejected"===a.status&&a.rejectionReason&&(0,l.jsx)(hw,{className:"border-[#DC2626] bg-[#FEF2F2]",children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(jb,{className:"h-5 w-5 text-[#DC2626] mt-0.5"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("p",{className:"text-[#991B1B]",children:["Rejected by ",a.rejectedBy||"Unknown"]}),(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280] mt-1",children:new Date(a.rejectedAt||"").toLocaleDateString()}),(0,l.jsx)("div",{className:"mt-3 p-3 bg-white rounded-lg border border-[#FEE2E2]",children:(0,l.jsxs)("p",{className:"text-[14px] text-[#374151]",children:[(0,l.jsx)("span",{className:"text-[#991B1B]",children:"Reason:"})," ",a.rejectionReason]})})]})]})})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px]",children:"Customer Information"})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Customer Name"}),(0,l.jsx)("p",{className:"text-[#111827]",children:a.customer})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Customer ID"}),(0,l.jsx)("p",{className:"text-[#111827]",children:a.customerId})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Original Invoice"}),(0,l.jsx)("p",{className:"text-[#111827]",children:a.originalInvoice})]})]})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px]",children:"Credit Note Details"})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Reason"}),(0,l.jsx)(jk,{variant:"secondary",className:"bg-[#F3F4F6] text-[#374151] mt-1",children:a.reason})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Date"}),(0,l.jsx)("p",{className:"text-[#111827]",children:new Date(a.date).toLocaleDateString()})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Total Amount"}),(0,l.jsxs)("p",{className:"text-[#111827]",children:["RM",a.amount.toLocaleString()]})]})]})]})]}),a.reasonDescription&&(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px]",children:"Additional Details"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("p",{className:"text-[#374151]",children:a.reasonDescription})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px]",children:"Line Items"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)(ju,{children:[(0,l.jsx)(jv,{children:(0,l.jsxs)(jx,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,l.jsx)(jy,{children:"Description"}),(0,l.jsx)(jy,{className:"text-right",children:"Quantity"}),(0,l.jsx)(jy,{className:"text-right",children:"Unit Price"}),(0,l.jsx)(jy,{className:"text-right",children:"Amount"})]})}),(0,l.jsxs)(jw,{children:[a.items.map(a=>(0,l.jsxs)(jx,{className:"hover:bg-[#F3F4F6]",children:[(0,l.jsx)(jz,{className:"text-[#111827]",children:a.description}),(0,l.jsx)(jz,{className:"text-right text-[#374151]",children:a.quantity}),(0,l.jsxs)(jz,{className:"text-right text-[#374151]",children:["RM",a.unitPrice.toLocaleString()]}),(0,l.jsxs)(jz,{className:"text-right text-[#111827]",children:["RM",a.amount.toLocaleString()]})]},a.id)),(0,l.jsxs)(jx,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,l.jsx)(jz,{colSpan:3,className:"text-right",children:"Total"}),(0,l.jsxs)(jz,{className:"text-right text-[#111827]",children:["RM",a.amount.toLocaleString()]})]})]})]})})]}),a.attachments&&a.attachments.length>0&&(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px]",children:"Supporting Documents"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.attachments.map(a=>(0,l.jsx)(hw,{className:"border-[#E5E7EB]",children:(0,l.jsx)(hA,{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:a.fileName.match(/\.(jpg|jpeg|png|gif)$/i)?(0,l.jsx)(j$,{className:"h-8 w-8 text-[#F15929]"}):(0,l.jsx)(v,{className:"h-8 w-8 text-[#6B7280]"})}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("p",{className:"text-[14px] text-[#111827] truncate",children:a.fileName}),(0,l.jsxs)("p",{className:"text-[12px] text-[#6B7280]",children:[(a.fileSize/1024).toFixed(1)," KB"]})]}),(0,l.jsx)(a2,{variant:"ghost",size:"sm",className:"flex-shrink-0",children:(0,l.jsx)(jg,{className:"h-4 w-4"})})]})})},a.id))})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px]",children:"Audit Trail"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"h-2 w-2 rounded-full bg-[#6B7280] mt-2"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-[#111827]",children:["Created by ",a.createdBy]}),(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:new Date(a.createdAt).toLocaleString()})]})]}),"Approved"===a.status&&a.approvedBy&&(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"h-2 w-2 rounded-full bg-[#059669] mt-2"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-[#111827]",children:["Approved by ",a.approvedBy]}),(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:new Date(a.approvedAt||"").toLocaleString()})]})]}),"Rejected"===a.status&&a.rejectedBy&&(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"h-2 w-2 rounded-full bg-[#DC2626] mt-2"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-[#111827]",children:["Rejected by ",a.rejectedBy]}),(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:new Date(a.rejectedAt||"").toLocaleString()})]})]})]})})]}),(0,l.jsx)(j5,{isOpen:f,onClose:()=>g(!1),onReject:b=>{d(a.id,b)},creditNoteNumber:a.creditNoteNumber})]})}let j7=[{id:"1",creditNoteNumber:"CN-2024-001",customer:"Acme Construction Ltd.",customerId:"CUST-001",originalInvoice:"INV-2024-045",amount:750,reason:"Returned Items",reasonDescription:"Customer returned 5 units of steel bars due to excess inventory",date:"2024-11-03",status:"Approved",createdBy:"John Smith",createdAt:"2024-11-03T09:00:00Z",updatedAt:"2024-11-03T14:30:00Z",approvedBy:"Jane Doe (Finance Manager)",approvedAt:"2024-11-03T14:30:00Z",attachments:[{id:"att-1",fileName:"return_receipt.pdf",fileUrl:"#",fileSize:245600,uploadedAt:"2024-11-03T09:00:00Z"}],items:[{id:"item-1",description:"Steel Bar - 12mm x 6m",quantity:5,unitPrice:150,amount:750}]},{id:"2",creditNoteNumber:"CN-2024-002",customer:"BuildRight Inc.",customerId:"CUST-002",originalInvoice:"INV-2024-043",amount:1200,reason:"Price Adjustment",reasonDescription:"Volume discount applied retroactively for bulk order",date:"2024-11-02",status:"Pending Approval",createdBy:"Sarah Johnson",createdAt:"2024-11-02T10:15:00Z",updatedAt:"2024-11-02T10:15:00Z",attachments:[],items:[{id:"item-1",description:"Price adjustment for scaffolding rental",quantity:1,unitPrice:1200,amount:1200}]},{id:"3",creditNoteNumber:"CN-2024-003",customer:"Metro Builders",customerId:"CUST-003",originalInvoice:"INV-2024-038",amount:450,reason:"Service Issue",reasonDescription:"Late delivery compensation",date:"2024-10-30",status:"Approved",createdBy:"Mike Chen",createdAt:"2024-10-30T11:20:00Z",updatedAt:"2024-10-30T16:45:00Z",approvedBy:"Robert Lee (Admin)",approvedAt:"2024-10-30T16:45:00Z",attachments:[],items:[{id:"item-1",description:"Service credit for late delivery",quantity:1,unitPrice:450,amount:450}]},{id:"4",creditNoteNumber:"CN-2024-004",customer:"Premium Projects",customerId:"CUST-004",originalInvoice:"INV-2024-047",amount:2100,reason:"Returned Items",date:"2024-11-01",status:"Draft",createdBy:"Emily Wong",createdAt:"2024-11-01T08:30:00Z",updatedAt:"2024-11-01T08:30:00Z",attachments:[],items:[{id:"item-1",description:"Scaffolding Tubes - 6m",quantity:10,unitPrice:180,amount:1800},{id:"item-2",description:"Couplers - Standard",quantity:20,unitPrice:15,amount:300}]},{id:"5",creditNoteNumber:"CN-2024-005",customer:"Steel Masters Co.",customerId:"CUST-005",originalInvoice:"INV-2024-049",amount:850,reason:"Damaged Goods",reasonDescription:"3 units received with minor rust damage",date:"2024-11-05",status:"Rejected",createdBy:"Tom Williams",createdAt:"2024-11-05T13:00:00Z",updatedAt:"2024-11-05T15:20:00Z",rejectedBy:"Jane Doe (Finance Manager)",rejectedAt:"2024-11-05T15:20:00Z",rejectionReason:"Insufficient documentation. Please provide photos of the damaged goods and inspection report before resubmitting.",attachments:[],items:[{id:"item-1",description:"Steel Plates - 10mm",quantity:3,unitPrice:283.33,amount:850}]}];function j8(){let[a,b]=(0,m.useState)("list"),[c,d]=(0,m.useState)(j7),[e,f]=(0,m.useState)(null),[g]=(0,m.useState)("Admin");(0,m.useEffect)(()=>{let a=localStorage.getItem("creditNotes");if(a)try{d(JSON.parse(a))}catch(a){console.error("Failed to load credit notes from storage")}},[]),(0,m.useEffect)(()=>{localStorage.setItem("creditNotes",JSON.stringify(c))},[c]);let h=e?c.find(a=>a.id===e):null,i=()=>{b("list"),f(null)};return(0,l.jsxs)("div",{className:"space-y-6",children:["list"===a&&(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("h1",{children:"Credit Note Management"}),(0,l.jsx)("p",{className:"text-[#374151]",children:"Create and manage credit notes for customer refunds and adjustments"})]}),(0,l.jsxs)(a2,{onClick:()=>{f(null),b("create")},className:"bg-[#F15929] hover:bg-[#D14620] text-white h-10 px-6 rounded-lg",children:[(0,l.jsx)(jI,{className:"mr-2 h-4 w-4"}),"Create Credit Note"]})]})}),"list"===a&&(0,l.jsx)(jX,{creditNotes:c,onView:a=>{f(a),b("details")},onEdit:a=>{f(a),b("edit")},onDelete:a=>{let b=c.find(b=>b.id===a);b&&"Draft"===b.status&&(d(c.filter(b=>b.id!==a)),gG.success("Credit note deleted successfully"))}}),("create"===a||"edit"===a)&&(0,l.jsx)(j4,{onBack:i,onSave:(a,e)=>{let f=new Date().toISOString();a.id?(d(c.map(b=>b.id===a.id?{...b,...a,updatedAt:f}:b)),gG.success(e?"Draft saved successfully":"Credit note submitted for approval")):(d([{id:Date.now().toString(),creditNoteNumber:`CN-2024-${String(c.length+1).padStart(3,"0")}`,customer:a.customer||"",customerId:a.customerId||"",originalInvoice:a.originalInvoice||"",amount:a.amount||0,reason:a.reason||"Other",reasonDescription:a.reasonDescription,date:a.date||new Date().toISOString().split("T")[0],status:a.status||"Draft",createdBy:"Current User",createdAt:f,updatedAt:f,attachments:[],items:a.items||[]},...c]),gG.success(e?"Draft created successfully":"Credit note submitted for approval")),b("list")},editingNote:"edit"===a?h:null}),"details"===a&&h&&(0,l.jsx)(j6,{creditNote:h,onBack:i,onApprove:a=>{let e=new Date().toISOString();d(c.map(b=>b.id===a?{...b,status:"Approved",approvedBy:"Current User (Admin)",approvedAt:e,updatedAt:e}:b)),gG.success("Credit note approved successfully"),b("list")},onReject:(a,e)=>{let f=new Date().toISOString();d(c.map(b=>b.id===a?{...b,status:"Rejected",rejectedBy:"Current User (Admin)",rejectedAt:f,rejectionReason:e,updatedAt:f}:b)),gG.error("Credit note rejected"),b("list")},userRole:g})]})}function j9(){return(0,l.jsx)(j8,{})}function ka({refunds:a,onCreateNew:b,onViewDetails:c}){let d=a.reduce((a,b)=>a+parseFloat(b.refundAmount.replace("RM","").replace(",","")),0),e=a.filter(a=>"Pending Approval"===a.status).length,f=a.filter(a=>"Approved"===a.status).length;return a.filter(a=>"Draft"===a.status).length,(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("h1",{children:"Refund Management"}),(0,l.jsx)("p",{className:"text-[#374151]",children:"Process and track refund requests across all invoice types"})]}),(0,l.jsxs)(a2,{onClick:b,className:"bg-[#F15929] hover:bg-[#D14821] h-10 px-6 rounded-lg",children:[(0,l.jsx)(jI,{className:"mr-2 h-4 w-4"}),"Issue New Refund"]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"Total Refunds"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("p",{className:"text-[#111827]",children:a.length})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"Pending Approval"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("p",{className:"text-[#F59E0B]",children:e})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"Approved"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("p",{className:"text-[#059669]",children:f})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"Total Amount"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("p",{className:"text-[#111827]",children:["RM",d.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})})]})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px]",children:"Refund Listing"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)(ju,{children:[(0,l.jsx)(jv,{children:(0,l.jsxs)(jx,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,l.jsx)(jy,{children:"Refund ID"}),(0,l.jsx)(jy,{children:"Invoice No"}),(0,l.jsx)(jy,{children:"Invoice Type"}),(0,l.jsx)(jy,{children:"Customer"}),(0,l.jsx)(jy,{children:"Refund Amount"}),(0,l.jsx)(jy,{children:"Status"}),(0,l.jsx)(jy,{children:"Created Date"}),(0,l.jsx)(jy,{className:"text-right",children:"Action"})]})}),(0,l.jsx)(jw,{children:0===a.length?(0,l.jsx)(jx,{children:(0,l.jsx)(jz,{colSpan:8,className:"text-center text-[#6B7280] h-32",children:'No refund records found. Click "Issue New Refund" to create one.'})}):a.map(a=>(0,l.jsxs)(jx,{className:"h-14 hover:bg-[#F3F4F6]",children:[(0,l.jsx)(jz,{className:"text-[#111827]",children:a.refundId}),(0,l.jsx)(jz,{className:"text-[#374151]",children:a.invoiceNo}),(0,l.jsx)(jz,{children:(0,l.jsx)(jk,{variant:"secondary",className:"bg-[#F3F4F6] text-[#374151]",children:a.invoiceType})}),(0,l.jsx)(jz,{className:"text-[#374151]",children:a.customer}),(0,l.jsx)(jz,{className:"text-[#111827]",children:a.refundAmount}),(0,l.jsx)(jz,{children:(a=>{switch(a){case"Draft":return(0,l.jsx)(jk,{className:"bg-[#6B7280] hover:bg-[#4B5563]",children:"Draft"});case"Pending Approval":return(0,l.jsx)(jk,{className:"bg-[#F59E0B] hover:bg-[#D97706]",children:"Pending Approval"});case"Approved":return(0,l.jsx)(jk,{className:"bg-[#059669] hover:bg-[#047857]",children:"Approved"});case"Rejected":return(0,l.jsx)(jk,{className:"bg-[#DC2626] hover:bg-[#B91C1C]",children:"Rejected"})}})(a.status)}),(0,l.jsx)(jz,{className:"text-[#374151]",children:a.createdDate}),(0,l.jsx)(jz,{className:"text-right",children:(0,l.jsxs)(a2,{variant:"ghost",size:"sm",className:"hover:bg-[#F3F4F6]",onClick:()=>c(a),children:[(0,l.jsx)(gN,{className:"mr-1 h-4 w-4"}),"View"]})})]},a.id))})]})})]})]})}let kb=[{invoiceNo:"DEP-2024-0345",type:"Deposit",customer:"Sunrise Construction Ltd.",items:"Scaffolding Equipment Deposit - 100 units",paidAmount:"RM10,000.00"},{invoiceNo:"MR-2024-0234",type:"Monthly Billing",customer:"BuildMaster Inc.",items:"Monthly Rental - November 2024",paidAmount:"RM4,500.00"},{invoiceNo:"CN-2024-0067",type:"Credit Note",customer:"Metro Construction Group",items:"Credit Note for returned items",paidAmount:"RM1,200.00"},{invoiceNo:"DEP-2024-0389",type:"Deposit",customer:"Premium Builders Sdn Bhd",items:"Equipment Deposit - Phase 2",paidAmount:"RM8,500.00"}];function kc({onBack:a,onSave:b}){let[c,d]=(0,m.useState)(null),[e,f]=(0,m.useState)(""),[g,h]=(0,m.useState)(""),[i,j]=(0,m.useState)(""),[k,n]=(0,m.useState)([]),[o,p]=(0,m.useState)({});return c&&parseFloat(c.paidAmount.replace("RM","").replace(",","")),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(a2,{variant:"ghost",size:"icon",onClick:a,className:"hover:bg-[#F3F4F6]",children:(0,l.jsx)(gT,{className:"h-5 w-5"})}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("h1",{children:"Issue New Refund"}),(0,l.jsx)("p",{className:"text-[#374151]",children:"Create a refund request for an existing invoice"})]})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-lg bg-[#F15929] flex items-center justify-center",children:(0,l.jsx)(v,{className:"h-4 w-4 text-white"})}),(0,l.jsx)(hy,{className:"text-[18px]",children:"Select Invoice"})]})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"invoice",children:"Search and Select Invoice"}),(0,l.jsxs)(iE,{onValueChange:a=>{d(kb.find(b=>b.invoiceNo===a)||null),p({})},children:[(0,l.jsx)(iG,{className:`h-10 ${o.invoice?"border-[#DC2626]":""}`,children:(0,l.jsx)(iF,{placeholder:"Select an invoice..."})}),(0,l.jsx)(iH,{children:kb.map(a=>(0,l.jsxs)(iI,{value:a.invoiceNo,children:[a.invoiceNo," - ",a.customer," (",a.type,")"]},a.invoiceNo))})]}),o.invoice&&(0,l.jsx)("p",{className:"text-[#DC2626] text-[14px]",children:o.invoice})]}),c&&(0,l.jsx)(hw,{className:"border-[#E5E7EB] bg-[#F9FAFB]",children:(0,l.jsxs)(hA,{className:"pt-6 space-y-3",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-[14px] text-[#6B7280]",children:"Invoice No:"}),(0,l.jsx)("span",{className:"text-[14px] text-[#111827]",children:c.invoiceNo})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-[14px] text-[#6B7280]",children:"Type:"}),(0,l.jsx)("span",{className:"text-[14px] text-[#111827]",children:c.type})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-[14px] text-[#6B7280]",children:"Customer:"}),(0,l.jsx)("span",{className:"text-[14px] text-[#111827]",children:c.customer})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-[14px] text-[#6B7280]",children:"Items:"}),(0,l.jsx)("span",{className:"text-[14px] text-[#111827]",children:c.items})]}),(0,l.jsxs)("div",{className:"border-t border-[#E5E7EB] pt-3 flex justify-between",children:[(0,l.jsx)("span",{className:"text-[14px] text-[#111827]",children:"Paid Amount:"}),(0,l.jsx)("span",{className:"text-[#059669]",children:c.paidAmount})]})]})})]})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-lg bg-[#F15929] flex items-center justify-center",children:(0,l.jsx)(u,{className:"h-4 w-4 text-white"})}),(0,l.jsx)(hy,{className:"text-[18px]",children:"Refund Details"})]})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"refundAmount",children:["Refund Amount ",c&&(0,l.jsxs)("span",{className:"text-[#6B7280] text-[12px]",children:["(Max: ",c.paidAmount,")"]})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#6B7280]",children:"RM"}),(0,l.jsx)(a3,{id:"refundAmount",type:"number",step:"0.01",value:e,onChange:a=>{f(a.target.value),o.refundAmount&&p({...o,refundAmount:""})},className:`h-10 pl-12 ${o.refundAmount?"border-[#DC2626]":""}`,placeholder:"0.00",disabled:!c})]}),o.refundAmount&&(0,l.jsx)("p",{className:"text-[#DC2626] text-[14px]",children:o.refundAmount})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"refundMethod",children:"Refund Method"}),(0,l.jsxs)(iE,{value:g,onValueChange:a=>{h(a),o.refundMethod&&p({...o,refundMethod:""})},disabled:!c,children:[(0,l.jsx)(iG,{className:`h-10 ${o.refundMethod?"border-[#DC2626]":""}`,children:(0,l.jsx)(iF,{placeholder:"Select refund method..."})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"Bank Transfer",children:"Bank Transfer"}),(0,l.jsx)(iI,{value:"Cash",children:"Cash"}),(0,l.jsx)(iI,{value:"Cheque",children:"Cheque"}),(0,l.jsx)(iI,{value:"eWallet",children:"eWallet"})]})]}),o.refundMethod&&(0,l.jsx)("p",{className:"text-[#DC2626] text-[14px]",children:o.refundMethod})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"reason",children:"Reason for Refund"}),(0,l.jsx)(jE,{id:"reason",value:i,onChange:a=>{j(a.target.value),o.reason&&p({...o,reason:""})},className:`min-h-[100px] ${o.reason?"border-[#DC2626]":""}`,placeholder:"Provide a detailed reason for the refund...",disabled:!c}),o.reason&&(0,l.jsx)("p",{className:"text-[#DC2626] text-[14px]",children:o.reason})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"documents",children:"Upload Supporting Documents"}),(0,l.jsxs)("div",{className:"border-2 border-dashed border-[#E5E7EB] rounded-lg p-6 text-center hover:border-[#F15929] transition-colors",children:[(0,l.jsx)(hD,{className:"h-8 w-8 text-[#6B7280] mx-auto mb-2"}),(0,l.jsx)("p",{className:"text-[14px] text-[#374151] mb-2",children:"Click to upload or drag and drop"}),(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280] mb-4",children:"PDF, JPG, PNG up to 10MB"}),(0,l.jsx)("input",{id:"documents",type:"file",multiple:!0,onChange:a=>{let b=a.target.files;b&&n([...k,...Array.from(b).map(a=>a.name)])},className:"hidden",accept:".pdf,.jpg,.jpeg,.png",disabled:!c}),(0,l.jsx)(a2,{type:"button",variant:"outline",size:"sm",onClick:()=>document.getElementById("documents")?.click(),disabled:!c,children:"Select Files"})]}),k.length>0&&(0,l.jsxs)("div",{className:"space-y-2 mt-3",children:[(0,l.jsx)("p",{className:"text-[14px] text-[#374151]",children:"Uploaded Files:"}),k.map((a,b)=>(0,l.jsxs)("div",{className:"flex items-center gap-2 text-[14px] text-[#6B7280] bg-[#F9FAFB] p-2 rounded",children:[(0,l.jsx)(v,{className:"h-4 w-4"}),a]},b))]})]})]})]}),(0,l.jsx)(hw,{className:"border-[#E5E7EB]",children:(0,l.jsxs)(hA,{className:"pt-6",children:[(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)(a2,{variant:"outline",className:"flex-1 h-10",onClick:()=>{c?(b({id:Date.now().toString(),refundId:`REF-2024-${String(Date.now()).slice(-3)}`,invoiceNo:c.invoiceNo,invoiceType:c.type,customer:c.customer,refundAmount:e?`RM${parseFloat(e).toLocaleString(void 0,{minimumFractionDigits:2})}`:"RM0.00",status:"Draft",createdDate:new Date().toISOString().split("T")[0],refundMethod:g||void 0,reason:i||void 0,supportingDocs:k.length>0?k:void 0,paidAmount:c.paidAmount,invoiceItems:c.items}),gG.success("Refund saved as draft")):gG.error("Please select an invoice before saving")},disabled:!c,children:"Save as Draft"}),(0,l.jsx)(a2,{className:"flex-1 bg-[#F15929] hover:bg-[#D14821] h-10",onClick:()=>{(()=>{let a={};if(c||(a.invoice="Please select an invoice"),e){let b=parseFloat(e),d=c?parseFloat(c.paidAmount.replace("RM","").replace(",","")):0;b<=0?a.refundAmount="Refund amount must be greater than 0":b>d&&(a.refundAmount=`Refund amount cannot exceed paid amount (${c?.paidAmount})`)}else a.refundAmount="Refund amount is required";return g||(a.refundMethod="Please select a refund method"),i.trim()||(a.reason="Reason for refund is required"),p(a),0===Object.keys(a).length})()?(b({id:Date.now().toString(),refundId:`REF-2024-${String(Date.now()).slice(-3)}`,invoiceNo:c.invoiceNo,invoiceType:c.type,customer:c.customer,refundAmount:`RM${parseFloat(e).toLocaleString(void 0,{minimumFractionDigits:2})}`,status:"Pending Approval",createdDate:new Date().toISOString().split("T")[0],refundMethod:g,reason:i,supportingDocs:k.length>0?k:void 0,paidAmount:c.paidAmount,invoiceItems:c.items}),gG.success("Refund submitted for approval")):gG.error("Please fill in all required fields correctly")},disabled:!c,children:"Submit for Approval"})]}),(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280] mt-3 text-center",children:"Once submitted, the refund cannot be edited unless rejected by Finance/Admin"})]})})]})}function kd({refund:a,userRole:b,onBack:c,onApprove:d,onReject:e,onUpdate:f}){let[g,h]=(0,m.useState)(!1),[i,j]=(0,m.useState)(!1),[k,n]=(0,m.useState)(""),[o,p]=(0,m.useState)(a.supportingDocs||[]),q=("Admin"===b||"Finance"===b)&&"Pending Approval"===a.status,r="Rejected"===a.status;return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(a2,{variant:"ghost",size:"icon",onClick:c,className:"hover:bg-[#F3F4F6]",children:(0,l.jsx)(gT,{className:"h-5 w-5"})}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("h1",{children:a.refundId}),(0,l.jsx)("p",{className:"text-[#374151]",children:"Refund request details and approval workflow"})]})]}),(a=>{switch(a){case"Draft":return(0,l.jsx)(jk,{className:"bg-[#6B7280] hover:bg-[#4B5563]",children:"Draft"});case"Pending Approval":return(0,l.jsx)(jk,{className:"bg-[#F59E0B] hover:bg-[#D97706]",children:"Pending Approval"});case"Approved":return(0,l.jsx)(jk,{className:"bg-[#059669] hover:bg-[#047857]",children:"Approved"});case"Rejected":return(0,l.jsx)(jk,{className:"bg-[#DC2626] hover:bg-[#B91C1C]",children:"Rejected"})}})(a.status)]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px]",children:"Refund Information"})}),(0,l.jsx)(hA,{className:"space-y-4",children:(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Refund ID"}),(0,l.jsx)("p",{className:"text-[#111827]",children:a.refundId})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Created Date"}),(0,l.jsx)("p",{className:"text-[#111827]",children:a.createdDate})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Invoice No"}),(0,l.jsx)("p",{className:"text-[#111827]",children:a.invoiceNo})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Invoice Type"}),(0,l.jsx)(jk,{variant:"secondary",className:"bg-[#F3F4F6] text-[#374151]",children:a.invoiceType})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Customer"}),(0,l.jsx)("p",{className:"text-[#111827]",children:a.customer})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Refund Method"}),(0,l.jsx)("p",{className:"text-[#111827]",children:a.refundMethod||"Not specified"})]})]})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px]",children:"Invoice Summary"})}),(0,l.jsxs)(hA,{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-[14px] text-[#6B7280]",children:"Invoice Items:"}),(0,l.jsx)("span",{className:"text-[14px] text-[#111827]",children:a.invoiceItems})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-[14px] text-[#6B7280]",children:"Paid Amount:"}),(0,l.jsx)("span",{className:"text-[14px] text-[#111827]",children:a.paidAmount})]}),(0,l.jsxs)("div",{className:"border-t border-[#E5E7EB] pt-3 flex justify-between",children:[(0,l.jsx)("span",{className:"text-[#111827]",children:"Refund Amount:"}),(0,l.jsx)("span",{className:"text-[#059669]",children:a.refundAmount})]})]})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px]",children:"Reason for Refund"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("p",{className:"text-[#374151]",children:a.reason||"No reason provided"})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)(hy,{className:"text-[18px]",children:"Supporting Documents"}),r&&(0,l.jsxs)("div",{children:[(0,l.jsx)("input",{id:"reupload-docs",type:"file",multiple:!0,onChange:b=>{let c=b.target.files;if(c){let b=[...o,...Array.from(c).map(a=>a.name)];p(b),f({...a,supportingDocs:b,status:"Pending Approval",rejectionReason:void 0}),gG.success("Documents uploaded. Status changed to Pending Approval.")}},className:"hidden",accept:".pdf,.jpg,.jpeg,.png"}),(0,l.jsxs)(a2,{variant:"outline",size:"sm",onClick:()=>document.getElementById("reupload-docs")?.click(),children:[(0,l.jsx)(hD,{className:"mr-2 h-4 w-4"}),"Upload New Documents"]})]})]})}),(0,l.jsx)(hA,{children:o.length>0?(0,l.jsx)("div",{className:"space-y-2",children:o.map((a,b)=>(0,l.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-[#F9FAFB] rounded-lg",children:[(0,l.jsx)(v,{className:"h-4 w-4 text-[#6B7280]"}),(0,l.jsx)("span",{className:"text-[14px] text-[#374151]",children:a})]},b))}):(0,l.jsx)("p",{className:"text-[#6B7280]",children:"No documents uploaded"})})]}),"Rejected"===a.status&&a.rejectionReason&&(0,l.jsxs)(hw,{className:"border-[#DC2626] bg-[#FEE2E2]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px] text-[#DC2626]",children:"Rejection Reason"})}),(0,l.jsxs)(hA,{children:[(0,l.jsx)("p",{className:"text-[#991B1B]",children:a.rejectionReason}),(0,l.jsx)("p",{className:"text-[12px] text-[#991B1B] mt-2",children:"Please upload additional documents and the status will automatically change to Pending Approval."})]})]}),"Approved"===a.status&&(0,l.jsxs)(hw,{className:"border-[#059669] bg-[#D1FAE5]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px] text-[#059669]",children:"Approval Information"})}),(0,l.jsxs)(hA,{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-[14px] text-[#065F46]",children:"Approved By:"}),(0,l.jsx)("span",{className:"text-[14px] text-[#065F46]",children:a.approvedBy})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-[14px] text-[#065F46]",children:"Approved Date:"}),(0,l.jsx)("span",{className:"text-[14px] text-[#065F46]",children:a.approvedDate})]})]})]}),q&&(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px]",children:"Approval Actions"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsxs)(a2,{className:"flex-1 bg-[#059669] hover:bg-[#047857] h-10",onClick:()=>h(!0),children:[(0,l.jsx)(hE,{className:"mr-2 h-4 w-4"}),"Approve Refund"]}),(0,l.jsxs)(a2,{variant:"destructive",className:"flex-1 h-10 bg-[#DC2626] hover:bg-[#B91C1C]",onClick:()=>j(!0),children:[(0,l.jsx)(jb,{className:"mr-2 h-4 w-4"}),"Reject Refund"]})]})})]}),(0,l.jsx)(gj,{open:g,onOpenChange:h,children:(0,l.jsxs)(gm,{children:[(0,l.jsxs)(gn,{children:[(0,l.jsx)(gp,{children:"Approve Refund"}),(0,l.jsxs)(gq,{children:["Are you sure you want to approve this refund of ",a.refundAmount," for ",a.customer,"? This action cannot be undone."]})]}),(0,l.jsxs)(go,{children:[(0,l.jsx)(gs,{children:"Cancel"}),(0,l.jsx)(gr,{onClick:()=>{d(a.id),h(!1),gG.success("Refund approved successfully")},className:"bg-[#059669] hover:bg-[#047857]",children:"Approve"})]})]})}),(0,l.jsx)(gj,{open:i,onOpenChange:j,children:(0,l.jsxs)(gm,{children:[(0,l.jsxs)(gn,{children:[(0,l.jsx)(gp,{children:"Reject Refund"}),(0,l.jsx)(gq,{children:"Please provide a reason for rejecting this refund request."})]}),(0,l.jsxs)("div",{className:"py-4",children:[(0,l.jsx)(gR,{htmlFor:"rejectionReason",children:"Rejection Reason"}),(0,l.jsx)(jE,{id:"rejectionReason",value:k,onChange:a=>n(a.target.value),className:"mt-2 min-h-[100px]",placeholder:"Explain why this refund is being rejected..."})]}),(0,l.jsxs)(go,{children:[(0,l.jsx)(gs,{onClick:()=>n(""),children:"Cancel"}),(0,l.jsx)(gr,{onClick:()=>{k.trim()?(e(a.id,k),j(!1),n(""),gG.success("Refund rejected")):gG.error("Please provide a reason for rejection")},className:"bg-[#DC2626] hover:bg-[#B91C1C]",children:"Reject"})]})]})})]})}function ke({userRole:a="Staff"}){let[b,c]=(0,m.useState)("list"),[d,e]=(0,m.useState)(null),[f,g]=(0,m.useState)([{id:"1",refundId:"REF-2024-001",invoiceNo:"DEP-2024-0234",invoiceType:"Deposit",customer:"Acme Construction Ltd.",refundAmount:"RM5,000.00",status:"Pending Approval",createdDate:"2024-11-25",refundMethod:"Bank Transfer",reason:"Project completed. All equipment returned in good condition.",paidAmount:"RM5,000.00",invoiceItems:"Scaffolding Equipment Deposit"},{id:"2",refundId:"REF-2024-002",invoiceNo:"MR-2024-0156",invoiceType:"Monthly Billing",customer:"BuildRight Inc.",refundAmount:"RM1,200.00",status:"Approved",createdDate:"2024-11-20",refundMethod:"eWallet",reason:"Overpayment refund",paidAmount:"RM3,500.00",invoiceItems:"Monthly Rental - October 2024",approvedBy:"Admin",approvedDate:"2024-11-22"},{id:"3",refundId:"REF-2024-003",invoiceNo:"DEP-2024-0198",invoiceType:"Deposit",customer:"Metro Builders Sdn Bhd",refundAmount:"RM3,500.00",status:"Draft",createdDate:"2024-11-28",refundMethod:"Bank Transfer",reason:"Early contract termination",paidAmount:"RM5,000.00",invoiceItems:"Equipment Deposit"},{id:"4",refundId:"REF-2024-004",invoiceNo:"CN-2024-0045",invoiceType:"Credit Note",customer:"Premium Projects",refundAmount:"RM850.00",status:"Rejected",createdDate:"2024-11-15",refundMethod:"Cash",reason:"Damaged item refund claim",paidAmount:"RM850.00",invoiceItems:"Credit Note for damaged scaffolding",rejectionReason:"Insufficient documentation provided. Please upload damage assessment report."},{id:"5",refundId:"REF-2024-005",invoiceNo:"DEP-2024-0302",invoiceType:"Deposit",customer:"City Construction Group",refundAmount:"RM7,500.00",status:"Approved",createdDate:"2024-11-10",refundMethod:"Bank Transfer",reason:"Project completion, no outstanding issues",paidAmount:"RM7,500.00",invoiceItems:"Full Equipment Deposit",approvedBy:"Finance Manager",approvedDate:"2024-11-12"}]),h=()=>{c("list"),e(null)};return"create"===b?(0,l.jsx)(kc,{onBack:h,onSave:a=>{g([...f,a]),c("list")}}):"details"===b&&d?(0,l.jsx)(kd,{refund:d,userRole:a,onBack:h,onApprove:b=>{let c=f.map(c=>c.id===b?{...c,status:"Approved",approvedBy:a,approvedDate:new Date().toISOString().split("T")[0]}:c);g(c);let d=c.find(a=>a.id===b);d&&e(d)},onReject:(a,b)=>{let c=f.map(c=>c.id===a?{...c,status:"Rejected",rejectionReason:b}:c);g(c);let d=c.find(b=>b.id===a);d&&e(d)},onUpdate:a=>{g(f.map(b=>b.id===a.id?a:b)),"details"===b&&e(a)}}):(0,l.jsx)(ka,{refunds:f,onCreateNew:()=>{c("create")},onViewDetails:a=>{e(a),c("details")}})}let kf=[{id:"SC-001",name:"Aluminum Scaffolding Frame",category:"Frames",quantity:150,available:120,price:85,status:"Available",location:"Warehouse A",itemStatus:"Available"},{id:"SC-002",name:"Steel Platform Board",category:"Platforms",quantity:200,available:15,price:45,status:"Low Stock",location:"Warehouse A",itemStatus:"Available"},{id:"SC-003",name:"Scaffold Caster Wheels",category:"Accessories",quantity:80,available:0,price:25,status:"Out of Stock",location:"Warehouse B",itemStatus:"Unavailable"},{id:"SC-004",name:"Guard Rail Set",category:"Safety",quantity:100,available:85,price:65,status:"Available",location:"Warehouse A",itemStatus:"Available"}];function kg(){let[a,b]=(0,m.useState)(kf),[c,d]=(0,m.useState)(""),[e,f]=(0,m.useState)("all"),[g,h]=(0,m.useState)("all"),[i,j]=(0,m.useState)(!1),[k,n]=(0,m.useState)(!1),[o,p]=(0,m.useState)(null),[q,r]=(0,m.useState)({name:"",category:"",quantity:0,available:0,price:0,location:"",itemStatus:"Available",imageUrl:""}),s=a.filter(a=>{let b=a.name.toLowerCase().includes(c.toLowerCase())||a.id.toLowerCase().includes(c.toLowerCase()),d="all"===e||a.category===e,f="all"===g||a.status===g||a.itemStatus===g;return b&&d&&f}),t=()=>{r({name:"",category:"",quantity:0,available:0,price:0,location:"",itemStatus:"Available",imageUrl:""})};return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("h1",{children:"Scaffolding Management"}),(0,l.jsx)("p",{className:"text-[#374151]",children:"Manage inventory, stock levels, and item catalog"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,l.jsxs)("div",{className:"flex gap-4 items-center flex-1",children:[(0,l.jsxs)("div",{className:"relative flex-1 max-w-[300px]",children:[(0,l.jsx)(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[#6B7280]"}),(0,l.jsx)(a3,{placeholder:"Search items...",className:"pl-10 h-10 bg-white border-[#D1D5DB] rounded-md",value:c,onChange:a=>d(a.target.value)})]}),(0,l.jsxs)(iE,{value:e,onValueChange:f,children:[(0,l.jsx)(iG,{className:"w-[160px] h-10 bg-white border-[#D1D5DB] rounded-md",children:(0,l.jsx)(iF,{placeholder:"Category"})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"all",children:"All Categories"}),(0,l.jsx)(iI,{value:"Frames",children:"Frames"}),(0,l.jsx)(iI,{value:"Platforms",children:"Platforms"}),(0,l.jsx)(iI,{value:"Accessories",children:"Accessories"}),(0,l.jsx)(iI,{value:"Safety",children:"Safety"})]})]}),(0,l.jsxs)(iE,{value:g,onValueChange:h,children:[(0,l.jsx)(iG,{className:"w-[160px] h-10 bg-white border-[#D1D5DB] rounded-md",children:(0,l.jsx)(iF,{placeholder:"Status"})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"all",children:"All Status"}),(0,l.jsx)(iI,{value:"Available",children:"Available"}),(0,l.jsx)(iI,{value:"Low Stock",children:"Low Stock"}),(0,l.jsx)(iI,{value:"Out of Stock",children:"Out of Stock"}),(0,l.jsx)(iI,{value:"Unavailable",children:"Unavailable"})]})]})]}),(0,l.jsxs)(a2,{className:"bg-[#F15929] hover:bg-[#d94d1f] h-10 px-6 rounded-lg",onClick:()=>{t(),j(!0)},children:[(0,l.jsx)(jI,{className:"mr-2 h-4 w-4"}),"Add New Item"]})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.map(a=>(0,l.jsxs)(hw,{className:"border-[#E5E7EB] hover:shadow-lg transition-shadow flex flex-col",children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsxs)("div",{className:"flex items-start justify-between gap-2 h-[48px]",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)(hy,{className:"text-[16px]",children:a.name}),(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280] mt-1",children:a.id})]}),(0,l.jsx)("div",{className:"flex-shrink-0",children:("Low Stock"===a.status||"Out of Stock"===a.status)&&(a=>{switch(a){case"Available":return(0,l.jsx)(jk,{className:"bg-[#059669] hover:bg-[#047857]",children:"Available"});case"Low Stock":return(0,l.jsx)(jk,{className:"bg-[#F59E0B] hover:bg-[#D97706]",children:"Low Stock"});case"Out of Stock":return(0,l.jsx)(jk,{className:"bg-[#DC2626] hover:bg-[#B91C1C]",children:"Out of Stock"})}})(a.status)})]})}),(0,l.jsxs)(hA,{className:"space-y-3 flex-1 flex flex-col",children:[(0,l.jsx)("div",{className:"aspect-video bg-[#F3F4F6] rounded-lg flex items-center justify-center overflow-hidden",children:a.imageUrl?(0,l.jsx)("img",{src:a.imageUrl,alt:a.name,className:"w-full h-full object-cover"}):(0,l.jsx)(F,{className:"h-12 w-12 text-[#9CA3AF]"})}),(0,l.jsxs)("div",{className:"space-y-2 text-[14px] flex-1",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-[#6B7280] flex-1",children:"Category:"}),(0,l.jsx)("span",{className:"text-[#111827] flex-1 text-right",children:a.category})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-[#6B7280] flex-1",children:"Available:"}),(0,l.jsxs)("span",{className:"text-[#111827] flex-1 text-right",children:[a.available," / ",a.quantity]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-[#6B7280] flex-1",children:"Price/Day:"}),(0,l.jsxs)("span",{className:"text-[#111827] flex-1 text-right",children:["RM ",a.price]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-[#6B7280] flex-1",children:"Location:"}),(0,l.jsx)("span",{className:"text-[#111827] flex-1 text-right",children:a.location})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-[#6B7280] flex-1",children:"Status:"}),(0,l.jsx)("span",{className:"flex-1 flex justify-end",children:(a=>{switch(a){case"Available":return(0,l.jsx)(jk,{className:"bg-[#059669] hover:bg-[#047857]",children:"Available"});case"Unavailable":return(0,l.jsx)(jk,{className:"bg-[#DC2626] hover:bg-[#B91C1C]",children:"Unavailable"})}})(a.itemStatus)})]})]}),(0,l.jsx)("div",{className:"pt-2",children:(0,l.jsxs)(a2,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{p(a),r({name:a.name,category:a.category,quantity:a.quantity,available:a.available,price:a.price,location:a.location,itemStatus:a.itemStatus,imageUrl:a.imageUrl}),n(!0)},children:[(0,l.jsx)(ji,{className:"mr-1 h-3 w-3"}),"Edit"]})})]})]},a.id))}),(0,l.jsx)(jl,{open:i,onOpenChange:j,children:(0,l.jsxs)(jp,{className:"max-w-[600px]",children:[(0,l.jsxs)(jq,{children:[(0,l.jsx)(js,{children:"Add New Scaffolding Item"}),(0,l.jsx)(jt,{children:"Enter the details of the new scaffolding item"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"itemName",children:"Item Name *"}),(0,l.jsx)(a3,{id:"itemName",className:"h-10",value:q.name,onChange:a=>r({...q,name:a.target.value})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"category",children:"Category *"}),(0,l.jsxs)(iE,{value:q.category,onValueChange:a=>r({...q,category:a}),children:[(0,l.jsx)(iG,{className:"h-10",children:(0,l.jsx)(iF,{placeholder:"Select category"})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"Frames",children:"Frames"}),(0,l.jsx)(iI,{value:"Platforms",children:"Platforms"}),(0,l.jsx)(iI,{value:"Accessories",children:"Accessories"}),(0,l.jsx)(iI,{value:"Safety",children:"Safety"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"quantity",children:"Total Quantity *"}),(0,l.jsx)(a3,{id:"quantity",type:"number",className:"h-10",value:q.quantity,onChange:a=>r({...q,quantity:parseInt(a.target.value)||0})})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"available",children:"Available Quantity *"}),(0,l.jsx)(a3,{id:"available",type:"number",className:"h-10",value:q.available,onChange:a=>r({...q,available:parseInt(a.target.value)||0})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"price",children:"Price per Day (RM) *"}),(0,l.jsx)(a3,{id:"price",type:"number",placeholder:"0.00",className:"h-10",value:q.price,onChange:a=>r({...q,price:parseFloat(a.target.value)||0})})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"location",children:"Warehouse Location *"}),(0,l.jsxs)(iE,{value:q.location,onValueChange:a=>r({...q,location:a}),children:[(0,l.jsx)(iG,{className:"h-10",children:(0,l.jsx)(iF,{placeholder:"Select location"})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"Warehouse A",children:"Warehouse A"}),(0,l.jsx)(iI,{value:"Warehouse B",children:"Warehouse B"}),(0,l.jsx)(iI,{value:"Warehouse C",children:"Warehouse C"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"itemStatus",children:"Status *"}),(0,l.jsxs)(iE,{value:q.itemStatus,onValueChange:a=>r({...q,itemStatus:a}),children:[(0,l.jsx)(iG,{className:"h-10",children:(0,l.jsx)(iF,{placeholder:"Select status"})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"Available",children:"Available"}),(0,l.jsx)(iI,{value:"Unavailable",children:"Unavailable"})]})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"image",children:"Item Image (Optional)"}),(0,l.jsxs)("div",{className:"border-2 border-dashed border-[#D1D5DB] rounded-lg p-8 text-center hover:border-[#F15929] hover:bg-[#FEF2EE] transition-colors cursor-pointer",children:[(0,l.jsx)(hD,{className:"h-8 w-8 text-[#6B7280] mx-auto mb-2"}),(0,l.jsx)("p",{className:"text-[14px] text-[#374151]",children:"Click to upload or drag and drop"}),(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"PNG, JPG up to 10MB"})]})]}),(0,l.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,l.jsx)(a2,{type:"button",variant:"outline",className:"flex-1",onClick:()=>{j(!1),t()},children:"Cancel"}),(0,l.jsx)(a2,{type:"button",className:"flex-1 bg-[#F15929] hover:bg-[#d94d1f]",onClick:()=>{if(!q.name||!q.category||!q.location)return void gG.error("Please fill in all required fields");let c="Available";0===q.available?c="Out of Stock":q.available<.2*q.quantity&&(c="Low Stock");let d={id:`SC-${String(a.length+1).padStart(3,"0")}`,name:q.name,category:q.category,quantity:q.quantity,available:q.available,price:q.price,status:c,location:q.location,itemStatus:q.itemStatus,imageUrl:q.imageUrl};b([...a,d]),gG.success("Item added successfully!"),j(!1),t()},children:"Save Item"})]})]})]})}),(0,l.jsx)(jl,{open:k,onOpenChange:n,children:(0,l.jsxs)(jp,{className:"max-w-[600px]",children:[(0,l.jsxs)(jq,{children:[(0,l.jsx)(js,{children:"Edit Scaffolding Item"}),(0,l.jsxs)(jt,{children:["Update the details of ",o?.name]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"editItemName",children:"Item Name *"}),(0,l.jsx)(a3,{id:"editItemName",className:"h-10",value:q.name,onChange:a=>r({...q,name:a.target.value})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"editCategory",children:"Category *"}),(0,l.jsxs)(iE,{value:q.category,onValueChange:a=>r({...q,category:a}),children:[(0,l.jsx)(iG,{className:"h-10",children:(0,l.jsx)(iF,{placeholder:"Select category"})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"Frames",children:"Frames"}),(0,l.jsx)(iI,{value:"Platforms",children:"Platforms"}),(0,l.jsx)(iI,{value:"Accessories",children:"Accessories"}),(0,l.jsx)(iI,{value:"Safety",children:"Safety"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"editQuantity",children:"Total Quantity *"}),(0,l.jsx)(a3,{id:"editQuantity",type:"number",className:"h-10",value:q.quantity,onChange:a=>r({...q,quantity:parseInt(a.target.value)||0})})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"editAvailable",children:"Available Quantity *"}),(0,l.jsx)(a3,{id:"editAvailable",type:"number",className:"h-10",value:q.available,onChange:a=>r({...q,available:parseInt(a.target.value)||0})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"editPrice",children:"Price per Day (RM) *"}),(0,l.jsx)(a3,{id:"editPrice",type:"number",placeholder:"0.00",className:"h-10",value:q.price,onChange:a=>r({...q,price:parseFloat(a.target.value)||0})})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"editLocation",children:"Warehouse Location *"}),(0,l.jsxs)(iE,{value:q.location,onValueChange:a=>r({...q,location:a}),children:[(0,l.jsx)(iG,{className:"h-10",children:(0,l.jsx)(iF,{placeholder:"Select location"})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"Warehouse A",children:"Warehouse A"}),(0,l.jsx)(iI,{value:"Warehouse B",children:"Warehouse B"}),(0,l.jsx)(iI,{value:"Warehouse C",children:"Warehouse C"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"editItemStatus",children:"Status *"}),(0,l.jsxs)(iE,{value:q.itemStatus,onValueChange:a=>r({...q,itemStatus:a}),children:[(0,l.jsx)(iG,{className:"h-10",children:(0,l.jsx)(iF,{placeholder:"Select status"})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"Available",children:"Available"}),(0,l.jsx)(iI,{value:"Unavailable",children:"Unavailable"})]})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"editImage",children:"Item Image (Optional)"}),(0,l.jsx)("div",{className:"border-2 border-dashed border-[#D1D5DB] rounded-lg p-8 text-center hover:border-[#F15929] hover:bg-[#FEF2EE] transition-colors cursor-pointer",children:q.imageUrl?(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("img",{src:q.imageUrl,alt:"Preview",className:"max-h-32 mx-auto rounded"}),(0,l.jsx)("p",{className:"text-[14px] text-[#374151]",children:"Click to change image"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(hD,{className:"h-8 w-8 text-[#6B7280] mx-auto mb-2"}),(0,l.jsx)("p",{className:"text-[14px] text-[#374151]",children:"Click to upload or drag and drop"}),(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"PNG, JPG up to 10MB"})]})})]}),(0,l.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,l.jsx)(a2,{type:"button",variant:"outline",className:"flex-1",onClick:()=>{n(!1),p(null),t()},children:"Cancel"}),(0,l.jsx)(a2,{type:"button",className:"flex-1 bg-[#F15929] hover:bg-[#d94d1f]",onClick:()=>{if(!o||!q.name||!q.category||!q.location)return void gG.error("Please fill in all required fields");let c="Available";0===q.available?c="Out of Stock":q.available<.2*q.quantity&&(c="Low Stock");let d={...o,name:q.name,category:q.category,quantity:q.quantity,available:q.available,price:q.price,status:c,location:q.location,itemStatus:q.itemStatus,imageUrl:q.imageUrl};b(a.map(a=>a.id===o.id?d:a)),gG.success("Item updated successfully!"),n(!1),p(null),t()},children:"Update Item"})]})]})]})})]})}let kh=[{id:"RFQ-2024-001",customer:"Acme Construction",date:"2024-11-01",items:5,totalValue:"RM12,500",status:"New"},{id:"RFQ-2024-002",customer:"BuildRight Inc.",date:"2024-11-02",items:3,totalValue:"RM8,200",status:"Quoted"},{id:"RFQ-2024-003",customer:"Metro Builders",date:"2024-11-03",items:7,totalValue:"RM18,900",status:"Accepted"}];function ki(){let[a]=(0,m.useState)(kh),[b,c]=(0,m.useState)(!1),[d,e]=(0,m.useState)(!1),[f,g]=(0,m.useState)([{id:"1",name:"Aluminum Scaffolding Frame",quantity:10,pricePerDay:85,days:30,total:25500},{id:"2",name:"Steel Platform Board",quantity:20,pricePerDay:45,days:30,total:27e3}]),h=f.reduce((a,b)=>a+b.total,0),i=.1*h,j=h+i;return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("h1",{children:"Order & Sales Management"}),(0,l.jsx)("p",{className:"text-[#374151]",children:"Manage RFQs, quotations, and sales orders"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"Active RFQs"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("p",{className:"text-[#111827]",children:a.filter(a=>"New"===a.status).length})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"Pending Quotes"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("p",{className:"text-[#F59E0B]",children:a.filter(a=>"Quoted"===a.status).length})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"Accepted"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("p",{className:"text-[#059669]",children:a.filter(a=>"Accepted"===a.status).length})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"Total Value"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("p",{className:"text-[#111827]",children:"RM39,600"})})]})]}),(0,l.jsx)("div",{className:"flex gap-3",children:(0,l.jsxs)(jl,{open:b,onOpenChange:c,children:[(0,l.jsx)(jm,{asChild:!0,children:(0,l.jsxs)(a2,{className:"bg-[#1E40AF] hover:bg-[#1E3A8A] h-10 px-6 rounded-lg",children:[(0,l.jsx)(jI,{className:"mr-2 h-4 w-4"}),"New RFQ"]})}),(0,l.jsxs)(jp,{className:"max-w-[600px]",children:[(0,l.jsxs)(jq,{children:[(0,l.jsx)(js,{children:"Create Request for Quotation"}),(0,l.jsx)(jt,{children:"Enter customer requirements to generate an RFQ"})]}),(0,l.jsxs)("form",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"customer",children:"Customer"}),(0,l.jsxs)(iE,{children:[(0,l.jsx)(iG,{className:"h-10",children:(0,l.jsx)(iF,{placeholder:"Search customer..."})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"acme",children:"Acme Construction Ltd."}),(0,l.jsx)(iI,{value:"buildright",children:"BuildRight Inc."}),(0,l.jsx)(iI,{value:"metro",children:"Metro Builders"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"projectName",children:"Project Name"}),(0,l.jsx)(a3,{id:"projectName",className:"h-10",placeholder:"e.g., Downtown Plaza Development"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"startDate",children:"Start Date"}),(0,l.jsx)(a3,{id:"startDate",type:"date",className:"h-10"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"duration",children:"Duration (Days)"}),(0,l.jsx)(a3,{id:"duration",type:"number",className:"h-10"})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"requirements",children:"Requirements"}),(0,l.jsx)(jE,{id:"requirements",placeholder:"Describe the scaffolding requirements...",className:"min-h-[100px]"})]}),(0,l.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,l.jsx)(a2,{type:"button",variant:"outline",className:"flex-1",onClick:()=>c(!1),children:"Cancel"}),(0,l.jsx)(a2,{type:"button",className:"flex-1 bg-[#1E40AF] hover:bg-[#1E3A8A]",onClick:()=>{gG.success("RFQ created successfully!"),c(!1)},children:"Create RFQ"})]})]})]})]})}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px]",children:"Request for Quotations"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)(ju,{children:[(0,l.jsx)(jv,{children:(0,l.jsxs)(jx,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,l.jsx)(jy,{children:"RFQ ID"}),(0,l.jsx)(jy,{children:"Customer"}),(0,l.jsx)(jy,{children:"Date"}),(0,l.jsx)(jy,{children:"Items"}),(0,l.jsx)(jy,{children:"Total Value"}),(0,l.jsx)(jy,{children:"Status"}),(0,l.jsx)(jy,{className:"text-right",children:"Actions"})]})}),(0,l.jsx)(jw,{children:a.map(a=>(0,l.jsxs)(jx,{className:"h-14 hover:bg-[#F3F4F6]",children:[(0,l.jsx)(jz,{className:"text-[#111827]",children:a.id}),(0,l.jsx)(jz,{className:"text-[#374151]",children:a.customer}),(0,l.jsx)(jz,{className:"text-[#374151]",children:a.date}),(0,l.jsxs)(jz,{className:"text-[#374151]",children:[a.items," items"]}),(0,l.jsx)(jz,{className:"text-[#111827]",children:a.totalValue}),(0,l.jsx)(jz,{children:(a=>{switch(a){case"New":return(0,l.jsx)(jk,{className:"bg-[#3B82F6] hover:bg-[#2563EB]",children:"New"});case"Quoted":return(0,l.jsx)(jk,{className:"bg-[#F59E0B] hover:bg-[#D97706]",children:"Quoted"});case"Accepted":return(0,l.jsx)(jk,{className:"bg-[#059669] hover:bg-[#047857]",children:"Accepted"});case"Rejected":return(0,l.jsx)(jk,{className:"bg-[#DC2626] hover:bg-[#B91C1C]",children:"Rejected"})}})(a.status)}),(0,l.jsx)(jz,{className:"text-right",children:(0,l.jsx)("div",{className:"flex items-center justify-end gap-2",children:(0,l.jsx)(a2,{variant:"ghost",size:"sm",onClick:()=>e(!0),children:(0,l.jsx)(v,{className:"h-4 w-4"})})})})]},a.id))})]})})]}),(0,l.jsx)(jl,{open:d,onOpenChange:e,children:(0,l.jsxs)(jp,{className:"max-w-[800px] max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)(jq,{children:[(0,l.jsx)(js,{children:"Generate Quotation - RFQ-2024-001"}),(0,l.jsx)(jt,{children:"Create a detailed quotation for the customer"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)(hw,{className:"border-[#E5E7EB]",children:(0,l.jsx)(hA,{className:"pt-4",children:(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-[14px]",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#6B7280]",children:"Customer"}),(0,l.jsx)("p",{className:"text-[#111827]",children:"Acme Construction Ltd."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#6B7280]",children:"Project"}),(0,l.jsx)("p",{className:"text-[#111827]",children:"Downtown Plaza Development"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#6B7280]",children:"Duration"}),(0,l.jsx)("p",{className:"text-[#111827]",children:"30 days"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#6B7280]",children:"Quotation Date"}),(0,l.jsx)("p",{className:"text-[#111827]",children:"2024-11-04"})]})]})})}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)(gR,{children:"Items"}),(0,l.jsxs)(a2,{type:"button",variant:"outline",size:"sm",onClick:()=>{let a={id:String(f.length+1),name:"",quantity:1,pricePerDay:0,days:1,total:0};g([...f,a])},children:[(0,l.jsx)(jI,{className:"mr-1 h-3 w-3"}),"Add Item"]})]}),(0,l.jsxs)(ju,{children:[(0,l.jsx)(jv,{children:(0,l.jsxs)(jx,{className:"bg-[#F9FAFB]",children:[(0,l.jsx)(jy,{children:"Item"}),(0,l.jsx)(jy,{children:"Qty"}),(0,l.jsx)(jy,{children:"Price/Day"}),(0,l.jsx)(jy,{children:"Days"}),(0,l.jsx)(jy,{children:"Total"}),(0,l.jsx)(jy,{})]})}),(0,l.jsxs)(jw,{children:[f.map(a=>(0,l.jsxs)(jx,{children:[(0,l.jsx)(jz,{children:a.name}),(0,l.jsx)(jz,{children:a.quantity}),(0,l.jsxs)(jz,{children:["RM",a.pricePerDay]}),(0,l.jsx)(jz,{children:a.days}),(0,l.jsxs)(jz,{className:"text-[#111827]",children:["RM",a.total.toLocaleString()]}),(0,l.jsx)(jz,{children:(0,l.jsx)(a2,{variant:"ghost",size:"sm",onClick:()=>{var b;return b=a.id,void g(f.filter(a=>a.id!==b))},children:(0,l.jsx)("span",{className:"text-[#DC2626]",children:""})})})]},a.id)),(0,l.jsxs)(jx,{className:"bg-[#F9FAFB]",children:[(0,l.jsx)(jz,{colSpan:4,className:"text-right",children:"Subtotal"}),(0,l.jsxs)(jz,{className:"text-[#111827]",children:["RM",h.toLocaleString()]}),(0,l.jsx)(jz,{})]}),(0,l.jsxs)(jx,{children:[(0,l.jsx)(jz,{colSpan:4,className:"text-right",children:"Tax (10%)"}),(0,l.jsxs)(jz,{className:"text-[#111827]",children:["RM",i.toLocaleString()]}),(0,l.jsx)(jz,{})]}),(0,l.jsxs)(jx,{className:"bg-[#F9FAFB]",children:[(0,l.jsx)(jz,{colSpan:4,className:"text-right",children:"Total"}),(0,l.jsxs)(jz,{className:"text-[#111827]",children:["RM",j.toLocaleString()]}),(0,l.jsx)(jz,{})]})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"notes",children:"Terms & Conditions"}),(0,l.jsx)(jE,{id:"notes",placeholder:"Enter terms and conditions...",className:"min-h-[80px]",defaultValue:"Payment: 50% deposit, 50% on completion Delivery: Within 3 business days Validity: 30 days from quotation date"})]}),(0,l.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,l.jsx)(a2,{variant:"outline",className:"flex-1",onClick:()=>e(!1),children:"Save Draft"}),(0,l.jsxs)(a2,{variant:"outline",className:"flex-1",children:[(0,l.jsx)(jg,{className:"mr-2 h-4 w-4"}),"Download PDF"]}),(0,l.jsxs)(a2,{className:"flex-1 bg-[#1E40AF] hover:bg-[#1E3A8A]",onClick:()=>{gG.success("Quotation sent to customer!"),e(!1)},children:[(0,l.jsx)(jZ,{className:"mr-2 h-4 w-4"}),"Send to Customer"]})]})]})]})})]})}let kj=s("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);Symbol.for("constructDateFrom");let kk={},kl={};function km(a,b){try{let c=(kk[a]||=new Intl.DateTimeFormat("en-GB",{timeZone:a,hour:"numeric",timeZoneName:"longOffset"}).format)(b).split("GMT")[1]||"";if(c in kl)return kl[c];return ko(c,c.split(":"))}catch{if(a in kl)return kl[a];let b=a?.match(kn);if(b)return ko(a,b.slice(1));return NaN}}let kn=/([+-]\d\d):?(\d\d)?/;function ko(a,b){let c=+b[0],d=+(b[1]||0);return kl[a]=c>0?60*c+d:60*c-d}class kp extends Date{constructor(...a){super(),a.length>1&&"string"==typeof a[a.length-1]&&(this.timeZone=a.pop()),this.internal=new Date,isNaN(km(this.timeZone,this))?this.setTime(NaN):a.length?"number"==typeof a[0]&&(1===a.length||2===a.length&&"number"!=typeof a[1])?this.setTime(a[0]):"string"==typeof a[0]?this.setTime(+new Date(a[0])):a[0]instanceof Date?this.setTime(+a[0]):(this.setTime(+new Date(...a)),ks(this,NaN),kr(this)):this.setTime(Date.now())}static tz(a,...b){return b.length?new kp(...b,a):new kp(Date.now(),a)}withTimeZone(a){return new kp(+this,a)}getTimezoneOffset(){return-km(this.timeZone,this)}setTime(a){return Date.prototype.setTime.apply(this,arguments),kr(this),+this}[Symbol.for("constructDateFrom")](a){return new kp(+new Date(a),this.timeZone)}}let kq=/^(get|set)(?!UTC)/;function kr(a){a.internal.setTime(+a),a.internal.setUTCMinutes(a.internal.getUTCMinutes()-a.getTimezoneOffset())}function ks(a){let b=km(a.timeZone,a),c=new Date(+a);c.setUTCHours(c.getUTCHours()-1);let d=-new Date(+a).getTimezoneOffset(),e=d- -new Date(+c).getTimezoneOffset(),f=Date.prototype.getHours.apply(a)!==a.internal.getUTCHours();e&&f&&a.internal.setUTCMinutes(a.internal.getUTCMinutes()+e);let g=d-b;g&&Date.prototype.setUTCMinutes.call(a,Date.prototype.getUTCMinutes.call(a)+g);let h=km(a.timeZone,a),i=-new Date(+a).getTimezoneOffset()-h-g;if(h!==b&&i){Date.prototype.setUTCMinutes.call(a,Date.prototype.getUTCMinutes.call(a)+i);let b=h-km(a.timeZone,a);b&&(a.internal.setUTCMinutes(a.internal.getUTCMinutes()+b),Date.prototype.setUTCMinutes.call(a,Date.prototype.getUTCMinutes.call(a)+b))}}Object.getOwnPropertyNames(Date.prototype).forEach(a=>{if(!kq.test(a))return;let b=a.replace(kq,"$1UTC");kp.prototype[b]&&(a.startsWith("get")?kp.prototype[a]=function(){return this.internal[b]()}:(kp.prototype[a]=function(){var a;return Date.prototype[b].apply(this.internal,arguments),a=this,Date.prototype.setFullYear.call(a,a.internal.getUTCFullYear(),a.internal.getUTCMonth(),a.internal.getUTCDate()),Date.prototype.setHours.call(a,a.internal.getUTCHours(),a.internal.getUTCMinutes(),a.internal.getUTCSeconds(),a.internal.getUTCMilliseconds()),ks(a),+this},kp.prototype[b]=function(){return Date.prototype[b].apply(this,arguments),kr(this),+this}))});class kt extends kp{static tz(a,...b){return b.length?new kt(...b,a):new kt(Date.now(),a)}toISOString(){let[a,b,c]=this.tzComponents(),d=`${a}${b}:${c}`;return this.internal.toISOString().slice(0,-1)+d}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){let[a,b,c,d]=this.internal.toUTCString().split(" ");return`${a?.slice(0,-1)} ${c} ${b} ${d}`}toTimeString(){var a,b;let c=this.internal.toUTCString().split(" ")[4],[d,e,f]=this.tzComponents();return`${c} GMT${d}${e}${f} (${a=this.timeZone,b=this,new Intl.DateTimeFormat("en-GB",{timeZone:a,timeZoneName:"long"}).format(b).slice(12)})`}toLocaleString(a,b){return Date.prototype.toLocaleString.call(this,a,{...b,timeZone:b?.timeZone||this.timeZone})}toLocaleDateString(a,b){return Date.prototype.toLocaleDateString.call(this,a,{...b,timeZone:b?.timeZone||this.timeZone})}toLocaleTimeString(a,b){return Date.prototype.toLocaleTimeString.call(this,a,{...b,timeZone:b?.timeZone||this.timeZone})}tzComponents(){let a=this.getTimezoneOffset(),b=String(Math.floor(Math.abs(a)/60)).padStart(2,"0"),c=String(Math.abs(a)%60).padStart(2,"0");return[a>0?"-":"+",b,c]}withTimeZone(a){return new kt(+this,a)}[Symbol.for("constructDateFrom")](a){return new kt(+new Date(a),this.timeZone)}}(wW=w3||(w3={})).Root="root",wW.Chevron="chevron",wW.Day="day",wW.DayButton="day_button",wW.CaptionLabel="caption_label",wW.Dropdowns="dropdowns",wW.Dropdown="dropdown",wW.DropdownRoot="dropdown_root",wW.Footer="footer",wW.MonthGrid="month_grid",wW.MonthCaption="month_caption",wW.MonthsDropdown="months_dropdown",wW.Month="month",wW.Months="months",wW.Nav="nav",wW.NextMonthButton="button_next",wW.PreviousMonthButton="button_previous",wW.Week="week",wW.Weeks="weeks",wW.Weekday="weekday",wW.Weekdays="weekdays",wW.WeekNumber="week_number",wW.WeekNumberHeader="week_number_header",wW.YearsDropdown="years_dropdown",(wX=w4||(w4={})).disabled="disabled",wX.hidden="hidden",wX.outside="outside",wX.focused="focused",wX.today="today",(wY=w5||(w5={})).range_end="range_end",wY.range_middle="range_middle",wY.range_start="range_start",wY.selected="selected",(wZ=w6||(w6={})).weeks_before_enter="weeks_before_enter",wZ.weeks_before_exit="weeks_before_exit",wZ.weeks_after_enter="weeks_after_enter",wZ.weeks_after_exit="weeks_after_exit",wZ.caption_after_enter="caption_after_enter",wZ.caption_after_exit="caption_after_exit",wZ.caption_before_enter="caption_before_enter",wZ.caption_before_exit="caption_before_exit";let ku=Symbol.for("constructDateFrom");function kv(a,b){return"function"==typeof a?a(b):a&&"object"==typeof a&&ku in a?a[ku](b):a instanceof Date?new a.constructor(b):new Date(b)}function kw(a,b){return kv(b||a,a)}function kx(a,b,c){let d=kw(a,c?.in);return isNaN(b)?kv(c?.in||a,NaN):(b&&d.setDate(d.getDate()+b),d)}function ky(a,b,c){let d=kw(a,c?.in);if(isNaN(b))return kv(c?.in||a,NaN);if(!b)return d;let e=d.getDate(),f=kv(c?.in||a,d.getTime());return(f.setMonth(d.getMonth()+b+1,0),e>=f.getDate())?f:(d.setFullYear(f.getFullYear(),f.getMonth(),e),d)}function kz(a){let b=kw(a),c=new Date(Date.UTC(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds(),b.getMilliseconds()));return c.setUTCFullYear(b.getFullYear()),a-c}function kA(a,...b){let c=kv.bind(null,a||b.find(a=>"object"==typeof a));return b.map(c)}function kB(a,b){let c=kw(a,b?.in);return c.setHours(0,0,0,0),c}function kC(a,b,c){let[d,e]=kA(c?.in,a,b),f=kB(d),g=kB(e);return Math.round((f-kz(f)-(g-kz(g)))/864e5)}let kD={};function kE(a,b){let c=b?.weekStartsOn??b?.locale?.options?.weekStartsOn??kD.weekStartsOn??kD.locale?.options?.weekStartsOn??0,d=kw(a,b?.in),e=d.getDay();return d.setDate(d.getDate()+((e<c?-7:0)+6-(e-c))),d.setHours(23,59,59,999),d}let kF={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function kG(a){return (b={})=>{let c=b.width?String(b.width):a.defaultWidth;return a.formats[c]||a.formats[a.defaultWidth]}}let kH={date:kG({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:kG({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:kG({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},kI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function kJ(a){return(b,c)=>{let d;if("formatting"===(c?.context?String(c.context):"standalone")&&a.formattingValues){let b=a.defaultFormattingWidth||a.defaultWidth,e=c?.width?String(c.width):b;d=a.formattingValues[e]||a.formattingValues[b]}else{let b=a.defaultWidth,e=c?.width?String(c.width):a.defaultWidth;d=a.values[e]||a.values[b]}return d[a.argumentCallback?a.argumentCallback(b):b]}}function kK(a){return(b,c={})=>{let d,e=c.width,f=e&&a.matchPatterns[e]||a.matchPatterns[a.defaultMatchWidth],g=b.match(f);if(!g)return null;let h=g[0],i=e&&a.parsePatterns[e]||a.parsePatterns[a.defaultParseWidth],j=Array.isArray(i)?function(a,b){for(let c=0;c<a.length;c++)if(b(a[c]))return c}(i,a=>a.test(h)):function(a,b){for(let c in a)if(Object.prototype.hasOwnProperty.call(a,c)&&b(a[c]))return c}(i,a=>a.test(h));return d=a.valueCallback?a.valueCallback(j):j,{value:d=c.valueCallback?c.valueCallback(d):d,rest:b.slice(h.length)}}}let kL={code:"en-US",formatDistance:(a,b,c)=>{let d,e=kF[a];if(d="string"==typeof e?e:1===b?e.one:e.other.replace("{{count}}",b.toString()),c?.addSuffix)if(c.comparison&&c.comparison>0)return"in "+d;else return d+" ago";return d},formatLong:kH,formatRelative:(a,b,c,d)=>kI[a],localize:{ordinalNumber:(a,b)=>{let c=Number(a),d=c%100;if(d>20||d<10)switch(d%10){case 1:return c+"st";case 2:return c+"nd";case 3:return c+"rd"}return c+"th"},era:kJ({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:kJ({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:a=>a-1}),month:kJ({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:kJ({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:kJ({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(w$={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:a=>parseInt(a,10)},(a,b={})=>{let c=a.match(w$.matchPattern);if(!c)return null;let d=c[0],e=a.match(w$.parsePattern);if(!e)return null;let f=w$.valueCallback?w$.valueCallback(e[0]):e[0];return{value:f=b.valueCallback?b.valueCallback(f):f,rest:a.slice(d.length)}}),era:kK({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:kK({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:a=>a+1}),month:kK({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:kK({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:kK({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function kM(a,b){let c=kw(a,b?.in);return c.setFullYear(c.getFullYear(),0,1),c.setHours(0,0,0,0),c}function kN(a,b){let c=b?.weekStartsOn??b?.locale?.options?.weekStartsOn??kD.weekStartsOn??kD.locale?.options?.weekStartsOn??0,d=kw(a,b?.in),e=d.getDay();return d.setDate(d.getDate()-(7*(e<c)+e-c)),d.setHours(0,0,0,0),d}function kO(a,b){return kN(a,{...b,weekStartsOn:1})}function kP(a,b){let c=kw(a,b?.in),d=c.getFullYear(),e=kv(c,0);e.setFullYear(d+1,0,4),e.setHours(0,0,0,0);let f=kO(e),g=kv(c,0);g.setFullYear(d,0,4),g.setHours(0,0,0,0);let h=kO(g);return c.getTime()>=f.getTime()?d+1:c.getTime()>=h.getTime()?d:d-1}function kQ(a,b){let c,d,e=kw(a,b?.in);return Math.round((kO(e)-(c=kP(e,void 0),(d=kv(e,0)).setFullYear(c,0,4),d.setHours(0,0,0,0),kO(d)))/6048e5)+1}function kR(a,b){let c=kw(a,b?.in),d=c.getFullYear(),e=b?.firstWeekContainsDate??b?.locale?.options?.firstWeekContainsDate??kD.firstWeekContainsDate??kD.locale?.options?.firstWeekContainsDate??1,f=kv(b?.in||a,0);f.setFullYear(d+1,0,e),f.setHours(0,0,0,0);let g=kN(f,b),h=kv(b?.in||a,0);h.setFullYear(d,0,e),h.setHours(0,0,0,0);let i=kN(h,b);return+c>=+g?d+1:+c>=+i?d:d-1}function kS(a,b){let c,d,e,f=kw(a,b?.in);return Math.round((kN(f,b)-(c=b?.firstWeekContainsDate??b?.locale?.options?.firstWeekContainsDate??kD.firstWeekContainsDate??kD.locale?.options?.firstWeekContainsDate??1,d=kR(f,b),(e=kv(b?.in||f,0)).setFullYear(d,0,c),e.setHours(0,0,0,0),kN(e,b)))/6048e5)+1}function kT(a,b){let c=Math.abs(a).toString().padStart(b,"0");return(a<0?"-":"")+c}let kU={y(a,b){let c=a.getFullYear(),d=c>0?c:1-c;return kT("yy"===b?d%100:d,b.length)},M(a,b){let c=a.getMonth();return"M"===b?String(c+1):kT(c+1,2)},d:(a,b)=>kT(a.getDate(),b.length),a(a,b){let c=a.getHours()/12>=1?"pm":"am";switch(b){case"a":case"aa":return c.toUpperCase();case"aaa":return c;case"aaaaa":return c[0];default:return"am"===c?"a.m.":"p.m."}},h:(a,b)=>kT(a.getHours()%12||12,b.length),H:(a,b)=>kT(a.getHours(),b.length),m:(a,b)=>kT(a.getMinutes(),b.length),s:(a,b)=>kT(a.getSeconds(),b.length),S(a,b){let c=b.length;return kT(Math.trunc(a.getMilliseconds()*Math.pow(10,c-3)),b.length)}},kV={G:function(a,b,c){let d=+(a.getFullYear()>0);switch(b){case"G":case"GG":case"GGG":return c.era(d,{width:"abbreviated"});case"GGGGG":return c.era(d,{width:"narrow"});default:return c.era(d,{width:"wide"})}},y:function(a,b,c){if("yo"===b){let b=a.getFullYear();return c.ordinalNumber(b>0?b:1-b,{unit:"year"})}return kU.y(a,b)},Y:function(a,b,c,d){let e=kR(a,d),f=e>0?e:1-e;return"YY"===b?kT(f%100,2):"Yo"===b?c.ordinalNumber(f,{unit:"year"}):kT(f,b.length)},R:function(a,b){return kT(kP(a),b.length)},u:function(a,b){return kT(a.getFullYear(),b.length)},Q:function(a,b,c){let d=Math.ceil((a.getMonth()+1)/3);switch(b){case"Q":return String(d);case"QQ":return kT(d,2);case"Qo":return c.ordinalNumber(d,{unit:"quarter"});case"QQQ":return c.quarter(d,{width:"abbreviated",context:"formatting"});case"QQQQQ":return c.quarter(d,{width:"narrow",context:"formatting"});default:return c.quarter(d,{width:"wide",context:"formatting"})}},q:function(a,b,c){let d=Math.ceil((a.getMonth()+1)/3);switch(b){case"q":return String(d);case"qq":return kT(d,2);case"qo":return c.ordinalNumber(d,{unit:"quarter"});case"qqq":return c.quarter(d,{width:"abbreviated",context:"standalone"});case"qqqqq":return c.quarter(d,{width:"narrow",context:"standalone"});default:return c.quarter(d,{width:"wide",context:"standalone"})}},M:function(a,b,c){let d=a.getMonth();switch(b){case"M":case"MM":return kU.M(a,b);case"Mo":return c.ordinalNumber(d+1,{unit:"month"});case"MMM":return c.month(d,{width:"abbreviated",context:"formatting"});case"MMMMM":return c.month(d,{width:"narrow",context:"formatting"});default:return c.month(d,{width:"wide",context:"formatting"})}},L:function(a,b,c){let d=a.getMonth();switch(b){case"L":return String(d+1);case"LL":return kT(d+1,2);case"Lo":return c.ordinalNumber(d+1,{unit:"month"});case"LLL":return c.month(d,{width:"abbreviated",context:"standalone"});case"LLLLL":return c.month(d,{width:"narrow",context:"standalone"});default:return c.month(d,{width:"wide",context:"standalone"})}},w:function(a,b,c,d){let e=kS(a,d);return"wo"===b?c.ordinalNumber(e,{unit:"week"}):kT(e,b.length)},I:function(a,b,c){let d=kQ(a);return"Io"===b?c.ordinalNumber(d,{unit:"week"}):kT(d,b.length)},d:function(a,b,c){return"do"===b?c.ordinalNumber(a.getDate(),{unit:"date"}):kU.d(a,b)},D:function(a,b,c){let d,e=kC(d=kw(a,void 0),kM(d))+1;return"Do"===b?c.ordinalNumber(e,{unit:"dayOfYear"}):kT(e,b.length)},E:function(a,b,c){let d=a.getDay();switch(b){case"E":case"EE":case"EEE":return c.day(d,{width:"abbreviated",context:"formatting"});case"EEEEE":return c.day(d,{width:"narrow",context:"formatting"});case"EEEEEE":return c.day(d,{width:"short",context:"formatting"});default:return c.day(d,{width:"wide",context:"formatting"})}},e:function(a,b,c,d){let e=a.getDay(),f=(e-d.weekStartsOn+8)%7||7;switch(b){case"e":return String(f);case"ee":return kT(f,2);case"eo":return c.ordinalNumber(f,{unit:"day"});case"eee":return c.day(e,{width:"abbreviated",context:"formatting"});case"eeeee":return c.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return c.day(e,{width:"short",context:"formatting"});default:return c.day(e,{width:"wide",context:"formatting"})}},c:function(a,b,c,d){let e=a.getDay(),f=(e-d.weekStartsOn+8)%7||7;switch(b){case"c":return String(f);case"cc":return kT(f,b.length);case"co":return c.ordinalNumber(f,{unit:"day"});case"ccc":return c.day(e,{width:"abbreviated",context:"standalone"});case"ccccc":return c.day(e,{width:"narrow",context:"standalone"});case"cccccc":return c.day(e,{width:"short",context:"standalone"});default:return c.day(e,{width:"wide",context:"standalone"})}},i:function(a,b,c){let d=a.getDay(),e=0===d?7:d;switch(b){case"i":return String(e);case"ii":return kT(e,b.length);case"io":return c.ordinalNumber(e,{unit:"day"});case"iii":return c.day(d,{width:"abbreviated",context:"formatting"});case"iiiii":return c.day(d,{width:"narrow",context:"formatting"});case"iiiiii":return c.day(d,{width:"short",context:"formatting"});default:return c.day(d,{width:"wide",context:"formatting"})}},a:function(a,b,c){let d=a.getHours()/12>=1?"pm":"am";switch(b){case"a":case"aa":return c.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"aaa":return c.dayPeriod(d,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return c.dayPeriod(d,{width:"narrow",context:"formatting"});default:return c.dayPeriod(d,{width:"wide",context:"formatting"})}},b:function(a,b,c){let d,e=a.getHours();switch(d=12===e?"noon":0===e?"midnight":e/12>=1?"pm":"am",b){case"b":case"bb":return c.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"bbb":return c.dayPeriod(d,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return c.dayPeriod(d,{width:"narrow",context:"formatting"});default:return c.dayPeriod(d,{width:"wide",context:"formatting"})}},B:function(a,b,c){let d,e=a.getHours();switch(d=e>=17?"evening":e>=12?"afternoon":e>=4?"morning":"night",b){case"B":case"BB":case"BBB":return c.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"BBBBB":return c.dayPeriod(d,{width:"narrow",context:"formatting"});default:return c.dayPeriod(d,{width:"wide",context:"formatting"})}},h:function(a,b,c){if("ho"===b){let b=a.getHours()%12;return 0===b&&(b=12),c.ordinalNumber(b,{unit:"hour"})}return kU.h(a,b)},H:function(a,b,c){return"Ho"===b?c.ordinalNumber(a.getHours(),{unit:"hour"}):kU.H(a,b)},K:function(a,b,c){let d=a.getHours()%12;return"Ko"===b?c.ordinalNumber(d,{unit:"hour"}):kT(d,b.length)},k:function(a,b,c){let d=a.getHours();return(0===d&&(d=24),"ko"===b)?c.ordinalNumber(d,{unit:"hour"}):kT(d,b.length)},m:function(a,b,c){return"mo"===b?c.ordinalNumber(a.getMinutes(),{unit:"minute"}):kU.m(a,b)},s:function(a,b,c){return"so"===b?c.ordinalNumber(a.getSeconds(),{unit:"second"}):kU.s(a,b)},S:function(a,b){return kU.S(a,b)},X:function(a,b,c){let d=a.getTimezoneOffset();if(0===d)return"Z";switch(b){case"X":return kX(d);case"XXXX":case"XX":return kY(d);default:return kY(d,":")}},x:function(a,b,c){let d=a.getTimezoneOffset();switch(b){case"x":return kX(d);case"xxxx":case"xx":return kY(d);default:return kY(d,":")}},O:function(a,b,c){let d=a.getTimezoneOffset();switch(b){case"O":case"OO":case"OOO":return"GMT"+kW(d,":");default:return"GMT"+kY(d,":")}},z:function(a,b,c){let d=a.getTimezoneOffset();switch(b){case"z":case"zz":case"zzz":return"GMT"+kW(d,":");default:return"GMT"+kY(d,":")}},t:function(a,b,c){return kT(Math.trunc(a/1e3),b.length)},T:function(a,b,c){return kT(+a,b.length)}};function kW(a,b=""){let c=a>0?"-":"+",d=Math.abs(a),e=Math.trunc(d/60),f=d%60;return 0===f?c+String(e):c+String(e)+b+kT(f,2)}function kX(a,b){return a%60==0?(a>0?"-":"+")+kT(Math.abs(a)/60,2):kY(a,b)}function kY(a,b=""){let c=Math.abs(a);return(a>0?"-":"+")+kT(Math.trunc(c/60),2)+b+kT(c%60,2)}let kZ=(a,b)=>{switch(a){case"P":return b.date({width:"short"});case"PP":return b.date({width:"medium"});case"PPP":return b.date({width:"long"});default:return b.date({width:"full"})}},k$=(a,b)=>{switch(a){case"p":return b.time({width:"short"});case"pp":return b.time({width:"medium"});case"ppp":return b.time({width:"long"});default:return b.time({width:"full"})}},k_={p:k$,P:(a,b)=>{let c,d=a.match(/(P+)(p+)?/)||[],e=d[1],f=d[2];if(!f)return kZ(a,b);switch(e){case"P":c=b.dateTime({width:"short"});break;case"PP":c=b.dateTime({width:"medium"});break;case"PPP":c=b.dateTime({width:"long"});break;default:c=b.dateTime({width:"full"})}return c.replace("{{date}}",kZ(e,b)).replace("{{time}}",k$(f,b))}},k0=/^D+$/,k1=/^Y+$/,k2=["D","DD","YY","YYYY"];function k3(a){return a instanceof Date||"object"==typeof a&&"[object Date]"===Object.prototype.toString.call(a)}let k4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,k5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,k6=/^'([^]*?)'?$/,k7=/''/g,k8=/[a-zA-Z]/;function k9(a,b,c){let d=c?.locale??kD.locale??kL,e=c?.firstWeekContainsDate??c?.locale?.options?.firstWeekContainsDate??kD.firstWeekContainsDate??kD.locale?.options?.firstWeekContainsDate??1,f=c?.weekStartsOn??c?.locale?.options?.weekStartsOn??kD.weekStartsOn??kD.locale?.options?.weekStartsOn??0,g=kw(a,c?.in);if(!k3(g)&&"number"!=typeof g||isNaN(+kw(g)))throw RangeError("Invalid time value");let h=b.match(k5).map(a=>{let b=a[0];return"p"===b||"P"===b?(0,k_[b])(a,d.formatLong):a}).join("").match(k4).map(a=>{if("''"===a)return{isToken:!1,value:"'"};let b=a[0];if("'"===b){var c;let b;return{isToken:!1,value:(b=(c=a).match(k6))?b[1].replace(k7,"'"):c}}if(kV[b])return{isToken:!0,value:a};if(b.match(k8))throw RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:a}});d.localize.preprocessor&&(h=d.localize.preprocessor(g,h));let i={firstWeekContainsDate:e,weekStartsOn:f,locale:d};return h.map(e=>{if(!e.isToken)return e.value;let f=e.value;return(!c?.useAdditionalWeekYearTokens&&k1.test(f)||!c?.useAdditionalDayOfYearTokens&&k0.test(f))&&function(a,b,c){var d,e,f;let g,h=(d=a,e=b,f=c,g="Y"===d[0]?"years":"days of the month",`Use \`${d.toLowerCase()}\` instead of \`${d}\` (in \`${e}\`) for formatting ${g} to the input \`${f}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`);if(console.warn(h),k2.includes(a))throw RangeError(h)}(f,b,String(a)),(0,kV[f[0]])(g,f,d.localize,i)}).join("")}function la(a,b){let c=b.startOfMonth(a),d=c.getDay();return 1===d?c:0===d?b.addDays(c,-6):b.addDays(c,-1*(d-1))}class lb{constructor(a,b){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?kt.tz(this.options.timeZone):new this.Date,this.newDate=(a,b,c)=>this.overrides?.newDate?this.overrides.newDate(a,b,c):this.options.timeZone?new kt(a,b,c,this.options.timeZone):new Date(a,b,c),this.addDays=(a,b)=>this.overrides?.addDays?this.overrides.addDays(a,b):kx(a,b),this.addMonths=(a,b)=>this.overrides?.addMonths?this.overrides.addMonths(a,b):ky(a,b),this.addWeeks=(a,b)=>this.overrides?.addWeeks?this.overrides.addWeeks(a,b):kx(a,7*b,void 0),this.addYears=(a,b)=>this.overrides?.addYears?this.overrides.addYears(a,b):ky(a,12*b,void 0),this.differenceInCalendarDays=(a,b)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(a,b):kC(a,b),this.differenceInCalendarMonths=(a,b)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(a,b):function(a,b,c){let[d,e]=kA(void 0,a,b);return 12*(d.getFullYear()-e.getFullYear())+(d.getMonth()-e.getMonth())}(a,b),this.eachMonthOfInterval=a=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(a):function(a,b){let{start:c,end:d}=function(a,b){let[c,d]=kA(a,b.start,b.end);return{start:c,end:d}}(void 0,a),e=+c>+d,f=e?+c:+d,g=e?d:c;g.setHours(0,0,0,0),g.setDate(1);let h=(void 0)??1;if(!h)return[];h<0&&(h=-h,e=!e);let i=[];for(;+g<=f;)i.push(kv(c,g)),g.setMonth(g.getMonth()+h);return e?i.reverse():i}(a),this.endOfBroadcastWeek=a=>{let b,c,d,e,f,g;return this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(a):(b=la(a,this),d=(c=this.startOfMonth(a)).getDay()>0?c.getDay():7,e=this.addDays(a,-d+1),f=this.addDays(e,34),g=this.getMonth(a)===this.getMonth(f)?5:4,this.addDays(b,7*g-1))},this.endOfISOWeek=a=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(a):kE(a,{...void 0,weekStartsOn:1}),this.endOfMonth=a=>{let b,c;return this.overrides?.endOfMonth?this.overrides.endOfMonth(a):(c=(b=kw(a,void 0)).getMonth(),b.setFullYear(b.getFullYear(),c+1,0),b.setHours(23,59,59,999),b)},this.endOfWeek=(a,b)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(a,b):kE(a,this.options),this.endOfYear=a=>{let b,c;return this.overrides?.endOfYear?this.overrides.endOfYear(a):(c=(b=kw(a,void 0)).getFullYear(),b.setFullYear(c+1,0,0),b.setHours(23,59,59,999),b)},this.format=(a,b,c)=>{let d=this.overrides?.format?this.overrides.format(a,b,this.options):k9(a,b,this.options);return this.options.numerals&&"latn"!==this.options.numerals?this.replaceDigits(d):d},this.getISOWeek=a=>this.overrides?.getISOWeek?this.overrides.getISOWeek(a):kQ(a),this.getMonth=(a,b)=>{var c;return this.overrides?.getMonth?this.overrides.getMonth(a,this.options):(c=this.options,kw(a,c?.in).getMonth())},this.getYear=(a,b)=>{var c;return this.overrides?.getYear?this.overrides.getYear(a,this.options):(c=this.options,kw(a,c?.in).getFullYear())},this.getWeek=(a,b)=>this.overrides?.getWeek?this.overrides.getWeek(a,this.options):kS(a,this.options),this.isAfter=(a,b)=>this.overrides?.isAfter?this.overrides.isAfter(a,b):+kw(a)>+kw(b),this.isBefore=(a,b)=>this.overrides?.isBefore?this.overrides.isBefore(a,b):+kw(a)<+kw(b),this.isDate=a=>this.overrides?.isDate?this.overrides.isDate(a):k3(a),this.isSameDay=(a,b)=>this.overrides?.isSameDay?this.overrides.isSameDay(a,b):function(a,b,c){let[d,e]=kA(void 0,a,b);return+kB(d)==+kB(e)}(a,b),this.isSameMonth=(a,b)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(a,b):function(a,b,c){let[d,e]=kA(void 0,a,b);return d.getFullYear()===e.getFullYear()&&d.getMonth()===e.getMonth()}(a,b),this.isSameYear=(a,b)=>this.overrides?.isSameYear?this.overrides.isSameYear(a,b):function(a,b,c){let[d,e]=kA(void 0,a,b);return d.getFullYear()===e.getFullYear()}(a,b),this.max=a=>{let b,c;return this.overrides?.max?this.overrides.max(a):(c=void 0,a.forEach(a=>{c||"object"!=typeof a||(c=kv.bind(null,a));let d=kw(a,c);(!b||b<d||isNaN(+d))&&(b=d)}),kv(c,b||NaN))},this.min=a=>{let b,c;return this.overrides?.min?this.overrides.min(a):(c=void 0,a.forEach(a=>{c||"object"!=typeof a||(c=kv.bind(null,a));let d=kw(a,c);(!b||b>d||isNaN(+d))&&(b=d)}),kv(c,b||NaN))},this.setMonth=(a,b)=>{let c,d,e,f,g,h,i,j,k;return this.overrides?.setMonth?this.overrides.setMonth(a,b):(d=(c=kw(a,void 0)).getFullYear(),e=c.getDate(),(f=kv(a,0)).setFullYear(d,b,15),f.setHours(0,0,0,0),h=(g=kw(f,void 0)).getFullYear(),i=g.getMonth(),(j=kv(g,0)).setFullYear(h,i+1,0),j.setHours(0,0,0,0),k=j.getDate(),c.setMonth(b,Math.min(e,k)),c)},this.setYear=(a,b)=>{let c;return this.overrides?.setYear?this.overrides.setYear(a,b):isNaN(+(c=kw(a,void 0)))?kv(a,NaN):(c.setFullYear(b),c)},this.startOfBroadcastWeek=(a,b)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(a,this):la(a,this),this.startOfDay=a=>this.overrides?.startOfDay?this.overrides.startOfDay(a):kB(a),this.startOfISOWeek=a=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(a):kO(a),this.startOfMonth=a=>{let b;return this.overrides?.startOfMonth?this.overrides.startOfMonth(a):((b=kw(a,void 0)).setDate(1),b.setHours(0,0,0,0),b)},this.startOfWeek=(a,b)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(a,this.options):kN(a,this.options),this.startOfYear=a=>this.overrides?.startOfYear?this.overrides.startOfYear(a):kM(a),this.options={locale:kL,...a},this.overrides=b}getDigitMap(){let{numerals:a="latn"}=this.options,b=new Intl.NumberFormat("en-US",{numberingSystem:a}),c={};for(let a=0;a<10;a++)c[a.toString()]=b.format(a);return c}replaceDigits(a){let b=this.getDigitMap();return a.replace(/\d/g,a=>b[a]||a)}formatNumber(a){return this.replaceDigits(a.toString())}}let lc=new lb;function ld(a,b,c=!1,d=lc){let{from:e,to:f}=a,{differenceInCalendarDays:g,isSameDay:h}=d;return e&&f?(0>g(f,e)&&([e,f]=[f,e]),g(b,e)>=+!!c&&g(f,b)>=+!!c):!c&&f?h(f,b):!c&&!!e&&h(e,b)}function le(a){return!!(a&&"object"==typeof a&&"before"in a&&"after"in a)}function lf(a){return!!(a&&"object"==typeof a&&"from"in a)}function lg(a){return!!(a&&"object"==typeof a&&"after"in a)}function lh(a){return!!(a&&"object"==typeof a&&"before"in a)}function li(a){return!!(a&&"object"==typeof a&&"dayOfWeek"in a)}function lj(a,b){return Array.isArray(a)&&a.every(b.isDate)}function lk(a,b,c=lc){let d=Array.isArray(b)?b:[b],{isSameDay:e,differenceInCalendarDays:f,isAfter:g}=c;return d.some(b=>{if("boolean"==typeof b)return b;if(c.isDate(b))return e(a,b);if(lj(b,c))return b.includes(a);if(lf(b))return ld(b,a,!1,c);if(li(b))return Array.isArray(b.dayOfWeek)?b.dayOfWeek.includes(a.getDay()):b.dayOfWeek===a.getDay();if(le(b)){let c=f(b.before,a),d=f(b.after,a),e=c>0,h=d<0;return g(b.before,b.after)?h&&e:e||h}return lg(b)?f(a,b.after)>0:lh(b)?f(b.before,a)>0:"function"==typeof b&&b(a)})}function ll(a){return m.default.createElement("button",{...a})}function lm(a){return m.default.createElement("span",{...a})}function ln(a){let{size:b=24,orientation:c="left",className:d}=a;return m.default.createElement("svg",{className:d,width:b,height:b,viewBox:"0 0 24 24"},"up"===c&&m.default.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),"down"===c&&m.default.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),"left"===c&&m.default.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),"right"===c&&m.default.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function lo(a){let{day:b,modifiers:c,...d}=a;return m.default.createElement("td",{...d})}function lp(a){let{day:b,modifiers:c,...d}=a,e=m.default.useRef(null);return m.default.useEffect(()=>{c.focused&&e.current?.focus()},[c.focused]),m.default.createElement("button",{ref:e,...d})}function lq(a){let{options:b,className:c,components:d,classNames:e,...f}=a,g=[e[w3.Dropdown],c].join(" "),h=b?.find(({value:a})=>a===f.value);return m.default.createElement("span",{"data-disabled":f.disabled,className:e[w3.DropdownRoot]},m.default.createElement(d.Select,{className:g,...f},b?.map(({value:a,label:b,disabled:c})=>m.default.createElement(d.Option,{key:a,value:a,disabled:c},b))),m.default.createElement("span",{className:e[w3.CaptionLabel],"aria-hidden":!0},h?.label,m.default.createElement(d.Chevron,{orientation:"down",size:18,className:e[w3.Chevron]})))}function lr(a){return m.default.createElement("div",{...a})}function ls(a){return m.default.createElement("div",{...a})}function lt(a){let{calendarMonth:b,displayIndex:c,...d}=a;return m.default.createElement("div",{...d},a.children)}function lu(a){let{calendarMonth:b,displayIndex:c,...d}=a;return m.default.createElement("div",{...d})}function lv(a){return m.default.createElement("table",{...a})}function lw(a){return m.default.createElement("div",{...a})}a.s([],66502),a.i(66502),a.s(["Button",()=>ll],3128),a.i(3128),a.s(["CaptionLabel",()=>lm],58583),a.i(58583),a.s(["Chevron",()=>ln],85790),a.i(85790),a.s(["Day",()=>lo],44619),a.i(44619),a.s(["DayButton",()=>lp],71819),a.i(71819),a.s(["Dropdown",()=>lq],94006),a.i(94006),a.s(["DropdownNav",()=>lr],86466),a.i(86466),a.s(["Footer",()=>ls],58575),a.i(58575),a.s(["Month",()=>lt],19223),a.i(19223),a.s(["MonthCaption",()=>lu],51380),a.i(51380),a.s(["MonthGrid",()=>lv],51710),a.i(51710),a.s(["Months",()=>lw],4630),a.i(4630);let lx=(0,m.createContext)(void 0);function ly(){let a=(0,m.useContext)(lx);if(void 0===a)throw Error("useDayPicker() must be used within a custom component.");return a}function lz(a){let{components:b}=ly();return m.default.createElement(b.Dropdown,{...a})}function lA(a){let{onPreviousClick:b,onNextClick:c,previousMonth:d,nextMonth:e,...f}=a,{components:g,classNames:h,labels:{labelPrevious:i,labelNext:j}}=ly(),k=(0,m.useCallback)(a=>{e&&c?.(a)},[e,c]),l=(0,m.useCallback)(a=>{d&&b?.(a)},[d,b]);return m.default.createElement("nav",{...f},m.default.createElement(g.PreviousMonthButton,{type:"button",className:h[w3.PreviousMonthButton],tabIndex:d?void 0:-1,"aria-disabled":!d||void 0,"aria-label":i(d),onClick:l},m.default.createElement(g.Chevron,{disabled:!d||void 0,className:h[w3.Chevron],orientation:"left"})),m.default.createElement(g.NextMonthButton,{type:"button",className:h[w3.NextMonthButton],tabIndex:e?void 0:-1,"aria-disabled":!e||void 0,"aria-label":j(e),onClick:k},m.default.createElement(g.Chevron,{disabled:!e||void 0,orientation:"right",className:h[w3.Chevron]})))}function lB(a){let{components:b}=ly();return m.default.createElement(b.Button,{...a})}function lC(a){return m.default.createElement("option",{...a})}function lD(a){let{components:b}=ly();return m.default.createElement(b.Button,{...a})}function lE(a){let{rootRef:b,...c}=a;return m.default.createElement("div",{...c,ref:b})}function lF(a){return m.default.createElement("select",{...a})}function lG(a){let{week:b,...c}=a;return m.default.createElement("tr",{...c})}function lH(a){return m.default.createElement("th",{...a})}function lI(a){return m.default.createElement("thead",{"aria-hidden":!0},m.default.createElement("tr",{...a}))}function lJ(a){let{week:b,...c}=a;return m.default.createElement("th",{...c})}function lK(a){return m.default.createElement("th",{...a})}function lL(a){return m.default.createElement("tbody",{...a})}function lM(a){let{components:b}=ly();return m.default.createElement(b.Dropdown,{...a})}a.s(["MonthsDropdown",()=>lz],9474),a.i(9474),a.s(["Nav",()=>lA],54844),a.i(54844),a.s(["NextMonthButton",()=>lB],87701),a.i(87701),a.s(["Option",()=>lC],42382),a.i(42382),a.s(["PreviousMonthButton",()=>lD],41402),a.i(41402),a.s(["Root",()=>lE],312),a.i(312),a.s(["Select",()=>lF],52619),a.i(52619),a.s(["Week",()=>lG],3095),a.i(3095),a.s(["Weekday",()=>lH],87721),a.i(87721),a.s(["Weekdays",()=>lI],85980),a.i(85980),a.s(["WeekNumber",()=>lJ],10892),a.i(10892),a.s(["WeekNumberHeader",()=>lK],90154),a.i(90154),a.s(["Weeks",()=>lL],62942),a.i(62942),a.s(["YearsDropdown",()=>lM],27110),a.i(27110),a.s(["Button",()=>ll,"CaptionLabel",()=>lm,"Chevron",()=>ln,"Day",()=>lo,"DayButton",()=>lp,"Dropdown",()=>lq,"DropdownNav",()=>lr,"Footer",()=>ls,"Month",()=>lt,"MonthCaption",()=>lu,"MonthGrid",()=>lv,"Months",()=>lw,"MonthsDropdown",()=>lz,"Nav",()=>lA,"NextMonthButton",()=>lB,"Option",()=>lC,"PreviousMonthButton",()=>lD,"Root",()=>lE,"Select",()=>lF,"Week",()=>lG,"WeekNumber",()=>lJ,"WeekNumberHeader",()=>lK,"Weekday",()=>lH,"Weekdays",()=>lI,"Weeks",()=>lL,"YearsDropdown",()=>lM],30952);var lN=a.i(30952);function lO(a,b,c){return(c??new lb(b)).format(a,"LLLL y")}function lP(a,b,c){return(c??new lb(b)).format(a,"d")}function lQ(a,b=lc){return b.format(a,"LLLL")}function lR(a,b=lc){return a<10?b.formatNumber(`0${a.toLocaleString()}`):b.formatNumber(`${a.toLocaleString()}`)}function lS(){return""}function lT(a,b,c){return(c??new lb(b)).format(a,"cccccc")}function lU(a,b=lc){return b.format(a,"yyyy")}a.s([],64652),a.i(64652),a.s(["formatCaption",()=>lO,"formatMonthCaption",0,lO],29),a.i(29),a.s(["formatDay",()=>lP],82648),a.i(82648),a.s(["formatMonthDropdown",()=>lQ],4156),a.i(4156),a.s(["formatWeekNumber",()=>lR],991),a.i(991),a.s(["formatWeekNumberHeader",()=>lS],51973),a.i(51973),a.s(["formatWeekdayName",()=>lT],79596),a.i(79596),a.s(["formatYearCaption",0,lU,"formatYearDropdown",()=>lU],98960),a.i(98960),a.s(["formatCaption",()=>lO,"formatDay",()=>lP,"formatMonthCaption",0,lO,"formatMonthDropdown",()=>lQ,"formatWeekNumber",()=>lR,"formatWeekNumberHeader",()=>lS,"formatWeekdayName",()=>lT,"formatYearCaption",0,lU,"formatYearDropdown",()=>lU],51780);var lV=a.i(51780);function lW(a,b,c){return(c??new lb(b)).format(a,"LLLL y")}function lX(a,b,c,d){let e=(d??new lb(c)).format(a,"PPPP");return b?.today&&(e=`Today, ${e}`),e}function lY(a,b,c,d){let e=(d??new lb(c)).format(a,"PPPP");return b.today&&(e=`Today, ${e}`),b.selected&&(e=`${e}, selected`),e}function lZ(){return""}function l$(a){return"Choose the Month"}function l_(a){return"Go to the Next Month"}function l0(a){return"Go to the Previous Month"}function l1(a,b,c){return(c??new lb(b)).format(a,"cccc")}function l2(a,b){return`Week ${a}`}function l3(a){return"Week Number"}function l4(a){return"Choose the Year"}a.s([],39326),a.i(39326),a.s(["labelCaption",0,lW,"labelGrid",()=>lW],54471),a.i(54471),a.s(["labelGridcell",()=>lX],17011),a.i(17011),a.s(["labelDay",0,lY,"labelDayButton",()=>lY],13681),a.i(13681),a.s(["labelNav",()=>lZ],23700),a.i(23700),a.s(["labelMonthDropdown",()=>l$],59538),a.i(59538),a.s(["labelNext",()=>l_],7901),a.i(7901),a.s(["labelPrevious",()=>l0],6162),a.i(6162),a.s(["labelWeekday",()=>l1],83894),a.i(83894),a.s(["labelWeekNumber",()=>l2],64272),a.i(64272),a.s(["labelWeekNumberHeader",()=>l3],94704),a.i(94704),a.s(["labelYearDropdown",()=>l4],20630),a.i(20630),a.s(["labelCaption",0,lW,"labelDay",0,lY,"labelDayButton",()=>lY,"labelGrid",()=>lW,"labelGridcell",()=>lX,"labelMonthDropdown",()=>l$,"labelNav",()=>lZ,"labelNext",()=>l_,"labelPrevious",()=>l0,"labelWeekNumber",()=>l2,"labelWeekNumberHeader",()=>l3,"labelWeekday",()=>l1,"labelYearDropdown",()=>l4],33698);var l5=a.i(33698);let l6=a=>a instanceof HTMLElement?a:null,l7=a=>[...a.querySelectorAll("[data-animated-month]")??[]],l8=a=>l6(a.querySelector("[data-animated-caption]")),l9=a=>l6(a.querySelector("[data-animated-weeks]"));function ma(a,b,c,d){let{month:e,defaultMonth:f,today:g=d.today(),numberOfMonths:h=1}=a,i=e||f||g,{differenceInCalendarMonths:j,addMonths:k,startOfMonth:l}=d;return c&&j(c,i)<h-1&&(i=k(c,-1*(h-1))),b&&0>j(i,b)&&(i=b),l(i)}class mb{constructor(a,b){this.days=b,this.weekNumber=a}}class mc{constructor(a,b,c=lc){this.date=a,this.displayMonth=b,this.outside=!!(b&&!c.isSameMonth(a,b)),this.dateLib=c}isEqualTo(a){return this.dateLib.isSameDay(a.date,this.date)&&this.dateLib.isSameMonth(a.displayMonth,this.displayMonth)}}class md{constructor(a,b){this.date=a,this.weeks=b}}function me(a,b){let[c,d]=(0,m.useState)(a);return[void 0===b?c:b,d]}function mf(a){return!a[w4.disabled]&&!a[w4.hidden]&&!a[w4.outside]}function mg(a,b,c=lc){return ld(a,b.from,!1,c)||ld(a,b.to,!1,c)||ld(b,a.from,!1,c)||ld(b,a.to,!1,c)}function mh(a){var b;let c,d=a;d.timeZone&&((d={...a}).today&&(d.today=new kt(d.today,d.timeZone)),d.month&&(d.month=new kt(d.month,d.timeZone)),d.defaultMonth&&(d.defaultMonth=new kt(d.defaultMonth,d.timeZone)),d.startMonth&&(d.startMonth=new kt(d.startMonth,d.timeZone)),d.endMonth&&(d.endMonth=new kt(d.endMonth,d.timeZone)),"single"===d.mode&&d.selected?d.selected=new kt(d.selected,d.timeZone):"multiple"===d.mode&&d.selected?d.selected=d.selected?.map(a=>new kt(a,d.timeZone)):"range"===d.mode&&d.selected&&(d.selected={from:d.selected.from?new kt(d.selected.from,d.timeZone):void 0,to:d.selected.to?new kt(d.selected.to,d.timeZone):void 0}));let{components:e,formatters:f,labels:g,dateLib:h,locale:i,classNames:j}=(0,m.useMemo)(()=>{var a,b;let c={...kL,...d.locale};return{dateLib:new lb({locale:c,weekStartsOn:d.broadcastCalendar?1:d.weekStartsOn,firstWeekContainsDate:d.firstWeekContainsDate,useAdditionalWeekYearTokens:d.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:d.useAdditionalDayOfYearTokens,timeZone:d.timeZone,numerals:d.numerals},d.dateLib),components:(a=d.components,{...lN,...a}),formatters:(b=d.formatters,b?.formatMonthCaption&&!b.formatCaption&&(b.formatCaption=b.formatMonthCaption),b?.formatYearCaption&&!b.formatYearDropdown&&(b.formatYearDropdown=b.formatYearCaption),{...lV,...b}),labels:{...l5,...d.labels},locale:c,classNames:{...function(){let a={};for(let b in w3)a[w3[b]]=`rdp-${w3[b]}`;for(let b in w4)a[w4[b]]=`rdp-${w4[b]}`;for(let b in w5)a[w5[b]]=`rdp-${w5[b]}`;for(let b in w6)a[w6[b]]=`rdp-${w6[b]}`;return a}(),...d.classNames}}},[d.locale,d.broadcastCalendar,d.weekStartsOn,d.firstWeekContainsDate,d.useAdditionalWeekYearTokens,d.useAdditionalDayOfYearTokens,d.timeZone,d.numerals,d.dateLib,d.components,d.formatters,d.labels,d.classNames]),{captionLayout:k,mode:l,navLayout:n,numberOfMonths:o=1,onDayBlur:p,onDayClick:q,onDayFocus:r,onDayKeyDown:s,onDayMouseEnter:t,onDayMouseLeave:u,onNextClick:v,onPrevClick:w,showWeekNumber:x,styles:y}=d,{formatCaption:z,formatDay:A,formatMonthDropdown:B,formatWeekNumber:C,formatWeekNumberHeader:D,formatWeekdayName:E,formatYearDropdown:F}=f,G=function(a,b){let c,[d,e]=function(a,b){let{startMonth:c,endMonth:d}=a,{startOfYear:e,startOfDay:f,startOfMonth:g,endOfMonth:h,addYears:i,endOfYear:j,newDate:k,today:l}=b,{fromYear:m,toYear:n,fromMonth:o,toMonth:p}=a;!c&&o&&(c=o),!c&&m&&(c=b.newDate(m,0,1)),!d&&p&&(d=p),!d&&n&&(d=k(n,11,31));let q="dropdown"===a.captionLayout||"dropdown-years"===a.captionLayout;return c?c=g(c):m?c=k(m,0,1):!c&&q&&(c=e(i(a.today??l(),-100))),d?d=h(d):n?d=k(n,11,31):!d&&q&&(d=j(a.today??l())),[c?f(c):c,d?f(d):d]}(a,b),{startOfMonth:f,endOfMonth:g}=b,h=ma(a,d,e,b),[i,j]=me(h,a.month?h:void 0);(0,m.useEffect)(()=>{j(ma(a,d,e,b))},[a.timeZone]);let k=function(a,b,c,d){let{numberOfMonths:e=1}=c,f=[];for(let c=0;c<e;c++){let e=d.addMonths(a,c);if(b&&e>b)break;f.push(e)}return f}(i,e,a,b),l=function(a,b,c,d){let e=a[0],f=a[a.length-1],{ISOWeek:g,fixedWeeks:h,broadcastCalendar:i}=c??{},{addDays:j,differenceInCalendarDays:k,differenceInCalendarMonths:l,endOfBroadcastWeek:m,endOfISOWeek:n,endOfMonth:o,endOfWeek:p,isAfter:q,startOfBroadcastWeek:r,startOfISOWeek:s,startOfWeek:t}=d,u=i?r(e,d):g?s(e):t(e),v=k(i?m(f):g?n(o(f)):p(o(f)),u),w=l(f,e)+1,x=[];for(let a=0;a<=v;a++){let c=j(u,a);if(b&&q(c,b))break;x.push(c)}let y=(i?35:42)*w;if(h&&x.length<y){let a=y-x.length;for(let b=0;b<a;b++){let a=j(x[x.length-1],1);x.push(a)}}return x}(k,a.endMonth?g(a.endMonth):void 0,a,b),n=function(a,b,c,d){let{addDays:e,endOfBroadcastWeek:f,endOfISOWeek:g,endOfMonth:h,endOfWeek:i,getISOWeek:j,getWeek:k,startOfBroadcastWeek:l,startOfISOWeek:m,startOfWeek:n}=d,o=a.reduce((a,o)=>{let p=c.broadcastCalendar?l(o,d):c.ISOWeek?m(o):n(o),q=c.broadcastCalendar?f(o):c.ISOWeek?g(h(o)):i(h(o)),r=b.filter(a=>a>=p&&a<=q),s=c.broadcastCalendar?35:42;if(c.fixedWeeks&&r.length<s){let a=b.filter(a=>{let b=s-r.length;return a>q&&a<=e(q,b)});r.push(...a)}let t=r.reduce((a,b)=>{let e=c.ISOWeek?j(b):k(b),f=a.find(a=>a.weekNumber===e),g=new mc(b,o,d);return f?f.days.push(g):a.push(new mb(e,[g])),a},[]),u=new md(o,t);return a.push(u),a},[]);return c.reverseMonths?o.reverse():o}(k,l,a,b),o=n.reduce((a,b)=>[...a,...b.weeks],[]),p=(c=[],n.reduce((a,b)=>[...a,...b.weeks.reduce((a,b)=>[...a,...b.days],c)],c)),q=function(a,b,c,d){if(c.disableNavigation)return;let{pagedNavigation:e,numberOfMonths:f}=c,{startOfMonth:g,addMonths:h,differenceInCalendarMonths:i}=d,j=g(a);if(!b||!(0>=i(j,b)))return h(j,-(e?f??1:1))}(i,d,a,b),r=function(a,b,c,d){if(c.disableNavigation)return;let{pagedNavigation:e,numberOfMonths:f=1}=c,{startOfMonth:g,addMonths:h,differenceInCalendarMonths:i}=d,j=g(a);if(!b||!(i(b,a)<f))return h(j,e?f:1)}(i,e,a,b),{disableNavigation:s,onMonthChange:t}=a,u=a=>{if(s)return;let b=f(a);d&&b<f(d)&&(b=f(d)),e&&b>f(e)&&(b=f(e)),j(b),t?.(b)};return{months:n,weeks:o,days:p,navStart:d,navEnd:e,previousMonth:q,nextMonth:r,goToMonth:u,goToDay:a=>{o.some(b=>b.days.some(b=>b.isEqualTo(a)))||u(a.date)}}}(d,h),{days:H,months:I,navStart:J,navEnd:K,previousMonth:L,nextMonth:M,goToMonth:N}=G,O=function(a,b,c,d,e){let{disabled:f,hidden:g,modifiers:h,showOutsideDays:i,broadcastCalendar:j,today:k}=b,{isSameDay:l,isSameMonth:m,startOfMonth:n,isBefore:o,endOfMonth:p,isAfter:q}=e,r=c&&n(c),s=d&&p(d),t={[w4.focused]:[],[w4.outside]:[],[w4.disabled]:[],[w4.hidden]:[],[w4.today]:[]},u={};for(let b of a){let{date:a,displayMonth:c}=b,d=!!(c&&!m(a,c)),n=!!(r&&o(a,r)),p=!!(s&&q(a,s)),v=!!(f&&lk(a,f,e)),w=!!(g&&lk(a,g,e))||n||p||!j&&!i&&d||j&&!1===i&&d,x=l(a,k??e.today());d&&t.outside.push(b),v&&t.disabled.push(b),w&&t.hidden.push(b),x&&t.today.push(b),h&&Object.keys(h).forEach(c=>{let d=h?.[c];d&&lk(a,d,e)&&(u[c]?u[c].push(b):u[c]=[b])})}return a=>{let b={[w4.focused]:!1,[w4.disabled]:!1,[w4.hidden]:!1,[w4.outside]:!1,[w4.today]:!1},c={};for(let c in t){let d=t[c];b[c]=d.some(b=>b===a)}for(let b in u)c[b]=u[b].some(b=>b===a);return{...b,...c}}}(H,d,J,K,h),{isSelected:P,select:Q,selected:R}=function(a,b){let c=function(a,b){let{selected:c,required:d,onSelect:e}=a,[f,g]=me(c,e?c:void 0),h=e?c:f,{isSameDay:i}=b;return{selected:h,select:(a,b,c)=>{let f=a;return!d&&h&&h&&i(a,h)&&(f=void 0),e||g(f),e?.(f,a,b,c),f},isSelected:a=>!!h&&i(h,a)}}(a,b),d=function(a,b){let{selected:c,required:d,onSelect:e}=a,[f,g]=me(c,e?c:void 0),h=e?c:f,{isSameDay:i}=b,j=a=>h?.some(b=>i(b,a))??!1,{min:k,max:l}=a;return{selected:h,select:(a,b,c)=>{let f=[...h??[]];if(j(a)){if(h?.length===k||d&&h?.length===1)return;f=h?.filter(b=>!i(b,a))}else f=h?.length===l?[a]:[...f,a];return e||g(f),e?.(f,a,b,c),f},isSelected:j}}(a,b),e=function(a,b){let{disabled:c,excludeDisabled:d,selected:e,required:f,onSelect:g}=a,[h,i]=me(e,g?e:void 0),j=g?e:h;return{selected:j,select:(e,h,k)=>{let{min:l,max:m}=a,n=e?function(a,b,c=0,d=0,e=!1,f=lc){let g,{from:h,to:i}=b||{},{isSameDay:j,isAfter:k,isBefore:l}=f;if(h||i){if(h&&!i)g=j(h,a)?e?{from:h,to:void 0}:void 0:l(a,h)?{from:a,to:h}:{from:h,to:a};else if(h&&i)if(j(h,a)&&j(i,a))g=e?{from:h,to:i}:void 0;else if(j(h,a))g={from:h,to:c>0?void 0:a};else if(j(i,a))g={from:a,to:c>0?void 0:a};else if(l(a,h))g={from:a,to:i};else if(k(a,h))g={from:h,to:a};else if(k(a,i))g={from:h,to:a};else throw Error("Invalid range")}else g={from:a,to:c>0?void 0:a};if(g?.from&&g?.to){let b=f.differenceInCalendarDays(g.to,g.from);d>0&&b>d?g={from:a,to:void 0}:c>1&&b<c&&(g={from:a,to:void 0})}return g}(e,j,l,m,f,b):void 0;return d&&c&&n?.from&&n.to&&function(a,b,c=lc){let d=Array.isArray(b)?b:[b];if(d.filter(a=>"function"!=typeof a).some(b=>"boolean"==typeof b?b:c.isDate(b)?ld(a,b,!1,c):lj(b,c)?b.some(b=>ld(a,b,!1,c)):lf(b)?!!b.from&&!!b.to&&mg(a,{from:b.from,to:b.to},c):li(b)?function(a,b,c=lc){let d=Array.isArray(b)?b:[b],e=a.from,f=Math.min(c.differenceInCalendarDays(a.to,a.from),6);for(let a=0;a<=f;a++){if(d.includes(e.getDay()))return!0;e=c.addDays(e,1)}return!1}(a,b.dayOfWeek,c):le(b)?c.isAfter(b.before,b.after)?mg(a,{from:c.addDays(b.after,1),to:c.addDays(b.before,-1)},c):lk(a.from,b,c)||lk(a.to,b,c):!!(lg(b)||lh(b))&&(lk(a.from,b,c)||lk(a.to,b,c))))return!0;let e=d.filter(a=>"function"==typeof a);if(e.length){let b=a.from,d=c.differenceInCalendarDays(a.to,a.from);for(let a=0;a<=d;a++){if(e.some(a=>a(b)))return!0;b=c.addDays(b,1)}}return!1}({from:n.from,to:n.to},c,b)&&(n.from=e,n.to=void 0),g||i(n),g?.(n,e,h,k),n},isSelected:a=>j&&ld(j,a,!1,b)}}(a,b);switch(a.mode){case"single":return c;case"multiple":return d;case"range":return e;default:return}}(d,h)??{},{blur:S,focused:T,isFocusTarget:U,moveFocus:V,setFocused:W}=function(a,b,c,d,e){let{autoFocus:f}=a,[g,h]=(0,m.useState)(),i=function(a,b,c,d){let e,f=-1;for(let g of a){let a=b(g);mf(a)&&(a[w4.focused]&&f<w7.FocusedModifier?(e=g,f=w7.FocusedModifier):d?.isEqualTo(g)&&f<w7.LastFocused?(e=g,f=w7.LastFocused):c(g.date)&&f<w7.Selected?(e=g,f=w7.Selected):a[w4.today]&&f<w7.Today&&(e=g,f=w7.Today))}return e||(e=a.find(a=>mf(b(a)))),e}(b.days,c,d||(()=>!1),g),[j,k]=(0,m.useState)(f?i:void 0);return{isFocusTarget:a=>!!i?.isEqualTo(a),setFocused:k,focused:j,blur:()=>{h(j),k(void 0)},moveFocus:(c,d)=>{if(!j)return;let f=function a(b,c,d,e,f,g,h,i=0){if(i>365)return;let j=function(a,b,c,d,e,f,g){let{ISOWeek:h,broadcastCalendar:i}=f,{addDays:j,addMonths:k,addWeeks:l,addYears:m,endOfBroadcastWeek:n,endOfISOWeek:o,endOfWeek:p,max:q,min:r,startOfBroadcastWeek:s,startOfISOWeek:t,startOfWeek:u}=g,v=({day:j,week:l,month:k,year:m,startOfWeek:a=>i?s(a,g):h?t(a):u(a),endOfWeek:a=>i?n(a):h?o(a):p(a)})[a](c,"after"===b?1:-1);return"before"===b&&d?v=q([d,v]):"after"===b&&e&&(v=r([e,v])),v}(b,c,d.date,e,f,g,h),k=!!(g.disabled&&lk(j,g.disabled,h)),l=!!(g.hidden&&lk(j,g.hidden,h)),m=new mc(j,j,h);return k||l?a(b,c,m,e,f,g,h,i+1):m}(c,d,j,b.navStart,b.navEnd,a,e);f&&(b.goToDay(f),k(f))}}}(d,G,O,P??(()=>!1),h),{labelDayButton:X,labelGridcell:Y,labelGrid:Z,labelMonthDropdown:$,labelNav:_,labelPrevious:aa,labelNext:ab,labelWeekday:ac,labelWeekNumber:ad,labelWeekNumberHeader:ae,labelYearDropdown:af}=g,ag=(0,m.useMemo)(()=>(function(a,b,c){let d=a.today(),e=b?a.startOfISOWeek(d):a.startOfWeek(d),f=[];for(let b=0;b<7;b++){let c=a.addDays(e,b);f.push(c)}return f})(h,d.ISOWeek),[h,d.ISOWeek]),ah=void 0!==l||void 0!==q,ai=(0,m.useCallback)(()=>{L&&(N(L),w?.(L))},[L,N,w]),aj=(0,m.useCallback)(()=>{M&&(N(M),v?.(M))},[N,M,v]),ak=(0,m.useCallback)((a,b)=>c=>{c.preventDefault(),c.stopPropagation(),W(a),Q?.(a.date,b,c),q?.(a.date,b,c)},[Q,q,W]),al=(0,m.useCallback)((a,b)=>c=>{W(a),r?.(a.date,b,c)},[r,W]),am=(0,m.useCallback)((a,b)=>c=>{S(),p?.(a.date,b,c)},[S,p]),an=(0,m.useCallback)((a,b)=>c=>{let e={ArrowLeft:[c.shiftKey?"month":"day","rtl"===d.dir?"after":"before"],ArrowRight:[c.shiftKey?"month":"day","rtl"===d.dir?"before":"after"],ArrowDown:[c.shiftKey?"year":"week","after"],ArrowUp:[c.shiftKey?"year":"week","before"],PageUp:[c.shiftKey?"year":"month","before"],PageDown:[c.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(e[c.key]){c.preventDefault(),c.stopPropagation();let[a,b]=e[c.key];V(a,b)}s?.(a.date,b,c)},[V,s,d.dir]),ao=(0,m.useCallback)((a,b)=>c=>{t?.(a.date,b,c)},[t]),ap=(0,m.useCallback)((a,b)=>c=>{u?.(a.date,b,c)},[u]),aq=(0,m.useCallback)(a=>b=>{let c=Number(b.target.value);N(h.setMonth(h.startOfMonth(a),c))},[h,N]),ar=(0,m.useCallback)(a=>b=>{let c=Number(b.target.value);N(h.setYear(h.startOfMonth(a),c))},[h,N]),{className:as,style:at}=(0,m.useMemo)(()=>({className:[j[w3.Root],d.className].filter(Boolean).join(" "),style:{...y?.[w3.Root],...d.style}}),[j,d.className,d.style,y]),au=(c={"data-mode":(b=d).mode??void 0,"data-required":"required"in b?b.required:void 0,"data-multiple-months":b.numberOfMonths&&b.numberOfMonths>1||void 0,"data-week-numbers":b.showWeekNumber||void 0,"data-broadcast-calendar":b.broadcastCalendar||void 0,"data-nav-layout":b.navLayout||void 0},Object.entries(b).forEach(([a,b])=>{a.startsWith("data-")&&(c[a]=b)}),c),av=(0,m.useRef)(null);!function(a,b,{classNames:c,months:d,focused:e,dateLib:f}){let g=(0,m.useRef)(null),h=(0,m.useRef)(d),i=(0,m.useRef)(!1);(0,m.useLayoutEffect)(()=>{let j=h.current;if(h.current=d,!b||!a.current||!(a.current instanceof HTMLElement)||0===d.length||0===j.length||d.length!==j.length)return;let k=f.isSameMonth(d[0].date,j[0].date),l=f.isAfter(d[0].date,j[0].date),m=l?c[w6.caption_after_enter]:c[w6.caption_before_enter],n=l?c[w6.weeks_after_enter]:c[w6.weeks_before_enter],o=g.current,p=a.current.cloneNode(!0);if(p instanceof HTMLElement?(l7(p).forEach(a=>{if(!(a instanceof HTMLElement))return;let b=l6(a.querySelector("[data-animated-month]"));b&&a.contains(b)&&a.removeChild(b);let c=l8(a);c&&c.classList.remove(m);let d=l9(a);d&&d.classList.remove(n)}),g.current=p):g.current=null,i.current||k||e)return;let q=o instanceof HTMLElement?l7(o):[],r=l7(a.current);if(r&&r.every(a=>a instanceof HTMLElement)&&q&&q.every(a=>a instanceof HTMLElement)){i.current=!0;let b=[];a.current.style.isolation="isolate";let d=l6(a.current.querySelector("[data-animated-nav]"));d&&(d.style.zIndex="1"),r.forEach((e,f)=>{let g=q[f];if(!g)return;e.style.position="relative",e.style.overflow="hidden";let h=l8(e);h&&h.classList.add(m);let j=l9(e);j&&j.classList.add(n);let k=()=>{i.current=!1,a.current&&(a.current.style.isolation=""),d&&(d.style.zIndex=""),h&&h.classList.remove(m),j&&j.classList.remove(n),e.style.position="",e.style.overflow="",e.contains(g)&&e.removeChild(g)};b.push(k),g.style.pointerEvents="none",g.style.position="absolute",g.style.overflow="hidden",g.setAttribute("aria-hidden","true");let o=l6(g.querySelector("[data-animated-weekdays]"));o&&(o.style.opacity="0");let p=l8(g);p&&(p.classList.add(l?c[w6.caption_before_exit]:c[w6.caption_after_exit]),p.addEventListener("animationend",k));let r=l9(g);r&&r.classList.add(l?c[w6.weeks_before_exit]:c[w6.weeks_after_exit]),e.insertBefore(g,e.firstChild)})}})}(av,!!d.animate,{classNames:j,months:I,focused:T,dateLib:h});let aw={dayPickerProps:d,selected:R,select:Q,isSelected:P,months:I,nextMonth:M,previousMonth:L,goToMonth:N,getModifiers:O,components:e,classNames:j,styles:y,labels:g,formatters:f};return m.default.createElement(lx.Provider,{value:aw},m.default.createElement(e.Root,{rootRef:d.animate?av:void 0,className:as,style:at,dir:d.dir,id:d.id,lang:d.lang,nonce:d.nonce,title:d.title,role:d.role,"aria-label":d["aria-label"],...au},m.default.createElement(e.Months,{className:j[w3.Months],style:y?.[w3.Months]},!d.hideNavigation&&!n&&m.default.createElement(e.Nav,{"data-animated-nav":d.animate?"true":void 0,className:j[w3.Nav],style:y?.[w3.Nav],"aria-label":_(),onPreviousClick:ai,onNextClick:aj,previousMonth:L,nextMonth:M}),I.map((a,b)=>{let c=function(a,b,c,d,e){let{startOfMonth:f,startOfYear:g,endOfYear:h,eachMonthOfInterval:i,getMonth:j}=e;return i({start:g(a),end:h(a)}).map(a=>{let g=d.formatMonthDropdown(a,e);return{value:j(a),label:g,disabled:b&&a<f(b)||c&&a>f(c)||!1}})}(a.date,J,K,f,h),g=function(a,b,c,d){if(!a||!b)return;let{startOfYear:e,endOfYear:f,addYears:g,getYear:h,isBefore:i,isSameYear:j}=d,k=e(a),l=f(b),m=[],n=k;for(;i(n,l)||j(n,l);)m.push(n),n=g(n,1);return m.map(a=>{let b=c.formatYearDropdown(a,d);return{value:h(a),label:b,disabled:!1}})}(J,K,f,h);return m.default.createElement(e.Month,{"data-animated-month":d.animate?"true":void 0,className:j[w3.Month],style:y?.[w3.Month],key:b,displayIndex:b,calendarMonth:a},"around"===n&&!d.hideNavigation&&0===b&&m.default.createElement(e.PreviousMonthButton,{type:"button",className:j[w3.PreviousMonthButton],tabIndex:L?void 0:-1,"aria-disabled":!L||void 0,"aria-label":aa(L),onClick:ai,"data-animated-button":d.animate?"true":void 0},m.default.createElement(e.Chevron,{disabled:!L||void 0,className:j[w3.Chevron],orientation:"rtl"===d.dir?"right":"left"})),m.default.createElement(e.MonthCaption,{"data-animated-caption":d.animate?"true":void 0,className:j[w3.MonthCaption],style:y?.[w3.MonthCaption],calendarMonth:a,displayIndex:b},k?.startsWith("dropdown")?m.default.createElement(e.DropdownNav,{className:j[w3.Dropdowns],style:y?.[w3.Dropdowns]},"dropdown"===k||"dropdown-months"===k?m.default.createElement(e.MonthsDropdown,{className:j[w3.MonthsDropdown],"aria-label":$(),classNames:j,components:e,disabled:!!d.disableNavigation,onChange:aq(a.date),options:c,style:y?.[w3.Dropdown],value:h.getMonth(a.date)}):m.default.createElement("span",null,B(a.date,h)),"dropdown"===k||"dropdown-years"===k?m.default.createElement(e.YearsDropdown,{className:j[w3.YearsDropdown],"aria-label":af(h.options),classNames:j,components:e,disabled:!!d.disableNavigation,onChange:ar(a.date),options:g,style:y?.[w3.Dropdown],value:h.getYear(a.date)}):m.default.createElement("span",null,F(a.date,h)),m.default.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},z(a.date,h.options,h))):m.default.createElement(e.CaptionLabel,{className:j[w3.CaptionLabel],role:"status","aria-live":"polite"},z(a.date,h.options,h))),"around"===n&&!d.hideNavigation&&b===o-1&&m.default.createElement(e.NextMonthButton,{type:"button",className:j[w3.NextMonthButton],tabIndex:M?void 0:-1,"aria-disabled":!M||void 0,"aria-label":ab(M),onClick:aj,"data-animated-button":d.animate?"true":void 0},m.default.createElement(e.Chevron,{disabled:!M||void 0,className:j[w3.Chevron],orientation:"rtl"===d.dir?"left":"right"})),b===o-1&&"after"===n&&!d.hideNavigation&&m.default.createElement(e.Nav,{"data-animated-nav":d.animate?"true":void 0,className:j[w3.Nav],style:y?.[w3.Nav],"aria-label":_(),onPreviousClick:ai,onNextClick:aj,previousMonth:L,nextMonth:M}),m.default.createElement(e.MonthGrid,{role:"grid","aria-multiselectable":"multiple"===l||"range"===l,"aria-label":Z(a.date,h.options,h)||void 0,className:j[w3.MonthGrid],style:y?.[w3.MonthGrid]},!d.hideWeekdays&&m.default.createElement(e.Weekdays,{"data-animated-weekdays":d.animate?"true":void 0,className:j[w3.Weekdays],style:y?.[w3.Weekdays]},x&&m.default.createElement(e.WeekNumberHeader,{"aria-label":ae(h.options),className:j[w3.WeekNumberHeader],style:y?.[w3.WeekNumberHeader],scope:"col"},D()),ag.map((a,b)=>m.default.createElement(e.Weekday,{"aria-label":ac(a,h.options,h),className:j[w3.Weekday],key:b,style:y?.[w3.Weekday],scope:"col"},E(a,h.options,h)))),m.default.createElement(e.Weeks,{"data-animated-weeks":d.animate?"true":void 0,className:j[w3.Weeks],style:y?.[w3.Weeks]},a.weeks.map((a,b)=>m.default.createElement(e.Week,{className:j[w3.Week],key:a.weekNumber,style:y?.[w3.Week],week:a},x&&m.default.createElement(e.WeekNumber,{week:a,style:y?.[w3.WeekNumber],"aria-label":ad(a.weekNumber,{locale:i}),className:j[w3.WeekNumber],scope:"row",role:"rowheader"},C(a.weekNumber,h)),a.days.map(a=>{let{date:b}=a,c=O(a);if(c[w4.focused]=!c.hidden&&!!T?.isEqualTo(a),c[w5.selected]=P?.(b)||c.selected,lf(R)){let{from:a,to:d}=R;c[w5.range_start]=!!(a&&d&&h.isSameDay(b,a)),c[w5.range_end]=!!(a&&d&&h.isSameDay(b,d)),c[w5.range_middle]=ld(R,b,!0,h)}let f=function(a,b={},c={}){let d={...b?.[w3.Day]};return Object.entries(a).filter(([,a])=>!0===a).forEach(([a])=>{d={...d,...c?.[a]}}),d}(c,y,d.modifiersStyles),g=function(a,b,c={}){return Object.entries(a).filter(([,a])=>!0===a).reduce((a,[d])=>(c[d]?a.push(c[d]):b[w4[d]]?a.push(b[w4[d]]):b[w5[d]]&&a.push(b[w5[d]]),a),[b[w3.Day]])}(c,j,d.modifiersClassNames),i=ah||c.hidden?void 0:Y(b,c,h.options,h);return m.default.createElement(e.Day,{key:`${h.format(b,"yyyy-MM-dd")}_${h.format(a.displayMonth,"yyyy-MM")}`,day:a,modifiers:c,className:g.join(" "),style:f,role:"gridcell","aria-selected":c.selected||void 0,"aria-label":i,"data-day":h.format(b,"yyyy-MM-dd"),"data-month":a.outside?h.format(b,"yyyy-MM"):void 0,"data-selected":c.selected||void 0,"data-disabled":c.disabled||void 0,"data-hidden":c.hidden||void 0,"data-outside":a.outside||void 0,"data-focused":c.focused||void 0,"data-today":c.today||void 0},!c.hidden&&ah?m.default.createElement(e.DayButton,{className:j[w3.DayButton],style:y?.[w3.DayButton],type:"button",day:a,modifiers:c,disabled:c.disabled||void 0,tabIndex:U(a)?0:-1,"aria-label":X(b,c,h.options,h),onClick:ak(a,c),onBlur:am(a,c),onFocus:al(a,c),onKeyDown:an(a,c),onMouseEnter:ao(a,c),onMouseLeave:ap(a,c)},A(b,h.options,h)):!c.hidden&&A(a.date,h.options,h))}))))))})),d.footer&&m.default.createElement(e.Footer,{className:j[w3.Footer],style:y?.[w3.Footer],role:"status","aria-live":"polite"},d.footer)))}function mi({className:a,classNames:b,showOutsideDays:c=!0,...d}){return(0,l.jsx)(mh,{showOutsideDays:c,className:a0("p-3",a),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:a0(a1({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:a0("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md","range"===d.mode?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:a0(a1({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...b},components:{IconLeft:({className:a,...b})=>(0,l.jsx)(kj,{className:a0("size-4",a),...b}),IconRight:({className:a,...b})=>(0,l.jsx)(fn,{className:a0("size-4",a),...b})},...d})}(w_=w7||(w7={}))[w_.Today=0]="Today",w_[w_.Selected=1]="Selected",w_[w_.LastFocused=2]="LastFocused",w_[w_.FocusedModifier=3]="FocusedModifier";var mj="Popover",[mk,ml]=a4(mj,[c0]),mm=c0(),[mn,mo]=mk(mj),mp=a=>{let{__scopePopover:b,children:c,open:d,defaultOpen:e,onOpenChange:f,modal:g=!1}=a,h=mm(b),i=m.useRef(null),[j,k]=m.useState(!1),[n,o]=bq({prop:d,defaultProp:e??!1,onChange:f,caller:mj});return(0,l.jsx)(c3,{...h,children:(0,l.jsx)(mn,{scope:b,contentId:bQ(),triggerRef:i,open:n,onOpenChange:o,onOpenToggle:m.useCallback(()=>o(a=>!a),[o]),hasCustomAnchor:j,onCustomAnchorAdd:m.useCallback(()=>k(!0),[]),onCustomAnchorRemove:m.useCallback(()=>k(!1),[]),modal:g,children:c})})};mp.displayName=mj;var mq="PopoverAnchor";m.forwardRef((a,b)=>{let{__scopePopover:c,...d}=a,e=mo(mq,c),f=mm(c),{onCustomAnchorAdd:g,onCustomAnchorRemove:h}=e;return m.useEffect(()=>(g(),()=>h()),[g,h]),(0,l.jsx)(c5,{...f,...d,ref:b})}).displayName=mq;var mr="PopoverTrigger",ms=m.forwardRef((a,b)=>{let{__scopePopover:c,...d}=a,e=mo(mr,c),f=mm(c),g=V(b,e.triggerRef),h=(0,l.jsx)(a8.button,{type:"button","aria-haspopup":"dialog","aria-expanded":e.open,"aria-controls":e.contentId,"data-state":mE(e.open),...d,ref:g,onClick:bo(a.onClick,e.onOpenToggle)});return e.hasCustomAnchor?h:(0,l.jsx)(c5,{asChild:!0,...f,children:h})});ms.displayName=mr;var mt="PopoverPortal",[mu,mv]=mk(mt,{forceMount:void 0}),mw=a=>{let{__scopePopover:b,forceMount:c,children:d,container:e}=a,f=mo(mt,b);return(0,l.jsx)(mu,{scope:b,forceMount:c,children:(0,l.jsx)(dh,{present:c||f.open,children:(0,l.jsx)(dg,{asChild:!0,container:e,children:d})})})};mw.displayName=mt;var mx="PopoverContent",my=m.forwardRef((a,b)=>{let c=mv(mx,a.__scopePopover),{forceMount:d=c.forceMount,...e}=a,f=mo(mx,a.__scopePopover);return(0,l.jsx)(dh,{present:d||f.open,children:f.modal?(0,l.jsx)(mA,{...e,ref:b}):(0,l.jsx)(mB,{...e,ref:b})})});my.displayName=mx;var mz=W("PopoverContent.RemoveScroll"),mA=m.forwardRef((a,b)=>{let c=mo(mx,a.__scopePopover),d=m.useRef(null),e=V(b,d),f=m.useRef(!1);return m.useEffect(()=>{let a=d.current;if(a)return dG(a)},[]),(0,l.jsx)(eb,{as:mz,allowPinchZoom:!0,children:(0,l.jsx)(mC,{...a,ref:e,trapFocus:c.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:bo(a.onCloseAutoFocus,a=>{a.preventDefault(),f.current||c.triggerRef.current?.focus()}),onPointerDownOutside:bo(a.onPointerDownOutside,a=>{let b=a.detail.originalEvent,c=0===b.button&&!0===b.ctrlKey;f.current=2===b.button||c},{checkForDefaultPrevented:!1}),onFocusOutside:bo(a.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),mB=m.forwardRef((a,b)=>{let c=mo(mx,a.__scopePopover),d=m.useRef(!1),e=m.useRef(!1);return(0,l.jsx)(mC,{...a,ref:b,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:b=>{a.onCloseAutoFocus?.(b),b.defaultPrevented||(d.current||c.triggerRef.current?.focus(),b.preventDefault()),d.current=!1,e.current=!1},onInteractOutside:b=>{a.onInteractOutside?.(b),b.defaultPrevented||(d.current=!0,"pointerdown"===b.detail.originalEvent.type&&(e.current=!0));let f=b.target;c.triggerRef.current?.contains(f)&&b.preventDefault(),"focusin"===b.detail.originalEvent.type&&e.current&&b.preventDefault()}})}),mC=m.forwardRef((a,b)=>{let{__scopePopover:c,trapFocus:d,onOpenAutoFocus:e,onCloseAutoFocus:f,disableOutsidePointerEvents:g,onEscapeKeyDown:h,onPointerDownOutside:i,onFocusOutside:j,onInteractOutside:k,...m}=a,n=mo(mx,c),o=mm(c);return bD(),(0,l.jsx)(bI,{asChild:!0,loop:!0,trapped:d,onMountAutoFocus:e,onUnmountAutoFocus:f,children:(0,l.jsx)(bz,{asChild:!0,disableOutsidePointerEvents:g,onInteractOutside:k,onEscapeKeyDown:h,onPointerDownOutside:i,onFocusOutside:j,onDismiss:()=>n.onOpenChange(!1),children:(0,l.jsx)(c9,{"data-state":mE(n.open),role:"dialog",id:n.contentId,...o,...m,ref:b,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),mD="PopoverClose";function mE(a){return a?"open":"closed"}function mF({...a}){return(0,l.jsx)(mp,{"data-slot":"popover",...a})}function mG({...a}){return(0,l.jsx)(ms,{"data-slot":"popover-trigger",...a})}function mH({className:a,align:b="center",sideOffset:c=4,...d}){return(0,l.jsx)(mw,{children:(0,l.jsx)(my,{"data-slot":"popover-content",align:b,sideOffset:c,className:a0("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",a),...d})})}m.forwardRef((a,b)=>{let{__scopePopover:c,...d}=a,e=mo(mD,c);return(0,l.jsx)(a8.button,{type:"button",...d,ref:b,onClick:bo(a.onClick,()=>e.onOpenChange(!1))})}).displayName=mD,m.forwardRef((a,b)=>{let{__scopePopover:c,...d}=a,e=mm(c);return(0,l.jsx)(dc,{...e,...d,ref:b})}).displayName="PopoverArrow";let mI=[{id:"DEL-2024-001",customer:"Acme Construction",items:15,date:"2024-11-05",timeSlot:"09:00 - 12:00",status:"Scheduled",address:"Downtown Plaza, Main St"},{id:"DEL-2024-002",customer:"BuildRight Inc.",items:8,date:"2024-11-04",timeSlot:"14:00 - 17:00",status:"In Transit",address:"Riverside Complex, Oak Ave"},{id:"DEL-2024-003",customer:"Metro Builders",items:12,date:"2024-11-03",timeSlot:"09:00 - 12:00",status:"Delivered",address:"City Center Tower, Park Rd"}],mJ=[{id:"RET-2024-001",customer:"Premium Projects",items:5,date:"2024-11-06",status:"Requested",condition:"Good"},{id:"RET-2024-002",customer:"Skyline Developers",items:3,date:"2024-11-05",status:"Approved",condition:"Damaged"}];function mK(){let[a]=(0,m.useState)(mI),[b,c]=(0,m.useState)(mJ),[d,e]=(0,m.useState)(!1),[f,g]=(0,m.useState)(!1),[h,i]=(0,m.useState)(),[j,k]=(0,m.useState)("");return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("h1",{children:"Delivery & Returns Management"}),(0,l.jsx)("p",{className:"text-[#374151]",children:"Schedule deliveries and process returns"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"Today's Deliveries"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(H,{className:"h-5 w-5 text-[#3B82F6]"}),(0,l.jsx)("p",{className:"text-[#111827]",children:"3"})]})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"In Transit"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("p",{className:"text-[#F59E0B]",children:a.filter(a=>"In Transit"===a.status).length})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"Pending Returns"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(F,{className:"h-5 w-5 text-[#F59E0B]"}),(0,l.jsx)("p",{className:"text-[#111827]",children:b.filter(a=>"Requested"===a.status).length})]})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"Completed Today"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("p",{className:"text-[#059669]",children:a.filter(a=>"Delivered"===a.status).length})})]})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsxs)(hx,{className:"flex flex-row items-center justify-between",children:[(0,l.jsx)(hy,{className:"text-[18px]",children:"Deliveries"}),(0,l.jsxs)(jl,{open:d,onOpenChange:e,children:[(0,l.jsx)(jm,{asChild:!0,children:(0,l.jsxs)(a2,{className:"bg-[#1E40AF] hover:bg-[#1E3A8A] h-10 px-6 rounded-lg",children:[(0,l.jsx)(w,{className:"mr-2 h-4 w-4"}),"Schedule Delivery"]})}),(0,l.jsxs)(jp,{className:"max-w-[500px]",children:[(0,l.jsxs)(jq,{children:[(0,l.jsx)(js,{children:"Schedule Delivery"}),(0,l.jsx)(jt,{children:"Select delivery date and time slot"})]}),(0,l.jsxs)("form",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Customer Order"}),(0,l.jsx)(a3,{value:"ORD-2024-045 - Acme Construction",disabled:!0,className:"h-10"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Delivery Date"}),(0,l.jsxs)(mF,{children:[(0,l.jsx)(mG,{asChild:!0,children:(0,l.jsxs)(a2,{variant:"outline",className:"w-full h-10 justify-start text-left",children:[(0,l.jsx)(w,{className:"mr-2 h-4 w-4"}),h?k9(h,"PPP"):"Pick a date"]})}),(0,l.jsx)(mH,{className:"w-auto p-0",children:(0,l.jsx)(mi,{mode:"single",selected:h,onSelect:i})})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Time Slot"}),(0,l.jsxs)(i7,{value:j,onValueChange:k,children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 p-3 border rounded-lg hover:bg-[#F3F4F6] cursor-pointer",children:[(0,l.jsx)(i8,{value:"morning",id:"morning"}),(0,l.jsx)(gR,{htmlFor:"morning",className:"cursor-pointer flex-1",children:"Morning (09:00 - 12:00)"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 p-3 border rounded-lg hover:bg-[#F3F4F6] cursor-pointer",children:[(0,l.jsx)(i8,{value:"afternoon",id:"afternoon"}),(0,l.jsx)(gR,{htmlFor:"afternoon",className:"cursor-pointer flex-1",children:"Afternoon (14:00 - 17:00)"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"address",children:"Delivery Address"}),(0,l.jsx)(jE,{id:"address",placeholder:"Enter delivery address",className:"min-h-[80px]"})]}),(0,l.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,l.jsx)(a2,{type:"button",variant:"outline",className:"flex-1",onClick:()=>e(!1),children:"Cancel"}),(0,l.jsx)(a2,{type:"button",className:"flex-1 bg-[#1E40AF] hover:bg-[#1E3A8A]",onClick:()=>{gG.success("Delivery scheduled successfully!"),e(!1)},children:"Confirm Schedule"})]})]})]})]})]}),(0,l.jsx)(hA,{children:(0,l.jsxs)(ju,{children:[(0,l.jsx)(jv,{children:(0,l.jsxs)(jx,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,l.jsx)(jy,{children:"Delivery ID"}),(0,l.jsx)(jy,{children:"Customer"}),(0,l.jsx)(jy,{children:"Items"}),(0,l.jsx)(jy,{children:"Date"}),(0,l.jsx)(jy,{children:"Time Slot"}),(0,l.jsx)(jy,{children:"Status"}),(0,l.jsx)(jy,{children:"Actions"})]})}),(0,l.jsx)(jw,{children:a.map(a=>(0,l.jsxs)(jx,{className:"h-14 hover:bg-[#F3F4F6]",children:[(0,l.jsx)(jz,{className:"text-[#111827]",children:a.id}),(0,l.jsx)(jz,{className:"text-[#374151]",children:a.customer}),(0,l.jsxs)(jz,{className:"text-[#374151]",children:[a.items," items"]}),(0,l.jsx)(jz,{className:"text-[#374151]",children:a.date}),(0,l.jsx)(jz,{className:"text-[#374151]",children:a.timeSlot}),(0,l.jsx)(jz,{children:(a=>{switch(a){case"Scheduled":return(0,l.jsx)(jk,{className:"bg-[#3B82F6] hover:bg-[#2563EB]",children:"Scheduled"});case"In Transit":return(0,l.jsx)(jk,{className:"bg-[#F59E0B] hover:bg-[#D97706]",children:"In Transit"});case"Delivered":return(0,l.jsx)(jk,{className:"bg-[#059669] hover:bg-[#047857]",children:"Delivered"});case"Failed":return(0,l.jsx)(jk,{className:"bg-[#DC2626] hover:bg-[#B91C1C]",children:"Failed"})}})(a.status)}),(0,l.jsx)(jz,{children:(0,l.jsx)(a2,{variant:"ghost",size:"sm",children:"Track"})})]},a.id))})]})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px]",children:"Returns Processing"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)(ju,{children:[(0,l.jsx)(jv,{children:(0,l.jsxs)(jx,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,l.jsx)(jy,{children:"Return ID"}),(0,l.jsx)(jy,{children:"Customer"}),(0,l.jsx)(jy,{children:"Items"}),(0,l.jsx)(jy,{children:"Return Date"}),(0,l.jsx)(jy,{children:"Condition"}),(0,l.jsx)(jy,{children:"Status"}),(0,l.jsx)(jy,{children:"Actions"})]})}),(0,l.jsx)(jw,{children:b.map(a=>(0,l.jsxs)(jx,{className:"h-14 hover:bg-[#F3F4F6]",children:[(0,l.jsx)(jz,{className:"text-[#111827]",children:a.id}),(0,l.jsx)(jz,{className:"text-[#374151]",children:a.customer}),(0,l.jsxs)(jz,{className:"text-[#374151]",children:[a.items," items"]}),(0,l.jsx)(jz,{className:"text-[#374151]",children:a.date}),(0,l.jsx)(jz,{children:(a=>{switch(a){case"Good":return(0,l.jsx)(jk,{className:"bg-[#059669] hover:bg-[#047857]",children:"Good"});case"Damaged":return(0,l.jsx)(jk,{className:"bg-[#DC2626] hover:bg-[#B91C1C]",children:"Damaged"});case"Needs Repair":return(0,l.jsx)(jk,{className:"bg-[#F59E0B] hover:bg-[#D97706]",children:"Needs Repair"})}})(a.condition)}),(0,l.jsx)(jz,{children:(a=>{switch(a){case"Requested":return(0,l.jsx)(jk,{className:"bg-[#3B82F6] hover:bg-[#2563EB]",children:"Requested"});case"Approved":return(0,l.jsx)(jk,{className:"bg-[#059669] hover:bg-[#047857]",children:"Approved"});case"In Transit":return(0,l.jsx)(jk,{className:"bg-[#F59E0B] hover:bg-[#D97706]",children:"In Transit"});case"Received":return(0,l.jsx)(jk,{className:"bg-[#6B7280] hover:bg-[#4B5563]",children:"Received"})}})(a.status)}),(0,l.jsx)(jz,{children:"Requested"===a.status&&(0,l.jsx)(a2,{variant:"ghost",size:"sm",onClick:()=>{var d;return d=a.id,void(c(b.map(a=>a.id===d?{...a,status:"Approved"}:a)),gG.success("Return approved and processed!"),g(!1))},children:"Process"})})]},a.id))})]})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px]",children:"Delivery Tracking - DEL-2024-002"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-start gap-4",children:[(0,l.jsx)("div",{className:"mt-1",children:(0,l.jsx)(hg,{className:"h-6 w-6 text-[#059669]"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h4",{className:"text-[#111827]",children:"Order Confirmed"}),(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"November 4, 2024 at 8:30 AM"})]})]}),(0,l.jsx)("div",{className:"ml-3 border-l-2 border-[#E5E7EB] h-6"}),(0,l.jsxs)("div",{className:"flex items-start gap-4",children:[(0,l.jsx)("div",{className:"mt-1",children:(0,l.jsx)(hg,{className:"h-6 w-6 text-[#059669]"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h4",{className:"text-[#111827]",children:"Items Prepared"}),(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"November 4, 2024 at 9:15 AM"})]})]}),(0,l.jsx)("div",{className:"ml-3 border-l-2 border-[#E5E7EB] h-6"}),(0,l.jsxs)("div",{className:"flex items-start gap-4",children:[(0,l.jsx)("div",{className:"mt-1",children:(0,l.jsx)("div",{className:"h-6 w-6 bg-[#F59E0B] rounded-full flex items-center justify-center",children:(0,l.jsx)(H,{className:"h-4 w-4 text-white"})})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h4",{className:"text-[#111827]",children:"Out for Delivery"}),(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"November 4, 2024 at 2:00 PM"}),(0,l.jsx)("p",{className:"text-[12px] text-[#F59E0B] mt-1",children:"Driver: John Smith - Contact: +60 12-345-6789"})]})]}),(0,l.jsx)("div",{className:"ml-3 border-l-2 border-dashed border-[#E5E7EB] h-6"}),(0,l.jsxs)("div",{className:"flex items-start gap-4",children:[(0,l.jsx)("div",{className:"mt-1",children:(0,l.jsx)("div",{className:"h-6 w-6 border-2 border-[#E5E7EB] rounded-full"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h4",{className:"text-[#6B7280]",children:"Delivered"}),(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Expected: 2:00 PM - 5:00 PM"})]})]})]})})]})]})}let mL=s("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),mM=s("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),mN=[{id:"P-001",name:"Aluminum Scaffolding Frame - 6ft",category:"Frames",price:85,rating:4.5,reviews:24,available:!0,image:""},{id:"P-002",name:"Steel Platform Board",category:"Platforms",price:45,rating:4.8,reviews:38,available:!0,image:""},{id:"P-003",name:"Safety Guard Rail Set",category:"Safety",price:65,rating:4.6,reviews:15,available:!0,image:""},{id:"P-004",name:"Scaffold Caster Wheels",category:"Accessories",price:25,rating:4.3,reviews:42,available:!1,image:""}];function mO(){let[a]=(0,m.useState)(mN),[b,c]=(0,m.useState)([]),[d,e]=(0,m.useState)(""),[f,g]=(0,m.useState)("all"),[h,i]=(0,m.useState)(null),[j,k]=(0,m.useState)(!1),[n,o]=(0,m.useState)(!1),p=a.filter(a=>{let b=a.name.toLowerCase().includes(d.toLowerCase()),c="all"===f||a.category===f;return b&&c}),q=a=>{c(b.filter(b=>b.id!==a)),gG.success("Removed from cart")},r=(a,d)=>{d<=0?q(a):c(b.map(b=>b.id===a?{...b,quantity:d}:b))},s=b.reduce((a,b)=>a+b.price*b.quantity,0),t=b.reduce((a,b)=>a+b.quantity,0);return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{children:"Scaffolding Marketplace"}),(0,l.jsx)("p",{className:"text-[#374151]",children:"Browse and rent scaffolding equipment"})]}),(0,l.jsxs)(jl,{open:j,onOpenChange:k,children:[(0,l.jsx)(jm,{asChild:!0,children:(0,l.jsxs)(a2,{className:"bg-[#1E40AF] hover:bg-[#1E3A8A] relative",children:[(0,l.jsx)(G,{className:"mr-2 h-4 w-4"}),"Cart (",t,")",t>0&&(0,l.jsx)("span",{className:"absolute -top-1 -right-1 bg-[#DC2626] text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:t})]})}),(0,l.jsxs)(jp,{className:"max-w-[600px]",children:[(0,l.jsxs)(jq,{children:[(0,l.jsx)(js,{children:"Shopping Cart"}),(0,l.jsx)(jt,{children:"Review your selected items"})]}),(0,l.jsx)("div",{className:"space-y-4",children:0===b.length?(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)(G,{className:"h-12 w-12 text-[#9CA3AF] mx-auto mb-3"}),(0,l.jsx)("p",{className:"text-[#6B7280]",children:"Your cart is empty"})]}):(0,l.jsxs)(l.Fragment,{children:[b.map(a=>(0,l.jsxs)("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-[#F3F4F6] rounded flex items-center justify-center",children:(0,l.jsx)(F,{className:"h-8 w-8 text-[#9CA3AF]"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h4",{className:"text-[#111827]",children:a.name}),(0,l.jsxs)("p",{className:"text-[14px] text-[#6B7280]",children:["RM",a.price,"/day"]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(a2,{variant:"outline",size:"sm",onClick:()=>r(a.id,a.quantity-1),children:"-"}),(0,l.jsx)("span",{className:"w-8 text-center",children:a.quantity}),(0,l.jsx)(a2,{variant:"outline",size:"sm",onClick:()=>r(a.id,a.quantity+1),children:"+"})]}),(0,l.jsxs)("p",{className:"text-[#111827] w-24 text-right",children:["RM",a.price*a.quantity]}),(0,l.jsx)(a2,{variant:"ghost",size:"sm",onClick:()=>q(a.id),children:(0,l.jsx)("span",{className:"text-[#DC2626]",children:""})})]},a.id)),(0,l.jsxs)("div",{className:"border-t pt-4",children:[(0,l.jsxs)("div",{className:"flex justify-between text-[18px] mb-4",children:[(0,l.jsx)("span",{className:"text-[#111827]",children:"Total"}),(0,l.jsxs)("span",{className:"text-[#111827]",children:["RM",s,"/day"]})]}),(0,l.jsx)(a2,{className:"w-full bg-[#1E40AF] hover:bg-[#1E3A8A]",onClick:()=>{k(!1),o(!0)},children:"Proceed to Checkout"})]})]})})]})]})]}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsxs)("div",{className:"relative flex-1",children:[(0,l.jsx)(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[#6B7280]"}),(0,l.jsx)(a3,{placeholder:"Search scaffolding equipment...",className:"pl-10 h-10 bg-white border-[#D1D5DB] rounded-md",value:d,onChange:a=>e(a.target.value)})]}),(0,l.jsxs)(iE,{value:f,onValueChange:g,children:[(0,l.jsx)(iG,{className:"w-[180px] h-10 bg-white border-[#D1D5DB] rounded-md",children:(0,l.jsx)(iF,{placeholder:"Category"})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"all",children:"All Categories"}),(0,l.jsx)(iI,{value:"Frames",children:"Frames"}),(0,l.jsx)(iI,{value:"Platforms",children:"Platforms"}),(0,l.jsx)(iI,{value:"Safety",children:"Safety"}),(0,l.jsx)(iI,{value:"Accessories",children:"Accessories"})]})]})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:p.map(a=>(0,l.jsx)(hw,{className:"border-[#E5E7EB] hover:shadow-lg transition-shadow",children:(0,l.jsxs)(hA,{className:"p-0",children:[(0,l.jsxs)("div",{className:"aspect-square bg-[#F3F4F6] rounded-t-lg flex items-center justify-center relative",children:[(0,l.jsx)(F,{className:"h-20 w-20 text-[#9CA3AF]"}),(0,l.jsx)("button",{className:"absolute top-3 right-3 p-2 bg-white rounded-full hover:bg-[#F3F4F6]",children:(0,l.jsx)(mL,{className:"h-4 w-4 text-[#6B7280]"})})]}),(0,l.jsxs)("div",{className:"p-4 space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-[#111827] mb-1",children:a.name}),(0,l.jsx)(jk,{variant:"secondary",className:"bg-[#F3F4F6] text-[#374151]",children:a.category})]}),(0,l.jsxs)("div",{className:"flex items-center gap-1 text-[14px]",children:[(0,l.jsx)(mM,{className:"h-4 w-4 fill-[#F59E0B] text-[#F59E0B]"}),(0,l.jsx)("span",{className:"text-[#111827]",children:a.rating}),(0,l.jsxs)("span",{className:"text-[#6B7280]",children:["(",a.reviews," reviews)"]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-[20px] text-[#111827]",children:["RM",a.price]}),(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"per day"})]}),a.available?(0,l.jsx)(jk,{className:"bg-[#059669] hover:bg-[#047857]",children:"Available"}):(0,l.jsx)(jk,{className:"bg-[#DC2626] hover:bg-[#B91C1C]",children:"Out of Stock"})]}),(0,l.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,l.jsx)(a2,{variant:"outline",className:"flex-1",onClick:()=>i(a),children:"View Details"}),(0,l.jsxs)(a2,{className:"flex-1 bg-[#1E40AF] hover:bg-[#1E3A8A]",disabled:!a.available,onClick:()=>{b.find(b=>b.id===a.id)?c(b.map(b=>b.id===a.id?{...b,quantity:b.quantity+1}:b)):c([...b,{...a,quantity:1}]),gG.success("Added to cart!")},children:[(0,l.jsx)(G,{className:"mr-1 h-4 w-4"}),"Add"]})]})]})]})},a.id))}),(0,l.jsx)(jl,{open:n,onOpenChange:o,children:(0,l.jsxs)(jp,{className:"max-w-[600px]",children:[(0,l.jsxs)(jq,{children:[(0,l.jsx)(js,{children:"Checkout"}),(0,l.jsx)(jt,{children:"Complete your order"})]}),(0,l.jsxs)("form",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"rentalPeriod",children:"Rental Period (Days)"}),(0,l.jsx)(a3,{id:"rentalPeriod",type:"number",defaultValue:"30",className:"h-10"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"deliveryAddress",children:"Delivery Address"}),(0,l.jsx)(jE,{id:"deliveryAddress",placeholder:"Enter delivery address",className:"min-h-[80px]"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"projectDetails",children:"Project Details"}),(0,l.jsx)(jE,{id:"projectDetails",placeholder:"Describe your project...",className:"min-h-[80px]"})]}),(0,l.jsx)(hw,{className:"border-[#E5E7EB] bg-[#F9FAFB]",children:(0,l.jsxs)(hA,{className:"pt-4 space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between text-[14px]",children:[(0,l.jsx)("span",{className:"text-[#6B7280]",children:"Subtotal (30 days)"}),(0,l.jsxs)("span",{className:"text-[#111827]",children:["RM",30*s]})]}),(0,l.jsxs)("div",{className:"flex justify-between text-[14px]",children:[(0,l.jsx)("span",{className:"text-[#6B7280]",children:"Delivery"}),(0,l.jsx)("span",{className:"text-[#111827]",children:"RM150"})]}),(0,l.jsxs)("div",{className:"flex justify-between text-[14px]",children:[(0,l.jsx)("span",{className:"text-[#6B7280]",children:"Deposit (50%)"}),(0,l.jsxs)("span",{className:"text-[#111827]",children:["RM",(30*s+150)*.5]})]}),(0,l.jsxs)("div",{className:"border-t border-[#E5E7EB] pt-2 flex justify-between",children:[(0,l.jsx)("span",{className:"text-[#111827]",children:"Total Due"}),(0,l.jsxs)("span",{className:"text-[#111827]",children:["RM",(30*s+150)*.5]})]})]})}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)(a2,{type:"button",variant:"outline",className:"flex-1",onClick:()=>o(!1),children:"Cancel"}),(0,l.jsx)(a2,{type:"button",className:"flex-1 bg-[#1E40AF] hover:bg-[#1E3A8A]",onClick:()=>{gG.success("Order placed successfully!"),c([]),o(!1)},children:"Place Order"})]})]})]})})]})}let mP=s("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),mQ=s("file-check",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),mR=s("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),mS=s("megaphone",[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]]),mT=s("map-pinned",[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]]),mU=s("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);var mV="Tabs",[mW,mX]=a4(mV,[dr]),mY=dr(),[mZ,m$]=mW(mV),m_=m.forwardRef((a,b)=>{let{__scopeTabs:c,value:d,onValueChange:e,defaultValue:f,orientation:g="horizontal",dir:h,activationMode:i="automatic",...j}=a,k=bw(h),[m,n]=bq({prop:d,onChange:e,defaultProp:f??"",caller:mV});return(0,l.jsx)(mZ,{scope:c,baseId:bQ(),value:m,onValueChange:n,orientation:g,dir:k,activationMode:i,children:(0,l.jsx)(a8.div,{dir:k,"data-orientation":g,...j,ref:b})})});m_.displayName=mV;var m0="TabsList",m1=m.forwardRef((a,b)=>{let{__scopeTabs:c,loop:d=!0,...e}=a,f=m$(m0,c),g=mY(c);return(0,l.jsx)(du,{asChild:!0,...g,orientation:f.orientation,dir:f.dir,loop:d,children:(0,l.jsx)(a8.div,{role:"tablist","aria-orientation":f.orientation,...e,ref:b})})});m1.displayName=m0;var m2="TabsTrigger",m3=m.forwardRef((a,b)=>{let{__scopeTabs:c,value:d,disabled:e=!1,...f}=a,g=m$(m2,c),h=mY(c),i=m6(g.baseId,d),j=m7(g.baseId,d),k=d===g.value;return(0,l.jsx)(dx,{asChild:!0,...h,focusable:!e,active:k,children:(0,l.jsx)(a8.button,{type:"button",role:"tab","aria-selected":k,"aria-controls":j,"data-state":k?"active":"inactive","data-disabled":e?"":void 0,disabled:e,id:i,...f,ref:b,onMouseDown:bo(a.onMouseDown,a=>{e||0!==a.button||!1!==a.ctrlKey?a.preventDefault():g.onValueChange(d)}),onKeyDown:bo(a.onKeyDown,a=>{[" ","Enter"].includes(a.key)&&g.onValueChange(d)}),onFocus:bo(a.onFocus,()=>{let a="manual"!==g.activationMode;k||e||!a||g.onValueChange(d)})})})});m3.displayName=m2;var m4="TabsContent",m5=m.forwardRef((a,b)=>{let{__scopeTabs:c,value:d,forceMount:e,children:f,...g}=a,h=m$(m4,c),i=m6(h.baseId,d),j=m7(h.baseId,d),k=d===h.value,n=m.useRef(k);return m.useEffect(()=>{let a=requestAnimationFrame(()=>n.current=!1);return()=>cancelAnimationFrame(a)},[]),(0,l.jsx)(dh,{present:e||k,children:({present:c})=>(0,l.jsx)(a8.div,{"data-state":k?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":i,hidden:!c,id:j,tabIndex:0,...g,ref:b,style:{...a.style,animationDuration:n.current?"0s":void 0},children:c&&f})})});function m6(a,b){return`${a}-trigger-${b}`}function m7(a,b){return`${a}-content-${b}`}function m8({className:a,...b}){return(0,l.jsx)(m_,{"data-slot":"tabs",className:a0("flex flex-col gap-2",a),...b})}function m9({className:a,...b}){return(0,l.jsx)(m1,{"data-slot":"tabs-list",className:a0("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",a),...b})}function na({className:a,...b}){return(0,l.jsx)(m3,{"data-slot":"tabs-trigger",className:a0("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...b})}function nb({className:a,...b}){return(0,l.jsx)(m5,{"data-slot":"tabs-content",className:a0("flex-1 outline-none",a),...b})}m5.displayName=m4;var nc="Switch",[nd,ne]=a4(nc),[nf,ng]=nd(nc),nh=m.forwardRef((a,b)=>{let{__scopeSwitch:c,name:d,checked:e,defaultChecked:f,required:g,disabled:h,value:i="on",onCheckedChange:j,form:k,...n}=a,[o,p]=m.useState(null),q=V(b,a=>p(a)),r=m.useRef(!1),s=!o||k||!!o.closest("form"),[t,u]=bq({prop:e,defaultProp:f??!1,onChange:j,caller:nc});return(0,l.jsxs)(nf,{scope:c,checked:t,disabled:h,children:[(0,l.jsx)(a8.button,{type:"button",role:"switch","aria-checked":t,"aria-required":g,"data-state":nl(t),"data-disabled":h?"":void 0,disabled:h,value:i,...n,ref:q,onClick:bo(a.onClick,a=>{u(a=>!a),s&&(r.current=a.isPropagationStopped(),r.current||a.stopPropagation())})}),s&&(0,l.jsx)(nk,{control:o,bubbles:!r.current,name:d,value:i,checked:t,required:g,disabled:h,form:k,style:{transform:"translateX(-100%)"}})]})});nh.displayName=nc;var ni="SwitchThumb",nj=m.forwardRef((a,b)=>{let{__scopeSwitch:c,...d}=a,e=ng(ni,c);return(0,l.jsx)(a8.span,{"data-state":nl(e.checked),"data-disabled":e.disabled?"":void 0,...d,ref:b})});nj.displayName=ni;var nk=m.forwardRef(({__scopeSwitch:a,control:b,checked:c,bubbles:d=!0,...e},f)=>{let g=m.useRef(null),h=V(g,f),i=gU(c),j=cZ(b);return m.useEffect(()=>{let a=g.current;if(!a)return;let b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(i!==c&&b){let e=new Event("click",{bubbles:d});b.call(a,c),a.dispatchEvent(e)}},[i,c,d]),(0,l.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:c,...e,tabIndex:-1,ref:h,style:{...e.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function nl(a){return a?"checked":"unchecked"}function nm({className:a,...b}){return(0,l.jsx)(nh,{"data-slot":"switch",className:a0("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...b,children:(0,l.jsx)(nj,{"data-slot":"switch-thumb",className:a0("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}nk.displayName="SwitchBubbleInput";let nn=[{id:"about",label:"About Us",icon:v,description:"Company information and history"},{id:"faq",label:"FAQs",icon:mP,description:"Frequently asked questions"},{id:"terms",label:"Terms & Conditions",icon:mQ,description:"Legal terms and policies"},{id:"delivery-zones",label:"Delivery Zones & Pricing",icon:mR,description:"Service areas and delivery costs"},{id:"banners",label:"Promotional Banners",icon:j$,description:"Marketing and promotional content"},{id:"safety",label:"Safety Guidelines",icon:hf,description:"Safety protocols and guidelines"},{id:"announcements",label:"Announcements",icon:mS,description:"Company news and updates"},{id:"permits",label:"Permits",icon:M,description:"Required permits and documentation"},{id:"site-access",label:"Site Access Instructions",icon:mT,description:"Access procedures and requirements"},{id:"blogs",label:"Blogs",icon:mU,description:"Industry insights and articles"}],no=[{id:"1",type:"about",title:"About Our Company",content:"We are a leading provider of scaffolding solutions with over 20 years of experience in the construction industry. Our commitment to safety and quality has made us the trusted choice for contractors across the region.",status:"published",lastUpdated:"2025-11-10",updatedBy:"Admin User"},{id:"2",type:"faq",title:"What is your delivery time?",content:"Typically 24-48 hours for standard orders",status:"published",lastUpdated:"2025-11-08",updatedBy:"Support Team",metadata:{question:"What is your delivery time?",answer:"Typically 24-48 hours for standard orders in covered zones."}},{id:"3",type:"delivery-zones",title:"Zone A - City Center",content:"Downtown and surrounding areas",status:"published",lastUpdated:"2025-11-05",updatedBy:"Operations Team",metadata:{zone:"Zone A",price:"$150"}},{id:"4",type:"banners",title:"Winter Promotion 2025",content:"Get 20% off on all scaffolding rentals this winter season!",status:"published",lastUpdated:"2025-11-12",updatedBy:"Marketing Team",metadata:{priority:1,imageUrl:"https://images.unsplash.com/photo-1541888946425-d81bb19240f5"}},{id:"5",type:"safety",title:"Scaffolding Safety Guidelines",content:"Always ensure proper anchoring and load distribution. Never exceed weight limits. Use personal protective equipment at all times.",status:"published",lastUpdated:"2025-11-01",updatedBy:"Safety Officer"},{id:"6",type:"announcements",title:"Holiday Schedule",content:"Our offices will be closed on December 25-26. Emergency services available 24/7.",status:"draft",lastUpdated:"2025-11-11",updatedBy:"Admin User"},{id:"7",type:"blogs",title:"Best Practices for Scaffolding Installation",content:"In this article, we explore the essential steps and considerations for safe and efficient scaffolding installation on construction sites...",status:"published",lastUpdated:"2025-11-09",updatedBy:"Content Team"}];function np(){let[a,b]=(0,m.useState)("about"),[c,d]=(0,m.useState)(no),[e,f]=(0,m.useState)(!1),[g,h]=(0,m.useState)(!1),[i,j]=(0,m.useState)(null),[k,n]=(0,m.useState)(!1),[o,p]=(0,m.useState)(""),[q,r]=(0,m.useState)(""),[s,t]=(0,m.useState)("draft"),[u,v]=(0,m.useState)({}),w=c.filter(b=>b.type===a),x=()=>{n(!0),j(null),p(""),r(""),t("draft"),v({}),f(!0)},y=a=>{n(!1),j(a),p(a.title),r(a.content),t(a.status),v(a.metadata||{}),f(!0)},z=()=>nn.find(b=>b.id===a);return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-[#111827] mb-2",children:"Content Management"}),(0,l.jsx)("p",{className:"text-[#6B7280]",children:"Create, update, and manage company-related content for the customer portal"})]}),(0,l.jsxs)(hw,{children:[(0,l.jsxs)(hx,{children:[(0,l.jsx)(hy,{children:"Content Categories"}),(0,l.jsx)(hz,{children:"Select a category to view and manage its content"})]}),(0,l.jsx)(hA,{children:(0,l.jsxs)(m8,{value:a,onValueChange:a=>b(a),children:[(0,l.jsx)(m9,{className:"grid w-full grid-cols-2 md:grid-cols-5 gap-2 h-auto p-2",children:nn.map(a=>{let b=a.icon,d=c.filter(b=>b.type===a.id).length;return(0,l.jsxs)(na,{value:a.id,className:"flex flex-col items-center gap-1 p-3 h-auto data-[state=active]:bg-[#1E40AF] data-[state=active]:text-white",children:[(0,l.jsx)(b,{className:"h-5 w-5"}),(0,l.jsx)("span",{className:"text-xs text-center",children:a.label}),(0,l.jsx)(jk,{variant:"secondary",className:"text-[10px] px-1.5 py-0.5 min-w-[20px]",children:d})]},a.id)})}),nn.map(a=>(0,l.jsxs)(nb,{value:a.id,className:"mt-6 space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-[#111827] mb-1",children:a.label}),(0,l.jsx)("p",{className:"text-[#6B7280] text-sm",children:a.description})]}),(0,l.jsxs)(a2,{onClick:x,className:"bg-[#1E40AF] hover:bg-[#1E3A8A] text-white",children:[(0,l.jsx)(jI,{className:"h-4 w-4 mr-2"}),"Create New"]})]}),0===w.length?(0,l.jsx)(hw,{className:"border-dashed",children:(0,l.jsxs)(hA,{className:"flex flex-col items-center justify-center py-12",children:[(0,l.jsx)(a.icon,{className:"h-12 w-12 text-[#9CA3AF] mb-4"}),(0,l.jsx)("p",{className:"text-[#6B7280] mb-4",children:"No content available for this category"}),(0,l.jsxs)(a2,{onClick:x,variant:"outline",className:"border-[#1E40AF] text-[#1E40AF]",children:[(0,l.jsx)(jI,{className:"h-4 w-4 mr-2"}),"Create First Item"]})]})}):(0,l.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,l.jsxs)(ju,{children:[(0,l.jsx)(jv,{children:(0,l.jsxs)(jx,{className:"bg-[#F9FAFB]",children:[(0,l.jsx)(jy,{children:"Title"}),(0,l.jsx)(jy,{children:"Status"}),(0,l.jsx)(jy,{children:"Last Updated"}),(0,l.jsx)(jy,{children:"Updated By"}),(0,l.jsx)(jy,{className:"text-right",children:"Actions"})]})}),(0,l.jsx)(jw,{children:w.map(a=>(0,l.jsxs)(jx,{children:[(0,l.jsx)(jz,{children:(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-[#111827]",children:a.title}),(0,l.jsx)("p",{className:"text-sm text-[#6B7280] line-clamp-1",children:a.content})]})}),(0,l.jsx)(jz,{children:(0,l.jsx)(jk,{variant:"published"===a.status?"default":"secondary",className:"published"===a.status?"bg-[#059669] hover:bg-[#047857]":"",children:a.status})}),(0,l.jsx)(jz,{className:"text-[#6B7280]",children:new Date(a.lastUpdated).toLocaleDateString()}),(0,l.jsx)(jz,{className:"text-[#6B7280]",children:a.updatedBy}),(0,l.jsx)(jz,{children:(0,l.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,l.jsx)(a2,{variant:"ghost",size:"icon",onClick:()=>{j(a),h(!0)},className:"h-8 w-8",children:(0,l.jsx)(gN,{className:"h-4 w-4 text-[#6B7280]"})}),(0,l.jsx)(a2,{variant:"ghost",size:"icon",onClick:()=>y(a),className:"h-8 w-8",children:(0,l.jsx)(ji,{className:"h-4 w-4 text-[#1E40AF]"})}),(0,l.jsx)(a2,{variant:"ghost",size:"icon",onClick:()=>{var b;return b=a.id,void(d(c.filter(a=>a.id!==b)),gG.success("Content deleted successfully"))},className:"h-8 w-8",children:(0,l.jsx)(jV,{className:"h-4 w-4 text-[#DC2626]"})})]})})]},a.id))})]})})]},a.id))]})})]}),(0,l.jsx)(jl,{open:e,onOpenChange:f,children:(0,l.jsxs)(jp,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)(jq,{children:[(0,l.jsxs)(js,{children:[k?"Create New":"Edit"," ",z()?.label]}),(0,l.jsxs)(jt,{children:[k?"Add new content to":"Update content for"," ",z()?.label.toLowerCase()]})]}),(0,l.jsxs)("div",{className:"space-y-4 py-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"title",children:["Title ",(0,l.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,l.jsx)(a3,{id:"title",value:o,onChange:a=>p(a.target.value),placeholder:"Enter content title"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"content",children:["Content ",(0,l.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,l.jsx)(jE,{id:"content",value:q,onChange:a=>r(a.target.value),placeholder:"Enter content details",rows:8,className:"resize-none"})]}),(()=>{switch(a){case"faq":return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"question",children:"Question"}),(0,l.jsx)(a3,{id:"question",value:u.question||"",onChange:a=>v({...u,question:a.target.value}),placeholder:"Enter the question"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"answer",children:"Answer"}),(0,l.jsx)(jE,{id:"answer",value:u.answer||"",onChange:a=>v({...u,answer:a.target.value}),placeholder:"Enter the answer",rows:4})]})]});case"delivery-zones":return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"zone",children:"Zone Name"}),(0,l.jsx)(a3,{id:"zone",value:u.zone||"",onChange:a=>v({...u,zone:a.target.value}),placeholder:"e.g., Zone A"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"price",children:"Delivery Price"}),(0,l.jsx)(a3,{id:"price",value:u.price||"",onChange:a=>v({...u,price:a.target.value}),placeholder:"e.g., $150"})]})]});case"banners":return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"imageUrl",children:"Banner Image URL"}),(0,l.jsx)(a3,{id:"imageUrl",value:u.imageUrl||"",onChange:a=>v({...u,imageUrl:a.target.value}),placeholder:"Enter image URL"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"priority",children:"Priority (1-10)"}),(0,l.jsx)(a3,{id:"priority",type:"number",min:"1",max:"10",value:u.priority||"",onChange:a=>v({...u,priority:parseInt(a.target.value)}),placeholder:"1"})]})]});default:return null}})(),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"status",children:"Status"}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(nm,{id:"status",checked:"published"===s,onCheckedChange:a=>t(a?"published":"draft")}),(0,l.jsx)(gR,{htmlFor:"status",className:"cursor-pointer",children:"published"===s?"Published":"Draft"})]}),(0,l.jsx)("p",{className:"text-sm text-[#6B7280]",children:"published"===s?"Visible to customers":"Hidden from customers"})]})]})]}),(0,l.jsxs)(jr,{children:[(0,l.jsxs)(a2,{variant:"outline",onClick:()=>f(!1),className:"border-[#E5E7EB]",children:[(0,l.jsx)(D,{className:"h-4 w-4 mr-2"}),"Cancel"]}),(0,l.jsxs)(a2,{onClick:()=>{o&&q?(k?(d([...c,{id:Date.now().toString(),type:a,title:o,content:q,status:s,lastUpdated:new Date().toISOString().split("T")[0],updatedBy:"Current User",metadata:u}]),gG.success("Content created successfully")):i&&(d(c.map(a=>a.id===i.id?{...a,title:o,content:q,status:s,lastUpdated:new Date().toISOString().split("T")[0],metadata:u}:a)),gG.success("Content updated successfully")),f(!1)):gG.error("Please fill in all required fields")},className:"bg-[#1E40AF] hover:bg-[#1E3A8A] text-white",children:[(0,l.jsx)(jY,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})}),(0,l.jsx)(jl,{open:g,onOpenChange:h,children:(0,l.jsxs)(jp,{className:"max-w-2xl",children:[(0,l.jsxs)(jq,{children:[(0,l.jsx)(js,{children:i?.title}),(0,l.jsx)(jt,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,l.jsx)(jk,{variant:i?.status==="published"?"default":"secondary",className:i?.status==="published"?"bg-[#059669] hover:bg-[#047857]":"",children:i?.status}),(0,l.jsx)("span",{className:"text-[#6B7280]",children:""}),(0,l.jsxs)("span",{children:["Updated on"," ",i?.lastUpdated&&new Date(i.lastUpdated).toLocaleDateString()]}),(0,l.jsx)("span",{className:"text-[#6B7280]",children:""}),(0,l.jsxs)("span",{children:["by ",i?.updatedBy]})]})})]}),(0,l.jsxs)("div",{className:"py-4 space-y-4",children:[i?.type==="banners"&&i.metadata?.imageUrl&&(0,l.jsx)("div",{className:"rounded-lg overflow-hidden border",children:(0,l.jsx)("img",{src:i.metadata.imageUrl,alt:i.title,className:"w-full h-48 object-cover"})}),i?.type==="faq"&&i.metadata&&(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Question"}),(0,l.jsx)("p",{className:"text-[#111827] mt-1",children:i.metadata.question})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Answer"}),(0,l.jsx)("p",{className:"text-[#111827] mt-1",children:i.metadata.answer})]})]}),i?.type==="delivery-zones"&&i.metadata&&(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Zone"}),(0,l.jsx)("p",{className:"text-[#111827] mt-1",children:i.metadata.zone})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Price"}),(0,l.jsx)("p",{className:"text-[#111827] mt-1",children:i.metadata.price})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Content"}),(0,l.jsx)("div",{className:"mt-2 p-4 bg-[#F9FAFB] rounded-lg border",children:(0,l.jsx)("p",{className:"text-[#111827] whitespace-pre-wrap",children:i?.content})})]})]}),(0,l.jsxs)(jr,{children:[(0,l.jsx)(a2,{variant:"outline",onClick:()=>h(!1),className:"border-[#E5E7EB]",children:"Close"}),(0,l.jsxs)(a2,{onClick:()=>{h(!1),i&&y(i)},className:"bg-[#1E40AF] hover:bg-[#1E3A8A] text-white",children:[(0,l.jsx)(ji,{className:"h-4 w-4 mr-2"}),"Edit Content"]})]})]})})]})}var nq="Collapsible",[nr,ns]=a4(nq),[nt,nu]=nr(nq),nv=m.forwardRef((a,b)=>{let{__scopeCollapsible:c,open:d,defaultOpen:e,disabled:f,onOpenChange:g,...h}=a,[i,j]=bq({prop:d,defaultProp:e??!1,onChange:g,caller:nq});return(0,l.jsx)(nt,{scope:c,disabled:f,contentId:bQ(),open:i,onOpenToggle:m.useCallback(()=>j(a=>!a),[j]),children:(0,l.jsx)(a8.div,{"data-state":nB(i),"data-disabled":f?"":void 0,...h,ref:b})})});nv.displayName=nq;var nw="CollapsibleTrigger",nx=m.forwardRef((a,b)=>{let{__scopeCollapsible:c,...d}=a,e=nu(nw,c);return(0,l.jsx)(a8.button,{type:"button","aria-controls":e.contentId,"aria-expanded":e.open||!1,"data-state":nB(e.open),"data-disabled":e.disabled?"":void 0,disabled:e.disabled,...d,ref:b,onClick:bo(a.onClick,e.onOpenToggle)})});nx.displayName=nw;var ny="CollapsibleContent",nz=m.forwardRef((a,b)=>{let{forceMount:c,...d}=a,e=nu(ny,a.__scopeCollapsible);return(0,l.jsx)(dh,{present:c||e.open,children:({present:a})=>(0,l.jsx)(nA,{...d,ref:b,present:a})})});nz.displayName=ny;var nA=m.forwardRef((a,b)=>{let{__scopeCollapsible:c,present:d,children:e,...f}=a,g=nu(ny,c),[h,i]=m.useState(d),j=m.useRef(null),k=V(b,j),n=m.useRef(0),o=n.current,p=m.useRef(0),q=p.current,r=g.open||h,s=m.useRef(r),t=m.useRef(void 0);return m.useEffect(()=>{let a=requestAnimationFrame(()=>s.current=!1);return()=>cancelAnimationFrame(a)},[]),a6(()=>{let a=j.current;if(a){t.current=t.current||{transitionDuration:a.style.transitionDuration,animationName:a.style.animationName},a.style.transitionDuration="0s",a.style.animationName="none";let b=a.getBoundingClientRect();n.current=b.height,p.current=b.width,s.current||(a.style.transitionDuration=t.current.transitionDuration,a.style.animationName=t.current.animationName),i(d)}},[g.open,d]),(0,l.jsx)(a8.div,{"data-state":nB(g.open),"data-disabled":g.disabled?"":void 0,id:g.contentId,hidden:!r,...f,ref:k,style:{"--radix-collapsible-content-height":o?`${o}px`:void 0,"--radix-collapsible-content-width":q?`${q}px`:void 0,...a.style},children:r&&e})});function nB(a){return a?"open":"closed"}var nC="Accordion",nD=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[nE,nF,nG]=br(nC),[nH,nI]=a4(nC,[nG,ns]),nJ=ns(),nK=m.default.forwardRef((a,b)=>{let{type:c,...d}=a;return(0,l.jsx)(nE.Provider,{scope:a.__scopeAccordion,children:"multiple"===c?(0,l.jsx)(nQ,{...d,ref:b}):(0,l.jsx)(nP,{...d,ref:b})})});nK.displayName=nC;var[nL,nM]=nH(nC),[nN,nO]=nH(nC,{collapsible:!1}),nP=m.default.forwardRef((a,b)=>{let{value:c,defaultValue:d,onValueChange:e=()=>{},collapsible:f=!1,...g}=a,[h,i]=bq({prop:c,defaultProp:d??"",onChange:e,caller:nC});return(0,l.jsx)(nL,{scope:a.__scopeAccordion,value:m.default.useMemo(()=>h?[h]:[],[h]),onItemOpen:i,onItemClose:m.default.useCallback(()=>f&&i(""),[f,i]),children:(0,l.jsx)(nN,{scope:a.__scopeAccordion,collapsible:f,children:(0,l.jsx)(nT,{...g,ref:b})})})}),nQ=m.default.forwardRef((a,b)=>{let{value:c,defaultValue:d,onValueChange:e=()=>{},...f}=a,[g,h]=bq({prop:c,defaultProp:d??[],onChange:e,caller:nC}),i=m.default.useCallback(a=>h((b=[])=>[...b,a]),[h]),j=m.default.useCallback(a=>h((b=[])=>b.filter(b=>b!==a)),[h]);return(0,l.jsx)(nL,{scope:a.__scopeAccordion,value:g,onItemOpen:i,onItemClose:j,children:(0,l.jsx)(nN,{scope:a.__scopeAccordion,collapsible:!0,children:(0,l.jsx)(nT,{...f,ref:b})})})}),[nR,nS]=nH(nC),nT=m.default.forwardRef((a,b)=>{let{__scopeAccordion:c,disabled:d,dir:e,orientation:f="vertical",...g}=a,h=V(m.default.useRef(null),b),i=nF(c),j="ltr"===bw(e),k=bo(a.onKeyDown,a=>{if(!nD.includes(a.key))return;let b=a.target,c=i().filter(a=>!a.ref.current?.disabled),d=c.findIndex(a=>a.ref.current===b),e=c.length;if(-1===d)return;a.preventDefault();let g=d,h=e-1,k=()=>{(g=d+1)>h&&(g=0)},l=()=>{(g=d-1)<0&&(g=h)};switch(a.key){case"Home":g=0;break;case"End":g=h;break;case"ArrowRight":"horizontal"===f&&(j?k():l());break;case"ArrowDown":"vertical"===f&&k();break;case"ArrowLeft":"horizontal"===f&&(j?l():k());break;case"ArrowUp":"vertical"===f&&l()}let m=g%e;c[m].ref.current?.focus()});return(0,l.jsx)(nR,{scope:c,disabled:d,direction:e,orientation:f,children:(0,l.jsx)(nE.Slot,{scope:c,children:(0,l.jsx)(a8.div,{...g,"data-orientation":f,ref:h,onKeyDown:d?void 0:k})})})}),nU="AccordionItem",[nV,nW]=nH(nU),nX=m.default.forwardRef((a,b)=>{let{__scopeAccordion:c,value:d,...e}=a,f=nS(nU,c),g=nM(nU,c),h=nJ(c),i=bQ(),j=d&&g.value.includes(d)||!1,k=f.disabled||a.disabled;return(0,l.jsx)(nV,{scope:c,open:j,disabled:k,triggerId:i,children:(0,l.jsx)(nv,{"data-orientation":f.orientation,"data-state":n2(j),...h,...e,ref:b,disabled:k,open:j,onOpenChange:a=>{a?g.onItemOpen(d):g.onItemClose(d)}})})});nX.displayName=nU;var nY="AccordionHeader",nZ=m.default.forwardRef((a,b)=>{let{__scopeAccordion:c,...d}=a,e=nS(nC,c),f=nW(nY,c);return(0,l.jsx)(a8.h3,{"data-orientation":e.orientation,"data-state":n2(f.open),"data-disabled":f.disabled?"":void 0,...d,ref:b})});nZ.displayName=nY;var n$="AccordionTrigger",n_=m.default.forwardRef((a,b)=>{let{__scopeAccordion:c,...d}=a,e=nS(nC,c),f=nW(n$,c),g=nO(n$,c),h=nJ(c);return(0,l.jsx)(nE.ItemSlot,{scope:c,children:(0,l.jsx)(nx,{"aria-disabled":f.open&&!g.collapsible||void 0,"data-orientation":e.orientation,id:f.triggerId,...h,...d,ref:b})})});n_.displayName=n$;var n0="AccordionContent",n1=m.default.forwardRef((a,b)=>{let{__scopeAccordion:c,...d}=a,e=nS(nC,c),f=nW(n0,c),g=nJ(c);return(0,l.jsx)(nz,{role:"region","aria-labelledby":f.triggerId,"data-orientation":e.orientation,...g,...d,ref:b,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...a.style}})});function n2(a){return a?"open":"closed"}function n3({...a}){return(0,l.jsx)(nK,{"data-slot":"accordion",...a})}function n4({className:a,...b}){return(0,l.jsx)(nX,{"data-slot":"accordion-item",className:a0("border-b last:border-b-0",a),...b})}function n5({className:a,children:b,...c}){return(0,l.jsx)(nZ,{className:"flex",children:(0,l.jsxs)(n_,{"data-slot":"accordion-trigger",className:a0("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",a),...c,children:[b,(0,l.jsx)(E,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function n6({className:a,children:b,...c}){return(0,l.jsx)(n1,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...c,children:(0,l.jsx)("div",{className:a0("pt-0 pb-4",a),children:b})})}n1.displayName=n0;let n7=[{id:"1",type:"about",title:"About Our Company",content:"We are a leading provider of scaffolding solutions with over 20 years of experience in the construction industry. Our commitment to safety and quality has made us the trusted choice for contractors across the region.\n\nOur Mission:\nTo provide reliable, safe, and cost-effective scaffolding solutions that enable our clients to complete their projects efficiently and safely.\n\nOur Values:\n Safety First - We never compromise on safety standards\n Quality Service - Excellence in every interaction\n Innovation - Constantly improving our offerings\n Reliability - You can count on us, every time",status:"published",lastUpdated:"2025-11-10"},{id:"2",type:"faq",title:"Delivery Time",content:"",status:"published",lastUpdated:"2025-11-08",metadata:{question:"What is your typical delivery time?",answer:"Typically 24-48 hours for standard orders in covered zones. Rush delivery available upon request."}},{id:"3",type:"faq",title:"Rental Period",content:"",status:"published",lastUpdated:"2025-11-08",metadata:{question:"What is the minimum rental period?",answer:"Our minimum rental period is one month. Monthly billing cycles apply with prorated calculations for partial months."}},{id:"4",type:"faq",title:"Safety Certification",content:"",status:"published",lastUpdated:"2025-11-08",metadata:{question:"Are your scaffolding materials safety certified?",answer:"Yes, all our scaffolding equipment meets international safety standards and undergoes regular inspections."}},{id:"5",type:"delivery-zones",title:"Zone A - City Center",content:"Downtown and surrounding areas including Central Business District",status:"published",lastUpdated:"2025-11-05",metadata:{zone:"Zone A",price:"$150"}},{id:"6",type:"delivery-zones",title:"Zone B - Suburbs",content:"Suburban areas within 25km radius",status:"published",lastUpdated:"2025-11-05",metadata:{zone:"Zone B",price:"$200"}},{id:"7",type:"delivery-zones",title:"Zone C - Extended Areas",content:"Areas 25-50km from city center",status:"published",lastUpdated:"2025-11-05",metadata:{zone:"Zone C",price:"$300"}},{id:"8",type:"banners",title:"Winter Promotion 2025",content:"Get 20% off on all scaffolding rentals this winter season!",status:"published",lastUpdated:"2025-11-12",metadata:{priority:1,imageUrl:"https://images.unsplash.com/photo-1541888946425-d81bb19240f5"}},{id:"9",type:"safety",title:"General Safety Guidelines",content:"1. Inspection Before Use\n Visually inspect all scaffolding components before assembly\n Check for damage, rust, or wear\n Report any defects immediately\n\n2. Proper Assembly\n Follow manufacturer's assembly instructions\n Ensure all connections are secure\n Use base plates on solid, level ground\n Install guardrails at all open sides\n\n3. Load Distribution\n Never exceed maximum load capacity\n Distribute weight evenly across platform\n Account for workers, tools, and materials\n\n4. Personal Protective Equipment\n Hard hats are mandatory\n Non-slip footwear required\n Use fall protection when working at height\n Safety harnesses for heights above 6 feet",status:"published",lastUpdated:"2025-11-01"},{id:"10",type:"safety",title:"Weather Precautions",content:"Do not use scaffolding during:\n High winds (over 25 mph)\n Heavy rain or storms\n Icy conditions\n Poor visibility\n\nSecure all materials and equipment when adverse weather is expected.",status:"published",lastUpdated:"2025-11-01"},{id:"11",type:"announcements",title:"New Service Area Expansion",content:"We're excited to announce that we've expanded our service coverage to include the Northern Industrial Zone! Deliveries to this area are now available with standard pricing.",status:"published",lastUpdated:"2025-11-10"},{id:"12",type:"permits",title:"Street Occupancy Permit",content:"Required when scaffolding extends into public right-of-way.\n\nDocuments needed:\n Site plan showing scaffolding location\n Proof of liability insurance\n Contractor license\n Traffic management plan\n\nProcessing time: 5-7 business days\nFee: Varies by municipality",status:"published",lastUpdated:"2025-10-28"},{id:"13",type:"site-access",title:"Standard Site Access Procedure",content:"1. Delivery Coordination\n Confirm delivery window 24 hours in advance\n Provide site contact name and phone number\n Ensure access route is clear\n\n2. Site Requirements\n Level ground for unloading\n Clear path to installation location\n Adequate space for delivery vehicle\n Access to water and power (if needed)\n\n3. Safety Briefing\n Site-specific hazards review\n PPE requirements\n Emergency procedures\n Site rules and regulations",status:"published",lastUpdated:"2025-10-15"},{id:"14",type:"blogs",title:"Best Practices for Scaffolding Installation",content:"In this comprehensive guide, we explore essential steps for safe and efficient scaffolding installation on construction sites.\n\nPlanning Phase:\nBefore installation begins, conduct a thorough site assessment. Identify potential hazards, overhead obstructions, and underground utilities. Plan the scaffolding layout to optimize workflow and safety.\n\nFoundation Preparation:\nThe foundation is critical for scaffolding stability. Ensure the ground is level, stable, and capable of supporting the anticipated loads. Use base plates and mud sills on soft ground.\n\nAssembly Best Practices:\n Work systematically from one end to the other\n Install components in correct sequence\n Ensure all connections are properly secured\n Add bracing as you build upward\n Install safety features immediately\n\nFinal Inspection:\nBefore use, conduct a comprehensive inspection of the completed scaffolding system. Verify all connections, check plumb and level, and ensure all safety features are in place.",status:"published",lastUpdated:"2025-11-09"},{id:"15",type:"blogs",title:"Understanding Scaffolding Load Capacity",content:"Load capacity is one of the most critical factors in scaffolding safety. Understanding how to calculate and manage loads can prevent accidents and ensure project success.\n\nTypes of Loads:\n1. Dead Load - The weight of the scaffolding itself\n2. Live Load - Workers, tools, and materials\n3. Environmental Load - Wind, snow, ice\n\nLoad Classes:\n Light Duty (25 psf) - Inspection and light work\n Medium Duty (50 psf) - Plastering and painting\n Heavy Duty (75 psf) - Masonry and heavy materials\n\nSafety Tips:\n Never exceed the rated capacity\n Account for dynamic loads (movement)\n Distribute weight evenly\n Remove debris regularly\n Post load capacity signs",status:"published",lastUpdated:"2025-11-07"},{id:"16",type:"terms",title:"Terms and Conditions",content:"SCAFFOLDING RENTAL AGREEMENT\n\n1. RENTAL TERMS\n1.1 Minimum rental period is one (1) month\n1.2 Billing is monthly with prorated calculations for partial months\n1.3 Rental begins upon delivery and ends upon pickup\n\n2. PAYMENT TERMS\n2.1 Deposit required before delivery\n2.2 Monthly rental invoiced at start of each period\n2.3 Payment due within 14 days of invoice date\n2.4 Late payments subject to 1.5% monthly interest\n\n3. CUSTOMER RESPONSIBILITIES\n3.1 Ensure site access for delivery and pickup\n3.2 Provide safe working environment\n3.3 Use equipment in accordance with safety guidelines\n3.4 Maintain equipment in good condition\n3.5 Report damage or issues immediately\n\n4. LIABILITY\n4.1 Customer assumes liability once equipment is delivered\n4.2 Customer responsible for loss, damage, or theft\n4.3 Customer must maintain adequate insurance\n\n5. TERMINATION\n5.1 Either party may terminate with 7 days written notice\n5.2 Early termination may incur fees\n5.3 Equipment must be returned in original condition\n\n6. INDEMNIFICATION\nCustomer agrees to indemnify and hold harmless the Company from any claims arising from equipment use.\n\nBy accepting delivery, customer agrees to these terms and conditions.",status:"published",lastUpdated:"2025-10-01"}];function n8(){let[a,b]=(0,m.useState)(""),[c,d]=(0,m.useState)("info"),e=b=>n7.filter(a=>a.type===b).filter(b=>b.title.toLowerCase().includes(a.toLowerCase())||b.content.toLowerCase().includes(a.toLowerCase())),f=e("banners"),g=e("about"),h=e("faq"),i=e("terms"),j=e("delivery-zones"),k=e("safety"),n=e("announcements"),o=e("permits"),p=e("site-access"),q=e("blogs");return(0,l.jsxs)("div",{className:"space-y-6",children:[f.length>0&&(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:f.map(a=>(0,l.jsxs)(hw,{className:"overflow-hidden border-[#059669]",children:[a.metadata?.imageUrl&&(0,l.jsx)("div",{className:"h-40 overflow-hidden",children:(0,l.jsx)("img",{src:a.metadata.imageUrl,alt:a.title,className:"w-full h-full object-cover"})}),(0,l.jsx)(hx,{className:"bg-gradient-to-r from-[#059669] to-[#047857]",children:(0,l.jsx)(hy,{className:"text-white",children:a.title})}),(0,l.jsx)(hA,{className:"pt-4",children:(0,l.jsx)("p",{className:"text-[#111827]",children:a.content})})]},a.id))}),n.length>0&&(0,l.jsxs)(hw,{className:"border-[#F59E0B]",children:[(0,l.jsx)(hx,{className:"bg-[#FEF3C7] border-b border-[#F59E0B]",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(mS,{className:"h-5 w-5 text-[#F59E0B]"}),(0,l.jsx)(hy,{className:"text-[#92400E]",children:"Latest Announcements"})]})}),(0,l.jsx)(hA,{className:"pt-4 space-y-3",children:n.map(a=>(0,l.jsx)("div",{className:"p-4 bg-[#FFFBEB] rounded-lg border border-[#FDE68A]",children:(0,l.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h4",{className:"text-[#111827] mb-1",children:a.title}),(0,l.jsx)("p",{className:"text-[#6B7280] text-sm",children:a.content})]}),(0,l.jsx)(jk,{variant:"outline",className:"shrink-0",children:new Date(a.lastUpdated).toLocaleDateString()})]})},a.id))})]}),(0,l.jsx)(hw,{children:(0,l.jsxs)(hx,{children:[(0,l.jsx)(hy,{children:"Information Center"}),(0,l.jsx)(hz,{children:"Find information about our services, policies, and guidelines"}),(0,l.jsxs)("div",{className:"relative mt-4",children:[(0,l.jsx)(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[#6B7280]"}),(0,l.jsx)(a3,{placeholder:"Search for information...",value:a,onChange:a=>b(a.target.value),className:"pl-10"})]})]})}),(0,l.jsxs)(m8,{value:c,onValueChange:d,children:[(0,l.jsxs)(m9,{className:"grid w-full grid-cols-2 md:grid-cols-4 lg:grid-cols-8",children:[(0,l.jsxs)(na,{value:"info",children:[(0,l.jsx)(v,{className:"h-4 w-4 mr-2"}),"About"]}),(0,l.jsxs)(na,{value:"faq",children:[(0,l.jsx)(mP,{className:"h-4 w-4 mr-2"}),"FAQs"]}),(0,l.jsxs)(na,{value:"delivery",children:[(0,l.jsx)(mR,{className:"h-4 w-4 mr-2"}),"Delivery"]}),(0,l.jsxs)(na,{value:"safety",children:[(0,l.jsx)(hf,{className:"h-4 w-4 mr-2"}),"Safety"]}),(0,l.jsxs)(na,{value:"permits",children:[(0,l.jsx)(M,{className:"h-4 w-4 mr-2"}),"Permits"]}),(0,l.jsxs)(na,{value:"access",children:[(0,l.jsx)(mT,{className:"h-4 w-4 mr-2"}),"Site Access"]}),(0,l.jsxs)(na,{value:"blogs",children:[(0,l.jsx)(mU,{className:"h-4 w-4 mr-2"}),"Blogs"]}),(0,l.jsxs)(na,{value:"terms",children:[(0,l.jsx)(mQ,{className:"h-4 w-4 mr-2"}),"Terms"]})]}),(0,l.jsx)(nb,{value:"info",className:"space-y-4",children:g.map(a=>(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{children:a.title})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,l.jsx)("p",{className:"whitespace-pre-wrap text-[#374151]",children:a.content})})})]},a.id))}),(0,l.jsx)(nb,{value:"faq",children:(0,l.jsxs)(hw,{children:[(0,l.jsxs)(hx,{children:[(0,l.jsx)(hy,{children:"Frequently Asked Questions"}),(0,l.jsx)(hz,{children:"Find answers to common questions about our scaffolding services"})]}),(0,l.jsx)(hA,{children:(0,l.jsx)(n3,{type:"single",collapsible:!0,className:"w-full",children:h.map((a,b)=>(0,l.jsxs)(n4,{value:`item-${b}`,children:[(0,l.jsx)(n5,{className:"text-left",children:a.metadata?.question||a.title}),(0,l.jsx)(n6,{children:(0,l.jsx)("p",{className:"text-[#6B7280]",children:a.metadata?.answer||a.content})})]},a.id))})})]})}),(0,l.jsx)(nb,{value:"delivery",children:(0,l.jsxs)(hw,{children:[(0,l.jsxs)(hx,{children:[(0,l.jsx)(hy,{children:"Delivery Zones & Pricing"}),(0,l.jsx)(hz,{children:"Our service areas and delivery rates"})]}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:j.map(a=>(0,l.jsxs)(hw,{className:"border-[#1E40AF]",children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)(hy,{className:"text-[#1E40AF]",children:a.metadata?.zone}),(0,l.jsx)(jk,{className:"bg-[#1E40AF] text-white",children:a.metadata?.price})]})}),(0,l.jsx)(hA,{children:(0,l.jsx)("p",{className:"text-[#6B7280] text-sm",children:a.content})})]},a.id))})})]})}),(0,l.jsx)(nb,{value:"safety",className:"space-y-4",children:k.map(a=>(0,l.jsxs)(hw,{className:"border-[#DC2626]",children:[(0,l.jsx)(hx,{className:"bg-[#FEE2E2]",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(hf,{className:"h-5 w-5 text-[#DC2626]"}),(0,l.jsx)(hy,{className:"text-[#991B1B]",children:a.title})]})}),(0,l.jsx)(hA,{className:"pt-4",children:(0,l.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,l.jsx)("p",{className:"whitespace-pre-wrap text-[#374151]",children:a.content})})})]},a.id))}),(0,l.jsx)(nb,{value:"permits",className:"space-y-4",children:o.map(a=>(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(M,{className:"h-5 w-5 text-[#1E40AF]"}),(0,l.jsx)(hy,{children:a.title})]})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,l.jsx)("p",{className:"whitespace-pre-wrap text-[#374151]",children:a.content})})})]},a.id))}),(0,l.jsx)(nb,{value:"access",className:"space-y-4",children:p.map(a=>(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(mT,{className:"h-5 w-5 text-[#059669]"}),(0,l.jsx)(hy,{children:a.title})]})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,l.jsx)("p",{className:"whitespace-pre-wrap text-[#374151]",children:a.content})})})]},a.id))}),(0,l.jsx)(nb,{value:"blogs",className:"space-y-4",children:(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:q.map(a=>(0,l.jsxs)(hw,{className:"hover:shadow-lg transition-shadow",children:[(0,l.jsx)(hx,{children:(0,l.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,l.jsx)(hy,{className:"text-[#111827]",children:a.title}),(0,l.jsx)(jk,{variant:"outline",className:"shrink-0",children:new Date(a.lastUpdated).toLocaleDateString()})]})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsx)("p",{className:"text-[#6B7280] line-clamp-3",children:a.content}),(0,l.jsxs)(a2,{variant:"outline",className:"w-full border-[#1E40AF] text-[#1E40AF] hover:bg-[#1E40AF] hover:text-white",children:["Read More",(0,l.jsx)(fn,{className:"h-4 w-4 ml-2"})]})]})]},a.id))})}),(0,l.jsx)(nb,{value:"terms",children:i.map(a=>(0,l.jsxs)(hw,{children:[(0,l.jsxs)(hx,{children:[(0,l.jsx)(hy,{children:a.title}),(0,l.jsxs)(hz,{children:["Last updated: ",new Date(a.lastUpdated).toLocaleDateString()]})]}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,l.jsx)("p",{className:"whitespace-pre-wrap text-[#374151]",children:a.content})})})]},a.id))})]})]})}let n9=s("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),oa=s("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ob=[{id:"std-frame-1",name:"Standard Frame 1.8m x 1.2m",description:"Heavy-duty steel frame for general construction",unit:"piece",basePrice:85},{id:"std-frame-2",name:"Standard Frame 2.4m x 1.2m",description:"Extended height steel frame",unit:"piece",basePrice:105},{id:"cross-brace",name:"Cross Brace",description:"Diagonal support for frame stability",unit:"piece",basePrice:25},{id:"platform-board",name:"Platform Board 2.4m",description:"Wooden working platform",unit:"piece",basePrice:45},{id:"platform-board-1.8",name:"Platform Board 1.8m",description:"Shorter wooden working platform",unit:"piece",basePrice:35},{id:"base-jack",name:"Base Jack",description:"Adjustable base support",unit:"piece",basePrice:55},{id:"u-head-jack",name:"U-Head Jack",description:"Top support for beams",unit:"piece",basePrice:65},{id:"coupler-right",name:"Right Angle Coupler",description:"Heavy-duty connection coupler",unit:"piece",basePrice:12},{id:"coupler-swivel",name:"Swivel Coupler",description:"Rotating connection coupler",unit:"piece",basePrice:15},{id:"toe-board",name:"Toe Board 2.4m",description:"Safety edge protection",unit:"piece",basePrice:20},{id:"ladder-access",name:"Ladder Access Frame",description:"Built-in ladder for vertical access",unit:"piece",basePrice:95},{id:"stair-tower",name:"Stair Tower Section",description:"Modular stairway access",unit:"set",basePrice:450},{id:"guardrail-post",name:"Guardrail Post",description:"Safety railing support",unit:"piece",basePrice:30},{id:"guardrail-bar",name:"Guardrail Bar 2.4m",description:"Horizontal safety rail",unit:"piece",basePrice:22},{id:"wheel-set",name:"Mobile Wheel Set",description:"Set of 4 lockable wheels",unit:"set",basePrice:180}];function oc({rfq:a,onSave:b,onCancel:c}){let[d,e]=(0,m.useState)({customerName:"",customerEmail:"",customerPhone:"",projectName:"",projectLocation:"",requestedDate:new Date().toISOString().split("T")[0],requiredDate:"",status:"draft",items:[],totalAmount:0,notes:"",createdBy:"Current User"}),[f,g]=(0,m.useState)([]),[h,i]=(0,m.useState)(null);(0,m.useEffect)(()=>{a&&(i(JSON.parse(JSON.stringify(a))),e({customerName:a.customerName,customerEmail:a.customerEmail,customerPhone:a.customerPhone,projectName:a.projectName,projectLocation:a.projectLocation,requestedDate:a.requestedDate,requiredDate:a.requiredDate,status:a.status,items:a.items,totalAmount:a.totalAmount,notes:a.notes,createdBy:a.createdBy}),g(a.items))},[a]);let j=(a,b,c)=>{g(f.map(d=>{if(d.id===a){let a={...d,[b]:c};if("scaffoldingItemId"===b){let b=ob.find(a=>a.id===c);b&&(a.scaffoldingItemName=b.name,a.unit=b.unit,a.unitPrice=b.basePrice)}return a.totalPrice=a.quantity*a.unitPrice,a}return d}))},k=()=>f.reduce((a,b)=>a+b.totalPrice,0);(0,m.useEffect)(()=>{e(a=>({...a,items:f,totalAmount:k()}))},[f]);let n=(a,b,c)=>{let d=JSON.parse(localStorage.getItem("rfqNotifications")||"[]"),e="updated",f=`RFQ ${a.rfqNumber} was updated`;c?(e="created",f=`New RFQ ${a.rfqNumber} was created`):b.some(a=>"items"===a.field&&null===a.oldValue)?(e="item_added",f=`Items added to RFQ ${a.rfqNumber}`):b.some(a=>"items"===a.field&&null===a.newValue)?(e="item_removed",f=`Items removed from RFQ ${a.rfqNumber}`):b.some(a=>a.field.startsWith("item_"))?(e="item_modified",f=`Items modified in RFQ ${a.rfqNumber}`):b.some(a=>"status"===a.field)&&(e="status_changed",f=`RFQ ${a.rfqNumber} status changed`);let g={id:`notif-${Date.now()}`,rfqId:a.id,rfqNumber:a.rfqNumber,type:e,message:f,changes:b,createdBy:"Current User",createdAt:new Date().toISOString(),read:!1};d.unshift(g),localStorage.setItem("rfqNotifications",JSON.stringify(d))},o=c=>{if(!d.customerName||!d.customerEmail||!d.customerPhone||!d.projectName||!d.projectLocation)return void gG.error("Please fill in all required fields");if(0===f.length)return void gG.error("Please add at least one item");if(f.some(a=>!a.scaffoldingItemId||a.quantity<=0))return void gG.error("Please complete all item details");let e=a?.rfqNumber||`RFQ-${Date.now().toString().slice(-8)}`,g=new Date().toISOString(),i={id:a?.id||`rfq-${Date.now()}`,rfqNumber:e,...d,status:c,items:f,totalAmount:k(),createdAt:a?.createdAt||g,updatedAt:g};if(h){let a,b=(a=[],i.items.forEach(b=>{h.items.find(a=>a.id===b.id)||a.push({field:"items",oldValue:null,newValue:b,description:`Added item: ${b.scaffoldingItemName} (Qty: ${b.quantity})`})}),h.items.forEach(b=>{i.items.find(a=>a.id===b.id)||a.push({field:"items",oldValue:b,newValue:null,description:`Removed item: ${b.scaffoldingItemName}`})}),i.items.forEach(b=>{let c=h.items.find(a=>a.id===b.id);c&&(c.quantity!==b.quantity&&a.push({field:"item_quantity",oldValue:c.quantity,newValue:b.quantity,description:`Modified ${b.scaffoldingItemName}: quantity changed from ${c.quantity} to ${b.quantity}`}),c.scaffoldingItemId!==b.scaffoldingItemId&&a.push({field:"item_type",oldValue:c.scaffoldingItemName,newValue:b.scaffoldingItemName,description:`Modified item: changed from ${c.scaffoldingItemName} to ${b.scaffoldingItemName}`}),c.unitPrice!==b.unitPrice&&a.push({field:"item_price",oldValue:c.unitPrice,newValue:b.unitPrice,description:`Modified ${b.scaffoldingItemName}: price changed from RM ${c.unitPrice.toFixed(2)} to RM ${b.unitPrice.toFixed(2)}`}))}),[{field:"status",label:"Status"},{field:"customerName",label:"Customer Name"},{field:"projectName",label:"Project Name"},{field:"requiredDate",label:"Required Date"}].forEach(({field:b,label:c})=>{h[b]!==i[b]&&a.push({field:b,oldValue:h[b],newValue:i[b],description:`${c} changed from "${h[b]}" to "${i[b]}"`})}),a);b.length>0&&n(i,b,!1)}else{let a=f.map(a=>`${a.scaffoldingItemName} (Qty: ${a.quantity})`).join(", ");n(i,[{field:"created",oldValue:null,newValue:i,description:`RFQ created with ${f.length} item${f.length>1?"s":""}: ${a}`}],!0)}b(i);let j=f.length<=3?f.map(a=>a.scaffoldingItemName).join(", "):`${f.slice(0,2).map(a=>a.scaffoldingItemName).join(", ")} +${f.length-2} more`;gG.success("draft"===c?"RFQ saved as draft":"RFQ submitted successfully",{description:`Items: ${j}`})};return(0,l.jsxs)("div",{className:"p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(a2,{variant:"outline",onClick:c,children:(0,l.jsx)(gT,{className:"size-4"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-[#231F20]",children:a?"Edit RFQ":"New RFQ"}),(0,l.jsx)("p",{className:"text-gray-600",children:a?`Editing ${a.rfqNumber}`:"Create a new request for quotation"})]})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{children:"Customer Information"})}),(0,l.jsx)(hA,{className:"space-y-4",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"customerName",children:"Customer Name *"}),(0,l.jsx)(a3,{id:"customerName",value:d.customerName,onChange:a=>e({...d,customerName:a.target.value}),placeholder:"Enter customer name"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"customerEmail",children:"Email *"}),(0,l.jsx)(a3,{id:"customerEmail",type:"email",value:d.customerEmail,onChange:a=>e({...d,customerEmail:a.target.value}),placeholder:"customer@example.com"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"customerPhone",children:"Phone *"}),(0,l.jsx)(a3,{id:"customerPhone",value:d.customerPhone,onChange:a=>e({...d,customerPhone:a.target.value}),placeholder:"+60 12-345 6789"})]})]})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{children:"Project Details"})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"projectName",children:"Project Name *"}),(0,l.jsx)(a3,{id:"projectName",value:d.projectName,onChange:a=>e({...d,projectName:a.target.value}),placeholder:"Enter project name"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"projectLocation",children:"Project Location *"}),(0,l.jsx)(a3,{id:"projectLocation",value:d.projectLocation,onChange:a=>e({...d,projectLocation:a.target.value}),placeholder:"Enter project location"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"requestedDate",children:"Requested Date"}),(0,l.jsx)(a3,{id:"requestedDate",type:"date",value:d.requestedDate,onChange:a=>e({...d,requestedDate:a.target.value})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"requiredDate",children:"Required Date *"}),(0,l.jsx)(a3,{id:"requiredDate",type:"date",value:d.requiredDate,onChange:a=>e({...d,requiredDate:a.target.value})})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"notes",children:"Notes"}),(0,l.jsx)(jE,{id:"notes",value:d.notes,onChange:a=>e({...d,notes:a.target.value}),placeholder:"Additional notes or requirements",rows:3})]})]})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)(hy,{children:"Scaffolding Items"}),(0,l.jsxs)(a2,{onClick:()=>{g([...f,{id:`item-${Date.now()}`,scaffoldingItemId:"",scaffoldingItemName:"",quantity:1,unit:"",unitPrice:0,totalPrice:0,notes:""}])},size:"sm",className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,l.jsx)(jI,{className:"size-4 mr-2"}),"Add Item"]})]})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[0===f.length?(0,l.jsx)("div",{className:"text-center py-8 text-gray-500",children:'No items added yet. Click "Add Item" to start.'}):(0,l.jsx)("div",{className:"space-y-4",children:f.map((a,b)=>(0,l.jsxs)("div",{className:"p-4 border rounded-lg space-y-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("h4",{className:"text-[#231F20]",children:["Item ",b+1]}),(0,l.jsx)(a2,{variant:"ghost",size:"sm",onClick:()=>{var b;return b=a.id,void g(f.filter(a=>a.id!==b))},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,l.jsx)(jV,{className:"size-4"})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{className:"lg:col-span-2 space-y-2",children:[(0,l.jsx)(gR,{children:"Scaffolding Type *"}),(0,l.jsxs)(iE,{value:a.scaffoldingItemId,onValueChange:b=>j(a.id,"scaffoldingItemId",b),children:[(0,l.jsx)(iG,{children:(0,l.jsx)(iF,{placeholder:"Select scaffolding type"})}),(0,l.jsx)(iH,{children:ob.map(a=>(0,l.jsxs)(iI,{value:a.id,children:[a.name," - RM ",a.basePrice.toFixed(2),"/",a.unit]},a.id))})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Quantity *"}),(0,l.jsx)(a3,{type:"number",min:"1",value:a.quantity,onChange:b=>j(a.id,"quantity",parseInt(b.target.value)||0)})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Unit Price (RM)"}),(0,l.jsx)(a3,{type:"number",step:"0.01",value:a.unitPrice,onChange:b=>j(a.id,"unitPrice",parseFloat(b.target.value)||0)})]})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center pt-2 border-t",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Total Price:"}),(0,l.jsxs)("span",{className:"text-[#231F20]",children:["RM ",a.totalPrice.toFixed(2)]})]})]},a.id))}),f.length>0&&(0,l.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t-2",children:[(0,l.jsx)("span",{className:"text-[#231F20]",children:"Grand Total:"}),(0,l.jsxs)("span",{className:"text-[#231F20]",children:["RM ",k().toFixed(2)]})]})]})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,l.jsx)(a2,{variant:"outline",onClick:c,children:"Cancel"}),(0,l.jsxs)(a2,{variant:"outline",onClick:()=>o("draft"),className:"border-[#F15929] text-[#F15929] hover:bg-[#F15929]/10",children:[(0,l.jsx)(jY,{className:"size-4 mr-2"}),"Save as Draft"]}),(0,l.jsxs)(a2,{onClick:()=>o("submitted"),className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,l.jsx)(jZ,{className:"size-4 mr-2"}),"Submit RFQ"]})]})]})}function od({rfq:a,onEdit:b,onBack:c,onStatusChange:d}){return(0,l.jsxs)("div",{className:"p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(a2,{variant:"outline",onClick:c,children:(0,l.jsx)(gT,{className:"size-4"})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("h1",{className:"text-[#231F20]",children:a.rfqNumber}),(0,l.jsx)(jk,{className:{draft:"bg-gray-100 text-gray-800",submitted:"bg-blue-100 text-blue-800",quoted:"bg-purple-100 text-purple-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",expired:"bg-orange-100 text-orange-800"}[a.status],children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})]}),(0,l.jsx)("p",{className:"text-gray-600",children:a.projectName})]})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)(a2,{variant:"outline",onClick:()=>{let b=new Blob([`
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>RFQ ${a.rfqNumber}</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 40px auto;
      padding: 20px;
      color: #231F20;
    }
    .header {
      text-align: center;
      margin-bottom: 40px;
      border-bottom: 3px solid #F15929;
      padding-bottom: 20px;
    }
    .company-name {
      font-size: 28px;
      font-weight: bold;
      color: #231F20;
      margin-bottom: 5px;
    }
    .doc-title {
      font-size: 20px;
      color: #F15929;
      margin: 10px 0;
    }
    .section {
      margin: 30px 0;
    }
    .section-title {
      font-size: 16px;
      font-weight: bold;
      color: #231F20;
      background-color: #F9FAFB;
      padding: 10px;
      border-left: 4px solid #F15929;
      margin-bottom: 15px;
    }
    .info-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin-bottom: 20px;
    }
    .info-item {
      padding: 10px;
    }
    .info-label {
      font-size: 12px;
      color: #6B7280;
      margin-bottom: 5px;
    }
    .info-value {
      font-size: 14px;
      color: #231F20;
      font-weight: 500;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    th {
      background-color: #F9FAFB;
      color: #231F20;
      font-weight: bold;
      padding: 12px;
      text-align: left;
      border: 1px solid #E5E7EB;
    }
    td {
      padding: 12px;
      border: 1px solid #E5E7EB;
    }
    .text-right {
      text-align: right;
    }
    .total-row {
      background-color: #F9FAFB;
      font-weight: bold;
    }
    .total-amount {
      color: #F15929;
      font-size: 18px;
    }
    .signature-section {
      margin-top: 60px;
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 40px;
    }
    .signature-box {
      border-top: 2px solid #231F20;
      padding-top: 10px;
      margin-top: 60px;
    }
    .signature-label {
      font-size: 12px;
      color: #6B7280;
    }
    .footer {
      margin-top: 40px;
      padding-top: 20px;
      border-top: 1px solid #E5E7EB;
      text-align: center;
      font-size: 12px;
      color: #6B7280;
    }
    @media print {
      body {
        margin: 0;
        padding: 20px;
      }
    }
  </style>
</head>
<body>
  <div class="header">
    <div class="company-name">Power Metal & Steel</div>
    <div class="doc-title">REQUEST FOR QUOTATION</div>
    <div style="font-size: 16px; margin-top: 10px;">${a.rfqNumber}</div>
  </div>

  <div class="section">
    <div class="section-title">Customer Information</div>
    <div class="info-grid">
      <div class="info-item">
        <div class="info-label">Customer Name</div>
        <div class="info-value">${a.customerName}</div>
      </div>
      <div class="info-item">
        <div class="info-label">Email</div>
        <div class="info-value">${a.customerEmail}</div>
      </div>
      ${a.customerPhone?`
      <div class="info-item">
        <div class="info-label">Phone</div>
        <div class="info-value">${a.customerPhone}</div>
      </div>
      `:""}
    </div>
  </div>

  <div class="section">
    <div class="section-title">Project Details</div>
    <div class="info-grid">
      <div class="info-item">
        <div class="info-label">Project Name</div>
        <div class="info-value">${a.projectName}</div>
      </div>
      ${a.projectLocation?`
      <div class="info-item">
        <div class="info-label">Location</div>
        <div class="info-value">${a.projectLocation}</div>
      </div>
      `:""}
      <div class="info-item">
        <div class="info-label">Requested Date</div>
        <div class="info-value">${new Date(a.requestedDate).toLocaleDateString()}</div>
      </div>
      <div class="info-item">
        <div class="info-label">Required Date</div>
        <div class="info-value">${new Date(a.requiredDate).toLocaleDateString()}</div>
      </div>
    </div>
    ${a.notes?`
    <div class="info-item" style="margin-top: 10px;">
      <div class="info-label">Notes</div>
      <div class="info-value">${a.notes}</div>
    </div>
    `:""}
  </div>

  <div class="section">
    <div class="section-title">Scaffolding Items</div>
    <table>
      <thead>
        <tr>
          <th style="width: 50px;">#</th>
          <th>Item Description</th>
          <th class="text-right" style="width: 100px;">Quantity</th>
          <th class="text-right" style="width: 100px;">Unit</th>
          <th class="text-right" style="width: 120px;">Unit Price (RM)</th>
          <th class="text-right" style="width: 120px;">Total (RM)</th>
        </tr>
      </thead>
      <tbody>
        ${a.items.map((a,b)=>`
        <tr>
          <td>${b+1}</td>
          <td>${a.scaffoldingItemName}${a.notes?`<br><span style="font-size: 12px; color: #6B7280;">${a.notes}</span>`:""}</td>
          <td class="text-right">${a.quantity}</td>
          <td class="text-right">${a.unit}</td>
          <td class="text-right">${a.unitPrice.toFixed(2)}</td>
          <td class="text-right">${a.totalPrice.toFixed(2)}</td>
        </tr>
        `).join("")}
        <tr class="total-row">
          <td colspan="5" class="text-right">Total Amount:</td>
          <td class="text-right total-amount">RM ${a.totalAmount.toFixed(2)}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="signature-section">
    <div>
      <div class="signature-label">Prepared By</div>
      <div class="signature-box">
        <div>${a.createdBy}</div>
        <div style="font-size: 11px; color: #6B7280; margin-top: 5px;">
          Date: ${new Date(a.createdAt).toLocaleDateString()}
        </div>
      </div>
    </div>
    <div>
      <div class="signature-label">Customer Acceptance</div>
      <div class="signature-box">
        <div>Signature: ___________________</div>
        <div style="font-size: 11px; color: #6B7280; margin-top: 5px;">
          Date: ___________________
        </div>
      </div>
    </div>
  </div>

  <div class="footer">
    <p>This is a computer-generated document. No signature is required for validity.</p>
    <p>Power Metal & Steel | Generated on ${new Date().toLocaleString()}</p>
  </div>
</body>
</html>
    `],{type:"text/html"}),c=URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.download=`${a.rfqNumber}_${a.customerName.replace(/\s+/g,"_")}.html`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(c),gG.success("RFQ document downloaded successfully")},className:"text-[#F15929] hover:text-[#d94d1f] hover:bg-[#FFF5F2]",children:[(0,l.jsx)(jg,{className:"size-4 mr-2"}),"Download"]}),d&&(0,l.jsxs)(fp,{children:[(0,l.jsx)(fq,{asChild:!0,children:(0,l.jsx)(a2,{variant:"outline",children:"Change Status"})}),(0,l.jsxs)(fr,{align:"end",children:["quoted"!==a.status&&(0,l.jsxs)(fs,{onClick:()=>d("quoted"),children:[(0,l.jsx)(mQ,{className:"size-4 mr-2 text-purple-600"}),"Mark as Quoted"]}),"approved"!==a.status&&(0,l.jsxs)(fs,{onClick:()=>d("approved"),children:[(0,l.jsx)(hE,{className:"size-4 mr-2 text-green-600"}),"Mark as Approved"]}),"rejected"!==a.status&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ft,{}),(0,l.jsxs)(fs,{onClick:()=>d("rejected"),className:"text-red-600 focus:text-red-600",children:[(0,l.jsx)(jb,{className:"size-4 mr-2"}),"Reject RFQ"]})]})]})]}),(0,l.jsxs)(a2,{onClick:b,className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,l.jsx)(ji,{className:"size-4 mr-2"}),"Edit RFQ"]})]})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{children:"Customer Information"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(oa,{className:"size-5 text-gray-400 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Customer Name"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.customerName})]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(hh,{className:"size-5 text-gray-400 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Email"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.customerEmail})]})]}),a.customerPhone&&(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(iM,{className:"size-5 text-gray-400 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Phone"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.customerPhone})]})]})]})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{children:"Project Details"})}),(0,l.jsxs)(hA,{children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(v,{className:"size-5 text-gray-400 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Project Name"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.projectName})]})]}),a.projectLocation&&(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(mR,{className:"size-5 text-gray-400 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Location"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.projectLocation})]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(w,{className:"size-5 text-gray-400 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Requested Date"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:new Date(a.requestedDate).toLocaleDateString()})]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(w,{className:"size-5 text-gray-400 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Required Date"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:new Date(a.requiredDate).toLocaleDateString()})]})]})]}),a.notes&&(0,l.jsxs)("div",{className:"mt-6 pt-6 border-t",children:[(0,l.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Notes"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.notes})]})]})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{children:"Scaffolding Items"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)(ju,{children:[(0,l.jsx)(jv,{children:(0,l.jsxs)(jx,{children:[(0,l.jsx)(jy,{className:"w-12",children:"#"}),(0,l.jsx)(jy,{children:"Item Description"}),(0,l.jsx)(jy,{className:"text-right",children:"Quantity"}),(0,l.jsx)(jy,{className:"text-right",children:"Unit"}),(0,l.jsx)(jy,{className:"text-right",children:"Unit Price (RM)"}),(0,l.jsx)(jy,{className:"text-right",children:"Total Price (RM)"})]})}),(0,l.jsxs)(jw,{children:[a.items.map((a,b)=>(0,l.jsxs)(jx,{children:[(0,l.jsx)(jz,{children:b+1}),(0,l.jsx)(jz,{children:(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#231F20]",children:a.scaffoldingItemName}),a.notes&&(0,l.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:a.notes})]})}),(0,l.jsx)(jz,{className:"text-right",children:a.quantity}),(0,l.jsx)(jz,{className:"text-right",children:a.unit}),(0,l.jsx)(jz,{className:"text-right",children:a.unitPrice.toFixed(2)}),(0,l.jsx)(jz,{className:"text-right",children:a.totalPrice.toFixed(2)})]},a.id)),(0,l.jsxs)(jx,{children:[(0,l.jsx)(jz,{colSpan:5,className:"text-right",children:(0,l.jsx)("span",{className:"text-[#231F20]",children:"Total Amount:"})}),(0,l.jsx)(jz,{className:"text-right",children:(0,l.jsxs)("span",{className:"text-[#231F20]",children:["RM ",a.totalAmount.toFixed(2)]})})]})]})]})})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{children:"Additional Information"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Created By"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.createdBy})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Created At"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:new Date(a.createdAt).toLocaleString()})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Last Updated"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:new Date(a.updatedAt).toLocaleString()})]})]})})]})]})}function oe(){let[a,b]=(0,m.useState)([]),[c,d]=(0,m.useState)(""),[e,f]=(0,m.useState)("all"),[g,h]=(0,m.useState)(!1),[i,j]=(0,m.useState)(null),[k,n]=(0,m.useState)("list"),[o,p]=(0,m.useState)(!1),[q,r]=(0,m.useState)(null);(0,m.useEffect)(()=>{let a=localStorage.getItem("rfqs");a&&b(JSON.parse(a))},[]);let s=a=>{b(a),localStorage.setItem("rfqs",JSON.stringify(a))},t=(b,c)=>{s(a.map(a=>a.id===b?{...a,status:c,updatedAt:new Date().toISOString()}:a)),gG.success(`RFQ status updated to ${c}`)},u=()=>{n("list"),j(null)},x=a.filter(a=>{let b=a.rfqNumber.toLowerCase().includes(c.toLowerCase())||a.customerName.toLowerCase().includes(c.toLowerCase())||a.projectName.toLowerCase().includes(c.toLowerCase()),d="all"===e||a.status===e;return b&&d}),y={total:a.length,draft:a.filter(a=>"draft"===a.status).length,"quoted-for-item":a.filter(a=>"quoted-for-item"===a.status).length,"quoted-for-delivery":a.filter(a=>"quoted-for-delivery"===a.status).length,submitted:a.filter(a=>"submitted"===a.status).length,approved:a.filter(a=>"approved"===a.status).length};return"form"===k?(0,l.jsx)(oc,{rfq:i,onSave:b=>{i?s(a.map(a=>a.id===b.id?b:a)):s([...a,b]),n("list"),j(null)},onCancel:u}):"details"===k&&i?(0,l.jsx)(od,{rfq:i,onEdit:()=>n("form"),onBack:u,onStatusChange:a=>{t(i.id,a),j({...i,status:a})}}):(0,l.jsxs)("div",{className:"p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-[#231F20]",children:"Request for Quotation (RFQ)"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Manage scaffolding quotation requests"})]}),(0,l.jsxs)(a2,{onClick:()=>{j(null),n("form")},className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,l.jsx)(jI,{className:"size-4 mr-2"}),"New RFQ"]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsx)(hy,{className:"text-sm text-gray-600",children:"Total RFQs"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"text-[#231F20]",children:y.total})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsx)(hy,{className:"text-sm text-gray-600",children:"Draft"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"text-[#231F20]",children:y.draft})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsx)(hy,{className:"text-sm text-gray-600",children:"Submitted"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"text-[#231F20]",children:y.submitted})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsx)(hy,{className:"text-sm text-gray-600",children:"Quoted for Item"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"text-[#231F20]",children:y["quoted-for-item"]})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsx)(hy,{className:"text-sm text-gray-600",children:"Quoted for Delivery"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"text-[#231F20]",children:y["quoted-for-delivery"]})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsx)(hy,{className:"text-sm text-gray-600",children:"Approved"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"text-[#231F20]",children:y.approved})})]})]}),(0,l.jsx)(hw,{children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,l.jsxs)("div",{className:"flex-1 relative",children:[(0,l.jsx)(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 size-4 text-gray-400"}),(0,l.jsx)(a3,{placeholder:"Search by RFQ number, customer, or project...",value:c,onChange:a=>d(a.target.value),className:"pl-10"})]}),(0,l.jsxs)(iE,{value:e,onValueChange:f,children:[(0,l.jsxs)(iG,{className:"w-full md:w-48",children:[(0,l.jsx)(n9,{className:"size-4 mr-2"}),(0,l.jsx)(iF,{placeholder:"Filter by status"})]}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"all",children:"All Status"}),(0,l.jsx)(iI,{value:"draft",children:"Draft"}),(0,l.jsx)(iI,{value:"submitted",children:"Submitted"}),(0,l.jsx)(iI,{value:"quoted-for-item",children:"Quoted for Item"}),(0,l.jsx)(iI,{value:"quoted-for-delivery",children:"Quoted for Delivery"}),(0,l.jsx)(iI,{value:"approved",children:"Approved"}),(0,l.jsx)(iI,{value:"rejected",children:"Rejected"}),(0,l.jsx)(iI,{value:"expired",children:"Expired"})]})]})]})})}),(0,l.jsx)("div",{className:"space-y-4",children:0===x.length?(0,l.jsx)(hw,{children:(0,l.jsxs)(hA,{className:"py-12 text-center",children:[(0,l.jsx)(v,{className:"size-12 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-600",children:"No RFQs found"}),(0,l.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:c||"all"!==e?"Try adjusting your filters":"Create your first RFQ to get started"})]})}):x.map(a=>{var b;return(0,l.jsx)(hw,{className:"hover:shadow-md transition-shadow",children:(0,l.jsx)(hA,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,l.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,l.jsx)("div",{className:"flex items-start justify-between",children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("h3",{className:"text-[#231F20]",children:a.rfqNumber}),(0,l.jsx)(jk,{className:{draft:"bg-gray-100 text-gray-800","quoted-for-item":"bg-purple-100 text-purple-800","quoted-for-delivery":"bg-indigo-100 text-indigo-800",submitted:"bg-blue-100 text-blue-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",expired:"bg-orange-100 text-orange-800"}[a.status]||"bg-gray-100 text-gray-800",children:{draft:"Draft","quoted-for-item":"Quoted for Item","quoted-for-delivery":"Quoted for Delivery",submitted:"Submitted",approved:"Approved",rejected:"Rejected",expired:"Expired"}[b=a.status]||b})]}),(0,l.jsx)("p",{className:"text-gray-600 mt-1",children:a.projectName})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(oa,{className:"size-4 text-gray-400"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-500",children:"Customer"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.customerName})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(w,{className:"size-4 text-gray-400"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-500",children:"Required Date"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:new Date(a.requiredDate).toLocaleDateString()})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(v,{className:"size-4 text-gray-400"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-500",children:"Items"}),(0,l.jsxs)("p",{className:"text-[#231F20]",children:[a.items.length," items"]})]})]})]})]}),(0,l.jsxs)("div",{className:"flex lg:flex-col items-center lg:items-end gap-4",children:[(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Total Amount"}),(0,l.jsxs)("p",{className:"text-[#231F20]",children:["RM ",a.totalAmount.toFixed(2)]})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(a2,{variant:"outline",size:"sm",onClick:()=>{j(a),n("details")},children:(0,l.jsx)(gN,{className:"size-4"})}),(0,l.jsx)(a2,{variant:"outline",size:"sm",onClick:()=>{j(a),n("form")},children:(0,l.jsx)(ji,{className:"size-4"})}),(0,l.jsx)(a2,{variant:"outline",size:"sm",onClick:()=>(a=>{let b=window.open("","_blank");if(!b)return void gG.error("Please allow popups to download RFQ");let c=`
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>RFQ ${a.rfqNumber}</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 40px auto;
      padding: 20px;
      color: #231F20;
    }
    .header {
      text-align: center;
      margin-bottom: 40px;
      border-bottom: 3px solid #F15929;
      padding-bottom: 20px;
    }
    .company-name {
      font-size: 28px;
      font-weight: bold;
      color: #231F20;
      margin-bottom: 5px;
    }
    .doc-title {
      font-size: 20px;
      color: #F15929;
      margin: 10px 0;
    }
    .section {
      margin: 30px 0;
    }
    .section-title {
      font-size: 16px;
      font-weight: bold;
      color: #231F20;
      background-color: #F9FAFB;
      padding: 10px;
      border-left: 4px solid #F15929;
      margin-bottom: 15px;
    }
    .info-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin-bottom: 20px;
    }
    .info-item {
      padding: 10px;
    }
    .info-label {
      font-size: 12px;
      color: #6B7280;
      margin-bottom: 5px;
    }
    .info-value {
      font-size: 14px;
      color: #231F20;
      font-weight: 500;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    th {
      background-color: #F9FAFB;
      color: #231F20;
      font-weight: bold;
      padding: 12px;
      text-align: left;
      border: 1px solid #E5E7EB;
    }
    td {
      padding: 12px;
      border: 1px solid #E5E7EB;
    }
    .text-right {
      text-align: right;
    }
    .total-row {
      background-color: #F9FAFB;
      font-weight: bold;
    }
    .total-amount {
      color: #F15929;
      font-size: 18px;
    }
    .signature-section {
      margin-top: 60px;
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 40px;
    }
    .signature-box {
      border-top: 2px solid #231F20;
      padding-top: 10px;
      margin-top: 60px;
    }
    .signature-label {
      font-size: 12px;
      color: #6B7280;
    }
    .footer {
      margin-top: 40px;
      padding-top: 20px;
      border-top: 1px solid #E5E7EB;
      text-align: center;
      font-size: 12px;
      color: #6B7280;
    }
    @media print {
      body {
        margin: 0;
        padding: 20px;
      }
    }
  </style>
</head>
<body>
  <div class="header">
    <div class="company-name">Power Metal & Steel</div>
    <div class="doc-title">REQUEST FOR QUOTATION</div>
    <div style="font-size: 16px; margin-top: 10px;">${a.rfqNumber}</div>
  </div>

  <div class="section">
    <div class="section-title">Customer Information</div>
    <div class="info-grid">
      <div class="info-item">
        <div class="info-label">Customer Name</div>
        <div class="info-value">${a.customerName}</div>
      </div>
      <div class="info-item">
        <div class="info-label">Email</div>
        <div class="info-value">${a.customerEmail}</div>
      </div>
      ${a.customerPhone?`
      <div class="info-item">
        <div class="info-label">Phone</div>
        <div class="info-value">${a.customerPhone}</div>
      </div>
      `:""}
    </div>
  </div>

  <div class="section">
    <div class="section-title">Project Details</div>
    <div class="info-grid">
      <div class="info-item">
        <div class="info-label">Project Name</div>
        <div class="info-value">${a.projectName}</div>
      </div>
      ${a.projectLocation?`
      <div class="info-item">
        <div class="info-label">Location</div>
        <div class="info-value">${a.projectLocation}</div>
      </div>
      `:""}
      <div class="info-item">
        <div class="info-label">Requested Date</div>
        <div class="info-value">${new Date(a.requestedDate).toLocaleDateString()}</div>
      </div>
      <div class="info-item">
        <div class="info-label">Required Date</div>
        <div class="info-value">${new Date(a.requiredDate).toLocaleDateString()}</div>
      </div>
    </div>
    ${a.notes?`
    <div class="info-item" style="margin-top: 10px;">
      <div class="info-label">Notes</div>
      <div class="info-value">${a.notes}</div>
    </div>
    `:""}
  </div>

  <div class="section">
    <div class="section-title">Scaffolding Items</div>
    <table>
      <thead>
        <tr>
          <th style="width: 50px;">#</th>
          <th>Item Description</th>
          <th class="text-right" style="width: 100px;">Quantity</th>
          <th class="text-right" style="width: 100px;">Unit</th>
          <th class="text-right" style="width: 120px;">Unit Price (RM)</th>
          <th class="text-right" style="width: 120px;">Total (RM)</th>
        </tr>
      </thead>
      <tbody>
        ${a.items.map((a,b)=>`
        <tr>
          <td>${b+1}</td>
          <td>${a.scaffoldingItemName}${a.notes?`<br><span style="font-size: 12px; color: #6B7280;">${a.notes}</span>`:""}</td>
          <td class="text-right">${a.quantity}</td>
          <td class="text-right">${a.unit}</td>
          <td class="text-right">${a.unitPrice.toFixed(2)}</td>
          <td class="text-right">${a.totalPrice.toFixed(2)}</td>
        </tr>
        `).join("")}
        <tr class="total-row">
          <td colspan="5" class="text-right">Total Amount:</td>
          <td class="text-right total-amount">RM ${a.totalAmount.toFixed(2)}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="signature-section">
    <div>
      <div class="signature-label">Prepared By</div>
      <div class="signature-box">
        <div>${a.createdBy}</div>
        <div style="font-size: 11px; color: #6B7280; margin-top: 5px;">
          Date: ${new Date(a.createdAt).toLocaleDateString()}
        </div>
      </div>
    </div>
    <div>
      <div class="signature-label">Customer Acceptance</div>
      <div class="signature-box">
        <div>Signature: ___________________</div>
        <div style="font-size: 11px; color: #6B7280; margin-top: 5px;">
          Date: ___________________
        </div>
      </div>
    </div>
  </div>

  <div class="footer">
    <p>This is a computer-generated document. No signature is required for validity.</p>
    <p>Power Metal & Steel | Generated on ${new Date().toLocaleString()}</p>
  </div>
</body>
</html>
    `;b.document.write(c),b.document.close(),b.onload=()=>{b.print()},gG.success("Print dialog opened - You can save as PDF from the print dialog")})(a),className:"text-[#F15929] hover:text-[#d94d1f] hover:bg-[#FFF5F2]",children:(0,l.jsx)(jg,{className:"size-4"})}),(0,l.jsxs)(fp,{children:[(0,l.jsx)(fq,{asChild:!0,children:(0,l.jsx)(a2,{variant:"outline",size:"sm",children:"Actions"})}),(0,l.jsxs)(fr,{align:"end",children:["quoted-for-item"!==a.status&&(0,l.jsxs)(fs,{onClick:()=>t(a.id,"quoted-for-item"),children:[(0,l.jsx)(mQ,{className:"size-4 mr-2 text-purple-600"}),"Mark as Quoted for Item"]}),"quoted-for-delivery"!==a.status&&(0,l.jsxs)(fs,{onClick:()=>t(a.id,"quoted-for-delivery"),children:[(0,l.jsx)(mQ,{className:"size-4 mr-2 text-indigo-600"}),"Mark as Quoted for Delivery"]}),"approved"!==a.status&&(0,l.jsxs)(fs,{onClick:()=>t(a.id,"approved"),children:[(0,l.jsx)(hE,{className:"size-4 mr-2 text-green-600"}),"Mark as Approved"]}),"rejected"!==a.status&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ft,{}),(0,l.jsxs)(fs,{onClick:()=>{r(a.id),p(!0)},className:"text-red-600 focus:text-red-600",children:[(0,l.jsx)(jb,{className:"size-4 mr-2"}),"Reject RFQ"]})]})]})]})]})]})]})})},a.id)})}),(0,l.jsx)(gj,{open:o,onOpenChange:p,children:(0,l.jsxs)(gm,{children:[(0,l.jsxs)(gn,{children:[(0,l.jsx)(gp,{children:"Reject RFQ"}),(0,l.jsx)(gq,{children:'Are you sure you want to reject this RFQ? The status will be changed to "Rejected" and can be reviewed later.'})]}),(0,l.jsxs)(go,{children:[(0,l.jsx)(gs,{children:"Cancel"}),(0,l.jsx)(gr,{onClick:()=>{q&&(s(a.map(a=>a.id===q?{...a,status:"rejected"}:a)),p(!1),r(null),gG.success("RFQ has been rejected"))},className:"bg-red-600 hover:bg-red-700",children:"Reject RFQ"})]})]})})]})}let of=s("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),og=s("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),oh=s("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var oi="ScrollArea",[oj,ok]=a4(oi),[ol,om]=oj(oi),on=m.forwardRef((a,b)=>{let{__scopeScrollArea:c,type:d="hover",dir:e,scrollHideDelay:f=600,...g}=a,[h,i]=m.useState(null),[j,k]=m.useState(null),[n,o]=m.useState(null),[p,q]=m.useState(null),[r,s]=m.useState(null),[t,u]=m.useState(0),[v,w]=m.useState(0),[x,y]=m.useState(!1),[z,A]=m.useState(!1),B=V(b,a=>i(a)),C=bw(e);return(0,l.jsx)(ol,{scope:c,type:d,dir:C,scrollHideDelay:f,scrollArea:h,viewport:j,onViewportChange:k,content:n,onContentChange:o,scrollbarX:p,onScrollbarXChange:q,scrollbarXEnabled:x,onScrollbarXEnabledChange:y,scrollbarY:r,onScrollbarYChange:s,scrollbarYEnabled:z,onScrollbarYEnabledChange:A,onCornerWidthChange:u,onCornerHeightChange:w,children:(0,l.jsx)(a8.div,{dir:C,...g,ref:B,style:{position:"relative","--radix-scroll-area-corner-width":t+"px","--radix-scroll-area-corner-height":v+"px",...a.style}})})});on.displayName=oi;var oo="ScrollAreaViewport",op=m.forwardRef((a,b)=>{let{__scopeScrollArea:c,children:d,nonce:e,...f}=a,g=om(oo,c),h=V(b,m.useRef(null),g.onViewportChange);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:e}),(0,l.jsx)(a8.div,{"data-radix-scroll-area-viewport":"",...f,ref:h,style:{overflowX:g.scrollbarXEnabled?"scroll":"hidden",overflowY:g.scrollbarYEnabled?"scroll":"hidden",...a.style},children:(0,l.jsx)("div",{ref:g.onContentChange,style:{minWidth:"100%",display:"table"},children:d})})]})});op.displayName=oo;var oq="ScrollAreaScrollbar",or=m.forwardRef((a,b)=>{let{forceMount:c,...d}=a,e=om(oq,a.__scopeScrollArea),{onScrollbarXEnabledChange:f,onScrollbarYEnabledChange:g}=e,h="horizontal"===a.orientation;return m.useEffect(()=>(h?f(!0):g(!0),()=>{h?f(!1):g(!1)}),[h,f,g]),"hover"===e.type?(0,l.jsx)(os,{...d,ref:b,forceMount:c}):"scroll"===e.type?(0,l.jsx)(ot,{...d,ref:b,forceMount:c}):"auto"===e.type?(0,l.jsx)(ou,{...d,ref:b,forceMount:c}):"always"===e.type?(0,l.jsx)(ov,{...d,ref:b}):null});or.displayName=oq;var os=m.forwardRef((a,b)=>{let{forceMount:c,...d}=a,e=om(oq,a.__scopeScrollArea),[f,g]=m.useState(!1);return m.useEffect(()=>{let a=e.scrollArea,b=0;if(a){let c=()=>{window.clearTimeout(b),g(!0)},d=()=>{b=window.setTimeout(()=>g(!1),e.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(b),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[e.scrollArea,e.scrollHideDelay]),(0,l.jsx)(dh,{present:c||f,children:(0,l.jsx)(ou,{"data-state":f?"visible":"hidden",...d,ref:b})})}),ot=m.forwardRef((a,b)=>{var c;let{forceMount:d,...e}=a,f=om(oq,a.__scopeScrollArea),g="horizontal"===a.orientation,h=oN(()=>j("SCROLL_END"),100),[i,j]=(c={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},m.useReducer((a,b)=>c[a][b]??a,"hidden"));return m.useEffect(()=>{if("idle"===i){let a=window.setTimeout(()=>j("HIDE"),f.scrollHideDelay);return()=>window.clearTimeout(a)}},[i,f.scrollHideDelay,j]),m.useEffect(()=>{let a=f.viewport,b=g?"scrollLeft":"scrollTop";if(a){let c=a[b],d=()=>{let d=a[b];c!==d&&(j("SCROLL"),h()),c=d};return a.addEventListener("scroll",d),()=>a.removeEventListener("scroll",d)}},[f.viewport,g,j,h]),(0,l.jsx)(dh,{present:d||"hidden"!==i,children:(0,l.jsx)(ov,{"data-state":"hidden"===i?"hidden":"visible",...e,ref:b,onPointerEnter:bo(a.onPointerEnter,()=>j("POINTER_ENTER")),onPointerLeave:bo(a.onPointerLeave,()=>j("POINTER_LEAVE"))})})}),ou=m.forwardRef((a,b)=>{let c=om(oq,a.__scopeScrollArea),{forceMount:d,...e}=a,[f,g]=m.useState(!1),h="horizontal"===a.orientation,i=oN(()=>{if(c.viewport){let a=c.viewport.offsetWidth<c.viewport.scrollWidth,b=c.viewport.offsetHeight<c.viewport.scrollHeight;g(h?a:b)}},10);return oO(c.viewport,i),oO(c.content,i),(0,l.jsx)(dh,{present:d||f,children:(0,l.jsx)(ov,{"data-state":f?"visible":"hidden",...e,ref:b})})}),ov=m.forwardRef((a,b)=>{let{orientation:c="vertical",...d}=a,e=om(oq,a.__scopeScrollArea),f=m.useRef(null),g=m.useRef(0),[h,i]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),j=oI(h.viewport,h.content),k={...d,sizes:h,onSizesChange:i,hasThumb:!!(j>0&&j<1),onThumbChange:a=>f.current=a,onThumbPointerUp:()=>g.current=0,onThumbPointerDown:a=>g.current=a};function n(a,b){return function(a,b,c,d="ltr"){let e=oJ(c),f=b||e/2,g=c.scrollbar.paddingStart+f,h=c.scrollbar.size-c.scrollbar.paddingEnd-(e-f),i=c.content-c.viewport;return oL([g,h],"ltr"===d?[0,i]:[-1*i,0])(a)}(a,g.current,h,b)}return"horizontal"===c?(0,l.jsx)(ow,{...k,ref:b,onThumbPositionChange:()=>{if(e.viewport&&f.current){let a=oK(e.viewport.scrollLeft,h,e.dir);f.current.style.transform=`translate3d(${a}px, 0, 0)`}},onWheelScroll:a=>{e.viewport&&(e.viewport.scrollLeft=a)},onDragScroll:a=>{e.viewport&&(e.viewport.scrollLeft=n(a,e.dir))}}):"vertical"===c?(0,l.jsx)(ox,{...k,ref:b,onThumbPositionChange:()=>{if(e.viewport&&f.current){let a=oK(e.viewport.scrollTop,h);f.current.style.transform=`translate3d(0, ${a}px, 0)`}},onWheelScroll:a=>{e.viewport&&(e.viewport.scrollTop=a)},onDragScroll:a=>{e.viewport&&(e.viewport.scrollTop=n(a))}}):null}),ow=m.forwardRef((a,b)=>{let{sizes:c,onSizesChange:d,...e}=a,f=om(oq,a.__scopeScrollArea),[g,h]=m.useState(),i=m.useRef(null),j=V(b,i,f.onScrollbarXChange);return m.useEffect(()=>{i.current&&h(getComputedStyle(i.current))},[i]),(0,l.jsx)(oA,{"data-orientation":"horizontal",...e,ref:j,sizes:c,style:{bottom:0,left:"rtl"===f.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===f.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":oJ(c)+"px",...a.style},onThumbPointerDown:b=>a.onThumbPointerDown(b.x),onDragScroll:b=>a.onDragScroll(b.x),onWheelScroll:(b,c)=>{if(f.viewport){var d,e;let g=f.viewport.scrollLeft+b.deltaX;a.onWheelScroll(g),d=g,e=c,d>0&&d<e&&b.preventDefault()}},onResize:()=>{i.current&&f.viewport&&g&&d({content:f.viewport.scrollWidth,viewport:f.viewport.offsetWidth,scrollbar:{size:i.current.clientWidth,paddingStart:oH(g.paddingLeft),paddingEnd:oH(g.paddingRight)}})}})}),ox=m.forwardRef((a,b)=>{let{sizes:c,onSizesChange:d,...e}=a,f=om(oq,a.__scopeScrollArea),[g,h]=m.useState(),i=m.useRef(null),j=V(b,i,f.onScrollbarYChange);return m.useEffect(()=>{i.current&&h(getComputedStyle(i.current))},[i]),(0,l.jsx)(oA,{"data-orientation":"vertical",...e,ref:j,sizes:c,style:{top:0,right:"ltr"===f.dir?0:void 0,left:"rtl"===f.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":oJ(c)+"px",...a.style},onThumbPointerDown:b=>a.onThumbPointerDown(b.y),onDragScroll:b=>a.onDragScroll(b.y),onWheelScroll:(b,c)=>{if(f.viewport){var d,e;let g=f.viewport.scrollTop+b.deltaY;a.onWheelScroll(g),d=g,e=c,d>0&&d<e&&b.preventDefault()}},onResize:()=>{i.current&&f.viewport&&g&&d({content:f.viewport.scrollHeight,viewport:f.viewport.offsetHeight,scrollbar:{size:i.current.clientHeight,paddingStart:oH(g.paddingTop),paddingEnd:oH(g.paddingBottom)}})}})}),[oy,oz]=oj(oq),oA=m.forwardRef((a,b)=>{let{__scopeScrollArea:c,sizes:d,hasThumb:e,onThumbChange:f,onThumbPointerUp:g,onThumbPointerDown:h,onThumbPositionChange:i,onDragScroll:j,onWheelScroll:k,onResize:n,...o}=a,p=om(oq,c),[q,r]=m.useState(null),s=V(b,a=>r(a)),t=m.useRef(null),u=m.useRef(""),v=p.viewport,w=d.content-d.viewport,x=a5(k),y=a5(i),z=oN(n,10);function A(a){t.current&&j({x:a.clientX-t.current.left,y:a.clientY-t.current.top})}return m.useEffect(()=>{let a=a=>{let b=a.target;q?.contains(b)&&x(a,w)};return document.addEventListener("wheel",a,{passive:!1}),()=>document.removeEventListener("wheel",a,{passive:!1})},[v,q,w,x]),m.useEffect(y,[d,y]),oO(q,z),oO(p.content,z),(0,l.jsx)(oy,{scope:c,scrollbar:q,hasThumb:e,onThumbChange:a5(f),onThumbPointerUp:a5(g),onThumbPositionChange:y,onThumbPointerDown:a5(h),children:(0,l.jsx)(a8.div,{...o,ref:s,style:{position:"absolute",...o.style},onPointerDown:bo(a.onPointerDown,a=>{0===a.button&&(a.target.setPointerCapture(a.pointerId),t.current=q.getBoundingClientRect(),u.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),A(a))}),onPointerMove:bo(a.onPointerMove,A),onPointerUp:bo(a.onPointerUp,a=>{let b=a.target;b.hasPointerCapture(a.pointerId)&&b.releasePointerCapture(a.pointerId),document.body.style.webkitUserSelect=u.current,p.viewport&&(p.viewport.style.scrollBehavior=""),t.current=null})})})}),oB="ScrollAreaThumb",oC=m.forwardRef((a,b)=>{let{forceMount:c,...d}=a,e=oz(oB,a.__scopeScrollArea);return(0,l.jsx)(dh,{present:c||e.hasThumb,children:(0,l.jsx)(oD,{ref:b,...d})})}),oD=m.forwardRef((a,b)=>{let{__scopeScrollArea:c,style:d,...e}=a,f=om(oB,c),g=oz(oB,c),{onThumbPositionChange:h}=g,i=V(b,a=>g.onThumbChange(a)),j=m.useRef(void 0),k=oN(()=>{j.current&&(j.current(),j.current=void 0)},100);return m.useEffect(()=>{let a=f.viewport;if(a){let b=()=>{k(),j.current||(j.current=oM(a,h),h())};return h(),a.addEventListener("scroll",b),()=>a.removeEventListener("scroll",b)}},[f.viewport,k,h]),(0,l.jsx)(a8.div,{"data-state":g.hasThumb?"visible":"hidden",...e,ref:i,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...d},onPointerDownCapture:bo(a.onPointerDownCapture,a=>{let b=a.target.getBoundingClientRect(),c=a.clientX-b.left,d=a.clientY-b.top;g.onThumbPointerDown({x:c,y:d})}),onPointerUp:bo(a.onPointerUp,g.onThumbPointerUp)})});oC.displayName=oB;var oE="ScrollAreaCorner",oF=m.forwardRef((a,b)=>{let c=om(oE,a.__scopeScrollArea),d=!!(c.scrollbarX&&c.scrollbarY);return"scroll"!==c.type&&d?(0,l.jsx)(oG,{...a,ref:b}):null});oF.displayName=oE;var oG=m.forwardRef((a,b)=>{let{__scopeScrollArea:c,...d}=a,e=om(oE,c),[f,g]=m.useState(0),[h,i]=m.useState(0),j=!!(f&&h);return oO(e.scrollbarX,()=>{let a=e.scrollbarX?.offsetHeight||0;e.onCornerHeightChange(a),i(a)}),oO(e.scrollbarY,()=>{let a=e.scrollbarY?.offsetWidth||0;e.onCornerWidthChange(a),g(a)}),j?(0,l.jsx)(a8.div,{...d,ref:b,style:{width:f,height:h,position:"absolute",right:"ltr"===e.dir?0:void 0,left:"rtl"===e.dir?0:void 0,bottom:0,...a.style}}):null});function oH(a){return a?parseInt(a,10):0}function oI(a,b){let c=a/b;return isNaN(c)?0:c}function oJ(a){let b=oI(a.viewport,a.content),c=a.scrollbar.paddingStart+a.scrollbar.paddingEnd;return Math.max((a.scrollbar.size-c)*b,18)}function oK(a,b,c="ltr"){let d=oJ(b),e=b.scrollbar.paddingStart+b.scrollbar.paddingEnd,f=b.scrollbar.size-e,g=b.content-b.viewport,h=hI(a,"ltr"===c?[0,g]:[-1*g,0]);return oL([0,g],[0,f-d])(h)}function oL(a,b){return c=>{if(a[0]===a[1]||b[0]===b[1])return b[0];let d=(b[1]-b[0])/(a[1]-a[0]);return b[0]+d*(c-a[0])}}var oM=(a,b=()=>{})=>{let c={left:a.scrollLeft,top:a.scrollTop},d=0;return!function e(){let f={left:a.scrollLeft,top:a.scrollTop},g=c.left!==f.left,h=c.top!==f.top;(g||h)&&b(),c=f,d=window.requestAnimationFrame(e)}(),()=>window.cancelAnimationFrame(d)};function oN(a,b){let c=a5(a),d=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(d.current),[]),m.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(c,b)},[c,b])}function oO(a,b){let c=a5(b);a6(()=>{let b=0;if(a){let d=new ResizeObserver(()=>{cancelAnimationFrame(b),b=window.requestAnimationFrame(c)});return d.observe(a),()=>{window.cancelAnimationFrame(b),d.unobserve(a)}}},[a,c])}function oP({className:a,children:b,...c}){return(0,l.jsxs)(on,{"data-slot":"scroll-area",className:a0("relative",a),...c,children:[(0,l.jsx)(op,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:b}),(0,l.jsx)(oQ,{}),(0,l.jsx)(oF,{})]})}function oQ({className:a,orientation:b="vertical",...c}){return(0,l.jsx)(or,{"data-slot":"scroll-area-scrollbar",orientation:b,className:a0("flex touch-none p-px transition-colors select-none","vertical"===b&&"h-full w-2.5 border-l border-l-transparent","horizontal"===b&&"h-2.5 flex-col border-t border-t-transparent",a),...c,children:(0,l.jsx)(oC,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}let oR=s("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);function oS({notification:a,onClose:b}){let c=(a,b)=>null==a?(0,l.jsx)("span",{className:"text-gray-400 italic",children:"None"}):"object"==typeof a&&a.scaffoldingItemName?(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-[#231F20]",children:a.scaffoldingItemName}),(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,l.jsxs)("p",{children:["Quantity: ",a.quantity," ",a.unit]}),(0,l.jsxs)("p",{children:["Price: RM ",a.unitPrice.toFixed(2)]}),(0,l.jsxs)("p",{className:"text-[#231F20]",children:["Total: RM ",a.totalPrice.toFixed(2)]})]})]}):"number"==typeof a?(0,l.jsx)("span",{className:"text-[#231F20]",children:a}):(0,l.jsx)("span",{className:"text-[#231F20]",children:String(a)});return(0,l.jsx)(jl,{open:!0,onOpenChange:b,children:(0,l.jsxs)(jp,{className:"max-w-3xl max-h-[80vh]",children:[(0,l.jsx)(jq,{children:(0,l.jsx)(js,{children:"RFQ Change Details"})}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("h3",{className:"text-[#231F20]",children:a.rfqNumber}),(0,l.jsx)(jk,{className:"bg-blue-100 text-blue-800",children:a.type.replace(/_/g," ").toUpperCase()})]}),(0,l.jsx)("p",{className:"text-gray-600",children:a.message}),(0,l.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,l.jsxs)("span",{children:["Modified by ",a.createdBy]}),(0,l.jsx)("span",{children:""}),(0,l.jsx)("span",{children:new Date(a.createdAt).toLocaleString("en-MY",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h4",{className:"text-[#231F20] mb-3",children:["Changes Made (",a.changes.length,")"]}),(0,l.jsx)(oP,{className:"h-[400px] pr-4",children:(0,l.jsx)("div",{className:"space-y-4",children:a.changes.map((b,d)=>{var e;return(0,l.jsxs)("div",{className:"p-4 border rounded-lg space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-start gap-3",children:["items"===(e=b.field)&&a.changes.find(a=>null===a.oldValue)?(0,l.jsx)(jI,{className:"size-4 text-green-600"}):"items"===e&&a.changes.find(a=>null===a.newValue)?(0,l.jsx)(og,{className:"size-4 text-red-600"}):e.startsWith("item_")?(0,l.jsx)(ji,{className:"size-4 text-amber-600"}):(0,l.jsx)(K,{className:"size-4 text-blue-600"}),(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)("p",{className:"text-[#231F20]",children:b.description})})]}),null!==b.oldValue&&null!==b.newValue&&(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4 pl-7",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(oR,{className:"size-4 text-red-600"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Previous Value"})]}),(0,l.jsx)("div",{className:"p-3 bg-red-50 rounded border border-red-200",children:c(b.oldValue,"old")})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(jH,{className:"size-4 text-green-600"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"New Value"})]}),(0,l.jsx)("div",{className:"p-3 bg-green-50 rounded border border-green-200",children:c(b.newValue,"new")})]})]}),null===b.oldValue&&null!==b.newValue&&(0,l.jsx)("div",{className:"pl-7",children:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(jI,{className:"size-4 text-green-600"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Added Item"})]}),(0,l.jsx)("div",{className:"p-3 bg-green-50 rounded border border-green-200",children:c(b.newValue,"new")})]})}),null!==b.oldValue&&null===b.newValue&&(0,l.jsx)("div",{className:"pl-7",children:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(og,{className:"size-4 text-red-600"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Removed Item"})]}),(0,l.jsx)("div",{className:"p-3 bg-red-50 rounded border border-red-200",children:c(b.oldValue,"old")})]})})]},d)})})})]})]})]})})}function oT(){let[a,b]=(0,m.useState)([]),[c,d]=(0,m.useState)(!1),[e,f]=(0,m.useState)(null),[g,h]=(0,m.useState)(!1);(0,m.useEffect)(()=>{i();let a=setInterval(i,5e3);return()=>clearInterval(a)},[]);let i=()=>{let a=localStorage.getItem("rfqNotifications");a&&b(JSON.parse(a))},j=a.filter(a=>!a.read).length;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(mF,{open:c,onOpenChange:d,children:[(0,l.jsx)(mG,{asChild:!0,children:(0,l.jsxs)(a2,{variant:"ghost",size:"icon",className:"relative",children:[(0,l.jsx)(of,{className:"size-5"}),j>0&&(0,l.jsx)(jk,{className:"absolute -top-1 -right-1 size-5 flex items-center justify-center p-0 bg-[#F15929] hover:bg-[#F15929]",children:j>9?"9+":j})]})}),(0,l.jsxs)(mH,{className:"w-96 p-0",align:"end",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,l.jsx)("h3",{className:"text-[#231F20]",children:"Notifications"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[j>0&&(0,l.jsxs)(a2,{variant:"ghost",size:"sm",onClick:()=>{let c=a.map(a=>({...a,read:!0}));b(c),localStorage.setItem("rfqNotifications",JSON.stringify(c))},className:"text-sm",children:[(0,l.jsx)(fm,{className:"size-4 mr-1"}),"Mark all read"]}),a.length>0&&(0,l.jsxs)(a2,{variant:"ghost",size:"sm",onClick:()=>{b([]),localStorage.setItem("rfqNotifications",JSON.stringify([]))},className:"text-sm text-red-600 hover:text-red-700",children:[(0,l.jsx)(D,{className:"size-4 mr-1"}),"Clear all"]})]})]}),(0,l.jsx)(oP,{className:"h-[400px]",children:0===a.length?(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[(0,l.jsx)(of,{className:"size-12 text-gray-300 mb-3"}),(0,l.jsx)("p",{className:"text-gray-600",children:"No notifications"}),(0,l.jsx)("p",{className:"text-sm text-gray-500 text-center mt-1",children:"You'll see notifications here when RFQs are created or modified"})]}):(0,l.jsx)("div",{className:"divide-y",children:a.map(c=>{let e,g,i,j;return(0,l.jsx)("button",{onClick:()=>{var e;let g;e=c.id,b(g=a.map(a=>a.id===e?{...a,read:!0}:a)),localStorage.setItem("rfqNotifications",JSON.stringify(g)),f(c),h(!0),d(!1)},className:`w-full text-left p-4 hover:bg-gray-50 transition-colors ${!c.read?"bg-blue-50":""}`,children:(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("div",{className:"flex-shrink-0 mt-1",children:(a=>{switch(a){case"created":return(0,l.jsx)(v,{className:"size-4 text-blue-600"});case"item_added":return(0,l.jsx)(jI,{className:"size-4 text-green-600"});case"item_removed":return(0,l.jsx)(og,{className:"size-4 text-red-600"});case"item_modified":return(0,l.jsx)(ji,{className:"size-4 text-amber-600"});case"status_changed":return(0,l.jsx)(oh,{className:"size-4 text-purple-600"});default:return(0,l.jsx)(of,{className:"size-4 text-gray-600"})}})(c.type)}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,l.jsx)("p",{className:`text-sm ${!c.read?"text-[#231F20]":"text-gray-900"}`,children:c.message}),!c.read&&(0,l.jsx)("div",{className:"size-2 rounded-full bg-[#F15929] flex-shrink-0 mt-1.5"})]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[c.changes.length," change",1!==c.changes.length?"s":""]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,l.jsx)("span",{className:"text-xs text-gray-500",children:(e=new Date(c.createdAt),j=Math.floor((i=Math.floor((g=Math.floor((new Date().getTime()-e.getTime())/6e4))/60))/24),g<1?"Just now":g<60?`${g}m ago`:i<24?`${i}h ago`:j<7?`${j}d ago`:e.toLocaleDateString())}),(0,l.jsx)("span",{className:"text-xs text-gray-400",children:""}),(0,l.jsxs)("span",{className:"text-xs text-gray-500",children:["by ",c.createdBy]})]})]})]})},c.id)})})})]})]}),g&&e&&(0,l.jsx)(oS,{notification:e,onClose:()=>{h(!1),f(null)}})]})}let oU=s("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);function oV({reports:a,searchQuery:b,onEdit:c,onCreateRepairSlip:d,existingRepairSlips:e=[]}){let f=a.filter(a=>a.rcfNumber.toLowerCase().includes(b.toLowerCase())||a.deliveryOrderNumber.toLowerCase().includes(b.toLowerCase())||a.customerName.toLowerCase().includes(b.toLowerCase()));return 0===f.length?(0,l.jsx)(hw,{children:(0,l.jsxs)(hA,{className:"py-12 text-center",children:[(0,l.jsx)(F,{className:"size-12 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-600",children:"No condition reports found"}),(0,l.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:b?"Try adjusting your search":"Create your first condition report"})]})}):(0,l.jsx)("div",{className:"space-y-4",children:f.map(a=>(0,l.jsx)(hw,{className:"hover:shadow-md transition-shadow",children:(0,l.jsx)(hA,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,l.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,l.jsx)("div",{className:"flex items-start justify-between",children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("h3",{className:"text-[#231F20]",children:a.rcfNumber}),(0,l.jsx)(jk,{className:{pending:"bg-amber-100 text-amber-800","in-progress":"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800"}[a.status],children:a.status.toUpperCase()}),a.totalRepair>0&&(0,l.jsxs)(jk,{className:"bg-amber-100 text-amber-800",children:[a.totalRepair," Need Repair"]}),a.totalWriteOff>0&&(0,l.jsxs)(jk,{className:"bg-red-100 text-red-800",children:[a.totalWriteOff," Write-off"]})]}),(0,l.jsxs)("p",{className:"text-gray-600 mt-1",children:["DO: ",a.deliveryOrderNumber]})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(oa,{className:"size-4 text-gray-400"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-500",children:"Customer"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.customerName})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(w,{className:"size-4 text-gray-400"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-500",children:"Inspection Date"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:new Date(a.inspectionDate).toLocaleDateString()})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(F,{className:"size-4 text-gray-400"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-500",children:"Items Inspected"}),(0,l.jsxs)("p",{className:"text-[#231F20]",children:[a.totalItemsInspected," items"]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(oU,{className:"size-4 text-gray-400"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-500",children:"Repair Cost"}),(0,l.jsxs)("p",{className:"text-[#231F20]",children:["RM ",a.totalRepairCost.toFixed(2)]})]})]})]})]}),(0,l.jsxs)("div",{className:"flex lg:flex-col items-center gap-2",children:[(0,l.jsx)(a2,{variant:"outline",size:"sm",onClick:()=>c(a),children:(0,l.jsx)(ji,{className:"size-4"})}),a.totalDamaged>0&&!e.some(b=>b.conditionReportId===a.id)&&(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(a2,{size:"sm",onClick:()=>d(a.id),className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,l.jsx)(oU,{className:"size-4 mr-2"}),"Create Repair Slip"]})})]})]})})},a.id))})}function oW({report:a,onSave:b,onCancel:c}){let[d,e]=(0,m.useState)({rcfNumber:"",deliveryOrderNumber:"",customerName:"",returnedBy:"",returnDate:new Date().toISOString().split("T")[0],inspectionDate:new Date().toISOString().split("T")[0],inspectedBy:"Current User",status:"pending",notes:""}),[f,g]=(0,m.useState)([]);(0,m.useEffect)(()=>{a&&(e({rcfNumber:a.rcfNumber,deliveryOrderNumber:a.deliveryOrderNumber,customerName:a.customerName,returnedBy:a.returnedBy||"",returnDate:a.returnDate,inspectionDate:a.inspectionDate,inspectedBy:a.inspectedBy,status:a.status,notes:a.notes||""}),g(a.items))},[a]);let h=(a,b,c)=>{g(f.map(d=>{if(d.id===a){let a={...d,[b]:c};if("scaffoldingItemId"===b){let b=ob.find(a=>a.id===c);b&&(a.scaffoldingItemName=b.name,a.originalItemPrice=b.price||0)}if("quantityGood"===b||"quantityRepair"===b||"quantityWriteOff"===b){a.quantity=(a.quantityGood||0)+(a.quantityRepair||0)+(a.quantityWriteOff||0),a.repairRequired=(a.quantityRepair||0)>0||(a.quantityWriteOff||0)>0;let b=(a.quantityRepair||0)*(a.originalItemPrice||0)*.6,c=(a.quantityWriteOff||0)*(a.originalItemPrice||0)*1.2;a.estimatedRepairCost=b+c,(a.quantityWriteOff||0)>0?a.condition="beyond-repair":(a.quantityRepair||0)>0?a.condition="major-damage":a.condition="good"}if("originalItemPrice"===b){let b=(a.quantityRepair||0)*(c||0)*.6,d=(a.quantityWriteOff||0)*(c||0)*1.2;a.estimatedRepairCost=b+d}return a}return d}))},i=(a,b,c)=>{g(f.map(d=>d.id===a&&d.inspectionChecklist?{...d,inspectionChecklist:{...d.inspectionChecklist,[b]:c}}:d))},j=()=>{let a=f.reduce((a,b)=>a+b.quantity,0),b=f.reduce((a,b)=>a+(b.quantityGood||0),0),c=f.reduce((a,b)=>a+(b.quantityRepair||0),0),d=f.reduce((a,b)=>a+(b.quantityWriteOff||0),0);return{totalItemsInspected:a,totalGood:b,totalRepair:c,totalWriteOff:d,totalDamaged:c+d,totalRepairCost:f.reduce((a,b)=>a+b.estimatedRepairCost,0)}},k=j();return(0,l.jsxs)("div",{className:"p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(a2,{variant:"outline",onClick:c,children:(0,l.jsx)(gT,{className:"size-4"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-[#231F20]",children:a?"Edit Condition Report":"New Condition Report"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Inspection based on Return Completion Form (RCF)"})]})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{children:"Return Information"})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"rcfNumber",children:"RCF Number *"}),(0,l.jsx)(a3,{id:"rcfNumber",value:d.rcfNumber,onChange:a=>e({...d,rcfNumber:a.target.value}),placeholder:"RCF-XXXXXX"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"deliveryOrderNumber",children:"Delivery Order (DO) Number *"}),(0,l.jsx)(a3,{id:"deliveryOrderNumber",value:d.deliveryOrderNumber,onChange:a=>e({...d,deliveryOrderNumber:a.target.value}),placeholder:"DO-XXXXXX"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"customerName",children:"Customer Name *"}),(0,l.jsx)(a3,{id:"customerName",value:d.customerName,onChange:a=>e({...d,customerName:a.target.value}),placeholder:"Enter customer name"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"returnedBy",children:"Returned By *"}),(0,l.jsx)(a3,{id:"returnedBy",value:d.returnedBy,onChange:a=>e({...d,returnedBy:a.target.value}),placeholder:"Person who returned the items"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"returnDate",children:"Return Date"}),(0,l.jsx)(a3,{id:"returnDate",type:"date",value:d.returnDate,onChange:a=>e({...d,returnDate:a.target.value})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"inspectionDate",children:"Inspection Date"}),(0,l.jsx)(a3,{id:"inspectionDate",type:"date",value:d.inspectionDate,onChange:a=>e({...d,inspectionDate:a.target.value})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"inspectedBy",children:"Inspected By"}),(0,l.jsx)(a3,{id:"inspectedBy",value:d.inspectedBy,onChange:a=>e({...d,inspectedBy:a.target.value}),placeholder:"Inspector name"})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"notes",children:"General Notes"}),(0,l.jsx)(jE,{id:"notes",value:d.notes,onChange:a=>e({...d,notes:a.target.value}),placeholder:"Overall condition notes, special observations...",rows:2})]})]})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)(hy,{children:"Inspection Items"}),(0,l.jsxs)(a2,{onClick:()=>{g([...f,{id:`item-${Date.now()}`,scaffoldingItemId:"",scaffoldingItemName:"",quantity:0,quantityGood:0,quantityRepair:0,quantityWriteOff:0,condition:"good",damageDescription:"",images:[],repairRequired:!1,estimatedRepairCost:0,originalItemPrice:0,inspectionChecklist:{structuralIntegrity:!1,surfaceCondition:!1,connectionsSecure:!1,noCorrosion:!1,safetyCompliance:!1,completeParts:!1}}])},size:"sm",className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,l.jsx)(jI,{className:"size-4 mr-2"}),"Add Item"]})]})}),(0,l.jsxs)(hA,{className:"space-y-6",children:[0===f.length?(0,l.jsx)("div",{className:"text-center py-8 text-gray-500",children:'No items added yet. Click "Add Item" to start inspection.'}):f.map((a,b)=>(0,l.jsxs)("div",{className:"p-4 border rounded-lg space-y-4 bg-gray-50",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("h4",{className:"text-[#231F20]",children:["Item ",b+1]}),(0,l.jsx)(a2,{variant:"ghost",size:"sm",onClick:()=>{var b;return b=a.id,void g(f.filter(a=>a.id!==b))},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,l.jsx)(jV,{className:"size-4"})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"md:col-span-2 space-y-2",children:[(0,l.jsx)(gR,{children:"Scaffolding Item *"}),(0,l.jsxs)(iE,{value:a.scaffoldingItemId,onValueChange:b=>h(a.id,"scaffoldingItemId",b),children:[(0,l.jsx)(iG,{children:(0,l.jsx)(iF,{placeholder:"Select item type"})}),(0,l.jsx)(iH,{children:ob.map(a=>(0,l.jsx)(iI,{value:a.id,children:a.name},a.id))})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Original Item Price (RM)"}),(0,l.jsx)(a3,{type:"number",step:"0.01",min:"0",value:a.originalItemPrice||0,onChange:b=>h(a.id,"originalItemPrice",parseFloat(b.target.value)||0),placeholder:"0.00"}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"Auto-populated from RFQ"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Total Quantity"}),(0,l.jsx)(a3,{type:"number",value:a.quantity,disabled:!0,className:"bg-gray-200"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-3 bg-white rounded border",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-green-600",children:"Good"}),(0,l.jsx)(a3,{type:"number",min:"0",value:a.quantityGood||0,onChange:b=>h(a.id,"quantityGood",parseInt(b.target.value)||0),placeholder:"0"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-orange-600",children:"Need Repair"}),(0,l.jsx)(a3,{type:"number",min:"0",value:a.quantityRepair||0,onChange:b=>h(a.id,"quantityRepair",parseInt(b.target.value)||0),placeholder:"0"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-red-600",children:"Write Off"}),(0,l.jsx)(a3,{type:"number",min:"0",value:a.quantityWriteOff||0,onChange:b=>h(a.id,"quantityWriteOff",parseInt(b.target.value)||0),placeholder:"0"})]})]}),(0,l.jsxs)("div",{className:"space-y-3 p-3 bg-white rounded border",children:[(0,l.jsx)(gR,{className:"text-[#231F20]",children:"Item Inspection Checklist"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(g8,{id:`structural-${a.id}`,checked:a.inspectionChecklist?.structuralIntegrity||!1,onCheckedChange:b=>i(a.id,"structuralIntegrity",!!b)}),(0,l.jsxs)("label",{htmlFor:`structural-${a.id}`,className:"text-sm cursor-pointer flex items-center gap-2",children:[(0,l.jsx)(hg,{className:"size-4 text-gray-400"}),"Structural Integrity"]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(g8,{id:`surface-${a.id}`,checked:a.inspectionChecklist?.surfaceCondition||!1,onCheckedChange:b=>i(a.id,"surfaceCondition",!!b)}),(0,l.jsxs)("label",{htmlFor:`surface-${a.id}`,className:"text-sm cursor-pointer flex items-center gap-2",children:[(0,l.jsx)(hg,{className:"size-4 text-gray-400"}),"Surface Condition"]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(g8,{id:`connections-${a.id}`,checked:a.inspectionChecklist?.connectionsSecure||!1,onCheckedChange:b=>i(a.id,"connectionsSecure",!!b)}),(0,l.jsxs)("label",{htmlFor:`connections-${a.id}`,className:"text-sm cursor-pointer flex items-center gap-2",children:[(0,l.jsx)(hg,{className:"size-4 text-gray-400"}),"Connections Secure"]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(g8,{id:`corrosion-${a.id}`,checked:a.inspectionChecklist?.noCorrosion||!1,onCheckedChange:b=>i(a.id,"noCorrosion",!!b)}),(0,l.jsxs)("label",{htmlFor:`corrosion-${a.id}`,className:"text-sm cursor-pointer flex items-center gap-2",children:[(0,l.jsx)(hg,{className:"size-4 text-gray-400"}),"No Corrosion"]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(g8,{id:`safety-${a.id}`,checked:a.inspectionChecklist?.safetyCompliance||!1,onCheckedChange:b=>i(a.id,"safetyCompliance",!!b)}),(0,l.jsxs)("label",{htmlFor:`safety-${a.id}`,className:"text-sm cursor-pointer flex items-center gap-2",children:[(0,l.jsx)(hg,{className:"size-4 text-gray-400"}),"Safety Compliance"]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(g8,{id:`complete-${a.id}`,checked:a.inspectionChecklist?.completeParts||!1,onCheckedChange:b=>i(a.id,"completeParts",!!b)}),(0,l.jsxs)("label",{htmlFor:`complete-${a.id}`,className:"text-sm cursor-pointer flex items-center gap-2",children:[(0,l.jsx)(hg,{className:"size-4 text-gray-400"}),"Complete Parts"]})]})]})]}),a.repairRequired&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Damage Description"}),(0,l.jsx)(jE,{value:a.damageDescription,onChange:b=>h(a.id,"damageDescription",b.target.value),placeholder:"Describe the damage in detail...",rows:2})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Estimated Repair Cost (RM) - Auto Calculated"}),(0,l.jsx)(a3,{type:"number",value:a.estimatedRepairCost.toFixed(2),disabled:!0,className:"bg-gray-200"}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"Repair: 60%  Price  Qty | Write-off: 120%  Price  Qty"})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)(gR,{children:"Damage Photos"}),(0,l.jsxs)(a2,{variant:"outline",size:"sm",onClick:()=>document.getElementById(`file-${a.id}`)?.click(),children:[(0,l.jsx)(hD,{className:"size-4 mr-2"}),"Upload Images"]}),(0,l.jsx)("input",{id:`file-${a.id}`,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:b=>{var c;let d;return c=a.id,void((d=b.target.files)&&(Array.from(d).forEach(a=>{let b=new FileReader;b.onload=b=>{let d={id:`img-${Date.now()}-${Math.random()}`,url:b.target?.result,caption:a.name,uploadedAt:new Date().toISOString()};g(f.map(a=>a.id===c?{...a,images:[...a.images,d]}:a))},b.readAsDataURL(a)}),gG.success(`${d.length} image(s) uploaded`)))}})]}),a.images.length>0&&(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:a.images.map(b=>(0,l.jsxs)("div",{className:"relative group",children:[(0,l.jsx)("img",{src:b.url,alt:b.caption||"Damage photo",className:"w-full h-24 object-cover rounded border"}),(0,l.jsx)(a2,{variant:"ghost",size:"sm",onClick:()=>{var c,d;return c=a.id,d=b.id,void g(f.map(a=>a.id===c?{...a,images:a.images.filter(a=>a.id!==d)}:a))},className:"absolute top-1 right-1 size-6 p-0 bg-red-600 hover:bg-red-700 text-white opacity-0 group-hover:opacity-100 transition-opacity",children:(0,l.jsx)(D,{className:"size-4"})}),(0,l.jsx)("p",{className:"text-xs text-gray-600 mt-1 truncate",children:b.caption})]},b.id))})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 pt-2 border-t flex-wrap",children:[(0,l.jsx)(jk,{className:{good:"bg-green-100 text-green-800","minor-damage":"bg-yellow-100 text-yellow-800","major-damage":"bg-orange-100 text-orange-800","beyond-repair":"bg-red-100 text-red-800"}[a.condition],children:a.condition.replace("-"," ").toUpperCase()}),a.repairRequired&&(0,l.jsx)(jk,{className:"bg-amber-100 text-amber-800",children:"REPAIR REQUIRED"}),a.images.length>0&&(0,l.jsxs)(jk,{variant:"outline",className:"flex items-center gap-1",children:[(0,l.jsx)(j$,{className:"size-3"}),a.images.length," photo(s)"]}),a.quantityRepair>0&&(0,l.jsxs)(jk,{className:"bg-amber-100 text-amber-800 ml-auto",children:["Repair: ",a.quantityRepair," items"]}),a.quantityWriteOff>0&&(0,l.jsxs)(jk,{className:"bg-red-100 text-red-800 ml-auto",children:["Write-off: ",a.quantityWriteOff," items"]})]})]},a.id)),f.length>0&&(0,l.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2 border border-gray-200",children:[(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsx)("span",{className:"text-[#231F20]",children:"Total Items Inspected:"}),(0,l.jsx)("span",{className:"text-[#231F20]",children:k.totalItemsInspected})]}),(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsx)("span",{className:"text-[#231F20]",children:"Good Condition:"}),(0,l.jsx)("span",{className:"text-[#231F20]",children:k.totalGood})]}),(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsx)("span",{className:"text-[#231F20]",children:"Need Repair:"}),(0,l.jsx)("span",{className:"text-[#231F20]",children:k.totalRepair})]}),(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsx)("span",{className:"text-[#231F20]",children:"Write-off:"}),(0,l.jsx)("span",{className:"text-[#231F20]",children:k.totalWriteOff})]}),(0,l.jsxs)("div",{className:"flex justify-between pt-2 border-t border-gray-300",children:[(0,l.jsx)("span",{className:"text-[#231F20]",children:"Estimated Total Repair Cost:"}),(0,l.jsxs)("span",{className:"text-[#231F20]",children:["RM ",k.totalRepairCost.toFixed(2)]})]})]})]})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,l.jsx)(a2,{variant:"outline",onClick:c,children:"Cancel"}),(0,l.jsxs)(a2,{onClick:()=>{if(!d.rcfNumber||!d.deliveryOrderNumber||!d.customerName||!d.returnedBy)return void gG.error("Please fill in all required fields");if(0===f.length)return void gG.error("Please add at least one inspection item");if(f.some(a=>!a.scaffoldingItemId))return void gG.error("Please complete all item details");if(f.some(a=>0===a.quantity))return void gG.error("Please enter quantities for all items");let c=j(),e=new Date().toISOString();b({id:a?.id||`cr-${Date.now()}`,...d,items:f,...c,createdAt:a?.createdAt||e,updatedAt:e}),gG.success("Condition report saved successfully")},className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,l.jsx)(jY,{className:"size-4 mr-2"}),"Save Condition Report"]})]})]})}function oX({repairSlips:a,searchQuery:b,onView:c,onUpdateStatus:d,onGenerateDamageInvoice:e}){let f=a.filter(a=>a.orpNumber.toLowerCase().includes(b.toLowerCase())||a.rcfNumber.toLowerCase().includes(b.toLowerCase()));return 0===f.length?(0,l.jsx)(hw,{children:(0,l.jsxs)(hA,{className:"py-12 text-center",children:[(0,l.jsx)(S,{className:"size-12 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-600",children:"No repair slips found"}),(0,l.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:b?"Try adjusting your search":"Create repair slips from condition reports"})]})}):(0,l.jsx)("div",{className:"space-y-4",children:f.map(a=>(0,l.jsx)(hw,{className:"hover:shadow-md transition-shadow",children:(0,l.jsx)(hA,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,l.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,l.jsx)("div",{className:"flex items-start justify-between",children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,l.jsx)("h3",{className:"text-[#231F20]",children:a.orpNumber}),(0,l.jsx)(jk,{className:{open:"bg-blue-100 text-blue-800","in-repair":"bg-amber-100 text-amber-800",completed:"bg-green-100 text-green-800",cancelled:"bg-gray-100 text-gray-800"}[a.status],children:a.status.toUpperCase()}),(0,l.jsx)(jk,{className:{low:"bg-gray-100 text-gray-800",medium:"bg-blue-100 text-blue-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"}[a.priority],children:a.priority.toUpperCase()})]}),(0,l.jsxs)("p",{className:"text-gray-600 mt-1",children:["RCF: ",a.rcfNumber]})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(S,{className:"size-4 text-gray-400"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-500",children:"Repair Items"}),(0,l.jsxs)("p",{className:"text-[#231F20]",children:[a.items.length," items"]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(w,{className:"size-4 text-gray-400"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-500",children:"Created"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:new Date(a.createdAt).toLocaleDateString()})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(oa,{className:"size-4 text-gray-400"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-500",children:"Assigned To"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.assignedTo||"Unassigned"})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(hE,{className:"size-4 text-gray-400"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-500",children:"Est. Cost"}),(0,l.jsxs)("p",{className:"text-[#231F20]",children:["RM ",a.estimatedCost.toFixed(2)]})]})]})]}),a.completionDate&&(0,l.jsxs)("div",{className:"text-sm text-green-600",children:["Completed on ",new Date(a.completionDate).toLocaleDateString()]})]}),(0,l.jsxs)("div",{className:"flex lg:flex-col items-center gap-2",children:[(0,l.jsxs)(a2,{variant:"outline",size:"sm",onClick:()=>c(a),children:[(0,l.jsx)(gN,{className:"size-4 mr-2"}),"View Details"]}),!a.damageInvoiceId&&(0,l.jsxs)(a2,{variant:"outline",size:"sm",onClick:()=>e(a.id),className:"bg-[#F15929] text-white hover:bg-[#d94d1f]",children:[(0,l.jsx)(v,{className:"size-4 mr-2"}),"Generate Invoice"]}),a.damageInvoiceId&&(0,l.jsx)(jk,{className:"bg-green-100 text-green-800",children:"Invoice Generated"})]})]})})},a.id))})}let oY=s("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);function oZ({repairSlip:a,onBack:b,onUpdateStatus:c,onPrint:d}){return(0,l.jsxs)("div",{className:"p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(a2,{variant:"outline",onClick:b,children:(0,l.jsx)(gT,{className:"size-4"})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("h1",{className:"text-[#231F20]",children:a.orpNumber}),(0,l.jsx)(jk,{className:{open:"bg-blue-100 text-blue-800","in-repair":"bg-amber-100 text-amber-800",completed:"bg-green-100 text-green-800",cancelled:"bg-gray-100 text-gray-800"}[a.status],children:a.status.toUpperCase()}),(0,l.jsxs)(jk,{className:{low:"bg-gray-100 text-gray-800",medium:"bg-blue-100 text-blue-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"}[a.priority],children:[a.priority.toUpperCase()," PRIORITY"]})]}),(0,l.jsx)("p",{className:"text-gray-600",children:"Open Repair Slip Details"})]})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:["in-repair"===a.status&&(0,l.jsxs)(a2,{onClick:()=>c(a.id,"completed"),className:"bg-green-600 hover:bg-green-700",children:[(0,l.jsx)(hE,{className:"size-4 mr-2"}),"Mark Complete"]}),(0,l.jsxs)(a2,{onClick:()=>d&&d(a),className:"bg-gray-600 hover:bg-gray-700",children:[(0,l.jsx)(oY,{className:"size-4 mr-2"}),"Print"]})]})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{children:"Repair Slip Information"})}),(0,l.jsxs)(hA,{children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(S,{className:"size-5 text-gray-400 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Related RCF"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.rcfNumber})]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(oa,{className:"size-5 text-gray-400 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Assigned To"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.assignedTo||"Unassigned"})]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(w,{className:"size-5 text-gray-400 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Created Date"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:new Date(a.createdAt).toLocaleDateString()})]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(u,{className:"size-5 text-gray-400 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Estimated Cost"}),(0,l.jsxs)("p",{className:"text-[#231F20]",children:["RM ",a.estimatedCost.toFixed(2)]})]})]})]}),a.startDate&&(0,l.jsx)("div",{className:"mt-6 pt-6 border-t",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(w,{className:"size-5 text-gray-400 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Start Date"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:new Date(a.startDate).toLocaleDateString()})]})]}),a.completionDate&&(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(hE,{className:"size-5 text-green-600 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Completion Date"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:new Date(a.completionDate).toLocaleDateString()})]})]}),a.actualCost>0&&(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(u,{className:"size-5 text-gray-400 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Actual Cost"}),(0,l.jsxs)("p",{className:"text-[#231F20]",children:["RM ",a.actualCost.toFixed(2)]})]})]})]})}),a.repairNotes&&(0,l.jsxs)("div",{className:"mt-6 pt-6 border-t",children:[(0,l.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Repair Notes"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.repairNotes})]})]})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{children:"Items Requiring Repair"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)(ju,{children:[(0,l.jsx)(jv,{children:(0,l.jsxs)(jx,{children:[(0,l.jsx)(jy,{className:"w-12",children:"#"}),(0,l.jsx)(jy,{children:"Item Description"}),(0,l.jsx)(jy,{children:"Quantity"}),(0,l.jsx)(jy,{children:"Damage Type"}),(0,l.jsx)(jy,{children:"Repair Actions"}),(0,l.jsx)(jy,{children:"Status"}),(0,l.jsx)(jy,{className:"text-right",children:"Cost (RM)"})]})}),(0,l.jsxs)(jw,{children:[a.items.map((a,b)=>(0,l.jsxs)(jx,{children:[(0,l.jsx)(jz,{children:b+1}),(0,l.jsx)(jz,{children:(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#231F20]",children:a.scaffoldingItemName}),a.damageDescription&&(0,l.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:a.damageDescription})]})}),(0,l.jsx)(jz,{children:a.quantity}),(0,l.jsx)(jz,{children:(0,l.jsx)(jk,{variant:"outline",children:a.damageType.replace("-"," ").toUpperCase()})}),(0,l.jsx)(jz,{children:(0,l.jsx)("div",{className:"space-y-1",children:a.repairActions.map((a,b)=>(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:[" ",a]},b))})}),(0,l.jsx)(jz,{children:(0,l.jsx)(jk,{className:{pending:"bg-gray-100 text-gray-800","in-progress":"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",scrapped:"bg-red-100 text-red-800"}[a.repairStatus]||"bg-gray-100 text-gray-800",children:a.repairStatus.replace("-"," ").toUpperCase()})}),(0,l.jsx)(jz,{className:"text-right",children:a.totalCost.toFixed(2)})]},a.id)),(0,l.jsxs)(jx,{children:[(0,l.jsx)(jz,{colSpan:6,className:"text-right",children:(0,l.jsx)("span",{className:"text-[#231F20]",children:"Total Estimated Cost:"})}),(0,l.jsx)(jz,{className:"text-right",children:(0,l.jsxs)("span",{className:"text-[#231F20]",children:["RM ",a.estimatedCost.toFixed(2)]})})]})]})]})})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{children:"Additional Information"})}),(0,l.jsxs)(hA,{children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Created By"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.createdBy})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Created At"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:new Date(a.createdAt).toLocaleString()})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Last Updated"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:new Date(a.updatedAt).toLocaleString()})]})]}),a.invoiceNumber&&(0,l.jsxs)("div",{className:"mt-6 pt-6 border-t",children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Associated Invoice"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.invoiceNumber})]})]})]})]})}let o$=[{value:"bent",label:"Bent/Deformed"},{value:"cracked",label:"Cracked/Broken"},{value:"corroded",label:"Rust/Corrosion"},{value:"missing-parts",label:"Missing Parts"},{value:"welding-required",label:"Welding Required"},{value:"other",label:"Other Damage"}],o_=["Straightening","Welding","Rust Removal","Painting","Part Replacement","Cleaning","Load Testing","Reinforcement","Scrap & Replace","Others"];function o0({repairSlip:a,conditionReport:b,onSave:c,onCancel:d}){let[e,f]=(0,m.useState)({orpNumber:a?.orpNumber||`ORP-${Date.now()}`,conditionReportId:a?.conditionReportId||b?.id||"",rcfNumber:a?.rcfNumber||b?.rcfNumber||"",status:a?.status||"open",priority:a?.priority||"medium",estimatedCost:a?.estimatedCost||0,actualCost:a?.actualCost||0,repairNotes:a?.repairNotes||"",assignedTo:a?.assignedTo||"",startDate:a?.startDate||"",createdBy:a?.createdBy||"Current User"}),[g,h]=(0,m.useState)(a?.items||[]);(0,m.useEffect)(()=>{b&&!a&&h(b.items.filter(a=>a.repairRequired).map(a=>{let b=(a.quantityRepair||0)+(a.quantityWriteOff||0),c=b>0?a.estimatedRepairCost/b:a.estimatedRepairCost;return{id:`repair-item-${Date.now()}-${Math.random()}`,inspectionItemId:a.id,scaffoldingItemId:a.scaffoldingItemId,scaffoldingItemName:a.scaffoldingItemName,quantity:b,damageType:"other",damageDescription:a.damageDescription||"",repairActions:[],repairStatus:"pending",costPerUnit:c,totalCost:a.estimatedRepairCost,beforeImages:a.images.map(a=>a.url),afterImages:[]}}))},[b,a]),(0,m.useEffect)(()=>{let a=g.reduce((a,b)=>a+b.totalCost,0);f(b=>({...b,estimatedCost:a}))},[g]);let i=(a,b,c)=>{h(g.map(d=>{if(d.id===a){let a={...d,[b]:c};return("costPerUnit"===b||"quantity"===b)&&(a.totalCost=a.costPerUnit*a.quantity),a}return d}))};return(0,l.jsxs)("div",{className:"p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(a2,{variant:"ghost",size:"icon",onClick:d,children:(0,l.jsx)(gT,{className:"size-5"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-[#231F20]",children:a?"Edit Repair Slip":"Create Repair Slip"}),(0,l.jsx)("p",{className:"text-gray-600",children:b?`From RCF: ${b.rcfNumber}`:"Enter repair details"})]})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(a2,{variant:"outline",onClick:d,children:"Cancel"}),(0,l.jsxs)(a2,{onClick:()=>{e.rcfNumber?0===g.length?gG.error("At least one repair item is required"):g.filter(a=>!a.scaffoldingItemName||!a.damageDescription||0===a.repairActions.length).length>0?gG.error("Please complete all repair item details"):(c({id:a?.id||`repair-${Date.now()}`,orpNumber:e.orpNumber,conditionReportId:e.conditionReportId,rcfNumber:e.rcfNumber,items:g,status:e.status,priority:e.priority,assignedTo:e.assignedTo,startDate:e.startDate,completionDate:a?.completionDate,estimatedCost:e.estimatedCost,actualCost:e.actualCost,repairNotes:e.repairNotes,invoiceNumber:a?.invoiceNumber,createdBy:e.createdBy,createdAt:a?.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString()}),gG.success(a?"Repair slip updated successfully":"Repair slip created successfully")):gG.error("RCF Number is required")},className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[a?"Update":"Create"," Repair Slip"]})]})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{children:"Basic Information"})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"ORP Number"}),(0,l.jsx)(a3,{value:e.orpNumber,onChange:a=>f({...e,orpNumber:a.target.value}),placeholder:"ORP-XXXXX"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"RCF Number"}),(0,l.jsx)(a3,{value:e.rcfNumber,onChange:a=>f({...e,rcfNumber:a.target.value}),placeholder:"RCF-XXXXX",disabled:!!b})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Priority"}),(0,l.jsxs)(iE,{value:e.priority,onValueChange:a=>f({...e,priority:a}),children:[(0,l.jsx)(iG,{children:(0,l.jsx)(iF,{})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"low",children:"Low"}),(0,l.jsx)(iI,{value:"medium",children:"Medium"}),(0,l.jsx)(iI,{value:"high",children:"High"}),(0,l.jsx)(iI,{value:"urgent",children:"Urgent"})]})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Assigned To"}),(0,l.jsx)(a3,{value:e.assignedTo,onChange:a=>f({...e,assignedTo:a.target.value}),placeholder:"Technician name"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Start Date"}),(0,l.jsx)(a3,{type:"date",value:e.startDate,onChange:a=>f({...e,startDate:a.target.value})})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Repair Notes"}),(0,l.jsx)(jE,{value:e.repairNotes,onChange:a=>f({...e,repairNotes:a.target.value}),placeholder:"Additional notes about the repair...",rows:3})]})]})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)(hy,{children:"Repair Items"}),(0,l.jsxs)(a2,{onClick:()=>{h([...g,{id:`repair-item-${Date.now()}-${Math.random()}`,inspectionItemId:"",scaffoldingItemId:"",scaffoldingItemName:"",quantity:1,damageType:"other",damageDescription:"",repairActions:[],repairStatus:"pending",costPerUnit:0,totalCost:0,beforeImages:[],afterImages:[]}])},variant:"outline",size:"sm",children:[(0,l.jsx)(jI,{className:"size-4 mr-2"}),"Add Item"]})]})}),(0,l.jsxs)(hA,{className:"space-y-6",children:[0===g.length?(0,l.jsx)("div",{className:"text-center py-8 text-gray-500",children:'No repair items added. Click "Add Item" to add repair items.'}):g.map((a,c)=>(0,l.jsxs)("div",{className:"p-4 border rounded-lg space-y-4 relative",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("h4",{className:"text-[#231F20]",children:["Item #",c+1]}),(0,l.jsx)(a2,{variant:"ghost",size:"icon",onClick:()=>{var b;return b=a.id,void h(g.filter(a=>a.id!==b))},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,l.jsx)(jV,{className:"size-4"})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Scaffolding Item Name"}),(0,l.jsx)(a3,{value:a.scaffoldingItemName,onChange:b=>i(a.id,"scaffoldingItemName",b.target.value),placeholder:"e.g., Standard Frame",disabled:!!b,className:b?"bg-gray-200":""}),b&&(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"From condition report"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Quantity"}),(0,l.jsx)(a3,{type:"number",value:a.quantity,onChange:b=>i(a.id,"quantity",parseInt(b.target.value)||0),min:"1",disabled:!!b,className:b?"bg-gray-200":""}),b&&(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"From condition report"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Damage Type"}),(0,l.jsxs)(iE,{value:a.damageType,onValueChange:b=>i(a.id,"damageType",b),children:[(0,l.jsx)(iG,{children:(0,l.jsx)(iF,{})}),(0,l.jsx)(iH,{children:o$.map(a=>(0,l.jsx)(iI,{value:a.value,children:a.label},a.value))})]})]})]}),"other"===a.damageType&&(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Damage Description"}),(0,l.jsx)(jE,{value:a.damageDescription,onChange:b=>i(a.id,"damageDescription",b.target.value),placeholder:"Describe the damage...",rows:2})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Repair Actions Required"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:o_.map(b=>(0,l.jsx)(jk,{variant:a.repairActions.includes(b)?"default":"outline",className:`cursor-pointer ${a.repairActions.includes(b)?"bg-[#F15929] hover:bg-[#d94d1f]":"hover:bg-gray-100"}`,onClick:()=>{var c;return c=a.id,void h(g.map(a=>{if(a.id===c){let c=a.repairActions.includes(b)?a.repairActions.filter(a=>a!==b):[...a.repairActions,b];return{...a,repairActions:c}}return a}))},children:b},b))})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Repair Status"}),(0,l.jsxs)(iE,{value:a.repairStatus,onValueChange:b=>i(a.id,"repairStatus",b),children:[(0,l.jsx)(iG,{children:(0,l.jsx)(iF,{})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"pending",children:"Pending"}),(0,l.jsx)(iI,{value:"in-progress",children:"In Progress"}),(0,l.jsx)(iI,{value:"completed",children:"Completed"}),(0,l.jsx)(iI,{value:"scrapped",children:"Scrapped"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Total Cost (RM)"}),(0,l.jsx)(a3,{type:"number",value:a.totalCost.toFixed(2),disabled:!0,className:"bg-gray-200"}),b&&(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"Auto-calculated from condition report"})]})]})]},a.id)),g.length>0&&(0,l.jsx)("div",{className:"pt-4 border-t",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-[#231F20]",children:"Estimated Total Cost:"}),(0,l.jsxs)("span",{className:"text-[#231F20]",children:["RM ",e.estimatedCost?.toFixed(2)]})]})})]})]})]})}function o1({repairSlip:a,onClose:b}){let c=(0,m.useRef)(null);return(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6 print:hidden",children:[(0,l.jsx)("h1",{className:"text-[#231F20]",children:"Open Repair Slip - Print Preview"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)(a2,{variant:"outline",onClick:b,children:[(0,l.jsx)(D,{className:"size-4 mr-2"}),"Close"]}),(0,l.jsxs)(a2,{variant:"outline",onClick:()=>{gG.info('Use the Print dialog and select "Save as PDF" to download'),window.print()},children:[(0,l.jsx)(jg,{className:"size-4 mr-2"}),"Download PDF"]}),(0,l.jsxs)(a2,{onClick:()=>{window.print()},className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,l.jsx)(oY,{className:"size-4 mr-2"}),"Print"]})]})]}),(0,l.jsx)(hw,{className:"max-w-4xl mx-auto",children:(0,l.jsxs)(hA,{className:"p-12",ref:c,children:[(0,l.jsx)("div",{className:"border-b-4 border-[#F15929] pb-6 mb-6",children:(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-[#231F20] text-3xl mb-2",children:"Power Metal & Steel"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Scaffolding Rental & Services"})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("div",{className:"text-[#F15929] text-xl mb-2",children:"OPEN REPAIR SLIP"}),(0,l.jsx)("div",{className:"text-[#231F20]",children:a.orpNumber})]})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-[#231F20] mb-4",children:"Repair Slip Details"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("span",{className:"text-gray-600 w-32",children:"RCF Number:"}),(0,l.jsx)("span",{className:"text-[#231F20]",children:a.rcfNumber})]}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("span",{className:"text-gray-600 w-32",children:"Priority:"}),(0,l.jsx)("span",{className:"text-[#231F20]",children:a.priority.toUpperCase()})]}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("span",{className:"text-gray-600 w-32",children:"Status:"}),(0,l.jsx)("span",{className:"text-[#231F20]",children:a.status.toUpperCase()})]}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("span",{className:"text-gray-600 w-32",children:"Created Date:"}),(0,l.jsx)("span",{className:"text-[#231F20]",children:new Date(a.createdAt).toLocaleDateString()})]}),a.startDate&&(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("span",{className:"text-gray-600 w-32",children:"Start Date:"}),(0,l.jsx)("span",{className:"text-[#231F20]",children:new Date(a.startDate).toLocaleDateString()})]}),a.completionDate&&(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("span",{className:"text-gray-600 w-32",children:"Completion Date:"}),(0,l.jsx)("span",{className:"text-[#231F20]",children:new Date(a.completionDate).toLocaleDateString()})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-[#231F20] mb-4",children:"Assignment & Cost"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("span",{className:"text-gray-600 w-32",children:"Assigned To:"}),(0,l.jsx)("span",{className:"text-[#231F20]",children:a.assignedTo||"Unassigned"})]}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("span",{className:"text-gray-600 w-32",children:"Created By:"}),(0,l.jsx)("span",{className:"text-[#231F20]",children:a.createdBy})]}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("span",{className:"text-gray-600 w-32",children:"Estimated Cost:"}),(0,l.jsxs)("span",{className:"text-[#231F20]",children:["RM ",a.estimatedCost.toFixed(2)]})]}),a.actualCost>0&&(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("span",{className:"text-gray-600 w-32",children:"Actual Cost:"}),(0,l.jsxs)("span",{className:"text-[#231F20]",children:["RM ",a.actualCost.toFixed(2)]})]})]})]})]}),a.repairNotes&&(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h3",{className:"text-[#231F20] mb-2",children:"Repair Notes"}),(0,l.jsx)("p",{className:"text-sm text-gray-700 p-3 bg-gray-50 rounded",children:a.repairNotes})]}),(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h3",{className:"text-[#231F20] mb-4",children:"Items Requiring Repair"}),(0,l.jsxs)("table",{className:"w-full border-collapse",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"bg-gray-100",children:[(0,l.jsx)("th",{className:"border border-gray-300 p-2 text-left text-sm",children:"#"}),(0,l.jsx)("th",{className:"border border-gray-300 p-2 text-left text-sm",children:"Item Description"}),(0,l.jsx)("th",{className:"border border-gray-300 p-2 text-center text-sm",children:"Qty"}),(0,l.jsx)("th",{className:"border border-gray-300 p-2 text-left text-sm",children:"Damage Type"}),(0,l.jsx)("th",{className:"border border-gray-300 p-2 text-left text-sm",children:"Repair Actions"}),(0,l.jsx)("th",{className:"border border-gray-300 p-2 text-left text-sm",children:"Status"}),(0,l.jsx)("th",{className:"border border-gray-300 p-2 text-right text-sm",children:"Cost (RM)"})]})}),(0,l.jsxs)("tbody",{children:[a.items.map((a,b)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"border border-gray-300 p-2 text-sm",children:b+1}),(0,l.jsx)("td",{className:"border border-gray-300 p-2 text-sm",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-[#231F20]",children:a.scaffoldingItemName}),a.damageDescription&&(0,l.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:a.damageDescription})]})}),(0,l.jsx)("td",{className:"border border-gray-300 p-2 text-center text-sm",children:a.quantity}),(0,l.jsx)("td",{className:"border border-gray-300 p-2 text-sm",children:a.damageType.replace("-"," ").toUpperCase()}),(0,l.jsx)("td",{className:"border border-gray-300 p-2 text-sm",children:(0,l.jsx)("ul",{className:"list-disc list-inside text-xs",children:a.repairActions.map((a,b)=>(0,l.jsx)("li",{children:a},b))})}),(0,l.jsx)("td",{className:"border border-gray-300 p-2 text-sm",children:a.repairStatus.replace("-"," ").toUpperCase()}),(0,l.jsx)("td",{className:"border border-gray-300 p-2 text-right text-sm",children:a.totalCost.toFixed(2)})]},a.id)),(0,l.jsxs)("tr",{className:"bg-gray-100",children:[(0,l.jsx)("td",{colSpan:6,className:"border border-gray-300 p-2 text-right text-sm",children:(0,l.jsx)("strong",{children:"Total Estimated Cost:"})}),(0,l.jsx)("td",{className:"border border-gray-300 p-2 text-right text-sm",children:(0,l.jsxs)("strong",{className:"text-[#F15929]",children:["RM ",a.estimatedCost.toFixed(2)]})})]})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-12 mt-16",children:[(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"border-t-2 border-[#231F20] pt-2 mt-16",children:[(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Prepared By"}),(0,l.jsx)("div",{className:"text-sm text-[#231F20] mt-1",children:a.createdBy}),(0,l.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Date: ",new Date(a.createdAt).toLocaleDateString()]})]})}),(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"border-t-2 border-[#231F20] pt-2 mt-16",children:[(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Technician Acknowledgment"}),(0,l.jsx)("div",{className:"text-sm text-[#231F20] mt-1",children:a.assignedTo||"_____________________"}),(0,l.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Date: _____________________"})]})})]}),(0,l.jsxs)("div",{className:"mt-12 pt-6 border-t border-gray-300 text-center text-xs text-gray-500",children:[(0,l.jsx)("p",{children:"This is a computer-generated document. No signature is required for validity."}),(0,l.jsxs)("p",{className:"mt-1",children:["Power Metal & Steel | Generated on ",new Date().toLocaleString()]})]})]})}),(0,l.jsx)("style",{children:`
        @media print {
          body * {
            visibility: hidden;
          }
          .print\\:hidden {
            display: none !important;
          }
          #root, #root * {
            visibility: visible;
          }
          ${c.current?`#${c.current.id}`:""} {
            position: absolute;
            left: 0;
            top: 0;
          }
        }
      `})]})}function o2({invoice:a,onClose:b}){let c=(0,m.useRef)(null);return(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6 print:hidden",children:[(0,l.jsx)("h1",{className:"text-[#231F20]",children:"Damage Invoice - Print Preview"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)(a2,{variant:"outline",onClick:b,children:[(0,l.jsx)(D,{className:"size-4 mr-2"}),"Close"]}),(0,l.jsxs)(a2,{variant:"outline",onClick:()=>{gG.info('Use the Print dialog and select "Save as PDF" to download'),window.print()},children:[(0,l.jsx)(jg,{className:"size-4 mr-2"}),"Download PDF"]}),(0,l.jsxs)(a2,{onClick:()=>{window.print()},className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,l.jsx)(oY,{className:"size-4 mr-2"}),"Print"]})]})]}),(0,l.jsx)(hw,{className:"max-w-4xl mx-auto",children:(0,l.jsxs)(hA,{className:"p-12",ref:c,children:[(0,l.jsx)("div",{className:"border-b-4 border-[#F15929] pb-6 mb-6",children:(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-[#231F20] mb-2",children:"POWER METAL & STEEL"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Scaffolding Equipment Supplier"}),(0,l.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:["123 Industrial Park, Johor Bahru",(0,l.jsx)("br",{}),"Johor, Malaysia 81200",(0,l.jsx)("br",{}),"Tel: +60 12-345 6789",(0,l.jsx)("br",{}),"Email: info@powermetalsteel.com"]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("h2",{className:"text-[#231F20] mb-4",children:"DAMAGE INVOICE"}),(0,l.jsxs)("div",{className:"text-sm space-y-1",children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Invoice No:"})," ",a.invoiceNumber]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"ORP No:"})," ",a.orpNumber]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Date:"})," ",new Date(a.invoiceDate).toLocaleDateString()]})]})]})]})}),a.vendor&&(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h3",{className:"text-sm text-gray-600 mb-2",children:"BILLED TO:"}),(0,l.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,l.jsx)("p",{className:"text-[#231F20]",children:a.vendor})})]}),(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsxs)("table",{className:"w-full border-collapse",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"border-b-2 border-gray-300",children:[(0,l.jsx)("th",{className:"text-left py-3 px-2 text-sm text-[#231F20]",children:"No."}),(0,l.jsx)("th",{className:"text-left py-3 px-2 text-sm text-[#231F20]",children:"Description"}),(0,l.jsx)("th",{className:"text-right py-3 px-2 text-sm text-[#231F20]",children:"Qty"}),(0,l.jsx)("th",{className:"text-right py-3 px-2 text-sm text-[#231F20]",children:"Unit Price (RM)"}),(0,l.jsx)("th",{className:"text-right py-3 px-2 text-sm text-[#231F20]",children:"Total (RM)"})]})}),(0,l.jsx)("tbody",{children:a.items.map((a,b)=>(0,l.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,l.jsx)("td",{className:"py-3 px-2 text-sm",children:b+1}),(0,l.jsx)("td",{className:"py-3 px-2 text-sm",children:a.description}),(0,l.jsx)("td",{className:"py-3 px-2 text-sm text-right",children:a.quantity}),(0,l.jsx)("td",{className:"py-3 px-2 text-sm text-right",children:a.unitPrice.toFixed(2)}),(0,l.jsx)("td",{className:"py-3 px-2 text-sm text-right",children:a.total.toFixed(2)})]},a.id))})]})}),(0,l.jsx)("div",{className:"flex justify-end mb-8",children:(0,l.jsxs)("div",{className:"w-64 space-y-3",children:[(0,l.jsxs)("div",{className:"flex justify-between pb-2",children:[(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"Subtotal:"}),(0,l.jsxs)("span",{className:"text-sm text-[#231F20]",children:["RM ",a.subtotal.toFixed(2)]})]}),(0,l.jsxs)("div",{className:"flex justify-between pb-2",children:[(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"Tax (SST):"}),(0,l.jsxs)("span",{className:"text-sm text-[#231F20]",children:["RM ",a.tax.toFixed(2)]})]}),(0,l.jsxs)("div",{className:"flex justify-between pt-2 border-t-2 border-gray-300",children:[(0,l.jsx)("span",{className:"text-[#231F20]",children:"Total Amount:"}),(0,l.jsxs)("span",{className:"text-[#F15929]",children:["RM ",a.total.toFixed(2)]})]})]})}),(0,l.jsx)("div",{className:"mb-8 p-4 bg-gray-50 rounded-lg",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Payment Status:"}),(0,l.jsx)("p",{className:`text-sm mt-1 ${"paid"===a.paymentStatus?"text-green-600":"overdue"===a.paymentStatus?"text-red-600":"text-amber-600"}`,children:a.paymentStatus.toUpperCase()})]}),a.paidDate&&(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Paid On:"}),(0,l.jsx)("p",{className:"text-sm text-green-600 mt-1",children:new Date(a.paidDate).toLocaleDateString()})]})]})}),a.notes&&(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h3",{className:"text-sm text-gray-600 mb-2",children:"NOTES:"}),(0,l.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,l.jsx)("p",{className:"text-sm text-[#231F20]",children:a.notes})})]}),(0,l.jsx)("div",{className:"mt-12 pt-8 border-t-2 border-gray-300",children:(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-12",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-sm text-[#231F20] mb-8",children:"COMPANY REPRESENTATIVE:"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("div",{className:"border-b border-gray-400 pb-2",children:(0,l.jsx)("p",{className:"text-xs text-gray-500 mb-8",children:"Signature"})}),(0,l.jsx)("div",{className:"border-b border-gray-400 pb-2",children:(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"Name"})}),(0,l.jsx)("div",{className:"border-b border-gray-400 pb-2",children:(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"Position"})}),(0,l.jsx)("div",{className:"border-b border-gray-400 pb-2",children:(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"Date"})}),(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("p",{className:"text-xs text-gray-500 italic",children:"Company Stamp"}),(0,l.jsx)("div",{className:"border-2 border-dashed border-gray-300 h-20 rounded mt-2"})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-sm text-[#231F20] mb-8",children:"AUTHORIZED BY (POWER METAL & STEEL):"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("div",{className:"border-b border-gray-400 pb-2",children:(0,l.jsx)("p",{className:"text-xs text-gray-500 mb-8",children:"Signature"})}),(0,l.jsx)("div",{className:"border-b border-gray-400 pb-2",children:(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"Name"})}),(0,l.jsx)("div",{className:"border-b border-gray-400 pb-2",children:(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"Position"})}),(0,l.jsx)("div",{className:"border-b border-gray-400 pb-2",children:(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"Date"})})]})]})]})}),(0,l.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[(0,l.jsx)("h4",{className:"text-xs text-gray-600 mb-2",children:"TERMS & CONDITIONS:"}),(0,l.jsxs)("ul",{className:"text-xs text-gray-500 space-y-1",children:[(0,l.jsx)("li",{children:" Payment is due within 30 days from the invoice date."}),(0,l.jsx)("li",{children:" Late payments will incur a 2% monthly interest charge."}),(0,l.jsx)("li",{children:" All damage charges are based on actual repair costs or replacement value."}),(0,l.jsx)("li",{children:" Customer is responsible for damages beyond normal wear and tear."}),(0,l.jsx)("li",{children:" Any disputes must be raised within 7 days of invoice date."}),(0,l.jsx)("li",{children:" This invoice must be signed and returned within 14 days to acknowledge receipt."})]})]}),(0,l.jsxs)("div",{className:"mt-6 text-center text-xs text-gray-400",children:[(0,l.jsx)("p",{children:"This is an official document from Power Metal & Steel"}),(0,l.jsx)("p",{className:"mt-1",children:"For inquiries, please contact: info@powermetalsteel.com | +60 12-345 6789"})]})]})}),(0,l.jsx)("style",{children:`
        @media print {
          body * {
            visibility: hidden;
          }
          ${c.current?"#print-area, #print-area *":""} {
            visibility: visible;
          }
          .print\\:hidden {
            display: none !important;
          }
          @page {
            margin: 1cm;
            size: A4;
          }
        }
      `})]})}function o3({invoices:a,searchQuery:b}){let[c,d]=(0,m.useState)(null),[e,f]=(0,m.useState)(!1),g=a.filter(a=>a.invoiceNumber.toLowerCase().includes(b.toLowerCase())||a.orpNumber.toLowerCase().includes(b.toLowerCase())),h=a=>({pending:"bg-amber-100 text-amber-800",paid:"bg-green-100 text-green-800",overdue:"bg-red-100 text-red-800"})[a];return e&&c?(0,l.jsx)(o2,{invoice:c,onClose:()=>{f(!1),d(null)}}):0===g.length?(0,l.jsx)(hw,{children:(0,l.jsxs)(hA,{className:"py-12 text-center",children:[(0,l.jsx)(v,{className:"size-12 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-600",children:"No damage invoices found"}),(0,l.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:b?"Try adjusting your search":"Invoices will appear here when repairs are billed"})]})}):(0,l.jsx)("div",{className:"space-y-4",children:g.map(a=>(0,l.jsx)(hw,{className:"hover:shadow-md transition-shadow",children:(0,l.jsx)(hA,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,l.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,l.jsx)("div",{className:"flex items-start justify-between",children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("h3",{className:"text-[#231F20]",children:a.invoiceNumber}),"paid"===a.paymentStatus&&(0,l.jsx)(jk,{className:h(a.paymentStatus),children:a.paymentStatus.toUpperCase()}),"overdue"===a.paymentStatus&&(0,l.jsx)(jk,{className:h(a.paymentStatus),children:a.paymentStatus.toUpperCase()})]}),(0,l.jsxs)("p",{className:"text-gray-600 mt-1",children:["ORP: ",a.orpNumber]})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(w,{className:"size-4 text-gray-400"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-500",children:"Invoice Date"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:new Date(a.invoiceDate).toLocaleDateString()})]})]}),a.vendor&&(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(S,{className:"size-4 text-gray-400"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-500",children:"Vendor"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.vendor})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(v,{className:"size-4 text-gray-400"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-500",children:"Line Items"}),(0,l.jsxs)("p",{className:"text-[#231F20]",children:[a.items.length," items"]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(u,{className:"size-4 text-gray-400"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-500",children:"Total Amount"}),(0,l.jsxs)("p",{className:"text-[#231F20]",children:["RM ",a.total.toFixed(2)]})]})]})]}),a.paidDate&&(0,l.jsxs)("div",{className:"text-sm text-green-600",children:["Paid on ",new Date(a.paidDate).toLocaleDateString()]}),a.notes&&(0,l.jsxs)("div",{className:"pt-3 border-t",children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Notes"}),(0,l.jsx)("p",{className:"text-sm text-[#231F20] mt-1",children:a.notes})]})]}),(0,l.jsx)("div",{className:"flex flex-col gap-2 lg:ml-4",children:(0,l.jsxs)(a2,{onClick:()=>{d(a),f(!0)},className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,l.jsx)(oY,{className:"size-4 mr-2"}),"Print Invoice"]})})]})})},a.id))})}let o4=s("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);function o5({adjustments:a,searchQuery:b,onViewReference:c}){let d=a.filter(a=>a.scaffoldingItemName.toLowerCase().includes(b.toLowerCase())||a.referenceId.toLowerCase().includes(b.toLowerCase()));if(0===d.length)return(0,l.jsx)(hw,{children:(0,l.jsxs)(hA,{className:"py-12 text-center",children:[(0,l.jsx)(F,{className:"size-12 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-600",children:"No inventory adjustments found"}),(0,l.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:b?"Try adjusting your search":"Inventory adjustments will appear here automatically"})]})});let e=[...d].sort((a,b)=>new Date(b.adjustedAt).getTime()-new Date(a.adjustedAt).getTime());return(0,l.jsx)(hw,{children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)(ju,{children:[(0,l.jsx)(jv,{children:(0,l.jsxs)(jx,{children:[(0,l.jsx)(jy,{children:"Date & Time"}),(0,l.jsx)(jy,{children:"Item"}),(0,l.jsx)(jy,{className:"text-center",children:"Quantity"}),(0,l.jsx)(jy,{children:"Status Change"}),(0,l.jsx)(jy,{children:"Type"}),(0,l.jsx)(jy,{children:"Reference"}),(0,l.jsx)(jy,{children:"Adjusted By"})]})}),(0,l.jsx)(jw,{children:e.map(a=>(0,l.jsxs)(jx,{children:[(0,l.jsx)(jz,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(w,{className:"size-4 text-gray-400"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-[#231F20]",children:new Date(a.adjustedAt).toLocaleDateString()}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:new Date(a.adjustedAt).toLocaleTimeString()})]})]})}),(0,l.jsx)(jz,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(F,{className:"size-4 text-gray-400"}),(0,l.jsx)("span",{className:"text-[#231F20]",children:a.scaffoldingItemName})]})}),(0,l.jsx)(jz,{className:"text-center",children:(0,l.jsx)("span",{className:"text-[#231F20] px-2 py-1 bg-gray-100 rounded",children:a.quantity})}),(0,l.jsx)(jz,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(jk,{variant:"outline",className:"text-xs",children:a.fromStatus}),(0,l.jsx)(o4,{className:"size-3 text-gray-400"}),(0,l.jsx)(jk,{variant:"outline",className:"text-xs",children:a.toStatus})]})}),(0,l.jsx)(jz,{children:(0,l.jsx)(jk,{className:{"damage-detected":"bg-red-100 text-red-800","repair-completed":"bg-green-100 text-green-800",scrapped:"bg-gray-100 text-gray-800"}[a.adjustmentType],children:{"damage-detected":"Damage Detected","repair-completed":"Repair Completed",scrapped:"Scrapped"}[a.adjustmentType]})}),(0,l.jsx)(jz,{children:(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-[#231F20]",children:a.referenceId}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:a.referenceType}),c&&(0,l.jsxs)(a2,{size:"sm",className:"mt-2",onClick:()=>c(a.referenceId,a.referenceType),children:[(0,l.jsx)(gN,{className:"size-4 mr-1"}),"View"]})]})}),(0,l.jsx)(jz,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(oa,{className:"size-4 text-gray-400"}),(0,l.jsx)("span",{className:"text-sm text-gray-600",children:a.adjustedBy})]})})]},a.id))})]})})})})}function o6({repairSlips:a,onUpdateRepairSlip:b,onCreateInventoryLog:c,onBackToInspection:d}){let[e,f]=(0,m.useState)(""),[g,h]=(0,m.useState)(null),[i,j]=(0,m.useState)(null),[k,n]=(0,m.useState)(!1),[o,p]=(0,m.useState)([]),[q,r]=(0,m.useState)({quantityToRepair:0,repairStatus:"",notes:""}),s=a.filter(a=>a.items.some(a=>(a.quantityRemaining||a.quantity)>0)&&("open"===a.status||"in-repair"===a.status)).filter(a=>{if(!e)return!0;let b=e.toLowerCase();return a.orpNumber.toLowerCase().includes(b)||a.rcfNumber.toLowerCase().includes(b)||a.items.some(a=>a.scaffoldingItemName.toLowerCase().includes(b))}),t=a=>{switch(a){case"pending":default:return"bg-gray-100 text-gray-800";case"in-progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800"}};return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)(hw,{children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 size-4 text-gray-400"}),(0,l.jsx)(a3,{placeholder:"Search by ORP number, RCF number, or item name...",value:e,onChange:a=>f(a.target.value),className:"pl-10"})]})})}),0===s.length?(0,l.jsx)(hw,{children:(0,l.jsx)(hA,{className:"pt-6 text-center text-gray-500",children:"No active repair slips found"})}):(0,l.jsx)("div",{className:"space-y-4",children:s.map(a=>(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(hy,{className:"text-[#231F20]",children:a.orpNumber}),(0,l.jsxs)("p",{className:"text-gray-600 text-sm mt-1",children:["RCF: ",a.rcfNumber]})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(jk,{className:(a=>{switch(a){case"urgent":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(a.priority),children:a.priority}),(0,l.jsx)(jk,{className:t(a.status),children:a.status})]})]})}),(0,l.jsxs)(hA,{children:[(0,l.jsx)("div",{className:"space-y-3",children:a.items.map(b=>{let c=void 0!==b.quantityRemaining?b.quantityRemaining:b.quantity,d=b.quantityRepaired||0;return(0,l.jsxs)("div",{className:`border rounded-lg p-4 transition-colors ${0===c?"border-green-300 bg-green-50":"border-gray-200 hover:border-[#F15929]"}`,children:[(0,l.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h4",{className:"text-[#231F20]",children:b.scaffoldingItemName}),(0,l.jsxs)("p",{className:"text-gray-600 text-sm mt-1",children:["Total Qty: ",b.quantity," | Repaired: ",d," | Remaining: ",c]}),(0,l.jsxs)("p",{className:"text-gray-600 text-sm",children:["Damage: ",b.damageType," - ",b.damageDescription]})]}),(0,l.jsx)(jk,{className:t(0===c?"completed":b.repairStatus),children:0===c?"COMPLETED":b.repairStatus.replace("-"," ").toUpperCase()})]}),(0,l.jsxs)("div",{className:"mt-3",children:[(0,l.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Repair Actions:"})," ",b.repairActions.join(", ")]}),b.repairDescription&&(0,l.jsxs)("p",{className:"text-sm text-gray-700 mt-1",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Details:"})," ",b.repairDescription]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Before Images (",b.beforeImages.length,")"]}),b.beforeImages.length>0&&(0,l.jsx)("div",{className:"grid grid-cols-2 gap-2",children:b.beforeImages.slice(0,2).map((a,b)=>(0,l.jsx)("img",{src:a,alt:`Before ${b+1}`,className:"w-full h-20 object-cover rounded border"},b))})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["After Images (",b.afterImages.length,")"]}),b.afterImages.length>0&&(0,l.jsx)("div",{className:"grid grid-cols-2 gap-2",children:b.afterImages.slice(0,2).map((a,b)=>(0,l.jsx)("img",{src:a,alt:`After ${b+1}`,className:"w-full h-20 object-cover rounded border"},b))})]})]}),(0,l.jsx)("div",{className:"mt-4 flex justify-end",children:(0,l.jsxs)(a2,{variant:"outline",size:"sm",onClick:()=>{let c;return h(a),j(b),c=void 0!==b.quantityRemaining?b.quantityRemaining:b.quantity,void(b.quantityRepaired,r({quantityToRepair:c,repairStatus:b.repairStatus,notes:""}),p(b.afterImages||[]),n(!0))},className:"border-[#F15929] text-[#F15929] hover:bg-[#F15929] hover:text-white",children:[(0,l.jsx)(hD,{className:"size-4 mr-2"}),"Update Repair"]})})]},b.id)})}),(0,l.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.assignedTo&&(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Assigned To:"})," ",a.assignedTo]}),a.startDate&&(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Start Date:"})," ",new Date(a.startDate).toLocaleDateString()]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Estimated Cost:"})," RM ",a.estimatedCost.toFixed(2)]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Actual Cost:"})," RM ",a.actualCost.toFixed(2)]})]})})]})]},a.id))}),(0,l.jsx)(jl,{open:k,onOpenChange:n,children:(0,l.jsxs)(jp,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)(jq,{children:[(0,l.jsx)(js,{children:"Update Repair Item"}),(0,l.jsx)(jt,{children:"Update the repair progress, upload completion photos, and update repair status"})]}),i&&(0,l.jsxs)("div",{className:"space-y-4 overflow-y-auto max-h-[60vh] pr-2",children:[(0,l.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,l.jsx)("h4",{className:"text-[#231F20]",children:i.scaffoldingItemName}),(0,l.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:i.damageDescription}),(0,l.jsxs)("p",{className:"text-gray-600 text-sm mt-1",children:["Total: ",i.quantity," | Repaired: ",i.quantityRepaired||0," | Remaining: ",void 0!==i.quantityRemaining?i.quantityRemaining:i.quantity]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Quantity to Repair *"}),(0,l.jsx)(a3,{type:"number",min:"1",max:void 0!==i.quantityRemaining?i.quantityRemaining:i.quantity,value:q.quantityToRepair,onChange:a=>r({...q,quantityToRepair:parseInt(a.target.value)||0})}),(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:["Remaining quantity: ",void 0!==i.quantityRemaining?i.quantityRemaining:i.quantity]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Repair Status *"}),(0,l.jsxs)(iE,{value:q.repairStatus,onValueChange:a=>r({...q,repairStatus:a}),children:[(0,l.jsx)(iG,{children:(0,l.jsx)(iF,{placeholder:"Select status"})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"pending",children:"Pending"}),(0,l.jsx)(iI,{value:"in-progress",children:"In Progress"}),(0,l.jsx)(iI,{value:"completed",children:"Completed"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"After Repair Photos"}),(0,l.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[(0,l.jsx)(a3,{type:"file",accept:"image/*",multiple:!0,onChange:a=>{let b=a.target.files;b&&Array.from(b).forEach(a=>{let b=new FileReader;b.onloadend=()=>{p(a=>[...a,b.result])},b.readAsDataURL(a)})},className:"hidden",id:"repair-images"}),(0,l.jsxs)("label",{htmlFor:"repair-images",className:"cursor-pointer",children:[(0,l.jsx)(hD,{className:"size-8 mx-auto text-gray-400 mb-2"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Click to upload repair completion photos"}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 10MB"})]})]}),o.length>0&&(0,l.jsx)("div",{className:"grid grid-cols-4 gap-3 mt-3",children:o.map((a,b)=>(0,l.jsxs)("div",{className:"relative group",children:[(0,l.jsx)("img",{src:a,alt:`Upload ${b+1}`,className:"w-full h-24 object-cover rounded border"}),(0,l.jsx)("button",{onClick:()=>{p(a=>a.filter((a,c)=>c!==b))},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,l.jsx)(S,{className:"size-3"})})]},b))})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Notes (Optional)"}),(0,l.jsx)(jE,{value:q.notes,onChange:a=>r({...q,notes:a.target.value}),placeholder:"Add any notes about the repair...",rows:3})]})]}),(0,l.jsxs)(jr,{children:[(0,l.jsx)(a2,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),(0,l.jsxs)(a2,{onClick:()=>{if(!g||!i)return;let a=void 0!==i.quantityRemaining?i.quantityRemaining:i.quantity,e=i.quantityRepaired||0;if(q.quantityToRepair<=0)return void gG.error("Repair quantity must be greater than 0");if(q.quantityToRepair>a)return void gG.error(`Repair quantity cannot exceed remaining quantity (${a})`);if(!q.repairStatus)return void gG.error("Please select a repair status");let f="completed"===q.repairStatus?e+q.quantityToRepair:e,k="completed"===q.repairStatus?a-q.quantityToRepair:a,l=g.items.map(a=>a.id===i.id?{...a,quantityRepaired:f,quantityRemaining:k,repairStatus:q.repairStatus,afterImages:o,completedDate:"completed"===q.repairStatus&&0===k?new Date().toISOString():a.completedDate}:a),m=g.status,p=l.every(a=>0===(void 0!==a.quantityRemaining?a.quantityRemaining:a.quantity)),r=l.some(a=>"in-progress"===a.repairStatus);p?m="completed":r&&(m="in-repair"),b({...g,items:l,status:m,updatedAt:new Date().toISOString()}),"completed"===q.repairStatus&&c({id:`adj-${Date.now()}-${Math.random()}`,adjustmentType:"repair-completed",scaffoldingItemId:i.scaffoldingItemId,scaffoldingItemName:i.scaffoldingItemName,quantity:q.quantityToRepair,fromStatus:"under-repair",toStatus:"available",referenceId:g.orpNumber,referenceType:"repair-slip",adjustedBy:"Current User",adjustedAt:new Date().toISOString(),notes:q.notes||`Repaired ${q.quantityToRepair} units`}),gG.success("Repair item updated successfully"),n(!1),h(null),j(null),d&&d()},className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,l.jsx)(fm,{className:"size-4 mr-2"}),"Save Update"]})]})]})})]})}function o7(){let[a,b]=(0,m.useState)("reports"),[c,d]=(0,m.useState)("list"),[e,f]=(0,m.useState)(""),[g,h]=(0,m.useState)(null),[i,j]=(0,m.useState)(null),[k,n]=(0,m.useState)([]),[o,p]=(0,m.useState)([]),[q,r]=(0,m.useState)([]),[s,t]=(0,m.useState)([]);(0,m.useEffect)(()=>{let a=localStorage.getItem("conditionReports"),b=localStorage.getItem("repairSlips"),c=localStorage.getItem("damageInvoices"),d=localStorage.getItem("inventoryAdjustments");a&&n(JSON.parse(a)),b&&p(JSON.parse(b)),c&&r(JSON.parse(c)),d&&t(JSON.parse(d))},[]);let u=(a,b)=>{let c=o.map(c=>{if(c.id===a){let a={...c,status:b,updatedAt:new Date().toISOString()};if("completed"===b){a.completionDate=new Date().toISOString();let b=c.items.filter(a=>"completed"===a.repairStatus).map(a=>({id:`adj-${Date.now()}-${Math.random()}`,adjustmentType:"repair-completed",scaffoldingItemId:a.scaffoldingItemId,scaffoldingItemName:a.scaffoldingItemName,quantity:a.quantity,fromStatus:"under-repair",toStatus:"available",referenceId:c.orpNumber,referenceType:"repair-slip",adjustedBy:"System",adjustedAt:new Date().toISOString(),notes:"Repair completed and items returned to inventory"}));if(b.length>0){let a=[...s,...b];t(a),localStorage.setItem("inventoryAdjustments",JSON.stringify(a))}}return a}return c});p(c),localStorage.setItem("repairSlips",JSON.stringify(c))},w={totalReports:k.length,pendingReports:k.filter(a=>"pending"===a.status).length,openRepairs:o.filter(a=>"open"===a.status||"in-repair"===a.status).length,completedRepairs:o.filter(a=>"completed"===a.status).length,totalRepairCost:o.reduce((a,b)=>a+b.actualCost,0),itemsUnderRepair:s.reduce((a,b)=>"under-repair"===b.toStatus?a+b.quantity:"under-repair"===b.fromStatus?a-b.quantity:a,0)};return"create-report"===c?(0,l.jsx)(oW,{report:g,onSave:a=>{let b;n(b=g?k.map(b=>b.id===a.id?a:b):[...k,a]),localStorage.setItem("conditionReports",JSON.stringify(b));let c=a.items.filter(a=>a.repairRequired).map(b=>({id:`adj-${Date.now()}-${Math.random()}`,adjustmentType:"damage-detected",scaffoldingItemId:b.scaffoldingItemId,scaffoldingItemName:b.scaffoldingItemName,quantity:b.quantityRepair,fromStatus:"available",toStatus:"under-repair",referenceId:a.rcfNumber,referenceType:"condition-report",adjustedBy:a.inspectedBy,adjustedAt:new Date().toISOString(),notes:b.damageDescription}));if(c.length>0){let a=[...s,...c];t(a),localStorage.setItem("inventoryAdjustments",JSON.stringify(a))}d("list")},onCancel:()=>{d("list"),h(null)}}):"view-repair"===c&&i?(0,l.jsx)(oZ,{repairSlip:i,onBack:()=>d("list"),onUpdateStatus:u,onPrint:a=>{j(a),d("print-repair")}}):"create-repair"===c?(0,l.jsx)(o0,{repairSlip:i,onSave:a=>{let c,e=!i;p(c=i?o.map(b=>b.id===a.id?a:b):[...o,a]),localStorage.setItem("repairSlips",JSON.stringify(c)),e?(j(a),b("repairs"),d("view-repair")):d("list")},onCancel:()=>d("list"),conditionReport:g}):"print-repair"===c&&i?(0,l.jsx)(o1,{repairSlip:i,onClose:()=>d("list")}):"maintenance"===c?(0,l.jsxs)("div",{className:"p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-[#231F20]",children:"Maintenance Dashboard"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Update repair progress and upload completion photos"})]}),(0,l.jsx)(a2,{variant:"outline",onClick:()=>d("list"),className:"border-[#F15929] text-[#F15929] hover:bg-[#F15929] hover:text-white",children:"Back to Inspection"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsx)(hy,{className:"text-sm text-gray-600",children:"Total Reports"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"text-[#231F20]",children:w.totalReports})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsx)(hy,{className:"text-sm text-gray-600",children:"Pending Inspection"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"text-amber-600",children:w.pendingReports})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsx)(hy,{className:"text-sm text-gray-600",children:"Open Repairs"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"text-blue-600",children:w.openRepairs})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsx)(hy,{className:"text-sm text-gray-600",children:"Completed"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"text-green-600",children:w.completedRepairs})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsx)(hy,{className:"text-sm text-gray-600",children:"Items in Repair"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"text-[#231F20]",children:w.itemsUnderRepair})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsx)(hy,{className:"text-sm text-gray-600",children:"Total Repair Cost"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"text-[#231F20]",children:["RM ",w.totalRepairCost.toFixed(2)]})})]})]}),(0,l.jsx)(o6,{repairSlips:o,onUpdateRepairSlip:a=>{let b=o.map(b=>b.id===a.id?a:b);p(b),localStorage.setItem("repairSlips",JSON.stringify(b))},onCreateInventoryLog:a=>{let b=[...s,a];t(b),localStorage.setItem("inventoryAdjustments",JSON.stringify(b))},onBackToInspection:()=>d("list")})]}):(0,l.jsxs)("div",{className:"p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-[#231F20]",children:"Inspection & Maintenance"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Manage condition reports, repairs, and inventory adjustments"})]}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsxs)(a2,{variant:"outline",onClick:()=>d("maintenance"),className:"border-[#F15929] text-[#F15929] hover:bg-[#F15929] hover:text-white",children:[(0,l.jsx)(oU,{className:"size-4 mr-2"}),"Maintenance Dashboard"]}),(0,l.jsxs)(a2,{onClick:()=>{h(null),d("create-report")},className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,l.jsx)(jI,{className:"size-4 mr-2"}),"New Condition Report"]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsx)(hy,{className:"text-sm text-gray-600",children:"Total Reports"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"text-[#231F20]",children:w.totalReports})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsx)(hy,{className:"text-sm text-gray-600",children:"Pending Inspection"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"text-amber-600",children:w.pendingReports})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsx)(hy,{className:"text-sm text-gray-600",children:"Open Repairs"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"text-blue-600",children:w.openRepairs})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsx)(hy,{className:"text-sm text-gray-600",children:"Completed"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"text-green-600",children:w.completedRepairs})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsx)(hy,{className:"text-sm text-gray-600",children:"Items in Repair"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"text-[#231F20]",children:w.itemsUnderRepair})})]})]}),(0,l.jsx)(hw,{children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 size-4 text-gray-400"}),(0,l.jsx)(a3,{placeholder:"Search by RCF number, DO number, or customer name...",value:e,onChange:a=>f(a.target.value),className:"pl-10"})]})})}),(0,l.jsxs)(m8,{value:a,onValueChange:b,children:[(0,l.jsxs)(m9,{className:"grid w-full grid-cols-4",children:[(0,l.jsxs)(na,{value:"reports",children:[(0,l.jsx)(M,{className:"size-4 mr-2"}),"Condition Reports"]}),(0,l.jsxs)(na,{value:"repairs",children:[(0,l.jsx)(oU,{className:"size-4 mr-2"}),"Open Repair Slip"]}),(0,l.jsxs)(na,{value:"invoices",children:[(0,l.jsx)(v,{className:"size-4 mr-2"}),"Damage Invoices"]}),(0,l.jsxs)(na,{value:"adjustments",children:[(0,l.jsx)(v,{className:"size-4 mr-2"}),"Inventory Log"]})]}),(0,l.jsx)(nb,{value:"reports",className:"mt-6",children:(0,l.jsx)(oV,{reports:k,searchQuery:e,onEdit:a=>{h(a),d("create-report")},onCreateRepairSlip:a=>{a&&h(k.find(b=>b.id===a)||null),d("create-repair")},existingRepairSlips:o})}),(0,l.jsx)(nb,{value:"repairs",className:"mt-6",children:(0,l.jsx)(oX,{repairSlips:o,searchQuery:e,onView:a=>{j(a),d("view-repair")},onUpdateStatus:u,onGenerateDamageInvoice:a=>{let c=o.find(b=>b.id===a);if(!c)return void gG.error("Repair slip not found");let d=c.items.filter(a=>a.totalCost>0).map(a=>({id:`inv-item-${Date.now()}-${Math.random()}`,description:`${a.scaffoldingItemName} - ${a.damageDescription||"Damage repair"}`,quantity:a.quantity,unitPrice:a.quantity>0?a.totalCost/a.quantity:a.totalCost,total:a.totalCost}));if(0===d.length)return void gG.error("No items with repair costs found in this repair slip. Please ensure items have cost values.");let e=d.reduce((a,b)=>a+b.total,0),f=.06*e,g=e+f,h={id:`damage-inv-${Date.now()}`,invoiceNumber:`DI-${Date.now()}`,orpNumber:c.orpNumber,repairSlipId:c.id,invoiceDate:new Date().toISOString(),vendor:"",items:d,subtotal:e,tax:f,total:g,paymentStatus:"pending",notes:`Damage charges for items in repair slip: ${c.orpNumber}. Based on completed repairs.`,createdAt:new Date().toISOString(),createdFrom:"repair-slip"},i=o.map(b=>b.id===a?{...b,damageInvoiceId:h.id}:b);p(i),localStorage.setItem("repairSlips",JSON.stringify(i));let j=[...q,h];r(j),localStorage.setItem("damageInvoices",JSON.stringify(j)),gG.success(`Damage invoice ${h.invoiceNumber} generated successfully with RM ${g.toFixed(2)} total`),b("invoices")}})}),(0,l.jsx)(nb,{value:"invoices",className:"mt-6",children:(0,l.jsx)(o3,{invoices:q,searchQuery:e})}),(0,l.jsx)(nb,{value:"adjustments",className:"mt-6",children:(0,l.jsx)(o5,{adjustments:s,searchQuery:e,onViewReference:(a,c)=>{if("condition-report"===c){let c=k.find(b=>b.rcfNumber===a);c&&(h(c),d("create-report"),b("reports"))}else if("repair-slip"===c){let c=o.find(b=>b.orpNumber===a);c&&(j(c),d("view-repair"),b("repairs"))}}})})]})]})}function o8({delivery:a,onSave:b,onBack:c}){let d,[e,f]=(0,m.useState)(1),[g,h]=(0,m.useState)(a||{items:[],status:"pending",type:"delivery",createdBy:"Current User",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),[i,j]=(0,m.useState)(""),[k,n]=(0,m.useState)(),[o,p]=(0,m.useState)(""),[q,r]=(0,m.useState)([]),[s,t]=(0,m.useState)([]),[u,x]=(0,m.useState)(!1),[y,z]=(0,m.useState)("customer"),A=(0,m.useRef)(null),[B,C]=(0,m.useState)(!1),E=(0,m.useRef)(null),[F,G]=(0,m.useState)(!1),[I,J]=(0,m.useState)(""),[K,L]=(0,m.useState)(""),[O,Q]=(0,m.useState)(""),[R,T]=(0,m.useState)(!1);(0,m.useEffect)(()=>{a&&(h(a),f({pending:1,packing_list_issued:2,stock_checked:3,packing_loading:4,in_transit:4,ready_for_pickup:4,completed:5}[a.status]||1),a.scheduledDate&&n(new Date(a.scheduledDate)),a.scheduledTimeSlot&&p(a.scheduledTimeSlot))},[a]);let U=(d=[{number:1,title:"Generate Packing List"},{number:2,title:"Check Stock"},{number:3,title:"Packing & Loading"}],"delivery"===g.type?[...d,{number:4,title:"In Transit & Sign"},{number:5,title:"Complete"}]:[...d,{number:4,title:"Ready & Sign"},{number:5,title:"Complete"}]),V=a=>{z(a),x(!0),setTimeout(()=>{let a=A.current;if(!a)return;let b=a.getContext("2d");b&&(b.strokeStyle="#231F20",b.lineWidth=2,b.lineCap="round",b.lineJoin="round")},100)},W=a=>{C(!0);let b=A.current;if(!b)return;let c=b.getBoundingClientRect(),d=b.getContext("2d");if(d)if(d.beginPath(),"touches"in a){let b=a.touches[0];d.moveTo(b.clientX-c.left,b.clientY-c.top)}else d.moveTo(a.clientX-c.left,a.clientY-c.top)},X=a=>{if(!B)return;let b=A.current;if(!b)return;let c=b.getBoundingClientRect(),d=b.getContext("2d");if(d){if("touches"in a){let b=a.touches[0];d.lineTo(b.clientX-c.left,b.clientY-c.top)}else d.lineTo(a.clientX-c.left,a.clientY-c.top);d.stroke()}},Y=()=>{C(!1)},Z=()=>{let a=A.current;if(!a)return;let b=a.getContext("2d");b&&b.clearRect(0,0,a.width,a.height)},$=()=>{E.current?.click()},_=a=>{let b=a.target.files;if(!b||0===b.length)return;let c=Array.from(b),d=0,f=[];c.forEach(a=>{if(!a.type.startsWith("image/"))return void gG.error(`${a.name} is not an image file`);if(a.size>5242880)return void gG.error(`${a.name} is too large (max 5MB)`);let b=new FileReader;b.onload=a=>{let b=a.target?.result;f.push(b),++d===c.length&&(3===e?(r([...q,...f]),gG.success(`${f.length} photo(s) uploaded`)):4===e&&(t([...s,...f]),gG.success(`${f.length} photo(s) uploaded`)))},b.onerror=()=>{gG.error(`Failed to read ${a.name}`)},b.readAsDataURL(a)}),a.target.value=""},aa=(a,b)=>{"packing"===b?r(q.filter((b,c)=>c!==a)):t(s.filter((b,c)=>c!==a)),gG.success("Photo removed")};return(0,l.jsxs)("div",{className:"p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(a2,{variant:"outline",onClick:c,children:(0,l.jsx)(gT,{className:"size-4"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-[#231F20]",children:a?`Process ${"delivery"===g.type?"Delivery":"Pickup"} - ${a.doNumber}`:`New ${"delivery"===g.type?"Delivery":"Pickup"} Order`}),(0,l.jsxs)("p",{className:"text-gray-600",children:["Follow the workflow to complete the ",g.type]})]})]}),(0,l.jsx)(hw,{children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsx)("div",{className:"flex items-center justify-between",children:U.map((a,b)=>(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${e>a.number?"bg-green-500 text-white":e===a.number?"bg-[#F15929] text-white":"bg-gray-200 text-gray-600"}`,children:e>a.number?(0,l.jsx)(fm,{className:"size-5"}):a.number}),(0,l.jsx)("span",{className:"text-xs text-center mt-2 max-w-24",children:a.title})]}),b<U.length-1&&(0,l.jsx)("div",{className:`h-0.5 w-12 mx-2 ${e>a.number?"bg-green-500":"bg-gray-200"}`})]},a.number))})})}),1===e&&(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsxs)(hy,{className:"flex items-center gap-2",children:[(0,l.jsx)(M,{className:"size-5 text-[#F15929]"}),"Step 1: Generate Packing List"]})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsxs)("p",{className:"text-gray-600",children:["Generate a packing list for the items to be ","delivery"===g.type?"delivered":"picked up","."]}),g.items&&g.items.length>0?(0,l.jsx)("div",{className:"space-y-3",children:g.items.map(a=>(0,l.jsx)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"text-[#231F20]",children:a.scaffoldingItemName}),(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:["Quantity: ",a.quantity," ",a.unit]})]})},a.id))}):(0,l.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,l.jsx)(S,{className:"size-12 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("p",{children:"No items found. Please add items first."})]}),(0,l.jsxs)(a2,{onClick:()=>{if(!g.items||0===g.items.length)return void gG.error("No items to pack");let a=`PL-${Date.now().toString().slice(-8)}`;h({...g,packingListNumber:a,packingListDate:new Date().toISOString(),status:"packing_list_issued",updatedAt:new Date().toISOString()}),gG.success(`Packing list ${a} generated`),f(2)},className:"bg-[#F15929] hover:bg-[#d94d1f] w-full",disabled:!g.items||0===g.items.length,children:[(0,l.jsx)(v,{className:"size-4 mr-2"}),"Generate Packing List"]})]})]}),2===e&&(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsxs)(hy,{className:"flex items-center gap-2",children:[(0,l.jsx)(N,{className:"size-5 text-[#F15929]"}),"Step 2: Check Stock"]})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsx)("p",{className:"text-gray-600",children:"Verify that all items are available in stock."}),(0,l.jsx)("div",{className:"space-y-3",children:g.items?.map(a=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"text-[#231F20]",children:a.scaffoldingItemName}),(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:["Required: ",a.quantity," ",a.unit]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("p",{className:"text-[#231F20]",children:["Available: ",a.availableStock," ",a.unit]}),a.availableStock>=a.quantity?(0,l.jsxs)(jk,{className:"bg-green-100 text-green-800 mt-1",children:[(0,l.jsx)(fm,{className:"size-3 mr-1"}),"In Stock"]}):(0,l.jsxs)(jk,{className:"bg-red-100 text-red-800 mt-1",children:[(0,l.jsx)(S,{className:"size-3 mr-1"}),"Insufficient"]})]})]},a.id))}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Stock Check Notes"}),(0,l.jsx)(jE,{value:i,onChange:a=>j(a.target.value),placeholder:"Enter any notes about stock availability...",rows:3})]}),(0,l.jsxs)(a2,{onClick:()=>{if(!g.items||0===g.items.length)return void gG.error("No items to check");let a=g.items?.every(a=>a.availableStock>=a.quantity);h({...g,stockCheckDate:new Date().toISOString(),stockCheckBy:"Current User",stockCheckNotes:i,allItemsAvailable:a,status:"stock_checked",updatedAt:new Date().toISOString()}),a||gG.warning("Some items have insufficient stock. Please proceed with caution."),gG.success("Stock check completed successfully"),f(3)},className:"bg-[#F15929] hover:bg-[#d94d1f] w-full",children:[(0,l.jsx)(fm,{className:"size-4 mr-2"}),"Complete Stock Check"]})]})]}),3===e&&(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsxs)(hy,{className:"flex items-center gap-2",children:[(0,l.jsx)(H,{className:"size-5 text-[#F15929]"}),"Step 3: Packing & Loading to Lorry"]})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsxs)("p",{className:"text-gray-600",children:["Pack items and load them ","delivery"===g.type?"onto the delivery vehicle":"for customer pickup","."]}),(0,l.jsxs)("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[(0,l.jsxs)("p",{className:"text-sm text-amber-800 mb-2",children:[(0,l.jsx)(w,{className:"size-4 inline mr-1"}),"Scheduled ","delivery"===g.type?"Delivery":"Pickup"," Date & Time (Auto-filled from request)"]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-xs text-gray-600",children:"Date:"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:k?k9(k,"PPP"):"Not set"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-xs text-gray-600",children:"Time Slot:"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:o||"Not set"})]})]})]}),"delivery"===g.type&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Driver Name"}),(0,l.jsx)(a3,{value:g.driverName||"",onChange:a=>h({...g,driverName:a.target.value}),placeholder:"Enter driver name"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Driver Contact"}),(0,l.jsx)(a3,{value:g.driverContact||"",onChange:a=>h({...g,driverContact:a.target.value}),placeholder:"+60 12-345-6789"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Vehicle Number"}),(0,l.jsx)(a3,{value:g.vehicleNumber||"",onChange:a=>h({...g,vehicleNumber:a.target.value}),placeholder:"ABC 1234"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Packing Photos (Optional)"}),(0,l.jsxs)(a2,{variant:"outline",onClick:$,className:"w-full",children:[(0,l.jsx)(hD,{className:"size-4 mr-2"}),"Upload Photos"]}),(0,l.jsx)("input",{ref:E,type:"file",accept:"image/*",multiple:!0,onChange:_,className:"hidden"}),q.length>0&&(0,l.jsx)("div",{className:"grid grid-cols-3 gap-2 mt-2",children:q.map((a,b)=>(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("img",{src:a,alt:`Packing ${b+1}`,className:"w-full h-24 object-cover rounded"}),(0,l.jsx)(a2,{variant:"destructive",size:"sm",className:"absolute top-1 right-1 size-6 p-0",onClick:()=>aa(b,"packing"),children:(0,l.jsx)(D,{className:"size-3"})})]},b))})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:["packing_loading"!==g.status&&(0,l.jsx)(a2,{onClick:()=>{k&&o?(h({...g,scheduledDate:k.toISOString(),scheduledTimeSlot:o,packingStartedAt:new Date().toISOString(),packingStartedBy:"Current User",status:"packing_loading",updatedAt:new Date().toISOString()}),gG.success("Packing started")):gG.error("Please select delivery/pickup date and time slot")},variant:"outline",className:"flex-1",children:"Start Packing"}),(0,l.jsxs)(a2,{onClick:()=>{if("delivery"===g.type&&(!g.driverName||!g.vehicleNumber))return void gG.error("Please enter driver and vehicle details");let a="delivery"===g.type?"in_transit":"ready_for_pickup";h({...g,loadingCompletedAt:new Date().toISOString(),loadingCompletedBy:"Current User",packingPhotos:q,status:a,dispatchedAt:"delivery"===g.type?new Date().toISOString():void 0,updatedAt:new Date().toISOString()}),"delivery"===g.type?gG.success("Items loaded and dispatched for delivery"):gG.success("Items packed and ready for customer pickup"),f(4)},className:"bg-[#F15929] hover:bg-[#d94d1f] flex-1",disabled:!k||!o||"delivery"===g.type&&(!g.driverName||!g.vehicleNumber),children:[(0,l.jsx)(fm,{className:"size-4 mr-2"}),"Complete Loading"]})]})]})]}),4===e&&(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsxs)(hy,{className:"flex items-center gap-2",children:[(0,l.jsx)(P,{className:"size-5 text-[#F15929]"}),"Step 4: ","delivery"===g.type?"In Transit - Customer Sign & OTP":"Ready for Pickup - Customer Sign & OTP"]})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsx)("p",{className:"text-gray-600",children:"delivery"===g.type?"Items are on the way. Customer needs to sign and verify OTP upon receiving goods.":"Items are ready for pickup. Customer needs to sign and verify OTP when collecting goods."}),"delivery"===g.type&&(0,l.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,l.jsx)(H,{className:"size-5 text-blue-600"}),(0,l.jsx)("span",{className:"text-blue-900",children:"In Transit"})]}),(0,l.jsxs)("div",{className:"text-sm text-blue-700",children:[(0,l.jsxs)("p",{children:["Driver: ",g.driverName]}),(0,l.jsxs)("p",{children:["Vehicle: ",g.vehicleNumber]}),(0,l.jsxs)("p",{children:["Contact: ",g.driverContact]})]})]}),"pickup"===g.type&&(0,l.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,l.jsx)(N,{className:"size-5 text-green-600"}),(0,l.jsx)("span",{className:"text-green-900",children:"Ready for Pickup"})]}),(0,l.jsxs)("div",{className:"text-sm text-green-700",children:[(0,l.jsx)("p",{children:"Items are packed and ready at warehouse"}),(0,l.jsxs)("p",{children:["Pickup Time: ",k&&k9(new Date(k),"PPP")," ",o]})]})]}),(0,l.jsx)("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#231F20] mb-1",children:"Delivery Order Document"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Share DO with customer for verification"})]}),(0,l.jsxs)(a2,{variant:"outline",size:"sm",onClick:()=>{gG.info("Generating DO preview..."),setTimeout(()=>{gG.success("DO preview generated. Share this with customer."),T(!0)},1e3)},children:[(0,l.jsx)(v,{className:"size-4 mr-2"}),"View DO"]})]})}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"delivery"===g.type?"Delivery Photos (Optional)":"Pickup Photos (Optional)"}),(0,l.jsxs)(a2,{variant:"outline",onClick:$,className:"w-full",children:[(0,l.jsx)(hD,{className:"size-4 mr-2"}),"Upload Photos"]}),(0,l.jsx)("input",{ref:E,type:"file",accept:"image/*",multiple:!0,onChange:_,className:"hidden"}),s.length>0&&(0,l.jsx)("div",{className:"grid grid-cols-3 gap-2 mt-2",children:s.map((a,b)=>(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("img",{src:a,alt:`Delivery ${b+1}`,className:"w-full h-24 object-cover rounded"}),(0,l.jsx)(a2,{variant:"destructive",size:"sm",className:"absolute top-1 right-1 size-6 p-0",onClick:()=>aa(b,"delivery"),children:(0,l.jsx)(D,{className:"size-3"})})]},b))})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Customer Name"}),(0,l.jsx)(a3,{value:O,onChange:a=>Q(a.target.value),placeholder:"Enter customer name"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Customer Signature"}),g.customerSignature?(0,l.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,l.jsx)("img",{src:g.customerSignature,alt:"Signature",className:"max-h-32"}),(0,l.jsx)(a2,{variant:"outline",size:"sm",onClick:()=>V("customer"),className:"mt-2",children:"Change Signature"})]}):(0,l.jsxs)(a2,{variant:"outline",onClick:()=>V("customer"),className:"w-full",children:[(0,l.jsx)(P,{className:"size-4 mr-2"}),"Capture Customer Signature"]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"OTP Verification"}),F?(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded",children:(0,l.jsxs)("p",{className:"text-sm text-green-800",children:[(0,l.jsx)(hg,{className:"size-4 inline mr-1"}),"OTP sent: ",(0,l.jsx)("strong",{children:K})]})}),(0,l.jsx)(a3,{value:I,onChange:a=>J(a.target.value),placeholder:"Enter 6-digit OTP",maxLength:6}),(0,l.jsxs)(a2,{onClick:()=>{I!==K?gG.error("Invalid OTP. Please try again."):g.customerSignature?(h({...g,deliveredAt:new Date().toISOString(),customerAcknowledgedAt:new Date().toISOString(),customerSignature:g.customerSignature,customerSignedBy:O,customerOTP:K,verifiedOTP:!0,deliveryPhotos:s,status:"completed",inventoryUpdatedAt:new Date().toISOString(),inventoryStatus:"Rental",updatedAt:new Date().toISOString()}),gG.success("OTP verified and delivery completed!"),f(5)):gG.error("Customer signature required")},className:"bg-[#F15929] hover:bg-[#d94d1f] w-full",disabled:6!==I.length||!g.customerSignature,children:[(0,l.jsx)(fm,{className:"size-4 mr-2"}),"Verify OTP & Complete"]})]}):(0,l.jsxs)(a2,{variant:"outline",onClick:()=>{if(!O)return void gG.error("Please enter customer name");let a=Math.floor(1e5+9e5*Math.random()).toString();L(a),G(!0),gG.success(`OTP sent to customer: ${a}`)},className:"w-full",disabled:!O,children:[(0,l.jsx)(iM,{className:"size-4 mr-2"}),"Send OTP to Customer"]})]})]})]}),5===e&&(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsxs)(hy,{className:"flex items-center gap-2",children:[(0,l.jsx)(hg,{className:"size-5 text-green-600"}),"delivery"===g.type?"Delivery":"Pickup"," Completed"]})}),(0,l.jsx)(hA,{className:"space-y-4",children:(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-100 mb-4",children:(0,l.jsx)(hg,{className:"size-8 text-green-600"})}),(0,l.jsx)("h3",{className:"text-[#231F20] mb-2",children:"Successfully Completed!"}),(0,l.jsx)("p",{className:"text-gray-600 mb-6",children:"Customer has signed and OTP verified. Inventory has been updated."}),(0,l.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-left space-y-2 mb-6",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"DO Number:"}),(0,l.jsx)("span",{className:"text-[#231F20]",children:g.doNumber})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Customer:"}),(0,l.jsx)("span",{className:"text-[#231F20]",children:O})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Completed At:"}),(0,l.jsx)("span",{className:"text-[#231F20]",children:g.customerAcknowledgedAt&&k9(new Date(g.customerAcknowledgedAt),"PPp")})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"OTP Verified:"}),(0,l.jsxs)(jk,{className:"bg-green-100 text-green-800",children:[(0,l.jsx)(hg,{className:"size-3 mr-1"}),"Yes"]})]})]}),(0,l.jsxs)(a2,{onClick:()=>{gG.success("Delivery process completed successfully"),setTimeout(()=>{b(g)},500)},className:"bg-[#F15929] hover:bg-[#d94d1f] w-full",children:[(0,l.jsx)(jY,{className:"size-4 mr-2"}),"Save & Return to List"]})]})})]}),(0,l.jsx)(jl,{open:u,onOpenChange:x,children:(0,l.jsxs)(jp,{className:"max-w-2xl",children:[(0,l.jsxs)(jq,{children:[(0,l.jsxs)(js,{children:["driver"===y?"Driver":"Customer"," Signature"]}),(0,l.jsxs)(jt,{children:["Please have the ",y," sign below using mouse or touch"]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("div",{className:"border-2 border-gray-300 rounded-lg",children:(0,l.jsx)("canvas",{ref:A,width:600,height:300,className:"w-full cursor-crosshair",onMouseDown:W,onMouseMove:X,onMouseUp:Y,onMouseLeave:Y,onTouchStart:W,onTouchMove:X,onTouchEnd:Y})}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)(a2,{variant:"outline",onClick:Z,className:"flex-1",children:[(0,l.jsx)(D,{className:"size-4 mr-2"}),"Clear"]}),(0,l.jsxs)(a2,{onClick:()=>{let a=A.current;if(!a)return;let b=a.getContext("2d");if(!b)return;if(!b.getImageData(0,0,a.width,a.height).data.some(a=>0!==a))return void gG.error("Please draw your signature before saving");let c=a.toDataURL();"customer"===y?(h({...g,customerSignature:c}),gG.success("Customer signature saved")):"driver"===y&&(h({...g,driverSignature:c}),gG.success("Driver signature saved")),x(!1),Z()},className:"flex-1 bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,l.jsx)(fm,{className:"size-4 mr-2"}),"Save Signature"]})]})]})]})}),(0,l.jsx)(jl,{open:R,onOpenChange:T,children:(0,l.jsxs)(jp,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)(jq,{children:[(0,l.jsxs)(js,{children:["Delivery Order - ",g.doNumber]}),(0,l.jsx)(jt,{children:"Delivery Order document for customer verification"})]}),(0,l.jsxs)("div",{className:"space-y-6 p-6 bg-white border rounded-lg",children:[(0,l.jsxs)("div",{className:"text-center border-b-2 border-[#F15929] pb-4",children:[(0,l.jsx)("h2",{className:"text-[#231F20] mb-1",children:"Power Metal & Steel"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Scaffolding Rental & Sales"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Tel: +60 3-1234 5678 | Email: info@powermetalsteel.com"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-[#F15929] mb-2",children:"DELIVERY ORDER"}),(0,l.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"DO Number:"})," ",g.doNumber]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Date:"})," ",g.packingListDate&&k9(new Date(g.packingListDate),"PP")]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Order ID:"})," ",g.orderId]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Agreement ID:"})," ",g.agreementId]})]})]}),(0,l.jsx)("div",{className:"text-right",children:(0,l.jsx)(jk,{className:"delivery"===g.type?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800",children:"delivery"===g.type?"DELIVERY":"PICKUP"})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("h4",{className:"text-[#231F20] mb-2",children:"Customer Details"}),(0,l.jsxs)("p",{className:"text-sm",children:[(0,l.jsx)("strong",{children:"Name:"})," ",g.customerName]}),(0,l.jsxs)("p",{className:"text-sm",children:[(0,l.jsx)("strong",{children:"Contact:"})," ",g.customerContact]}),(0,l.jsxs)("p",{className:"text-sm",children:[(0,l.jsx)("strong",{children:"Address:"})," ",g.customerAddress]})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("h4",{className:"text-[#231F20] mb-2",children:["delivery"===g.type?"Delivery":"Pickup"," Location"]}),(0,l.jsx)("p",{className:"text-sm",children:g.siteAddress}),k&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("p",{className:"text-sm",children:[(0,l.jsx)("strong",{children:"Date:"})," ",k9(k,"PPP")]}),(0,l.jsxs)("p",{className:"text-sm",children:[(0,l.jsx)("strong",{children:"Time:"})," ",o]})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-[#231F20] mb-2",children:"Items"}),(0,l.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,l.jsxs)("table",{className:"w-full text-sm",children:[(0,l.jsx)("thead",{className:"bg-gray-50",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"text-left p-3 border-b",children:"#"}),(0,l.jsx)("th",{className:"text-left p-3 border-b",children:"Description"}),(0,l.jsx)("th",{className:"text-right p-3 border-b",children:"Quantity"}),(0,l.jsx)("th",{className:"text-right p-3 border-b",children:"Unit"})]})}),(0,l.jsx)("tbody",{children:g.items?.map((a,b)=>(0,l.jsxs)("tr",{className:"border-b last:border-0",children:[(0,l.jsx)("td",{className:"p-3",children:b+1}),(0,l.jsx)("td",{className:"p-3",children:a.scaffoldingItemName}),(0,l.jsx)("td",{className:"p-3 text-right",children:a.quantity}),(0,l.jsx)("td",{className:"p-3 text-right",children:a.unit})]},a.id))})]})})]}),"delivery"===g.type&&g.driverName&&(0,l.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,l.jsx)("h4",{className:"text-[#231F20] mb-2",children:"Driver Information"}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-600",children:"Driver Name"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:g.driverName})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-600",children:"Contact"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:g.driverContact})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-600",children:"Vehicle"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:g.vehicleNumber})]})]})]}),(0,l.jsxs)("div",{className:"text-xs text-gray-600 space-y-1 border-t pt-4",children:[(0,l.jsx)("p",{className:"text-[#231F20] mb-2",children:(0,l.jsx)("strong",{children:"Terms and Conditions:"})}),(0,l.jsxs)("p",{children:["1. Please inspect all items upon ","delivery"===g.type?"delivery":"pickup"," and report any discrepancies immediately."]}),(0,l.jsx)("p",{children:"2. Customer signature and OTP verification required to complete this order."}),(0,l.jsx)("p",{children:"3. All rental items must be returned in good condition as per the rental agreement."}),(0,l.jsx)("p",{children:"4. Late returns may be subject to additional charges as per agreement terms."})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-8 pt-6 border-t",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Prepared By"}),(0,l.jsxs)("div",{className:"border-t border-gray-300 pt-2 mt-8",children:[(0,l.jsx)("p",{className:"text-sm text-[#231F20]",children:g.createdBy}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"Power Metal & Steel"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Received By (Customer)"}),(0,l.jsxs)("div",{className:"border-t border-gray-300 pt-2 mt-8",children:[(0,l.jsx)("p",{className:"text-sm text-[#231F20]",children:"_______________________"}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"Name & Signature"})]})]})]}),(0,l.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,l.jsxs)(a2,{variant:"outline",className:"flex-1",onClick:()=>{window.print(),gG.success("Print dialog opened")},children:[(0,l.jsx)(jg,{className:"size-4 mr-2"}),"Print DO"]}),(0,l.jsx)(a2,{className:"flex-1 bg-[#F15929] hover:bg-[#d94d1f]",onClick:()=>T(!1),children:"Close"})]})]})]})}),(0,l.jsx)("input",{ref:E,type:"file",accept:"image/*",multiple:!0,onChange:_,className:"hidden"})]})}function o9({delivery:a,onProcess:b,onBack:c}){return(0,l.jsxs)("div",{className:"p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(a2,{variant:"outline",onClick:c,children:(0,l.jsx)(gT,{className:"size-4"})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("h1",{className:"text-[#231F20]",children:a.doNumber}),(a=>{let b={pending:{bg:"bg-gray-100",text:"text-gray-800",label:"Pending"},stock_checked:{bg:"bg-blue-100",text:"text-blue-800",label:"Stock Checked"},packing_list_issued:{bg:"bg-cyan-100",text:"text-cyan-800",label:"Packing List Issued"},schedule_confirmed:{bg:"bg-purple-100",text:"text-purple-800",label:"Scheduled"},packing:{bg:"bg-amber-100",text:"text-amber-800",label:"Packing"},loaded:{bg:"bg-orange-100",text:"text-orange-800",label:"Loaded"},do_issued:{bg:"bg-indigo-100",text:"text-indigo-800",label:"DO Issued"},driver_acknowledged:{bg:"bg-violet-100",text:"text-violet-800",label:"Driver Acknowledged"},in_transit:{bg:"bg-yellow-100",text:"text-yellow-800",label:"In Transit"},delivered:{bg:"bg-lime-100",text:"text-lime-800",label:"Delivered"},customer_acknowledged:{bg:"bg-teal-100",text:"text-teal-800",label:"Customer Acknowledged"},completed:{bg:"bg-green-100",text:"text-green-800",label:"Completed"}}[a];if(!b)return(0,l.jsx)(jk,{className:"bg-gray-100 text-gray-800",children:a||"Unknown"});let{bg:c,text:d,label:e}=b;return(0,l.jsx)(jk,{className:`${c} ${d}`,children:e})})(a.status)]}),(0,l.jsxs)("p",{className:"text-gray-600",children:["Order ID: ",a.orderId]})]})]}),"completed"!==a.status&&(0,l.jsx)(a2,{onClick:b,className:"bg-[#F15929] hover:bg-[#d94d1f]",children:"Continue Processing"})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{children:"Customer Information"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(oa,{className:"size-5 text-gray-400 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Customer Name"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.customerName})]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(iM,{className:"size-5 text-gray-400 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Contact"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.customerContact})]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(mR,{className:"size-5 text-gray-400 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Customer Address"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.customerAddress})]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(mR,{className:"size-5 text-gray-400 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Delivery Site Address"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.siteAddress})]})]})]})})]}),a.scheduledDate&&(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{children:"Schedule Information"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(w,{className:"size-5 text-gray-400 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Scheduled Date"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:new Date(a.scheduledDate).toLocaleDateString()})]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(hF,{className:"size-5 text-gray-400 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Time Slot"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.scheduledTimeSlot})]})]}),a.scheduleConfirmedBy&&(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(hg,{className:"size-5 text-gray-400 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Confirmed By"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.scheduleConfirmedBy})]})]})]})})]}),a.driverName&&(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{children:"Driver & Vehicle Information"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(oa,{className:"size-5 text-gray-400 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Driver Name"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.driverName})]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(iM,{className:"size-5 text-gray-400 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Driver Contact"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.driverContact})]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(H,{className:"size-5 text-gray-400 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Vehicle Number"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.vehicleNumber})]})]})]})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{children:"Delivery Items"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)(ju,{children:[(0,l.jsx)(jv,{children:(0,l.jsxs)(jx,{children:[(0,l.jsx)(jy,{className:"w-12",children:"#"}),(0,l.jsx)(jy,{children:"Item Description"}),(0,l.jsx)(jy,{className:"text-right",children:"Quantity"}),(0,l.jsx)(jy,{className:"text-right",children:"Unit"}),(0,l.jsx)(jy,{className:"text-right",children:"Available Stock"})]})}),(0,l.jsx)(jw,{children:a.items.map((a,b)=>(0,l.jsxs)(jx,{children:[(0,l.jsx)(jz,{children:b+1}),(0,l.jsx)(jz,{children:(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#231F20]",children:a.scaffoldingItemName}),a.dimensions&&(0,l.jsx)("p",{className:"text-sm text-gray-500",children:a.dimensions}),a.weight&&(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:["Weight: ",a.weight]})]})}),(0,l.jsx)(jz,{className:"text-right",children:a.quantity}),(0,l.jsx)(jz,{className:"text-right",children:a.unit}),(0,l.jsx)(jz,{className:"text-right",children:(0,l.jsx)(jk,{className:a.availableStock>=a.quantity?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:a.availableStock})})]},a.id))})]})})]}),a.packingPhotos&&a.packingPhotos.length>0&&(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsxs)(hy,{className:"flex items-center gap-2",children:[(0,l.jsx)(j$,{className:"size-5"}),"Packing Photos"]})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:a.packingPhotos.map((a,b)=>(0,l.jsxs)("div",{className:"relative group",children:[(0,l.jsx)("img",{src:a,alt:`Packing ${b+1}`,className:"w-full h-32 object-cover rounded-lg border"}),(0,l.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity rounded-lg flex items-center justify-center",children:(0,l.jsx)(a2,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 text-white",onClick:()=>window.open(a,"_blank"),children:"View"})})]},b))})})]}),a.deliveryPhotos&&a.deliveryPhotos.length>0&&(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsxs)(hy,{className:"flex items-center gap-2",children:[(0,l.jsx)(j$,{className:"size-5"}),"Delivery Photos"]})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:a.deliveryPhotos.map((a,b)=>(0,l.jsxs)("div",{className:"relative group",children:[(0,l.jsx)("img",{src:a,alt:`Delivery ${b+1}`,className:"w-full h-32 object-cover rounded-lg border"}),(0,l.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity rounded-lg flex items-center justify-center",children:(0,l.jsx)(a2,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 text-white",onClick:()=>window.open(a,"_blank"),children:"View"})})]},b))})})]}),(a.driverSignature||a.customerSignature)&&(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{children:"Signatures"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.driverSignature&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-sm text-gray-500 mb-2",children:"Driver Signature"}),(0,l.jsx)("img",{src:a.driverSignature,alt:"Driver signature",className:"border rounded-lg p-4 bg-white w-full"}),a.driverAcknowledgedAt&&(0,l.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Signed: ",new Date(a.driverAcknowledgedAt).toLocaleString()]})]}),a.customerSignature&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-sm text-gray-500 mb-2",children:"Customer Signature"}),(0,l.jsx)("img",{src:a.customerSignature,alt:"Customer signature",className:"border rounded-lg p-4 bg-white w-full"}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:a.customerSignedBy}),a.customerAcknowledgedAt&&(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:["Signed: ",new Date(a.customerAcknowledgedAt).toLocaleString()]})]})]})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{children:"Workflow Timeline"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"space-y-4",children:[a.stockCheckDate&&(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500 mt-2"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#231F20]",children:"Stock Checked"}),(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:[new Date(a.stockCheckDate).toLocaleString(),"  ",a.stockCheckBy]}),a.stockCheckNotes&&(0,l.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:a.stockCheckNotes})]})]}),a.packingListDate&&(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"w-2 h-2 rounded-full bg-cyan-500 mt-2"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#231F20]",children:"Packing List Issued"}),(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:[new Date(a.packingListDate).toLocaleString(),"  ",a.packingListNumber]})]})]}),a.scheduleConfirmedAt&&(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"w-2 h-2 rounded-full bg-purple-500 mt-2"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#231F20]",children:"Schedule Confirmed"}),(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:[new Date(a.scheduleConfirmedAt).toLocaleString(),"  ",a.scheduleConfirmedBy]})]})]}),a.loadingCompletedAt&&(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"w-2 h-2 rounded-full bg-orange-500 mt-2"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#231F20]",children:"Loading Completed"}),(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:[new Date(a.loadingCompletedAt).toLocaleString(),"  ",a.loadingCompletedBy]})]})]}),a.doIssuedAt&&(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"w-2 h-2 rounded-full bg-indigo-500 mt-2"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#231F20]",children:"Delivery Order Issued"}),(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:[new Date(a.doIssuedAt).toLocaleString(),"  ",a.doIssuedBy]})]})]}),a.dispatchedAt&&(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"w-2 h-2 rounded-full bg-yellow-500 mt-2"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#231F20]",children:"Dispatched"}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:new Date(a.dispatchedAt).toLocaleString()})]})]}),a.deliveredAt&&(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"w-2 h-2 rounded-full bg-lime-500 mt-2"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#231F20]",children:"Delivered"}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:new Date(a.deliveredAt).toLocaleString()})]})]}),a.customerAcknowledgedAt&&(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"w-2 h-2 rounded-full bg-teal-500 mt-2"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#231F20]",children:"Customer Acknowledged"}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:new Date(a.customerAcknowledgedAt).toLocaleString()})]})]}),a.inventoryUpdatedAt&&(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500 mt-2"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#231F20]",children:"Completed - Inventory Updated"}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:new Date(a.inventoryUpdatedAt).toLocaleString()}),(0,l.jsxs)(jk,{className:"bg-green-100 text-green-800 mt-1",children:["Status: ",a.inventoryStatus]})]})]})]})})]})]})}let pa=[{id:"DEL-001",doNumber:"DO-2026-001",orderId:"ORD-2026-156",agreementId:"AGR-2026-089",customerName:"ABC Construction Sdn Bhd",customerContact:"+60 12-345-6789",customerAddress:"No. 45, Jalan Ampang, 50450 Kuala Lumpur",siteAddress:"Lot 123, Jalan Bukit Bintang, 55100 KL",type:"delivery",items:[{id:"ITM-001",scaffoldingItemId:"SCAF-001",scaffoldingItemName:"Steel Pipe Scaffolding - Standard (6m)",quantity:50,unit:"pcs",availableStock:200,weight:"25kg/pc",dimensions:"48.3mm x 6m"},{id:"ITM-002",scaffoldingItemId:"SCAF-002",scaffoldingItemName:"Scaffold Board - Wooden (3.9m)",quantity:30,unit:"pcs",availableStock:150,weight:"20kg/pc",dimensions:"225mm x 38mm x 3.9m"}],status:"pending",scheduledDate:"2026-12-15",scheduledTimeSlot:"09:00 - 12:00",createdBy:"Sales Staff",createdAt:"2026-12-02T09:00:00",updatedAt:"2026-12-02T09:00:00"},{id:"DEL-002",doNumber:"DO-2026-002",orderId:"ORD-2026-157",agreementId:"AGR-2026-090",customerName:"XYZ Builders Sdn Bhd",customerContact:"+60 13-456-7890",customerAddress:"Unit 12-3, Tower A, The Pinnacle, 50088 KL",siteAddress:"Site 45B, Taman Desa Development",type:"pickup",items:[{id:"ITM-003",scaffoldingItemId:"SCAF-003",scaffoldingItemName:"H-Frame Scaffolding (1.7m x 1.2m)",quantity:20,unit:"pcs",availableStock:80,weight:"22kg/pc",dimensions:"1.7m x 1.2m"}],status:"pending",scheduledDate:"2026-12-18",scheduledTimeSlot:"14:00 - 17:00",createdBy:"Sales Staff",createdAt:"2026-12-05T09:00:00",updatedAt:"2026-12-05T09:00:00"},{id:"DEL-003",doNumber:"DO-2026-003",orderId:"ORD-2026-158",agreementId:"AGR-2026-091",customerName:"Prime Engineering Works",customerContact:"+60 14-567-8901",customerAddress:"Level 5, Menara TH, Jalan Tun Razak",siteAddress:"Plaza Metro, Jalan Raja Chulan",type:"delivery",items:[{id:"ITM-004",scaffoldingItemId:"SCAF-004",scaffoldingItemName:"Ringlock System - Vertical (3m)",quantity:60,unit:"pcs",availableStock:120,weight:"20kg/pc"},{id:"ITM-005",scaffoldingItemId:"SCAF-005",scaffoldingItemName:"Steel Ledger (2m)",quantity:40,unit:"pcs",availableStock:100,weight:"12kg/pc"}],status:"pending",scheduledDate:"2026-12-20",scheduledTimeSlot:"09:00 - 12:00",createdBy:"Sales Staff",createdAt:"2026-12-08T09:00:00",updatedAt:"2026-12-08T09:00:00"},{id:"DEL-004",doNumber:"DO-2026-004",orderId:"ORD-2026-159",agreementId:"AGR-2026-092",customerName:"Golden Projects Sdn Bhd",customerContact:"+60 15-678-9012",customerAddress:"No. 88, Jalan Sultan Ismail, 50250 KL",siteAddress:"Summit Mall Development, Subang Jaya",type:"pickup",items:[{id:"ITM-006",scaffoldingItemId:"SCAF-006",scaffoldingItemName:"Steel Tube - Heavy Duty (4m)",quantity:100,unit:"pcs",availableStock:300,weight:"18kg/pc",dimensions:"48.3mm x 4m"},{id:"ITM-007",scaffoldingItemId:"SCAF-007",scaffoldingItemName:"Swivel Coupler",quantity:150,unit:"pcs",availableStock:500,weight:"1.5kg/pc"}],status:"pending",scheduledDate:"2026-12-22",scheduledTimeSlot:"14:00 - 17:00",createdBy:"Sales Staff",createdAt:"2026-12-10T09:00:00",updatedAt:"2026-12-10T09:00:00"}];function pb(){let[a,b]=(0,m.useState)([]),[c,d]=(0,m.useState)([]),[e,f]=(0,m.useState)(""),[g,h]=(0,m.useState)("all"),[i,j]=(0,m.useState)("list"),[k,n]=(0,m.useState)(null);(0,m.useEffect)(()=>{let a=localStorage.getItem("deliveryOrders");a?b(JSON.parse(a)):(b(pa),localStorage.setItem("deliveryOrders",JSON.stringify(pa)))},[]),(0,m.useEffect)(()=>{let b=a;e&&(b=b.filter(a=>a.doNumber.toLowerCase().includes(e.toLowerCase())||a.customerName.toLowerCase().includes(e.toLowerCase())||a.orderId.toLowerCase().includes(e.toLowerCase()))),"all"!==g&&(b=b.filter(a=>a.status===g)),d(b)},[a,e,g]);let o=a=>{b(a),localStorage.setItem("deliveryOrders",JSON.stringify(a))},p=()=>{j("list"),n(null)},q={total:a.length,pending:a.filter(a=>"pending"===a.status||"packing_list_issued"===a.status).length,inProgress:a.filter(a=>"stock_checked"===a.status||"packing_loading"===a.status||"in_transit"===a.status||"ready_for_pickup"===a.status).length,completed:a.filter(a=>"completed"===a.status).length};return"workflow"===i?(0,l.jsx)(o8,{delivery:k,onSave:b=>{a.find(a=>a.id===b.id)?(o(a.map(a=>a.id===b.id?b:a)),gG.success("Delivery order updated successfully")):(o([...a,b]),gG.success("Delivery order created successfully")),j("list"),n(null)},onBack:p}):"details"===i&&k?(0,l.jsx)(o9,{delivery:k,onProcess:()=>j("workflow"),onBack:p}):(0,l.jsxs)("div",{className:"p-6 space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-[#231F20]",children:"Delivery Management"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Manage delivery orders, packing, and dispatch"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsxs)(hy,{className:"text-sm text-gray-600 flex items-center gap-2",children:[(0,l.jsx)(F,{className:"size-4"}),"Total Orders"]})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"text-[#231F20]",children:q.total})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsxs)(hy,{className:"text-sm text-gray-600 flex items-center gap-2",children:[(0,l.jsx)(hF,{className:"size-4"}),"Pending"]})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"text-[#231F20]",children:q.pending})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsxs)(hy,{className:"text-sm text-gray-600 flex items-center gap-2",children:[(0,l.jsx)(H,{className:"size-4"}),"In Progress"]})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"text-[#231F20]",children:q.inProgress})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsxs)(hy,{className:"text-sm text-gray-600 flex items-center gap-2",children:[(0,l.jsx)(hg,{className:"size-4"}),"Completed"]})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"text-[#231F20]",children:q.completed})})]})]}),(0,l.jsx)(hw,{children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,l.jsxs)("div",{className:"flex-1 relative",children:[(0,l.jsx)(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 size-4 text-gray-400"}),(0,l.jsx)(a3,{placeholder:"Search by DO number, customer, or order ID...",value:e,onChange:a=>f(a.target.value),className:"pl-10"})]}),(0,l.jsxs)(iE,{value:g,onValueChange:h,children:[(0,l.jsxs)(iG,{className:"w-full md:w-64",children:[(0,l.jsx)(n9,{className:"size-4 mr-2"}),(0,l.jsx)(iF,{placeholder:"Filter by status"})]}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"all",children:"All Status"}),(0,l.jsx)(iI,{value:"pending",children:"Pending"}),(0,l.jsx)(iI,{value:"packing_list_issued",children:"Packing List Issued"}),(0,l.jsx)(iI,{value:"stock_checked",children:"Stock Checked"}),(0,l.jsx)(iI,{value:"packing_loading",children:"Packing & Loading"}),(0,l.jsx)(iI,{value:"in_transit",children:"In Transit"}),(0,l.jsx)(iI,{value:"ready_for_pickup",children:"Ready for Pickup"}),(0,l.jsx)(iI,{value:"completed",children:"Completed"})]})]})]})})}),(0,l.jsx)(hw,{children:(0,l.jsx)(hA,{className:"p-0",children:(0,l.jsxs)(ju,{children:[(0,l.jsx)(jv,{children:(0,l.jsxs)(jx,{children:[(0,l.jsx)(jy,{children:"DO Number"}),(0,l.jsx)(jy,{children:"Customer Name"}),(0,l.jsx)(jy,{children:"Scheduled Date"}),(0,l.jsx)(jy,{children:"Type"}),(0,l.jsx)(jy,{children:"Status"}),(0,l.jsx)(jy,{className:"text-right",children:"Actions"})]})}),(0,l.jsx)(jw,{children:0===c.length?(0,l.jsx)(jx,{children:(0,l.jsxs)(jz,{colSpan:6,className:"text-center py-12",children:[(0,l.jsx)(F,{className:"size-12 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-600",children:"No delivery orders found"}),(0,l.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:e||"all"!==g?"Try adjusting your filters":"Create your first delivery order to get started"})]})}):c.map(a=>(0,l.jsxs)(jx,{children:[(0,l.jsx)(jz,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(v,{className:"size-4 text-gray-400"}),(0,l.jsx)("span",{className:"text-[#231F20]",children:a.doNumber})]})}),(0,l.jsx)(jz,{children:(0,l.jsx)("p",{className:"text-[#231F20]",children:a.customerName})}),(0,l.jsx)(jz,{children:a.scheduledDate?(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(w,{className:"size-4 text-gray-400"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#231F20]",children:new Date(a.scheduledDate).toLocaleDateString()}),a.scheduledTimeSlot&&(0,l.jsx)("p",{className:"text-sm text-gray-500",children:a.scheduledTimeSlot})]})]}):(0,l.jsx)("span",{className:"text-gray-400",children:"Not scheduled"})}),(0,l.jsx)(jz,{children:(0,l.jsx)(jk,{variant:"outline",className:"delivery"===a.type?"border-blue-500 text-blue-700":"border-purple-500 text-purple-700",children:"delivery"===a.type?"Delivery":"Pickup"})}),(0,l.jsx)(jz,{children:(a=>{let b={pending:{bg:"bg-gray-100",text:"text-gray-800",label:"Pending"},packing_list_issued:{bg:"bg-cyan-100",text:"text-cyan-800",label:"Packing List"},stock_checked:{bg:"bg-blue-100",text:"text-blue-800",label:"Stock Checked"},packing_loading:{bg:"bg-amber-100",text:"text-amber-800",label:"Packing & Loading"},in_transit:{bg:"bg-yellow-100",text:"text-yellow-800",label:"In Transit"},ready_for_pickup:{bg:"bg-orange-100",text:"text-orange-800",label:"Ready for Pickup"},completed:{bg:"bg-green-100",text:"text-green-800",label:"Completed"}}[a];if(!b)return(0,l.jsx)(jk,{className:"bg-gray-100 text-gray-800",children:"Unknown"});let{bg:c,text:d,label:e}=b;return(0,l.jsx)(jk,{className:`${c} ${d}`,children:e})})(a.status)}),(0,l.jsx)(jz,{className:"text-right",children:(0,l.jsxs)(fp,{children:[(0,l.jsx)(fq,{asChild:!0,children:(0,l.jsx)(a2,{variant:"outline",size:"sm",children:(0,l.jsx)(jN,{className:"size-4"})})}),(0,l.jsxs)(fr,{align:"end",children:[(0,l.jsxs)(fs,{onClick:()=>{n(a),j("details")},children:[(0,l.jsx)(gN,{className:"size-4 mr-2"}),"View"]}),"completed"!==a.status&&(0,l.jsxs)(fs,{onClick:()=>{n(a),j("workflow")},children:[(0,l.jsx)(ji,{className:"size-4 mr-2"}),"Process"]})]})]})})]},a.id))})]})})})]})}let pc=s("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),pd=s("package-x",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]]),pe=s("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),pf=["09:00 - 12:00","12:00 - 15:00","15:00 - 18:00"];function pg({returnOrder:a,onSave:b,onBack:c}){let[d,e]=(0,m.useState)(1),[f,g]=(0,m.useState)(a||{items:[],status:"Requested",returnType:"Full",transportationType:"Self Return",requestDate:new Date().toISOString()}),[h,i]=(0,m.useState)(),[j,k]=(0,m.useState)(""),[n,o]=(0,m.useState)([]),[p,q]=(0,m.useState)([]),[r,s]=(0,m.useState)([]),t=(0,m.useRef)(null),[u,x]=(0,m.useState)(""),[y,z]=(0,m.useState)(!1),[A,B]=(0,m.useState)(""),[C,E]=(0,m.useState)({}),[G,I]=(0,m.useState)({}),[J,K]=(0,m.useState)(!1);(0,m.useEffect)(()=>{if(a){if(g(a),e({Requested:1,Approved:"Transportation Needed"===f.transportationType?2:4,"Pickup Scheduled":2,"Pickup Confirmed":3,"Driver Recording":3,"In Transit":3,"Received at Warehouse":4,"Under Inspection":5,"Sorting Complete":6,"Customer Notified":7,"Dispute Raised":7,Completed:"Transportation Needed"===f.transportationType?8:6}[a.status]||1),a.pickupDate)i(new Date(a.pickupDate));else if("Transportation Needed"===a.transportationType&&"Requested"===a.status){let a=new Date;a.setDate(a.getDate()+3),i(a)}a.pickupTimeSlot?k(a.pickupTimeSlot):"Transportation Needed"===a.transportationType&&"Requested"===a.status&&k(pf[0]);let b={},c={};a.items?.forEach(a=>{b[a.id]=a.status,a.notes&&(c[a.id]=a.notes)}),E(b),I(c),a.productionNotes&&x(a.productionNotes),a.hasExternalGoods&&z(a.hasExternalGoods),a.externalGoodsNotes&&B(a.externalGoodsNotes)}},[a]);let L="Transportation Needed"===f.transportationType?[{number:1,title:"Approve & Schedule"},{number:2,title:"Confirm Pickup"},{number:3,title:"Driver Recording"},{number:4,title:"Receive at Warehouse"},{number:5,title:"Inspection & GRN"},{number:6,title:"Generate RCF"},{number:7,title:"Notify Customer"},{number:8,title:"Complete"}]:[{number:1,title:"Approve Return"},{number:2,title:"Receive at Warehouse"},{number:3,title:"Inspection & GRN"},{number:4,title:"Generate RCF"},{number:5,title:"Notify Customer"},{number:6,title:"Complete"}],O=()=>{t.current?.click()},Q=a=>{let b=a.target.files;if(!b||0===b.length)return;let c=Array.from(b),e=0,g=[];c.forEach(a=>{if(!a.type.startsWith("image/"))return void gG.error(`${a.name} is not an image file`);if(a.size>5242880)return void gG.error(`${a.name} is too large (max 5MB)`);let b=new FileReader;b.onload=a=>{let b=a.target?.result;g.push(b),++e===c.length&&("Transportation Needed"===f.transportationType?3===d?o([...n,...g]):4===d?q([...p,...g]):5===d&&s([...r,...g]):2===d?q([...p,...g]):3===d&&s([...r,...g]),gG.success(`${g.length} photo(s) uploaded`))},b.onerror=()=>{gG.error(`Failed to read ${a.name}`)},b.readAsDataURL(a)}),a.target.value=""},R=(a,b)=>{"driver"===b?o(n.filter((b,c)=>c!==a)):"warehouse"===b?q(p.filter((b,c)=>c!==a)):s(r.filter((b,c)=>c!==a)),gG.success("Photo removed")},T=a=>{let b={Pending:{color:"bg-gray-100 text-gray-800",icon:F},Good:{color:"bg-green-100 text-green-800",icon:hg},Damaged:{color:"bg-red-100 text-red-800",icon:S},Repairable:{color:"bg-amber-100 text-amber-800",icon:pe},"To Retire":{color:"bg-gray-100 text-gray-800",icon:pd},"Ready to Reuse":{color:"bg-emerald-100 text-emerald-800",icon:hg}},{color:c,icon:d}=b[a]||b.Pending;return(0,l.jsxs)(jk,{className:c,children:[(0,l.jsx)(d,{className:"size-3 mr-1"}),a]})};return(0,l.jsxs)("div",{className:"p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(a2,{variant:"outline",onClick:c,children:(0,l.jsx)(gT,{className:"size-4"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-[#231F20]",children:a?`Process Return - ${a.id}`:"New Return"}),(0,l.jsxs)("p",{className:"text-gray-600",children:[f.customer," - ",f.orderId," (",f.transportationType,")"]})]})]}),(0,l.jsx)(hw,{children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsx)("div",{className:"flex items-center justify-between overflow-x-auto",children:L.map((a,b)=>(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 ${d>a.number?"bg-green-500 text-white":d===a.number?"bg-[#F15929] text-white":"bg-gray-200 text-gray-600"}`,children:d>a.number?(0,l.jsx)(fm,{className:"size-5"}):a.number}),(0,l.jsx)("span",{className:"text-xs text-center mt-2 max-w-24",children:a.title})]}),b<L.length-1&&(0,l.jsx)("div",{className:`h-0.5 w-12 mx-2 ${d>a.number?"bg-green-500":"bg-gray-200"}`})]},a.number))})})}),1===d&&(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsxs)(hy,{className:"flex items-center gap-2",children:[(0,l.jsx)(M,{className:"size-5 text-[#F15929]"}),"Step 1: ","Transportation Needed"===f.transportationType?"Approve Return & Schedule Pickup":"Approve Return Request"]})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsx)("p",{className:"text-gray-600",children:"Transportation Needed"===f.transportationType?"Review the return request and schedule a pickup time with the customer.":"Approve the return request. Customer will self-deliver the items to warehouse."}),(0,l.jsx)("div",{className:"p-4 bg-gray-50 border rounded-lg space-y-2",children:(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Customer:"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:f.customer})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Order ID:"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:f.orderId})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Return Type:"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:f.returnType})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Transportation:"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:f.transportationType})]})]})}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)(gR,{children:"Items to Return"}),f.items&&f.items.length>0?f.items.map(a=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"text-[#231F20]",children:a.name}),(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:["Category: ",a.category]})]}),(0,l.jsx)("div",{className:"text-right",children:(0,l.jsxs)("p",{className:"text-[#231F20]",children:["Qty: ",a.quantityReturned]})})]},a.id)):(0,l.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,l.jsx)(S,{className:"size-12 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("p",{children:"No items to return"})]})]}),"Transportation Needed"===f.transportationType&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Pickup Date"}),(0,l.jsxs)(mF,{children:[(0,l.jsx)(mG,{asChild:!0,children:(0,l.jsxs)(a2,{variant:"outline",className:"w-full justify-start",children:[(0,l.jsx)(w,{className:"mr-2 size-4"}),h?k9(h,"PPP"):"Select pickup date"]})}),(0,l.jsx)(mH,{className:"w-auto p-0",children:(0,l.jsx)(mi,{mode:"single",selected:h,onSelect:i,initialFocus:!0})})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Pickup Time Slot"}),(0,l.jsxs)(iE,{value:j,onValueChange:k,children:[(0,l.jsx)(iG,{children:(0,l.jsx)(iF,{placeholder:"Select time slot"})}),(0,l.jsx)(iH,{children:pf.map(a=>(0,l.jsx)(iI,{value:a,children:a},a))})]})]})]}),(0,l.jsxs)(a2,{onClick:()=>{if("Transportation Needed"===f.transportationType){if(!h||!j)return void gG.error("Please select pickup date and time slot");g({...f,status:"Pickup Scheduled",pickupDate:h.toISOString(),pickupTimeSlot:j}),gG.success("Return approved and pickup scheduled"),e(2)}else g({...f,status:"Approved"}),gG.success("Return approved - awaiting customer self-return"),e(2)},className:"bg-[#F15929] hover:bg-[#d94d1f] w-full",children:[(0,l.jsx)(fm,{className:"size-4 mr-2"}),"Transportation Needed"===f.transportationType?"Approve & Schedule Pickup":"Approve Return"]})]})]}),2===d&&"Transportation Needed"===f.transportationType&&(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsxs)(hy,{className:"flex items-center gap-2",children:[(0,l.jsx)(H,{className:"size-5 text-[#F15929]"}),"Step 2: Confirm Pickup Details"]})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsx)("p",{className:"text-gray-600",children:"Assign a driver and vehicle for the pickup."}),(0,l.jsx)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,l.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,l.jsx)(w,{className:"size-4 inline mr-1"}),"Scheduled Pickup: ",h&&k9(h,"PPP")," ",j]})}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Driver Name"}),(0,l.jsx)(a3,{value:f.pickupDriver||"",onChange:a=>g({...f,pickupDriver:a.target.value}),placeholder:"Enter driver name"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Driver Contact"}),(0,l.jsx)(a3,{value:f.driverContact||"",onChange:a=>g({...f,driverContact:a.target.value}),placeholder:"+60 12-345-6789"})]}),(0,l.jsxs)(a2,{onClick:()=>{f.pickupDriver&&f.driverContact?(g({...f,status:"Pickup Confirmed"}),gG.success("Pickup confirmed"),e(3)):gG.error("Please enter driver name and contact")},className:"bg-[#F15929] hover:bg-[#d94d1f] w-full",disabled:!f.pickupDriver||!f.driverContact,children:[(0,l.jsx)(fm,{className:"size-4 mr-2"}),"Confirm Pickup"]})]})]}),3===d&&"Transportation Needed"===f.transportationType&&(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsxs)(hy,{className:"flex items-center gap-2",children:[(0,l.jsx)(P,{className:"size-5 text-[#F15929]"}),"Step 3: Driver Recording"]})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsx)("p",{className:"text-gray-600",children:"Driver should take photos of the goods before loading for transport."}),(0,l.jsxs)("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[(0,l.jsxs)("p",{className:"text-sm text-amber-800",children:[(0,l.jsx)(oa,{className:"size-4 inline mr-1"}),"Driver: ",f.pickupDriver]}),(0,l.jsxs)("p",{className:"text-sm text-amber-800",children:[(0,l.jsx)(iM,{className:"size-4 inline mr-1"}),"Contact: ",f.driverContact]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Driver Photos (Required)"}),(0,l.jsxs)(a2,{variant:"outline",onClick:O,className:"w-full",children:[(0,l.jsx)(hD,{className:"size-4 mr-2"}),"Upload Photos"]}),(0,l.jsx)("input",{ref:t,type:"file",accept:"image/*",multiple:!0,onChange:Q,className:"hidden"}),n.length>0&&(0,l.jsx)("div",{className:"grid grid-cols-3 gap-2 mt-2",children:n.map((a,b)=>(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("img",{src:a,alt:`Driver ${b+1}`,className:"w-full h-24 object-cover rounded"}),(0,l.jsx)(a2,{variant:"destructive",size:"sm",className:"absolute top-1 right-1 size-6 p-0",onClick:()=>R(b,"driver"),children:(0,l.jsx)(D,{className:"size-3"})})]},b))})]}),(0,l.jsxs)(a2,{onClick:()=>{if(0===n.length)return void gG.error("Please upload at least one photo of the goods");let a=n.map((a,b)=>({url:a,uploadedAt:new Date().toISOString(),description:`Driver photo ${b+1}`,uploadedBy:f.pickupDriver||"Driver"}));g({...f,driverRecordPhotos:a,status:"In Transit"}),gG.success("Driver recording saved - items in transit"),e(4)},className:"bg-[#F15929] hover:bg-[#d94d1f] w-full",disabled:0===n.length,children:[(0,l.jsx)(fm,{className:"size-4 mr-2"}),"Save Recording & Mark In Transit"]})]})]}),(4===d&&"Transportation Needed"===f.transportationType||2===d&&"Self Return"===f.transportationType)&&(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsxs)(hy,{className:"flex items-center gap-2",children:[(0,l.jsx)(N,{className:"size-5 text-[#F15929]"}),"Transportation Needed"===f.transportationType?"Step 4":"Step 2",": Receive at Warehouse"]})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsx)("p",{className:"text-gray-600",children:"Confirm receipt of goods at warehouse and upload photos."}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Warehouse Receipt Photos (Required)"}),(0,l.jsxs)(a2,{variant:"outline",onClick:O,className:"w-full",children:[(0,l.jsx)(hD,{className:"size-4 mr-2"}),"Upload Photos"]}),(0,l.jsx)("input",{ref:t,type:"file",accept:"image/*",multiple:!0,onChange:Q,className:"hidden"}),p.length>0&&(0,l.jsx)("div",{className:"grid grid-cols-3 gap-2 mt-2",children:p.map((a,b)=>(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("img",{src:a,alt:`Warehouse ${b+1}`,className:"w-full h-24 object-cover rounded"}),(0,l.jsx)(a2,{variant:"destructive",size:"sm",className:"absolute top-1 right-1 size-6 p-0",onClick:()=>R(b,"warehouse"),children:(0,l.jsx)(D,{className:"size-3"})})]},b))})]}),(0,l.jsxs)(a2,{onClick:()=>{if(0===p.length)return void gG.error("Please upload at least one photo of received goods");let a=p.map((a,b)=>({url:a,uploadedAt:new Date().toISOString(),description:`Warehouse photo ${b+1}`,uploadedBy:"Warehouse Staff"}));g({...f,warehousePhotos:a,status:"Received at Warehouse"}),gG.success("Goods received at warehouse"),"Transportation Needed"===f.transportationType?e(5):e(3)},className:"bg-[#F15929] hover:bg-[#d94d1f] w-full",disabled:0===p.length,children:[(0,l.jsx)(fm,{className:"size-4 mr-2"}),"Confirm Receipt at Warehouse"]})]})]}),(5===d&&"Transportation Needed"===f.transportationType||3===d&&"Self Return"===f.transportationType)&&(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsxs)(hy,{className:"flex items-center gap-2",children:[(0,l.jsx)(M,{className:"size-5 text-[#F15929]"}),"Transportation Needed"===f.transportationType?"Step 5":"Step 3",": Inspection & Generate GRN"]})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsx)("p",{className:"text-gray-600",children:"Inspect all returned items and set their condition status. GRN will be auto-generated."}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)(gR,{children:"Item Condition Assessment"}),f.items?.map(a=>(0,l.jsxs)("div",{className:"p-4 border rounded-lg space-y-3",children:[(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#231F20]",children:a.name}),(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:["Qty: ",a.quantityReturned," | Category: ",a.category]})]})}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Condition Status"}),(0,l.jsxs)(iE,{value:C[a.id]||"",onValueChange:b=>E({...C,[a.id]:b}),children:[(0,l.jsx)(iG,{children:(0,l.jsx)(iF,{placeholder:"Select condition"})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"Good",children:"Good"}),(0,l.jsx)(iI,{value:"Damaged",children:"Damaged"}),(0,l.jsx)(iI,{value:"Repairable",children:"Repairable"}),(0,l.jsx)(iI,{value:"To Retire",children:"To Retire"}),(0,l.jsx)(iI,{value:"Ready to Reuse",children:"Ready to Reuse"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Notes (Optional)"}),(0,l.jsx)(jE,{value:G[a.id]||"",onChange:b=>I({...G,[a.id]:b.target.value}),placeholder:"Any specific notes about this item...",rows:2})]})]},a.id))]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Production/Inspection Notes"}),(0,l.jsx)(jE,{value:u,onChange:a=>x(a.target.value),placeholder:"General notes about the inspection...",rows:3})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(g8,{id:"externalGoods",checked:y,onCheckedChange:a=>z(a)}),(0,l.jsx)(gR,{htmlFor:"externalGoods",className:"cursor-pointer",children:"External goods detected (not from our inventory)"})]}),y&&(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"External Goods Notes"}),(0,l.jsx)(jE,{value:A,onChange:a=>B(a.target.value),placeholder:"Describe the external goods...",rows:2})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Damage Photos (Optional)"}),(0,l.jsxs)(a2,{variant:"outline",onClick:O,className:"w-full",children:[(0,l.jsx)(hD,{className:"size-4 mr-2"}),"Upload Damage Photos"]}),r.length>0&&(0,l.jsx)("div",{className:"grid grid-cols-3 gap-2 mt-2",children:r.map((a,b)=>(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("img",{src:a,alt:`Damage ${b+1}`,className:"w-full h-24 object-cover rounded"}),(0,l.jsx)(a2,{variant:"destructive",size:"sm",className:"absolute top-1 right-1 size-6 p-0",onClick:()=>R(b,"damage"),children:(0,l.jsx)(D,{className:"size-3"})})]},b))})]}),(0,l.jsxs)(a2,{onClick:()=>{if(!f.items?.every(a=>C[a.id]))return void gG.error("Please set status for all items");let a=f.items?.map(a=>({...a,status:C[a.id],notes:G[a.id]||void 0})),b=`GRN-${new Date().getFullYear()}-${String(Math.floor(1e3*Math.random())).padStart(3,"0")}`;g({...f,items:a,productionNotes:u,hasExternalGoods:y,externalGoodsNotes:y?A:void 0,grnNumber:b,status:"Under Inspection"}),gG.success(`GRN ${b} generated`),"Transportation Needed"===f.transportationType?e(6):e(4)},className:"bg-[#F15929] hover:bg-[#d94d1f] w-full",children:[(0,l.jsx)(v,{className:"size-4 mr-2"}),"Complete Inspection & Generate GRN"]})]})]}),(6===d&&"Transportation Needed"===f.transportationType||4===d&&"Self Return"===f.transportationType)&&(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsxs)(hy,{className:"flex items-center gap-2",children:[(0,l.jsx)(v,{className:"size-5 text-[#F15929]"}),"Transportation Needed"===f.transportationType?"Step 6":"Step 4",": Generate RCF (Return Condition Form)"]})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsx)("p",{className:"text-gray-600",children:"Review inspection results and generate RCF if needed for damaged/repairable items."}),(0,l.jsx)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,l.jsxs)("p",{className:"text-sm text-green-800",children:[(0,l.jsx)(hg,{className:"size-4 inline mr-1"}),"GRN Generated: ",f.grnNumber]})}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Items Summary"}),f.items?.map(a=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)("p",{className:"text-sm text-[#231F20]",children:a.name})}),(0,l.jsx)("div",{children:T(a.status)})]},a.id))]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)(a2,{onClick:()=>K(!0),className:"bg-[#F15929] hover:bg-[#d94d1f] flex-1",children:[(0,l.jsx)(v,{className:"size-4 mr-2"}),"Generate RCF"]}),(0,l.jsx)(a2,{onClick:()=>{g({...f,status:"Sorting Complete"}),gG.info("RCF skipped"),K(!1),"Transportation Needed"===f.transportationType?e(7):e(5)},variant:"outline",className:"flex-1",children:"Skip RCF"})]})]})]}),(7===d&&"Transportation Needed"===f.transportationType||5===d&&"Self Return"===f.transportationType)&&(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsxs)(hy,{className:"flex items-center gap-2",children:[(0,l.jsx)(hg,{className:"size-5 text-[#F15929]"}),"Transportation Needed"===f.transportationType?"Step 7":"Step 5",": Notify Customer"]})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsx)("p",{className:"text-gray-600",children:"Send notification to customer about the return inspection results."}),(0,l.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg space-y-2",children:[(0,l.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,l.jsx)(v,{className:"size-4 inline mr-1"}),"GRN: ",f.grnNumber]}),f.rcfNumber&&(0,l.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,l.jsx)(v,{className:"size-4 inline mr-1"}),"RCF: ",f.rcfNumber]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Notification Summary"}),(0,l.jsxs)("div",{className:"p-3 border rounded-lg space-y-2 text-sm",children:[(0,l.jsxs)("p",{children:["Customer: ",f.customer]}),(0,l.jsxs)("p",{children:["Order ID: ",f.orderId]}),(0,l.jsxs)("p",{children:["Items Returned: ",f.items?.length," items"]}),(0,l.jsxs)("p",{children:["Good Items: ",f.items?.filter(a=>"Good"===a.status||"Ready to Reuse"===a.status).length]}),(0,l.jsxs)("p",{children:["Damaged/Repairable: ",f.items?.filter(a=>"Damaged"===a.status||"Repairable"===a.status).length]})]})]}),(0,l.jsxs)(a2,{onClick:()=>{g({...f,customerNotificationSent:!0,status:"Customer Notified"}),gG.success("Customer notification sent"),"Transportation Needed"===f.transportationType?e(8):e(6)},className:"bg-[#F15929] hover:bg-[#d94d1f] w-full",children:[(0,l.jsx)(hg,{className:"size-4 mr-2"}),"Send Customer Notification"]})]})]}),(8===d&&"Transportation Needed"===f.transportationType||6===d&&"Self Return"===f.transportationType)&&(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsxs)(hy,{className:"flex items-center gap-2",children:[(0,l.jsx)(hg,{className:"size-5 text-green-600"}),"Transportation Needed"===f.transportationType?"Step 8":"Step 6",": Complete Return Process"]})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,l.jsxs)("p",{className:"text-green-800 mb-2",children:[(0,l.jsx)(hg,{className:"size-5 inline mr-2"}),"Return process is ready to be completed"]}),(0,l.jsxs)("ul",{className:"text-sm text-green-700 space-y-1 ml-7",children:[(0,l.jsx)("li",{children:" Items inspected and sorted"}),(0,l.jsx)("li",{children:" GRN generated"}),f.rcfNumber&&(0,l.jsx)("li",{children:" RCF generated"}),(0,l.jsx)("li",{children:" Customer notified"})]})]}),(0,l.jsxs)("div",{className:"p-4 border rounded-lg space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#231F20]",children:"Final Actions"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,l.jsx)("span",{children:"Update Inventory"}),(0,l.jsx)(jk,{className:"bg-amber-100 text-amber-800",children:"Pending"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,l.jsx)("span",{children:"Update Statement of Account"}),(0,l.jsx)(jk,{className:"bg-amber-100 text-amber-800",children:"Pending"})]})]})]}),(0,l.jsxs)(a2,{onClick:()=>{g({...f,inventoryUpdated:!0,soaUpdated:!0,status:"Completed"}),gG.success("Return process completed - inventory and SOA updated"),setTimeout(()=>{b(f)},500)},className:"bg-green-600 hover:bg-green-700 w-full",children:[(0,l.jsx)(hg,{className:"size-4 mr-2"}),"Complete Return & Update Records"]})]})]}),(0,l.jsx)(jl,{open:J,onOpenChange:K,children:(0,l.jsxs)(jp,{className:"max-w-2xl",children:[(0,l.jsxs)(jq,{children:[(0,l.jsx)(js,{children:"Generate RCF (Return Condition Form)"}),(0,l.jsx)(jt,{children:"Review the condition of returned items and generate RCF document"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("div",{className:"max-h-96 overflow-y-auto space-y-2",children:f.items?.map(a=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"text-sm text-[#231F20]",children:a.name}),(0,l.jsxs)("p",{className:"text-xs text-gray-500",children:["Qty: ",a.quantityReturned]}),a.notes&&(0,l.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Note: ",a.notes]})]}),(0,l.jsx)("div",{children:T(a.status)})]},a.id))}),f.productionNotes&&(0,l.jsxs)("div",{className:"p-3 bg-gray-50 border rounded-lg",children:[(0,l.jsx)(gR,{className:"text-sm",children:"Inspection Notes:"}),(0,l.jsx)("p",{className:"text-sm text-gray-700 mt-1",children:f.productionNotes})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)(a2,{onClick:()=>{let a=`RCF-${new Date().getFullYear()}-${String(Math.floor(1e3*Math.random())).padStart(3,"0")}`;g({...f,rcfNumber:a,status:"Sorting Complete"}),gG.success(`RCF ${a} generated`),K(!1),"Transportation Needed"===f.transportationType?e(7):e(5)},className:"bg-[#F15929] hover:bg-[#d94d1f] flex-1",children:[(0,l.jsx)(v,{className:"size-4 mr-2"}),"Generate RCF"]}),(0,l.jsx)(a2,{onClick:()=>K(!1),variant:"outline",children:"Cancel"})]})]})]})})]})}function ph({returnOrder:a,onProcess:b,onBack:c}){let d=a=>{let{color:b,label:c}={Requested:{color:"bg-blue-500 text-white",label:"Requested"},Approved:{color:"bg-green-500 text-white",label:"Approved"},"Pickup Scheduled":{color:"bg-purple-500 text-white",label:"Pickup Scheduled"},"Pickup Confirmed":{color:"bg-purple-600 text-white",label:"Pickup Confirmed"},"Driver Recording":{color:"bg-amber-500 text-white",label:"Driver Recording"},"In Transit":{color:"bg-amber-600 text-white",label:"In Transit"},"Received at Warehouse":{color:"bg-cyan-500 text-white",label:"Received at Warehouse"},"Under Inspection":{color:"bg-amber-500 text-white",label:"Under Inspection"},"Sorting Complete":{color:"bg-green-500 text-white",label:"Sorting Complete"},"Customer Notified":{color:"bg-green-600 text-white",label:"Customer Notified"},"Dispute Raised":{color:"bg-red-500 text-white",label:"Dispute Raised"},Completed:{color:"bg-emerald-600 text-white",label:"Completed"}}[a];return(0,l.jsx)(jk,{className:b,children:c})},e="Completed"!==a.status;return(0,l.jsxs)("div",{className:"p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(a2,{variant:"outline",onClick:c,children:(0,l.jsx)(gT,{className:"size-4"})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h1",{className:"text-[#231F20]",children:["Return Details - ",a.id]}),(0,l.jsx)("p",{className:"text-gray-600",children:a.customer})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[d(a.status),e&&(0,l.jsxs)(a2,{onClick:b,className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,l.jsx)(M,{className:"size-4 mr-2"}),"Process Return"]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-base",children:"Return Information"})}),(0,l.jsx)(hA,{className:"space-y-3",children:(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-600",children:"Return ID"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.id})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-600",children:"Order ID"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.orderId})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-600",children:"Return Type"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.returnType})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-600",children:"Transportation"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.transportationType})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-600",children:"Request Date"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:k9(new Date(a.requestDate),"PPP")})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-600",children:"Status"}),(0,l.jsx)("div",{className:"mt-1",children:d(a.status)})]})]})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-base",children:"Customer Information"})}),(0,l.jsx)(hA,{className:"space-y-3",children:(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-600",children:"Customer Name"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.customer})]}),a.customerContact&&(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-600",children:"Contact"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.customerContact})]})]})})]})]}),"Transportation Needed"===a.transportationType&&(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsxs)(hy,{className:"text-base flex items-center gap-2",children:[(0,l.jsx)(H,{className:"size-4 text-[#F15929]"}),"Pickup & Transport Information"]})}),(0,l.jsx)(hA,{className:"space-y-3",children:(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[a.pickupDate&&(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-600",children:"Pickup Date"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:k9(new Date(a.pickupDate),"PPP")})]}),a.pickupDriver&&(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-600",children:"Driver"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.pickupDriver})]}),a.driverContact&&(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-600",children:"Driver Contact"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.driverContact})]})]})})]}),(a.grnNumber||a.rcfNumber)&&(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsxs)(hy,{className:"text-base flex items-center gap-2",children:[(0,l.jsx)(v,{className:"size-4 text-[#F15929]"}),"Documents"]})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"flex gap-3",children:[a.grnNumber&&(0,l.jsxs)("div",{className:"p-3 border rounded-lg flex-1",children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"GRN Number"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.grnNumber}),(0,l.jsxs)(a2,{variant:"outline",size:"sm",className:"mt-2",children:[(0,l.jsx)(gN,{className:"size-3 mr-1"}),"View GRN"]})]}),a.rcfNumber&&(0,l.jsxs)("div",{className:"p-3 border rounded-lg flex-1",children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"RCF Number"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:a.rcfNumber}),(0,l.jsxs)(a2,{variant:"outline",size:"sm",className:"mt-2",children:[(0,l.jsx)(gN,{className:"size-3 mr-1"}),"View RCF"]})]})]})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsxs)(hy,{className:"text-base flex items-center gap-2",children:[(0,l.jsx)(F,{className:"size-4 text-[#F15929]"}),"Returned Items (",a.items.length,")"]})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"space-y-3",children:a.items.map(a=>(0,l.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"text-[#231F20]",children:a.name}),(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:["Category: ",a.category]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Qty: ",a.quantityReturned]}),(0,l.jsx)("div",{className:"mt-1",children:(a=>{let b={Pending:{color:"bg-gray-100 text-gray-800",icon:F},Good:{color:"bg-green-100 text-green-800",icon:hg},Damaged:{color:"bg-red-100 text-red-800",icon:S},Repairable:{color:"bg-amber-100 text-amber-800",icon:pe},"To Retire":{color:"bg-gray-100 text-gray-800",icon:pd},"Ready to Reuse":{color:"bg-emerald-100 text-emerald-800",icon:hg}},{color:c,icon:d}=b[a]||b.Pending;return(0,l.jsxs)(jk,{className:c,children:[(0,l.jsx)(d,{className:"size-3 mr-1"}),a]})})(a.status)})]})]}),a.notes&&(0,l.jsxs)("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm",children:[(0,l.jsx)("p",{className:"text-gray-600",children:"Notes:"}),(0,l.jsx)("p",{className:"text-gray-800",children:a.notes})]})]},a.id))})})]}),a.productionNotes&&(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-base",children:"Inspection Notes"})}),(0,l.jsxs)(hA,{children:[(0,l.jsx)("p",{className:"text-sm text-gray-700",children:a.productionNotes}),a.hasExternalGoods&&(0,l.jsx)("div",{className:"mt-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:(0,l.jsxs)("div",{className:"flex items-start gap-2",children:[(0,l.jsx)(S,{className:"size-4 text-amber-600 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-amber-800",children:"External Goods Detected"}),a.externalGoodsNotes&&(0,l.jsx)("p",{className:"text-sm text-amber-700 mt-1",children:a.externalGoodsNotes})]})]})})]})]}),(a.driverRecordPhotos||a.warehousePhotos||a.damagePhotos)&&(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsxs)(hy,{className:"text-base flex items-center gap-2",children:[(0,l.jsx)(j$,{className:"size-4 text-[#F15929]"}),"Photos"]})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[a.driverRecordPhotos&&a.driverRecordPhotos.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsx)(pi,{className:"text-sm text-gray-600 mb-2 block",children:"Driver Recording Photos"}),(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:a.driverRecordPhotos.map((a,b)=>(0,l.jsxs)("div",{className:"border rounded-lg overflow-hidden",children:[(0,l.jsx)("img",{src:a.url,alt:a.description,className:"w-full h-32 object-cover"}),(0,l.jsxs)("div",{className:"p-2 bg-gray-50",children:[(0,l.jsx)("p",{className:"text-xs text-gray-600",children:a.description}),a.uploadedBy&&(0,l.jsxs)("p",{className:"text-xs text-gray-500",children:["By: ",a.uploadedBy]})]})]},b))})]}),a.warehousePhotos&&a.warehousePhotos.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsx)(pi,{className:"text-sm text-gray-600 mb-2 block",children:"Warehouse Receipt Photos"}),(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:a.warehousePhotos.map((a,b)=>(0,l.jsxs)("div",{className:"border rounded-lg overflow-hidden",children:[(0,l.jsx)("img",{src:a.url,alt:a.description,className:"w-full h-32 object-cover"}),(0,l.jsxs)("div",{className:"p-2 bg-gray-50",children:[(0,l.jsx)("p",{className:"text-xs text-gray-600",children:a.description}),a.uploadedBy&&(0,l.jsxs)("p",{className:"text-xs text-gray-500",children:["By: ",a.uploadedBy]})]})]},b))})]}),a.damagePhotos&&a.damagePhotos.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsx)(pi,{className:"text-sm text-gray-600 mb-2 block",children:"Damage Photos"}),(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:a.damagePhotos.map((a,b)=>(0,l.jsxs)("div",{className:"border rounded-lg overflow-hidden",children:[(0,l.jsx)("img",{src:a.url,alt:a.description,className:"w-full h-32 object-cover"}),(0,l.jsxs)("div",{className:"p-2 bg-gray-50",children:[(0,l.jsx)("p",{className:"text-xs text-gray-600",children:a.description}),a.uploadedBy&&(0,l.jsxs)("p",{className:"text-xs text-gray-500",children:["By: ",a.uploadedBy]})]})]},b))})]})]})]}),a.customerDispute?.raised&&(0,l.jsxs)(hw,{className:"border-red-200",children:[(0,l.jsx)(hx,{children:(0,l.jsxs)(hy,{className:"text-base flex items-center gap-2 text-red-600",children:[(0,l.jsx)(S,{className:"size-4"}),"Customer Dispute"]})}),(0,l.jsxs)(hA,{children:[(0,l.jsx)("p",{className:"text-sm text-gray-700",children:a.customerDispute.description}),(0,l.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Raised on: ",k9(new Date(a.customerDispute.raisedAt),"PPP")]}),a.customerDispute.resolved&&(0,l.jsx)(jk,{className:"bg-green-100 text-green-800 mt-2",children:"Resolved"})]})]}),"Completed"===a.status&&(0,l.jsxs)(hw,{className:"border-green-200",children:[(0,l.jsx)(hx,{children:(0,l.jsxs)(hy,{className:"text-base flex items-center gap-2 text-green-600",children:[(0,l.jsx)(hg,{className:"size-4"}),"System Updates"]})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded",children:[(0,l.jsx)("span",{children:"Inventory Updated"}),(0,l.jsx)(jk,{className:"bg-green-100 text-green-800",children:a.inventoryUpdated?"Yes":"No"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded",children:[(0,l.jsx)("span",{children:"SOA Updated"}),(0,l.jsx)(jk,{className:"bg-green-100 text-green-800",children:a.soaUpdated?"Yes":"No"})]}),a.customerNotificationSent&&(0,l.jsxs)("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded",children:[(0,l.jsx)("span",{children:"Customer Notification"}),(0,l.jsx)(jk,{className:"bg-green-100 text-green-800",children:"Sent"})]})]})})]})]})}function pi({children:a,className:b=""}){return(0,l.jsx)("label",{className:b,children:a})}let pj=[{id:"RET-2026-001",customer:"ABC Construction Sdn Bhd",customerContact:"+60 12-345-6789",orderId:"ORD-2026-156",returnType:"Full",transportationType:"Transportation Needed",items:[{id:"ITM-001",name:"Steel Pipe Scaffolding 6m",category:"Pipes",quantity:100,quantityReturned:0,status:"Pending"},{id:"ITM-002",name:"Coupler Standard",category:"Connectors",quantity:200,quantityReturned:0,status:"Pending"},{id:"ITM-003",name:"Base Plate",category:"Accessories",quantity:50,quantityReturned:0,status:"Pending"}],requestDate:"2026-12-02",status:"Requested"},{id:"RET-2026-002",customer:"Megah Engineering Sdn Bhd",customerContact:"+60 13-456-7890",orderId:"ORD-2026-145",returnType:"Partial",transportationType:"Self Return",items:[{id:"ITM-004",name:"Aluminum Tube 4m",category:"Tubes",quantity:100,quantityReturned:0,status:"Pending"},{id:"ITM-005",name:"Edge Protection",category:"Safety",quantity:60,quantityReturned:0,status:"Pending"}],requestDate:"2026-12-05",status:"Requested"},{id:"RET-2026-003",customer:"DEF Builders",customerContact:"+60 14-567-8901",orderId:"ORD-2026-134",returnType:"Full",transportationType:"Self Return",items:[{id:"ITM-006",name:"Ringlock System 2m",category:"Systems",quantity:150,quantityReturned:0,status:"Pending"},{id:"ITM-007",name:"Ledger 1.5m",category:"Systems",quantity:120,quantityReturned:0,status:"Pending"},{id:"ITM-008",name:"Diagonal Brace",category:"Support",quantity:100,quantityReturned:0,status:"Pending"}],requestDate:"2026-12-08",status:"Requested"},{id:"RET-2026-004",customer:"Sunrise Development Sdn Bhd",customerContact:"+60 15-678-9012",orderId:"ORD-2026-178",returnType:"Partial",transportationType:"Transportation Needed",items:[{id:"ITM-009",name:"Heavy Duty Tube 6m",category:"Tubes",quantity:120,quantityReturned:0,status:"Pending"},{id:"ITM-010",name:"Beam Clamp",category:"Connectors",quantity:90,quantityReturned:0,status:"Pending"}],requestDate:"2026-12-10",status:"Requested"}];function pk(){let[a,b]=(0,m.useState)(pj),[c,d]=(0,m.useState)("list"),[e,f]=(0,m.useState)(null),g=()=>{d("list"),f(null)},h=a.filter(a=>"Requested"===a.status).length,i=a.filter(a=>"Requested"!==a.status&&"Completed"!==a.status).length,j=a.filter(a=>"Completed"===a.status).length,k=a.filter(a=>"Dispute Raised"===a.status).length;return"workflow"===c?(0,l.jsx)(pg,{returnOrder:e,onSave:c=>{a.find(a=>a.id===c.id)?(b(a.map(a=>a.id===c.id?c:a)),gG.success("Return updated successfully")):(b([c,...a]),gG.success("Return created successfully")),d("list"),f(null)},onBack:g}):"details"===c&&e?(0,l.jsx)(ph,{returnOrder:e,onProcess:()=>d("workflow"),onBack:g}):(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("h1",{children:"Return Management"}),(0,l.jsx)("p",{className:"text-[#374151]",children:"Comprehensive return processing with GRN & RCF generation"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"Requested Returns"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(F,{className:"h-5 w-5 text-[#3B82F6]"}),(0,l.jsx)("p",{className:"text-[#111827]",children:h})]})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"In Progress"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(H,{className:"h-5 w-5 text-[#F59E0B]"}),(0,l.jsx)("p",{className:"text-[#111827]",children:i})]})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"Completed"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(hg,{className:"h-5 w-5 text-[#059669]"}),(0,l.jsx)("p",{className:"text-[#111827]",children:j})]})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"Disputes"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(pc,{className:"h-5 w-5 text-[#DC2626]"}),(0,l.jsx)("p",{className:"text-[#111827]",children:k})]})})]})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{children:"All Returns"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)(ju,{children:[(0,l.jsx)(jv,{children:(0,l.jsxs)(jx,{children:[(0,l.jsx)(jy,{children:"Return ID"}),(0,l.jsx)(jy,{children:"Customer"}),(0,l.jsx)(jy,{children:"Type"}),(0,l.jsx)(jy,{children:"Transportation"}),(0,l.jsx)(jy,{children:"Request Date"}),(0,l.jsx)(jy,{children:"Status"}),(0,l.jsx)(jy,{className:"text-right",children:"Actions"})]})}),(0,l.jsx)(jw,{children:a.map(a=>{var b;let c,e;return(0,l.jsxs)(jx,{children:[(0,l.jsx)(jz,{className:"text-[#231F20]",children:a.id}),(0,l.jsx)(jz,{children:(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#231F20]",children:a.customer}),a.customerContact&&(0,l.jsx)("p",{className:"text-sm text-[#6B7280]",children:a.customerContact})]})}),(0,l.jsx)(jz,{children:(0,l.jsx)(jk,{className:"Full"===a.returnType?"bg-blue-100 text-blue-800":"bg-amber-100 text-amber-800",children:a.returnType})}),(0,l.jsx)(jz,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:["Transportation Needed"===a.transportationType?(0,l.jsx)(H,{className:"size-4 text-[#F59E0B]"}):(0,l.jsx)(N,{className:"size-4 text-[#10B981]"}),(0,l.jsx)("span",{className:"text-sm text-[#6B7280]",children:"Transportation Needed"===a.transportationType?"Transport":"Self Return"})]})}),(0,l.jsx)(jz,{className:"text-[#6B7280]",children:k9(new Date(a.requestDate),"PP")}),(0,l.jsx)(jz,{children:(b=a.status,e=(c={Requested:{color:"bg-[#3B82F6] hover:bg-[#2563EB]",text:"Requested"},Approved:{color:"bg-[#10B981] hover:bg-[#059669]",text:"Approved"},"Pickup Scheduled":{color:"bg-[#8B5CF6] hover:bg-[#7C3AED]",text:"Pickup Scheduled"},"Pickup Confirmed":{color:"bg-[#8B5CF6] hover:bg-[#7C3AED]",text:"Pickup Confirmed"},"Driver Recording":{color:"bg-[#F59E0B] hover:bg-[#D97706]",text:"Driver Recording"},"In Transit":{color:"bg-[#F59E0B] hover:bg-[#D97706]",text:"In Transit"},"Received at Warehouse":{color:"bg-[#06B6D4] hover:bg-[#0891B2]",text:"Received at Warehouse"},"Under Inspection":{color:"bg-[#F59E0B] hover:bg-[#D97706]",text:"Under Inspection"},"Sorting Complete":{color:"bg-[#10B981] hover:bg-[#059669]",text:"Sorting Complete"},"Customer Notified":{color:"bg-[#10B981] hover:bg-[#059669]",text:"Customer Notified"},"Dispute Raised":{color:"bg-[#DC2626] hover:bg-[#B91C1C]",text:"Dispute Raised"},Completed:{color:"bg-[#059669] hover:bg-[#047857]",text:"Completed"}})[b]||c.Requested,(0,l.jsx)(jk,{className:e.color,children:e.text}))}),(0,l.jsx)(jz,{className:"text-right",children:(0,l.jsxs)(fp,{children:[(0,l.jsx)(fq,{asChild:!0,children:(0,l.jsx)(a2,{variant:"outline",size:"sm",children:(0,l.jsx)(jN,{className:"size-4"})})}),(0,l.jsxs)(fr,{align:"end",children:[(0,l.jsxs)(fs,{onClick:()=>{f(a),d("details")},children:[(0,l.jsx)(gN,{className:"size-4 mr-2"}),"View Details"]}),"Completed"!==a.status&&(0,l.jsxs)(fs,{onClick:()=>{f(a),d("workflow")},children:[(0,l.jsx)(ji,{className:"size-4 mr-2"}),"Process"]}),("Customer Notified"===a.status||"Completed"===a.status)&&a.grnNumber&&(0,l.jsxs)(fs,{onClick:()=>{a.grnNumber?gG.success(`Viewing GRN: ${a.grnNumber}`):gG.error("GRN not yet generated for this return")},children:[(0,l.jsx)(v,{className:"size-4 mr-2"}),"View GRN"]})]})]})})]},a.id)})})]})})]})]})}let pl=s("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);var pm=Symbol.for("immer-nothing"),pn=Symbol.for("immer-draftable"),po=Symbol.for("immer-state");function pp(a){throw Error(`[Immer] minified error nr: ${a}. Full error at: https://bit.ly/3cXEKWf`)}var pq=Object.getPrototypeOf;function pr(a){return!!a&&!!a[po]}function ps(a){return!!a&&(pu(a)||Array.isArray(a)||!!a[pn]||!!a.constructor?.[pn]||pz(a)||pA(a))}var pt=Object.prototype.constructor.toString();function pu(a){if(!a||"object"!=typeof a)return!1;let b=pq(a);if(null===b)return!0;let c=Object.hasOwnProperty.call(b,"constructor")&&b.constructor;return c===Object||"function"==typeof c&&Function.toString.call(c)===pt}function pv(a,b){0===pw(a)?Reflect.ownKeys(a).forEach(c=>{b(c,a[c],a)}):a.forEach((c,d)=>b(d,c,a))}function pw(a){let b=a[po];return b?b.type_:Array.isArray(a)?1:pz(a)?2:3*!!pA(a)}function px(a,b){return 2===pw(a)?a.has(b):Object.prototype.hasOwnProperty.call(a,b)}function py(a,b,c){let d=pw(a);2===d?a.set(b,c):3===d?a.add(c):a[b]=c}function pz(a){return a instanceof Map}function pA(a){return a instanceof Set}function pB(a){return a.copy_||a.base_}function pC(a,b){if(pz(a))return new Map(a);if(pA(a))return new Set(a);if(Array.isArray(a))return Array.prototype.slice.call(a);let c=pu(a);if(!0!==b&&("class_only"!==b||c)){let b=pq(a);return null!==b&&c?{...a}:Object.assign(Object.create(b),a)}{let b=Object.getOwnPropertyDescriptors(a);delete b[po];let c=Reflect.ownKeys(b);for(let d=0;d<c.length;d++){let e=c[d],f=b[e];!1===f.writable&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(b[e]={configurable:!0,writable:!0,enumerable:f.enumerable,value:a[e]})}return Object.create(pq(a),b)}}function pD(a,b=!1){return pF(a)||pr(a)||!ps(a)||(pw(a)>1&&(a.set=a.add=a.clear=a.delete=pE),Object.freeze(a),b&&Object.entries(a).forEach(([a,b])=>pD(b,!0))),a}function pE(){pp(2)}function pF(a){return Object.isFrozen(a)}var pG={};function pH(a){let b=pG[a];return b||pp(0,a),b}function pI(a,b){b&&(pH("Patches"),a.patches_=[],a.inversePatches_=[],a.patchListener_=b)}function pJ(a){pK(a),a.drafts_.forEach(pM),a.drafts_=null}function pK(a){a===w8&&(w8=a.parent_)}function pL(a){return w8={drafts_:[],parent_:w8,immer_:a,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function pM(a){let b=a[po];0===b.type_||1===b.type_?b.revoke_():b.revoked_=!0}function pN(a,b){b.unfinalizedDrafts_=b.drafts_.length;let c=b.drafts_[0];return void 0!==a&&a!==c?(c[po].modified_&&(pJ(b),pp(4)),ps(a)&&(a=pO(b,a),b.parent_||pQ(b,a)),b.patches_&&pH("Patches").generateReplacementPatches_(c[po].base_,a,b.patches_,b.inversePatches_)):a=pO(b,c,[]),pJ(b),b.patches_&&b.patchListener_(b.patches_,b.inversePatches_),a!==pm?a:void 0}function pO(a,b,c){if(pF(b))return b;let d=b[po];if(!d)return pv(b,(e,f)=>pP(a,d,b,e,f,c)),b;if(d.scope_!==a)return b;if(!d.modified_)return pQ(a,d.base_,!0),d.base_;if(!d.finalized_){d.finalized_=!0,d.scope_.unfinalizedDrafts_--;let b=d.copy_,e=b,f=!1;3===d.type_&&(e=new Set(b),b.clear(),f=!0),pv(e,(e,g)=>pP(a,d,b,e,g,c,f)),pQ(a,b,!1),c&&a.patches_&&pH("Patches").generatePatches_(d,c,a.patches_,a.inversePatches_)}return d.copy_}function pP(a,b,c,d,e,f,g){if(pr(e)){let g=pO(a,e,f&&b&&3!==b.type_&&!px(b.assigned_,d)?f.concat(d):void 0);if(py(c,d,g),!pr(g))return;a.canAutoFreeze_=!1}else g&&c.add(e);if(ps(e)&&!pF(e)){if(!a.immer_.autoFreeze_&&a.unfinalizedDrafts_<1)return;pO(a,e),(!b||!b.scope_.parent_)&&"symbol"!=typeof d&&Object.prototype.propertyIsEnumerable.call(c,d)&&pQ(a,e)}}function pQ(a,b,c=!1){!a.parent_&&a.immer_.autoFreeze_&&a.canAutoFreeze_&&pD(b,c)}var pR={get(a,b){if(b===po)return a;let c=pB(a);if(!px(c,b)){var d;let e;return d=a,(e=pU(c,b))?"value"in e?e.value:e.get?.call(d.draft_):void 0}let e=c[b];return a.finalized_||!ps(e)?e:e===pT(a.base_,b)?(pW(a),a.copy_[b]=pX(e,a)):e},has:(a,b)=>b in pB(a),ownKeys:a=>Reflect.ownKeys(pB(a)),set(a,b,c){let d=pU(pB(a),b);if(d?.set)return d.set.call(a.draft_,c),!0;if(!a.modified_){let d=pT(pB(a),b),e=d?.[po];if(e&&e.base_===c)return a.copy_[b]=c,a.assigned_[b]=!1,!0;if((c===d?0!==c||1/c==1/d:c!=c&&d!=d)&&(void 0!==c||px(a.base_,b)))return!0;pW(a),pV(a)}return!!(a.copy_[b]===c&&(void 0!==c||b in a.copy_)||Number.isNaN(c)&&Number.isNaN(a.copy_[b]))||(a.copy_[b]=c,a.assigned_[b]=!0,!0)},deleteProperty:(a,b)=>(void 0!==pT(a.base_,b)||b in a.base_?(a.assigned_[b]=!1,pW(a),pV(a)):delete a.assigned_[b],a.copy_&&delete a.copy_[b],!0),getOwnPropertyDescriptor(a,b){let c=pB(a),d=Reflect.getOwnPropertyDescriptor(c,b);return d?{writable:!0,configurable:1!==a.type_||"length"!==b,enumerable:d.enumerable,value:c[b]}:d},defineProperty(){pp(11)},getPrototypeOf:a=>pq(a.base_),setPrototypeOf(){pp(12)}},pS={};function pT(a,b){let c=a[po];return(c?pB(c):a)[b]}function pU(a,b){if(!(b in a))return;let c=pq(a);for(;c;){let a=Object.getOwnPropertyDescriptor(c,b);if(a)return a;c=pq(c)}}function pV(a){!a.modified_&&(a.modified_=!0,a.parent_&&pV(a.parent_))}function pW(a){a.copy_||(a.copy_=pC(a.base_,a.scope_.immer_.useStrictShallowCopy_))}function pX(a,b){let c=pz(a)?pH("MapSet").proxyMap_(a,b):pA(a)?pH("MapSet").proxySet_(a,b):function(a,b){let c=Array.isArray(a),d={type_:+!!c,scope_:b?b.scope_:w8,modified_:!1,finalized_:!1,assigned_:{},parent_:b,base_:a,draft_:null,copy_:null,revoke_:null,isManual_:!1},e=d,f=pR;c&&(e=[d],f=pS);let{revoke:g,proxy:h}=Proxy.revocable(e,f);return d.draft_=h,d.revoke_=g,h}(a,b);return(b?b.scope_:w8).drafts_.push(c),c}function pY(a){return pr(a)||pp(10,a),function a(b){let c;if(!ps(b)||pF(b))return b;let d=b[po];if(d){if(!d.modified_)return d.base_;d.finalized_=!0,c=pC(b,d.scope_.immer_.useStrictShallowCopy_)}else c=pC(b,!0);return pv(c,(b,d)=>{py(c,b,a(d))}),d&&(d.finalized_=!1),c}(a)}pv(pR,(a,b)=>{pS[a]=function(){return arguments[0]=arguments[0][0],b.apply(this,arguments)}}),pS.deleteProperty=function(a,b){return pS.set.call(this,a,b,void 0)},pS.set=function(a,b,c){return pR.set.call(this,a[0],b,c,a[0])};var pZ=new class{constructor(a){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(a,b,c)=>{let d;if("function"==typeof a&&"function"!=typeof b){let c=b;b=a;let d=this;return function(a=c,...e){return d.produce(a,a=>b.call(this,a,...e))}}if("function"!=typeof b&&pp(6),void 0!==c&&"function"!=typeof c&&pp(7),ps(a)){let e=pL(this),f=pX(a,void 0),g=!0;try{d=b(f),g=!1}finally{g?pJ(e):pK(e)}return pI(e,c),pN(d,e)}if(a&&"object"==typeof a)pp(1,a);else{if(void 0===(d=b(a))&&(d=a),d===pm&&(d=void 0),this.autoFreeze_&&pD(d,!0),c){let b=[],e=[];pH("Patches").generateReplacementPatches_(a,d,b,e),c(b,e)}return d}},this.produceWithPatches=(a,b)=>{let c,d;return"function"==typeof a?(b,...c)=>this.produceWithPatches(b,b=>a(b,...c)):[this.produce(a,b,(a,b)=>{c=a,d=b}),c,d]},"boolean"==typeof a?.autoFreeze&&this.setAutoFreeze(a.autoFreeze),"boolean"==typeof a?.useStrictShallowCopy&&this.setUseStrictShallowCopy(a.useStrictShallowCopy)}createDraft(a){ps(a)||pp(8),pr(a)&&(a=pY(a));let b=pL(this),c=pX(a,void 0);return c[po].isManual_=!0,pK(b),c}finishDraft(a,b){let c=a&&a[po];c&&c.isManual_||pp(9);let{scope_:d}=c;return pI(d,b),pN(void 0,d)}setAutoFreeze(a){this.autoFreeze_=a}setUseStrictShallowCopy(a){this.useStrictShallowCopy_=a}applyPatches(a,b){let c;for(c=b.length-1;c>=0;c--){let d=b[c];if(0===d.path.length&&"replace"===d.op){a=d.value;break}}c>-1&&(b=b.slice(c+1));let d=pH("Patches").applyPatches_;return pr(a)?d(a,b):this.produce(a,a=>d(a,b))}},p$=pZ.produce;pZ.produceWithPatches.bind(pZ),pZ.setAutoFreeze.bind(pZ),pZ.setUseStrictShallowCopy.bind(pZ),pZ.applyPatches.bind(pZ),pZ.createDraft.bind(pZ),pZ.finishDraft.bind(pZ);var p_=a=>Array.isArray(a)?a:[a],p0=0,p1=class{revision=p0;_value;_lastValue;_isEqual=p2;constructor(a,b=p2){this._value=this._lastValue=a,this._isEqual=b}get value(){return this._value}set value(a){this.value!==a&&(this._value=a,this.revision=++p0)}};function p2(a,b){return a===b}function p3(a){return a instanceof p1||console.warn("Not a valid cell! ",a),a.value}var p4=(a,b)=>!1;function p5(){return function(a,b=p2){return new p1(null,b)}(0,p4)}var p6=a=>{let b=a.collectionTag;null===b&&(b=a.collectionTag=p5()),p3(b)};Symbol();var p7=0,p8=Object.getPrototypeOf({}),p9=class{constructor(a){this.value=a,this.value=a,this.tag.value=a}proxy=new Proxy(this,qa);tag=p5();tags={};children={};collectionTag=null;id=p7++},qa={get:(a,b)=>(function(){let{value:c}=a,d=Reflect.get(c,b);if("symbol"==typeof b||b in p8)return d;if("object"==typeof d&&null!==d){var e;let c=a.children[b];return void 0===c&&(c=a.children[b]=Array.isArray(e=d)?new qb(e):new p9(e)),c.tag&&p3(c.tag),c.proxy}{let c=a.tags[b];return void 0===c&&((c=a.tags[b]=p5()).value=d),p3(c),d}})(),ownKeys:a=>(p6(a),Reflect.ownKeys(a.value)),getOwnPropertyDescriptor:(a,b)=>Reflect.getOwnPropertyDescriptor(a.value,b),has:(a,b)=>Reflect.has(a.value,b)},qb=class{constructor(a){this.value=a,this.value=a,this.tag.value=a}proxy=new Proxy([this],qc);tag=p5();tags={};children={};collectionTag=null;id=p7++},qc={get:([a],b)=>("length"===b&&p6(a),qa.get(a,b)),ownKeys:([a])=>qa.ownKeys(a),getOwnPropertyDescriptor:([a],b)=>qa.getOwnPropertyDescriptor(a,b),has:([a],b)=>qa.has(a,b)},qd="u">typeof WeakRef?WeakRef:class{constructor(a){this.value=a}deref(){return this.value}};function qe(){return{s:0,v:void 0,o:null,p:null}}function qf(a,b={}){let c,d=qe(),{resultEqualityCheck:e}=b,f=0;function g(){let b,g=d,{length:h}=arguments;for(let a=0;a<h;a++){let b=arguments[a];if("function"==typeof b||"object"==typeof b&&null!==b){let a=g.o;null===a&&(g.o=a=new WeakMap);let c=a.get(b);void 0===c?(g=qe(),a.set(b,g)):g=c}else{let a=g.p;null===a&&(g.p=a=new Map);let c=a.get(b);void 0===c?(g=qe(),a.set(b,g)):g=c}}let i=g;if(1===g.s)b=g.v;else if(b=a.apply(null,arguments),f++,e){let a=c?.deref?.()??c;null!=a&&e(a,b)&&(b=a,0!==f&&f--),c="object"==typeof b&&null!==b||"function"==typeof b?new qd(b):b}return i.s=1,i.v=b,b}return g.clearCache=()=>{d=qe(),g.resetResultsCount()},g.resultsCount=()=>f,g.resetResultsCount=()=>{f=0},g}var qg=function(a,...b){let c="function"==typeof a?{memoize:a,memoizeOptions:b}:a,d=(...a)=>{let b,d,e=0,f=0,g={},h=a.pop();"object"==typeof h&&(g=h,h=a.pop()),function(a,b=`expected a function, instead received ${typeof a}`){if("function"!=typeof a)throw TypeError(b)}(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);let{memoize:i,memoizeOptions:j=[],argsMemoize:k=qf,argsMemoizeOptions:l=[],devModeChecks:m={}}={...c,...g},n=p_(j),o=p_(l),p=(!function(a,b="expected all items to be functions, instead received the following types: "){if(!a.every(a=>"function"==typeof a)){let c=a.map(a=>"function"==typeof a?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw TypeError(`${b}[${c}]`)}}(b=Array.isArray(a[0])?a[0]:a,"createSelector expects all input-selectors to be functions, but received the following types: "),b),q=i(function(){return e++,h.apply(null,arguments)},...n);return Object.assign(k(function(){f++;let a=function(a,b){let c=[],{length:d}=a;for(let e=0;e<d;e++)c.push(a[e].apply(null,b));return c}(p,arguments);return d=q.apply(null,a)},...o),{resultFunc:h,memoizedResultFunc:q,dependencies:p,dependencyRecomputations:()=>f,resetDependencyRecomputations:()=>{f=0},lastResult:()=>d,recomputations:()=>e,resetRecomputations:()=>{e=0},memoize:i,argsMemoize:k})};return Object.assign(d,{withTypes:()=>d}),d}(qf),qh=Object.assign((a,b=qg)=>{!function(a,b=`expected an object, instead received ${typeof a}`){if("object"!=typeof a)throw TypeError(b)}(a,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof a}`);let c=Object.keys(a);return b(c.map(b=>a[b]),(...a)=>a.reduce((a,b,d)=>(a[c[d]]=b,a),{}))},{withTypes:()=>qh});function qi(a){return`Minified Redux error #${a}; visit https://redux.js.org/Errors?code=${a} for the full message or use the non-minified dev environment for full errors. `}var qj="function"==typeof Symbol&&Symbol.observable||"@@observable",qk=()=>Math.random().toString(36).substring(7).split("").join("."),ql={INIT:`@@redux/INIT${qk()}`,REPLACE:`@@redux/REPLACE${qk()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${qk()}`};function qm(a){if("object"!=typeof a||null===a)return!1;let b=a;for(;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b||null===Object.getPrototypeOf(a)}function qn(a){let b,c=Object.keys(a),d={};for(let b=0;b<c.length;b++){let e=c[b];"function"==typeof a[e]&&(d[e]=a[e])}let e=Object.keys(d);try{Object.keys(d).forEach(a=>{let b=d[a];if(void 0===b(void 0,{type:ql.INIT}))throw Error(qi(12));if(void 0===b(void 0,{type:ql.PROBE_UNKNOWN_ACTION()}))throw Error(qi(13))})}catch(a){b=a}return function(a={},c){if(b)throw b;let f=!1,g={};for(let b=0;b<e.length;b++){let h=e[b],i=d[h],j=a[h],k=i(j,c);if(void 0===k)throw c&&c.type,Error(qi(14));g[h]=k,f=f||k!==j}return(f=f||e.length!==Object.keys(a).length)?g:a}}function qo(...a){return 0===a.length?a=>a:1===a.length?a[0]:a.reduce((a,b)=>(...c)=>a(b(...c)))}function qp(a){return qm(a)&&"type"in a&&"string"==typeof a.type}function qq(a){return({dispatch:b,getState:c})=>d=>e=>"function"==typeof e?e(b,c,a):d(e)}var qr=qq(),qs=function(){if(0!=arguments.length)return"object"==typeof arguments[0]?qo:qo.apply(null,arguments)};function qt(a,b){function c(...d){if(b){let c=b(...d);if(!c)throw Error(q6(0));return{type:a,payload:c.payload,..."meta"in c&&{meta:c.meta},..."error"in c&&{error:c.error}}}return{type:a,payload:d[0]}}return c.toString=()=>`${a}`,c.type=a,c.match=b=>qp(b)&&b.type===a,c}var qu=class a extends Array{constructor(...b){super(...b),Object.setPrototypeOf(this,a.prototype)}static get[Symbol.species](){return a}concat(...a){return super.concat.apply(this,a)}prepend(...b){return 1===b.length&&Array.isArray(b[0])?new a(...b[0].concat(this)):new a(...b.concat(this))}};function qv(a){return ps(a)?p$(a,()=>{}):a}function qw(a,b,c){return a.has(b)?a.get(b):a.set(b,c(b)).get(b)}var qx=a=>b=>{setTimeout(b,a)};function qy(a){let b,c={},d=[],e={addCase(a,b){let d="string"==typeof a?a:a.type;if(!d)throw Error(q6(28));if(d in c)throw Error(q6(29));return c[d]=b,e},addMatcher:(a,b)=>(d.push({matcher:a,reducer:b}),e),addDefaultCase:a=>(b=a,e)};return a(e),[c,d,b]}var qz=Symbol.for("rtk-slice-createasyncthunk"),qA=((w0=qA||{}).reducer="reducer",w0.reducerWithPrepare="reducerWithPrepare",w0.asyncThunk="asyncThunk",w0),qB=function({creators:a}={}){let b=a?.asyncThunk?.[qz];return function(a){let c,{name:d,reducerPath:e=d}=a;if(!d)throw Error(q6(11));let f=("function"==typeof a.reducers?a.reducers(function(){function a(a,b){return{_reducerDefinitionType:"asyncThunk",payloadCreator:a,...b}}return a.withTypes=()=>a,{reducer:a=>Object.assign({[a.name]:(...b)=>a(...b)}[a.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(a,b)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:a,reducer:b}),asyncThunk:a}}()):a.reducers)||{},g=Object.keys(f),h={},i={},j={},k=[],l={addCase(a,b){let c="string"==typeof a?a:a.type;if(!c)throw Error(q6(12));if(c in i)throw Error(q6(13));return i[c]=b,l},addMatcher:(a,b)=>(k.push({matcher:a,reducer:b}),l),exposeAction:(a,b)=>(j[a]=b,l),exposeCaseReducer:(a,b)=>(h[a]=b,l)};function m(){let[b={},c=[],d]="function"==typeof a.extraReducers?qy(a.extraReducers):[a.extraReducers],e={...b,...i};return function(a,b){let c,[d,e,f]=qy(b);if("function"==typeof a)c=()=>qv(a());else{let b=qv(a);c=()=>b}function g(a=c(),b){let h=[d[b.type],...e.filter(({matcher:a})=>a(b)).map(({reducer:a})=>a)];return 0===h.filter(a=>!!a).length&&(h=[f]),h.reduce((a,c)=>{if(c)if(pr(a)){let d=c(a,b);return void 0===d?a:d}else{if(ps(a))return p$(a,a=>c(a,b));let d=c(a,b);if(void 0===d){if(null===a)return a;throw Error("A case reducer on a non-draftable value must not return undefined")}return d}return a},a)}return g.getInitialState=c,g}(a.initialState,a=>{for(let b in e)a.addCase(b,e[b]);for(let b of k)a.addMatcher(b.matcher,b.reducer);for(let b of c)a.addMatcher(b.matcher,b.reducer);d&&a.addDefaultCase(d)})}g.forEach(c=>{let e=f[c],g={reducerName:c,type:`${d}/${c}`,createNotation:"function"==typeof a.reducers};"asyncThunk"===e._reducerDefinitionType?function({type:a,reducerName:b},c,d,e){if(!e)throw Error(q6(18));let{payloadCreator:f,fulfilled:g,pending:h,rejected:i,settled:j,options:k}=c,l=e(a,f,k);d.exposeAction(b,l),g&&d.addCase(l.fulfilled,g),h&&d.addCase(l.pending,h),i&&d.addCase(l.rejected,i),j&&d.addMatcher(l.settled,j),d.exposeCaseReducer(b,{fulfilled:g||qC,pending:h||qC,rejected:i||qC,settled:j||qC})}(g,e,l,b):function({type:a,reducerName:b,createNotation:c},d,e){let f,g;if("reducer"in d){if(c&&"reducerWithPrepare"!==d._reducerDefinitionType)throw Error(q6(17));f=d.reducer,g=d.prepare}else f=d;e.addCase(a,f).exposeCaseReducer(b,f).exposeAction(b,g?qt(a,g):qt(a))}(g,e,l)});let n=a=>a,o=new Map,p=new WeakMap;function q(a,b){return c||(c=m()),c(a,b)}function r(){return c||(c=m()),c.getInitialState()}function s(b,c=!1){function d(a){let e=a[b];return void 0===e&&c&&(e=qw(p,d,r)),e}function e(b=n){let d=qw(o,c,()=>new WeakMap);return qw(d,b,()=>{let d={};for(let[e,f]of Object.entries(a.selectors??{}))d[e]=function(a,b,c,d){function e(f,...g){let h=b(f);return void 0===h&&d&&(h=c()),a(h,...g)}return e.unwrapped=a,e}(f,b,()=>qw(p,b,r),c);return d})}return{reducerPath:b,getSelectors:e,get selectors(){return e(d)},selectSlice:d}}let t={name:d,reducer:q,actions:j,caseReducers:h,getInitialState:r,...s(e),injectInto(a,{reducerPath:b,...c}={}){let d=b??e;return a.inject({reducerPath:d,reducer:q},c),{...t,...s(d,!0)}}};return t}}();function qC(){}var qD="listener",qE="completed",qF="cancelled",qG=`task-${qF}`,qH=`task-${qE}`,qI=`${qD}-${qF}`,qJ=`${qD}-${qE}`,qK=class{constructor(a){this.code=a,this.message=`task ${qF} (reason: ${a})`}name="TaskAbortError";message},qL=(a,b)=>{if("function"!=typeof a)throw TypeError(q6(32))},qM=()=>{},qN=(a,b=qM)=>(a.catch(b),a),qO=(a,b)=>(a.addEventListener("abort",b,{once:!0}),()=>a.removeEventListener("abort",b)),qP=(a,b)=>{let c=a.signal;c.aborted||("reason"in c||Object.defineProperty(c,"reason",{enumerable:!0,value:b,configurable:!0,writable:!0}),a.abort(b))},qQ=a=>{if(a.aborted){let{reason:b}=a;throw new qK(b)}};function qR(a,b){let c=qM;return new Promise((d,e)=>{let f=()=>e(new qK(a.reason));a.aborted?f():(c=qO(a,f),b.finally(()=>c()).then(d,e))}).finally(()=>{c=qM})}var qS=async(a,b)=>{try{await Promise.resolve();let b=await a();return{status:"ok",value:b}}catch(a){return{status:a instanceof qK?"cancelled":"rejected",error:a}}finally{b?.()}},qT=a=>b=>qN(qR(a,b).then(b=>(qQ(a),b))),qU=a=>{let b=qT(a);return a=>b(new Promise(b=>setTimeout(b,a)))},{assign:qV}=Object,qW={},qX="listenerMiddleware",qY=a=>{let{type:b,actionCreator:c,matcher:d,predicate:e,effect:f}=a;if(b)e=qt(b).match;else if(c)b=c.type,e=c.match;else if(d)e=d;else if(e);else throw Error(q6(21));return qL(f,"options.listener"),{predicate:e,type:b,effect:f}},qZ=qV(a=>{let{type:b,predicate:c,effect:d}=qY(a);return{id:((a=21)=>{let b="",c=a;for(;c--;)b+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return b})(),effect:d,type:b,predicate:c,pending:new Set,unsubscribe:()=>{throw Error(q6(22))}}},{withTypes:()=>qZ}),q$=(a,b)=>{let{type:c,effect:d,predicate:e}=qY(b);return Array.from(a.values()).find(a=>("string"==typeof c?a.type===c:a.predicate===e)&&a.effect===d)},q_=a=>{a.pending.forEach(a=>{qP(a,qI)})},q0=(a,b,c)=>{try{a(b,c)}catch(a){setTimeout(()=>{throw a},0)}},q1=qV(qt(`${qX}/add`),{withTypes:()=>q1}),q2=qt(`${qX}/removeAll`),q3=qV(qt(`${qX}/remove`),{withTypes:()=>q3}),q4=(...a)=>{console.error(`${qX}/error`,...a)},q5=(a={})=>{let b=new Map,{extra:c,onError:d=q4}=a;qL(d,"onError");let e=a=>{var c;return(c=q$(b,a)??qZ(a)).unsubscribe=()=>b.delete(c.id),b.set(c.id,c),a=>{c.unsubscribe(),a?.cancelActive&&q_(c)}};qV(e,{withTypes:()=>e});let f=a=>{let c=q$(b,a);return c&&(c.unsubscribe(),a.cancelActive&&q_(c)),!!c};qV(f,{withTypes:()=>f});let g=async(a,f,g,h)=>{var i,j;let k,l=new AbortController,m=(i=l.signal,k=async(a,b)=>{qQ(i);let c=()=>{},d=[new Promise((b,d)=>{let f=e({predicate:a,effect:(a,c)=>{c.unsubscribe(),b([a,c.getState(),c.getOriginalState()])}});c=()=>{f(),d()}})];null!=b&&d.push(new Promise(a=>setTimeout(a,b,null)));try{let a=await qR(i,Promise.race(d));return qQ(i),a}finally{c()}},(a,b)=>qN(k(a,b))),n=[];try{a.pending.add(l),await Promise.resolve(a.effect(f,qV({},g,{getOriginalState:h,condition:(a,b)=>m(a,b).then(Boolean),take:m,delay:qU(l.signal),pause:qT(l.signal),extra:c,signal:l.signal,fork:(j=l.signal,(a,b)=>{qL(a,"taskExecutor");let c=new AbortController;qO(j,()=>qP(c,j.reason));let d=qS(async()=>{qQ(j),qQ(c.signal);let b=await a({pause:qT(c.signal),delay:qU(c.signal),signal:c.signal});return qQ(c.signal),b},()=>qP(c,qH));return b?.autoJoin&&n.push(d.catch(qM)),{result:qT(j)(d),cancel(){qP(c,qG)}}}),unsubscribe:a.unsubscribe,subscribe:()=>{b.set(a.id,a)},cancelActiveListeners:()=>{a.pending.forEach((a,b,c)=>{a!==l&&(qP(a,qI),c.delete(a))})},cancel:()=>{qP(l,qI),a.pending.delete(l)},throwIfCancelled:()=>{qQ(l.signal)}})))}catch(a){a instanceof qK||q0(d,a,{raisedBy:"effect"})}finally{await Promise.all(n),qP(l,qJ),a.pending.delete(l)}},h=()=>{b.forEach(q_),b.clear()};return{middleware:a=>c=>i=>{let j;if(!qp(i))return c(i);if(q1.match(i))return e(i.payload);if(q2.match(i))return void h();if(q3.match(i))return f(i.payload);let k=a.getState(),l=()=>{if(k===qW)throw Error(q6(23));return k};try{if(j=c(i),b.size>0){let c=a.getState();for(let e of Array.from(b.values())){let b=!1;try{b=e.predicate(i,c,k)}catch(a){b=!1,q0(d,a,{raisedBy:"predicate"})}b&&g(e,i,a,l)}}}finally{k=qW}return j},startListening:e,stopListening:f,clearListeners:h}};function q6(a){return`Minified Redux Toolkit error #${a}; visit https://redux-toolkit.js.org/Errors?code=${a} for the full message or use the non-minified dev environment for full errors. `}Symbol.for("rtk-state-proxy-original");var q7=a.i(88804),q8=a=>0===a?0:a>0?1:-1,q9=a=>"number"==typeof a&&a!=+a,ra=a=>"string"==typeof a&&a.indexOf("%")===a.length-1,rb=a=>("number"==typeof a||a instanceof Number)&&!q9(a),rc=a=>rb(a)||"string"==typeof a,rd=0,re=a=>{var b=++rd;return"".concat(a||"").concat(b)},rf=function(a,b){var c,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!rb(a)&&"string"!=typeof a)return d;if(ra(a)){if(null==b)return d;var f=a.indexOf("%");c=b*parseFloat(a.slice(0,f))/100}else c=+a;return q9(c)&&(c=d),e&&null!=b&&c>b&&(c=b),c},rg=a=>{if(!Array.isArray(a))return!1;for(var b=a.length,c={},d=0;d<b;d++)if(c[a[d]])return!0;else c[a[d]]=!0;return!1},rh=(a,b)=>rb(a)&&rb(b)?c=>a+c*(b-a):()=>b;function ri(a,b,c){return rb(a)&&rb(b)?a+c*(b-a):b}var rj=a=>null==a?a:"".concat(a.charAt(0).toUpperCase()).concat(a.slice(1));function rk(a,b){if(b){var c=Number.parseInt(b,10);if(!q9(c))return null==a?void 0:a[c]}}var rl=qB({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:a=>{null==a.eventEmitter&&(a.eventEmitter=Symbol("rechartsEventEmitter"))}}}),rm=rl.reducer,{createEventEmitter:rn}=rl.actions,ro=(a.i(32473),{notify(){},get:()=>[]}),rp="u">typeof navigator&&"ReactNative"===navigator.product,rq=rp?m.useLayoutEffect:m.useEffect,rr=Symbol.for("react-redux-context"),rs="u">typeof globalThis?globalThis:{},rt=function(){if(!m.createContext)return{};let a=rs[rr]??=new Map,b=a.get(m.createContext);return b||(b=m.createContext(null),a.set(m.createContext,b)),b}(),ru=function(a){let{children:b,context:c,serverState:d,store:e}=a,f=m.useMemo(()=>{let a=function(a,b){let c,d=ro,e=0,f=!1;function g(){j.onStateChange&&j.onStateChange()}function h(){if(e++,!c){let b,e;c=a.subscribe(g),b=null,e=null,d={clear(){b=null,e=null},notify(){let a=b;for(;a;)a.callback(),a=a.next},get(){let a=[],c=b;for(;c;)a.push(c),c=c.next;return a},subscribe(a){let c=!0,d=e={callback:a,next:null,prev:e};return d.prev?d.prev.next=d:b=d,function(){c&&null!==b&&(c=!1,d.next?d.next.prev=d.prev:e=d.prev,d.prev?d.prev.next=d.next:b=d.next)}}}}}function i(){e--,c&&0===e&&(c(),c=void 0,d.clear(),d=ro)}let j={addNestedSub:function(a){h();let b=d.subscribe(a),c=!1;return()=>{c||(c=!0,b(),i())}},notifyNestedSubs:function(){d.notify()},handleChangeWrapper:g,isSubscribed:function(){return f},trySubscribe:function(){f||(f=!0,h())},tryUnsubscribe:function(){f&&(f=!1,i())},getListeners:()=>d};return j}(e);return{store:e,subscription:a,getServerState:d?()=>d:void 0}},[e,d]),g=m.useMemo(()=>e.getState(),[e]);return rq(()=>{let{subscription:a}=f;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),g!==e.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[f,g]),m.createElement((c||rt).Provider,{value:f},b)};function rv(a=rt){return function(){return m.useContext(a)}}var rw=rv(),rx={active:!1,index:null,dataKey:void 0,coordinate:void 0},ry=qB({name:"tooltip",initialState:{itemInteraction:{click:rx,hover:rx},axisInteraction:{click:rx,hover:rx},keyboardInteraction:rx,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings(a,b){a.tooltipItemPayloads.push(b.payload)},removeTooltipEntrySettings(a,b){var c=pY(a).tooltipItemPayloads.indexOf(b.payload);c>-1&&a.tooltipItemPayloads.splice(c,1)},setTooltipSettingsState(a,b){a.settings=b.payload},setActiveMouseOverItemIndex(a,b){a.syncInteraction.active=!1,a.keyboardInteraction.active=!1,a.itemInteraction.hover.active=!0,a.itemInteraction.hover.index=b.payload.activeIndex,a.itemInteraction.hover.dataKey=b.payload.activeDataKey,a.itemInteraction.hover.coordinate=b.payload.activeCoordinate},mouseLeaveChart(a){a.itemInteraction.hover.active=!1,a.axisInteraction.hover.active=!1},mouseLeaveItem(a){a.itemInteraction.hover.active=!1},setActiveClickItemIndex(a,b){a.syncInteraction.active=!1,a.itemInteraction.click.active=!0,a.keyboardInteraction.active=!1,a.itemInteraction.click.index=b.payload.activeIndex,a.itemInteraction.click.dataKey=b.payload.activeDataKey,a.itemInteraction.click.coordinate=b.payload.activeCoordinate},setMouseOverAxisIndex(a,b){a.syncInteraction.active=!1,a.axisInteraction.hover.active=!0,a.keyboardInteraction.active=!1,a.axisInteraction.hover.index=b.payload.activeIndex,a.axisInteraction.hover.dataKey=b.payload.activeDataKey,a.axisInteraction.hover.coordinate=b.payload.activeCoordinate},setMouseClickAxisIndex(a,b){a.syncInteraction.active=!1,a.keyboardInteraction.active=!1,a.axisInteraction.click.active=!0,a.axisInteraction.click.index=b.payload.activeIndex,a.axisInteraction.click.dataKey=b.payload.activeDataKey,a.axisInteraction.click.coordinate=b.payload.activeCoordinate},setSyncInteraction(a,b){a.syncInteraction=b.payload},setKeyboardInteraction(a,b){a.keyboardInteraction.active=b.payload.active,a.keyboardInteraction.index=b.payload.activeIndex,a.keyboardInteraction.coordinate=b.payload.activeCoordinate,a.keyboardInteraction.dataKey=b.payload.activeDataKey}}}),{addTooltipEntrySettings:rz,removeTooltipEntrySettings:rA,setTooltipSettingsState:rB,setActiveMouseOverItemIndex:rC,mouseLeaveItem:rD,mouseLeaveChart:rE,setActiveClickItemIndex:rF,setMouseOverAxisIndex:rG,setMouseClickAxisIndex:rH,setSyncInteraction:rI,setKeyboardInteraction:rJ}=ry.actions,rK=ry.reducer,rL=qB({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(a,b){if(a.chartData=b.payload,null==b.payload){a.dataStartIndex=0,a.dataEndIndex=0;return}b.payload.length>0&&a.dataEndIndex!==b.payload.length-1&&(a.dataEndIndex=b.payload.length-1)},setComputedData(a,b){a.computedData=b.payload},setDataStartEndIndexes(a,b){var{startIndex:c,endIndex:d}=b.payload;null!=c&&(a.dataStartIndex=c),null!=d&&(a.dataEndIndex=d)}}}),{setChartData:rM,setDataStartEndIndexes:rN,setComputedData:rO}=rL.actions,rP=rL.reducer,rQ=qB({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(a,b){a.layoutType=b.payload},setChartSize(a,b){a.width=b.payload.width,a.height=b.payload.height},setMargin(a,b){a.margin.top=b.payload.top,a.margin.right=b.payload.right,a.margin.bottom=b.payload.bottom,a.margin.left=b.payload.left},setScale(a,b){a.scale=b.payload}}}),{setMargin:rR,setLayout:rS,setChartSize:rT,setScale:rU}=rQ.actions,rV=rQ.reducer,rW=a.i(64442),rX=(0,m.createContext)(null),rY=a=>a,rZ=()=>{var a=(0,m.useContext)(rX);return a?a.store.dispatch:rY},r$=()=>{},r_=()=>r$,r0=(a,b)=>a===b;function r1(a){var b=(0,m.useContext)(rX);return(0,rW.useSyncExternalStoreWithSelector)(b?b.subscription.addNestedSub:r_,b?b.store.getState:r$,b?b.store.getState:r$,b?a:r$,r0)}var r2=a.i(81101),r3=a=>a.legend.settings,r4=qg([a=>a.legend.payload,r3],(a,b)=>{var{itemSorter:c}=b,d=a.flat(1);return c?(0,r2.default)(d,c):d});function r5(a){return"object"==typeof a&&"length"in a?a:Array.from(a)}function r6(a){return function(){return a}}function r7(a,b){if((e=a.length)>1)for(var c,d,e,f=1,g=a[b[0]],h=g.length;f<e;++f)for(d=g,g=a[b[f]],c=0;c<h;++c)g[c][1]+=g[c][0]=isNaN(d[c][1])?d[c][0]:d[c][1]}function r8(a){for(var b=a.length,c=Array(b);--b>=0;)c[b]=b;return c}function r9(a,b){return a[b]}function sa(a){let b=[];return b.key=a,b}function sb(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function sc(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?sb(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):sb(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}Array.prototype.slice;var sd=Math.PI/180,se=(a,b,c,d)=>({x:a+Math.cos(-sd*d)*c,y:b+Math.sin(-sd*d)*c}),sf=function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(a-(c.left||0)-(c.right||0)),Math.abs(b-(c.top||0)-(c.bottom||0)))/2};function sg(a,b,c){return Array.isArray(a)&&a&&b+c!==0?a.slice(b,c+1):a}function sh(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function si(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?sh(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):sh(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function sj(a,b,c){return null==a||null==b?c:rc(b)?(0,q7.default)(a,b,c):"function"==typeof b?b(a):c}var sk=(a,b)=>"horizontal"===a&&"xAxis"===b||"vertical"===a&&"yAxis"===b||"centric"===a&&"angleAxis"===b||"radial"===a&&"radiusAxis"===b,sl=(a,b,c,d)=>{if(d)return a.map(a=>a.coordinate);var e,f,g=a.map(a=>(a.coordinate===b&&(e=!0),a.coordinate===c&&(f=!0),a.coordinate));return e||g.push(b),f||g.push(c),g},sm=(a,b,c)=>{if(!a)return null;var{duplicateDomain:d,type:e,range:f,scale:g,realScaleType:h,isCategorical:i,categoricalDomain:j,tickCount:k,ticks:l,niceTicks:m,axisType:n}=a;if(!g)return null;var o="scaleBand"===h&&g.bandwidth?g.bandwidth()/2:2,p=(b||c)&&"category"===e&&g.bandwidth?g.bandwidth()/o:0;return(p="angleAxis"===n&&f&&f.length>=2?2*q8(f[0]-f[1])*p:p,b&&(l||m))?(l||m||[]).map((a,b)=>({coordinate:g(d?d.indexOf(a):a)+p,value:a,offset:p,index:b})).filter(a=>!q9(a.coordinate)):i&&j?j.map((a,b)=>({coordinate:g(a)+p,value:a,index:b,offset:p})):g.ticks&&!c&&null!=k?g.ticks(k).map((a,b)=>({coordinate:g(a)+p,value:a,offset:p,index:b})):g.domain().map((a,b)=>({coordinate:g(a)+p,value:d?d[a]:a,index:b,offset:p}))},sn={sign:a=>{var b=a.length;if(!(b<=0))for(var c=0,d=a[0].length;c<d;++c)for(var e=0,f=0,g=0;g<b;++g){var h=q9(a[g][c][1])?a[g][c][0]:a[g][c][1];h>=0?(a[g][c][0]=e,a[g][c][1]=e+h,e=a[g][c][1]):(a[g][c][0]=f,a[g][c][1]=f+h,f=a[g][c][1])}},expand:function(a,b){if((d=a.length)>0){for(var c,d,e,f=0,g=a[0].length;f<g;++f){for(e=c=0;c<d;++c)e+=a[c][f][1]||0;if(e)for(c=0;c<d;++c)a[c][f][1]/=e}r7(a,b)}},none:r7,silhouette:function(a,b){if((c=a.length)>0){for(var c,d=0,e=a[b[0]],f=e.length;d<f;++d){for(var g=0,h=0;g<c;++g)h+=a[g][d][1]||0;e[d][1]+=e[d][0]=-h/2}r7(a,b)}},wiggle:function(a,b){if((e=a.length)>0&&(d=(c=a[b[0]]).length)>0){for(var c,d,e,f=0,g=1;g<d;++g){for(var h=0,i=0,j=0;h<e;++h){for(var k=a[b[h]],l=k[g][1]||0,m=(l-(k[g-1][1]||0))/2,n=0;n<h;++n){var o=a[b[n]];m+=(o[g][1]||0)-(o[g-1][1]||0)}i+=l,j+=m*l}c[g-1][1]+=c[g-1][0]=f,i&&(f-=j/i)}c[g-1][1]+=c[g-1][0]=f,r7(a,b)}},positive:a=>{var b=a.length;if(!(b<=0))for(var c=0,d=a[0].length;c<d;++c)for(var e=0,f=0;f<b;++f){var g=q9(a[f][c][1])?a[f][c][0]:a[f][c][1];g>=0?(a[f][c][0]=e,a[f][c][1]=e+g,e=a[f][c][1]):(a[f][c][0]=0,a[f][c][1]=0)}}},so=a=>{var{axis:b,ticks:c,offset:d,bandSize:e,entry:f,index:g}=a;if("category"===b.type)return c[g]?c[g].coordinate+d:null;var h=sj(f,b.dataKey,b.scale.domain()[g]);return null==h?null:b.scale(h)-e/2+d},sp=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sq=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sr=(a,b,c)=>{if(a&&a.scale&&a.scale.bandwidth){var d=a.scale.bandwidth();if(!c||d>0)return d}if(a&&b&&b.length>=2){for(var e=(0,r2.default)(b,a=>a.coordinate),f=1/0,g=1,h=e.length;g<h;g++){var i=e[g],j=e[g-1];f=Math.min((i.coordinate||0)-(j.coordinate||0),f)}return f===1/0?0:f}return c?void 0:0};function ss(a){var{tooltipEntrySettings:b,dataKey:c,payload:d,value:e,name:f}=a;return si(si({},b),{},{dataKey:c,payload:d,value:e,name:f})}function st(a,b){return a?String(a):"string"==typeof b?b:void 0}var su=a=>a.layout.width,sv=a=>a.layout.height,sw=a=>a.layout.scale,sx=a=>a.layout.margin,sy=qg(a=>a.cartesianAxis.xAxis,a=>Object.values(a)),sz=qg(a=>a.cartesianAxis.yAxis,a=>Object.values(a)),sA="data-recharts-item-index",sB="data-recharts-item-data-key";function sC(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function sD(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?sC(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):sC(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var sE=qg([su,sv,sx,a=>a.brush.height,sy,sz,r3,a=>a.legend.size],(a,b,c,d,e,f,g,h)=>{var i=f.reduce((a,b)=>{var{orientation:c}=b;if(!b.mirror&&!b.hide){var d="number"==typeof b.width?b.width:60;return sD(sD({},a),{},{[c]:a[c]+d})}return a},{left:c.left||0,right:c.right||0}),j=e.reduce((a,b)=>{var{orientation:c}=b;return b.mirror||b.hide?a:sD(sD({},a),{},{[c]:(0,q7.default)(a,"".concat(c))+b.height})},{top:c.top||0,bottom:c.bottom||0}),k=sD(sD({},j),i),l=k.bottom;k.bottom+=d;var m=a-(k=((a,b,c)=>{if(b&&c){var{width:d,height:e}=c,{align:f,verticalAlign:g,layout:h}=b;if(("vertical"===h||"horizontal"===h&&"middle"===g)&&"center"!==f&&rb(a[f]))return si(si({},a),{},{[f]:a[f]+(d||0)});if(("horizontal"===h||"vertical"===h&&"center"===f)&&"middle"!==g&&rb(a[g]))return si(si({},a),{},{[g]:a[g]+(e||0)})}return a})(k,g,h)).left-k.right,n=b-k.top-k.bottom;return sD(sD({brushBottom:l},k),{},{width:Math.max(m,0),height:Math.max(n,0)})}),sF=qg(sE,a=>({x:a.left,y:a.top,width:a.width,height:a.height})),sG=qg(su,sv,(a,b)=>({x:0,y:0,width:a,height:b})),sH=(0,m.createContext)(null),sI=()=>null!=(0,m.useContext)(sH),sJ=a=>a.brush,sK=qg([sJ,sE,sx],(a,b,c)=>({height:a.height,x:rb(a.x)?a.x:b.left,y:rb(a.y)?a.y:b.top+b.height+b.brushBottom-((null==c?void 0:c.bottom)||0),width:rb(a.width)?a.width:b.width})),sL=()=>{var a,b=sI(),c=r1(sF),d=r1(sK),e=null==(a=r1(sJ))?void 0:a.padding;return b&&d&&e?{width:d.width-e.left-e.right,height:d.height-e.top-e.bottom,x:e.left,y:e.top}:c},sM={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},sN=()=>{var a;return null!=(a=r1(sE))?a:sM},sO={top:0,right:0,bottom:0,left:0},sP=a=>a.layout.layoutType,sQ=a.i(56161);function sR(a,b){switch(arguments.length){case 0:break;case 1:this.range(a);break;default:this.range(b).domain(a)}return this}function sS(a,b){switch(arguments.length){case 0:break;case 1:"function"==typeof a?this.interpolator(a):this.range(a);break;default:this.domain(a),"function"==typeof b?this.interpolator(b):this.range(b)}return this}a.s([],62346),a.i(62346),a.s([],75333),a.i(75333);class sT extends Map{constructor(a,b=sV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:b}}),null!=a)for(const[b,c]of a)this.set(b,c)}get(a){return super.get(sU(this,a))}has(a){return super.has(sU(this,a))}set(a,b){return super.set(function({_intern:a,_key:b},c){let d=b(c);return a.has(d)?a.get(d):(a.set(d,c),c)}(this,a),b)}delete(a){return super.delete(function({_intern:a,_key:b},c){let d=b(c);return a.has(d)&&(c=a.get(d),a.delete(d)),c}(this,a))}}function sU({_intern:a,_key:b},c){let d=b(c);return a.has(d)?a.get(d):c}function sV(a){return null!==a&&"object"==typeof a?a.valueOf():a}let sW=Symbol("implicit");function sX(){var a=new sT,b=[],c=[],d=sW;function e(e){let f=a.get(e);if(void 0===f){if(d!==sW)return d;a.set(e,f=b.push(e)-1)}return c[f%c.length]}return e.domain=function(c){if(!arguments.length)return b.slice();for(let d of(b=[],a=new sT,c))a.has(d)||a.set(d,b.push(d)-1);return e},e.range=function(a){return arguments.length?(c=Array.from(a),e):c.slice()},e.unknown=function(a){return arguments.length?(d=a,e):d},e.copy=function(){return sX(b,c).unknown(d)},sR.apply(e,arguments),e}function sY(){var a,b,c=sX().unknown(void 0),d=c.domain,e=c.range,f=0,g=1,h=!1,i=0,j=0,k=.5;function l(){var c=d().length,l=g<f,m=l?g:f,n=l?f:g;a=(n-m)/Math.max(1,c-i+2*j),h&&(a=Math.floor(a)),m+=(n-m-a*(c-i))*k,b=a*(1-i),h&&(m=Math.round(m),b=Math.round(b));var o=(function(a,b,c){a*=1,b*=1,c=(e=arguments.length)<2?(b=a,a=0,1):e<3?1:+c;for(var d=-1,e=0|Math.max(0,Math.ceil((b-a)/c)),f=Array(e);++d<e;)f[d]=a+d*c;return f})(c).map(function(b){return m+a*b});return e(l?o.reverse():o)}return delete c.unknown,c.domain=function(a){return arguments.length?(d(a),l()):d()},c.range=function(a){return arguments.length?([f,g]=a,f*=1,g*=1,l()):[f,g]},c.rangeRound=function(a){return[f,g]=a,f*=1,g*=1,h=!0,l()},c.bandwidth=function(){return b},c.step=function(){return a},c.round=function(a){return arguments.length?(h=!!a,l()):h},c.padding=function(a){return arguments.length?(i=Math.min(1,j=+a),l()):i},c.paddingInner=function(a){return arguments.length?(i=Math.min(1,a),l()):i},c.paddingOuter=function(a){return arguments.length?(j=+a,l()):j},c.align=function(a){return arguments.length?(k=Math.max(0,Math.min(1,a)),l()):k},c.copy=function(){return sY(d(),[f,g]).round(h).paddingInner(i).paddingOuter(j).align(k)},sR.apply(l(),arguments)}function sZ(){return function a(b){var c=b.copy;return b.padding=b.paddingOuter,delete b.paddingInner,delete b.paddingOuter,b.copy=function(){return a(c())},b}(sY.apply(null,arguments).paddingInner(1))}let s$=Math.sqrt(50),s_=Math.sqrt(10),s0=Math.sqrt(2);function s1(a,b,c){let d,e,f,g=(b-a)/Math.max(0,c),h=Math.floor(Math.log10(g)),i=g/Math.pow(10,h),j=i>=s$?10:i>=s_?5:i>=s0?2:1;return(h<0?(d=Math.round(a*(f=Math.pow(10,-h)/j)),e=Math.round(b*f),d/f<a&&++d,e/f>b&&--e,f=-f):(d=Math.round(a/(f=Math.pow(10,h)*j)),e=Math.round(b/f),d*f<a&&++d,e*f>b&&--e),e<d&&.5<=c&&c<2)?s1(a,b,2*c):[d,e,f]}function s2(a,b,c){if(b*=1,a*=1,!((c*=1)>0))return[];if(a===b)return[a];let d=b<a,[e,f,g]=d?s1(b,a,c):s1(a,b,c);if(!(f>=e))return[];let h=f-e+1,i=Array(h);if(d)if(g<0)for(let a=0;a<h;++a)i[a]=-((f-a)/g);else for(let a=0;a<h;++a)i[a]=(f-a)*g;else if(g<0)for(let a=0;a<h;++a)i[a]=-((e+a)/g);else for(let a=0;a<h;++a)i[a]=(e+a)*g;return i}function s3(a,b,c){return s1(a*=1,b*=1,c*=1)[2]}function s4(a,b,c){b*=1,a*=1,c*=1;let d=b<a,e=d?s3(b,a,c):s3(a,b,c);return(d?-1:1)*(e<0?-(1/e):e)}function s5(a,b){return null==a||null==b?NaN:a<b?-1:a>b?1:a>=b?0:NaN}function s6(a,b){return null==a||null==b?NaN:b<a?-1:b>a?1:b>=a?0:NaN}function s7(a){let b,c,d;function e(a,d,f=0,g=a.length){if(f<g){if(0!==b(d,d))return g;do{let b=f+g>>>1;0>c(a[b],d)?f=b+1:g=b}while(f<g)}return f}return 2!==a.length?(b=s5,c=(b,c)=>s5(a(b),c),d=(b,c)=>a(b)-c):(b=a===s5||a===s6?a:s8,c=a,d=a),{left:e,center:function(a,b,c=0,f=a.length){let g=e(a,b,c,f-1);return g>c&&d(a[g-1],b)>-d(a[g],b)?g-1:g},right:function(a,d,e=0,f=a.length){if(e<f){if(0!==b(d,d))return f;do{let b=e+f>>>1;0>=c(a[b],d)?e=b+1:f=b}while(e<f)}return e}}}function s8(){return 0}function s9(a){return null===a?NaN:+a}let ta=s7(s5),tb=ta.right;function tc(a,b,c){a.prototype=b.prototype=c,c.constructor=a}function td(a,b){var c=Object.create(a.prototype);for(var d in b)c[d]=b[d];return c}function te(){}ta.left,s7(s9).center;var tf="\\s*([+-]?\\d+)\\s*",tg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",th="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ti=/^#([0-9a-f]{3,8})$/,tj=RegExp(`^rgb\\(${tf},${tf},${tf}\\)$`),tk=RegExp(`^rgb\\(${th},${th},${th}\\)$`),tl=RegExp(`^rgba\\(${tf},${tf},${tf},${tg}\\)$`),tm=RegExp(`^rgba\\(${th},${th},${th},${tg}\\)$`),tn=RegExp(`^hsl\\(${tg},${th},${th}\\)$`),to=RegExp(`^hsla\\(${tg},${th},${th},${tg}\\)$`),tp={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function tq(){return this.rgb().formatHex()}function tr(){return this.rgb().formatRgb()}function ts(a){var b,c;return a=(a+"").trim().toLowerCase(),(b=ti.exec(a))?(c=b[1].length,b=parseInt(b[1],16),6===c?tt(b):3===c?new tw(b>>8&15|b>>4&240,b>>4&15|240&b,(15&b)<<4|15&b,1):8===c?tu(b>>24&255,b>>16&255,b>>8&255,(255&b)/255):4===c?tu(b>>12&15|b>>8&240,b>>8&15|b>>4&240,b>>4&15|240&b,((15&b)<<4|15&b)/255):null):(b=tj.exec(a))?new tw(b[1],b[2],b[3],1):(b=tk.exec(a))?new tw(255*b[1]/100,255*b[2]/100,255*b[3]/100,1):(b=tl.exec(a))?tu(b[1],b[2],b[3],b[4]):(b=tm.exec(a))?tu(255*b[1]/100,255*b[2]/100,255*b[3]/100,b[4]):(b=tn.exec(a))?tC(b[1],b[2]/100,b[3]/100,1):(b=to.exec(a))?tC(b[1],b[2]/100,b[3]/100,b[4]):tp.hasOwnProperty(a)?tt(tp[a]):"transparent"===a?new tw(NaN,NaN,NaN,0):null}function tt(a){return new tw(a>>16&255,a>>8&255,255&a,1)}function tu(a,b,c,d){return d<=0&&(a=b=c=NaN),new tw(a,b,c,d)}function tv(a,b,c,d){var e;return 1==arguments.length?((e=a)instanceof te||(e=ts(e)),e)?new tw((e=e.rgb()).r,e.g,e.b,e.opacity):new tw:new tw(a,b,c,null==d?1:d)}function tw(a,b,c,d){this.r=+a,this.g=+b,this.b=+c,this.opacity=+d}function tx(){return`#${tB(this.r)}${tB(this.g)}${tB(this.b)}`}function ty(){let a=tz(this.opacity);return`${1===a?"rgb(":"rgba("}${tA(this.r)}, ${tA(this.g)}, ${tA(this.b)}${1===a?")":`, ${a})`}`}function tz(a){return isNaN(a)?1:Math.max(0,Math.min(1,a))}function tA(a){return Math.max(0,Math.min(255,Math.round(a)||0))}function tB(a){return((a=tA(a))<16?"0":"")+a.toString(16)}function tC(a,b,c,d){return d<=0?a=b=c=NaN:c<=0||c>=1?a=b=NaN:b<=0&&(a=NaN),new tE(a,b,c,d)}function tD(a){if(a instanceof tE)return new tE(a.h,a.s,a.l,a.opacity);if(a instanceof te||(a=ts(a)),!a)return new tE;if(a instanceof tE)return a;var b=(a=a.rgb()).r/255,c=a.g/255,d=a.b/255,e=Math.min(b,c,d),f=Math.max(b,c,d),g=NaN,h=f-e,i=(f+e)/2;return h?(g=b===f?(c-d)/h+(c<d)*6:c===f?(d-b)/h+2:(b-c)/h+4,h/=i<.5?f+e:2-f-e,g*=60):h=i>0&&i<1?0:g,new tE(g,h,i,a.opacity)}function tE(a,b,c,d){this.h=+a,this.s=+b,this.l=+c,this.opacity=+d}function tF(a){return(a=(a||0)%360)<0?a+360:a}function tG(a){return Math.max(0,Math.min(1,a||0))}function tH(a,b,c){return(a<60?b+(c-b)*a/60:a<180?c:a<240?b+(c-b)*(240-a)/60:b)*255}function tI(a,b,c,d,e){var f=a*a,g=f*a;return((1-3*a+3*f-g)*b+(4-6*f+3*g)*c+(1+3*a+3*f-3*g)*d+g*e)/6}tc(te,ts,{copy(a){return Object.assign(new this.constructor,this,a)},displayable(){return this.rgb().displayable()},hex:tq,formatHex:tq,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return tD(this).formatHsl()},formatRgb:tr,toString:tr}),tc(tw,tv,td(te,{brighter(a){return a=null==a?1.4285714285714286:Math.pow(1.4285714285714286,a),new tw(this.r*a,this.g*a,this.b*a,this.opacity)},darker(a){return a=null==a?.7:Math.pow(.7,a),new tw(this.r*a,this.g*a,this.b*a,this.opacity)},rgb(){return this},clamp(){return new tw(tA(this.r),tA(this.g),tA(this.b),tz(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tx,formatHex:tx,formatHex8:function(){return`#${tB(this.r)}${tB(this.g)}${tB(this.b)}${tB((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:ty,toString:ty})),tc(tE,function(a,b,c,d){return 1==arguments.length?tD(a):new tE(a,b,c,null==d?1:d)},td(te,{brighter(a){return a=null==a?1.4285714285714286:Math.pow(1.4285714285714286,a),new tE(this.h,this.s,this.l*a,this.opacity)},darker(a){return a=null==a?.7:Math.pow(.7,a),new tE(this.h,this.s,this.l*a,this.opacity)},rgb(){var a=this.h%360+(this.h<0)*360,b=isNaN(a)||isNaN(this.s)?0:this.s,c=this.l,d=c+(c<.5?c:1-c)*b,e=2*c-d;return new tw(tH(a>=240?a-240:a+120,e,d),tH(a,e,d),tH(a<120?a+240:a-120,e,d),this.opacity)},clamp(){return new tE(tF(this.h),tG(this.s),tG(this.l),tz(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let a=tz(this.opacity);return`${1===a?"hsl(":"hsla("}${tF(this.h)}, ${100*tG(this.s)}%, ${100*tG(this.l)}%${1===a?")":`, ${a})`}`}}));let tJ=a=>()=>a;function tK(a,b){var c=b-a;return c?function(b){return a+b*c}:tJ(isNaN(a)?b:a)}let tL=function a(b){var c,d=1==(c=+b)?tK:function(a,b){var d,e,f;return b-a?(d=a,e=b,d=Math.pow(d,f=c),e=Math.pow(e,f)-d,f=1/f,function(a){return Math.pow(d+a*e,f)}):tJ(isNaN(a)?b:a)};function e(a,b){var c=d((a=tv(a)).r,(b=tv(b)).r),e=d(a.g,b.g),f=d(a.b,b.b),g=tK(a.opacity,b.opacity);return function(b){return a.r=c(b),a.g=e(b),a.b=f(b),a.opacity=g(b),a+""}}return e.gamma=a,e}(1);function tM(a){return function(b){var c,d,e=b.length,f=Array(e),g=Array(e),h=Array(e);for(c=0;c<e;++c)d=tv(b[c]),f[c]=d.r||0,g[c]=d.g||0,h[c]=d.b||0;return f=a(f),g=a(g),h=a(h),d.opacity=1,function(a){return d.r=f(a),d.g=g(a),d.b=h(a),d+""}}}function tN(a,b){return a*=1,b*=1,function(c){return a*(1-c)+b*c}}tM(function(a){var b=a.length-1;return function(c){var d=c<=0?c=0:c>=1?(c=1,b-1):Math.floor(c*b),e=a[d],f=a[d+1],g=d>0?a[d-1]:2*e-f,h=d<b-1?a[d+2]:2*f-e;return tI((c-d/b)*b,g,e,f,h)}}),tM(function(a){var b=a.length;return function(c){var d=Math.floor(((c%=1)<0?++c:c)*b),e=a[(d+b-1)%b],f=a[d%b],g=a[(d+1)%b],h=a[(d+2)%b];return tI((c-d/b)*b,e,f,g,h)}});var tO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tP=RegExp(tO.source,"g");function tQ(a,b){var c,d,e=typeof b;return null==b||"boolean"===e?tJ(b):("number"===e?tN:"string"===e?(d=ts(b))?(b=d,tL):function(a,b){var c,d,e,f,g,h=tO.lastIndex=tP.lastIndex=0,i=-1,j=[],k=[];for(a+="",b+="";(e=tO.exec(a))&&(f=tP.exec(b));)(g=f.index)>h&&(g=b.slice(h,g),j[i]?j[i]+=g:j[++i]=g),(e=e[0])===(f=f[0])?j[i]?j[i]+=f:j[++i]=f:(j[++i]=null,k.push({i:i,x:tN(e,f)})),h=tP.lastIndex;return h<b.length&&(g=b.slice(h),j[i]?j[i]+=g:j[++i]=g),j.length<2?k[0]?(c=k[0].x,function(a){return c(a)+""}):(d=b,function(){return d}):(b=k.length,function(a){for(var c,d=0;d<b;++d)j[(c=k[d]).i]=c.x(a);return j.join("")})}:b instanceof ts?tL:b instanceof Date?function(a,b){var c=new Date;return a*=1,b*=1,function(d){return c.setTime(a*(1-d)+b*d),c}}:!ArrayBuffer.isView(c=b)||c instanceof DataView?Array.isArray(b)?function(a,b){var c,d=b?b.length:0,e=a?Math.min(d,a.length):0,f=Array(e),g=Array(d);for(c=0;c<e;++c)f[c]=tQ(a[c],b[c]);for(;c<d;++c)g[c]=b[c];return function(a){for(c=0;c<e;++c)g[c]=f[c](a);return g}}:"function"!=typeof b.valueOf&&"function"!=typeof b.toString||isNaN(b)?function(a,b){var c,d={},e={};for(c in(null===a||"object"!=typeof a)&&(a={}),(null===b||"object"!=typeof b)&&(b={}),b)c in a?d[c]=tQ(a[c],b[c]):e[c]=b[c];return function(a){for(c in d)e[c]=d[c](a);return e}}:tN:function(a,b){b||(b=[]);var c,d=a?Math.min(b.length,a.length):0,e=b.slice();return function(f){for(c=0;c<d;++c)e[c]=a[c]*(1-f)+b[c]*f;return e}})(a,b)}function tR(a,b){return a*=1,b*=1,function(c){return Math.round(a*(1-c)+b*c)}}function tS(a){return+a}var tT=[0,1];function tU(a){return a}function tV(a,b){var c;return(b-=a*=1)?function(c){return(c-a)/b}:(c=isNaN(b)?NaN:.5,function(){return c})}function tW(a,b,c){var d=a[0],e=a[1],f=b[0],g=b[1];return e<d?(d=tV(e,d),f=c(g,f)):(d=tV(d,e),f=c(f,g)),function(a){return f(d(a))}}function tX(a,b,c){var d=Math.min(a.length,b.length)-1,e=Array(d),f=Array(d),g=-1;for(a[d]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());++g<d;)e[g]=tV(a[g],a[g+1]),f[g]=c(b[g],b[g+1]);return function(b){var c=tb(a,b,1,d)-1;return f[c](e[c](b))}}function tY(a,b){return b.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp()).unknown(a.unknown())}function tZ(){var a,b,c,d,e,f,g=tT,h=tT,i=tQ,j=tU;function k(){var a,b,c,i=Math.min(g.length,h.length);return j!==tU&&(a=g[0],b=g[i-1],a>b&&(c=a,a=b,b=c),j=function(c){return Math.max(a,Math.min(b,c))}),d=i>2?tX:tW,e=f=null,l}function l(b){return null==b||isNaN(b*=1)?c:(e||(e=d(g.map(a),h,i)))(a(j(b)))}return l.invert=function(c){return j(b((f||(f=d(h,g.map(a),tN)))(c)))},l.domain=function(a){return arguments.length?(g=Array.from(a,tS),k()):g.slice()},l.range=function(a){return arguments.length?(h=Array.from(a),k()):h.slice()},l.rangeRound=function(a){return h=Array.from(a),i=tR,k()},l.clamp=function(a){return arguments.length?(j=!!a||tU,k()):j!==tU},l.interpolate=function(a){return arguments.length?(i=a,k()):i},l.unknown=function(a){return arguments.length?(c=a,l):c},function(c,d){return a=c,b=d,k()}}function t$(){return tZ()(tU,tU)}function t_(a,b){if((c=(a=b?a.toExponential(b-1):a.toExponential()).indexOf("e"))<0)return null;var c,d=a.slice(0,c);return[d.length>1?d[0]+d.slice(2):d,+a.slice(c+1)]}function t0(a){return(a=t_(Math.abs(a)))?a[1]:NaN}var t1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function t2(a){var b;if(!(b=t1.exec(a)))throw Error("invalid format: "+a);return new t3({fill:b[1],align:b[2],sign:b[3],symbol:b[4],zero:b[5],width:b[6],comma:b[7],precision:b[8]&&b[8].slice(1),trim:b[9],type:b[10]})}function t3(a){this.fill=void 0===a.fill?" ":a.fill+"",this.align=void 0===a.align?">":a.align+"",this.sign=void 0===a.sign?"-":a.sign+"",this.symbol=void 0===a.symbol?"":a.symbol+"",this.zero=!!a.zero,this.width=void 0===a.width?void 0:+a.width,this.comma=!!a.comma,this.precision=void 0===a.precision?void 0:+a.precision,this.trim=!!a.trim,this.type=void 0===a.type?"":a.type+""}function t4(a,b){var c=t_(a,b);if(!c)return a+"";var d=c[0],e=c[1];return e<0?"0."+Array(-e).join("0")+d:d.length>e+1?d.slice(0,e+1)+"."+d.slice(e+1):d+Array(e-d.length+2).join("0")}t2.prototype=t3.prototype,t3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};let t5={"%":(a,b)=>(100*a).toFixed(b),b:a=>Math.round(a).toString(2),c:a=>a+"",d:function(a){return Math.abs(a=Math.round(a))>=1e21?a.toLocaleString("en").replace(/,/g,""):a.toString(10)},e:(a,b)=>a.toExponential(b),f:(a,b)=>a.toFixed(b),g:(a,b)=>a.toPrecision(b),o:a=>Math.round(a).toString(8),p:(a,b)=>t4(100*a,b),r:t4,s:function(a,b){var c=t_(a,b);if(!c)return a+"";var d=c[0],e=c[1],f=e-(w9=3*Math.max(-8,Math.min(8,Math.floor(e/3))))+1,g=d.length;return f===g?d:f>g?d+Array(f-g+1).join("0"):f>0?d.slice(0,f)+"."+d.slice(f):"0."+Array(1-f).join("0")+t_(a,Math.max(0,b+f-1))[0]},X:a=>Math.round(a).toString(16).toUpperCase(),x:a=>Math.round(a).toString(16)};function t6(a){return a}var t7=Array.prototype.map,t8=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function t9(a,b,c,d){var e,f,g=s4(a,b,c);switch((d=t2(null==d?",f":d)).type){case"s":var h=Math.max(Math.abs(a),Math.abs(b));return null!=d.precision||isNaN(f=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(t0(h)/3)))-t0(Math.abs(g))))||(d.precision=f),xc(d,h);case"":case"e":case"g":case"p":case"r":null!=d.precision||isNaN(f=Math.max(0,t0(Math.abs(Math.max(Math.abs(a),Math.abs(b)))-(e=Math.abs(e=g)))-t0(e))+1)||(d.precision=f-("e"===d.type));break;case"f":case"%":null!=d.precision||isNaN(f=Math.max(0,-t0(Math.abs(g))))||(d.precision=f-("%"===d.type)*2)}return xb(d)}function ua(a){var b=a.domain;return a.ticks=function(a){var c=b();return s2(c[0],c[c.length-1],null==a?10:a)},a.tickFormat=function(a,c){var d=b();return t9(d[0],d[d.length-1],null==a?10:a,c)},a.nice=function(c){null==c&&(c=10);var d,e,f=b(),g=0,h=f.length-1,i=f[g],j=f[h],k=10;for(j<i&&(e=i,i=j,j=e,e=g,g=h,h=e);k-- >0;){if((e=s3(i,j,c))===d)return f[g]=i,f[h]=j,b(f);if(e>0)i=Math.floor(i/e)*e,j=Math.ceil(j/e)*e;else if(e<0)i=Math.ceil(i*e)/e,j=Math.floor(j*e)/e;else break;d=e}return a},a}function ub(){var a=t$();return a.copy=function(){return tY(a,ub())},sR.apply(a,arguments),ua(a)}function uc(a){var b;function c(a){return null==a||isNaN(a*=1)?b:a}return c.invert=c,c.domain=c.range=function(b){return arguments.length?(a=Array.from(b,tS),c):a.slice()},c.unknown=function(a){return arguments.length?(b=a,c):b},c.copy=function(){return uc(a).unknown(b)},a=arguments.length?Array.from(a,tS):[0,1],ua(c)}function ud(a,b){a=a.slice();var c,d=0,e=a.length-1,f=a[d],g=a[e];return g<f&&(c=d,d=e,e=c,c=f,f=g,g=c),a[d]=b.floor(f),a[e]=b.ceil(g),a}function ue(a){return Math.log(a)}function uf(a){return Math.exp(a)}function ug(a){return-Math.log(-a)}function uh(a){return-Math.exp(-a)}function ui(a){return isFinite(a)?+("1e"+a):a<0?0:a}function uj(a){return(b,c)=>-a(-b,c)}function uk(a){let b,c,d=a(ue,uf),e=d.domain,f=10;function g(){var g,h;return b=(g=f)===Math.E?Math.log:10===g&&Math.log10||2===g&&Math.log2||(g=Math.log(g),a=>Math.log(a)/g),c=10===(h=f)?ui:h===Math.E?Math.exp:a=>Math.pow(h,a),e()[0]<0?(b=uj(b),c=uj(c),a(ug,uh)):a(ue,uf),d}return d.base=function(a){return arguments.length?(f=+a,g()):f},d.domain=function(a){return arguments.length?(e(a),g()):e()},d.ticks=a=>{let d,g,h=e(),i=h[0],j=h[h.length-1],k=j<i;k&&([i,j]=[j,i]);let l=b(i),m=b(j),n=null==a?10:+a,o=[];if(!(f%1)&&m-l<n){if(l=Math.floor(l),m=Math.ceil(m),i>0){for(;l<=m;++l)for(d=1;d<f;++d)if(!((g=l<0?d/c(-l):d*c(l))<i)){if(g>j)break;o.push(g)}}else for(;l<=m;++l)for(d=f-1;d>=1;--d)if(!((g=l>0?d/c(-l):d*c(l))<i)){if(g>j)break;o.push(g)}2*o.length<n&&(o=s2(i,j,n))}else o=s2(l,m,Math.min(m-l,n)).map(c);return k?o.reverse():o},d.tickFormat=(a,e)=>{if(null==a&&(a=10),null==e&&(e=10===f?"s":","),"function"!=typeof e&&(f%1||null!=(e=t2(e)).precision||(e.trim=!0),e=xb(e)),a===1/0)return e;let g=Math.max(1,f*a/d.ticks().length);return a=>{let d=a/c(Math.round(b(a)));return d*f<f-.5&&(d*=f),d<=g?e(a):""}},d.nice=()=>e(ud(e(),{floor:a=>c(Math.floor(b(a))),ceil:a=>c(Math.ceil(b(a)))})),d}function ul(){let a=uk(tZ()).domain([1,10]);return a.copy=()=>tY(a,ul()).base(a.base()),sR.apply(a,arguments),a}function um(a){return function(b){return Math.sign(b)*Math.log1p(Math.abs(b/a))}}function un(a){return function(b){return Math.sign(b)*Math.expm1(Math.abs(b))*a}}function uo(a){var b=1,c=a(um(1),un(b));return c.constant=function(c){return arguments.length?a(um(b=+c),un(b)):b},ua(c)}function up(){var a=uo(tZ());return a.copy=function(){return tY(a,up()).constant(a.constant())},sR.apply(a,arguments)}function uq(a){return function(b){return b<0?-Math.pow(-b,a):Math.pow(b,a)}}function ur(a){return a<0?-Math.sqrt(-a):Math.sqrt(a)}function us(a){return a<0?-a*a:a*a}function ut(a){var b=a(tU,tU),c=1;return b.exponent=function(b){return arguments.length?1==(c=+b)?a(tU,tU):.5===c?a(ur,us):a(uq(c),uq(1/c)):c},ua(b)}function uu(){var a=ut(tZ());return a.copy=function(){return tY(a,uu()).exponent(a.exponent())},sR.apply(a,arguments),a}function uv(){return uu.apply(null,arguments).exponent(.5)}function uw(a){return Math.sign(a)*a*a}function ux(){var a,b=t$(),c=[0,1],d=!1;function e(c){var e,f=Math.sign(e=b(c))*Math.sqrt(Math.abs(e));return isNaN(f)?a:d?Math.round(f):f}return e.invert=function(a){return b.invert(uw(a))},e.domain=function(a){return arguments.length?(b.domain(a),e):b.domain()},e.range=function(a){return arguments.length?(b.range((c=Array.from(a,tS)).map(uw)),e):c.slice()},e.rangeRound=function(a){return e.range(a).round(!0)},e.round=function(a){return arguments.length?(d=!!a,e):d},e.clamp=function(a){return arguments.length?(b.clamp(a),e):b.clamp()},e.unknown=function(b){return arguments.length?(a=b,e):a},e.copy=function(){return ux(b.domain(),c).round(d).clamp(b.clamp()).unknown(a)},sR.apply(e,arguments),ua(e)}function uy(a,b){let c;if(void 0===b)for(let b of a)null!=b&&(c<b||void 0===c&&b>=b)&&(c=b);else{let d=-1;for(let e of a)null!=(e=b(e,++d,a))&&(c<e||void 0===c&&e>=e)&&(c=e)}return c}function uz(a,b){let c;if(void 0===b)for(let b of a)null!=b&&(c>b||void 0===c&&b>=b)&&(c=b);else{let d=-1;for(let e of a)null!=(e=b(e,++d,a))&&(c>e||void 0===c&&e>=e)&&(c=e)}return c}function uA(a,b){return(null==a||!(a>=a))-(null==b||!(b>=b))||(a<b?-1:+(a>b))}function uB(a,b,c){let d=a[b];a[b]=a[c],a[c]=d}function uC(){var a,b=[],c=[],d=[];function e(){var a=0,e=Math.max(1,c.length);for(d=Array(e-1);++a<e;)d[a-1]=function(a,b,c=s9){if(!(!(d=a.length)||isNaN(b*=1))){if(b<=0||d<2)return+c(a[0],0,a);if(b>=1)return+c(a[d-1],d-1,a);var d,e=(d-1)*b,f=Math.floor(e),g=+c(a[f],f,a);return g+(c(a[f+1],f+1,a)-g)*(e-f)}}(b,a/e);return f}function f(b){return null==b||isNaN(b*=1)?a:c[tb(d,b)]}return f.invertExtent=function(a){var e=c.indexOf(a);return e<0?[NaN,NaN]:[e>0?d[e-1]:b[0],e<d.length?d[e]:b[b.length-1]]},f.domain=function(a){if(!arguments.length)return b.slice();for(let c of(b=[],a))null==c||isNaN(c*=1)||b.push(c);return b.sort(s5),e()},f.range=function(a){return arguments.length?(c=Array.from(a),e()):c.slice()},f.unknown=function(b){return arguments.length?(a=b,f):a},f.quantiles=function(){return d.slice()},f.copy=function(){return uC().domain(b).range(c).unknown(a)},sR.apply(f,arguments)}function uD(){var a,b=0,c=1,d=1,e=[.5],f=[0,1];function g(b){return null!=b&&b<=b?f[tb(e,b,0,d)]:a}function h(){var a=-1;for(e=Array(d);++a<d;)e[a]=((a+1)*c-(a-d)*b)/(d+1);return g}return g.domain=function(a){return arguments.length?([b,c]=a,b*=1,c*=1,h()):[b,c]},g.range=function(a){return arguments.length?(d=(f=Array.from(a)).length-1,h()):f.slice()},g.invertExtent=function(a){var g=f.indexOf(a);return g<0?[NaN,NaN]:g<1?[b,e[0]]:g>=d?[e[d-1],c]:[e[g-1],e[g]]},g.unknown=function(b){return arguments.length&&(a=b),g},g.thresholds=function(){return e.slice()},g.copy=function(){return uD().domain([b,c]).range(f).unknown(a)},sR.apply(ua(g),arguments)}function uE(){var a,b=[.5],c=[0,1],d=1;function e(e){return null!=e&&e<=e?c[tb(b,e,0,d)]:a}return e.domain=function(a){return arguments.length?(d=Math.min((b=Array.from(a)).length,c.length-1),e):b.slice()},e.range=function(a){return arguments.length?(c=Array.from(a),d=Math.min(b.length,c.length-1),e):c.slice()},e.invertExtent=function(a){var d=c.indexOf(a);return[b[d-1],b[d]]},e.unknown=function(b){return arguments.length?(a=b,e):a},e.copy=function(){return uE().domain(b).range(c).unknown(a)},sR.apply(e,arguments)}xb=(xa=function(a){var b,c,d,e=void 0===a.grouping||void 0===a.thousands?t6:(b=t7.call(a.grouping,Number),c=a.thousands+"",function(a,d){for(var e=a.length,f=[],g=0,h=b[0],i=0;e>0&&h>0&&(i+h+1>d&&(h=Math.max(1,d-i)),f.push(a.substring(e-=h,e+h)),!((i+=h+1)>d));)h=b[g=(g+1)%b.length];return f.reverse().join(c)}),f=void 0===a.currency?"":a.currency[0]+"",g=void 0===a.currency?"":a.currency[1]+"",h=void 0===a.decimal?".":a.decimal+"",i=void 0===a.numerals?t6:(d=t7.call(a.numerals,String),function(a){return a.replace(/[0-9]/g,function(a){return d[+a]})}),j=void 0===a.percent?"%":a.percent+"",k=void 0===a.minus?"":a.minus+"",l=void 0===a.nan?"NaN":a.nan+"";function m(a){var b=(a=t2(a)).fill,c=a.align,d=a.sign,m=a.symbol,n=a.zero,o=a.width,p=a.comma,q=a.precision,r=a.trim,s=a.type;"n"===s?(p=!0,s="g"):t5[s]||(void 0===q&&(q=12),r=!0,s="g"),(n||"0"===b&&"="===c)&&(n=!0,b="0",c="=");var t="$"===m?f:"#"===m&&/[boxX]/.test(s)?"0"+s.toLowerCase():"",u="$"===m?g:/[%p]/.test(s)?j:"",v=t5[s],w=/[defgprs%]/.test(s);function x(a){var f,g,j,m=t,x=u;if("c"===s)x=v(a)+x,a="";else{var y=(a*=1)<0||1/a<0;if(a=isNaN(a)?l:v(Math.abs(a),q),r&&(a=function(a){a:for(var b,c=a.length,d=1,e=-1;d<c;++d)switch(a[d]){case".":e=b=d;break;case"0":0===e&&(e=d),b=d;break;default:if(!+a[d])break a;e>0&&(e=0)}return e>0?a.slice(0,e)+a.slice(b+1):a}(a)),y&&0==+a&&"+"!==d&&(y=!1),m=(y?"("===d?d:k:"-"===d||"("===d?"":d)+m,x=("s"===s?t8[8+w9/3]:"")+x+(y&&"("===d?")":""),w){for(f=-1,g=a.length;++f<g;)if(48>(j=a.charCodeAt(f))||j>57){x=(46===j?h+a.slice(f+1):a.slice(f))+x,a=a.slice(0,f);break}}}p&&!n&&(a=e(a,1/0));var z=m.length+a.length+x.length,A=z<o?Array(o-z+1).join(b):"";switch(p&&n&&(a=e(A+a,A.length?o-x.length:1/0),A=""),c){case"<":a=m+a+x+A;break;case"=":a=m+A+a+x;break;case"^":a=A.slice(0,z=A.length>>1)+m+a+x+A.slice(z);break;default:a=A+m+a+x}return i(a)}return q=void 0===q?6:/[gprs]/.test(s)?Math.max(1,Math.min(21,q)):Math.max(0,Math.min(20,q)),x.toString=function(){return a+""},x}return{format:m,formatPrefix:function(a,b){var c=m(((a=t2(a)).type="f",a)),d=3*Math.max(-8,Math.min(8,Math.floor(t0(b)/3))),e=Math.pow(10,-d),f=t8[8+d/3];return function(a){return c(e*a)+f}}}}({thousands:",",grouping:[3],currency:["$",""]})).format,xc=xa.formatPrefix;let uF=new Date,uG=new Date;function uH(a,b,c,d){function e(b){return a(b=0==arguments.length?new Date:new Date(+b)),b}return e.floor=b=>(a(b=new Date(+b)),b),e.ceil=c=>(a(c=new Date(c-1)),b(c,1),a(c),c),e.round=a=>{let b=e(a),c=e.ceil(a);return a-b<c-a?b:c},e.offset=(a,c)=>(b(a=new Date(+a),null==c?1:Math.floor(c)),a),e.range=(c,d,f)=>{let g,h=[];if(c=e.ceil(c),f=null==f?1:Math.floor(f),!(c<d)||!(f>0))return h;do h.push(g=new Date(+c)),b(c,f),a(c);while(g<c&&c<d)return h},e.filter=c=>uH(b=>{if(b>=b)for(;a(b),!c(b);)b.setTime(b-1)},(a,d)=>{if(a>=a)if(d<0)for(;++d<=0;)for(;b(a,-1),!c(a););else for(;--d>=0;)for(;b(a,1),!c(a););}),c&&(e.count=(b,d)=>(uF.setTime(+b),uG.setTime(+d),a(uF),a(uG),Math.floor(c(uF,uG))),e.every=a=>isFinite(a=Math.floor(a))&&a>0?a>1?e.filter(d?b=>d(b)%a==0:b=>e.count(0,b)%a==0):e:null),e}let uI=uH(a=>{a.setMonth(0,1),a.setHours(0,0,0,0)},(a,b)=>{a.setFullYear(a.getFullYear()+b)},(a,b)=>b.getFullYear()-a.getFullYear(),a=>a.getFullYear());uI.every=a=>isFinite(a=Math.floor(a))&&a>0?uH(b=>{b.setFullYear(Math.floor(b.getFullYear()/a)*a),b.setMonth(0,1),b.setHours(0,0,0,0)},(b,c)=>{b.setFullYear(b.getFullYear()+c*a)}):null,uI.range;let uJ=uH(a=>{a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCFullYear(a.getUTCFullYear()+b)},(a,b)=>b.getUTCFullYear()-a.getUTCFullYear(),a=>a.getUTCFullYear());uJ.every=a=>isFinite(a=Math.floor(a))&&a>0?uH(b=>{b.setUTCFullYear(Math.floor(b.getUTCFullYear()/a)*a),b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},(b,c)=>{b.setUTCFullYear(b.getUTCFullYear()+c*a)}):null,uJ.range;let uK=uH(a=>{a.setDate(1),a.setHours(0,0,0,0)},(a,b)=>{a.setMonth(a.getMonth()+b)},(a,b)=>b.getMonth()-a.getMonth()+(b.getFullYear()-a.getFullYear())*12,a=>a.getMonth());uK.range;let uL=uH(a=>{a.setUTCDate(1),a.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCMonth(a.getUTCMonth()+b)},(a,b)=>b.getUTCMonth()-a.getUTCMonth()+(b.getUTCFullYear()-a.getUTCFullYear())*12,a=>a.getUTCMonth());uL.range;function uM(a){return uH(b=>{b.setDate(b.getDate()-(b.getDay()+7-a)%7),b.setHours(0,0,0,0)},(a,b)=>{a.setDate(a.getDate()+7*b)},(a,b)=>(b-a-(b.getTimezoneOffset()-a.getTimezoneOffset())*6e4)/6048e5)}let uN=uM(0),uO=uM(1),uP=uM(2),uQ=uM(3),uR=uM(4),uS=uM(5),uT=uM(6);function uU(a){return uH(b=>{b.setUTCDate(b.getUTCDate()-(b.getUTCDay()+7-a)%7),b.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCDate(a.getUTCDate()+7*b)},(a,b)=>(b-a)/6048e5)}uN.range,uO.range,uP.range,uQ.range,uR.range,uS.range,uT.range;let uV=uU(0),uW=uU(1),uX=uU(2),uY=uU(3),uZ=uU(4),u$=uU(5),u_=uU(6);uV.range,uW.range,uX.range,uY.range,uZ.range,u$.range,u_.range;let u0=uH(a=>a.setHours(0,0,0,0),(a,b)=>a.setDate(a.getDate()+b),(a,b)=>(b-a-(b.getTimezoneOffset()-a.getTimezoneOffset())*6e4)/864e5,a=>a.getDate()-1);u0.range;let u1=uH(a=>{a.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCDate(a.getUTCDate()+b)},(a,b)=>(b-a)/864e5,a=>a.getUTCDate()-1);u1.range;let u2=uH(a=>{a.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCDate(a.getUTCDate()+b)},(a,b)=>(b-a)/864e5,a=>Math.floor(a/864e5));u2.range;let u3=uH(a=>{a.setTime(a-a.getMilliseconds()-1e3*a.getSeconds()-6e4*a.getMinutes())},(a,b)=>{a.setTime(+a+36e5*b)},(a,b)=>(b-a)/36e5,a=>a.getHours());u3.range;let u4=uH(a=>{a.setUTCMinutes(0,0,0)},(a,b)=>{a.setTime(+a+36e5*b)},(a,b)=>(b-a)/36e5,a=>a.getUTCHours());u4.range;let u5=uH(a=>{a.setTime(a-a.getMilliseconds()-1e3*a.getSeconds())},(a,b)=>{a.setTime(+a+6e4*b)},(a,b)=>(b-a)/6e4,a=>a.getMinutes());u5.range;let u6=uH(a=>{a.setUTCSeconds(0,0)},(a,b)=>{a.setTime(+a+6e4*b)},(a,b)=>(b-a)/6e4,a=>a.getUTCMinutes());u6.range;let u7=uH(a=>{a.setTime(a-a.getMilliseconds())},(a,b)=>{a.setTime(+a+1e3*b)},(a,b)=>(b-a)/1e3,a=>a.getUTCSeconds());u7.range;let u8=uH(()=>{},(a,b)=>{a.setTime(+a+b)},(a,b)=>b-a);function u9(a,b,c,d,e,f){let g=[[u7,1,1e3],[u7,5,5e3],[u7,15,15e3],[u7,30,3e4],[f,1,6e4],[f,5,3e5],[f,15,9e5],[f,30,18e5],[e,1,36e5],[e,3,108e5],[e,6,216e5],[e,12,432e5],[d,1,864e5],[d,2,1728e5],[c,1,6048e5],[b,1,2592e6],[b,3,7776e6],[a,1,31536e6]];function h(b,c,d){let e=Math.abs(c-b)/d,f=s7(([,,a])=>a).right(g,e);if(f===g.length)return a.every(s4(b/31536e6,c/31536e6,d));if(0===f)return u8.every(Math.max(s4(b,c,d),1));let[h,i]=g[e/g[f-1][2]<g[f][2]/e?f-1:f];return h.every(i)}return[function(a,b,c){let d=b<a;d&&([a,b]=[b,a]);let e=c&&"function"==typeof c.range?c:h(a,b,c),f=e?e.range(a,+b+1):[];return d?f.reverse():f},h]}u8.every=a=>isFinite(a=Math.floor(a))&&a>0?a>1?uH(b=>{b.setTime(Math.floor(b/a)*a)},(b,c)=>{b.setTime(+b+c*a)},(b,c)=>(c-b)/a):u8:null,u8.range;let[va,vb]=u9(uJ,uL,uV,u2,u4,u6),[vc,vd]=u9(uI,uK,uN,u0,u3,u5);function ve(a){if(0<=a.y&&a.y<100){var b=new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);return b.setFullYear(a.y),b}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}function vf(a){if(0<=a.y&&a.y<100){var b=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));return b.setUTCFullYear(a.y),b}return new Date(Date.UTC(a.y,a.m,a.d,a.H,a.M,a.S,a.L))}function vg(a,b,c){return{y:a,m:b,d:c,H:0,M:0,S:0,L:0}}var vh={"-":"",_:" ",0:"0"},vi=/^\s*\d+/,vj=/^%/,vk=/[\\^$*+?|[\]().{}]/g;function vl(a,b,c){var d=a<0?"-":"",e=(d?-a:a)+"",f=e.length;return d+(f<c?Array(c-f+1).join(b)+e:e)}function vm(a){return a.replace(vk,"\\$&")}function vn(a){return RegExp("^(?:"+a.map(vm).join("|")+")","i")}function vo(a){return new Map(a.map((a,b)=>[a.toLowerCase(),b]))}function vp(a,b,c){var d=vi.exec(b.slice(c,c+1));return d?(a.w=+d[0],c+d[0].length):-1}function vq(a,b,c){var d=vi.exec(b.slice(c,c+1));return d?(a.u=+d[0],c+d[0].length):-1}function vr(a,b,c){var d=vi.exec(b.slice(c,c+2));return d?(a.U=+d[0],c+d[0].length):-1}function vs(a,b,c){var d=vi.exec(b.slice(c,c+2));return d?(a.V=+d[0],c+d[0].length):-1}function vt(a,b,c){var d=vi.exec(b.slice(c,c+2));return d?(a.W=+d[0],c+d[0].length):-1}function vu(a,b,c){var d=vi.exec(b.slice(c,c+4));return d?(a.y=+d[0],c+d[0].length):-1}function vv(a,b,c){var d=vi.exec(b.slice(c,c+2));return d?(a.y=+d[0]+(+d[0]>68?1900:2e3),c+d[0].length):-1}function vw(a,b,c){var d=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(b.slice(c,c+6));return d?(a.Z=d[1]?0:-(d[2]+(d[3]||"00")),c+d[0].length):-1}function vx(a,b,c){var d=vi.exec(b.slice(c,c+1));return d?(a.q=3*d[0]-3,c+d[0].length):-1}function vy(a,b,c){var d=vi.exec(b.slice(c,c+2));return d?(a.m=d[0]-1,c+d[0].length):-1}function vz(a,b,c){var d=vi.exec(b.slice(c,c+2));return d?(a.d=+d[0],c+d[0].length):-1}function vA(a,b,c){var d=vi.exec(b.slice(c,c+3));return d?(a.m=0,a.d=+d[0],c+d[0].length):-1}function vB(a,b,c){var d=vi.exec(b.slice(c,c+2));return d?(a.H=+d[0],c+d[0].length):-1}function vC(a,b,c){var d=vi.exec(b.slice(c,c+2));return d?(a.M=+d[0],c+d[0].length):-1}function vD(a,b,c){var d=vi.exec(b.slice(c,c+2));return d?(a.S=+d[0],c+d[0].length):-1}function vE(a,b,c){var d=vi.exec(b.slice(c,c+3));return d?(a.L=+d[0],c+d[0].length):-1}function vF(a,b,c){var d=vi.exec(b.slice(c,c+6));return d?(a.L=Math.floor(d[0]/1e3),c+d[0].length):-1}function vG(a,b,c){var d=vj.exec(b.slice(c,c+1));return d?c+d[0].length:-1}function vH(a,b,c){var d=vi.exec(b.slice(c));return d?(a.Q=+d[0],c+d[0].length):-1}function vI(a,b,c){var d=vi.exec(b.slice(c));return d?(a.s=+d[0],c+d[0].length):-1}function vJ(a,b){return vl(a.getDate(),b,2)}function vK(a,b){return vl(a.getHours(),b,2)}function vL(a,b){return vl(a.getHours()%12||12,b,2)}function vM(a,b){return vl(1+u0.count(uI(a),a),b,3)}function vN(a,b){return vl(a.getMilliseconds(),b,3)}function vO(a,b){return vN(a,b)+"000"}function vP(a,b){return vl(a.getMonth()+1,b,2)}function vQ(a,b){return vl(a.getMinutes(),b,2)}function vR(a,b){return vl(a.getSeconds(),b,2)}function vS(a){var b=a.getDay();return 0===b?7:b}function vT(a,b){return vl(uN.count(uI(a)-1,a),b,2)}function vU(a){var b=a.getDay();return b>=4||0===b?uR(a):uR.ceil(a)}function vV(a,b){return a=vU(a),vl(uR.count(uI(a),a)+(4===uI(a).getDay()),b,2)}function vW(a){return a.getDay()}function vX(a,b){return vl(uO.count(uI(a)-1,a),b,2)}function vY(a,b){return vl(a.getFullYear()%100,b,2)}function vZ(a,b){return vl((a=vU(a)).getFullYear()%100,b,2)}function v$(a,b){return vl(a.getFullYear()%1e4,b,4)}function v_(a,b){var c=a.getDay();return vl((a=c>=4||0===c?uR(a):uR.ceil(a)).getFullYear()%1e4,b,4)}function v0(a){var b=a.getTimezoneOffset();return(b>0?"-":(b*=-1,"+"))+vl(b/60|0,"0",2)+vl(b%60,"0",2)}function v1(a,b){return vl(a.getUTCDate(),b,2)}function v2(a,b){return vl(a.getUTCHours(),b,2)}function v3(a,b){return vl(a.getUTCHours()%12||12,b,2)}function v4(a,b){return vl(1+u1.count(uJ(a),a),b,3)}function v5(a,b){return vl(a.getUTCMilliseconds(),b,3)}function v6(a,b){return v5(a,b)+"000"}function v7(a,b){return vl(a.getUTCMonth()+1,b,2)}function v8(a,b){return vl(a.getUTCMinutes(),b,2)}function v9(a,b){return vl(a.getUTCSeconds(),b,2)}function wa(a){var b=a.getUTCDay();return 0===b?7:b}function wb(a,b){return vl(uV.count(uJ(a)-1,a),b,2)}function wc(a){var b=a.getUTCDay();return b>=4||0===b?uZ(a):uZ.ceil(a)}function wd(a,b){return a=wc(a),vl(uZ.count(uJ(a),a)+(4===uJ(a).getUTCDay()),b,2)}function we(a){return a.getUTCDay()}function wf(a,b){return vl(uW.count(uJ(a)-1,a),b,2)}function wg(a,b){return vl(a.getUTCFullYear()%100,b,2)}function wh(a,b){return vl((a=wc(a)).getUTCFullYear()%100,b,2)}function wi(a,b){return vl(a.getUTCFullYear()%1e4,b,4)}function wj(a,b){var c=a.getUTCDay();return vl((a=c>=4||0===c?uZ(a):uZ.ceil(a)).getUTCFullYear()%1e4,b,4)}function wk(){return"+0000"}function wl(){return"%"}function wm(a){return+a}function wn(a){return Math.floor(a/1e3)}function wo(a){return new Date(a)}function wp(a){return a instanceof Date?+a:+new Date(+a)}function wq(a,b,c,d,e,f,g,h,i,j){var k=t$(),l=k.invert,m=k.domain,n=j(".%L"),o=j(":%S"),p=j("%I:%M"),q=j("%I %p"),r=j("%a %d"),s=j("%b %d"),t=j("%B"),u=j("%Y");function v(a){return(i(a)<a?n:h(a)<a?o:g(a)<a?p:f(a)<a?q:d(a)<a?e(a)<a?r:s:c(a)<a?t:u)(a)}return k.invert=function(a){return new Date(l(a))},k.domain=function(a){return arguments.length?m(Array.from(a,wp)):m().map(wo)},k.ticks=function(b){var c=m();return a(c[0],c[c.length-1],null==b?10:b)},k.tickFormat=function(a,b){return null==b?v:j(b)},k.nice=function(a){var c=m();return a&&"function"==typeof a.range||(a=b(c[0],c[c.length-1],null==a?10:a)),a?m(ud(c,a)):k},k.copy=function(){return tY(k,wq(a,b,c,d,e,f,g,h,i,j))},k}function wr(){return sR.apply(wq(vc,vd,uI,uK,uN,u0,u3,u5,u7,xe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ws(){return sR.apply(wq(va,vb,uJ,uL,uV,u1,u4,u6,u7,xf).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wt(){var a,b,c,d,e,f=0,g=1,h=tU,i=!1;function j(b){return null==b||isNaN(b*=1)?e:h(0===c?.5:(b=(d(b)-a)*c,i?Math.max(0,Math.min(1,b)):b))}function k(a){return function(b){var c,d;return arguments.length?([c,d]=b,h=a(c,d),j):[h(0),h(1)]}}return j.domain=function(e){return arguments.length?([f,g]=e,a=d(f*=1),b=d(g*=1),c=a===b?0:1/(b-a),j):[f,g]},j.clamp=function(a){return arguments.length?(i=!!a,j):i},j.interpolator=function(a){return arguments.length?(h=a,j):h},j.range=k(tQ),j.rangeRound=k(tR),j.unknown=function(a){return arguments.length?(e=a,j):e},function(e){return d=e,a=e(f),b=e(g),c=a===b?0:1/(b-a),j}}function wu(a,b){return b.domain(a.domain()).interpolator(a.interpolator()).clamp(a.clamp()).unknown(a.unknown())}function wv(){var a=ua(wt()(tU));return a.copy=function(){return wu(a,wv())},sS.apply(a,arguments)}function ww(){var a=uk(wt()).domain([1,10]);return a.copy=function(){return wu(a,ww()).base(a.base())},sS.apply(a,arguments)}function wx(){var a=uo(wt());return a.copy=function(){return wu(a,wx()).constant(a.constant())},sS.apply(a,arguments)}function wy(){var a=ut(wt());return a.copy=function(){return wu(a,wy()).exponent(a.exponent())},sS.apply(a,arguments)}function wz(){return wy.apply(null,arguments).exponent(.5)}function wA(){var a=[],b=tU;function c(c){if(null!=c&&!isNaN(c*=1))return b((tb(a,c,1)-1)/(a.length-1))}return c.domain=function(b){if(!arguments.length)return a.slice();for(let c of(a=[],b))null==c||isNaN(c*=1)||a.push(c);return a.sort(s5),c},c.interpolator=function(a){return arguments.length?(b=a,c):b},c.range=function(){return a.map((c,d)=>b(d/(a.length-1)))},c.quantiles=function(b){return Array.from({length:b+1},(c,d)=>(function(a,b,c){if(!(!(d=(a=Float64Array.from(function*(a,b){if(void 0===b)for(let b of a)null!=b&&(b*=1)>=b&&(yield b);else{let c=-1;for(let d of a)null!=(d=b(d,++c,a))&&(d*=1)>=d&&(yield d)}}(a,void 0))).length)||isNaN(b*=1))){if(b<=0||d<2)return uz(a);if(b>=1)return uy(a);var d,e=(d-1)*b,f=Math.floor(e),g=uy((function a(b,c,d=0,e=1/0,f){if(c=Math.floor(c),d=Math.floor(Math.max(0,d)),e=Math.floor(Math.min(b.length-1,e)),!(d<=c&&c<=e))return b;for(f=void 0===f?uA:function(a=s5){if(a===s5)return uA;if("function"!=typeof a)throw TypeError("compare is not a function");return(b,c)=>{let d=a(b,c);return d||0===d?d:(0===a(c,c))-(0===a(b,b))}}(f);e>d;){if(e-d>600){let g=e-d+1,h=c-d+1,i=Math.log(g),j=.5*Math.exp(2*i/3),k=.5*Math.sqrt(i*j*(g-j)/g)*(h-g/2<0?-1:1),l=Math.max(d,Math.floor(c-h*j/g+k)),m=Math.min(e,Math.floor(c+(g-h)*j/g+k));a(b,c,l,m,f)}let g=b[c],h=d,i=e;for(uB(b,d,c),f(b[e],g)>0&&uB(b,d,e);h<i;){for(uB(b,h,i),++h,--i;0>f(b[h],g);)++h;for(;f(b[i],g)>0;)--i}0===f(b[d],g)?uB(b,d,i):uB(b,++i,e),i<=c&&(d=i+1),c<=i&&(e=i-1)}return b})(a,f).subarray(0,f+1));return g+(uz(a.subarray(f+1))-g)*(e-f)}})(a,d/b))},c.copy=function(){return wA(b).domain(a)},sS.apply(c,arguments)}function wB(){var a,b,c,d,e,f,g,h=0,i=.5,j=1,k=1,l=tU,m=!1;function n(a){return isNaN(a*=1)?g:(a=.5+((a=+f(a))-b)*(k*a<k*b?d:e),l(m?Math.max(0,Math.min(1,a)):a))}function o(a){return function(b){var c,d,e;return arguments.length?([c,d,e]=b,l=function(a,b){void 0===b&&(b=a,a=tQ);for(var c=0,d=b.length-1,e=b[0],f=Array(d<0?0:d);c<d;)f[c]=a(e,e=b[++c]);return function(a){var b=Math.max(0,Math.min(d-1,Math.floor(a*=d)));return f[b](a-b)}}(a,[c,d,e]),n):[l(0),l(.5),l(1)]}}return n.domain=function(g){return arguments.length?([h,i,j]=g,a=f(h*=1),b=f(i*=1),c=f(j*=1),d=a===b?0:.5/(b-a),e=b===c?0:.5/(c-b),k=b<a?-1:1,n):[h,i,j]},n.clamp=function(a){return arguments.length?(m=!!a,n):m},n.interpolator=function(a){return arguments.length?(l=a,n):l},n.range=o(tQ),n.rangeRound=o(tR),n.unknown=function(a){return arguments.length?(g=a,n):g},function(g){return f=g,a=g(h),b=g(i),c=g(j),d=a===b?0:.5/(b-a),e=b===c?0:.5/(c-b),k=b<a?-1:1,n}}function wC(){var a=ua(wB()(tU));return a.copy=function(){return wu(a,wC())},sS.apply(a,arguments)}function wD(){var a=uk(wB()).domain([.1,1,10]);return a.copy=function(){return wu(a,wD()).base(a.base())},sS.apply(a,arguments)}function wE(){var a=uo(wB());return a.copy=function(){return wu(a,wE()).constant(a.constant())},sS.apply(a,arguments)}function wF(){var a=ut(wB());return a.copy=function(){return wu(a,wF()).exponent(a.exponent())},sS.apply(a,arguments)}function wG(){return wF.apply(null,arguments).exponent(.5)}xe=(xd=function(a){var b=a.dateTime,c=a.date,d=a.time,e=a.periods,f=a.days,g=a.shortDays,h=a.months,i=a.shortMonths,j=vn(e),k=vo(e),l=vn(f),m=vo(f),n=vn(g),o=vo(g),p=vn(h),q=vo(h),r=vn(i),s=vo(i),t={a:function(a){return g[a.getDay()]},A:function(a){return f[a.getDay()]},b:function(a){return i[a.getMonth()]},B:function(a){return h[a.getMonth()]},c:null,d:vJ,e:vJ,f:vO,g:vZ,G:v_,H:vK,I:vL,j:vM,L:vN,m:vP,M:vQ,p:function(a){return e[+(a.getHours()>=12)]},q:function(a){return 1+~~(a.getMonth()/3)},Q:wm,s:wn,S:vR,u:vS,U:vT,V:vV,w:vW,W:vX,x:null,X:null,y:vY,Y:v$,Z:v0,"%":wl},u={a:function(a){return g[a.getUTCDay()]},A:function(a){return f[a.getUTCDay()]},b:function(a){return i[a.getUTCMonth()]},B:function(a){return h[a.getUTCMonth()]},c:null,d:v1,e:v1,f:v6,g:wh,G:wj,H:v2,I:v3,j:v4,L:v5,m:v7,M:v8,p:function(a){return e[+(a.getUTCHours()>=12)]},q:function(a){return 1+~~(a.getUTCMonth()/3)},Q:wm,s:wn,S:v9,u:wa,U:wb,V:wd,w:we,W:wf,x:null,X:null,y:wg,Y:wi,Z:wk,"%":wl},v={a:function(a,b,c){var d=n.exec(b.slice(c));return d?(a.w=o.get(d[0].toLowerCase()),c+d[0].length):-1},A:function(a,b,c){var d=l.exec(b.slice(c));return d?(a.w=m.get(d[0].toLowerCase()),c+d[0].length):-1},b:function(a,b,c){var d=r.exec(b.slice(c));return d?(a.m=s.get(d[0].toLowerCase()),c+d[0].length):-1},B:function(a,b,c){var d=p.exec(b.slice(c));return d?(a.m=q.get(d[0].toLowerCase()),c+d[0].length):-1},c:function(a,c,d){return y(a,b,c,d)},d:vz,e:vz,f:vF,g:vv,G:vu,H:vB,I:vB,j:vA,L:vE,m:vy,M:vC,p:function(a,b,c){var d=j.exec(b.slice(c));return d?(a.p=k.get(d[0].toLowerCase()),c+d[0].length):-1},q:vx,Q:vH,s:vI,S:vD,u:vq,U:vr,V:vs,w:vp,W:vt,x:function(a,b,d){return y(a,c,b,d)},X:function(a,b,c){return y(a,d,b,c)},y:vv,Y:vu,Z:vw,"%":vG};function w(a,b){return function(c){var d,e,f,g=[],h=-1,i=0,j=a.length;for(c instanceof Date||(c=new Date(+c));++h<j;)37===a.charCodeAt(h)&&(g.push(a.slice(i,h)),null!=(e=vh[d=a.charAt(++h)])?d=a.charAt(++h):e="e"===d?" ":"0",(f=b[d])&&(d=f(c,e)),g.push(d),i=h+1);return g.push(a.slice(i,h)),g.join("")}}function x(a,b){return function(c){var d,e,f=vg(1900,void 0,1);if(y(f,a,c+="",0)!=c.length)return null;if("Q"in f)return new Date(f.Q);if("s"in f)return new Date(1e3*f.s+("L"in f?f.L:0));if(!b||"Z"in f||(f.Z=0),"p"in f&&(f.H=f.H%12+12*f.p),void 0===f.m&&(f.m="q"in f?f.q:0),"V"in f){if(f.V<1||f.V>53)return null;"w"in f||(f.w=1),"Z"in f?(d=(e=(d=vf(vg(f.y,0,1))).getUTCDay())>4||0===e?uW.ceil(d):uW(d),d=u1.offset(d,(f.V-1)*7),f.y=d.getUTCFullYear(),f.m=d.getUTCMonth(),f.d=d.getUTCDate()+(f.w+6)%7):(d=(e=(d=ve(vg(f.y,0,1))).getDay())>4||0===e?uO.ceil(d):uO(d),d=u0.offset(d,(f.V-1)*7),f.y=d.getFullYear(),f.m=d.getMonth(),f.d=d.getDate()+(f.w+6)%7)}else("W"in f||"U"in f)&&("w"in f||(f.w="u"in f?f.u%7:+("W"in f)),e="Z"in f?vf(vg(f.y,0,1)).getUTCDay():ve(vg(f.y,0,1)).getDay(),f.m=0,f.d="W"in f?(f.w+6)%7+7*f.W-(e+5)%7:f.w+7*f.U-(e+6)%7);return"Z"in f?(f.H+=f.Z/100|0,f.M+=f.Z%100,vf(f)):ve(f)}}function y(a,b,c,d){for(var e,f,g=0,h=b.length,i=c.length;g<h;){if(d>=i)return -1;if(37===(e=b.charCodeAt(g++))){if(!(f=v[(e=b.charAt(g++))in vh?b.charAt(g++):e])||(d=f(a,c,d))<0)return -1}else if(e!=c.charCodeAt(d++))return -1}return d}return t.x=w(c,t),t.X=w(d,t),t.c=w(b,t),u.x=w(c,u),u.X=w(d,u),u.c=w(b,u),{format:function(a){var b=w(a+="",t);return b.toString=function(){return a},b},parse:function(a){var b=x(a+="",!1);return b.toString=function(){return a},b},utcFormat:function(a){var b=w(a+="",u);return b.toString=function(){return a},b},utcParse:function(a){var b=x(a+="",!0);return b.toString=function(){return a},b}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})).format,xd.parse,xf=xd.utcFormat,xd.utcParse,a.s(["scaleBand",()=>sY,"scaleDiverging",()=>wC,"scaleDivergingLog",()=>wD,"scaleDivergingPow",()=>wF,"scaleDivergingSqrt",()=>wG,"scaleDivergingSymlog",()=>wE,"scaleIdentity",()=>uc,"scaleImplicit",0,sW,"scaleLinear",()=>ub,"scaleLog",()=>ul,"scaleOrdinal",()=>sX,"scalePoint",()=>sZ,"scalePow",()=>uu,"scaleQuantile",()=>uC,"scaleQuantize",()=>uD,"scaleRadial",()=>ux,"scaleSequential",()=>wv,"scaleSequentialLog",()=>ww,"scaleSequentialPow",()=>wy,"scaleSequentialQuantile",()=>wA,"scaleSequentialSqrt",()=>wz,"scaleSequentialSymlog",()=>wx,"scaleSqrt",()=>uv,"scaleSymlog",()=>up,"scaleThreshold",()=>uE,"scaleTime",()=>wr,"scaleUtc",()=>ws,"tickFormat",()=>t9],48117),a.i(48117),a.s(["scaleBand",()=>sY,"scaleDiverging",()=>wC,"scaleDivergingLog",()=>wD,"scaleDivergingPow",()=>wF,"scaleDivergingSqrt",()=>wG,"scaleDivergingSymlog",()=>wE,"scaleIdentity",()=>uc,"scaleImplicit",0,sW,"scaleLinear",()=>ub,"scaleLog",()=>ul,"scaleOrdinal",()=>sX,"scalePoint",()=>sZ,"scalePow",()=>uu,"scaleQuantile",()=>uC,"scaleQuantize",()=>uD,"scaleRadial",()=>ux,"scaleSequential",()=>wv,"scaleSequentialLog",()=>ww,"scaleSequentialPow",()=>wy,"scaleSequentialQuantile",()=>wA,"scaleSequentialSqrt",()=>wz,"scaleSequentialSymlog",()=>wx,"scaleSqrt",()=>uv,"scaleSymlog",()=>up,"scaleThreshold",()=>uE,"scaleTime",()=>wr,"scaleUtc",()=>ws,"tickFormat",()=>t9],62599);var wH=a.i(62599),wI=a=>a.chartData,wJ=qg([wI],a=>{var b=null!=a.chartData?a.chartData.length-1:0;return{chartData:a.chartData,computedData:a.computedData,dataEndIndex:b,dataStartIndex:0}}),wK=(a,b,c,d)=>d?wJ(a):wI(a);function wL(a){return Number.isFinite(a)}function wM(a){return"number"==typeof a&&a>0&&Number.isFinite(a)}function wN(a){if(Array.isArray(a)&&2===a.length){var[b,c]=a;if(wL(b)&&wL(c))return!0}return!1}function wO(a,b,c){return c?a:[Math.min(a[0],b[0]),Math.max(a[1],b[1])]}var wP,wQ,wR,wS,wT,wU,wV,wW,wX,wY,wZ,w$,w_,w0,w1,w2,w3,w4,w5,w6,w7,w8,w9,xa,xb,xc,xd,xe,xf,xg,xh,xi=!0,xj="[DecimalError] ",xk=xj+"Invalid argument: ",xl=xj+"Exponent out of range: ",xm=Math.floor,xn=Math.pow,xo=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xp=xm(1286742750677284.5),xq={};function xr(a,b){var c,d,e,f,g,h,i,j,k=a.constructor,l=k.precision;if(!a.s||!b.s)return b.s||(b=new k(a)),xi?xB(b,l):b;if(i=a.d,j=b.d,g=a.e,e=b.e,i=i.slice(),f=g-e){for(f<0?(d=i,f=-f,h=j.length):(d=j,e=g,h=i.length),f>(h=(g=Math.ceil(l/7))>h?g+1:h+1)&&(f=h,d.length=1),d.reverse();f--;)d.push(0);d.reverse()}for((h=i.length)-(f=j.length)<0&&(f=h,d=j,j=i,i=d),c=0;f;)c=(i[--f]=i[f]+j[f]+c)/1e7|0,i[f]%=1e7;for(c&&(i.unshift(c),++e),h=i.length;0==i[--h];)i.pop();return b.d=i,b.e=e,xi?xB(b,l):b}function xs(a,b,c){if(a!==~~a||a<b||a>c)throw Error(xk+a)}function xt(a){var b,c,d,e=a.length-1,f="",g=a[0];if(e>0){for(f+=g,b=1;b<e;b++)(c=7-(d=a[b]+"").length)&&(f+=xy(c)),f+=d;(c=7-(d=(g=a[b])+"").length)&&(f+=xy(c))}else if(0===g)return"0";for(;g%10==0;)g/=10;return f+g}xq.absoluteValue=xq.abs=function(){var a=new this.constructor(this);return a.s&&(a.s=1),a},xq.comparedTo=xq.cmp=function(a){var b,c,d,e;if(a=new this.constructor(a),this.s!==a.s)return this.s||-a.s;if(this.e!==a.e)return this.e>a.e^this.s<0?1:-1;for(b=0,c=(d=this.d.length)<(e=a.d.length)?d:e;b<c;++b)if(this.d[b]!==a.d[b])return this.d[b]>a.d[b]^this.s<0?1:-1;return d===e?0:d>e^this.s<0?1:-1},xq.decimalPlaces=xq.dp=function(){var a=this.d.length-1,b=(a-this.e)*7;if(a=this.d[a])for(;a%10==0;a/=10)b--;return b<0?0:b},xq.dividedBy=xq.div=function(a){return xu(this,new this.constructor(a))},xq.dividedToIntegerBy=xq.idiv=function(a){var b=this.constructor;return xB(xu(this,new b(a),0,1),b.precision)},xq.equals=xq.eq=function(a){return!this.cmp(a)},xq.exponent=function(){return xw(this)},xq.greaterThan=xq.gt=function(a){return this.cmp(a)>0},xq.greaterThanOrEqualTo=xq.gte=function(a){return this.cmp(a)>=0},xq.isInteger=xq.isint=function(){return this.e>this.d.length-2},xq.isNegative=xq.isneg=function(){return this.s<0},xq.isPositive=xq.ispos=function(){return this.s>0},xq.isZero=function(){return 0===this.s},xq.lessThan=xq.lt=function(a){return 0>this.cmp(a)},xq.lessThanOrEqualTo=xq.lte=function(a){return 1>this.cmp(a)},xq.logarithm=xq.log=function(a){var b,c=this.constructor,d=c.precision,e=d+5;if(void 0===a)a=new c(10);else if((a=new c(a)).s<1||a.eq(xh))throw Error(xj+"NaN");if(this.s<1)throw Error(xj+(this.s?"NaN":"-Infinity"));return this.eq(xh)?new c(0):(xi=!1,b=xu(xz(this,e),xz(a,e),e),xi=!0,xB(b,d))},xq.minus=xq.sub=function(a){return a=new this.constructor(a),this.s==a.s?xC(this,a):xr(this,(a.s=-a.s,a))},xq.modulo=xq.mod=function(a){var b,c=this.constructor,d=c.precision;if(!(a=new c(a)).s)throw Error(xj+"NaN");return this.s?(xi=!1,b=xu(this,a,0,1).times(a),xi=!0,this.minus(b)):xB(new c(this),d)},xq.naturalExponential=xq.exp=function(){return xv(this)},xq.naturalLogarithm=xq.ln=function(){return xz(this)},xq.negated=xq.neg=function(){var a=new this.constructor(this);return a.s=-a.s||0,a},xq.plus=xq.add=function(a){return a=new this.constructor(a),this.s==a.s?xr(this,a):xC(this,(a.s=-a.s,a))},xq.precision=xq.sd=function(a){var b,c,d;if(void 0!==a&&!!a!==a&&1!==a&&0!==a)throw Error(xk+a);if(b=xw(this)+1,c=7*(d=this.d.length-1)+1,d=this.d[d]){for(;d%10==0;d/=10)c--;for(d=this.d[0];d>=10;d/=10)c++}return a&&b>c?b:c},xq.squareRoot=xq.sqrt=function(){var a,b,c,d,e,f,g,h=this.constructor;if(this.s<1){if(!this.s)return new h(0);throw Error(xj+"NaN")}for(a=xw(this),xi=!1,0==(e=Math.sqrt(+this))||e==1/0?(((b=xt(this.d)).length+a)%2==0&&(b+="0"),e=Math.sqrt(b),a=xm((a+1)/2)-(a<0||a%2),d=new h(b=e==1/0?"5e"+a:(b=e.toExponential()).slice(0,b.indexOf("e")+1)+a)):d=new h(e.toString()),e=g=(c=h.precision)+3;;)if(d=(f=d).plus(xu(this,f,g+2)).times(.5),xt(f.d).slice(0,g)===(b=xt(d.d)).slice(0,g)){if(b=b.slice(g-3,g+1),e==g&&"4999"==b){if(xB(f,c+1,0),f.times(f).eq(this)){d=f;break}}else if("9999"!=b)break;g+=4}return xi=!0,xB(d,c)},xq.times=xq.mul=function(a){var b,c,d,e,f,g,h,i,j,k=this.constructor,l=this.d,m=(a=new k(a)).d;if(!this.s||!a.s)return new k(0);for(a.s*=this.s,c=this.e+a.e,(i=l.length)<(j=m.length)&&(f=l,l=m,m=f,g=i,i=j,j=g),f=[],d=g=i+j;d--;)f.push(0);for(d=j;--d>=0;){for(b=0,e=i+d;e>d;)h=f[e]+m[d]*l[e-d-1]+b,f[e--]=h%1e7|0,b=h/1e7|0;f[e]=(f[e]+b)%1e7|0}for(;!f[--g];)f.pop();return b?++c:f.shift(),a.d=f,a.e=c,xi?xB(a,k.precision):a},xq.toDecimalPlaces=xq.todp=function(a,b){var c=this,d=c.constructor;return(c=new d(c),void 0===a)?c:(xs(a,0,1e9),void 0===b?b=d.rounding:xs(b,0,8),xB(c,a+xw(c)+1,b))},xq.toExponential=function(a,b){var c,d=this,e=d.constructor;return void 0===a?c=xD(d,!0):(xs(a,0,1e9),void 0===b?b=e.rounding:xs(b,0,8),c=xD(d=xB(new e(d),a+1,b),!0,a+1)),c},xq.toFixed=function(a,b){var c,d,e=this.constructor;return void 0===a?xD(this):(xs(a,0,1e9),void 0===b?b=e.rounding:xs(b,0,8),c=xD((d=xB(new e(this),a+xw(this)+1,b)).abs(),!1,a+xw(d)+1),this.isneg()&&!this.isZero()?"-"+c:c)},xq.toInteger=xq.toint=function(){var a=this.constructor;return xB(new a(this),xw(this)+1,a.rounding)},xq.toNumber=function(){return+this},xq.toPower=xq.pow=function(a){var b,c,d,e,f,g,h=this,i=h.constructor,j=+(a=new i(a));if(!a.s)return new i(xh);if(!(h=new i(h)).s){if(a.s<1)throw Error(xj+"Infinity");return h}if(h.eq(xh))return h;if(d=i.precision,a.eq(xh))return xB(h,d);if(g=(b=a.e)>=(c=a.d.length-1),f=h.s,g){if((c=j<0?-j:j)<=0x1fffffffffffff){for(e=new i(xh),b=Math.ceil(d/7+4),xi=!1;c%2&&xE((e=e.times(h)).d,b),0!==(c=xm(c/2));)xE((h=h.times(h)).d,b);return xi=!0,a.s<0?new i(xh).div(e):xB(e,d)}}else if(f<0)throw Error(xj+"NaN");return f=f<0&&1&a.d[Math.max(b,c)]?-1:1,h.s=1,xi=!1,e=a.times(xz(h,d+12)),xi=!0,(e=xv(e)).s=f,e},xq.toPrecision=function(a,b){var c,d,e=this,f=e.constructor;return void 0===a?(c=xw(e),d=xD(e,c<=f.toExpNeg||c>=f.toExpPos)):(xs(a,1,1e9),void 0===b?b=f.rounding:xs(b,0,8),c=xw(e=xB(new f(e),a,b)),d=xD(e,a<=c||c<=f.toExpNeg,a)),d},xq.toSignificantDigits=xq.tosd=function(a,b){var c=this.constructor;return void 0===a?(a=c.precision,b=c.rounding):(xs(a,1,1e9),void 0===b?b=c.rounding:xs(b,0,8)),xB(new c(this),a,b)},xq.toString=xq.valueOf=xq.val=xq.toJSON=xq[Symbol.for("nodejs.util.inspect.custom")]=function(){var a=xw(this),b=this.constructor;return xD(this,a<=b.toExpNeg||a>=b.toExpPos)};var xu=function(){function a(a,b){var c,d=0,e=a.length;for(a=a.slice();e--;)c=a[e]*b+d,a[e]=c%1e7|0,d=c/1e7|0;return d&&a.unshift(d),a}function b(a,b,c,d){var e,f;if(c!=d)f=c>d?1:-1;else for(e=f=0;e<c;e++)if(a[e]!=b[e]){f=a[e]>b[e]?1:-1;break}return f}function c(a,b,c){for(var d=0;c--;)a[c]-=d,d=+(a[c]<b[c]),a[c]=1e7*d+a[c]-b[c];for(;!a[0]&&a.length>1;)a.shift()}return function(d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z=d.constructor,A=d.s==e.s?1:-1,B=d.d,C=e.d;if(!d.s)return new z(d);if(!e.s)throw Error(xj+"Division by zero");for(j=0,i=d.e-e.e,x=C.length,v=B.length,o=(n=new z(A)).d=[];C[j]==(B[j]||0);)++j;if(C[j]>(B[j]||0)&&--i,(s=null==f?f=z.precision:g?f+(xw(d)-xw(e))+1:f)<0)return new z(0);if(s=s/7+2|0,j=0,1==x)for(k=0,C=C[0],s++;(j<v||k)&&s--;j++)t=1e7*k+(B[j]||0),o[j]=t/C|0,k=t%C|0;else{for((k=1e7/(C[0]+1)|0)>1&&(C=a(C,k),B=a(B,k),x=C.length,v=B.length),u=x,q=(p=B.slice(0,x)).length;q<x;)p[q++]=0;(y=C.slice()).unshift(0),w=C[0],C[1]>=1e7/2&&++w;do k=0,(h=b(C,p,x,q))<0?(r=p[0],x!=q&&(r=1e7*r+(p[1]||0)),(k=r/w|0)>1?(k>=1e7&&(k=1e7-1),m=(l=a(C,k)).length,q=p.length,1==(h=b(l,p,m,q))&&(k--,c(l,x<m?y:C,m))):(0==k&&(h=k=1),l=C.slice()),(m=l.length)<q&&l.unshift(0),c(p,l,q),-1==h&&(q=p.length,(h=b(C,p,x,q))<1&&(k++,c(p,x<q?y:C,q))),q=p.length):0===h&&(k++,p=[0]),o[j++]=k,h&&p[0]?p[q++]=B[u]||0:(p=[B[u]],q=1);while((u++<v||void 0!==p[0])&&s--)}return o[0]||o.shift(),n.e=i,xB(n,g?f+xw(n)+1:f)}}();function xv(a,b){var c,d,e,f,g,h=0,i=0,j=a.constructor,k=j.precision;if(xw(a)>16)throw Error(xl+xw(a));if(!a.s)return new j(xh);for(null==b?(xi=!1,g=k):g=b,f=new j(.03125);a.abs().gte(.1);)a=a.times(f),i+=5;for(g+=Math.log(xn(2,i))/Math.LN10*2+5|0,c=d=e=new j(xh),j.precision=g;;){if(d=xB(d.times(a),g),c=c.times(++h),xt((f=e.plus(xu(d,c,g))).d).slice(0,g)===xt(e.d).slice(0,g)){for(;i--;)e=xB(e.times(e),g);return j.precision=k,null==b?(xi=!0,xB(e,k)):e}e=f}}function xw(a){for(var b=7*a.e,c=a.d[0];c>=10;c/=10)b++;return b}function xx(a,b,c){if(b>a.LN10.sd())throw xi=!0,c&&(a.precision=c),Error(xj+"LN10 precision limit exceeded");return xB(new a(a.LN10),b)}function xy(a){for(var b="";a--;)b+="0";return b}function xz(a,b){var c,d,e,f,g,h,i,j,k,l=1,m=a,n=m.d,o=m.constructor,p=o.precision;if(m.s<1)throw Error(xj+(m.s?"NaN":"-Infinity"));if(m.eq(xh))return new o(0);if(null==b?(xi=!1,j=p):j=b,m.eq(10))return null==b&&(xi=!0),xx(o,j);if(o.precision=j+=10,d=(c=xt(n)).charAt(0),!(15e14>Math.abs(f=xw(m))))return i=xx(o,j+2,p).times(f+""),m=xz(new o(d+"."+c.slice(1)),j-10).plus(i),o.precision=p,null==b?(xi=!0,xB(m,p)):m;for(;d<7&&1!=d||1==d&&c.charAt(1)>3;)d=(c=xt((m=m.times(a)).d)).charAt(0),l++;for(f=xw(m),d>1?(m=new o("0."+c),f++):m=new o(d+"."+c.slice(1)),h=g=m=xu(m.minus(xh),m.plus(xh),j),k=xB(m.times(m),j),e=3;;){if(g=xB(g.times(k),j),xt((i=h.plus(xu(g,new o(e),j))).d).slice(0,j)===xt(h.d).slice(0,j))return h=h.times(2),0!==f&&(h=h.plus(xx(o,j+2,p).times(f+""))),h=xu(h,new o(l),j),o.precision=p,null==b?(xi=!0,xB(h,p)):h;h=i,e+=2}}function xA(a,b){var c,d,e;for((c=b.indexOf("."))>-1&&(b=b.replace(".","")),(d=b.search(/e/i))>0?(c<0&&(c=d),c+=+b.slice(d+1),b=b.substring(0,d)):c<0&&(c=b.length),d=0;48===b.charCodeAt(d);)++d;for(e=b.length;48===b.charCodeAt(e-1);)--e;if(b=b.slice(d,e)){if(e-=d,a.e=xm((c=c-d-1)/7),a.d=[],d=(c+1)%7,c<0&&(d+=7),d<e){for(d&&a.d.push(+b.slice(0,d)),e-=7;d<e;)a.d.push(+b.slice(d,d+=7));d=7-(b=b.slice(d)).length}else d-=e;for(;d--;)b+="0";if(a.d.push(+b),xi&&(a.e>xp||a.e<-xp))throw Error(xl+c)}else a.s=0,a.e=0,a.d=[0];return a}function xB(a,b,c){var d,e,f,g,h,i,j,k,l=a.d;for(g=1,f=l[0];f>=10;f/=10)g++;if((d=b-g)<0)d+=7,e=b,j=l[k=0];else{if((k=Math.ceil((d+1)/7))>=(f=l.length))return a;for(g=1,j=f=l[k];f>=10;f/=10)g++;d%=7,e=d-7+g}if(void 0!==c&&(h=j/(f=xn(10,g-e-1))%10|0,i=b<0||void 0!==l[k+1]||j%f,i=c<4?(h||i)&&(0==c||c==(a.s<0?3:2)):h>5||5==h&&(4==c||i||6==c&&(d>0?e>0?j/xn(10,g-e):0:l[k-1])%10&1||c==(a.s<0?8:7))),b<1||!l[0])return i?(f=xw(a),l.length=1,b=b-f-1,l[0]=xn(10,(7-b%7)%7),a.e=xm(-b/7)||0):(l.length=1,l[0]=a.e=a.s=0),a;if(0==d?(l.length=k,f=1,k--):(l.length=k+1,f=xn(10,7-d),l[k]=e>0?(j/xn(10,g-e)%xn(10,e)|0)*f:0),i)for(;;)if(0==k){1e7==(l[0]+=f)&&(l[0]=1,++a.e);break}else{if(l[k]+=f,1e7!=l[k])break;l[k--]=0,f=1}for(d=l.length;0===l[--d];)l.pop();if(xi&&(a.e>xp||a.e<-xp))throw Error(xl+xw(a));return a}function xC(a,b){var c,d,e,f,g,h,i,j,k,l,m=a.constructor,n=m.precision;if(!a.s||!b.s)return b.s?b.s=-b.s:b=new m(a),xi?xB(b,n):b;if(i=a.d,l=b.d,d=b.e,j=a.e,i=i.slice(),g=j-d){for((k=g<0)?(c=i,g=-g,h=l.length):(c=l,d=j,h=i.length),g>(e=Math.max(Math.ceil(n/7),h)+2)&&(g=e,c.length=1),c.reverse(),e=g;e--;)c.push(0);c.reverse()}else{for((k=(e=i.length)<(h=l.length))&&(h=e),e=0;e<h;e++)if(i[e]!=l[e]){k=i[e]<l[e];break}g=0}for(k&&(c=i,i=l,l=c,b.s=-b.s),h=i.length,e=l.length-h;e>0;--e)i[h++]=0;for(e=l.length;e>g;){if(i[--e]<l[e]){for(f=e;f&&0===i[--f];)i[f]=1e7-1;--i[f],i[e]+=1e7}i[e]-=l[e]}for(;0===i[--h];)i.pop();for(;0===i[0];i.shift())--d;return i[0]?(b.d=i,b.e=d,xi?xB(b,n):b):new m(0)}function xD(a,b,c){var d,e=xw(a),f=xt(a.d),g=f.length;return b?(c&&(d=c-g)>0?f=f.charAt(0)+"."+f.slice(1)+xy(d):g>1&&(f=f.charAt(0)+"."+f.slice(1)),f=f+(e<0?"e":"e+")+e):e<0?(f="0."+xy(-e-1)+f,c&&(d=c-g)>0&&(f+=xy(d))):e>=g?(f+=xy(e+1-g),c&&(d=c-e-1)>0&&(f=f+"."+xy(d))):((d=e+1)<g&&(f=f.slice(0,d)+"."+f.slice(d)),c&&(d=c-g)>0&&(e+1===g&&(f+="."),f+=xy(d))),a.s<0?"-"+f:f}function xE(a,b){if(a.length>b)return a.length=b,!0}function xF(a){if(!a||"object"!=typeof a)throw Error(xj+"Object expected");var b,c,d,e=["precision",1,1e9,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(b=0;b<e.length;b+=3)if(void 0!==(d=a[c=e[b]]))if(xm(d)===d&&d>=e[b+1]&&d<=e[b+2])this[c]=d;else throw Error(xk+c+": "+d);if(void 0!==(d=a[c="LN10"]))if(d==Math.LN10)this[c]=new this(d);else throw Error(xk+c+": "+d);return this}var xg=function a(b){var c,d,e;function f(a){if(!(this instanceof f))return new f(a);if(this.constructor=f,a instanceof f){this.s=a.s,this.e=a.e,this.d=(a=a.d)?a.slice():a;return}if("number"==typeof a){if(0*a!=0)throw Error(xk+a);if(a>0)this.s=1;else if(a<0)a=-a,this.s=-1;else{this.s=0,this.e=0,this.d=[0];return}if(a===~~a&&a<1e7){this.e=0,this.d=[a];return}return xA(this,a.toString())}if("string"!=typeof a)throw Error(xk+a);if(45===a.charCodeAt(0)?(a=a.slice(1),this.s=-1):this.s=1,xo.test(a))xA(this,a);else throw Error(xk+a)}if(f.prototype=xq,f.ROUND_UP=0,f.ROUND_DOWN=1,f.ROUND_CEIL=2,f.ROUND_FLOOR=3,f.ROUND_HALF_UP=4,f.ROUND_HALF_DOWN=5,f.ROUND_HALF_EVEN=6,f.ROUND_HALF_CEIL=7,f.ROUND_HALF_FLOOR=8,f.clone=a,f.config=f.set=xF,void 0===b&&(b={}),b)for(c=0,e=["precision","rounding","toExpNeg","toExpPos","LN10"];c<e.length;)b.hasOwnProperty(d=e[c++])||(b[d]=this[d]);return f.config(b),f}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});xh=new xg(1);let xG=xg;var xH=a=>a,xI={},xJ=a=>function b(){let c;return 0==arguments.length||1==arguments.length&&(c=arguments.length<=0?void 0:arguments[0],c===xI)?b:a(...arguments)},xK=(a,b)=>1===a?b:xJ(function(){for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=d.filter(a=>a!==xI).length;return f>=a?b(...d):xK(a-f,xJ(function(){for(var a=arguments.length,c=Array(a),e=0;e<a;e++)c[e]=arguments[e];return b(...d.map(a=>a===xI?c.shift():a),...c)}))}),xL=(a,b)=>{for(var c=[],d=a;d<b;++d)c[d-a]=d;return c},xM=xK((d=(a,b)=>Array.isArray(b)?b.map(a):Object.keys(b).map(a=>b[a]).map(a)).length,d),xN=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];if(!b.length)return xH;var d=b.reverse(),e=d[0],f=d.slice(1);return function(){return f.reduce((a,b)=>b(a),e(...arguments))}},xO=a=>Array.isArray(a)?a.reverse():a.split("").reverse().join(""),xP=a=>{var b=null,c=null;return function(){for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return b&&e.every((a,c)=>{var d;return a===(null==(d=b)?void 0:d[c])})?c:(b=e,c=a(...e))}};function xQ(a){return 0===a?1:Math.floor(new xG(a).abs().log(10).toNumber())+1}function xR(a,b,c){for(var d=new xG(a),e=0,f=[];d.lt(b)&&e<1e5;)f.push(d.toNumber()),d=d.add(c),e++;return f}xK((e=(a,b,c)=>{var d=+a;return d+c*(b-d)}).length,e),xK((f=(a,b,c)=>{var d=b-a;return(c-a)/(d=d||1/0)}).length,f),xK((g=(a,b,c)=>{var d=b-a;return Math.max(0,Math.min(1,(c-a)/(d=d||1/0)))}).length,g);var xS=a=>{var[b,c]=a,[d,e]=[b,c];return b>c&&([d,e]=[c,b]),[d,e]},xT=(a,b,c)=>{if(a.lte(0))return new xG(0);var d=xQ(a.toNumber()),e=new xG(10).pow(d),f=a.div(e),g=1!==d?.05:.1,h=new xG(Math.ceil(f.div(g).toNumber())).add(c).mul(g).mul(e);return new xG(b?h.toNumber():Math.ceil(h.toNumber()))},xU=function(a,b,c,d){var e,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((b-a)/(c-1)))return{step:new xG(0),tickMin:new xG(0),tickMax:new xG(0)};var g=xT(new xG(b).sub(a).div(c-1),d,f),h=Math.ceil((e=a<=0&&b>=0?new xG(0):(e=new xG(a).add(b).div(2)).sub(new xG(e).mod(g))).sub(a).div(g).toNumber()),i=Math.ceil(new xG(b).sub(e).div(g).toNumber()),j=h+i+1;return j>c?xU(a,b,c,d,f+1):(j<c&&(i=b>0?i+(c-j):i,h=b>0?h:h+(c-j)),{step:g,tickMin:e.sub(new xG(h).mul(g)),tickMax:e.add(new xG(i).mul(g))})},xV=xP(function(a){var[b,c]=a,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,e=!(arguments.length>2)||void 0===arguments[2]||arguments[2],f=Math.max(d,2),[g,h]=xS([b,c]);if(g===-1/0||h===1/0){var i=h===1/0?[g,...xL(0,d-1).map(()=>1/0)]:[...xL(0,d-1).map(()=>-1/0),h];return b>c?xO(i):i}if(g===h){var j=new xG(1),k=new xG(g);if(!k.isint()&&e){var l=Math.abs(g);l<1?(j=new xG(10).pow(xQ(g)-1),k=new xG(Math.floor(k.div(j).toNumber())).mul(j)):l>1&&(k=new xG(Math.floor(g)))}else 0===g?k=new xG(Math.floor((d-1)/2)):e||(k=new xG(Math.floor(g)));var m=Math.floor((d-1)/2);return xN(xM(a=>k.add(new xG(a-m).mul(j)).toNumber()),xL)(0,d)}var{step:n,tickMin:o,tickMax:p}=xU(g,h,f,e,0),q=xR(o,p.add(new xG(.1).mul(n)),n);return b>c?xO(q):q}),xW=xP(function(a,b){var[c,d]=a,e=!(arguments.length>2)||void 0===arguments[2]||arguments[2],[f,g]=xS([c,d]);if(f===-1/0||g===1/0)return[c,d];if(f===g)return[f];var h=Math.max(b,2),i=xT(new xG(g).sub(f).div(h-1),e,0),j=[...xR(new xG(f),new xG(g),i),g];return!1===e&&(j=j.map(a=>Math.round(a))),c>d?xO(j):j}),xX=a=>a.rootProps.maxBarSize,xY=a=>a.rootProps.barCategoryGap,xZ=a=>a.rootProps.stackOffset,x$=a=>a.options.chartName,x_=a=>a.rootProps.syncId,x0=a=>a.rootProps.syncMethod,x1=a=>a.options.eventEmitter,x2="auto",x3="auto",x4=(a,b)=>{if(a&&b)return null!=a&&a.reversed?[b[1],b[0]]:b},x5={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:0,includeHidden:!1,name:void 0,reversed:!1,scale:x2,tick:!0,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},x6={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:0,includeHidden:!1,name:void 0,reversed:!1,scale:x3,tick:!0,tickCount:5,ticks:void 0,type:"number",unit:void 0},x7={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:0,includeHidden:!1,name:void 0,reversed:!1,scale:x2,tick:!0,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},x8={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:0,includeHidden:!1,name:void 0,reversed:!1,scale:x3,tick:!0,tickCount:5,ticks:void 0,type:"category",unit:void 0},x9=(a,b)=>null!=a.polarAxis.angleAxis[b]?a.polarAxis.angleAxis[b]:"radial"===a.layout.layoutType?x7:x5,ya=(a,b)=>null!=a.polarAxis.radiusAxis[b]?a.polarAxis.radiusAxis[b]:"radial"===a.layout.layoutType?x8:x6,yb=a=>a.polarOptions,yc=qg([su,sv,sE],sf),yd=qg([yb,yc],(a,b)=>{if(null!=a)return rf(a.innerRadius,b,0)}),ye=qg([yb,yc],(a,b)=>{if(null!=a)return rf(a.outerRadius,b,.8*b)}),yf=qg([yb],a=>{if(null==a)return[0,0];var{startAngle:b,endAngle:c}=a;return[b,c]});qg([x9,yf],x4);var yg=qg([yc,yd,ye],(a,b,c)=>{if(null!=a&&null!=b&&null!=c)return[b,c]});qg([ya,yg],x4);var yh=qg([sP,yb,yd,ye,su,sv],(a,b,c,d,e,f)=>{if(("centric"===a||"radial"===a)&&null!=b&&null!=c&&null!=d){var{cx:g,cy:h,startAngle:i,endAngle:j}=b;return{cx:rf(g,e,e/2),cy:rf(h,f,f/2),innerRadius:c,outerRadius:d,startAngle:i,endAngle:j,clockWise:!1}}}),yi=(a,b)=>b,yj=(a,b,c)=>c;function yk(a){return null==a?void 0:a.id}var yl=a=>{var b=sP(a);return"horizontal"===b?"xAxis":"vertical"===b?"yAxis":"centric"===b?"angleAxis":"radiusAxis"},ym=a=>a.tooltip.settings.axisId,yn=a=>{var b=yl(a),c=ym(a);return yA(a,b,c)};function yo(a,b,c){var{chartData:d=[]}=b,e=null==c?void 0:c.dataKey,f=new Map;return a.forEach(a=>{var b,c=null!=(b=a.data)?b:d;if(null!=c&&0!==c.length){var g=yk(a);c.forEach((b,c)=>{var d,h=null==e?c:String(sj(b,e,null)),i=sj(b,a.dataKey,0);Object.assign(d=f.has(h)?f.get(h):{},{[g]:i}),f.set(h,d)})}}),Array.from(f.values())}function yp(a){return null!=a.stackId&&null!=a.dataKey}function yq(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function yr(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?yq(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):yq(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var ys=[0,"auto"],yt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},yu=(a,b)=>{var c=a.cartesianAxis.xAxis[b];return null==c?yt:c},yv={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ys,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},yw=(a,b)=>{var c=a.cartesianAxis.yAxis[b];return null==c?yv:c},yx={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},yy=(a,b)=>{var c=a.cartesianAxis.zAxis[b];return null==c?yx:c},yz=(a,b,c)=>{switch(b){case"xAxis":return yu(a,c);case"yAxis":return yw(a,c);case"zAxis":return yy(a,c);case"angleAxis":return x9(a,c);case"radiusAxis":return ya(a,c);default:throw Error("Unexpected axis type: ".concat(b))}},yA=(a,b,c)=>{switch(b){case"xAxis":return yu(a,c);case"yAxis":return yw(a,c);case"angleAxis":return x9(a,c);case"radiusAxis":return ya(a,c);default:throw Error("Unexpected axis type: ".concat(b))}},yB=a=>a.graphicalItems.cartesianItems.some(a=>"bar"===a.type)||a.graphicalItems.polarItems.some(a=>"radialBar"===a.type);function yC(a,b){return c=>{switch(a){case"xAxis":return"xAxisId"in c&&c.xAxisId===b;case"yAxis":return"yAxisId"in c&&c.yAxisId===b;case"zAxis":return"zAxisId"in c&&c.zAxisId===b;case"angleAxis":return"angleAxisId"in c&&c.angleAxisId===b;case"radiusAxis":return"radiusAxisId"in c&&c.radiusAxisId===b;default:return!1}}}var yD=a=>a.graphicalItems.cartesianItems,yE=qg([yi,yj],yC),yF=(a,b,c)=>a.filter(c).filter(a=>(null==b?void 0:b.includeHidden)===!0||!a.hide),yG=qg([yD,yz,yE],yF),yH=qg([yG],a=>a.filter(a=>"area"===a.type||"bar"===a.type).filter(yp)),yI=a=>a.filter(a=>!("stackId"in a)||void 0===a.stackId),yJ=qg([yG],yI),yK=a=>a.map(a=>a.data).filter(Boolean).flat(1),yL=qg([yG],yK),yM=(a,b)=>{var{chartData:c=[],dataStartIndex:d,dataEndIndex:e}=b;return a.length>0?a:c.slice(d,e+1)},yN=qg([yL,wK],yM),yO=(a,b,c)=>(null==b?void 0:b.dataKey)!=null?a.map(a=>({value:sj(a,b.dataKey)})):c.length>0?c.map(a=>a.dataKey).flatMap(b=>a.map(a=>({value:sj(a,b)}))):a.map(a=>({value:a})),yP=qg([yN,yz,yG],yO);function yQ(a,b){switch(a){case"xAxis":return"x"===b.direction;case"yAxis":return"y"===b.direction;default:return!1}}function yR(a){return a.filter(a=>rc(a)||a instanceof Date).map(Number).filter(a=>!1===q9(a))}var yS=qg([yH,wK,yn],yo),yT=(a,b,c)=>Object.fromEntries(Object.entries(b.reduce((a,b)=>(null==b.stackId||(null==a[b.stackId]&&(a[b.stackId]=[]),a[b.stackId].push(b)),a),{})).map(b=>{var d,[e,f]=b,g=f.map(yk);return[e,{stackedData:(d=sn[c],(function(){var a=r6([]),b=r8,c=r7,d=r9;function e(e){var f,g,h=Array.from(a.apply(this,arguments),sa),i=h.length,j=-1;for(let a of e)for(f=0,++j;f<i;++f)(h[f][j]=[0,+d(a,h[f].key,j,e)]).data=a;for(f=0,g=r5(b(h));f<i;++f)h[g[f]].index=f;return c(h,g),h}return e.keys=function(b){return arguments.length?(a="function"==typeof b?b:r6(Array.from(b)),e):a},e.value=function(a){return arguments.length?(d="function"==typeof a?a:r6(+a),e):d},e.order=function(a){return arguments.length?(b=null==a?r8:"function"==typeof a?a:r6(Array.from(a)),e):b},e.offset=function(a){return arguments.length?(c=null==a?r7:a,e):c},e})().keys(g).value((a,b)=>+sj(a,b,0)).order(r8).offset(d)(a)),graphicalItems:f}]})),yU=qg([yS,yH,xZ],yT),yV=(a,b,c)=>{var{dataStartIndex:d,dataEndIndex:e}=b;if("zAxis"!==c){var f=((a,b,c)=>{if(null!=a){let d;return[(d=Object.keys(a).reduce((d,e)=>{var{stackedData:f}=a[e],g=f.reduce((a,d)=>{var e,f=[Math.min(...e=sg(d,b,c).flat(2).filter(rb)),Math.max(...e)];return[Math.min(a[0],f[0]),Math.max(a[1],f[1])]},[1/0,-1/0]);return[Math.min(g[0],d[0]),Math.max(g[1],d[1])]},[1/0,-1/0]))[0]===1/0?0:d[0],d[1]===-1/0?0:d[1]]}})(a,d,e);if(null==f||0!==f[0]||0!==f[1])return f}},yW=qg([yU,wI,yi],yV),yX=(a,b,c,d,e)=>c.length>0?a.flatMap(a=>c.flatMap(c=>{var f,g,h=null==(f=d[c.id])?void 0:f.filter(a=>yQ(e,a)),i=sj(a,null!=(g=b.dataKey)?g:c.dataKey);return{value:i,errorDomain:!(!h||"number"!=typeof i||q9(i))&&h.length?yR(h.flatMap(b=>{var c,d,e=sj(a,b.dataKey);if(Array.isArray(e)?[c,d]=e:c=d=e,wL(c)&&wL(d))return[i-c,i+d]})):[]}})).filter(Boolean):(null==b?void 0:b.dataKey)!=null?a.map(a=>({value:sj(a,b.dataKey),errorDomain:[]})):a.map(a=>({value:a,errorDomain:[]})),yY=a=>a.errorBars,yZ=(a,b,c)=>a.flatMap(a=>b[a.id]).filter(Boolean).filter(a=>yQ(c,a));qg([yJ,yY,yi],yZ);var y$=qg([yN,yz,yJ,yY,yi],yX);function y_(a){var{value:b}=a;if(rc(b)||b instanceof Date)return b}var y0=a=>{var b=yR(a.flatMap(a=>[a.value,a.errorDomain]).flat(1));if(0!==b.length)return[Math.min(...b),Math.max(...b)]},y1=a=>{var b;if(null==a||!("domain"in a))return ys;if(null!=a.domain)return a.domain;if(null!=a.ticks){if("number"===a.type){var c=yR(a.ticks);return[Math.min(...c),Math.max(...c)]}if("category"===a.type)return a.ticks.map(String)}return null!=(b=null==a?void 0:a.domain)?b:ys},y2=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=b.filter(Boolean);if(0!==d.length){var e=d.flat();return[Math.min(...e),Math.max(...e)]}},y3=a=>a.referenceElements.dots,y4=(a,b,c)=>a.filter(a=>"extendDomain"===a.ifOverflow).filter(a=>"xAxis"===b?a.xAxisId===c:a.yAxisId===c),y5=qg([y3,yi,yj],y4),y6=a=>a.referenceElements.areas,y7=qg([y6,yi,yj],y4),y8=a=>a.referenceElements.lines,y9=qg([y8,yi,yj],y4),za=(a,b)=>{var c=yR(a.map(a=>"xAxis"===b?a.x:a.y));if(0!==c.length)return[Math.min(...c),Math.max(...c)]},zb=qg(y5,yi,za),zc=(a,b)=>{var c=yR(a.flatMap(a=>["xAxis"===b?a.x1:a.y1,"xAxis"===b?a.x2:a.y2]));if(0!==c.length)return[Math.min(...c),Math.max(...c)]},zd=qg([y7,yi],zc),ze=(a,b)=>{var c=yR(a.map(a=>"xAxis"===b?a.x:a.y));if(0!==c.length)return[Math.min(...c),Math.max(...c)]},zf=qg(y9,yi,ze),zg=qg(zb,zf,zd,(a,b,c)=>y2(a,c,b)),zh=qg([yz],y1),zi=(a,b,c,d,e,f,g)=>{var h=function(a,b){if(b&&"function"!=typeof a&&Array.isArray(a)&&2===a.length){var c,d,[e,f]=a;if(wL(e))c=e;else if("function"==typeof e)return;if(wL(f))d=f;else if("function"==typeof f)return;var g=[c,d];if(wN(g))return g}}(b,a.allowDataOverflow);return null!=h?h:function(a,b,c){if(c||null!=b){if("function"==typeof a&&null!=b)try{var d=a(b,c);if(wN(d))return wO(d,b,c)}catch(a){}if(Array.isArray(a)&&2===a.length){var e,f,[g,h]=a;if("auto"===g)null!=b&&(e=Math.min(...b));else if(rb(g))e=g;else if("function"==typeof g)try{null!=b&&(e=g(null==b?void 0:b[0]))}catch(a){}else if("string"==typeof g&&sp.test(g)){var i=sp.exec(g);if(null==i||null==b)e=void 0;else{var j=+i[1];e=b[0]-j}}else e=null==b?void 0:b[0];if("auto"===h)null!=b&&(f=Math.max(...b));else if(rb(h))f=h;else if("function"==typeof h)try{null!=b&&(f=h(null==b?void 0:b[1]))}catch(a){}else if("string"==typeof h&&sq.test(h)){var k=sq.exec(h);if(null==k||null==b)f=void 0;else{var l=+k[1];f=b[1]+l}}else f=null==b?void 0:b[1];var m=[e,f];if(wN(m))return null==b?m:wO(m,b,c)}}}(b,"vertical"===f&&"xAxis"===g||"horizontal"===f&&"yAxis"===g?y2(c,e,y0(d)):y2(e,y0(d)),a.allowDataOverflow)},zj=qg([yz,zh,yW,y$,zg,sP,yi],zi),zk=[0,1],zl=(a,b,c,d,e,f,g)=>{if(null!=a&&null!=c&&0!==c.length||void 0!==g){var h,{dataKey:i,type:j}=a,k=sk(b,f);return k&&null==i?(0,sQ.default)(0,c.length):"category"===j?(h=d.map(y_).filter(a=>null!=a),k&&(null==a.dataKey||a.allowDuplicatedCategory&&rg(h))?(0,sQ.default)(0,d.length):a.allowDuplicatedCategory?h:Array.from(new Set(h))):"expand"===e?zk:g}},zm=qg([yz,sP,yN,yP,xZ,yi,zj],zl),zn=(a,b,c,d,e)=>{if(null!=a){var{scale:f,type:g}=a;if("auto"===f)return"radial"===b&&"radiusAxis"===e?"band":"radial"===b&&"angleAxis"===e?"linear":"category"===g&&d&&(d.indexOf("LineChart")>=0||d.indexOf("AreaChart")>=0||d.indexOf("ComposedChart")>=0&&!c)?"point":"category"===g?"band":"linear";if("string"==typeof f){var h="scale".concat(rj(f));return h in wH?h:"point"}}},zo=qg([yz,sP,yB,x$,yi],zn);function zp(a,b,c,d){if(null!=c&&null!=d){if("function"==typeof a.scale)return a.scale.copy().domain(c).range(d);var e=function(a){if(null!=a){if(a in wH)return wH[a]();var b="scale".concat(rj(a));if(b in wH)return wH[b]()}}(b);if(null!=e){var f=e.domain(c).range(d);return(a=>{var b=a.domain();if(b&&!(b.length<=2)){var c=b.length,d=a.range(),e=Math.min(d[0],d[1])-1e-4,f=Math.max(d[0],d[1])+1e-4,g=a(b[0]),h=a(b[c-1]);(g<e||g>f||h<e||h>f)&&a.domain([b[0],b[c-1]])}})(f),f}}}var zq=(a,b,c)=>{var d=y1(b);if("auto"===c||"linear"===c){if(null!=b&&b.tickCount&&Array.isArray(d)&&("auto"===d[0]||"auto"===d[1])&&wN(a))return xV(a,b.tickCount,b.allowDecimals);if(null!=b&&b.tickCount&&"number"===b.type&&wN(a))return xW(a,b.tickCount,b.allowDecimals)}},zr=qg([zm,yA,zo],zq),zs=(a,b,c,d)=>"angleAxis"!==d&&(null==a?void 0:a.type)==="number"&&wN(b)&&Array.isArray(c)&&c.length>0?[Math.min(b[0],c[0]),Math.max(b[1],c[c.length-1])]:b,zt=qg([yz,zm,zr,yi],zs),zu=qg(yP,yz,(a,b)=>{if(b&&"number"===b.type){var c=1/0,d=Array.from(yR(a.map(a=>a.value))).sort((a,b)=>a-b);if(d.length<2)return 1/0;var e=d[d.length-1]-d[0];if(0===e)return 1/0;for(var f=0;f<d.length-1;f++)c=Math.min(c,d[f+1]-d[f]);return c/e}}),zv=qg(zu,sP,xY,sE,(a,b,c,d)=>d,(a,b,c,d,e)=>{if(!wL(a))return 0;var f="vertical"===b?d.height:d.width;if("gap"===e)return a*f/2;if("no-gap"===e){var g=rf(c,a*f),h=a*f/2;return h-g-(h-g)/f*g}return 0}),zw=qg(yu,(a,b)=>{var c=yu(a,b);return null==c||"string"!=typeof c.padding?0:zv(a,"xAxis",b,c.padding)},(a,b)=>{if(null==a)return{left:0,right:0};var c,d,{padding:e}=a;return"string"==typeof e?{left:b,right:b}:{left:(null!=(c=e.left)?c:0)+b,right:(null!=(d=e.right)?d:0)+b}}),zx=qg(yw,(a,b)=>{var c=yw(a,b);return null==c||"string"!=typeof c.padding?0:zv(a,"yAxis",b,c.padding)},(a,b)=>{if(null==a)return{top:0,bottom:0};var c,d,{padding:e}=a;return"string"==typeof e?{top:b,bottom:b}:{top:(null!=(c=e.top)?c:0)+b,bottom:(null!=(d=e.bottom)?d:0)+b}}),zy=qg([sE,zw,sK,sJ,(a,b,c)=>c],(a,b,c,d,e)=>{var{padding:f}=d;return e?[f.left,c.width-f.right]:[a.left+b.left,a.left+a.width-b.right]}),zz=qg([sE,sP,zx,sK,sJ,(a,b,c)=>c],(a,b,c,d,e,f)=>{var{padding:g}=e;return f?[d.height-g.bottom,g.top]:"horizontal"===b?[a.top+a.height-c.bottom,a.top+c.top]:[a.top+c.top,a.top+a.height-c.bottom]}),zA=(a,b,c,d)=>{var e;switch(b){case"xAxis":return zy(a,c,d);case"yAxis":return zz(a,c,d);case"zAxis":return null==(e=yy(a,c))?void 0:e.range;case"angleAxis":return yf(a);case"radiusAxis":return yg(a,c);default:return}},zB=qg([yz,zA],x4),zC=qg([yz,zo,zt,zB],zp);function zD(a,b){return a.id<b.id?-1:+(a.id>b.id)}qg([yG,yY,yi],yZ);var zE=(a,b)=>b,zF=(a,b,c)=>c,zG=qg(sy,zE,zF,(a,b,c)=>a.filter(a=>a.orientation===b).filter(a=>a.mirror===c).sort(zD)),zH=qg(sz,zE,zF,(a,b,c)=>a.filter(a=>a.orientation===b).filter(a=>a.mirror===c).sort(zD)),zI=(a,b)=>({width:a.width,height:b.height}),zJ=qg(sE,yu,zI),zK=qg(sv,sE,zG,zE,zF,(a,b,c,d,e)=>{var f,g={};return c.forEach(c=>{var h=zI(b,c);null==f&&(f=((a,b,c)=>{switch(b){case"top":return a.top;case"bottom":return c-a.bottom;default:return 0}})(b,d,a));var i="top"===d&&!e||"bottom"===d&&e;g[c.id]=f-Number(i)*h.height,f+=(i?-1:1)*h.height}),g}),zL=qg(su,sE,zH,zE,zF,(a,b,c,d,e)=>{var f,g={};return c.forEach(c=>{var h={width:"number"==typeof c.width?c.width:60,height:b.height};null==f&&(f=((a,b,c)=>{switch(b){case"left":return a.left;case"right":return c-a.right;default:return 0}})(b,d,a));var i="left"===d&&!e||"right"===d&&e;g[c.id]=f-Number(i)*h.width,f+=(i?-1:1)*h.width}),g}),zM=qg(sE,yw,(a,b)=>({width:"number"==typeof b.width?b.width:60,height:a.height})),zN=(a,b,c)=>{switch(b){case"xAxis":return zJ(a,c).width;case"yAxis":return zM(a,c).height;default:return}},zO=(a,b,c,d)=>{if(null!=c){var{allowDuplicatedCategory:e,type:f,dataKey:g}=c,h=sk(a,d),i=b.map(a=>a.value);if(g&&h&&"category"===f&&e&&rg(i))return i}},zP=qg([sP,yP,yz,yi],zO),zQ=(a,b,c,d)=>{if(null!=c&&null!=c.dataKey){var{type:e,scale:f}=c;if(sk(a,d)&&("number"===e||"auto"!==f))return b.map(a=>a.value)}},zR=qg([sP,yP,yA,yi],zQ),zS=qg([sP,(a,b,c)=>{switch(b){case"xAxis":return yu(a,c);case"yAxis":return yw(a,c);default:throw Error("Unexpected axis type: ".concat(b))}},zo,zC,zP,zR,zA,zr,yi],(a,b,c,d,e,f,g,h,i)=>{if(null==b)return null;var j=sk(a,i);return{angle:b.angle,interval:b.interval,minTickGap:b.minTickGap,orientation:b.orientation,tick:b.tick,tickCount:b.tickCount,tickFormatter:b.tickFormatter,ticks:b.ticks,type:b.type,unit:b.unit,axisType:i,categoricalDomain:f,duplicateDomain:e,isCategorical:j,niceTicks:h,range:g,realScaleType:c,scale:d}}),zT=qg([sP,yA,zo,zC,zr,zA,zP,zR,yi],(a,b,c,d,e,f,g,h,i)=>{if(null!=b&&null!=d){var j=sk(a,i),{type:k,ticks:l,tickCount:m}=b,n="scaleBand"===c&&"function"==typeof d.bandwidth?d.bandwidth()/2:2,o="category"===k&&d.bandwidth?d.bandwidth()/n:0;o="angleAxis"===i&&null!=f&&f.length>=2?2*q8(f[0]-f[1])*o:o;var p=l||e;return p?p.map((a,b)=>({index:b,coordinate:d(g?g.indexOf(a):a)+o,value:a,offset:o})).filter(a=>!q9(a.coordinate)):j&&h?h.map((a,b)=>({coordinate:d(a)+o,value:a,index:b,offset:o})):d.ticks?d.ticks(m).map(a=>({coordinate:d(a)+o,value:a,offset:o})):d.domain().map((a,b)=>({coordinate:d(a)+o,value:g?g[a]:a,index:b,offset:o}))}}),zU=qg([sP,yA,zC,zA,zP,zR,yi],(a,b,c,d,e,f,g)=>{if(null!=b&&null!=c&&null!=d&&d[0]!==d[1]){var h=sk(a,g),{tickCount:i}=b,j=0;return(j="angleAxis"===g&&(null==d?void 0:d.length)>=2?2*q8(d[0]-d[1])*j:j,h&&f)?f.map((a,b)=>({coordinate:c(a)+j,value:a,index:b,offset:j})):c.ticks?c.ticks(i).map(a=>({coordinate:c(a)+j,value:a,offset:j})):c.domain().map((a,b)=>({coordinate:c(a)+j,value:e?e[a]:a,index:b,offset:j}))}}),zV=qg(yz,zC,(a,b)=>{if(null!=a&&null!=b)return yr(yr({},a),{},{scale:b})}),zW=qg([yz,zo,zm,zB],zp);qg((a,b,c)=>yy(a,c),zW,(a,b)=>{if(null!=a&&null!=b)return yr(yr({},a),{},{scale:b})});var zX=qg([sP,sy,sz],(a,b,c)=>{switch(a){case"horizontal":return b.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return c.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),zY=a=>a.options.defaultTooltipEventType,zZ=a=>a.options.validateTooltipEventTypes;function z$(a,b,c){if(null==a)return b;var d=a?"axis":"item";return null==c?b:c.includes(d)?d:b}function z_(a,b){return z$(b,zY(a),zZ(a))}var z0=(a,b)=>{var c,d=Number(b);if(!q9(d)&&null!=b)return d>=0?null==a||null==(c=a[d])?void 0:c.value:void 0};function z1(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function z2(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?z1(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):z1(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var z3=(a,b,c,d)=>{if(null==b)return rx;var e,f,g,h=(e=a,f=b,g=c,"axis"===f?"click"===g?e.axisInteraction.click:e.axisInteraction.hover:"click"===g?e.itemInteraction.click:e.itemInteraction.hover);if(null==h)return rx;if(h.active)return h;if(a.keyboardInteraction.active)return a.keyboardInteraction;if(a.syncInteraction.active&&null!=a.syncInteraction.index)return a.syncInteraction;var i=!0===a.settings.active;if(null!=h.index){if(i)return z2(z2({},h),{},{active:!0})}else if(null!=d)return{active:!0,coordinate:void 0,dataKey:void 0,index:d};return z2(z2({},rx),{},{coordinate:h.coordinate})},z4=(a,b)=>{var c=null==a?void 0:a.index;if(null==c)return null;var d=Number(c);if(!wL(d))return c;var e=Infinity;return b.length>0&&(e=b.length-1),String(Math.max(0,Math.min(d,e)))},z5=(a,b,c,d,e,f,g,h)=>{if(null!=f&&null!=h){var i=g[0],j=null==i?void 0:h(i.positions,f);if(null!=j)return j;var k=null==e?void 0:e[Number(f)];if(k)if("horizontal"===c)return{x:k.coordinate,y:(d.top+b)/2};else return{x:(d.left+a)/2,y:k.coordinate}}},z6=(a,b,c,d)=>{var e;return"axis"===b?a.tooltipItemPayloads:0===a.tooltipItemPayloads.length?[]:null==(e="hover"===c?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey)&&null!=d?[a.tooltipItemPayloads[0]]:a.tooltipItemPayloads.filter(a=>{var b;return(null==(b=a.settings)?void 0:b.dataKey)===e})},z7=a=>a.options.tooltipPayloadSearcher,z8=a=>a.tooltip;function z9(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function Aa(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?z9(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):z9(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var Ab=(a,b,c,d,e,f,g)=>{if(null!=b&&null!=f){var{chartData:h,computedData:i,dataStartIndex:j,dataEndIndex:k}=c;return a.reduce((a,c)=>{var l,m,n,{dataDefinedOnItem:o,settings:p}=c,q=null!=o?o:h,r=Array.isArray(q)?sg(q,j,k):q,s=null!=(l=null==p?void 0:p.dataKey)?l:null==d?void 0:d.dataKey,t=null==p?void 0:p.nameKey;return Array.isArray(m=null!=d&&d.dataKey&&Array.isArray(r)&&!Array.isArray(r[0])&&"axis"===g?function(a,b,c){if(a&&a.length)return a.find(a=>a&&("function"==typeof b?b(a):(0,q7.default)(a,b))===c)}(r,d.dataKey,e):f(r,b,i,t))?m.forEach(b=>{var c=Aa(Aa({},p),{},{name:b.name,unit:b.unit,color:void 0,fill:void 0});a.push(ss({tooltipEntrySettings:c,dataKey:b.dataKey,payload:b.payload,value:sj(b.payload,b.dataKey),name:b.name}))}):a.push(ss({tooltipEntrySettings:p,dataKey:s,payload:m,value:sj(m,s),name:null!=(n=sj(m,t))?n:null==p?void 0:p.name})),a},[])}},Ac=qg([yn,sP,yB,x$,yl],zn),Ad=qg([a=>a.graphicalItems.cartesianItems,a=>a.graphicalItems.polarItems],(a,b)=>[...a,...b]),Ae=qg([yl,ym],yC),Af=qg([Ad,yn,Ae],yF),Ag=qg([Af],a=>a.filter(yp)),Ah=qg([Af],yK),Ai=qg([Ah,wI],yM),Aj=qg([Ag,wI,yn],yo),Ak=qg([Ai,yn,Af],yO),Al=qg([yn],y1),Am=qg([Af],a=>a.filter(yp)),An=qg([Aj,Am,xZ],yT),Ao=qg([An,wI,yl],yV),Ap=qg([Af],yI),Aq=qg([Ai,yn,Ap,yY,yl],yX),Ar=qg([y3,yl,ym],y4),As=qg([Ar,yl],za),At=qg([y6,yl,ym],y4),Au=qg([At,yl],zc),Av=qg([y8,yl,ym],y4),Aw=qg([Av,yl],ze),Ax=qg([As,Aw,Au],y2),Ay=qg([yn,Al,Ao,Aq,Ax,sP,yl],zi),Az=qg([yn,sP,Ai,Ak,xZ,yl,Ay],zl),AA=qg([Az,yn,Ac],zq),AB=qg([yn,Az,AA,yl],zs),AC=a=>{var b=yl(a),c=ym(a);return zA(a,b,c,!1)},AD=qg([yn,AC],x4),AE=qg([yn,Ac,AB,AD],zp),AF=qg([sP,Ak,yn,yl],zO),AG=qg([sP,Ak,yn,yl],zQ),AH=qg([sP,yn,Ac,AE,AC,AF,AG,yl],(a,b,c,d,e,f,g,h)=>{if(b){var{type:i}=b,j=sk(a,h);if(d){var k="scaleBand"===c&&d.bandwidth?d.bandwidth()/2:2,l="category"===i&&d.bandwidth?d.bandwidth()/k:0;return(l="angleAxis"===h&&null!=e&&(null==e?void 0:e.length)>=2?2*q8(e[0]-e[1])*l:l,j&&g)?g.map((a,b)=>({coordinate:d(a)+l,value:a,index:b,offset:l})):d.domain().map((a,b)=>({coordinate:d(a)+l,value:f?f[a]:a,index:b,offset:l}))}}}),AI=qg([zY,zZ,a=>a.tooltip.settings],(a,b,c)=>z$(c.shared,a,b)),AJ=a=>a.tooltip.settings.trigger,AK=a=>a.tooltip.settings.defaultIndex,AL=qg([z8,AI,AJ,AK],z3),AM=qg([AL,Ai],z4),AN=qg([AH,AM],z0),AO=qg([AL],a=>{if(a)return a.dataKey}),AP=qg([z8,AI,AJ,AK],z6),AQ=qg([su,sv,sP,sE,AH,AK,AP,z7],z5),AR=qg([AL,AQ],(a,b)=>null!=a&&a.coordinate?a.coordinate:b),AS=qg([AL],a=>a.active),AT=qg([AP,AM,wI,yn,AN,z7,AI],Ab);qg([AT],a=>{if(null!=a)return Array.from(new Set(a.map(a=>a.payload).filter(a=>null!=a)))});var AU=(a,b)=>b,AV=(a,b,c)=>c,AW=(a,b,c,d)=>d,AX=qg(AH,a=>(0,r2.default)(a,a=>a.coordinate)),AY=qg([z8,AU,AV,AW],z3),AZ=qg([AY,Ai],z4),A$=qg([z8,AU,AV,AW],z6),A_=qg([su,sv,sP,sE,AH,AW,A$,z7],z5),A0=qg([AY,A_],(a,b)=>{var c;return null!=(c=a.coordinate)?c:b}),A1=qg(AH,AZ,z0),A2=qg([A$,AZ,wI,yn,A1,z7,AU],Ab),A3=qg([AY],a=>({isActive:a.active,activeIndex:a.index})),A4=qg([(a,b)=>b,sP,yh,yl,AD,AH,AX,sE],(a,b,c,d,e,f,g,h)=>{if(a&&b&&d&&e&&f){var i=(j=a.chartX,k=a.chartY,"horizontal"===b||"vertical"===b?j>=h.left&&j<=h.left+h.width&&k>=h.top&&k<=h.top+h.height?{x:j,y:k}:null:c?((a,b)=>{var c,{x:d,y:e}=a,{radius:f,angle:g}=((a,b)=>{var{x:c,y:d}=a,{cx:e,cy:f}=b,g=((a,b)=>{var{x:c,y:d}=a,{x:e,y:f}=b;return Math.sqrt((c-e)**2+(d-f)**2)})({x:c,y:d},{x:e,y:f});if(g<=0)return{radius:g,angle:0};var h=Math.acos((c-e)/g);return d>f&&(h=2*Math.PI-h),{radius:g,angle:180*h/Math.PI,angleInRadian:h}})({x:d,y:e},b),{innerRadius:h,outerRadius:i}=b;if(f<h||f>i||0===f)return null;var{startAngle:j,endAngle:k}=(a=>{var{startAngle:b,endAngle:c}=a,d=Math.min(Math.floor(b/360),Math.floor(c/360));return{startAngle:b-360*d,endAngle:c-360*d}})(b),l=g;if(j<=k){for(;l>k;)l-=360;for(;l<j;)l+=360;c=l>=j&&l<=k}else{for(;l>j;)l-=360;for(;l<k;)l+=360;c=l>=k&&l<=j}return c?sc(sc({},b),{},{radius:f,angle:((a,b)=>{var{startAngle:c,endAngle:d}=b;return a+360*Math.min(Math.floor(c/360),Math.floor(d/360))})(l,b)}):null})({x:j,y:k},c):null);if(i){var j,k,l=((a,b,c,d,e)=>{var f,g=-1,h=null!=(f=null==b?void 0:b.length)?f:0;if(h<=1||null==a)return 0;if("angleAxis"===d&&null!=e&&1e-6>=Math.abs(Math.abs(e[1]-e[0])-360))for(var i=0;i<h;i++){var j=i>0?c[i-1].coordinate:c[h-1].coordinate,k=c[i].coordinate,l=i>=h-1?c[0].coordinate:c[i+1].coordinate,m=void 0;if(q8(k-j)!==q8(l-k)){var n=[];if(q8(l-k)===q8(e[1]-e[0])){m=l;var o=k+e[1]-e[0];n[0]=Math.min(o,(o+j)/2),n[1]=Math.max(o,(o+j)/2)}else{m=j;var p=l+e[1]-e[0];n[0]=Math.min(k,(p+k)/2),n[1]=Math.max(k,(p+k)/2)}var q=[Math.min(k,(m+k)/2),Math.max(k,(m+k)/2)];if(a>q[0]&&a<=q[1]||a>=n[0]&&a<=n[1]){({index:g}=c[i]);break}}else{var r=Math.min(j,l),s=Math.max(j,l);if(a>(r+k)/2&&a<=(s+k)/2){({index:g}=c[i]);break}}}else if(b){for(var t=0;t<h;t++)if(0===t&&a<=(b[t].coordinate+b[t+1].coordinate)/2||t>0&&t<h-1&&a>(b[t].coordinate+b[t-1].coordinate)/2&&a<=(b[t].coordinate+b[t+1].coordinate)/2||t===h-1&&a>(b[t].coordinate+b[t-1].coordinate)/2){({index:g}=b[t]);break}}return g})("horizontal"===b?i.x:"vertical"===b?i.y:"centric"===b?i.angle:i.radius,g,f,d,e),m=((a,b,c,d)=>{var e=b.find(a=>a&&a.index===c);if(e){if("horizontal"===a)return{x:e.coordinate,y:d.y};if("vertical"===a)return{x:d.x,y:e.coordinate};if("centric"===a){var f=e.coordinate,{radius:g}=d;return si(si(si({},d),se(d.cx,d.cy,g,f)),{},{angle:f,radius:g})}var h=e.coordinate,{angle:i}=d;return si(si(si({},d),se(d.cx,d.cy,h,i)),{},{angle:i,radius:h})}return{x:0,y:0}})(b,f,l,i);return{activeIndex:String(l),activeCoordinate:m}}}}),A5=a=>{var b=a.currentTarget.getBoundingClientRect(),c=b.width/a.currentTarget.offsetWidth,d=b.height/a.currentTarget.offsetHeight;return{chartX:Math.round((a.clientX-b.left)/c),chartY:Math.round((a.clientY-b.top)/d)}},A6=qt("mouseClick"),A7=q5();A7.startListening({actionCreator:A6,effect:(a,b)=>{var c=a.payload,d=A4(b.getState(),A5(c));(null==d?void 0:d.activeIndex)!=null&&b.dispatch(rH({activeIndex:d.activeIndex,activeDataKey:void 0,activeCoordinate:d.activeCoordinate}))}});var A8=qt("mouseMove"),A9=q5();function Ba(a,b){return b instanceof HTMLElement?"HTMLElement <".concat(b.tagName,' class="').concat(b.className,'">'):b===window?"global.window":b}function Bb(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function Bc(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?Bb(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):Bb(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}A9.startListening({actionCreator:A8,effect:(a,b)=>{var c=a.payload,d=b.getState(),e=z_(d,d.tooltip.settings.shared),f=A4(d,A5(c));"axis"===e&&((null==f?void 0:f.activeIndex)!=null?b.dispatch(rG({activeIndex:f.activeIndex,activeDataKey:void 0,activeCoordinate:f.activeCoordinate})):b.dispatch(rE()))}});var Bd=qB({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis(a,b){a.xAxis[b.payload.id]=b.payload},removeXAxis(a,b){delete a.xAxis[b.payload.id]},addYAxis(a,b){a.yAxis[b.payload.id]=b.payload},removeYAxis(a,b){delete a.yAxis[b.payload.id]},addZAxis(a,b){a.zAxis[b.payload.id]=b.payload},removeZAxis(a,b){delete a.zAxis[b.payload.id]},updateYAxisWidth(a,b){var{id:c,width:d}=b.payload;a.yAxis[c]&&(a.yAxis[c]=Bc(Bc({},a.yAxis[c]),{},{width:d}))}}}),{addXAxis:Be,removeXAxis:Bf,addYAxis:Bg,removeYAxis:Bh,addZAxis:Bi,removeZAxis:Bj,updateYAxisWidth:Bk}=Bd.actions,Bl=Bd.reducer,Bm=qB({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem(a,b){a.cartesianItems.push(b.payload)},replaceCartesianGraphicalItem(a,b){var{prev:c,next:d}=b.payload,e=pY(a).cartesianItems.indexOf(c);e>-1&&(a.cartesianItems[e]=d)},removeCartesianGraphicalItem(a,b){var c=pY(a).cartesianItems.indexOf(b.payload);c>-1&&a.cartesianItems.splice(c,1)},addPolarGraphicalItem(a,b){a.polarItems.push(b.payload)},removePolarGraphicalItem(a,b){var c=pY(a).polarItems.indexOf(b.payload);c>-1&&a.polarItems.splice(c,1)}}}),{addCartesianGraphicalItem:Bn,replaceCartesianGraphicalItem:Bo,removeCartesianGraphicalItem:Bp,addPolarGraphicalItem:Bq,removePolarGraphicalItem:Br}=Bm.actions,Bs=Bm.reducer,Bt=qB({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(a,b)=>{a.dots.push(b.payload)},removeDot:(a,b)=>{var c=pY(a).dots.findIndex(a=>a===b.payload);-1!==c&&a.dots.splice(c,1)},addArea:(a,b)=>{a.areas.push(b.payload)},removeArea:(a,b)=>{var c=pY(a).areas.findIndex(a=>a===b.payload);-1!==c&&a.areas.splice(c,1)},addLine:(a,b)=>{a.lines.push(b.payload)},removeLine:(a,b)=>{var c=pY(a).lines.findIndex(a=>a===b.payload);-1!==c&&a.lines.splice(c,1)}}}),{addDot:Bu,removeDot:Bv,addArea:Bw,removeArea:Bx,addLine:By,removeLine:Bz}=Bt.actions,BA=Bt.reducer,BB={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},BC=qB({name:"brush",initialState:BB,reducers:{setBrushSettings:(a,b)=>null==b.payload?BB:b.payload}}),{setBrushSettings:BD}=BC.actions,BE=BC.reducer,BF=qB({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(a,b){a.size.width=b.payload.width,a.size.height=b.payload.height},setLegendSettings(a,b){a.settings.align=b.payload.align,a.settings.layout=b.payload.layout,a.settings.verticalAlign=b.payload.verticalAlign,a.settings.itemSorter=b.payload.itemSorter},addLegendPayload(a,b){a.payload.push(b.payload)},removeLegendPayload(a,b){var c=pY(a).payload.indexOf(b.payload);c>-1&&a.payload.splice(c,1)}}}),{setLegendSize:BG,setLegendSettings:BH,addLegendPayload:BI,removeLegendPayload:BJ}=BF.actions,BK=BF.reducer,BL={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},BM=qB({name:"rootProps",initialState:BL,reducers:{updateOptions:(a,b)=>{var c;a.accessibilityLayer=b.payload.accessibilityLayer,a.barCategoryGap=b.payload.barCategoryGap,a.barGap=null!=(c=b.payload.barGap)?c:BL.barGap,a.barSize=b.payload.barSize,a.maxBarSize=b.payload.maxBarSize,a.stackOffset=b.payload.stackOffset,a.syncId=b.payload.syncId,a.syncMethod=b.payload.syncMethod,a.className=b.payload.className}}}),BN=BM.reducer,{updateOptions:BO}=BM.actions,BP=qB({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(a,b){a.radiusAxis[b.payload.id]=b.payload},removeRadiusAxis(a,b){delete a.radiusAxis[b.payload.id]},addAngleAxis(a,b){a.angleAxis[b.payload.id]=b.payload},removeAngleAxis(a,b){delete a.angleAxis[b.payload.id]}}}),{addRadiusAxis:BQ,removeRadiusAxis:BR,addAngleAxis:BS,removeAngleAxis:BT}=BP.actions,BU=BP.reducer,BV=qB({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(a,b)=>b.payload}}),{updatePolarOptions:BW}=BV.actions,BX=BV.reducer,BY=qt("keyDown"),BZ=qt("focus"),B$=q5();B$.startListening({actionCreator:BY,effect:(a,b)=>{var c=b.getState();if(!1!==c.rootProps.accessibilityLayer){var{keyboardInteraction:d}=c.tooltip,e=a.payload;if("ArrowRight"===e||"ArrowLeft"===e||"Enter"===e){var f=Number(z4(d,Ai(c))),g=AH(c);if("Enter"===e){var h=A_(c,"axis","hover",String(d.index));b.dispatch(rJ({active:!d.active,activeIndex:d.index,activeDataKey:d.dataKey,activeCoordinate:h}));return}var i=f+("ArrowRight"===e?1:-1)*("left-to-right"===zX(c)?1:-1);if(null!=g&&!(i>=g.length)&&!(i<0)){var j=A_(c,"axis","hover",String(i));b.dispatch(rJ({active:!0,activeIndex:i.toString(),activeDataKey:void 0,activeCoordinate:j}))}}}}}),B$.startListening({actionCreator:BZ,effect:(a,b)=>{var c=b.getState();if(!1!==c.rootProps.accessibilityLayer){var{keyboardInteraction:d}=c.tooltip;if(!d.active&&null==d.index){var e=A_(c,"axis","hover",String("0"));b.dispatch(rJ({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:e}))}}}});var B_=qt("externalEvent"),B0=q5();B0.startListening({actionCreator:B_,effect:(a,b)=>{if(null!=a.payload.handler){var c=b.getState(),d={activeCoordinate:AR(c),activeDataKey:AO(c),activeIndex:AM(c),activeLabel:AN(c),activeTooltipIndex:AM(c),isTooltipActive:AS(c)};a.payload.handler(d,a.payload.reactEvent)}}});var B1=qg([z8],a=>a.tooltipItemPayloads),B2=qg([B1,z7,(a,b,c)=>b,(a,b,c)=>c],(a,b,c,d)=>{var e=a.find(a=>a.settings.dataKey===d);if(null!=e){var{positions:f}=e;if(null!=f)return b(f,c)}}),B3=qt("touchMove"),B4=q5();B4.startListening({actionCreator:B3,effect:(a,b)=>{var c=a.payload,d=b.getState(),e=z_(d,d.tooltip.settings.shared);if("axis"===e){var f=A4(d,A5({clientX:c.touches[0].clientX,clientY:c.touches[0].clientY,currentTarget:c.currentTarget}));(null==f?void 0:f.activeIndex)!=null&&b.dispatch(rG({activeIndex:f.activeIndex,activeDataKey:void 0,activeCoordinate:f.activeCoordinate}))}else if("item"===e){var g,h=c.touches[0],i=document.elementFromPoint(h.clientX,h.clientY);if(!i||!i.getAttribute)return;var j=i.getAttribute(sA),k=null!=(g=i.getAttribute(sB))?g:void 0,l=B2(b.getState(),j,k);b.dispatch(rC({activeDataKey:k,activeIndex:j,activeCoordinate:l}))}}});var B5=qB({name:"errorBars",initialState:{},reducers:{addErrorBar:(a,b)=>{var{itemId:c,errorBar:d}=b.payload;a[c]||(a[c]=[]),a[c].push(d)},removeErrorBar:(a,b)=>{var{itemId:c,errorBar:d}=b.payload;a[c]&&(a[c]=a[c].filter(a=>a.dataKey!==d.dataKey||a.direction!==d.direction))}}}),{addErrorBar:B6,removeErrorBar:B7}=B5.actions,B8=qn({brush:BE,cartesianAxis:Bl,chartData:rP,errorBars:B5.reducer,graphicalItems:Bs,layout:rV,legend:BK,options:rm,polarAxis:BU,polarOptions:BX,referenceElements:BA,rootProps:BN,tooltip:rK}),B9=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart";return function(a){let b,c,d,e=function(a){let{thunk:b=!0,immutableCheck:c=!0,serializableCheck:d=!0,actionCreatorCheck:e=!0}=a??{},f=new qu;return b&&("boolean"==typeof b?f.push(qr):f.push(qq(b.extraArgument))),f},{reducer:f,middleware:g,devTools:h=!0,duplicateMiddlewareCheck:i=!0,preloadedState:j,enhancers:k}=a||{};if("function"==typeof f)b=f;else if(qm(f))b=qn(f);else throw Error(q6(1));c="function"==typeof g?g(e):e();let l=qo;h&&(l=qs({trace:!1,..."object"==typeof h&&h}));let m=(d=function(...a){return b=>(c,d)=>{let e=b(c,d),f=()=>{throw Error(qi(15))},g={getState:e.getState,dispatch:(a,...b)=>f(a,...b)};return f=qo(...a.map(a=>a(g)))(e.dispatch),{...e,dispatch:f}}}(...c),function(a){let{autoBatch:b=!0}=a??{},c=new qu(d);return b&&c.push(((a={type:"raf"})=>b=>(...c)=>{let d=b(...c),e=!0,f=!1,g=!1,h=new Set,i="tick"===a.type?queueMicrotask:"raf"===a.type?qx(10):"callback"===a.type?a.queueNotification:qx(a.timeout),j=()=>{g=!1,f&&(f=!1,h.forEach(a=>a()))};return Object.assign({},d,{subscribe(a){let b=d.subscribe(()=>e&&a());return h.add(a),()=>{b(),h.delete(a)}},dispatch(a){try{return(f=!(e=!a?.meta?.RTK_autoBatch))&&!g&&(g=!0,i(j)),d.dispatch(a)}finally{e=!0}}})})("object"==typeof b?b:void 0)),c});return function a(b,c,d){if("function"!=typeof b)throw Error(qi(2));if("function"==typeof c&&"function"==typeof d||"function"==typeof d&&"function"==typeof arguments[3])throw Error(qi(0));if("function"==typeof c&&void 0===d&&(d=c,c=void 0),void 0!==d){if("function"!=typeof d)throw Error(qi(1));return d(a)(b,c)}let e=b,f=c,g=new Map,h=g,i=0,j=!1;function k(){h===g&&(h=new Map,g.forEach((a,b)=>{h.set(b,a)}))}function l(){if(j)throw Error(qi(3));return f}function m(a){if("function"!=typeof a)throw Error(qi(4));if(j)throw Error(qi(5));let b=!0;k();let c=i++;return h.set(c,a),function(){if(b){if(j)throw Error(qi(6));b=!1,k(),h.delete(c),g=null}}}function n(a){if(!qm(a))throw Error(qi(7));if(void 0===a.type)throw Error(qi(8));if("string"!=typeof a.type)throw Error(qi(17));if(j)throw Error(qi(9));try{j=!0,f=e(f,a)}finally{j=!1}return(g=h).forEach(a=>{a()}),a}return n({type:ql.INIT}),{dispatch:n,subscribe:m,getState:l,replaceReducer:function(a){if("function"!=typeof a)throw Error(qi(10));e=a,n({type:ql.REPLACE})},[qj]:function(){return{subscribe(a){if("object"!=typeof a||null===a)throw Error(qi(11));function b(){a.next&&a.next(l())}return b(),{unsubscribe:m(b)}},[qj](){return this}}}}}(b,j,l(..."function"==typeof k?k(m):m()))}({reducer:B8,preloadedState:a,middleware:a=>a({serializableCheck:!1}).concat([A7.middleware,A9.middleware,B$.middleware,B0.middleware,B4.middleware]),devTools:{serialize:{replacer:Ba},name:"recharts-".concat(b)}})};function Ca(a){var{preloadedState:b,children:c,reduxStoreName:d}=a,e=sI(),f=(0,m.useRef)(null);return e?c:(null==f.current&&(f.current=B9(b,d)),m.createElement(ru,{context:rX,store:f.current},c))}var Cb=a=>{var{chartData:b}=a,c=rZ(),d=sI();return(0,m.useEffect)(()=>d?()=>{}:(c(rM(b)),()=>{c(rM(void 0))}),[b,c,d]),null};function Cc(a){var{layout:b,width:c,height:d,margin:e}=a,f=rZ(),g=sI();return(0,m.useEffect)(()=>{g||(f(rS(b)),f(rT({width:c,height:d})),f(rR(e)))},[f,g,b,c,d,e]),null}function Cd(a){var b=rZ();return(0,m.useEffect)(()=>{b(BO(a))},[b,a]),null}var Ce=()=>r1(a=>a.rootProps.accessibilityLayer),Cf=a.i(66539),Cg=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Ch(a){return"string"==typeof a&&Cg.includes(a)}var Ci=["points","pathLength"],Cj={svg:["viewBox","children"],polygon:Ci,polyline:Ci},Ck=(a,b,c)=>{if(null===a||"object"!=typeof a&&"function"!=typeof a)return null;var d=null;return Object.keys(a).forEach(e=>{var f=a[e];Ch(e)&&"function"==typeof f&&(d||(d={}),d[e]=a=>(f(b,c,a),null))}),d},Cl=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function Cm(a){return"string"==typeof a&&Cl.includes(a)}function Cn(a){return Object.fromEntries(Object.entries(a).filter(a=>{var[b]=a;return Cm(b)}))}var Co=a=>"string"==typeof a?a:a?a.displayName||a.name||"Component":"",Cp=null,Cq=null,Cr=a=>{if(a===Cp&&Array.isArray(Cq))return Cq;var b=[];return m.Children.forEach(a,a=>{null!=a&&((0,Cf.isFragment)(a)?b=b.concat(Cr(a.props.children)):b.push(a))}),Cq=b,Cp=a,b};function Cs(a,b){var c=[],d=[];return d=Array.isArray(b)?b.map(a=>Co(a)):[Co(b)],Cr(a).forEach(a=>{var b=(0,q7.default)(a,"type.displayName")||(0,q7.default)(a,"type.name");-1!==d.indexOf(b)&&c.push(a)}),c}var Ct=(a,b,c)=>{if(!a||"function"==typeof a||"boolean"==typeof a)return null;var d=a;if((0,m.isValidElement)(a)&&(d=a.props),"object"!=typeof d&&"function"!=typeof d)return null;var e={};return Object.keys(d).forEach(a=>{var f;((a,b,c,d)=>{if("symbol"==typeof b||"number"==typeof b)return!0;var e,f=null!=(e=d&&(null==Cj?void 0:Cj[d]))?e:[],g=b.startsWith("data-"),h="function"!=typeof a&&(!!d&&f.includes(b)||Cm(b)),i=!!c&&Ch(b);return g||h||i})(null==(f=d)?void 0:f[a],a,b,c)&&(e[a]=d[a])}),e},Cu=["children","width","height","viewBox","className","style","title","desc"];function Cv(){return(Cv=Object.assign.bind()).apply(null,arguments)}var Cw=(0,m.forwardRef)((a,b)=>{var{children:c,width:d,height:e,viewBox:f,className:g,style:h,title:i,desc:j}=a,k=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,Cu),l=f||{width:d,height:e,x:0,y:0},n=_("recharts-surface",g);return m.createElement("svg",Cv({},Ct(k,!0,"svg"),{className:n,width:d,height:e,style:h,viewBox:"".concat(l.x," ").concat(l.y," ").concat(l.width," ").concat(l.height),ref:b}),m.createElement("title",null,i),m.createElement("desc",null,j),c)}),Cx=["children"];function Cy(){return(Cy=Object.assign.bind()).apply(null,arguments)}var Cz={width:"100%",height:"100%"},CA=(0,m.forwardRef)((a,b)=>{var c,d,e=r1(su),f=r1(sv),g=Ce();if(!wM(e)||!wM(f))return null;var{children:h,otherAttributes:i,title:j,desc:k}=a;return c="number"==typeof i.tabIndex?i.tabIndex:g?0:void 0,d="string"==typeof i.role?i.role:g?"application":void 0,m.createElement(Cw,Cy({},i,{title:j,desc:k,role:d,tabIndex:c,width:e,height:f,style:Cz,ref:b}),h)}),CB=a=>{var{children:b}=a,c=r1(sK);if(!c)return null;var{width:d,height:e,y:f,x:g}=c;return m.createElement(Cw,{width:d,height:e,x:g,y:f},b)},CC=(0,m.forwardRef)((a,b)=>{var{children:c}=a,d=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,Cx);return sI()?m.createElement(CB,null,c):m.createElement(CA,Cy({ref:b},d),c)}),CD=new(a.i(53686)).default,CE="recharts.syncEvent.tooltip",CF="recharts.syncEvent.brush";function CG(a){return a.tooltip.syncInteraction}var CH=()=>{},CI=(0,m.createContext)(null),CJ=(0,m.createContext)(null);function CK(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}var CL=(0,m.forwardRef)((a,b)=>{var c,d,e,f,g,h,i,j,k,l,n,o,{children:p,className:q,height:r,onClick:s,onContextMenu:t,onDoubleClick:u,onMouseDown:v,onMouseEnter:w,onMouseLeave:x,onMouseMove:y,onMouseUp:z,onTouchEnd:A,onTouchMove:B,onTouchStart:C,style:D,width:E}=a,F=rZ(),[G,H]=(0,m.useState)(null),[I,J]=(0,m.useState)(null);c=rZ(),(0,m.useEffect)(()=>{c(rn())},[c]),d=r1(x_),e=r1(x1),f=rZ(),g=r1(x0),h=r1(AH),i=r1(sP),j=sL(),k=r1(a=>a.rootProps.className),(0,m.useEffect)(()=>{if(null==d)return CH;var a=(a,b,c)=>{if(e!==c&&d===a){if("index"===g)return void f(b);if(null!=h){if("function"==typeof g){var k,l=g(h,{activeTooltipIndex:null==b.payload.index?void 0:Number(b.payload.index),isTooltipActive:b.payload.active,activeIndex:null==b.payload.index?void 0:Number(b.payload.index),activeLabel:b.payload.label,activeDataKey:b.payload.dataKey,activeCoordinate:b.payload.coordinate});k=h[l]}else"value"===g&&(k=h.find(a=>String(a.value)===b.payload.label));var{coordinate:m}=b.payload;if(null==k||!1===b.payload.active||null==m||null==j)return void f(rI({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));var{x:n,y:o}=m,p=Math.min(n,j.x+j.width),q=Math.min(o,j.y+j.height),r={x:"horizontal"===i?k.coordinate:p,y:"horizontal"===i?q:k.coordinate};f(rI({active:b.payload.active,coordinate:r,dataKey:b.payload.dataKey,index:String(k.index),label:b.payload.label}))}}};return CD.on(CE,a),()=>{CD.off(CE,a)}},[k,f,e,d,g,h,i,j]),l=r1(x_),n=r1(x1),o=rZ(),(0,m.useEffect)(()=>{if(null==l)return CH;var a=(a,b,c)=>{n!==c&&l===a&&o(rN(b))};return CD.on(CF,a),()=>{CD.off(CF,a)}},[o,n,l]);var K=function(){var a=rZ(),[b,c]=(0,m.useState)(null),d=r1(sw);return(0,m.useEffect)(()=>{if(null!=b){var c=b.getBoundingClientRect().width/b.offsetWidth;wL(c)&&c!==d&&a(rU(c))}},[b,a,d]),c}(),L=(0,m.useCallback)(a=>{K(a),"function"==typeof b&&b(a),H(a),J(a)},[K,b,H,J]),M=(0,m.useCallback)(a=>{F(A6(a)),F(B_({handler:s,reactEvent:a}))},[F,s]),N=(0,m.useCallback)(a=>{F(A8(a)),F(B_({handler:w,reactEvent:a}))},[F,w]),O=(0,m.useCallback)(a=>{F(rE()),F(B_({handler:x,reactEvent:a}))},[F,x]),P=(0,m.useCallback)(a=>{F(A8(a)),F(B_({handler:y,reactEvent:a}))},[F,y]),Q=(0,m.useCallback)(()=>{F(BZ())},[F]),R=(0,m.useCallback)(a=>{F(BY(a.key))},[F]),S=(0,m.useCallback)(a=>{F(B_({handler:t,reactEvent:a}))},[F,t]),T=(0,m.useCallback)(a=>{F(B_({handler:u,reactEvent:a}))},[F,u]),U=(0,m.useCallback)(a=>{F(B_({handler:v,reactEvent:a}))},[F,v]),V=(0,m.useCallback)(a=>{F(B_({handler:z,reactEvent:a}))},[F,z]),W=(0,m.useCallback)(a=>{F(B_({handler:C,reactEvent:a}))},[F,C]),X=(0,m.useCallback)(a=>{F(B3(a)),F(B_({handler:B,reactEvent:a}))},[F,B]),Y=(0,m.useCallback)(a=>{F(B_({handler:A,reactEvent:a}))},[F,A]);return m.createElement(CI.Provider,{value:G},m.createElement(CJ.Provider,{value:I},m.createElement("div",{className:_("recharts-wrapper",q),style:function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?CK(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):CK(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({position:"relative",cursor:"default",width:E,height:r},D),onClick:M,onContextMenu:S,onDoubleClick:T,onFocus:Q,onKeyDown:R,onMouseDown:U,onMouseEnter:N,onMouseLeave:O,onMouseMove:P,onMouseUp:V,onTouchEnd:Y,onTouchMove:X,onTouchStart:W,ref:L},p)))}),CM=qg([sE],a=>{if(a)return{top:a.top,bottom:a.bottom,left:a.left,right:a.right}}),CN=qg([CM,su,sv],(a,b,c)=>{if(a&&null!=b&&null!=c)return{x:a.left,y:a.top,width:Math.max(0,b-a.left-a.right),height:Math.max(0,c-a.top-a.bottom)}}),CO=(0,m.createContext)(void 0),CP=a=>{var{children:b}=a,[c]=(0,m.useState)("".concat(re("recharts"),"-clip")),d=r1(CN);if(null==d)return null;var{x:e,y:f,width:g,height:h}=d;return m.createElement(CO.Provider,{value:c},m.createElement("defs",null,m.createElement("clipPath",{id:c},m.createElement("rect",{x:e,y:f,height:h,width:g}))),b)},CQ=["children","className","width","height","style","compact","title","desc"],CR=(0,m.forwardRef)((a,b)=>{var{children:c,className:d,width:e,height:f,style:g,compact:h,title:i,desc:j}=a,k=Cn(function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,CQ));return h?m.createElement(CC,{otherAttributes:k,title:i,desc:j},c):m.createElement(CL,{className:d,style:g,width:e,height:f,onClick:a.onClick,onMouseLeave:a.onMouseLeave,onMouseEnter:a.onMouseEnter,onMouseMove:a.onMouseMove,onMouseDown:a.onMouseDown,onMouseUp:a.onMouseUp,onContextMenu:a.onContextMenu,onDoubleClick:a.onDoubleClick,onTouchStart:a.onTouchStart,onTouchMove:a.onTouchMove,onTouchEnd:a.onTouchEnd},m.createElement(CC,{otherAttributes:k,title:i,desc:j,ref:b},m.createElement(CP,null,c)))});function CS(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function CT(a,b){var c=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?CS(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):CS(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({},a);return Object.keys(b).reduce((a,c)=>(void 0===a[c]&&void 0!==b[c]&&(a[c]=b[c]),a),c)}var CU=["width","height"];function CV(){return(CV=Object.assign.bind()).apply(null,arguments)}var CW={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},CX=(0,m.forwardRef)(function(a,b){var c,d=CT(a.categoricalChartProps,CW),{width:e,height:f}=d,g=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(d,CU);if(!wM(e)||!wM(f))return null;var{chartName:h,defaultTooltipEventType:i,validateTooltipEventTypes:j,tooltipPayloadSearcher:k,categoricalChartProps:l}=a;return m.createElement(Ca,{preloadedState:{options:{chartName:h,defaultTooltipEventType:i,validateTooltipEventTypes:j,tooltipPayloadSearcher:k,eventEmitter:void 0}},reduxStoreName:null!=(c=l.id)?c:h},m.createElement(Cb,{chartData:l.data}),m.createElement(Cc,{width:e,height:f,layout:d.layout,margin:d.margin}),m.createElement(Cd,{accessibilityLayer:d.accessibilityLayer,barCategoryGap:d.barCategoryGap,maxBarSize:d.maxBarSize,stackOffset:d.stackOffset,barGap:d.barGap,barSize:d.barSize,syncId:d.syncId,syncMethod:d.syncMethod,className:d.className}),m.createElement(CR,CV({},g,{width:e,height:f,ref:b})))}),CY=["axis","item"],CZ=(0,m.forwardRef)((a,b)=>m.createElement(CX,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:CY,tooltipPayloadSearcher:rk,categoricalChartProps:a,ref:b})),C$=m,C_=["children","className"];function C0(){return(C0=Object.assign.bind()).apply(null,arguments)}var C1=m.forwardRef((a,b)=>{var{children:c,className:d}=a,e=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,C_),f=_("recharts-layer",d);return m.createElement("g",C0({className:f},Ct(e,!0),{ref:b}),c)}),C2=a=>null;C2.displayName="Cell";var C3=a.i(78375),C4=!0;function C5(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}var C6=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?C5(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):C5(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({},{cacheSize:2e3,enableCache:!0}),C7=new class{constructor(a){!function(a,b,c){var d;(b="symbol"==typeof(d=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"))?d:d+"")in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c}(this,"cache",new Map),this.maxSize=a}get(a){var b=this.cache.get(a);return void 0!==b&&(this.cache.delete(a),this.cache.set(a,b)),b}set(a,b){if(this.cache.has(a))this.cache.delete(a);else if(this.cache.size>=this.maxSize){var c=this.cache.keys().next().value;this.cache.delete(c)}this.cache.set(a,b)}clear(){this.cache.clear()}size(){return this.cache.size}}(C6.cacheSize),C8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},C9="recharts_measurement_span",Da=(a,b)=>{try{var c=document.getElementById(C9);c||((c=document.createElement("span")).setAttribute("id",C9),c.setAttribute("aria-hidden","true"),document.body.appendChild(c)),Object.assign(c.style,C8,b),c.textContent="".concat(a);var d=c.getBoundingClientRect();return{width:d.width,height:d.height}}catch(a){return{width:0,height:0}}},Db=function(a){var b,c,d,e,f,g,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==a||C4)return{width:0,height:0};if(!C6.enableCache)return Da(a,h);var i=(b=h.fontSize||"",c=h.fontFamily||"",d=h.fontWeight||"",e=h.fontStyle||"",f=h.letterSpacing||"",g=h.textTransform||"","".concat(a,"|").concat(b,"|").concat(c,"|").concat(d,"|").concat(e,"|").concat(f,"|").concat(g)),j=C7.get(i);if(j)return j;var k=Da(a,h);return C7.set(i,k),k},Dc=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Dd=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,De=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Df=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Dg={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Dh=Object.keys(Dg);class Di{static parse(a){var b,[,c,d]=null!=(b=Df.exec(a))?b:[];return new Di(parseFloat(c),null!=d?d:"")}constructor(a,b){this.num=a,this.unit=b,this.num=a,this.unit=b,q9(a)&&(this.unit=""),""===b||De.test(b)||(this.num=NaN,this.unit=""),Dh.includes(b)&&(this.num=a*Dg[b],this.unit="px")}add(a){return this.unit!==a.unit?new Di(NaN,""):new Di(this.num+a.num,this.unit)}subtract(a){return this.unit!==a.unit?new Di(NaN,""):new Di(this.num-a.num,this.unit)}multiply(a){return""!==this.unit&&""!==a.unit&&this.unit!==a.unit?new Di(NaN,""):new Di(this.num*a.num,this.unit||a.unit)}divide(a){return""!==this.unit&&""!==a.unit&&this.unit!==a.unit?new Di(NaN,""):new Di(this.num/a.num,this.unit||a.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return q9(this.num)}}function Dj(a){if(a.includes("NaN"))return"NaN";for(var b=a;b.includes("*")||b.includes("/");){var c,[,d,e,f]=null!=(c=Dc.exec(b))?c:[],g=Di.parse(null!=d?d:""),h=Di.parse(null!=f?f:""),i="*"===e?g.multiply(h):g.divide(h);if(i.isNaN())return"NaN";b=b.replace(Dc,i.toString())}for(;b.includes("+")||/.-\d+(?:\.\d+)?/.test(b);){var j,[,k,l,m]=null!=(j=Dd.exec(b))?j:[],n=Di.parse(null!=k?k:""),o=Di.parse(null!=m?m:""),p="+"===l?n.add(o):n.subtract(o);if(p.isNaN())return"NaN";b=b.replace(Dd,p.toString())}return b}var Dk=/\(([^()]*)\)/;function Dl(a){var b=function(a){try{var b;return b=a.replace(/\s+/g,""),b=function(a){for(var b,c=a;null!=(b=Dk.exec(c));){var[,d]=b;c=c.replace(Dk,Dj(d))}return c}(b),b=Dj(b)}catch(a){return"NaN"}}(a.slice(5,-1));return"NaN"===b?"":b}var Dm=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Dn=["dx","dy","angle","className","breakAll"];function Do(){return(Do=Object.assign.bind()).apply(null,arguments)}function Dp(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}var Dq=/[ \f\n\r\t\v\u2028\u2029]+/,Dr=a=>{var{children:b,breakAll:c,style:d}=a;try{var e=[];null!=b&&(e=c?b.toString().split(""):b.toString().split(Dq));var f=e.map(a=>({word:a,width:Db(a,d).width})),g=c?0:Db("",d).width;return{wordsWithComputedWidth:f,spaceWidth:g}}catch(a){return null}},Ds=a=>[{words:null==a?[]:a.toString().split(Dq)}],Dt="#808080",Du=(0,m.forwardRef)((a,b)=>{var c,{x:d=0,y:e=0,lineHeight:f="1em",capHeight:g="0.71em",scaleToFit:h=!1,textAnchor:i="start",verticalAnchor:j="end",fill:k=Dt}=a,l=Dp(a,Dm),n=(0,m.useMemo)(()=>(a=>{var{width:b,scaleToFit:c,children:d,style:e,breakAll:f,maxLines:g}=a;if((b||c)&&!C4){var h=Dr({breakAll:f,children:d,style:e});if(!h)return Ds(d);var{wordsWithComputedWidth:i,spaceWidth:j}=h;return((a,b,c,d,e)=>{var f,{maxLines:g,children:h,style:i,breakAll:j}=a,k=rb(g),l=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.reduce((a,b)=>{var{word:f,width:g}=b,h=a[a.length-1];return h&&(null==d||e||h.width+g+c<Number(d))?(h.words.push(f),h.width+=g+c):a.push({words:[f],width:g}),a},[])},m=l(b),n=a=>a.reduce((a,b)=>a.width>b.width?a:b);if(!k||e||!(m.length>g||n(m).width>Number(d)))return m;for(var o=a=>{var b=l(Dr({breakAll:j,style:i,children:h.slice(0,a)+""}).wordsWithComputedWidth);return[b.length>g||n(b).width>Number(d),b]},p=0,q=h.length-1,r=0;p<=q&&r<=h.length-1;){var s=Math.floor((p+q)/2),[t,u]=o(s-1),[v]=o(s);if(t||v||(p=s+1),t&&v&&(q=s-1),!t&&v){f=u;break}r++}return f||m})({breakAll:f,children:d,maxLines:g,style:e},i,j,b,c)}return Ds(d)})({breakAll:l.breakAll,children:l.children,maxLines:l.maxLines,scaleToFit:h,style:l.style,width:l.width}),[l.breakAll,l.children,l.maxLines,h,l.style,l.width]),{dx:o,dy:p,angle:q,className:r,breakAll:s}=l,t=Dp(l,Dn);if(!rc(d)||!rc(e))return null;var u=d+(rb(o)?o:0),v=e+(rb(p)?p:0);switch(j){case"start":c=Dl("calc(".concat(g,")"));break;case"middle":c=Dl("calc(".concat((n.length-1)/2," * -").concat(f," + (").concat(g," / 2))"));break;default:c=Dl("calc(".concat(n.length-1," * -").concat(f,")"))}var w=[];if(h){var x=n[0].width,{width:y}=l;w.push("scale(".concat(rb(y)?y/x:1,")"))}return q&&w.push("rotate(".concat(q,", ").concat(u,", ").concat(v,")")),w.length&&(t.transform=w.join(" ")),m.createElement("text",Do({},Ct(t,!0),{ref:b,x:u,y:v,className:_("recharts-text",r),textAnchor:i,fill:k.includes("url")?Dt:k}),n.map((a,b)=>{var d=a.words.join(s?"":" ");return m.createElement("tspan",{x:u,dy:0===b?c:f,key:"".concat(d,"-").concat(b)},d)}))});Du.displayName="Text";var Dv=["offset"],Dw=["labelRef"];function Dx(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function Dy(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function Dz(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?Dy(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):Dy(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function DA(){return(DA=Object.assign.bind()).apply(null,arguments)}var DB=a=>null!=a&&"function"==typeof a;function DC(a){var b,{offset:c=5}=a,d=Dz({offset:c},Dx(a,Dv)),{viewBox:e,position:f,value:g,children:h,content:i,className:j="",textBreakAll:k,labelRef:l}=d,n=r1(yh),o=sL(),p=e||("center"===f?o:null!=n?n:o);if(!p||null==g&&null==h&&!(0,m.isValidElement)(i)&&"function"!=typeof i)return null;var q=Dz(Dz({},d),{},{viewBox:p});if((0,m.isValidElement)(i)){var{labelRef:r}=q,s=Dx(q,Dw);return(0,m.cloneElement)(i,s)}if("function"==typeof i){if(b=(0,m.createElement)(i,q),(0,m.isValidElement)(b))return b}else b=(a=>{var{value:b,formatter:c}=a,d=null==a.children?b:a.children;return"function"==typeof c?c(d):d})(d);var t="cx"in p&&rb(p.cx),u=Ct(d,!0);if(t&&("insideStart"===f||"insideEnd"===f||"end"===f))return((a,b,c,d)=>{var e,f,{position:g,offset:h,className:i}=a,{cx:j,cy:k,innerRadius:l,outerRadius:n,startAngle:o,endAngle:p,clockWise:q}=d,r=(l+n)/2,s=q8(p-o)*Math.min(Math.abs(p-o),360),t=s>=0?1:-1;"insideStart"===g?(e=o+t*h,f=q):"insideEnd"===g?(e=p-t*h,f=!q):"end"===g&&(e=p+t*h,f=q),f=s<=0?f:!f;var u=se(j,k,r,e),v=se(j,k,r,e+(f?1:-1)*359),w="M".concat(u.x,",").concat(u.y,"\n    A").concat(r,",").concat(r,",0,1,").concat(+!f,",\n    ").concat(v.x,",").concat(v.y),x=null==a.id?re("recharts-radial-line-"):a.id;return m.createElement("text",DA({},c,{dominantBaseline:"central",className:_("recharts-radial-bar-label",i)}),m.createElement("defs",null,m.createElement("path",{id:x,d:w})),m.createElement("textPath",{xlinkHref:"#".concat(x)},b))})(d,b,u,p);var v=t?((a,b,c)=>{var{cx:d,cy:e,innerRadius:f,outerRadius:g,startAngle:h,endAngle:i}=a,j=(h+i)/2;if("outside"===c){var{x:k,y:l}=se(d,e,g+b,j);return{x:k,y:l,textAnchor:k>=d?"start":"end",verticalAnchor:"middle"}}if("center"===c)return{x:d,y:e,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===c)return{x:d,y:e,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===c)return{x:d,y:e,textAnchor:"middle",verticalAnchor:"end"};var{x:m,y:n}=se(d,e,(f+g)/2,j);return{x:m,y:n,textAnchor:"middle",verticalAnchor:"middle"}})(p,d.offset,d.position):((a,b)=>{var{parentViewBox:c,offset:d,position:e}=a,{x:f,y:g,width:h,height:i}=b,j=i>=0?1:-1,k=j*d,l=j>0?"end":"start",m=j>0?"start":"end",n=h>=0?1:-1,o=n*d,p=n>0?"end":"start",q=n>0?"start":"end";if("top"===e)return Dz(Dz({},{x:f+h/2,y:g-j*d,textAnchor:"middle",verticalAnchor:l}),c?{height:Math.max(g-c.y,0),width:h}:{});if("bottom"===e)return Dz(Dz({},{x:f+h/2,y:g+i+k,textAnchor:"middle",verticalAnchor:m}),c?{height:Math.max(c.y+c.height-(g+i),0),width:h}:{});if("left"===e){var r={x:f-o,y:g+i/2,textAnchor:p,verticalAnchor:"middle"};return Dz(Dz({},r),c?{width:Math.max(r.x-c.x,0),height:i}:{})}if("right"===e){var s={x:f+h+o,y:g+i/2,textAnchor:q,verticalAnchor:"middle"};return Dz(Dz({},s),c?{width:Math.max(c.x+c.width-s.x,0),height:i}:{})}var t=c?{width:h,height:i}:{};return"insideLeft"===e?Dz({x:f+o,y:g+i/2,textAnchor:q,verticalAnchor:"middle"},t):"insideRight"===e?Dz({x:f+h-o,y:g+i/2,textAnchor:p,verticalAnchor:"middle"},t):"insideTop"===e?Dz({x:f+h/2,y:g+k,textAnchor:"middle",verticalAnchor:m},t):"insideBottom"===e?Dz({x:f+h/2,y:g+i-k,textAnchor:"middle",verticalAnchor:l},t):"insideTopLeft"===e?Dz({x:f+o,y:g+k,textAnchor:q,verticalAnchor:m},t):"insideTopRight"===e?Dz({x:f+h-o,y:g+k,textAnchor:p,verticalAnchor:m},t):"insideBottomLeft"===e?Dz({x:f+o,y:g+i-k,textAnchor:q,verticalAnchor:l},t):"insideBottomRight"===e?Dz({x:f+h-o,y:g+i-k,textAnchor:p,verticalAnchor:l},t):e&&"object"==typeof e&&(rb(e.x)||ra(e.x))&&(rb(e.y)||ra(e.y))?Dz({x:f+rf(e.x,h),y:g+rf(e.y,i),textAnchor:"end",verticalAnchor:"end"},t):Dz({x:f+h/2,y:g+i/2,textAnchor:"middle",verticalAnchor:"middle"},t)})(d,p);return m.createElement(Du,DA({ref:l,className:_("recharts-label",j)},u,v,{breakAll:k}),b)}DC.displayName="Label";var DD=a=>{var{cx:b,cy:c,angle:d,startAngle:e,endAngle:f,r:g,radius:h,innerRadius:i,outerRadius:j,x:k,y:l,top:m,left:n,width:o,height:p,clockWise:q,labelViewBox:r}=a;if(r)return r;if(rb(o)&&rb(p)){if(rb(k)&&rb(l))return{x:k,y:l,width:o,height:p};if(rb(m)&&rb(n))return{x:m,y:n,width:o,height:p}}return rb(k)&&rb(l)?{x:k,y:l,width:0,height:0}:rb(b)&&rb(c)?{cx:b,cy:c,startAngle:e||d||0,endAngle:f||d||0,innerRadius:i||0,outerRadius:j||h||g||0,clockWise:q}:a.viewBox?a.viewBox:void 0};DC.parseViewBox=DD,DC.renderCallByParent=function(a,b){var c=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!a||!a.children&&c&&!a.label)return null;var{children:d,labelRef:e}=a,f=DD(a),g=Cs(d,DC).map((a,c)=>(0,m.cloneElement)(a,{viewBox:b||f,key:"label-".concat(c)}));return c?[((a,b,c)=>{if(!a)return null;var d={viewBox:b,labelRef:c};return!0===a?m.createElement(DC,DA({key:"label-implicit"},d)):rc(a)?m.createElement(DC,DA({key:"label-implicit",value:a},d)):(0,m.isValidElement)(a)?a.type===DC?(0,m.cloneElement)(a,Dz({key:"label-implicit"},d)):m.createElement(DC,DA({key:"label-implicit",content:a},d)):DB(a)?m.createElement(DC,DA({key:"label-implicit",content:a},d)):a&&"object"==typeof a?m.createElement(DC,DA({},a,{key:"label-implicit"},d)):null})(a.label,b||f,e),...g]:g};var DE=["valueAccessor"],DF=["data","dataKey","clockWise","id","textBreakAll"];function DG(){return(DG=Object.assign.bind()).apply(null,arguments)}function DH(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function DI(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?DH(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):DH(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function DJ(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}var DK=a=>Array.isArray(a.value)?(0,C3.default)(a.value):a.value;function DL(a){var{valueAccessor:b=DK}=a,c=DJ(a,DE),{data:d,dataKey:e,clockWise:f,id:g,textBreakAll:h}=c,i=DJ(c,DF);return d&&d.length?m.createElement(C1,{className:"recharts-label-list"},d.map((a,c)=>{var d=null==e?b(a,c):sj(a&&a.payload,e),j=null==g?{}:{id:"".concat(g,"-").concat(c)};return m.createElement(DC,DG({},Ct(a,!0),i,j,{parentViewBox:a.parentViewBox,value:d,textBreakAll:h,viewBox:DC.parseViewBox(null==f?a:DI(DI({},a),{},{clockWise:f})),key:"label-".concat(c),index:c}))})):null}DL.displayName="LabelList",DL.renderCallByParent=function(a,b){var c,d=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!a||!a.children&&d&&!a.label)return null;var{children:e}=a,f=Cs(e,DL).map((a,c)=>(0,m.cloneElement)(a,{data:b,key:"labelList-".concat(c)}));return d?[(c=a.label,c?!0===c?m.createElement(DL,{key:"labelList-implicit",data:b}):m.isValidElement(c)||DB(c)?m.createElement(DL,{key:"labelList-implicit",data:b,content:c}):"object"==typeof c?m.createElement(DL,DG({data:b},c,{key:"labelList-implicit"})):null:null),...f]:f};var DM=a.i(3068),DN=m,DO=a.i(97854),DP=(a,b)=>[0,3*a,3*b-6*a,3*a-3*b+1],DQ=(a,b)=>a.map((a,c)=>a*b**c).reduce((a,b)=>a+b),DR=(a,b)=>c=>DQ(DP(a,b),c),DS=function(){let a,b;for(var c,d,e,f,g=arguments.length,h=Array(g),i=0;i<g;i++)h[i]=arguments[i];if(1===h.length)switch(h[0]){case"linear":[c,e,d,f]=[0,0,1,1];break;case"ease":[c,e,d,f]=[.25,.1,.25,1];break;case"ease-in":[c,e,d,f]=[.42,0,1,1];break;case"ease-out":[c,e,d,f]=[.42,0,.58,1];break;case"ease-in-out":[c,e,d,f]=[0,0,.58,1];break;default:var j=h[0].split("(");"cubic-bezier"===j[0]&&4===j[1].split(")")[0].split(",").length&&([c,e,d,f]=j[1].split(")")[0].split(",").map(a=>parseFloat(a)))}else 4===h.length&&([c,e,d,f]=h);var k=DR(c,d),l=DR(e,f),m=(a=c,b=d,c=>DQ([...DP(a,b).map((a,b)=>a*b).slice(1),0],c)),n=a=>a>1?1:a<0?0:a,o=a=>{for(var b=a>1?1:a,c=b,d=0;d<8;++d){var e=k(c)-b,f=m(c);if(1e-4>Math.abs(e-b)||f<1e-4)break;c=n(c-e/f)}return l(c)};return o.isStepper=!1,o},DT=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:b=100,damping:c=8,dt:d=17}=a,e=(a,e,f)=>{var g=f+(-(a-e)*b-f*c)*d/1e3,h=f*d/1e3+a;return 1e-4>Math.abs(h-e)&&1e-4>Math.abs(g)?[e,0]:[h,g]};return e.isStepper=!0,e.dt=d,e},DU=a=>{if("string"==typeof a)switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return DS(a);case"spring":return DT();default:if("cubic-bezier"===a.split("(")[0])return DS(a)}return"function"==typeof a?a:null};function DV(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function DW(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?DV(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):DV(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var DX=(a,b)=>Object.keys(b).reduce((c,d)=>DW(DW({},c),{},{[d]:a(d,b[d])}),{});function DY(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function DZ(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?DY(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):DY(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var D$=(a,b,c)=>a+(b-a)*c,D_=a=>{var{from:b,to:c}=a;return b!==c},D0=(a,b,c)=>{var d=DX((b,c)=>{if(D_(c)){var[d,e]=a(c.from,c.to,c.velocity);return DZ(DZ({},c),{},{from:d,velocity:e})}return c},b);return c<1?DX((a,b)=>D_(b)?DZ(DZ({},b),{},{velocity:D$(b.velocity,d[a].velocity,c),from:D$(b.from,d[a].from,c)}):b,b):D0(a,d,c-1)};let D1=(a,b,c,d,e,f)=>{var g,h,i,j,k,l,m,n,o=[Object.keys(a),Object.keys(b)].reduce((a,b)=>a.filter(a=>b.includes(a)));return!0===c.isStepper?(h=o.reduce((c,d)=>DZ(DZ({},c),{},{[d]:{from:a[d],velocity:0,to:b[d]}}),{}),i=null,j=d=>{g||(g=d);var k=(d-g)/c.dt;h=D0(c,h,k),e(DZ(DZ(DZ({},a),b),DX((a,b)=>b.from,h))),g=d,Object.values(h).filter(D_).length&&(i=f.setTimeout(j))},()=>(i=f.setTimeout(j),()=>{i()})):(l=null,m=o.reduce((c,d)=>DZ(DZ({},c),{},{[d]:[a[d],b[d]]}),{}),n=g=>{k||(k=g);var h=(g-k)/d,i=DX((a,b)=>D$(...b,c(h)),m);if(e(DZ(DZ(DZ({},a),b),i)),h<1)l=f.setTimeout(n);else{var j=DX((a,b)=>D$(...b,c(1)),m);e(DZ(DZ(DZ({},a),b),j))}},()=>(l=f.setTimeout(n),()=>{l()}))};class D2{setTimeout(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=performance.now(),d=null,e=f=>{f-c>=b?a(f):"function"==typeof requestAnimationFrame&&(d=requestAnimationFrame(e))};return d=requestAnimationFrame(e),()=>{cancelAnimationFrame(d)}}}var D3=(0,m.createContext)(function(){var a,b,c,d,e;return a=new D2,b=()=>null,c=!1,d=null,e=f=>{if(!c){if(Array.isArray(f)){if(!f.length)return;var[g,...h]=f;if("number"==typeof g){d=a.setTimeout(e.bind(null,h),g);return}e(g),d=a.setTimeout(e.bind(null,h));return}"string"==typeof f&&b(f),"object"==typeof f&&b(f),"function"==typeof f&&f()}},{stop:()=>{c=!0},start:a=>{c=!1,d&&(d(),d=null),e(a)},subscribe:a=>(b=a,()=>{b=()=>null}),getTimeoutController:()=>a}});function D4(a,b){var c=(0,m.useContext)(D3);return(0,m.useMemo)(()=>null!=b?b:c(a),[a,b,c])}var D5=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function D6(){return(D6=Object.assign.bind()).apply(null,arguments)}function D7(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function D8(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?D7(Object(c),!0).forEach(function(b){D9(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):D7(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function D9(a,b,c){var d;return(b="symbol"==typeof(d=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"))?d:d+"")in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}class Ea extends DN.PureComponent{constructor(a,b){super(a,b),D9(this,"mounted",!1),D9(this,"manager",void 0),D9(this,"stopJSAnimation",null),D9(this,"unSubscribe",null);var{isActive:c,attributeName:d,from:e,to:f,children:g,duration:h,animationManager:i}=this.props;if(this.manager=i,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!c||h<=0){this.state={style:{}},"function"==typeof g&&(this.state={style:f});return}if(e){if("function"==typeof g){this.state={style:e};return}this.state={style:d?{[d]:e}:e}}else this.state={style:{}}}componentDidMount(){var{isActive:a,canBegin:b}=this.props;this.mounted=!0,a&&b&&this.runAnimation(this.props)}componentDidUpdate(a){var{isActive:b,canBegin:c,attributeName:d,shouldReAnimate:e,to:f,from:g}=this.props,{style:h}=this.state;if(c){if(!b){this.state&&h&&(d&&h[d]!==f||!d&&h!==f)&&this.setState({style:d?{[d]:f}:f});return}if(!(0,DO.default)(a.to,f)||!a.canBegin||!a.isActive){var i=!a.canBegin||!a.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var j=i||e?g:a.to;this.state&&h&&(d&&h[d]!==j||!d&&h!==j)&&this.setState({style:d?{[d]:j}:j}),this.runAnimation(D8(D8({},this.props),{},{from:j,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:a}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}handleStyleChange(a){this.changeStyle(a)}changeStyle(a){this.mounted&&this.setState({style:a})}runJSAnimation(a){var{from:b,to:c,duration:d,easing:e,begin:f,onAnimationEnd:g,onAnimationStart:h}=a,i=D1(b,c,DU(e),d,this.changeStyle,this.manager.getTimeoutController()),j=()=>{this.stopJSAnimation=i()};this.manager.start([h,f,j,d,g])}runAnimation(a){let b;var{begin:c,duration:d,attributeName:e,to:f,easing:g,onAnimationStart:h,onAnimationEnd:i,children:j}=a;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),"function"==typeof g||"function"==typeof j||"spring"===g)return void this.runJSAnimation(a);var k=e?{[e]:f}:f,l=(b=Object.keys(k),b.map(a=>"".concat(a.replace(/([A-Z])/g,a=>"-".concat(a.toLowerCase()))," ").concat(d,"ms ").concat(g)).join(","));this.manager.start([h,c,D8(D8({},k),{},{transition:l}),d,i])}render(){var a=this.props,{children:b,begin:c,duration:d,attributeName:e,easing:f,isActive:g,from:h,to:i,canBegin:j,onAnimationEnd:k,shouldReAnimate:l,onAnimationReStart:m,animationManager:n}=a,o=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,D5),p=DN.Children.count(b),q=this.state.style;if("function"==typeof b)return b(q);if(!g||0===p||d<=0)return b;var r=a=>{var{style:b={},className:c}=a.props;return(0,DN.cloneElement)(a,D8(D8({},o),{},{style:D8(D8({},b),q),className:c}))};return 1===p?r(DN.Children.only(b)):DN.createElement("div",null,DN.Children.map(b,a=>r(a)))}}function Eb(a){var b,c=D4(null!=(b=a.attributeName)?b:Object.keys(a.to).join(","),a.animationManager);return DN.createElement(Ea,D6({},a,{animationManager:c}))}function Ec(){return(Ec=Object.assign.bind()).apply(null,arguments)}D9(Ea,"displayName","Animate"),D9(Ea,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var Ed=(a,b,c,d,e)=>{var f,g=Math.min(Math.abs(c)/2,Math.abs(d)/2),h=d>=0?1:-1,i=c>=0?1:-1,j=+(d>=0&&c>=0||d<0&&c<0);if(g>0&&e instanceof Array){for(var k=[0,0,0,0],l=0;l<4;l++)k[l]=e[l]>g?g:e[l];f="M".concat(a,",").concat(b+h*k[0]),k[0]>0&&(f+="A ".concat(k[0],",").concat(k[0],",0,0,").concat(j,",").concat(a+i*k[0],",").concat(b)),f+="L ".concat(a+c-i*k[1],",").concat(b),k[1]>0&&(f+="A ".concat(k[1],",").concat(k[1],",0,0,").concat(j,",\n        ").concat(a+c,",").concat(b+h*k[1])),f+="L ".concat(a+c,",").concat(b+d-h*k[2]),k[2]>0&&(f+="A ".concat(k[2],",").concat(k[2],",0,0,").concat(j,",\n        ").concat(a+c-i*k[2],",").concat(b+d)),f+="L ".concat(a+i*k[3],",").concat(b+d),k[3]>0&&(f+="A ".concat(k[3],",").concat(k[3],",0,0,").concat(j,",\n        ").concat(a,",").concat(b+d-h*k[3])),f+="Z"}else if(g>0&&e===+e&&e>0){var m=Math.min(g,e);f="M ".concat(a,",").concat(b+h*m,"\n            A ").concat(m,",").concat(m,",0,0,").concat(j,",").concat(a+i*m,",").concat(b,"\n            L ").concat(a+c-i*m,",").concat(b,"\n            A ").concat(m,",").concat(m,",0,0,").concat(j,",").concat(a+c,",").concat(b+h*m,"\n            L ").concat(a+c,",").concat(b+d-h*m,"\n            A ").concat(m,",").concat(m,",0,0,").concat(j,",").concat(a+c-i*m,",").concat(b+d,"\n            L ").concat(a+i*m,",").concat(b+d,"\n            A ").concat(m,",").concat(m,",0,0,").concat(j,",").concat(a,",").concat(b+d-h*m," Z")}else f="M ".concat(a,",").concat(b," h ").concat(c," v ").concat(d," h ").concat(-c," Z");return f},Ee={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ef=a=>{var b=CT(a,Ee),c=(0,m.useRef)(null),[d,e]=(0,m.useState)(-1);(0,m.useEffect)(()=>{if(c.current&&c.current.getTotalLength)try{var a=c.current.getTotalLength();a&&e(a)}catch(a){}},[]);var{x:f,y:g,width:h,height:i,radius:j,className:k}=b,{animationEasing:l,animationDuration:n,animationBegin:o,isAnimationActive:p,isUpdateAnimationActive:q}=b;if(f!==+f||g!==+g||h!==+h||i!==+i||0===h||0===i)return null;var r=_("recharts-rectangle",k);return q?m.createElement(Eb,{canBegin:d>0,from:{width:h,height:i,x:f,y:g},to:{width:h,height:i,x:f,y:g},duration:n,animationEasing:l,isActive:q},a=>{var{width:e,height:f,x:g,y:h}=a;return m.createElement(Eb,{canBegin:d>0,from:"0px ".concat(-1===d?1:d,"px"),to:"".concat(d,"px 0px"),attributeName:"strokeDasharray",begin:o,duration:n,isActive:p,easing:l},m.createElement("path",Ec({},Ct(b,!0),{className:r,d:Ed(g,h,e,f,j),ref:c})))}):m.createElement("path",Ec({},Ct(b,!0),{className:r,d:Ed(f,g,h,i,j)}))};function Eg(){return(Eg=Object.assign.bind()).apply(null,arguments)}var Eh=(a,b,c,d,e)=>{var f=c-d;return"M ".concat(a,",").concat(b)+"L ".concat(a+c,",").concat(b)+"L ".concat(a+c-f/2,",").concat(b+e)+"L ".concat(a+c-f/2-d,",").concat(b+e)+"L ".concat(a,",").concat(b," Z")},Ei={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ej=a=>{var b=CT(a,Ei),c=(0,m.useRef)(),[d,e]=(0,m.useState)(-1);(0,m.useEffect)(()=>{if(c.current&&c.current.getTotalLength)try{var a=c.current.getTotalLength();a&&e(a)}catch(a){}},[]);var{x:f,y:g,upperWidth:h,lowerWidth:i,height:j,className:k}=b,{animationEasing:l,animationDuration:n,animationBegin:o,isUpdateAnimationActive:p}=b;if(f!==+f||g!==+g||h!==+h||i!==+i||j!==+j||0===h&&0===i||0===j)return null;var q=_("recharts-trapezoid",k);return p?m.createElement(Eb,{canBegin:d>0,from:{upperWidth:0,lowerWidth:0,height:j,x:f,y:g},to:{upperWidth:h,lowerWidth:i,height:j,x:f,y:g},duration:n,animationEasing:l,isActive:p},a=>{var{upperWidth:e,lowerWidth:f,height:g,x:h,y:i}=a;return m.createElement(Eb,{canBegin:d>0,from:"0px ".concat(-1===d?1:d,"px"),to:"".concat(d,"px 0px"),attributeName:"strokeDasharray",begin:o,duration:n,easing:l},m.createElement("path",Eg({},Ct(b,!0),{className:q,d:Eh(h,i,e,f,g),ref:c})))}):m.createElement("g",null,m.createElement("path",Eg({},Ct(b,!0),{className:q,d:Eh(f,g,h,i,j)})))};function Ek(){return(Ek=Object.assign.bind()).apply(null,arguments)}var El=a=>{var{cx:b,cy:c,radius:d,angle:e,sign:f,isExternal:g,cornerRadius:h,cornerIsExternal:i}=a,j=h*(g?1:-1)+d,k=Math.asin(h/j)/sd,l=i?e:e+f*k,m=se(b,c,j,l);return{center:m,circleTangency:se(b,c,d,l),lineTangency:se(b,c,j*Math.cos(k*sd),i?e-f*k:e),theta:k}},Em=a=>{var{cx:b,cy:c,innerRadius:d,outerRadius:e,startAngle:f,endAngle:g}=a,h=q8(g-f)*Math.min(Math.abs(g-f),359.999),i=f+h,j=se(b,c,e,f),k=se(b,c,e,i),l="M ".concat(j.x,",").concat(j.y,"\n    A ").concat(e,",").concat(e,",0,\n    ").concat(+(Math.abs(h)>180),",").concat(+(f>i),",\n    ").concat(k.x,",").concat(k.y,"\n  ");if(d>0){var m=se(b,c,d,f),n=se(b,c,d,i);l+="L ".concat(n.x,",").concat(n.y,"\n            A ").concat(d,",").concat(d,",0,\n            ").concat(+(Math.abs(h)>180),",").concat(+(f<=i),",\n            ").concat(m.x,",").concat(m.y," Z")}else l+="L ".concat(b,",").concat(c," Z");return l},En={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Eo=a=>{var b,c=CT(a,En),{cx:d,cy:e,innerRadius:f,outerRadius:g,cornerRadius:h,forceCornerRadius:i,cornerIsExternal:j,startAngle:k,endAngle:l,className:n}=c;if(g<f||k===l)return null;var o=_("recharts-sector",n),p=g-f,q=rf(h,p,0,!0);return b=q>0&&360>Math.abs(k-l)?(a=>{var{cx:b,cy:c,innerRadius:d,outerRadius:e,cornerRadius:f,forceCornerRadius:g,cornerIsExternal:h,startAngle:i,endAngle:j}=a,k=q8(j-i),{circleTangency:l,lineTangency:m,theta:n}=El({cx:b,cy:c,radius:e,angle:i,sign:k,cornerRadius:f,cornerIsExternal:h}),{circleTangency:o,lineTangency:p,theta:q}=El({cx:b,cy:c,radius:e,angle:j,sign:-k,cornerRadius:f,cornerIsExternal:h}),r=h?Math.abs(i-j):Math.abs(i-j)-n-q;if(r<0)return g?"M ".concat(m.x,",").concat(m.y,"\n        a").concat(f,",").concat(f,",0,0,1,").concat(2*f,",0\n        a").concat(f,",").concat(f,",0,0,1,").concat(-(2*f),",0\n      "):Em({cx:b,cy:c,innerRadius:d,outerRadius:e,startAngle:i,endAngle:j});var s="M ".concat(m.x,",").concat(m.y,"\n    A").concat(f,",").concat(f,",0,0,").concat(+(k<0),",").concat(l.x,",").concat(l.y,"\n    A").concat(e,",").concat(e,",0,").concat(+(r>180),",").concat(+(k<0),",").concat(o.x,",").concat(o.y,"\n    A").concat(f,",").concat(f,",0,0,").concat(+(k<0),",").concat(p.x,",").concat(p.y,"\n  ");if(d>0){var{circleTangency:t,lineTangency:u,theta:v}=El({cx:b,cy:c,radius:d,angle:i,sign:k,isExternal:!0,cornerRadius:f,cornerIsExternal:h}),{circleTangency:w,lineTangency:x,theta:y}=El({cx:b,cy:c,radius:d,angle:j,sign:-k,isExternal:!0,cornerRadius:f,cornerIsExternal:h}),z=h?Math.abs(i-j):Math.abs(i-j)-v-y;if(z<0&&0===f)return"".concat(s,"L").concat(b,",").concat(c,"Z");s+="L".concat(x.x,",").concat(x.y,"\n      A").concat(f,",").concat(f,",0,0,").concat(+(k<0),",").concat(w.x,",").concat(w.y,"\n      A").concat(d,",").concat(d,",0,").concat(+(z>180),",").concat(+(k>0),",").concat(t.x,",").concat(t.y,"\n      A").concat(f,",").concat(f,",0,0,").concat(+(k<0),",").concat(u.x,",").concat(u.y,"Z")}else s+="L".concat(b,",").concat(c,"Z");return s})({cx:d,cy:e,innerRadius:f,outerRadius:g,cornerRadius:Math.min(q,p/2),forceCornerRadius:i,cornerIsExternal:j,startAngle:k,endAngle:l}):Em({cx:d,cy:e,innerRadius:f,outerRadius:g,startAngle:k,endAngle:l}),m.createElement("path",Ek({},Ct(c,!0),{className:o,d:b}))};let Ep=Math.PI,Eq=2*Ep,Er=Eq-1e-6;function Es(a){this._+=a[0];for(let b=1,c=a.length;b<c;++b)this._+=arguments[b]+a[b]}class Et{constructor(a){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==a?Es:function(a){let b=Math.floor(a);if(!(b>=0))throw Error(`invalid digits: ${a}`);if(b>15)return Es;let c=10**b;return function(a){this._+=a[0];for(let b=1,d=a.length;b<d;++b)this._+=Math.round(arguments[b]*c)/c+a[b]}}(a)}moveTo(a,b){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+b}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(a,b){this._append`L${this._x1=+a},${this._y1=+b}`}quadraticCurveTo(a,b,c,d){this._append`Q${+a},${+b},${this._x1=+c},${this._y1=+d}`}bezierCurveTo(a,b,c,d,e,f){this._append`C${+a},${+b},${+c},${+d},${this._x1=+e},${this._y1=+f}`}arcTo(a,b,c,d,e){if(a*=1,b*=1,c*=1,d*=1,(e*=1)<0)throw Error(`negative radius: ${e}`);let f=this._x1,g=this._y1,h=c-a,i=d-b,j=f-a,k=g-b,l=j*j+k*k;if(null===this._x1)this._append`M${this._x1=a},${this._y1=b}`;else if(l>1e-6)if(Math.abs(k*h-i*j)>1e-6&&e){let m=c-f,n=d-g,o=h*h+i*i,p=Math.sqrt(o),q=Math.sqrt(l),r=e*Math.tan((Ep-Math.acos((o+l-(m*m+n*n))/(2*p*q)))/2),s=r/q,t=r/p;Math.abs(s-1)>1e-6&&this._append`L${a+s*j},${b+s*k}`,this._append`A${e},${e},0,0,${+(k*m>j*n)},${this._x1=a+t*h},${this._y1=b+t*i}`}else this._append`L${this._x1=a},${this._y1=b}`}arc(a,b,c,d,e,f){if(a*=1,b*=1,c*=1,f=!!f,c<0)throw Error(`negative radius: ${c}`);let g=c*Math.cos(d),h=c*Math.sin(d),i=a+g,j=b+h,k=1^f,l=f?d-e:e-d;null===this._x1?this._append`M${i},${j}`:(Math.abs(this._x1-i)>1e-6||Math.abs(this._y1-j)>1e-6)&&this._append`L${i},${j}`,c&&(l<0&&(l=l%Eq+Eq),l>Er?this._append`A${c},${c},0,1,${k},${a-g},${b-h}A${c},${c},0,1,${k},${this._x1=i},${this._y1=j}`:l>1e-6&&this._append`A${c},${c},0,${+(l>=Ep)},${k},${this._x1=a+c*Math.cos(e)},${this._y1=b+c*Math.sin(e)}`)}rect(a,b,c,d){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+b}h${c*=1}v${+d}h${-c}Z`}toString(){return this._}}function Eu(a){let b=3;return a.digits=function(c){if(!arguments.length)return b;if(null==c)b=null;else{let a=Math.floor(c);if(!(a>=0))throw RangeError(`invalid digits: ${c}`);b=a}return a},()=>new Et(b)}Et.prototype;let Ev=Math.cos,Ew=Math.sin,Ex=Math.sqrt,Ey=Math.PI,Ez=2*Ey;Ex(3);let EA={draw(a,b){let c=Ex(b/Ey);a.moveTo(c,0),a.arc(0,0,c,0,Ez)}},EB=Ex(1/3),EC=2*EB,ED=Ew(Ey/10)/Ew(7*Ey/10),EE=Ew(Ez/10)*ED,EF=-Ev(Ez/10)*ED,EG=Ex(3);Ex(3);let EH=Ex(3)/2,EI=1/Ex(12),EJ=(EI/2+1)*3;var EK=["type","size","sizeType"];function EL(){return(EL=Object.assign.bind()).apply(null,arguments)}function EM(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function EN(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?EM(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):EM(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var EO={symbolCircle:EA,symbolCross:{draw(a,b){let c=Ex(b/5)/2;a.moveTo(-3*c,-c),a.lineTo(-c,-c),a.lineTo(-c,-3*c),a.lineTo(c,-3*c),a.lineTo(c,-c),a.lineTo(3*c,-c),a.lineTo(3*c,c),a.lineTo(c,c),a.lineTo(c,3*c),a.lineTo(-c,3*c),a.lineTo(-c,c),a.lineTo(-3*c,c),a.closePath()}},symbolDiamond:{draw(a,b){let c=Ex(b/EC),d=c*EB;a.moveTo(0,-c),a.lineTo(d,0),a.lineTo(0,c),a.lineTo(-d,0),a.closePath()}},symbolSquare:{draw(a,b){let c=Ex(b),d=-c/2;a.rect(d,d,c,c)}},symbolStar:{draw(a,b){let c=Ex(.8908130915292852*b),d=EE*c,e=EF*c;a.moveTo(0,-c),a.lineTo(d,e);for(let b=1;b<5;++b){let f=Ez*b/5,g=Ev(f),h=Ew(f);a.lineTo(h*c,-g*c),a.lineTo(g*d-h*e,h*d+g*e)}a.closePath()}},symbolTriangle:{draw(a,b){let c=-Ex(b/(3*EG));a.moveTo(0,2*c),a.lineTo(-EG*c,-c),a.lineTo(EG*c,-c),a.closePath()}},symbolWye:{draw(a,b){let c=Ex(b/EJ),d=c/2,e=c*EI,f=c*EI+c,g=-d;a.moveTo(d,e),a.lineTo(d,f),a.lineTo(g,f),a.lineTo(-.5*d-EH*e,EH*d+-.5*e),a.lineTo(-.5*d-EH*f,EH*d+-.5*f),a.lineTo(-.5*g-EH*f,EH*g+-.5*f),a.lineTo(-.5*d+EH*e,-.5*e-EH*d),a.lineTo(-.5*d+EH*f,-.5*f-EH*d),a.lineTo(-.5*g+EH*f,-.5*f-EH*g),a.closePath()}}},EP=Math.PI/180,EQ=a=>{var b,{type:c="circle",size:d=64,sizeType:e="area"}=a,f=EN(EN({},function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,EK)),{},{type:c,size:d,sizeType:e}),{className:g,cx:h,cy:i}=f,j=Ct(f,!0);return h===+h&&i===+i&&d===+d?m.createElement("path",EL({},j,{className:_("recharts-symbols",g),transform:"translate(".concat(h,", ").concat(i,")"),d:(b=EO["symbol".concat(rj(c))]||EA,(function(a,b){let c=null,d=Eu(e);function e(){let e;if(c||(c=e=d()),a.apply(this,arguments).draw(c,+b.apply(this,arguments)),e)return c=null,e+""||null}return a="function"==typeof a?a:r6(a||EA),b="function"==typeof b?b:r6(void 0===b?64:+b),e.type=function(b){return arguments.length?(a="function"==typeof b?b:r6(b),e):a},e.size=function(a){return arguments.length?(b="function"==typeof a?a:r6(+a),e):b},e.context=function(a){return arguments.length?(c=null==a?null:a,e):c},e})().type(b).size(((a,b,c)=>{if("area"===b)return a;switch(c){case"cross":return 5*a*a/9;case"diamond":return .5*a*a/Math.sqrt(3);case"square":return a*a;case"star":var d=18*EP;return 1.25*a*a*(Math.tan(d)-Math.tan(2*d)*Math.tan(d)**2);case"triangle":return Math.sqrt(3)*a*a/4;case"wye":return(21-10*Math.sqrt(3))*a*a/8;default:return Math.PI*a*a/4}})(d,e,c))())})):null};EQ.registerSymbol=(a,b)=>{EO["symbol".concat(rj(a))]=b};var ER=["option","shapeType","propTransformer","activeClassName","isActive"];function ES(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function ET(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?ES(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):ES(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function EU(a,b){return ET(ET({},b),a)}function EV(a){var{shapeType:b,elementProps:c}=a;switch(b){case"rectangle":return m.createElement(Ef,c);case"trapezoid":return m.createElement(Ej,c);case"sector":return m.createElement(Eo,c);case"symbols":if("symbols"===b)return m.createElement(EQ,c);break;default:return null}}function EW(a){var b,{option:c,shapeType:d,propTransformer:e=EU,activeClassName:f="recharts-active-shape",isActive:g}=a,h=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,ER);if((0,m.isValidElement)(c))b=(0,m.cloneElement)(c,ET(ET({},h),(0,m.isValidElement)(c)?c.props:c));else if("function"==typeof c)b=c(h);else if((0,DM.default)(c)&&"boolean"!=typeof c){var i=e(c,h);b=m.createElement(EV,{shapeType:d,elementProps:i})}else b=m.createElement(EV,{shapeType:d,elementProps:h});return g?m.createElement(C1,{className:f},b):b}var EX=["x","y"];function EY(){return(EY=Object.assign.bind()).apply(null,arguments)}function EZ(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function E$(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?EZ(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):EZ(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function E_(a,b){var{x:c,y:d}=a,e=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,EX),f=parseInt("".concat(c),10),g=parseInt("".concat(d),10),h=parseInt("".concat(b.height||e.height),10),i=parseInt("".concat(b.width||e.width),10);return E$(E$(E$(E$(E$({},b),e),f?{x:f}:{}),g?{y:g}:{}),{},{height:h,width:i,name:b.name,radius:b.radius})}function E0(a){return m.createElement(EW,EY({shapeType:"rectangle",propTransformer:E_,activeClassName:"recharts-active-bar"},a))}var E1=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(c,d)=>{if(rb(a))return a;var e=rb(c)||null==c;return e?a(c,d):(e||function(a,b){if(!a)throw Error("Invariant failed")}(!1),b)}},E2=(a,b)=>{var c=rZ();return(d,e)=>f=>{null==a||a(d,e,f),c(rC({activeIndex:String(e),activeDataKey:b,activeCoordinate:d.tooltipPosition}))}},E3=a=>{var b=rZ();return(c,d)=>e=>{null==a||a(c,d,e),b(rD())}},E4=(a,b)=>{var c=rZ();return(d,e)=>f=>{null==a||a(d,e,f),c(rF({activeIndex:String(e),activeDataKey:b,activeCoordinate:d.tooltipPosition}))}};function E5(a){var{fn:b,args:c}=a,d=rZ(),e=sI();return(0,m.useEffect)(()=>{if(!e){var a=b(c);return d(rz(a)),()=>{d(rA(a))}}},[b,c,d,e]),null}var E6=["children"],E7=(0,m.createContext)({data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0});function E8(a){var{children:b}=a,c=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,E6);return m.createElement(E7.Provider,{value:c},b)}function E9(a,b){var c,d,e=r1(b=>yu(b,a)),f=r1(a=>yw(a,b)),g=null!=(c=null==e?void 0:e.allowDataOverflow)?c:yt.allowDataOverflow,h=null!=(d=null==f?void 0:f.allowDataOverflow)?d:yv.allowDataOverflow;return{needClip:g||h,needClipX:g,needClipY:h}}function Fa(a){var{xAxisId:b,yAxisId:c,clipPathId:d}=a,e=r1(CN),{needClipX:f,needClipY:g,needClip:h}=E9(b,c);if(!h)return null;var{x:i,y:j,width:k,height:l}=e;return m.createElement("clipPath",{id:"clipPath-".concat(d)},m.createElement("rect",{x:f?i:i-k/2,y:g?j:j-l/2,width:f?k:2*k,height:g?l:2*l}))}function Fb(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function Fc(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?Fb(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):Fb(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var Fd=qg([yD,(a,b,c,d,e)=>e],(a,b)=>a.filter(a=>"bar"===a.type).find(a=>a.id===b)),Fe=qg([Fd],a=>null==a?void 0:a.maxBarSize),Ff=(a,b,c)=>{var d=null!=c?c:a;if(null!=d)return rf(d,b,0)},Fg=qg([sP,yD,(a,b)=>b,(a,b,c)=>c,(a,b,c,d)=>d],(a,b,c,d,e)=>b.filter(b=>"horizontal"===a?b.xAxisId===c:b.yAxisId===d).filter(a=>a.isPanorama===e).filter(a=>!1===a.hide).filter(a=>"bar"===a.type)),Fh=qg([Fg,a=>a.rootProps.barSize,(a,b,c)=>"horizontal"===sP(a)?zN(a,"xAxis",b):zN(a,"yAxis",c)],(a,b,c)=>{var d=a.filter(yp),e=a.filter(a=>null==a.stackId);return[...Object.entries(d.reduce((a,b)=>(a[b.stackId]||(a[b.stackId]=[]),a[b.stackId].push(b),a),{})).map(a=>{var[d,e]=a;return{stackId:d,dataKeys:e.map(a=>a.dataKey),barSize:Ff(b,c,e[0].barSize)}}),...e.map(a=>({stackId:void 0,dataKeys:[a.dataKey].filter(a=>null!=a),barSize:Ff(b,c,a.barSize)}))]}),Fi=(a,b,c,d)=>{var e,f;return"horizontal"===sP(a)?(e=zV(a,"xAxis",b,d),f=zU(a,"xAxis",b,d)):(e=zV(a,"yAxis",c,d),f=zU(a,"yAxis",c,d)),sr(e,f)},Fj=qg([Fh,xX,a=>a.rootProps.barGap,xY,(a,b,c,d,e)=>{var f,g,h,i,j=Fd(a,b,c,d,e);if(null!=j){var k=sP(a),l=xX(a),{maxBarSize:m}=j;return"horizontal"===k?(h=zV(a,"xAxis",b,d),i=zU(a,"xAxis",b,d)):(h=zV(a,"yAxis",c,d),i=zU(a,"yAxis",c,d)),null!=(f=null!=(g=sr(h,i,!0))?g:null==m?l:m)?f:0}},Fi,Fe],(a,b,c,d,e,f,g)=>{var h=function(a,b,c,d,e){var f,g=d.length;if(!(g<1)){var h=rf(a,c,0,!0),i=[];if(wL(d[0].barSize)){var j=!1,k=c/g,l=d.reduce((a,b)=>a+(b.barSize||0),0);(l+=(g-1)*h)>=c&&(l-=(g-1)*h,h=0),l>=c&&k>0&&(j=!0,k*=.9,l=g*k);var m={offset:((c-l)/2|0)-h,size:0};f=d.reduce((a,b)=>{var c,d=[...a,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:m.offset+m.size+h,size:j?k:null!=(c=b.barSize)?c:0}}];return m=d[d.length-1].position,d},i)}else{var n=rf(b,c,0,!0);c-2*n-(g-1)*h<=0&&(h=0);var o=(c-2*n-(g-1)*h)/g;o>1&&(o>>=0);var p=wL(e)?Math.min(o,e):o;f=d.reduce((a,b,c)=>[...a,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:n+(o+h)*c+(o-p)/2,size:p}}],i)}return f}}(c,d,e!==f?e:f,a,null==g?b:g);return e!==f&&null!=h&&(h=h.map(a=>Fc(Fc({},a),{},{position:Fc(Fc({},a.position),{},{offset:a.position.offset-e/2})}))),h}),Fk=qg([Fj,Fd],(a,b)=>{if(null!=a&&null!=b){var c=a.find(a=>a.stackId===b.stackId&&null!=b.dataKey&&a.dataKeys.includes(b.dataKey));if(null!=c)return c.position}}),Fl=qg([(a,b,c,d)=>"horizontal"===sP(a)?yU(a,"yAxis",c,d):yU(a,"xAxis",b,d),Fd],(a,b)=>{var c=yk(b);if(!a||null==c||null==b)return;var{stackId:d}=b;if(null!=d){var e=a[d];if(e){var{stackedData:f}=e;if(f)return f.find(a=>a.key===c)}}}),Fm=qg([sE,(a,b,c,d)=>zV(a,"xAxis",b,d),(a,b,c,d)=>zV(a,"yAxis",c,d),(a,b,c,d)=>zU(a,"xAxis",b,d),(a,b,c,d)=>zU(a,"yAxis",c,d),Fk,sP,wK,Fi,Fl,Fd,(a,b,c,d,e,f)=>f],(a,b,c,d,e,f,g,h,i,j,k,l)=>{var m,{chartData:n,dataStartIndex:o,dataEndIndex:p}=h;if(null!=k&&null!=f&&("horizontal"===g||"vertical"===g)&&null!=b&&null!=c&&null!=d&&null!=e&&null!=i){var{data:q}=k;if(null!=(m=null!=q&&q.length>0?q:null==n?void 0:n.slice(o,p+1)))return function(a){var{layout:b,barSettings:{dataKey:c,minPointSize:d},pos:e,bandSize:f,xAxis:g,yAxis:h,xAxisTicks:i,yAxisTicks:j,stackedData:k,displayedData:l,offset:m,cells:n}=a,o="horizontal"===b?h:g,p=k?o.scale.domain():null,q=(a=>{var{numericAxis:b}=a,c=b.scale.domain();if("number"===b.type){var d=Math.min(c[0],c[1]),e=Math.max(c[0],c[1]);return d<=0&&e>=0?0:e<0?e:d}return c[0]})({numericAxis:o});return l.map((a,l)=>{k?r=((a,b)=>{if(!b||2!==b.length||!rb(b[0])||!rb(b[1]))return a;var c=Math.min(b[0],b[1]),d=Math.max(b[0],b[1]),e=[a[0],a[1]];return(!rb(a[0])||a[0]<c)&&(e[0]=c),(!rb(a[1])||a[1]>d)&&(e[1]=d),e[0]>d&&(e[0]=d),e[1]<c&&(e[1]=c),e})(k[l],p):Array.isArray(r=sj(a,c))||(r=[q,r]);var o=E1(d,0)(r[1],l);if("horizontal"===b){var r,s,t,u,v,w,x,[y,z]=[h.scale(r[0]),h.scale(r[1])];s=so({axis:g,ticks:i,bandSize:f,offset:e.offset,entry:a,index:l}),t=null!=(x=null!=z?z:y)?x:void 0,u=e.size;var A=y-z;if(v=q9(A)?0:A,w={x:s,y:m.top,width:u,height:m.height},Math.abs(o)>0&&Math.abs(v)<Math.abs(o)){var B=q8(v||o)*(Math.abs(o)-Math.abs(v));t-=B,v+=B}}else{var[C,D]=[g.scale(r[0]),g.scale(r[1])];if(s=C,t=so({axis:h,ticks:j,bandSize:f,offset:e.offset,entry:a,index:l}),u=D-C,v=e.size,w={x:m.left,y:t,width:m.width,height:v},Math.abs(o)>0&&Math.abs(u)<Math.abs(o)){var E=q8(u||o)*(Math.abs(o)-Math.abs(u));u+=E}}return null==s||null==t||null==u||null==v?null:FH(FH({},a),{},{x:s,y:t,width:u,height:v,value:k?r:r[1],payload:a,background:w,tooltipPosition:{x:s+u/2,y:t+v/2}},n&&n[l]&&n[l].props)}).filter(Boolean)}({layout:g,barSettings:k,pos:f,bandSize:i,xAxis:b,yAxis:c,xAxisTicks:d,yAxisTicks:e,stackedData:j,displayedData:m,offset:a,cells:l})}}),Fn=()=>{};function Fo(a){var{legendPayload:b}=a,c=rZ(),d=sI();return(0,m.useEffect)(()=>d?Fn:(c(BI(b)),()=>{c(BJ(b))}),[c,d,b]),null}function Fp(a){var{legendPayload:b}=a,c=rZ(),d=r1(sP);return(0,m.useEffect)(()=>"centric"!==d&&"radial"!==d?Fn:(c(BI(b)),()=>{c(BJ(b))}),[c,d,b]),null}function Fq(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",c=(0,m.useRef)(re(b)),d=(0,m.useRef)(a);return d.current!==a&&(c.current=re(b),d.current=a),c.current}var Fr=null!=(k=m["useId".toString()])?k:()=>{var[a]=m.useState(()=>re("uid-"));return a},Fs=(0,m.createContext)(void 0),Ft=a=>{var b,c,{id:d,type:e,children:f}=a,g=(b="recharts-".concat(e),c=Fr(),d||(b?"".concat(b,"-").concat(c):c));return m.createElement(Fs.Provider,{value:g},f(g))};function Fu(a){var b=rZ(),c=(0,m.useRef)(null);return(0,m.useEffect)(()=>{null===c.current?b(Bn(a)):c.current!==a&&b(Bo({prev:c.current,next:a})),c.current=a},[b,a]),(0,m.useEffect)(()=>()=>{c.current&&(b(Bp(c.current)),c.current=null)},[b]),null}function Fv(a){var b=rZ();return(0,m.useEffect)(()=>(b(Bq(a)),()=>{b(Br(a))}),[b,a]),null}function Fw(){}var Fx={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Fy={t:0},Fz={t:1};function FA(a){var b=CT(a,Fx),{isActive:c,canBegin:d,duration:e,easing:f,begin:g,onAnimationEnd:h,onAnimationStart:i,children:j}=b,k=D4("JavascriptAnimate",b.animationManager),[l,n]=(0,m.useState)(c?Fy:Fz),o=(0,m.useRef)(null);return(0,m.useEffect)(()=>{c||n(Fz)},[c]),(0,m.useEffect)(()=>{if(!c||!d)return Fw;var a=D1(Fy,Fz,DU(f),e,n,k.getTimeoutController());return k.start([i,g,()=>{o.current=a()},e,h]),()=>{k.stop(),o.current&&o.current(),h()}},[c,d,e,f,g,i,h,k]),j(l.t)}var FB=["onMouseEnter","onMouseLeave","onClick"],FC=["value","background","tooltipPosition"],FD=["id"],FE=["onMouseEnter","onClick","onMouseLeave"];function FF(){return(FF=Object.assign.bind()).apply(null,arguments)}function FG(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function FH(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?FG(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):FG(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function FI(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function FJ(a){var{dataKey:b,stroke:c,strokeWidth:d,fill:e,name:f,hide:g,unit:h}=a;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:c,strokeWidth:d,fill:e,dataKey:b,nameKey:void 0,name:st(f,b),hide:g,type:a.tooltipType,color:a.fill,unit:h}}}function FK(a){var b=r1(AM),{data:c,dataKey:d,background:e,allOtherBarProps:f}=a,{onMouseEnter:g,onMouseLeave:h,onClick:i}=f,j=FI(f,FB),k=E2(g,d),l=E3(h),m=E4(i,d);if(!e||null==c)return null;var n=Ct(e,!1);return C$.createElement(C$.Fragment,null,c.map((a,c)=>{var{value:f,background:g,tooltipPosition:h}=a,i=FI(a,FC);if(!g)return null;var o=k(a,c),p=l(a,c),q=m(a,c),r=FH(FH(FH(FH(FH({option:e,isActive:String(c)===b},i),{},{fill:"#eee"},g),n),Ck(j,a,c)),{},{onMouseEnter:o,onMouseLeave:p,onClick:q,dataKey:d,index:c,className:"recharts-bar-background-rectangle"});return C$.createElement(E0,FF({key:"background-bar-".concat(c)},r))}))}function FL(a){var{data:b,props:c,showLabels:d}=a,e=Cn(c),{id:f}=e,g=FI(e,FD),{shape:h,dataKey:i,activeBar:j}=c,k=r1(AM),l=r1(AO),{onMouseEnter:m,onClick:n,onMouseLeave:o}=c,p=FI(c,FE),q=E2(m,i),r=E3(o),s=E4(n,i);return b?C$.createElement(C$.Fragment,null,b.map((a,b)=>{var c=j&&String(b)===k&&(null==l||i===l),d=FH(FH(FH({},g),a),{},{isActive:c,option:c?j:h,index:b,dataKey:i});return C$.createElement(C1,FF({className:"recharts-bar-rectangle"},Ck(p,a,b),{onMouseEnter:q(a,b),onMouseLeave:r(a,b),onClick:s(a,b),key:"rectangle-".concat(null==a?void 0:a.x,"-").concat(null==a?void 0:a.y,"-").concat(null==a?void 0:a.value,"-").concat(b)}),C$.createElement(E0,d))}),d&&DL.renderCallByParent(c,b)):null}function FM(a){var{props:b,previousRectanglesRef:c}=a,{data:d,layout:e,isAnimationActive:f,animationBegin:g,animationDuration:h,animationEasing:i,onAnimationEnd:j,onAnimationStart:k}=b,l=c.current,m=Fq(b,"recharts-bar-"),[n,o]=(0,C$.useState)(!1),p=(0,C$.useCallback)(()=>{"function"==typeof j&&j(),o(!1)},[j]),q=(0,C$.useCallback)(()=>{"function"==typeof k&&k(),o(!0)},[k]);return C$.createElement(FA,{begin:g,duration:h,isActive:f,easing:i,onAnimationEnd:p,onAnimationStart:q,key:m},a=>{var f=1===a?d:null==d?void 0:d.map((b,c)=>{var d=l&&l[c];if(d)return FH(FH({},b),{},{x:ri(d.x,b.x,a),y:ri(d.y,b.y,a),width:ri(d.width,b.width,a),height:ri(d.height,b.height,a)});if("horizontal"===e){var f=ri(0,b.height,a);return FH(FH({},b),{},{y:b.y+b.height-f,height:f})}var g=ri(0,b.width,a);return FH(FH({},b),{},{width:g})});return(a>0&&(c.current=null!=f?f:null),null==f)?null:C$.createElement(C1,null,C$.createElement(FL,{props:b,data:f,showLabels:!n}))})}function FN(a){var{data:b,isAnimationActive:c}=a,d=(0,C$.useRef)(null);return c&&b&&b.length&&(null==d.current||d.current!==b)?C$.createElement(FM,{previousRectanglesRef:d,props:a}):C$.createElement(FL,{props:a,data:b,showLabels:!0})}var FO=(a,b)=>{var c=Array.isArray(a.value)?a.value[1]:a.value;return{x:a.x,y:a.y,value:c,errorVal:sj(a,b)}};class FP extends C$.PureComponent{render(){var{hide:a,data:b,dataKey:c,className:d,xAxisId:e,yAxisId:f,needClip:g,background:h,id:i}=this.props;if(a)return null;var j=_("recharts-bar",d);return C$.createElement(C1,{className:j,id:i},g&&C$.createElement("defs",null,C$.createElement(Fa,{clipPathId:i,xAxisId:e,yAxisId:f})),C$.createElement(C1,{className:"recharts-bar-rectangles",clipPath:g?"url(#clipPath-".concat(i,")"):void 0},C$.createElement(FK,{data:b,dataKey:c,background:h,allOtherBarProps:this.props}),C$.createElement(FN,this.props)),this.props.children)}}var FQ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!C4,legendType:"rect",minPointSize:0,xAxisId:0,yAxisId:0};function FR(a){var b,{xAxisId:c,yAxisId:d,hide:e,legendType:f,minPointSize:g,activeBar:h,animationBegin:i,animationDuration:j,animationEasing:k,isAnimationActive:l}=a,{needClip:m}=E9(c,d),n=r1(sP),o=sI(),p=Cs(a.children,C2),q=r1(b=>Fm(b,c,d,o,a.id,p));if("vertical"!==n&&"horizontal"!==n)return null;var r=null==q?void 0:q[0];return b=null==r||null==r.height||null==r.width?0:"vertical"===n?r.height/2:r.width/2,C$.createElement(E8,{xAxisId:c,yAxisId:d,data:q,dataPointFormatter:FO,errorBarOffset:b},C$.createElement(FP,FF({},a,{layout:n,needClip:m,data:q,xAxisId:c,yAxisId:d,hide:e,legendType:f,minPointSize:g,activeBar:h,animationBegin:i,animationDuration:j,animationEasing:k,isAnimationActive:l})))}function FS(a){var b=CT(a,FQ),c=sI();return C$.createElement(Ft,{id:b.id,type:"bar"},a=>{var d;return C$.createElement(C$.Fragment,null,C$.createElement(Fo,{legendPayload:(a=>{var{dataKey:b,name:c,fill:d,legendType:e,hide:f}=a;return[{inactive:f,dataKey:b,type:e,color:d,value:st(c,b),payload:a}]})(b)}),C$.createElement(E5,{fn:FJ,args:b}),C$.createElement(Fu,{type:"bar",id:a,data:void 0,xAxisId:b.xAxisId,yAxisId:b.yAxisId,zAxisId:0,dataKey:b.dataKey,stackId:null==(d=b.stackId)?void 0:String(d),hide:b.hide,barSize:b.barSize,minPointSize:b.minPointSize,maxBarSize:b.maxBarSize,isPanorama:c}),C$.createElement(FR,FF({},b,{id:a})))})}FS.displayName="Bar";var FT=m,FU=m;function FV(a,b){for(var c in a)if(({}).hasOwnProperty.call(a,c)&&(!({}).hasOwnProperty.call(b,c)||a[c]!==b[c]))return!1;for(var d in b)if(({}).hasOwnProperty.call(b,d)&&!({}).hasOwnProperty.call(a,d))return!1;return!0}class FW{static create(a){return new FW(a)}constructor(a){this.scale=a}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(a){var{bandAware:b,position:c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==a){if(c)switch(c){case"start":default:return this.scale(a);case"middle":var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(a)+d;case"end":var e=this.bandwidth?this.bandwidth():0;return this.scale(a)+e}if(b){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(a)+f}return this.scale(a)}}isInRange(a){var b=this.range(),c=b[0],d=b[b.length-1];return c<=d?a>=c&&a<=d:a>=d&&a<=c}}(j="symbol"==typeof(i=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(j="EPS","string"))?i:i+"")in FW?Object.defineProperty(FW,j,{value:1e-4,enumerable:!0,configurable:!0,writable:!0}):FW[j]=1e-4;var FX=function(a){var{width:b,height:c}=a,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(d%180+180)%180*Math.PI/180,f=Math.atan(c/b);return Math.abs(e>f&&e<Math.PI-f?c/Math.sin(e):b/Math.cos(e))};function FY(a,b,c){if(b<1)return[];if(1===b&&void 0===c)return a;for(var d=[],e=0;e<a.length;e+=b)if(void 0!==c&&!0!==c(a[e]))return;else d.push(a[e]);return d}function FZ(a,b,c,d,e){if(a*b<a*d||a*b>a*e)return!1;var f=c();return a*(b-a*f/2-d)>=0&&a*(b+a*f/2-e)<=0}function F$(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function F_(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?F$(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):F$(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function F0(a,b,c){var d,{tick:e,ticks:f,viewBox:g,minTickGap:h,orientation:i,interval:j,tickFormatter:k,unit:l,angle:m}=a;if(!f||!f.length||!e)return[];if(rb(j)||C4)return null!=(d=FY(f,(rb(j)?j:0)+1))?d:[];var n="top"===i||"bottom"===i?"width":"height",o=l&&"width"===n?Db(l,{fontSize:b,letterSpacing:c}):{width:0,height:0},p=(a,d)=>{var e,f="function"==typeof k?k(a.value,d):a.value;return"width"===n?(e=Db(f,{fontSize:b,letterSpacing:c}),FX({width:e.width+o.width,height:e.height+o.height},m)):Db(f,{fontSize:b,letterSpacing:c})[n]},q=f.length>=2?q8(f[1].coordinate-f[0].coordinate):1,r=function(a,b,c){var d="width"===c,{x:e,y:f,width:g,height:h}=a;return 1===b?{start:d?e:f,end:d?e+g:f+h}:{start:d?e+g:f+h,end:d?e:f}}(g,q,n);return"equidistantPreserveStart"===j?function(a,b,c,d,e){for(var f,g=(d||[]).slice(),{start:h,end:i}=b,j=0,k=1,l=h;k<=g.length;)if(f=function(){var b,f=null==d?void 0:d[j];if(void 0===f)return{v:FY(d,k)};var g=j,m=()=>(void 0===b&&(b=c(f,g)),b),n=f.coordinate,o=0===j||FZ(a,n,m,l,i);o||(j=0,l=h,k+=1),o&&(l=n+a*(m()/2+e),j+=k)}())return f.v;return[]}(q,r,p,f,h):("preserveStart"===j||"preserveStartEnd"===j?function(a,b,c,d,e,f){var g=(d||[]).slice(),h=g.length,{start:i,end:j}=b;if(f){var k=d[h-1],l=c(k,h-1),m=a*(k.coordinate+a*l/2-j);g[h-1]=k=F_(F_({},k),{},{tickCoord:m>0?k.coordinate-m*a:k.coordinate}),FZ(a,k.tickCoord,()=>l,i,j)&&(j=k.tickCoord-a*(l/2+e),g[h-1]=F_(F_({},k),{},{isShow:!0}))}for(var n=f?h-1:h,o=function(b){var d,f=g[b],h=()=>(void 0===d&&(d=c(f,b)),d);if(0===b){var k=a*(f.coordinate-a*h()/2-i);g[b]=f=F_(F_({},f),{},{tickCoord:k<0?f.coordinate-k*a:f.coordinate})}else g[b]=f=F_(F_({},f),{},{tickCoord:f.coordinate});FZ(a,f.tickCoord,h,i,j)&&(i=f.tickCoord+a*(h()/2+e),g[b]=F_(F_({},f),{},{isShow:!0}))},p=0;p<n;p++)o(p);return g}(q,r,p,f,h,"preserveStartEnd"===j):function(a,b,c,d,e){for(var f=(d||[]).slice(),g=f.length,{start:h}=b,{end:i}=b,j=function(b){var d,j=f[b],k=()=>(void 0===d&&(d=c(j,b)),d);if(b===g-1){var l=a*(j.coordinate+a*k()/2-i);f[b]=j=F_(F_({},j),{},{tickCoord:l>0?j.coordinate-l*a:j.coordinate})}else f[b]=j=F_(F_({},j),{},{tickCoord:j.coordinate});FZ(a,j.tickCoord,k,h,i)&&(i=j.tickCoord-a*(k()/2+e),f[b]=F_(F_({},j),{},{isShow:!0}))},k=g-1;k>=0;k--)j(k);return f}(q,r,p,f,h)).filter(a=>a.isShow)}var F1=["viewBox"],F2=["viewBox"];function F3(){return(F3=Object.assign.bind()).apply(null,arguments)}function F4(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function F5(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?F4(Object(c),!0).forEach(function(b){F7(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):F4(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function F6(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function F7(a,b,c){var d;return(b="symbol"==typeof(d=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"))?d:d+"")in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}class F8 extends FU.Component{constructor(a){super(a),this.tickRefs=FU.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(a,b){var{viewBox:c}=a,d=F6(a,F1),e=this.props,{viewBox:f}=e,g=F6(e,F2);return!FV(c,f)||!FV(d,g)||!FV(b,this.state)}getTickLineCoord(a){var b,c,d,e,f,g,{x:h,y:i,width:j,height:k,orientation:l,tickSize:m,mirror:n,tickMargin:o}=this.props,p=n?-1:1,q=a.tickSize||m,r=rb(a.tickCoord)?a.tickCoord:a.coordinate;switch(l){case"top":b=c=a.coordinate,g=(d=(e=i+!n*k)-p*q)-p*o,f=r;break;case"left":d=e=a.coordinate,f=(b=(c=h+!n*j)-p*q)-p*o,g=r;break;case"right":d=e=a.coordinate,f=(b=(c=h+n*j)+p*q)+p*o,g=r;break;default:b=c=a.coordinate,g=(d=(e=i+n*k)+p*q)+p*o,f=r}return{line:{x1:b,y1:d,x2:c,y2:e},tick:{x:f,y:g}}}getTickTextAnchor(){var a,{orientation:b,mirror:c}=this.props;switch(b){case"left":a=c?"start":"end";break;case"right":a=c?"end":"start";break;default:a="middle"}return a}getTickVerticalAnchor(){var{orientation:a,mirror:b}=this.props;switch(a){case"left":case"right":return"middle";case"top":return b?"start":"end";default:return b?"end":"start"}}renderAxisLine(){var{x:a,y:b,width:c,height:d,orientation:e,mirror:f,axisLine:g}=this.props,h=F5(F5(F5({},Ct(this.props,!1)),Ct(g,!1)),{},{fill:"none"});if("top"===e||"bottom"===e){var i=+("top"===e&&!f||"bottom"===e&&f);h=F5(F5({},h),{},{x1:a,y1:b+i*d,x2:a+c,y2:b+i*d})}else{var j=+("left"===e&&!f||"right"===e&&f);h=F5(F5({},h),{},{x1:a+j*c,y1:b,x2:a+j*c,y2:b+d})}return FU.createElement("line",F3({},h,{className:_("recharts-cartesian-axis-line",(0,q7.default)(g,"className"))}))}static renderTickItem(a,b,c){var d,e=_(b.className,"recharts-cartesian-axis-tick-value");if(FU.isValidElement(a))d=FU.cloneElement(a,F5(F5({},b),{},{className:e}));else if("function"==typeof a)d=a(F5(F5({},b),{},{className:e}));else{var f="recharts-cartesian-axis-tick-value";"boolean"!=typeof a&&(f=_(f,a.className)),d=FU.createElement(Du,F3({},b,{className:f}),c)}return d}renderTicks(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{tickLine:d,stroke:e,tick:f,tickFormatter:g,unit:h,padding:i}=this.props,j=F0(F5(F5({},this.props),{},{ticks:c}),a,b),k=this.getTickTextAnchor(),l=this.getTickVerticalAnchor(),m=Cn(this.props),n=Ct(f,!1),o=F5(F5({},m),{},{fill:"none"},Ct(d,!1)),p=j.map((a,b)=>{var{line:c,tick:p}=this.getTickLineCoord(a),q=F5(F5(F5(F5({textAnchor:k,verticalAnchor:l},m),{},{stroke:"none",fill:e},n),p),{},{index:b,payload:a,visibleTicksCount:j.length,tickFormatter:g,padding:i});return FU.createElement(C1,F3({className:"recharts-cartesian-axis-tick",key:"tick-".concat(a.value,"-").concat(a.coordinate,"-").concat(a.tickCoord)},Ck(this.props,a,b)),d&&FU.createElement("line",F3({},o,c,{className:_("recharts-cartesian-axis-tick-line",(0,q7.default)(d,"className"))})),f&&F8.renderTickItem(f,q,"".concat("function"==typeof g?g(a.value,b):a.value).concat(h||"")))});return p.length>0?FU.createElement("g",{className:"recharts-cartesian-axis-ticks"},p):null}render(){var{axisLine:a,width:b,height:c,className:d,hide:e}=this.props;if(e)return null;var{ticks:f}=this.props;return null!=b&&b<=0||null!=c&&c<=0?null:FU.createElement(C1,{className:_("recharts-cartesian-axis",d),ref:a=>{if(a){var b=a.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(b);var c=b[0];if(c){var d=window.getComputedStyle(c).fontSize,e=window.getComputedStyle(c).letterSpacing;(d!==this.state.fontSize||e!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(c).fontSize,letterSpacing:window.getComputedStyle(c).letterSpacing})}}}},a&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,f),DC.renderCallByParent(this.props))}}F7(F8,"displayName","CartesianAxis"),F7(F8,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var F9=["children"],Ga=["dangerouslySetInnerHTML","ticks"];function Gb(a,b,c){var d;return(b="symbol"==typeof(d=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"))?d:d+"")in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function Gc(){return(Gc=Object.assign.bind()).apply(null,arguments)}function Gd(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function Ge(a){var b=rZ(),c=(0,FT.useMemo)(()=>{var{children:b}=a;return Gd(a,F9)},[a]),d=r1(a=>yu(a,c.id)),e=c===d;return((0,FT.useEffect)(()=>(b(Be(c)),()=>{b(Bf(c))}),[c,b]),e)?a.children:null}var Gf=a=>{var{xAxisId:b,className:c}=a,d=r1(sG),e=sI(),f="xAxis",g=r1(a=>zC(a,f,b,e)),h=r1(a=>zT(a,f,b,e)),i=r1(a=>zJ(a,b)),j=r1(a=>((a,b)=>{var c=sE(a),d=yu(a,b);if(null!=d){var e=zK(a,d.orientation,d.mirror)[b];return null==e?{x:c.left,y:0}:{x:c.left,y:e}}})(a,b));if(null==i||null==j)return null;var{dangerouslySetInnerHTML:k,ticks:l}=a,m=Gd(a,Ga);return FT.createElement(F8,Gc({},m,{scale:g,x:j.x,y:j.y,width:i.width,height:i.height,className:_("recharts-".concat(f," ").concat(f),c),viewBox:d,ticks:h}))},Gg=a=>{var b,c,d,e,f;return FT.createElement(Ge,{interval:null!=(b=a.interval)?b:"preserveEnd",id:a.xAxisId,scale:a.scale,type:a.type,padding:a.padding,allowDataOverflow:a.allowDataOverflow,domain:a.domain,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,includeHidden:null!=(c=a.includeHidden)&&c,reversed:a.reversed,ticks:a.ticks,height:a.height,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:null!=(d=a.angle)?d:0,minTickGap:null!=(e=a.minTickGap)?e:5,tick:null==(f=a.tick)||f,tickFormatter:a.tickFormatter},FT.createElement(Gf,a))};class Gh extends FT.Component{render(){return FT.createElement(Gg,this.props)}}Gb(Gh,"displayName","XAxis"),Gb(Gh,"defaultProps",{allowDataOverflow:yt.allowDataOverflow,allowDecimals:yt.allowDecimals,allowDuplicatedCategory:yt.allowDuplicatedCategory,height:yt.height,hide:!1,mirror:yt.mirror,orientation:yt.orientation,padding:yt.padding,reversed:yt.reversed,scale:yt.scale,tickCount:yt.tickCount,type:yt.type,xAxisId:0});var Gi=m,Gj=["dangerouslySetInnerHTML","ticks"];function Gk(a,b,c){var d;return(b="symbol"==typeof(d=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"))?d:d+"")in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function Gl(){return(Gl=Object.assign.bind()).apply(null,arguments)}function Gm(a){var b=rZ();return(0,Gi.useEffect)(()=>(b(Bg(a)),()=>{b(Bh(a))}),[a,b]),null}var Gn=a=>{var b,{yAxisId:c,className:d,width:e,label:f}=a,g=(0,Gi.useRef)(null),h=(0,Gi.useRef)(null),i=r1(sG),j=sI(),k=rZ(),l="yAxis",m=r1(a=>zC(a,l,c,j)),n=r1(a=>zM(a,c)),o=r1(a=>((a,b)=>{var c=sE(a),d=yw(a,b);if(null!=d){var e=zL(a,d.orientation,d.mirror)[b];return null==e?{x:0,y:c.top}:{x:e,y:c.top}}})(a,c)),p=r1(a=>zT(a,l,c,j));if((0,Gi.useLayoutEffect)(()=>{if(!("auto"!==e||!n||DB(f)||(0,Gi.isValidElement)(f))){var a,b=g.current,d=null==b||null==(a=b.tickRefs)?void 0:a.current,{tickSize:i,tickMargin:j}=b.props,l=(a=>{var{ticks:b,label:c,labelGapWithTick:d=5,tickSize:e=0,tickMargin:f=0}=a,g=0;if(b){b.forEach(a=>{if(a){var b=a.getBoundingClientRect();b.width>g&&(g=b.width)}});var h=c?c.getBoundingClientRect().width:0;return Math.round(g+(e+f)+h+(c?d:0))}return 0})({ticks:d,label:h.current,labelGapWithTick:5,tickSize:i,tickMargin:j});Math.round(n.width)!==Math.round(l)&&k(Bk({id:c,width:l}))}},[g,null==g||null==(b=g.current)||null==(b=b.tickRefs)?void 0:b.current,null==n?void 0:n.width,n,k,f,c,e]),null==n||null==o)return null;var{dangerouslySetInnerHTML:q,ticks:r}=a,s=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,Gj);return Gi.createElement(F8,Gl({},s,{ref:g,labelRef:h,scale:m,x:o.x,y:o.y,width:n.width,height:n.height,className:_("recharts-".concat(l," ").concat(l),d),viewBox:i,ticks:p}))},Go=a=>{var b,c,d,e,f;return Gi.createElement(Gi.Fragment,null,Gi.createElement(Gm,{interval:null!=(b=a.interval)?b:"preserveEnd",id:a.yAxisId,scale:a.scale,type:a.type,domain:a.domain,allowDataOverflow:a.allowDataOverflow,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,padding:a.padding,includeHidden:null!=(c=a.includeHidden)&&c,reversed:a.reversed,ticks:a.ticks,width:a.width,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:null!=(d=a.angle)?d:0,minTickGap:null!=(e=a.minTickGap)?e:5,tick:null==(f=a.tick)||f,tickFormatter:a.tickFormatter}),Gi.createElement(Gn,a))},Gp={allowDataOverflow:yv.allowDataOverflow,allowDecimals:yv.allowDecimals,allowDuplicatedCategory:yv.allowDuplicatedCategory,hide:!1,mirror:yv.mirror,orientation:yv.orientation,padding:yv.padding,reversed:yv.reversed,scale:yv.scale,tickCount:yv.tickCount,type:yv.type,width:yv.width,yAxisId:0};class Gq extends Gi.Component{render(){return Gi.createElement(Go,this.props)}}Gk(Gq,"displayName","YAxis"),Gk(Gq,"defaultProps",Gp);var Gr=function(a,b){for(var c=arguments.length,d=Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e]},Gs=["x1","y1","x2","y2","key"],Gt=["offset"],Gu=["xAxisId","yAxisId"],Gv=["xAxisId","yAxisId"];function Gw(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function Gx(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?Gw(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):Gw(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function Gy(){return(Gy=Object.assign.bind()).apply(null,arguments)}function Gz(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}var GA=a=>{var{fill:b}=a;if(!b||"none"===b)return null;var{fillOpacity:c,x:d,y:e,width:f,height:g,ry:h}=a;return m.createElement("rect",{x:d,y:e,ry:h,width:f,height:g,stroke:"none",fill:b,fillOpacity:c,className:"recharts-cartesian-grid-bg"})};function GB(a,b){var c;if(m.isValidElement(a))c=m.cloneElement(a,b);else if("function"==typeof a)c=a(b);else{var{x1:d,y1:e,x2:f,y2:g,key:h}=b,i=Cn(Gz(b,Gs)),{offset:j}=i,k=Gz(i,Gt);c=m.createElement("line",Gy({},k,{x1:d,y1:e,x2:f,y2:g,fill:"none",key:h}))}return c}function GC(a){var{x:b,width:c,horizontal:d=!0,horizontalPoints:e}=a;if(!d||!e||!e.length)return null;var{xAxisId:f,yAxisId:g}=a,h=Gz(a,Gu),i=e.map((a,e)=>GB(d,Gx(Gx({},h),{},{x1:b,y1:a,x2:b+c,y2:a,key:"line-".concat(e),index:e})));return m.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function GD(a){var{y:b,height:c,vertical:d=!0,verticalPoints:e}=a;if(!d||!e||!e.length)return null;var{xAxisId:f,yAxisId:g}=a,h=Gz(a,Gv),i=e.map((a,e)=>GB(d,Gx(Gx({},h),{},{x1:a,y1:b,x2:a,y2:b+c,key:"line-".concat(e),index:e})));return m.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function GE(a){var{horizontalFill:b,fillOpacity:c,x:d,y:e,width:f,height:g,horizontalPoints:h,horizontal:i=!0}=a;if(!i||!b||!b.length)return null;var j=h.map(a=>Math.round(a+e-e)).sort((a,b)=>a-b);e!==j[0]&&j.unshift(0);var k=j.map((a,h)=>{var i=j[h+1]?j[h+1]-a:e+g-a;if(i<=0)return null;var k=h%b.length;return m.createElement("rect",{key:"react-".concat(h),y:a,x:d,height:i,width:f,stroke:"none",fill:b[k],fillOpacity:c,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},k)}function GF(a){var{vertical:b=!0,verticalFill:c,fillOpacity:d,x:e,y:f,width:g,height:h,verticalPoints:i}=a;if(!b||!c||!c.length)return null;var j=i.map(a=>Math.round(a+e-e)).sort((a,b)=>a-b);e!==j[0]&&j.unshift(0);var k=j.map((a,b)=>{var i=j[b+1]?j[b+1]-a:e+g-a;if(i<=0)return null;var k=b%c.length;return m.createElement("rect",{key:"react-".concat(b),x:a,y:f,width:i,height:h,stroke:"none",fill:c[k],fillOpacity:d,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},k)}var GG=(a,b)=>{var{xAxis:c,width:d,height:e,offset:f}=a;return sl(F0(Gx(Gx(Gx({},F8.defaultProps),c),{},{ticks:sm(c,!0),viewBox:{x:0,y:0,width:d,height:e}})),f.left,f.left+f.width,b)},GH=(a,b)=>{var{yAxis:c,width:d,height:e,offset:f}=a;return sl(F0(Gx(Gx(Gx({},F8.defaultProps),c),{},{ticks:sm(c,!0),viewBox:{x:0,y:0,width:d,height:e}})),f.top,f.top+f.height,b)},GI={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function GJ(a){var b=r1(su),c=r1(sv),d=sN(),e=Gx(Gx({},CT(a,GI)),{},{x:rb(a.x)?a.x:d.left,y:rb(a.y)?a.y:d.top,width:rb(a.width)?a.width:d.width,height:rb(a.height)?a.height:d.height}),{xAxisId:f,yAxisId:g,x:h,y:i,width:j,height:k,syncWithTicks:l,horizontalValues:n,verticalValues:o}=e,p=sI(),q=r1(a=>zS(a,"xAxis",f,p)),r=r1(a=>zS(a,"yAxis",g,p));if(!rb(j)||j<=0||!rb(k)||k<=0||!rb(h)||h!==+h||!rb(i)||i!==+i)return null;var s=e.verticalCoordinatesGenerator||GG,t=e.horizontalCoordinatesGenerator||GH,{horizontalPoints:u,verticalPoints:v}=e;if((!u||!u.length)&&"function"==typeof t){var w=n&&n.length,x=t({yAxis:r?Gx(Gx({},r),{},{ticks:w?n:r.ticks}):void 0,width:b,height:c,offset:d},!!w||l);Gr(Array.isArray(x),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof x,"]")),Array.isArray(x)&&(u=x)}if((!v||!v.length)&&"function"==typeof s){var y=o&&o.length,z=s({xAxis:q?Gx(Gx({},q),{},{ticks:y?o:q.ticks}):void 0,width:b,height:c,offset:d},!!y||l);Gr(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(v=z)}return m.createElement("g",{className:"recharts-cartesian-grid"},m.createElement(GA,{fill:e.fill,fillOpacity:e.fillOpacity,x:e.x,y:e.y,width:e.width,height:e.height,ry:e.ry}),m.createElement(GE,Gy({},e,{horizontalPoints:u})),m.createElement(GF,Gy({},e,{verticalPoints:v})),m.createElement(GC,Gy({},e,{offset:d,horizontalPoints:u,xAxis:q,yAxis:r})),m.createElement(GD,Gy({},e,{offset:d,verticalPoints:v,xAxis:q,yAxis:r})))}function GK(){return(GK=Object.assign.bind()).apply(null,arguments)}function GL(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function GM(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?GL(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):GL(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function GN(a){return Array.isArray(a)&&rc(a[0])&&rc(a[1])?a.join(" ~ "):a}GJ.displayName="CartesianGrid";var GO=a=>{var{separator:b=" : ",contentStyle:c={},itemStyle:d={},labelStyle:e={},payload:f,formatter:g,itemSorter:h,wrapperClassName:i,labelClassName:j,label:k,labelFormatter:l,accessibilityLayer:n=!1}=a,o=GM({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},c),p=GM({margin:0},e),q=null!=k,r=q?k:"",s=_("recharts-default-tooltip",i),t=_("recharts-tooltip-label",j);return q&&l&&null!=f&&(r=l(k,f)),m.createElement("div",GK({className:s,style:o},n?{role:"status","aria-live":"assertive"}:{}),m.createElement("p",{className:t,style:p},m.isValidElement(r)?r:"".concat(r)),(()=>{if(f&&f.length){var a=(h?(0,r2.default)(f,h):f).map((a,c)=>{if("none"===a.type)return null;var e=a.formatter||g||GN,{value:h,name:i}=a,j=h,k=i,l=e(h,i,a,c,f);if(Array.isArray(l))[j,k]=l;else{if(null==l)return null;j=l}var n=GM({display:"block",paddingTop:4,paddingBottom:4,color:a.color||"#000"},d);return m.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(c),style:n},rc(k)?m.createElement("span",{className:"recharts-tooltip-item-name"},k):null,rc(k)?m.createElement("span",{className:"recharts-tooltip-item-separator"},b):null,m.createElement("span",{className:"recharts-tooltip-item-value"},j),m.createElement("span",{className:"recharts-tooltip-item-unit"},a.unit||""))});return m.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},a)}return null})())},GP=m,GQ="recharts-tooltip-wrapper",GR={visibility:"hidden"};function GS(a){var{allowEscapeViewBox:b,coordinate:c,key:d,offsetTopLeft:e,position:f,reverseDirection:g,tooltipDimension:h,viewBox:i,viewBoxDimension:j}=a;if(f&&rb(f[d]))return f[d];var k=c[d]-h-(e>0?e:0),l=c[d]+e;if(b[d])return g[d]?k:l;var m=i[d];return null==m?0:g[d]?k<m?Math.max(l,m):Math.max(k,m):null==j?0:l+h>m+j?Math.max(k,m):Math.max(l,m)}function GT(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function GU(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?GT(Object(c),!0).forEach(function(b){GV(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):GT(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function GV(a,b,c){var d;return(b="symbol"==typeof(d=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"))?d:d+"")in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}class GW extends GP.PureComponent{constructor(){super(...arguments),GV(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),GV(this,"handleKeyDown",a=>{if("Escape"===a.key){var b,c,d,e;this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!=(b=null==(c=this.props.coordinate)?void 0:c.x)?b:0,y:null!=(d=null==(e=this.props.coordinate)?void 0:e.y)?d:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var a,b;this.state.dismissed&&((null==(a=this.props.coordinate)?void 0:a.x)!==this.state.dismissedAtCoordinate.x||(null==(b=this.props.coordinate)?void 0:b.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:a,allowEscapeViewBox:b,animationDuration:c,animationEasing:d,children:e,coordinate:f,hasPayload:g,isAnimationActive:h,offset:i,position:j,reverseDirection:k,useTranslate3d:l,viewBox:m,wrapperStyle:n,lastBoundingBox:o,innerRef:p,hasPortalFromProps:q}=this.props,{cssClasses:r,cssProperties:s}=function(a){var b,c,d,{allowEscapeViewBox:e,coordinate:f,offsetTopLeft:g,position:h,reverseDirection:i,tooltipBox:j,useTranslate3d:k,viewBox:l}=a;return{cssProperties:b=j.height>0&&j.width>0&&f?function(a){var{translateX:b,translateY:c,useTranslate3d:d}=a;return{transform:d?"translate3d(".concat(b,"px, ").concat(c,"px, 0)"):"translate(".concat(b,"px, ").concat(c,"px)")}}({translateX:c=GS({allowEscapeViewBox:e,coordinate:f,key:"x",offsetTopLeft:g,position:h,reverseDirection:i,tooltipDimension:j.width,viewBox:l,viewBoxDimension:l.width}),translateY:d=GS({allowEscapeViewBox:e,coordinate:f,key:"y",offsetTopLeft:g,position:h,reverseDirection:i,tooltipDimension:j.height,viewBox:l,viewBoxDimension:l.height}),useTranslate3d:k}):GR,cssClasses:function(a){var{coordinate:b,translateX:c,translateY:d}=a;return _(GQ,{["".concat(GQ,"-right")]:rb(c)&&b&&rb(b.x)&&c>=b.x,["".concat(GQ,"-left")]:rb(c)&&b&&rb(b.x)&&c<b.x,["".concat(GQ,"-bottom")]:rb(d)&&b&&rb(b.y)&&d>=b.y,["".concat(GQ,"-top")]:rb(d)&&b&&rb(b.y)&&d<b.y})}({translateX:c,translateY:d,coordinate:f})}}({allowEscapeViewBox:b,coordinate:f,offsetTopLeft:i,position:j,reverseDirection:k,tooltipBox:{height:o.height,width:o.width},useTranslate3d:l,viewBox:m}),t=q?{}:GU(GU({transition:h&&a?"transform ".concat(c,"ms ").concat(d):void 0},s),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&g?"visible":"hidden",position:"absolute",top:0,left:0}),u=GU(GU({},t),{},{visibility:!this.state.dismissed&&a&&g?"visible":"hidden"},n);return GP.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:r,style:u,ref:p},e)}}var GX=a.i(53451);function GY(a,b,c){return!0===b?(0,GX.default)(a,c):"function"==typeof b?(0,GX.default)(a,b):a}function GZ(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[b,c]=(0,m.useState)({height:0,left:0,top:0,width:0}),d=(0,m.useCallback)(a=>{if(null!=a){var d=a.getBoundingClientRect(),e={height:d.height,left:d.left,top:d.top,width:d.width};(Math.abs(e.height-b.height)>1||Math.abs(e.left-b.left)>1||Math.abs(e.top-b.top)>1||Math.abs(e.width-b.width)>1)&&c({height:e.height,left:e.left,top:e.top,width:e.width})}},[b.width,b.height,b.top,b.left,...a]);return[b,d]}function G$(a){this._context=a}function G_(a){return new G$(a)}function G0(a){return a[0]}function G1(a){return a[1]}function G2(a,b){var c=r6(!0),d=null,e=G_,f=null,g=Eu(h);function h(h){var i,j,k,l=(h=r5(h)).length,m=!1;for(null==d&&(f=e(k=g())),i=0;i<=l;++i)!(i<l&&c(j=h[i],i,h))===m&&((m=!m)?f.lineStart():f.lineEnd()),m&&f.point(+a(j,i,h),+b(j,i,h));if(k)return f=null,k+""||null}return a="function"==typeof a?a:void 0===a?G0:r6(a),b="function"==typeof b?b:void 0===b?G1:r6(b),h.x=function(b){return arguments.length?(a="function"==typeof b?b:r6(+b),h):a},h.y=function(a){return arguments.length?(b="function"==typeof a?a:r6(+a),h):b},h.defined=function(a){return arguments.length?(c="function"==typeof a?a:r6(!!a),h):c},h.curve=function(a){return arguments.length?(e=a,null!=d&&(f=e(d)),h):e},h.context=function(a){return arguments.length?(null==a?d=f=null:f=e(d=a),h):d},h}function G3(a,b,c){var d=null,e=r6(!0),f=null,g=G_,h=null,i=Eu(j);function j(j){var k,l,m,n,o,p=(j=r5(j)).length,q=!1,r=Array(p),s=Array(p);for(null==f&&(h=g(o=i())),k=0;k<=p;++k){if(!(k<p&&e(n=j[k],k,j))===q)if(q=!q)l=k,h.areaStart(),h.lineStart();else{for(h.lineEnd(),h.lineStart(),m=k-1;m>=l;--m)h.point(r[m],s[m]);h.lineEnd(),h.areaEnd()}q&&(r[k]=+a(n,k,j),s[k]=+b(n,k,j),h.point(d?+d(n,k,j):r[k],c?+c(n,k,j):s[k]))}if(o)return h=null,o+""||null}function k(){return G2().defined(e).curve(g).context(f)}return a="function"==typeof a?a:void 0===a?G0:r6(+a),b="function"==typeof b?b:void 0===b?r6(0):r6(+b),c="function"==typeof c?c:void 0===c?G1:r6(+c),j.x=function(b){return arguments.length?(a="function"==typeof b?b:r6(+b),d=null,j):a},j.x0=function(b){return arguments.length?(a="function"==typeof b?b:r6(+b),j):a},j.x1=function(a){return arguments.length?(d=null==a?null:"function"==typeof a?a:r6(+a),j):d},j.y=function(a){return arguments.length?(b="function"==typeof a?a:r6(+a),c=null,j):b},j.y0=function(a){return arguments.length?(b="function"==typeof a?a:r6(+a),j):b},j.y1=function(a){return arguments.length?(c=null==a?null:"function"==typeof a?a:r6(+a),j):c},j.lineX0=j.lineY0=function(){return k().x(a).y(b)},j.lineY1=function(){return k().x(a).y(c)},j.lineX1=function(){return k().x(d).y(b)},j.defined=function(a){return arguments.length?(e="function"==typeof a?a:r6(!!a),j):e},j.curve=function(a){return arguments.length?(g=a,null!=f&&(h=g(f)),j):g},j.context=function(a){return arguments.length?(null==a?f=h=null:h=g(f=a),j):f},j}function G4(){}function G5(a,b,c){a._context.bezierCurveTo((2*a._x0+a._x1)/3,(2*a._y0+a._y1)/3,(a._x0+2*a._x1)/3,(a._y0+2*a._y1)/3,(a._x0+4*a._x1+b)/6,(a._y0+4*a._y1+c)/6)}function G6(a){this._context=a}function G7(a){this._context=a}function G8(a){this._context=a}G$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:this._context.lineTo(a,b)}}},G6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:G5(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:G5(this,a,b)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}},G7.prototype={areaStart:G4,areaEnd:G4,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._x2=a,this._y2=b;break;case 1:this._point=2,this._x3=a,this._y3=b;break;case 2:this._point=3,this._x4=a,this._y4=b,this._context.moveTo((this._x0+4*this._x1+a)/6,(this._y0+4*this._y1+b)/6);break;default:G5(this,a,b)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}},G8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var c=(this._x0+4*this._x1+a)/6,d=(this._y0+4*this._y1+b)/6;this._line?this._context.lineTo(c,d):this._context.moveTo(c,d);break;case 3:this._point=4;default:G5(this,a,b)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}};class G9{constructor(a,b){this._context=a,this._x=b}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+a)/2,this._y0,this._x0,b,a,b):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+b)/2,a,this._y0,a,b)}this._x0=a,this._y0=b}}function Ha(a){this._context=a}Ha.prototype={areaStart:G4,areaEnd:G4,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(a,b){a*=1,b*=1,this._point?this._context.lineTo(a,b):(this._point=1,this._context.moveTo(a,b))}};function Hb(a,b,c){var d=a._x1-a._x0,e=b-a._x1,f=(a._y1-a._y0)/(d||e<0&&-0),g=(c-a._y1)/(e||d<0&&-0);return((f<0?-1:1)+(g<0?-1:1))*Math.min(Math.abs(f),Math.abs(g),.5*Math.abs((f*e+g*d)/(d+e)))||0}function Hc(a,b){var c=a._x1-a._x0;return c?(3*(a._y1-a._y0)/c-b)/2:b}function Hd(a,b,c){var d=a._x0,e=a._y0,f=a._x1,g=a._y1,h=(f-d)/3;a._context.bezierCurveTo(d+h,e+h*b,f-h,g-h*c,f,g)}function He(a){this._context=a}function Hf(a){this._context=new Hg(a)}function Hg(a){this._context=a}function Hh(a){this._context=a}function Hi(a){var b,c,d=a.length-1,e=Array(d),f=Array(d),g=Array(d);for(e[0]=0,f[0]=2,g[0]=a[0]+2*a[1],b=1;b<d-1;++b)e[b]=1,f[b]=4,g[b]=4*a[b]+2*a[b+1];for(e[d-1]=2,f[d-1]=7,g[d-1]=8*a[d-1]+a[d],b=1;b<d;++b)c=e[b]/f[b-1],f[b]-=c,g[b]-=c*g[b-1];for(e[d-1]=g[d-1]/f[d-1],b=d-2;b>=0;--b)e[b]=(g[b]-e[b+1])/f[b];for(b=0,f[d-1]=(a[d]+e[d-1])/2;b<d-1;++b)f[b]=2*a[b+1]-e[b+1];return[e,f]}function Hj(a,b){this._context=a,this._t=b}function Hk(){return(Hk=Object.assign.bind()).apply(null,arguments)}function Hl(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function Hm(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?Hl(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):Hl(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}He.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hd(this,this._t0,Hc(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){var c=NaN;if(b*=1,(a*=1)!==this._x1||b!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3,Hd(this,Hc(this,c=Hb(this,a,b)),c);break;default:Hd(this,this._t0,c=Hb(this,a,b))}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b,this._t0=c}}},(Hf.prototype=Object.create(He.prototype)).point=function(a,b){He.prototype.point.call(this,b,a)},Hg.prototype={moveTo:function(a,b){this._context.moveTo(b,a)},closePath:function(){this._context.closePath()},lineTo:function(a,b){this._context.lineTo(b,a)},bezierCurveTo:function(a,b,c,d,e,f){this._context.bezierCurveTo(b,a,d,c,f,e)}},Hh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var a=this._x,b=this._y,c=a.length;if(c)if(this._line?this._context.lineTo(a[0],b[0]):this._context.moveTo(a[0],b[0]),2===c)this._context.lineTo(a[1],b[1]);else for(var d=Hi(a),e=Hi(b),f=0,g=1;g<c;++f,++g)this._context.bezierCurveTo(d[0][f],e[0][f],d[1][f],e[1][f],a[g],b[g]);(this._line||0!==this._line&&1===c)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(a,b){this._x.push(+a),this._y.push(+b)}},Hj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,b),this._context.lineTo(a,b);else{var c=this._x*(1-this._t)+a*this._t;this._context.lineTo(c,this._y),this._context.lineTo(c,b)}}this._x=a,this._y=b}};var Hn={curveBasisClosed:function(a){return new G7(a)},curveBasisOpen:function(a){return new G8(a)},curveBasis:function(a){return new G6(a)},curveBumpX:function(a){return new G9(a,!0)},curveBumpY:function(a){return new G9(a,!1)},curveLinearClosed:function(a){return new Ha(a)},curveLinear:G_,curveMonotoneX:function(a){return new He(a)},curveMonotoneY:function(a){return new Hf(a)},curveNatural:function(a){return new Hh(a)},curveStep:function(a){return new Hj(a,.5)},curveStepAfter:function(a){return new Hj(a,1)},curveStepBefore:function(a){return new Hj(a,0)}},Ho=a=>wL(a.x)&&wL(a.y),Hp=a=>a.x,Hq=a=>a.y,Hr=a=>{var{className:b,points:c,path:d,pathRef:e}=a;if((!c||!c.length)&&!d)return null;var f=c&&c.length?(a=>{var b,{type:c="linear",points:d=[],baseLine:e,layout:f,connectNulls:g=!1}=a,h=((a,b)=>{if("function"==typeof a)return a;var c="curve".concat(rj(a));return("curveMonotone"===c||"curveBump"===c)&&b?Hn["".concat(c).concat("vertical"===b?"Y":"X")]:Hn[c]||G_})(c,f),i=g?d.filter(Ho):d;if(Array.isArray(e)){var j=g?e.filter(a=>Ho(a)):e,k=i.map((a,b)=>Hm(Hm({},a),{},{base:j[b]}));return(b="vertical"===f?G3().y(Hq).x1(Hp).x0(a=>a.base.x):G3().x(Hp).y1(Hq).y0(a=>a.base.y)).defined(Ho).curve(h),b(k)}return(b="vertical"===f&&rb(e)?G3().y(Hq).x1(Hp).x0(e):rb(e)?G3().x(Hp).y1(Hq).y0(e):G2().x(Hp).y(Hq)).defined(Ho).curve(h),b(i)})(a):d;return m.createElement("path",Hk({},Cn(a),((a,b)=>{if(!a||"function"==typeof a||"boolean"==typeof a)return null;var c=a;if((0,m.isValidElement)(a)&&(c=a.props),"object"!=typeof c&&"function"!=typeof c)return null;var d={};return Object.keys(c).forEach(a=>{Ch(a)&&(d[a]=b||(b=>c[a](c,b)))}),d})(a),{className:_("recharts-curve",b),d:null===f?void 0:f,ref:e}))},Hs=["x","y","top","left","width","height","className"];function Ht(){return(Ht=Object.assign.bind()).apply(null,arguments)}function Hu(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}var Hv=a=>{var{x:b=0,y:c=0,top:d=0,left:e=0,width:f=0,height:g=0,className:h}=a,i=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?Hu(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):Hu(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({x:b,y:c,top:d,left:e,width:f,height:g},function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,Hs));return rb(b)&&rb(c)&&rb(f)&&rb(g)&&rb(d)&&rb(e)?m.createElement("path",Ht({},Ct(i,!0),{className:_("recharts-cross",h),d:"M".concat(b,",").concat(d,"v").concat(g,"M").concat(e,",").concat(c,"h").concat(f)})):null};function Hw(a){var{cx:b,cy:c,radius:d,startAngle:e,endAngle:f}=a;return{points:[se(b,c,d,e),se(b,c,d,f)],cx:b,cy:c,radius:d,startAngle:e,endAngle:f}}function Hx(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function Hy(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?Hx(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):Hx(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function Hz(){return(Hz=Object.assign.bind()).apply(null,arguments)}function HA(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function HB(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?HA(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):HA(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function HC(a){var b,c,d,{coordinate:e,payload:f,index:g,offset:h,tooltipAxisBandSize:i,layout:j,cursor:k,tooltipEventType:l,chartName:n}=a;if(!k||!e||"ScatterChart"!==n&&"axis"!==l)return null;if("ScatterChart"===n)c=e,d=Hv;else if("BarChart"===n)b=i/2,c={stroke:"none",fill:"#ccc",x:"horizontal"===j?e.x-b:h.left+.5,y:"horizontal"===j?h.top+.5:e.y-b,width:"horizontal"===j?i:h.width-1,height:"horizontal"===j?h.height-1:i},d=Ef;else if("radial"===j){var{cx:o,cy:p,radius:q,startAngle:r,endAngle:s}=Hw(e);c={cx:o,cy:p,startAngle:r,endAngle:s,innerRadius:q,outerRadius:q},d=Eo}else c={points:function(a,b,c){var d,e,f,g;if("horizontal"===a)f=d=b.x,e=c.top,g=c.top+c.height;else if("vertical"===a)g=e=b.y,d=c.left,f=c.left+c.width;else if(null!=b.cx&&null!=b.cy)if("centric"!==a)return Hw(b);else{var{cx:h,cy:i,innerRadius:j,outerRadius:k,angle:l}=b,m=se(h,i,j,l),n=se(h,i,k,l);d=m.x,e=m.y,f=n.x,g=n.y}return[{x:d,y:e},{x:f,y:g}]}(j,e,h)},d=Hr;var t="object"==typeof k&&"className"in k?k.className:void 0,u=HB(HB(HB(HB({stroke:"#ccc",pointerEvents:"none"},h),c),Ct(k,!1)),{},{payload:f,payloadIndex:g,className:_("recharts-tooltip-cursor",t)});return(0,m.isValidElement)(k)?(0,m.cloneElement)(k,u):(0,m.createElement)(d,u)}function HD(a){var b,c,d,e=(b=r1(yn),c=r1(AH),d=r1(AE),sr(Hy(Hy({},b),{},{scale:d}),c)),f=sN(),g=r1(sP),h=r1(x$);return m.createElement(HC,Hz({},a,{coordinate:a.coordinate,index:a.index,payload:a.payload,offset:f,layout:g,tooltipAxisBandSize:e,chartName:h}))}function HE(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function HF(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?HE(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):HE(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function HG(a){return a.dataKey}var HH=[],HI={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!C4,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function HJ(a){var b,c,d,e,f,g,h,i=CT(a,HI),{active:j,allowEscapeViewBox:k,animationDuration:l,animationEasing:n,content:o,filterNull:p,isAnimationActive:q,offset:r,payloadUniqBy:s,position:t,reverseDirection:u,useTranslate3d:v,wrapperStyle:w,cursor:x,shared:y,trigger:z,defaultIndex:A,portal:B,axisId:C}=i,D=rZ(),E="number"==typeof A?String(A):A;(0,m.useEffect)(()=>{D(rB({shared:y,trigger:z,axisId:C,active:j,defaultIndex:E}))},[D,y,z,C,j,E]);var F=sL(),G=Ce(),H=r1(a=>z_(a,y)),{activeIndex:I,isActive:J}=r1(a=>A3(a,H,z,E)),K=r1(a=>A2(a,H,z,E)),L=r1(a=>A1(a,H,z,E)),M=r1(a=>A0(a,H,z,E)),N=(0,m.useContext)(CI),O=null!=j?j:J,[P,Q]=GZ([K,O]),R="axis"===H?L:void 0;b=r1(a=>((a,b,c)=>{if(null!=b){var d=z8(a);return"axis"===b?"hover"===c?d.axisInteraction.hover.dataKey:d.axisInteraction.click.dataKey:"hover"===c?d.itemInteraction.hover.dataKey:d.itemInteraction.click.dataKey}})(a,H,z)),c=r1(x1),d=r1(x_),e=r1(x0),g=null==(f=r1(CG))?void 0:f.active,(0,m.useEffect)(()=>{if(!g&&null!=d&&null!=c){var a=rI({active:O,coordinate:M,dataKey:b,index:I,label:"number"==typeof R?String(R):R});CD.emit(CE,d,a,c)}},[g,M,b,I,R,c,d,e,O]);var S=null!=B?B:N;if(null==S)return null;var T=null!=K?K:HH;O||(T=HH),p&&T.length&&(T=GY(K.filter(a=>null!=a.value&&(!0!==a.hide||i.includeHidden)),s,HG));var U=T.length>0,V=m.createElement(GW,{allowEscapeViewBox:k,animationDuration:l,animationEasing:n,isAnimationActive:q,active:O,coordinate:M,hasPayload:U,offset:r,position:t,reverseDirection:u,useTranslate3d:v,viewBox:F,wrapperStyle:w,lastBoundingBox:P,innerRef:Q,hasPortalFromProps:!!B},(h=HF(HF({},i),{},{payload:T,label:R,active:O,coordinate:M,accessibilityLayer:G}),m.isValidElement(o)?m.cloneElement(o,h):"function"==typeof o?m.createElement(o,h):m.createElement(GO,h)));return m.createElement(m.Fragment,null,(0,a7.createPortal)(V,S),O&&m.createElement(HD,{cursor:x,tooltipEventType:H,coordinate:M,payload:K,index:I}))}var HK=m,HL=m;function HM(){return(HM=Object.assign.bind()).apply(null,arguments)}function HN(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function HO(a,b,c){var d;return(b="symbol"==typeof(d=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"))?d:d+"")in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}class HP extends HL.PureComponent{renderIcon(a,b){var{inactiveColor:c}=this.props,d=32/6,e=32/3,f=a.inactive?c:a.color,g=null!=b?b:a.type;if("none"===g)return null;if("plainline"===g)return HL.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:16,x2:32,y2:16,className:"recharts-legend-icon"});if("line"===g)return HL.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(16,"h").concat(e,"\n            A").concat(d,",").concat(d,",0,1,1,").concat(2*e,",").concat(16,"\n            H").concat(32,"M").concat(2*e,",").concat(16,"\n            A").concat(d,",").concat(d,",0,1,1,").concat(e,",").concat(16),className:"recharts-legend-icon"});if("rect"===g)return HL.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(4,"h").concat(32,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(HL.isValidElement(a.legendIcon)){var h=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?HN(Object(c),!0).forEach(function(b){HO(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):HN(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({},a);return delete h.legendIcon,HL.cloneElement(a.legendIcon,h)}return HL.createElement(EQ,{fill:f,cx:16,cy:16,size:32,sizeType:"diameter",type:g})}renderItems(){var{payload:a,iconSize:b,layout:c,formatter:d,inactiveColor:e,iconType:f}=this.props,g={x:0,y:0,width:32,height:32},h={display:"horizontal"===c?"inline-block":"block",marginRight:10},i={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map((a,c)=>{var j=a.formatter||d,k=_({"recharts-legend-item":!0,["legend-item-".concat(c)]:!0,inactive:a.inactive});if("none"===a.type)return null;var l=a.inactive?e:a.color,m=j?j(a.value,a,c):a.value;return HL.createElement("li",HM({className:k,style:h,key:"legend-item-".concat(c)},Ck(this.props,a,c)),HL.createElement(Cw,{width:b,height:b,viewBox:g,style:i,"aria-label":"".concat(m," legend icon")},this.renderIcon(a,f)),HL.createElement("span",{className:"recharts-legend-item-text",style:{color:l}},m))})}render(){var{payload:a,layout:b,align:c}=this.props;return a&&a.length?HL.createElement("ul",{className:"recharts-default-legend",style:{padding:0,margin:0,textAlign:"horizontal"===b?c:"left"}},this.renderItems()):null}}HO(HP,"displayName","Legend"),HO(HP,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var HQ=["contextPayload"];function HR(){return(HR=Object.assign.bind()).apply(null,arguments)}function HS(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function HT(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?HS(Object(c),!0).forEach(function(b){HU(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):HS(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function HU(a,b,c){var d;return(b="symbol"==typeof(d=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"))?d:d+"")in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function HV(a){return a.value}function HW(a){var{contextPayload:b}=a,c=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,HQ),d=GY(b,a.payloadUniqBy,HV),e=HT(HT({},c),{},{payload:d});return HK.isValidElement(a.content)?HK.cloneElement(a.content,e):"function"==typeof a.content?HK.createElement(a.content,e):HK.createElement(HP,e)}function HX(a){var b=rZ();return(0,HK.useEffect)(()=>{b(BH(a))},[b,a]),null}function HY(a){var b=rZ();return(0,HK.useEffect)(()=>(b(BG(a)),()=>{b(BG({width:0,height:0}))}),[b,a]),null}function HZ(a){var b,c=r1(r4),d=(0,m.useContext)(CJ),e=null!=(b=r1(a=>a.layout.margin))?b:sO,{width:f,height:g,wrapperStyle:h,portal:i}=a,[j,k]=GZ([c]),l=r1(su),n=r1(sv),o=l-(e.left||0)-(e.right||0),p=H$.getWidthOrHeight(a.layout,g,f,o),q=i?h:HT(HT({position:"absolute",width:(null==p?void 0:p.width)||f||"auto",height:(null==p?void 0:p.height)||g||"auto"},function(a,b,c,d,e,f){var g,h,{layout:i,align:j,verticalAlign:k}=b;return a&&(void 0!==a.left&&null!==a.left||void 0!==a.right&&null!==a.right)||(g="center"===j&&"vertical"===i?{left:((d||0)-f.width)/2}:"right"===j?{right:c&&c.right||0}:{left:c&&c.left||0}),a&&(void 0!==a.top&&null!==a.top||void 0!==a.bottom&&null!==a.bottom)||(h="middle"===k?{top:((e||0)-f.height)/2}:"bottom"===k?{bottom:c&&c.bottom||0}:{top:c&&c.top||0}),HT(HT({},g),h)}(h,a,e,l,n,j)),h),r=null!=i?i:d;if(null==r)return null;var s=HK.createElement("div",{className:"recharts-legend-wrapper",style:q,ref:k},HK.createElement(HX,{layout:a.layout,align:a.align,verticalAlign:a.verticalAlign,itemSorter:a.itemSorter}),HK.createElement(HY,{width:j.width,height:j.height}),HK.createElement(HW,HR({},a,p,{margin:e,chartWidth:l,chartHeight:n,contextPayload:c})));return(0,a7.createPortal)(s,r)}class H$ extends HK.PureComponent{static getWidthOrHeight(a,b,c,d){return"vertical"===a&&rb(b)?{height:b}:"horizontal"===a?{width:c||d}:null}render(){return HK.createElement(HZ,this.props)}}HU(H$,"displayName","Legend"),HU(H$,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});var H_=a.i(61349);function H0(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function H1(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?H0(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):H0(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var H2=(0,m.forwardRef)((a,b)=>{var{aspect:c,initialDimension:d={width:-1,height:-1},width:e="100%",height:f="100%",minWidth:g=0,minHeight:h,maxHeight:i,children:j,debounce:k=0,id:l,className:n,onResize:o,style:p={}}=a,q=(0,m.useRef)(null),r=(0,m.useRef)();r.current=o,(0,m.useImperativeHandle)(b,()=>q.current);var[s,t]=(0,m.useState)({containerWidth:d.width,containerHeight:d.height}),u=(0,m.useCallback)((a,b)=>{t(c=>{var d=Math.round(a),e=Math.round(b);return c.containerWidth===d&&c.containerHeight===e?c:{containerWidth:d,containerHeight:e}})},[]);(0,m.useEffect)(()=>{var a=a=>{var b,{width:c,height:d}=a[0].contentRect;u(c,d),null==(b=r.current)||b.call(r,c,d)};k>0&&(a=(0,H_.default)(a,k,{trailing:!0,leading:!1}));var b=new ResizeObserver(a),{width:c,height:d}=q.current.getBoundingClientRect();return u(c,d),b.observe(q.current),()=>{b.disconnect()}},[u,k]);var v=(0,m.useMemo)(()=>{var{containerWidth:a,containerHeight:b}=s;if(a<0||b<0)return null;Gr(ra(e)||ra(f),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",e,f),Gr(!c||c>0,"The aspect(%s) must be greater than zero.",c);var d=ra(e)?a:e,k=ra(f)?b:f;return c&&c>0&&(d?k=d/c:k&&(d=k*c),i&&k>i&&(k=i)),Gr(d>0||k>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",d,k,e,f,g,h,c),m.Children.map(j,a=>(0,m.cloneElement)(a,{width:d,height:k,style:H1({width:d,height:k},a.props.style)}))},[c,j,f,i,h,g,s,e]);return m.createElement("div",{id:l?"".concat(l):void 0,className:_("recharts-responsive-container",n),style:H1(H1({},p),{},{width:e,height:f,minWidth:g,minHeight:h,maxHeight:i}),ref:q},m.createElement("div",{style:{width:0,height:0,overflow:"visible"}},v))});function H3(a){var b=rZ();return(0,m.useEffect)(()=>{b(BW(a))},[b,a]),null}var H4=["width","height","layout"];function H5(){return(H5=Object.assign.bind()).apply(null,arguments)}var H6={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial"},H7=(0,m.forwardRef)(function(a,b){var c,d=CT(a.categoricalChartProps,H6),{width:e,height:f,layout:g}=d,h=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(d,H4);if(!wM(e)||!wM(f))return null;var{chartName:i,defaultTooltipEventType:j,validateTooltipEventTypes:k,tooltipPayloadSearcher:l}=a;return m.createElement(Ca,{preloadedState:{options:{chartName:i,defaultTooltipEventType:j,validateTooltipEventTypes:k,tooltipPayloadSearcher:l,eventEmitter:void 0}},reduxStoreName:null!=(c=d.id)?c:i},m.createElement(Cb,{chartData:d.data}),m.createElement(Cc,{width:e,height:f,layout:g,margin:d.margin}),m.createElement(Cd,{accessibilityLayer:d.accessibilityLayer,barCategoryGap:d.barCategoryGap,maxBarSize:d.maxBarSize,stackOffset:d.stackOffset,barGap:d.barGap,barSize:d.barSize,syncId:d.syncId,syncMethod:d.syncMethod,className:d.className}),m.createElement(H3,{cx:d.cx,cy:d.cy,startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:d.innerRadius,outerRadius:d.outerRadius}),m.createElement(CR,H5({width:e,height:f},h,{ref:b})))}),H8=["item"],H9={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Ia=(0,m.forwardRef)((a,b)=>{var c=CT(a,H9);return m.createElement(H7,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:H8,tooltipPayloadSearcher:rk,categoricalChartProps:c,ref:b})}),Ib=a=>a.graphicalItems.polarItems,Ic=qg([yi,yj],yC),Id=qg([Ib,yz,Ic],yF),Ie=qg([Id],yK),If=qg([Ie,wJ],yM),Ig=qg([If,yz,Id],yO),Ih=qg([If,yz,Id],(a,b,c)=>c.length>0?a.flatMap(a=>c.flatMap(c=>{var d;return{value:sj(a,null!=(d=b.dataKey)?d:c.dataKey),errorDomain:[]}})).filter(Boolean):(null==b?void 0:b.dataKey)!=null?a.map(a=>({value:sj(a,b.dataKey),errorDomain:[]})):a.map(a=>({value:a,errorDomain:[]}))),Ii=()=>void 0,Ij=qg([yz,zh,Ii,Ih,Ii,sP,yi],zi),Ik=qg([yz,sP,If,Ig,xZ,yi,Ij],zl),Il=qg([Ik,yz,zo],zq);function Im(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function In(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?Im(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):Im(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}qg([yz,Ik,Il,yi],zs);var Io=qg([Ib,(a,b)=>b],(a,b)=>a.filter(a=>"pie"===a.type).find(a=>a.id===b)),Ip=[],Iq=(a,b,c)=>(null==c?void 0:c.length)===0?Ip:c,Ir=qg([wJ,Io,Iq],(a,b,c)=>{var d,{chartData:e}=a;if(null!=b&&((d=(null==b?void 0:b.data)!=null&&b.data.length>0?b.data:e)&&d.length||null==c||(d=c.map(a=>In(In({},b.presentationProps),a.props))),null!=d))return d}),Is=qg([Ir,Io,Iq],(a,b,c)=>{if(null!=a&&null!=b)return a.map((a,d)=>{var e,f,g=sj(a,b.nameKey,b.name);return f=null!=c&&null!=(e=c[d])&&null!=(e=e.props)&&e.fill?c[d].props.fill:"object"==typeof a&&null!=a&&"fill"in a?a.fill:b.fill,{value:st(g,b.dataKey),color:f,payload:a,type:b.legendType}})}),It=qg([Ir,Io,Iq,sE],(a,b,c,d)=>{if(null!=b&&null!=a)return function(a){var b,c,d,{pieSettings:e,displayedData:f,cells:g,offset:h}=a,{cornerRadius:i,startAngle:j,endAngle:k,dataKey:l,nameKey:m,tooltipType:n}=e,o=Math.abs(e.minAngle),p=q8(k-j)*Math.min(Math.abs(k-j),360),q=Math.abs(p),r=f.length<=1?0:null!=(b=e.paddingAngle)?b:0,s=f.filter(a=>0!==sj(a,l,0)).length,t=q-s*o-(q>=360?s:s-1)*r,u=f.reduce((a,b)=>{var c=sj(b,l,0);return a+(rb(c)?c:0)},0);return u>0&&(c=f.map((a,b)=>{var c,f=sj(a,l,0),k=sj(a,m,b),q=((a,b,c)=>{var d,{top:e,left:f,width:g,height:h}=b,i=sf(g,h),j=f+rf(a.cx,g,g/2),k=e+rf(a.cy,h,h/2),l=rf(a.innerRadius,i,0);return{cx:j,cy:k,innerRadius:l,outerRadius:(d=a.outerRadius,"function"==typeof d?d(c):rf(d,i,.8*i)),maxRadius:a.maxRadius||Math.sqrt(g*g+h*h)/2}})(e,h,a),s=(rb(f)?f:0)/u,v=Iz(Iz({},a),g&&g[b]&&g[b].props),w=(c=b?d.endAngle+q8(p)*r*(0!==f):j)+q8(p)*((0!==f?o:0)+s*t),x=(c+w)/2,y=(q.innerRadius+q.outerRadius)/2,z=[{name:k,value:f,payload:v,dataKey:l,type:n}],A=se(q.cx,q.cy,y,x);return d=Iz(Iz(Iz(Iz({},e.presentationProps),{},{percent:s,cornerRadius:i,name:k,tooltipPayload:z,midAngle:x,middleRadius:y,tooltipPosition:A},v),q),{},{value:sj(a,l),startAngle:c,endAngle:w,payload:v,paddingAngle:q8(p)*r})})),c}({offset:d,pieSettings:b,displayedData:a,cells:c})}),Iu=["onMouseEnter","onClick","onMouseLeave"],Iv=["id"],Iw=["id"];function Ix(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function Iy(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function Iz(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?Iy(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):Iy(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function IA(){return(IA=Object.assign.bind()).apply(null,arguments)}function IB(a){var b=(0,m.useMemo)(()=>Cs(a.children,C2),[a.children]),c=r1(c=>Is(c,a.id,b));return null==c?null:m.createElement(Fp,{legendPayload:c})}function IC(a){var{dataKey:b,nameKey:c,sectors:d,stroke:e,strokeWidth:f,fill:g,name:h,hide:i,tooltipType:j}=a;return{dataDefinedOnItem:null==d?void 0:d.map(a=>a.tooltipPayload),positions:null==d?void 0:d.map(a=>a.tooltipPosition),settings:{stroke:e,strokeWidth:f,fill:g,dataKey:b,nameKey:c,name:st(h,b),hide:i,type:j,color:g,unit:""}}}function ID(a){var{sectors:b,props:c,showLabels:d}=a,{label:e,labelLine:f,dataKey:g}=c;if(!d||!e||!b)return null;var h=Cn(c),i=Ct(e,!1),j=Ct(f,!1),k="object"==typeof e&&"offsetRadius"in e&&e.offsetRadius||20,l=b.map((a,b)=>{var c,d,l=(a.startAngle+a.endAngle)/2,n=se(a.cx,a.cy,a.outerRadius+k,l),o=Iz(Iz(Iz(Iz({},h),a),{},{stroke:"none"},i),{},{index:b,textAnchor:(c=n.x)>(d=a.cx)?"start":c<d?"end":"middle"},n),p=Iz(Iz(Iz(Iz({},h),a),{},{fill:"none",stroke:a.fill},j),{},{index:b,points:[se(a.cx,a.cy,a.outerRadius,l),n],key:"line"});return m.createElement(C1,{key:"label-".concat(a.startAngle,"-").concat(a.endAngle,"-").concat(a.midAngle,"-").concat(b)},f&&((a,b)=>{if(m.isValidElement(a))return m.cloneElement(a,b);if("function"==typeof a)return a(b);var c=_("recharts-pie-label-line","boolean"!=typeof a?a.className:"");return m.createElement(Hr,IA({},b,{type:"linear",className:c}))})(f,p),((a,b,c)=>{if(m.isValidElement(a))return m.cloneElement(a,b);var d=c;if("function"==typeof a&&(d=a(b),m.isValidElement(d)))return d;var e=_("recharts-pie-label-text","boolean"!=typeof a&&"function"!=typeof a?a.className:"");return m.createElement(Du,IA({},b,{alignmentBaseline:"middle",className:e}),d)})(e,o,sj(a,g)))});return m.createElement(C1,{className:"recharts-pie-labels"},l)}function IE(a){var{sectors:b,activeShape:c,inactiveShape:d,allOtherPieProps:e,showLabels:f}=a,g=r1(AM),{onMouseEnter:h,onClick:i,onMouseLeave:j}=e,k=Ix(e,Iu),l=E2(h,e.dataKey),n=E3(j),o=E4(i,e.dataKey);return null==b?null:m.createElement(m.Fragment,null,b.map((a,f)=>{if((null==a?void 0:a.startAngle)===0&&(null==a?void 0:a.endAngle)===0&&1!==b.length)return null;var h=c&&String(f)===g,i=h?c:g?d:null,j=Iz(Iz({},a),{},{stroke:a.stroke,tabIndex:-1,[sA]:f,[sB]:e.dataKey});return m.createElement(C1,IA({tabIndex:-1,className:"recharts-pie-sector"},Ck(k,a,f),{onMouseEnter:l(a,f),onMouseLeave:n(a,f),onClick:o(a,f),key:"sector-".concat(null==a?void 0:a.startAngle,"-").concat(null==a?void 0:a.endAngle,"-").concat(a.midAngle,"-").concat(f)}),m.createElement(EW,IA({option:i,isActive:h,shapeType:"sector"},j)))}),m.createElement(ID,{sectors:b,props:e,showLabels:f}))}function IF(a){var{props:b,previousSectorsRef:c}=a,{sectors:d,isAnimationActive:e,animationBegin:f,animationDuration:g,animationEasing:h,activeShape:i,inactiveShape:j,onAnimationStart:k,onAnimationEnd:l}=b,n=Fq(b,"recharts-pie-"),o=c.current,[p,q]=(0,m.useState)(!0),r=(0,m.useCallback)(()=>{"function"==typeof l&&l(),q(!1)},[l]),s=(0,m.useCallback)(()=>{"function"==typeof k&&k(),q(!0)},[k]);return m.createElement(FA,{begin:f,duration:g,isActive:e,easing:h,onAnimationStart:s,onAnimationEnd:r,key:n},a=>{var e=[],f=(d&&d[0]).startAngle;return d.forEach((b,c)=>{var d=o&&o[c],g=c>0?(0,q7.default)(b,"paddingAngle",0):0;if(d){var h=rh(d.endAngle-d.startAngle,b.endAngle-b.startAngle),i=Iz(Iz({},b),{},{startAngle:f+g,endAngle:f+h(a)+g});e.push(i),f=i.endAngle}else{var{endAngle:j,startAngle:k}=b,l=rh(0,j-k)(a),m=Iz(Iz({},b),{},{startAngle:f+g,endAngle:f+l+g});e.push(m),f=m.endAngle}}),c.current=e,m.createElement(C1,null,m.createElement(IE,{sectors:e,activeShape:i,inactiveShape:j,allOtherPieProps:b,showLabels:!p}))})}function IG(a){var{sectors:b,isAnimationActive:c,activeShape:d,inactiveShape:e}=a,f=(0,m.useRef)(null),g=f.current;return c&&b&&b.length&&(!g||g!==b)?m.createElement(IF,{props:a,previousSectorsRef:f}):m.createElement(IE,{sectors:b,activeShape:d,inactiveShape:e,allOtherPieProps:a,showLabels:!0})}function IH(a){var{hide:b,className:c,rootTabIndex:d}=a,e=_("recharts-pie",c);return b?null:m.createElement(C1,{tabIndex:d,className:e},m.createElement(IG,a))}var II={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!C4,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function IJ(a){var{id:b}=a,c=Ix(a,Iv),d=(0,m.useMemo)(()=>Cs(a.children,C2),[a.children]),e=r1(a=>It(a,b,d));return m.createElement(m.Fragment,null,m.createElement(E5,{fn:IC,args:Iz(Iz({},a),{},{sectors:e})}),m.createElement(IH,IA({},c,{sectors:e})))}function IK(a){var b=CT(a,II),{id:c}=b,d=Ix(b,Iw),e=Cn(d);return m.createElement(Ft,{id:c,type:"pie"},a=>m.createElement(m.Fragment,null,m.createElement(Fv,{type:"pie",id:a,data:d.data,dataKey:d.dataKey,hide:d.hide,angleAxisId:0,radiusAxisId:0,name:d.name,nameKey:d.nameKey,tooltipType:d.tooltipType,legendType:d.legendType,fill:d.fill,cx:d.cx,cy:d.cy,startAngle:d.startAngle,endAngle:d.endAngle,paddingAngle:d.paddingAngle,minAngle:d.minAngle,innerRadius:d.innerRadius,outerRadius:d.outerRadius,cornerRadius:d.cornerRadius,presentationProps:e}),m.createElement(IB,IA({},d,{id:a})),m.createElement(IJ,IA({},d,{id:a})),d.children))}IK.displayName="Pie";let IL=[{itemId:"PIPE-001",itemName:"Standard Scaffolding Pipe 6ft",category:"Pipes",totalRentals:145,totalRevenue:72500,avgRentalDuration:28,quantityRented:450,totalQuantity:500,utilizationRate:90},{itemId:"BOARD-003",itemName:"Metal Deck Board 7ft",category:"Boards",totalRentals:98,totalRevenue:58800,avgRentalDuration:35,quantityRented:280,totalQuantity:350,utilizationRate:80},{itemId:"FRAME-005",itemName:"Walk-Through Frame 6x4",category:"Frames",totalRentals:76,totalRevenue:45600,avgRentalDuration:42,quantityRented:150,totalQuantity:200,utilizationRate:75},{itemId:"COUP-002",itemName:"Swivel Coupler Heavy Duty",category:"Couplings",totalRentals:203,totalRevenue:40600,avgRentalDuration:21,quantityRented:800,totalQuantity:1e3,utilizationRate:80},{itemId:"SAFE-001",itemName:"Safety Harness Full Body",category:"Safety",totalRentals:54,totalRevenue:27e3,avgRentalDuration:14,quantityRented:90,totalQuantity:120,utilizationRate:75}],IM=[{itemId:"PIPE-001",itemName:"Standard Scaffolding Pipe 6ft",category:"Pipes",totalQuantity:500,inUse:450,idle:50,utilizationRate:90,avgIdleDays:12,location:"Warehouse A",condition:"Good"},{itemId:"BOARD-003",itemName:"Metal Deck Board 7ft",category:"Boards",totalQuantity:350,inUse:280,idle:70,utilizationRate:80,avgIdleDays:18,location:"Warehouse A",condition:"Good"},{itemId:"FRAME-005",itemName:"Walk-Through Frame 6x4",category:"Frames",totalQuantity:200,inUse:150,idle:50,utilizationRate:75,avgIdleDays:25,location:"Warehouse B",condition:"Fair"},{itemId:"COUP-002",itemName:"Swivel Coupler Heavy Duty",category:"Couplings",totalQuantity:1e3,inUse:800,idle:200,utilizationRate:80,avgIdleDays:8,location:"Warehouse A",condition:"Good"},{itemId:"ACC-008",itemName:"Base Plate Adjustable",category:"Accessories",totalQuantity:300,inUse:120,idle:180,utilizationRate:40,avgIdleDays:45,location:"Warehouse C",condition:"Good"}],IN=[{customerId:"CUST-001",customerName:"Stellar Construction Sdn Bhd",totalInvoiced:125e3,totalPaid:95e3,outstanding:3e4,overdueDays:0,lastPaymentDate:"2024-11-25",numberOfInvoices:8,status:"Current"},{customerId:"CUST-002",customerName:"Metro Builders",totalInvoiced:98500,totalPaid:98500,outstanding:0,overdueDays:0,lastPaymentDate:"2024-11-20",numberOfInvoices:6,status:"Paid"},{customerId:"CUST-003",customerName:"Pacific Development Corp",totalInvoiced:156e3,totalPaid:11e4,outstanding:46e3,overdueDays:15,lastPaymentDate:"2024-11-10",numberOfInvoices:10,status:"Overdue"},{customerId:"CUST-004",customerName:"Horizon Projects Ltd",totalInvoiced:87500,totalPaid:75e3,outstanding:12500,overdueDays:0,lastPaymentDate:"2024-11-22",numberOfInvoices:5,status:"Current"},{customerId:"CUST-005",customerName:"Summit Engineering",totalInvoiced:203e3,totalPaid:15e4,outstanding:53e3,overdueDays:32,lastPaymentDate:"2024-10-28",numberOfInvoices:12,status:"Overdue"}],IO=["#F15929","#10b981","#3b82f6","#f59e0b","#8b5cf6","#ec4899"];function IP(){let[a,b]=(0,m.useState)("rental-performance"),[c,d]=(0,m.useState)({searchQuery:"",category:"all",status:"all"}),[e,f]=(0,m.useState)(),[g,h]=(0,m.useState)(),[i,j]=(0,m.useState)(!1),k=()=>IL.filter(a=>{let b=a.itemName.toLowerCase().includes(c.searchQuery.toLowerCase())||a.itemId.toLowerCase().includes(c.searchQuery.toLowerCase()),d="all"===c.category||a.category===c.category;return b&&d}),n=()=>IM.filter(a=>{let b=a.itemName.toLowerCase().includes(c.searchQuery.toLowerCase())||a.itemId.toLowerCase().includes(c.searchQuery.toLowerCase()),d="all"===c.category||a.category===c.category;return b&&d}),o=()=>IN.filter(a=>{let b=a.customerName.toLowerCase().includes(c.searchQuery.toLowerCase())||a.customerId.toLowerCase().includes(c.searchQuery.toLowerCase()),d="all"===c.status||a.status===c.status;return b&&d}),p=()=>{if("rental-performance"===a){let a=k();return{totalRentals:a.reduce((a,b)=>a+b.totalRentals,0),totalRevenue:a.reduce((a,b)=>a+b.totalRevenue,0),avgDuration:Math.round(a.reduce((a,b)=>a+b.avgRentalDuration,0)/a.length),avgUtilization:Math.round(a.reduce((a,b)=>a+b.utilizationRate,0)/a.length)}}if("inventory-utilization"===a){let a=n();return{totalItems:a.reduce((a,b)=>a+b.totalQuantity,0),inUse:a.reduce((a,b)=>a+b.inUse,0),idle:a.reduce((a,b)=>a+b.idle,0),avgUtilization:Math.round(a.reduce((a,b)=>a+b.utilizationRate,0)/a.length),avgIdleDays:Math.round(a.reduce((a,b)=>a+b.avgIdleDays,0)/a.length)}}{let a=o();return{totalInvoiced:a.reduce((a,b)=>a+b.totalInvoiced,0),totalPaid:a.reduce((a,b)=>a+b.totalPaid,0),totalOutstanding:a.reduce((a,b)=>a+b.outstanding,0),overdueCount:a.filter(a=>"Overdue"===a.status).length}}},q=p(),r=()=>{switch(a){case"rental-performance":return"Rental Performance Report";case"inventory-utilization":return"Inventory Utilization Report";case"financial":return"Financial Report";default:return"Report"}},s=()=>{switch(a){case"rental-performance":return"Track rental statistics, revenue generated, and average rental durations";case"inventory-utilization":return"Analyze scaffolding utilization rates and identify idle inventory";case"financial":return"Review sales summaries and outstanding payment tracking";default:return""}},t=async()=>{gG.info("Preparing PDF export...");let a={};try{let b=document.querySelectorAll(".recharts-wrapper");for(let c=0;c<b.length;c++){let d=b[c].querySelector("svg");if(d)try{let b=d.cloneNode(!0),e=d.width.baseVal.value||800,f=d.height.baseVal.value||300;b.setAttribute("width",e.toString()),b.setAttribute("height",f.toString());let g=new XMLSerializer().serializeToString(b),h=new Blob([g],{type:"image/svg+xml;charset=utf-8"}),i=URL.createObjectURL(h),j=document.createElement("canvas"),k=j.getContext("2d"),l=new Image;await new Promise((b,d)=>{l.onload=()=>{try{j.width=e,j.height=f,k&&(k.fillStyle="#ffffff",k.fillRect(0,0,e,f),k.drawImage(l,0,0,e,f)),a[`chart${c}`]=j.toDataURL("image/png",1),URL.revokeObjectURL(i),b()}catch(a){console.error("Error drawing to canvas:",a),d(a)}},l.onerror=()=>{console.error("Error loading SVG image"),URL.revokeObjectURL(i),d(Error("Failed to load SVG"))},l.src=i})}catch(a){console.error(`Error converting chart ${c} to image:`,a)}}let c=window.open("","_blank");if(!c)return void gG.error("Please allow pop-ups to export PDF");let d=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>${r()}</title>
          <meta charset="UTF-8">
          <style>
            * { margin: 0; padding: 0; box-sizing: border-box; }
            @page {
              size: A4;
              margin: 15mm;
            }
            body { 
              font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
              color: #231F20;
              background: white;
              line-height: 1.6;
            }
            
            /* Cover Page */
            .cover-page {
              height: 100vh;
              display: flex;
              flex-direction: column;
              justify-content: center;
              align-items: center;
              text-align: center;
              page-break-after: always;
              background: linear-gradient(135deg, #231F20 0%, #4a4647 100%);
              color: white;
              padding: 60px 40px;
            }
            .cover-logo {
              font-size: 48px;
              font-weight: bold;
              color: #F15929;
              margin-bottom: 20px;
              letter-spacing: 2px;
            }
            .cover-title {
              font-size: 36px;
              font-weight: bold;
              margin: 30px 0 20px;
              color: white;
            }
            .cover-subtitle {
              font-size: 20px;
              color: #E5E7EB;
              margin-bottom: 40px;
            }
            .cover-date {
              font-size: 16px;
              color: #F15929;
              margin-top: 60px;
              padding: 15px 30px;
              border: 2px solid #F15929;
              border-radius: 8px;
              display: inline-block;
            }
            
            /* Content Pages */
            .content-page {
              padding: 20px 40px;
            }
            
            /* Header with company branding */
            .page-header { 
              border-bottom: 3px solid #F15929;
              padding-bottom: 15px;
              margin-bottom: 30px;
            }
            .company-name { 
              font-size: 20px;
              font-weight: bold;
              color: #231F20;
            }
            .report-info {
              font-size: 12px;
              color: #6B7280;
              margin-top: 5px;
            }
            
            /* Summary Section */
            .summary-section {
              background: linear-gradient(135deg, #FFF5F2 0%, #FFF 100%);
              border-left: 4px solid #F15929;
              padding: 20px;
              margin: 30px 0;
              border-radius: 8px;
              page-break-inside: avoid;
            }
            .summary-title {
              font-size: 20px;
              font-weight: bold;
              color: #231F20;
              margin-bottom: 15px;
            }
            .summary-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 20px;
            }
            .summary-card {
              text-align: center;
              padding: 15px;
              background: white;
              border-radius: 8px;
              box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
            .summary-label {
              font-size: 12px;
              color: #6B7280;
              margin-bottom: 8px;
              text-transform: uppercase;
              letter-spacing: 0.5px;
            }
            .summary-value {
              font-size: 24px;
              font-weight: bold;
              color: #F15929;
            }
            
            /* Charts */
            .chart-section { 
              margin: 40px 0;
              page-break-inside: avoid;
              background: white;
            }
            .chart-title { 
              font-size: 18px;
              font-weight: bold;
              color: #231F20;
              margin-bottom: 8px;
              padding-left: 15px;
              border-left: 4px solid #F15929;
            }
            .chart-description { 
              font-size: 13px;
              color: #6B7280;
              margin-bottom: 20px;
              padding-left: 19px;
            }
            .chart-image { 
              width: 100%;
              max-width: 100%;
              height: auto;
              margin: 0 auto;
              display: block;
              border: 1px solid #E5E7EB;
              border-radius: 8px;
              background: white;
              box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            }
            
            /* Tables */
            .table-section {
              margin: 40px 0;
              page-break-before: always;
            }
            .table-title {
              font-size: 20px;
              font-weight: bold;
              color: #231F20;
              margin-bottom: 20px;
              padding-bottom: 10px;
              border-bottom: 2px solid #F15929;
            }
            table { 
              width: 100%;
              border-collapse: collapse;
              margin: 20px 0;
              background: white;
              font-size: 11px;
            }
            thead {
              background: linear-gradient(135deg, #231F20 0%, #3a3637 100%);
            }
            th { 
              color: white;
              font-weight: 600;
              padding: 12px 10px;
              text-align: left;
              border: none;
              text-transform: uppercase;
              letter-spacing: 0.5px;
              font-size: 10px;
            }
            td { 
              padding: 10px;
              border-bottom: 1px solid #E5E7EB;
            }
            tr:nth-child(even) { 
              background-color: #F9FAFB;
            }
            tr:hover {
              background-color: #FFF5F2;
            }
            
            /* Footer */
            .footer { 
              margin-top: 60px;
              padding-top: 20px;
              border-top: 2px solid #E5E7EB;
              text-align: center;
              font-size: 11px;
              color: #6B7280;
            }
            .footer-logo {
              color: #F15929;
              font-weight: bold;
              font-size: 13px;
              margin-bottom: 8px;
            }
            
            @media print {
              body {
                margin: 0;
                padding: 0;
              }
              .chart-section,
              .table-section,
              .summary-section {
                page-break-inside: avoid;
              }
              .cover-page {
                page-break-after: always;
              }
            }
          </style>
        </head>
        <body>
          <!-- Cover Page -->
          <div class="cover-page">
            <div class="cover-logo">POWER METAL & STEEL</div>
            <div class="cover-title">${r()}</div>
            <div class="cover-subtitle">${s()}</div>
            <div class="cover-date">
              Generated on ${k9(new Date,"PPPP")}
              ${e&&g?`<br/>Period: ${k9(e,"PP")} - ${k9(g,"PP")}`:""}
            </div>
          </div>
          
          <!-- Content Pages -->
          <div class="content-page">
            <div class="page-header">
              <div class="company-name">Power Metal & Steel</div>
              <div class="report-info">${r()} | Generated: ${k9(new Date,"PPpp")}</div>
            </div>
            
            <!-- Executive Summary -->
            <div class="summary-section">
              <div class="summary-title">Executive Summary</div>
              <div class="summary-grid">
                ${x()}
              </div>
            </div>
            
            <!-- Charts -->
            ${y(a)}
            
            <!-- Detailed Data Table -->
            <div class="table-section">
              <div class="table-title">Detailed Data Report</div>
              ${z()}
            </div>
            
            <!-- Footer -->
            <div class="footer">
              <div class="footer-logo">Power Metal & Steel</div>
              <p>This is a computer-generated report from Power Metal & Steel ERP System</p>
              <p>\xa9 ${new Date().getFullYear()} Power Metal & Steel. All rights reserved.</p>
            </div>
          </div>
        </body>
        </html>
      `;c.document.write(d),c.document.close(),setTimeout(()=>{c.focus(),c.print(),gG.success("Report exported to PDF successfully")},1e3)}catch(a){console.error("Error generating PDF:",a),gG.error("Failed to generate PDF. Please try again.")}},x=()=>{let b=p();return"rental-performance"===a?`
        <div class="summary-card">
          <div class="summary-label">Total Rentals</div>
          <div class="summary-value">${b.totalRentals}</div>
        </div>
        <div class="summary-card">
          <div class="summary-label">Total Revenue</div>
          <div class="summary-value">RM ${b.totalRevenue.toLocaleString()}</div>
        </div>
        <div class="summary-card">
          <div class="summary-label">Avg Duration</div>
          <div class="summary-value">${b.avgDuration} days</div>
        </div>
        <div class="summary-card">
          <div class="summary-label">Avg Utilization</div>
          <div class="summary-value">${b.avgUtilization}%</div>
        </div>
      `:"inventory-utilization"===a?`
        <div class="summary-card">
          <div class="summary-label">Total Items</div>
          <div class="summary-value">${b.totalItems}</div>
        </div>
        <div class="summary-card">
          <div class="summary-label">In Use</div>
          <div class="summary-value">${b.inUse}</div>
        </div>
        <div class="summary-card">
          <div class="summary-label">Idle Items</div>
          <div class="summary-value">${b.idle}</div>
        </div>
        <div class="summary-card">
          <div class="summary-label">Avg Utilization</div>
          <div class="summary-value">${b.avgUtilization}%</div>
        </div>
      `:`
        <div class="summary-card">
          <div class="summary-label">Total Invoiced</div>
          <div class="summary-value">RM ${b.totalInvoiced.toLocaleString()}</div>
        </div>
        <div class="summary-card">
          <div class="summary-label">Total Paid</div>
          <div class="summary-value">RM ${b.totalPaid.toLocaleString()}</div>
        </div>
        <div class="summary-card">
          <div class="summary-label">Outstanding</div>
          <div class="summary-value">RM ${b.totalOutstanding.toLocaleString()}</div>
        </div>
        <div class="summary-card">
          <div class="summary-label">Overdue Count</div>
          <div class="summary-value">${b.overdueCount}</div>
        </div>
      `},y=b=>"rental-performance"===a?`
        <div class="chart-section">
          <div class="chart-title">Revenue by Category</div>
          <div class="chart-description">Total revenue generated per item category</div>
          ${b.chart0?`<img src="${b.chart0}" class="chart-image" alt="Revenue Chart" />`:""}
        </div>
        <div class="chart-section">
          <div class="chart-title">Utilization Rate Distribution</div>
          <div class="chart-description">Utilization rates across different items</div>
          ${b.chart1?`<img src="${b.chart1}" class="chart-image" alt="Utilization Chart" />`:""}
        </div>
      `:"inventory-utilization"===a?`
        <div class="chart-section">
          <div class="chart-title">Inventory Status Overview</div>
          <div class="chart-description">Current inventory status across all categories</div>
          ${b.chart0?`<img src="${b.chart0}" class="chart-image" alt="Inventory Chart" />`:""}
        </div>
        <div class="chart-section">
          <div class="chart-title">Utilization Trend</div>
          <div class="chart-description">Inventory utilization percentage over time</div>
          ${b.chart1?`<img src="${b.chart1}" class="chart-image" alt="Utilization Trend Chart" />`:""}
        </div>
      `:"financial"===a?`
        <div class="chart-section">
          <div class="chart-title">Monthly Revenue Trend</div>
          <div class="chart-description">Revenue growth over the selected period</div>
          ${b.chart0?`<img src="${b.chart0}" class="chart-image" alt="Revenue Trend Chart" />`:""}
        </div>
        <div class="chart-section">
          <div class="chart-title">Outstanding vs Collected</div>
          <div class="chart-description">Comparison of outstanding and collected amounts</div>
          ${b.chart1?`<img src="${b.chart1}" class="chart-image" alt="Financial Overview Chart" />`:""}
        </div>
      `:"",z=()=>{if("rental-performance"===a){let a=k();return`
        <table>
          <thead>
            <tr>
              <th>Item Code</th>
              <th>Item Name</th>
              <th>Category</th>
              <th>Total Rentals</th>
              <th>Revenue (RM)</th>
              <th>Avg Duration (days)</th>
              <th>Utilization (%)</th>
            </tr>
          </thead>
          <tbody>
            ${a.map(a=>`
              <tr>
                <td>${a.itemId}</td>
                <td>${a.itemName}</td>
                <td>${a.category}</td>
                <td>${a.totalRentals}</td>
                <td>${a.totalRevenue.toLocaleString()}</td>
                <td>${a.avgRentalDuration}</td>
                <td>${a.utilizationRate}%</td>
              </tr>
            `).join("")}
          </tbody>
        </table>
      `}if("inventory-utilization"===a){let a=n();return`
        <table>
          <thead>
            <tr>
              <th>Item Code</th>
              <th>Item Name</th>
              <th>Category</th>
              <th>Total Qty</th>
              <th>In Use</th>
              <th>Idle</th>
              <th>Utilization (%)</th>
              <th>Avg Idle Days</th>
              <th>Location</th>
            </tr>
          </thead>
          <tbody>
            ${a.map(a=>`
              <tr>
                <td>${a.itemId}</td>
                <td>${a.itemName}</td>
                <td>${a.category}</td>
                <td>${a.totalQuantity}</td>
                <td>${a.inUse}</td>
                <td>${a.idle}</td>
                <td>${a.utilizationRate}%</td>
                <td>${a.avgIdleDays}</td>
                <td>${a.location}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>
      `}{let a=o();return`
        <table>
          <thead>
            <tr>
              <th>Customer ID</th>
              <th>Customer Name</th>
              <th>Invoiced (RM)</th>
              <th>Paid (RM)</th>
              <th>Outstanding (RM)</th>
              <th>Overdue Days</th>
              <th>Last Payment</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            ${a.map(a=>`
              <tr>
                <td>${a.customerId}</td>
                <td>${a.customerName}</td>
                <td>${a.totalInvoiced.toLocaleString()}</td>
                <td>${a.totalPaid.toLocaleString()}</td>
                <td>${a.outstanding.toLocaleString()}</td>
                <td>${a.overdueDays}</td>
                <td>${a.lastPaymentDate}</td>
                <td>${a.status}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>
      `}};return(0,l.jsxs)("div",{className:"p-6 space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-[#231F20]",children:"Report Generation & Analytics"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Generate comprehensive reports with visual analytics"})]}),(0,l.jsxs)(hw,{children:[(0,l.jsxs)(hx,{children:[(0,l.jsxs)(hy,{className:"flex items-center gap-2",children:[(0,l.jsx)(v,{className:"size-5 text-[#F15929]"}),"Select Report Type"]}),(0,l.jsx)(hz,{children:"Choose the type of report you want to generate"})]}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Report Type"}),(0,l.jsxs)(iE,{value:a,onValueChange:a=>{b(a),j(!1)},children:[(0,l.jsx)(iG,{children:(0,l.jsx)(iF,{})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"rental-performance",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(jH,{className:"size-4"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:"Rental Performance Report"}),(0,l.jsx)("div",{className:"text-xs text-gray-500",children:"Track rentals, revenue & durations"})]})]})}),(0,l.jsx)(iI,{value:"inventory-utilization",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(F,{className:"size-4"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:"Inventory Utilization Report"}),(0,l.jsx)("div",{className:"text-xs text-gray-500",children:"Analyze utilization rates & idle inventory"})]})]})}),(0,l.jsx)(iI,{value:"financial",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(u,{className:"size-4"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:"Financial Report"}),(0,l.jsx)("div",{className:"text-xs text-gray-500",children:"Review sales & outstanding payments"})]})]})})]})]})]}),(0,l.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,l.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,l.jsx)("strong",{children:"Selected:"})," ",r()]}),(0,l.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:s()})]})]})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsxs)(hx,{children:[(0,l.jsxs)(hy,{className:"flex items-center gap-2",children:[(0,l.jsx)(n9,{className:"size-5 text-[#F15929]"}),"Report Filters"]}),(0,l.jsx)(hz,{children:"Configure report parameters and filters"})]}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Search"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 size-4 text-gray-400"}),(0,l.jsx)(a3,{placeholder:"Search...",value:c.searchQuery,onChange:a=>d({...c,searchQuery:a.target.value}),className:"pl-10"})]})]}),"financial"!==a?(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Category"}),(0,l.jsxs)(iE,{value:c.category,onValueChange:a=>d({...c,category:a}),children:[(0,l.jsx)(iG,{children:(0,l.jsx)(iF,{})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"all",children:"All Categories"}),(0,l.jsx)(iI,{value:"Pipes",children:"Pipes"}),(0,l.jsx)(iI,{value:"Boards",children:"Boards"}),(0,l.jsx)(iI,{value:"Frames",children:"Frames"}),(0,l.jsx)(iI,{value:"Couplings",children:"Couplings"}),(0,l.jsx)(iI,{value:"Accessories",children:"Accessories"}),(0,l.jsx)(iI,{value:"Safety",children:"Safety"})]})]})]}):(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Payment Status"}),(0,l.jsxs)(iE,{value:c.status,onValueChange:a=>d({...c,status:a}),children:[(0,l.jsx)(iG,{children:(0,l.jsx)(iF,{})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"all",children:"All Status"}),(0,l.jsx)(iI,{value:"Paid",children:"Paid"}),(0,l.jsx)(iI,{value:"Current",children:"Current"}),(0,l.jsx)(iI,{value:"Overdue",children:"Overdue"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"From Date"}),(0,l.jsxs)(mF,{children:[(0,l.jsx)(mG,{asChild:!0,children:(0,l.jsxs)(a2,{variant:"outline",className:"w-full justify-start",children:[(0,l.jsx)(w,{className:"size-4 mr-2"}),e?k9(e,"PP"):"Select date"]})}),(0,l.jsx)(mH,{className:"w-auto p-0",align:"start",children:(0,l.jsx)(mi,{mode:"single",selected:e,onSelect:f})})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"To Date"}),(0,l.jsxs)(mF,{children:[(0,l.jsx)(mG,{asChild:!0,children:(0,l.jsxs)(a2,{variant:"outline",className:"w-full justify-start",children:[(0,l.jsx)(w,{className:"size-4 mr-2"}),g?k9(g,"PP"):"Select date"]})}),(0,l.jsx)(mH,{className:"w-auto p-0",align:"start",children:(0,l.jsx)(mi,{mode:"single",selected:g,onSelect:h})})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Configure filters above and generate the report to view results"}),(0,l.jsxs)(a2,{onClick:()=>{j(!0),gG.success("Report generated successfully!")},className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,l.jsx)(O,{className:"size-4 mr-2"}),"Generate Report"]})]})]})})]}),i&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["rental-performance"===a&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(hw,{children:(0,l.jsxs)(hx,{className:"pb-3",children:[(0,l.jsx)(hz,{children:"Total Rentals"}),(0,l.jsx)(hy,{className:"text-2xl text-[#231F20]",children:q.totalRentals})]})}),(0,l.jsx)(hw,{children:(0,l.jsxs)(hx,{className:"pb-3",children:[(0,l.jsx)(hz,{children:"Total Revenue"}),(0,l.jsxs)(hy,{className:"text-2xl text-[#F15929]",children:["RM ",q.totalRevenue.toLocaleString()]})]})}),(0,l.jsx)(hw,{children:(0,l.jsxs)(hx,{className:"pb-3",children:[(0,l.jsx)(hz,{children:"Avg Duration"}),(0,l.jsxs)(hy,{className:"text-2xl text-[#231F20]",children:[q.avgDuration," days"]})]})}),(0,l.jsx)(hw,{children:(0,l.jsxs)(hx,{className:"pb-3",children:[(0,l.jsx)(hz,{children:"Avg Utilization"}),(0,l.jsxs)(hy,{className:"text-2xl text-green-600",children:[q.avgUtilization,"%"]})]})})]}),"inventory-utilization"===a&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(hw,{children:(0,l.jsxs)(hx,{className:"pb-3",children:[(0,l.jsx)(hz,{children:"Total Items"}),(0,l.jsx)(hy,{className:"text-2xl text-[#231F20]",children:q.totalItems})]})}),(0,l.jsx)(hw,{children:(0,l.jsxs)(hx,{className:"pb-3",children:[(0,l.jsx)(hz,{children:"In Use"}),(0,l.jsx)(hy,{className:"text-2xl text-green-600",children:q.inUse})]})}),(0,l.jsx)(hw,{children:(0,l.jsxs)(hx,{className:"pb-3",children:[(0,l.jsx)(hz,{children:"Idle Items"}),(0,l.jsx)(hy,{className:"text-2xl text-orange-600",children:q.idle})]})}),(0,l.jsx)(hw,{children:(0,l.jsxs)(hx,{className:"pb-3",children:[(0,l.jsx)(hz,{children:"Avg Utilization"}),(0,l.jsxs)(hy,{className:"text-2xl text-[#F15929]",children:[q.avgUtilization,"%"]})]})})]}),"financial"===a&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(hw,{children:(0,l.jsxs)(hx,{className:"pb-3",children:[(0,l.jsx)(hz,{children:"Total Invoiced"}),(0,l.jsxs)(hy,{className:"text-2xl text-[#231F20]",children:["RM ",q.totalInvoiced.toLocaleString()]})]})}),(0,l.jsx)(hw,{children:(0,l.jsxs)(hx,{className:"pb-3",children:[(0,l.jsx)(hz,{children:"Total Paid"}),(0,l.jsxs)(hy,{className:"text-2xl text-green-600",children:["RM ",q.totalPaid.toLocaleString()]})]})}),(0,l.jsx)(hw,{children:(0,l.jsxs)(hx,{className:"pb-3",children:[(0,l.jsx)(hz,{children:"Outstanding"}),(0,l.jsxs)(hy,{className:"text-2xl text-[#F15929]",children:["RM ",q.totalOutstanding.toLocaleString()]})]})}),(0,l.jsx)(hw,{children:(0,l.jsxs)(hx,{className:"pb-3",children:[(0,l.jsx)(hz,{children:"Overdue Count"}),(0,l.jsx)(hy,{className:"text-2xl text-red-600",children:q.overdueCount})]})})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:["rental-performance"===a&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(hw,{children:[(0,l.jsxs)(hx,{children:[(0,l.jsxs)(hy,{className:"flex items-center gap-2",children:[(0,l.jsx)(O,{className:"size-5 text-[#F15929]"}),"Revenue by Category"]}),(0,l.jsx)(hz,{children:"Total revenue generated per item category"})]}),(0,l.jsx)(hA,{children:(0,l.jsx)(H2,{width:"100%",height:300,children:(0,l.jsxs)(CZ,{data:k(),children:[(0,l.jsx)(GJ,{strokeDasharray:"3 3"}),(0,l.jsx)(Gh,{dataKey:"category"}),(0,l.jsx)(Gq,{}),(0,l.jsx)(HJ,{formatter:a=>`RM ${a.toLocaleString()}`}),(0,l.jsx)(H$,{}),(0,l.jsx)(FS,{dataKey:"totalRevenue",fill:"#F15929",name:"Revenue (RM)"})]})})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsxs)(hx,{children:[(0,l.jsxs)(hy,{className:"flex items-center gap-2",children:[(0,l.jsx)(pl,{className:"size-5 text-[#F15929]"}),"Utilization Rate Distribution"]}),(0,l.jsx)(hz,{children:"Utilization rates across different items"})]}),(0,l.jsx)(hA,{children:(0,l.jsx)(H2,{width:"100%",height:300,children:(0,l.jsxs)(Ia,{children:[(0,l.jsx)(IK,{data:k(),cx:"50%",cy:"50%",labelLine:!1,label:a=>`${a.itemId}: ${a.utilizationRate}%`,outerRadius:80,fill:"#8884d8",dataKey:"utilizationRate",children:k().map((a,b)=>(0,l.jsx)(C2,{fill:IO[b%IO.length]},`cell-${b}`))}),(0,l.jsx)(HJ,{})]})})})]})]}),"inventory-utilization"===a&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(hw,{children:[(0,l.jsxs)(hx,{children:[(0,l.jsxs)(hy,{className:"flex items-center gap-2",children:[(0,l.jsx)(O,{className:"size-5 text-[#F15929]"}),"In Use vs Idle Inventory"]}),(0,l.jsx)(hz,{children:"Comparison of active vs idle inventory items"})]}),(0,l.jsx)(hA,{children:(0,l.jsx)(H2,{width:"100%",height:300,children:(0,l.jsxs)(CZ,{data:n(),children:[(0,l.jsx)(GJ,{strokeDasharray:"3 3"}),(0,l.jsx)(Gh,{dataKey:"category"}),(0,l.jsx)(Gq,{}),(0,l.jsx)(HJ,{}),(0,l.jsx)(H$,{}),(0,l.jsx)(FS,{dataKey:"inUse",fill:"#10b981",name:"In Use"}),(0,l.jsx)(FS,{dataKey:"idle",fill:"#f59e0b",name:"Idle"})]})})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsxs)(hx,{children:[(0,l.jsxs)(hy,{className:"flex items-center gap-2",children:[(0,l.jsx)(pl,{className:"size-5 text-[#F15929]"}),"Utilization by Location"]}),(0,l.jsx)(hz,{children:"Inventory utilization across warehouses"})]}),(0,l.jsx)(hA,{children:(0,l.jsx)(H2,{width:"100%",height:300,children:(0,l.jsxs)(Ia,{children:[(0,l.jsx)(IK,{data:n(),cx:"50%",cy:"50%",labelLine:!1,label:a=>`${a.location}: ${a.utilizationRate}%`,outerRadius:80,fill:"#8884d8",dataKey:"utilizationRate",children:n().map((a,b)=>(0,l.jsx)(C2,{fill:IO[b%IO.length]},`cell-${b}`))}),(0,l.jsx)(HJ,{})]})})})]})]}),"financial"===a&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(hw,{children:[(0,l.jsxs)(hx,{children:[(0,l.jsxs)(hy,{className:"flex items-center gap-2",children:[(0,l.jsx)(O,{className:"size-5 text-[#F15929]"}),"Payment Status Overview"]}),(0,l.jsx)(hz,{children:"Invoiced vs Paid vs Outstanding amounts"})]}),(0,l.jsx)(hA,{children:(0,l.jsx)(H2,{width:"100%",height:300,children:(0,l.jsxs)(CZ,{data:o(),children:[(0,l.jsx)(GJ,{strokeDasharray:"3 3"}),(0,l.jsx)(Gh,{dataKey:"customerId"}),(0,l.jsx)(Gq,{}),(0,l.jsx)(HJ,{formatter:a=>`RM ${a.toLocaleString()}`}),(0,l.jsx)(H$,{}),(0,l.jsx)(FS,{dataKey:"totalPaid",fill:"#10b981",name:"Paid (RM)"}),(0,l.jsx)(FS,{dataKey:"outstanding",fill:"#F15929",name:"Outstanding (RM)"})]})})})]}),(0,l.jsxs)(hw,{children:[(0,l.jsxs)(hx,{children:[(0,l.jsxs)(hy,{className:"flex items-center gap-2",children:[(0,l.jsx)(pl,{className:"size-5 text-[#F15929]"}),"Payment Status Distribution"]}),(0,l.jsx)(hz,{children:"Customer payment status breakdown"})]}),(0,l.jsx)(hA,{children:(0,l.jsx)(H2,{width:"100%",height:300,children:(0,l.jsxs)(Ia,{children:[(0,l.jsxs)(IK,{data:[{name:"Paid",value:o().filter(a=>"Paid"===a.status).length},{name:"Current",value:o().filter(a=>"Current"===a.status).length},{name:"Overdue",value:o().filter(a=>"Overdue"===a.status).length}],cx:"50%",cy:"50%",labelLine:!1,label:a=>`${a.name}: ${a.value}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[(0,l.jsx)(C2,{fill:"#10b981"}),(0,l.jsx)(C2,{fill:"#3b82f6"}),(0,l.jsx)(C2,{fill:"#ef4444"})]}),(0,l.jsx)(HJ,{}),(0,l.jsx)(H$,{})]})})})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-end space-x-4",children:[(0,l.jsxs)(a2,{onClick:()=>{let b="Power Metal & Steel - Report\n";if(b+=`Report Type: ${r()}
Generated on: ${new Date().toLocaleString()}
`,e&&g&&(b+=`Period: ${k9(e,"PPP")} - ${k9(g,"PPP")}
`),b+="\n","rental-performance"===a){let a=k();b+="Item Code,Item Name,Category,Total Rentals,Revenue (RM),Avg Duration (days),Utilization (%)\n",a.forEach(a=>{b+=`${a.itemId},"${a.itemName}",${a.category},${a.totalRentals},${a.totalRevenue},${a.avgRentalDuration},${a.utilizationRate}
`})}else if("inventory-utilization"===a){let a=n();b+="Item Code,Item Name,Category,Total Qty,In Use,Idle,Utilization (%),Avg Idle Days,Location,Condition\n",a.forEach(a=>{b+=`${a.itemId},"${a.itemName}",${a.category},${a.totalQuantity},${a.inUse},${a.idle},${a.utilizationRate},${a.avgIdleDays},${a.location},${a.condition}
`})}else if("financial"===a){let a=o();b+="Customer ID,Customer Name,Invoiced (RM),Paid (RM),Outstanding (RM),Overdue Days,Last Payment,Invoices,Status\n",a.forEach(a=>{b+=`${a.customerId},"${a.customerName}",${a.totalInvoiced},${a.totalPaid},${a.outstanding},${a.overdueDays},${a.lastPaymentDate},${a.numberOfInvoices},${a.status}
`})}let c=new Blob([b],{type:"text/csv;charset=utf-8;"}),d=URL.createObjectURL(c),f=document.createElement("a");f.href=d,f.download=`${r().replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(d),gG.success("Report exported to CSV successfully")},className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,l.jsx)(jg,{className:"size-4 mr-2"}),"Export to CSV"]}),(0,l.jsxs)(a2,{onClick:t,className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,l.jsx)(jg,{className:"size-4 mr-2"}),"Export to PDF"]})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsxs)("div",{children:[(0,l.jsxs)(hy,{className:"flex items-center gap-2",children:[(0,l.jsx)(v,{className:"size-5 text-[#F15929]"}),r()," - Detailed Data"]}),(0,l.jsx)(hz,{children:s()})]})})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"overflow-x-auto",children:["rental-performance"===a&&(0,l.jsxs)("table",{className:"w-full",children:[(0,l.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"text-left p-3 text-sm text-gray-600",children:"Item Code"}),(0,l.jsx)("th",{className:"text-left p-3 text-sm text-gray-600",children:"Item Name"}),(0,l.jsx)("th",{className:"text-left p-3 text-sm text-gray-600",children:"Category"}),(0,l.jsx)("th",{className:"text-right p-3 text-sm text-gray-600",children:"Total Rentals"}),(0,l.jsx)("th",{className:"text-right p-3 text-sm text-gray-600",children:"Revenue (RM)"}),(0,l.jsx)("th",{className:"text-right p-3 text-sm text-gray-600",children:"Avg Duration (days)"}),(0,l.jsx)("th",{className:"text-right p-3 text-sm text-gray-600",children:"Utilization (%)"})]})}),(0,l.jsx)("tbody",{children:k().map((a,b)=>(0,l.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,l.jsx)("td",{className:"p-3 text-sm",children:a.itemId}),(0,l.jsx)("td",{className:"p-3 text-sm",children:a.itemName}),(0,l.jsx)("td",{className:"p-3 text-sm",children:(0,l.jsx)(jk,{variant:"outline",children:a.category})}),(0,l.jsx)("td",{className:"p-3 text-sm text-right",children:a.totalRentals}),(0,l.jsx)("td",{className:"p-3 text-sm text-right text-[#F15929]",children:a.totalRevenue.toLocaleString()}),(0,l.jsx)("td",{className:"p-3 text-sm text-right",children:a.avgRentalDuration}),(0,l.jsx)("td",{className:"p-3 text-sm text-right",children:(0,l.jsxs)(jk,{className:a.utilizationRate>=80?"bg-green-100 text-green-800":a.utilizationRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:[a.utilizationRate,"%"]})})]},b))})]}),"inventory-utilization"===a&&(0,l.jsxs)("table",{className:"w-full",children:[(0,l.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"text-left p-3 text-sm text-gray-600",children:"Item Code"}),(0,l.jsx)("th",{className:"text-left p-3 text-sm text-gray-600",children:"Item Name"}),(0,l.jsx)("th",{className:"text-left p-3 text-sm text-gray-600",children:"Category"}),(0,l.jsx)("th",{className:"text-right p-3 text-sm text-gray-600",children:"Total Qty"}),(0,l.jsx)("th",{className:"text-right p-3 text-sm text-gray-600",children:"In Use"}),(0,l.jsx)("th",{className:"text-right p-3 text-sm text-gray-600",children:"Idle"}),(0,l.jsx)("th",{className:"text-right p-3 text-sm text-gray-600",children:"Utilization (%)"}),(0,l.jsx)("th",{className:"text-right p-3 text-sm text-gray-600",children:"Avg Idle Days"}),(0,l.jsx)("th",{className:"text-left p-3 text-sm text-gray-600",children:"Location"})]})}),(0,l.jsx)("tbody",{children:n().map((a,b)=>(0,l.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,l.jsx)("td",{className:"p-3 text-sm",children:a.itemId}),(0,l.jsx)("td",{className:"p-3 text-sm",children:a.itemName}),(0,l.jsx)("td",{className:"p-3 text-sm",children:(0,l.jsx)(jk,{variant:"outline",children:a.category})}),(0,l.jsx)("td",{className:"p-3 text-sm text-right",children:a.totalQuantity}),(0,l.jsx)("td",{className:"p-3 text-sm text-right text-green-600",children:a.inUse}),(0,l.jsx)("td",{className:"p-3 text-sm text-right text-orange-600",children:a.idle}),(0,l.jsx)("td",{className:"p-3 text-sm text-right",children:(0,l.jsxs)(jk,{className:a.utilizationRate>=80?"bg-green-100 text-green-800":a.utilizationRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:[a.utilizationRate,"%"]})}),(0,l.jsx)("td",{className:"p-3 text-sm text-right",children:a.avgIdleDays}),(0,l.jsx)("td",{className:"p-3 text-sm",children:a.location})]},b))})]}),"financial"===a&&(0,l.jsxs)("table",{className:"w-full",children:[(0,l.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"text-left p-3 text-sm text-gray-600",children:"Customer ID"}),(0,l.jsx)("th",{className:"text-left p-3 text-sm text-gray-600",children:"Customer Name"}),(0,l.jsx)("th",{className:"text-right p-3 text-sm text-gray-600",children:"Invoiced (RM)"}),(0,l.jsx)("th",{className:"text-right p-3 text-sm text-gray-600",children:"Paid (RM)"}),(0,l.jsx)("th",{className:"text-right p-3 text-sm text-gray-600",children:"Outstanding (RM)"}),(0,l.jsx)("th",{className:"text-right p-3 text-sm text-gray-600",children:"Overdue Days"}),(0,l.jsx)("th",{className:"text-left p-3 text-sm text-gray-600",children:"Last Payment"}),(0,l.jsx)("th",{className:"text-center p-3 text-sm text-gray-600",children:"Status"})]})}),(0,l.jsx)("tbody",{children:o().map((a,b)=>(0,l.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,l.jsx)("td",{className:"p-3 text-sm",children:a.customerId}),(0,l.jsx)("td",{className:"p-3 text-sm",children:a.customerName}),(0,l.jsx)("td",{className:"p-3 text-sm text-right",children:a.totalInvoiced.toLocaleString()}),(0,l.jsx)("td",{className:"p-3 text-sm text-right text-green-600",children:a.totalPaid.toLocaleString()}),(0,l.jsx)("td",{className:"p-3 text-sm text-right text-[#F15929]",children:a.outstanding.toLocaleString()}),(0,l.jsx)("td",{className:"p-3 text-sm text-right",children:a.overdueDays>0?(0,l.jsx)("span",{className:"text-red-600",children:a.overdueDays}):(0,l.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,l.jsx)("td",{className:"p-3 text-sm",children:a.lastPaymentDate}),(0,l.jsx)("td",{className:"p-3 text-sm text-center",children:(0,l.jsxs)(jk,{className:"Paid"===a.status?"bg-green-100 text-green-800":"Current"===a.status?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800",children:["Paid"===a.status&&(0,l.jsx)(hg,{className:"size-3 mr-1"}),"Overdue"===a.status&&(0,l.jsx)(S,{className:"size-3 mr-1"}),"Current"===a.status&&(0,l.jsx)(hF,{className:"size-3 mr-1"}),a.status]})})]},b))})]})]})})]})]})]})}let IQ=s("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var[IR,IS]=a4("Tooltip",[c0]),IT=c0(),IU="TooltipProvider",IV="tooltip.open",[IW,IX]=IR(IU),IY=a=>{let{__scopeTooltip:b,delayDuration:c=700,skipDelayDuration:d=300,disableHoverableContent:e=!1,children:f}=a,g=m.useRef(!0),h=m.useRef(!1),i=m.useRef(0);return m.useEffect(()=>{let a=i.current;return()=>window.clearTimeout(a)},[]),(0,l.jsx)(IW,{scope:b,isOpenDelayedRef:g,delayDuration:c,onOpen:m.useCallback(()=>{window.clearTimeout(i.current),g.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(()=>g.current=!0,d)},[d]),isPointerInTransitRef:h,onPointerInTransitChange:m.useCallback(a=>{h.current=a},[]),disableHoverableContent:e,children:f})};IY.displayName=IU;var IZ="Tooltip",[I$,I_]=IR(IZ),I0=a=>{let{__scopeTooltip:b,children:c,open:d,defaultOpen:e,onOpenChange:f,disableHoverableContent:g,delayDuration:h}=a,i=IX(IZ,a.__scopeTooltip),j=IT(b),[k,n]=m.useState(null),o=bQ(),p=m.useRef(0),q=g??i.disableHoverableContent,r=h??i.delayDuration,s=m.useRef(!1),[t,u]=bq({prop:d,defaultProp:e??!1,onChange:a=>{a?(i.onOpen(),document.dispatchEvent(new CustomEvent(IV))):i.onClose(),f?.(a)},caller:IZ}),v=m.useMemo(()=>t?s.current?"delayed-open":"instant-open":"closed",[t]),w=m.useCallback(()=>{window.clearTimeout(p.current),p.current=0,s.current=!1,u(!0)},[u]),x=m.useCallback(()=>{window.clearTimeout(p.current),p.current=0,u(!1)},[u]),y=m.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{s.current=!0,u(!0),p.current=0},r)},[r,u]);return m.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),(0,l.jsx)(c3,{...j,children:(0,l.jsx)(I$,{scope:b,contentId:o,open:t,stateAttribute:v,trigger:k,onTriggerChange:n,onTriggerEnter:m.useCallback(()=>{i.isOpenDelayedRef.current?y():w()},[i.isOpenDelayedRef,y,w]),onTriggerLeave:m.useCallback(()=>{q?x():(window.clearTimeout(p.current),p.current=0)},[x,q]),onOpen:w,onClose:x,disableHoverableContent:q,children:c})})};I0.displayName=IZ;var I1="TooltipTrigger",I2=m.forwardRef((a,b)=>{let{__scopeTooltip:c,...d}=a,e=I_(I1,c),f=IX(I1,c),g=IT(c),h=V(b,m.useRef(null),e.onTriggerChange),i=m.useRef(!1),j=m.useRef(!1),k=m.useCallback(()=>i.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",k),[k]),(0,l.jsx)(c5,{asChild:!0,...g,children:(0,l.jsx)(a8.button,{"aria-describedby":e.open?e.contentId:void 0,"data-state":e.stateAttribute,...d,ref:h,onPointerMove:bo(a.onPointerMove,a=>{"touch"!==a.pointerType&&(j.current||f.isPointerInTransitRef.current||(e.onTriggerEnter(),j.current=!0))}),onPointerLeave:bo(a.onPointerLeave,()=>{e.onTriggerLeave(),j.current=!1}),onPointerDown:bo(a.onPointerDown,()=>{e.open&&e.onClose(),i.current=!0,document.addEventListener("pointerup",k,{once:!0})}),onFocus:bo(a.onFocus,()=>{i.current||e.onOpen()}),onBlur:bo(a.onBlur,e.onClose),onClick:bo(a.onClick,e.onClose)})})});I2.displayName=I1;var I3="TooltipPortal",[I4,I5]=IR(I3,{forceMount:void 0}),I6=a=>{let{__scopeTooltip:b,forceMount:c,children:d,container:e}=a,f=I_(I3,b);return(0,l.jsx)(I4,{scope:b,forceMount:c,children:(0,l.jsx)(dh,{present:c||f.open,children:(0,l.jsx)(dg,{asChild:!0,container:e,children:d})})})};I6.displayName=I3;var I7="TooltipContent",I8=m.forwardRef((a,b)=>{let c=I5(I7,a.__scopeTooltip),{forceMount:d=c.forceMount,side:e="top",...f}=a,g=I_(I7,a.__scopeTooltip);return(0,l.jsx)(dh,{present:d||g.open,children:g.disableHoverableContent?(0,l.jsx)(Jd,{side:e,...f,ref:b}):(0,l.jsx)(I9,{side:e,...f,ref:b})})}),I9=m.forwardRef((a,b)=>{let c=I_(I7,a.__scopeTooltip),d=IX(I7,a.__scopeTooltip),e=m.useRef(null),f=V(b,e),[g,h]=m.useState(null),{trigger:i,onClose:j}=c,k=e.current,{onPointerInTransitChange:n}=d,o=m.useCallback(()=>{h(null),n(!1)},[n]),p=m.useCallback((a,b)=>{let c,d=a.currentTarget,e={x:a.clientX,y:a.clientY},f=function(a,b){let c=Math.abs(b.top-a.y),d=Math.abs(b.bottom-a.y),e=Math.abs(b.right-a.x),f=Math.abs(b.left-a.x);switch(Math.min(c,d,e,f)){case f:return"left";case e:return"right";case c:return"top";case d:return"bottom";default:throw Error("unreachable")}}(e,d.getBoundingClientRect());h(((c=[...function(a,b,c=5){let d=[];switch(b){case"top":d.push({x:a.x-c,y:a.y+c},{x:a.x+c,y:a.y+c});break;case"bottom":d.push({x:a.x-c,y:a.y-c},{x:a.x+c,y:a.y-c});break;case"left":d.push({x:a.x+c,y:a.y-c},{x:a.x+c,y:a.y+c});break;case"right":d.push({x:a.x-c,y:a.y-c},{x:a.x-c,y:a.y+c})}return d}(e,f),...function(a){let{top:b,right:c,bottom:d,left:e}=a;return[{x:e,y:b},{x:c,y:b},{x:c,y:d},{x:e,y:d}]}(b.getBoundingClientRect())].slice()).sort((a,b)=>a.x<b.x?-1:a.x>b.x?1:a.y<b.y?-1:1*!!(a.y>b.y)),function(a){if(a.length<=1)return a.slice();let b=[];for(let c=0;c<a.length;c++){let d=a[c];for(;b.length>=2;){let a=b[b.length-1],c=b[b.length-2];if((a.x-c.x)*(d.y-c.y)>=(a.y-c.y)*(d.x-c.x))b.pop();else break}b.push(d)}b.pop();let c=[];for(let b=a.length-1;b>=0;b--){let d=a[b];for(;c.length>=2;){let a=c[c.length-1],b=c[c.length-2];if((a.x-b.x)*(d.y-b.y)>=(a.y-b.y)*(d.x-b.x))c.pop();else break}c.push(d)}return(c.pop(),1===b.length&&1===c.length&&b[0].x===c[0].x&&b[0].y===c[0].y)?b:b.concat(c)}(c))),n(!0)},[n]);return m.useEffect(()=>()=>o(),[o]),m.useEffect(()=>{if(i&&k){let a=a=>p(a,k),b=a=>p(a,i);return i.addEventListener("pointerleave",a),k.addEventListener("pointerleave",b),()=>{i.removeEventListener("pointerleave",a),k.removeEventListener("pointerleave",b)}}},[i,k,p,o]),m.useEffect(()=>{if(g){let a=a=>{let b=a.target,c={x:a.clientX,y:a.clientY},d=i?.contains(b)||k?.contains(b),e=!function(a,b){let{x:c,y:d}=a,e=!1;for(let a=0,f=b.length-1;a<b.length;f=a++){let g=b[a],h=b[f],i=g.x,j=g.y,k=h.x,l=h.y;j>d!=l>d&&c<(k-i)*(d-j)/(l-j)+i&&(e=!e)}return e}(c,g);d?o():e&&(o(),j())};return document.addEventListener("pointermove",a),()=>document.removeEventListener("pointermove",a)}},[i,k,g,j,o]),(0,l.jsx)(Jd,{...a,ref:f})}),[Ja,Jb]=IR(IZ,{isInside:!1}),Jc=Z("TooltipContent"),Jd=m.forwardRef((a,b)=>{let{__scopeTooltip:c,children:d,"aria-label":e,onEscapeKeyDown:f,onPointerDownOutside:g,...h}=a,i=I_(I7,c),j=IT(c),{onClose:k}=i;return m.useEffect(()=>(document.addEventListener(IV,k),()=>document.removeEventListener(IV,k)),[k]),m.useEffect(()=>{if(i.trigger){let a=a=>{let b=a.target;b?.contains(i.trigger)&&k()};return window.addEventListener("scroll",a,{capture:!0}),()=>window.removeEventListener("scroll",a,{capture:!0})}},[i.trigger,k]),(0,l.jsx)(bz,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:a=>a.preventDefault(),onDismiss:k,children:(0,l.jsxs)(c9,{"data-state":i.stateAttribute,...j,...h,ref:b,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,l.jsx)(Jc,{children:d}),(0,l.jsx)(Ja,{scope:c,isInside:!0,children:(0,l.jsx)(hK,{id:i.contentId,role:"tooltip",children:e||d})})]})})});I8.displayName=I7;var Je="TooltipArrow",Jf=m.forwardRef((a,b)=>{let{__scopeTooltip:c,...d}=a,e=IT(c);return Jb(Je,c).isInside?null:(0,l.jsx)(dc,{...e,...d,ref:b})});function Jg({delayDuration:a=0,...b}){return(0,l.jsx)(IY,{"data-slot":"tooltip-provider",delayDuration:a,...b})}function Jh({...a}){return(0,l.jsx)(Jg,{children:(0,l.jsx)(I0,{"data-slot":"tooltip",...a})})}function Ji({...a}){return(0,l.jsx)(I2,{"data-slot":"tooltip-trigger",...a})}function Jj({className:a,sideOffset:b=0,children:c,...d}){return(0,l.jsx)(I6,{children:(0,l.jsxs)(I8,{"data-slot":"tooltip-content",sideOffset:b,className:a0("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",a),...d,children:[c,(0,l.jsx)(Jf,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}Jf.displayName=Je;let Jk=[{id:"AGR-2024-001",agreementNumber:"RA-2024-001",poNumber:"PO-2024-001",projectName:"Downtown Plaza Construction",owner:"Power Metal & Steel Sdn Bhd",ownerPhone:"+60 3-1234 5678",hirer:"Acme Construction Sdn Bhd",hirerPhone:"+60 12-345 6789",location:"Lot 123, Jalan Teknologi, Cyberjaya, Selangor",termOfHire:"6 months (Starting: 01 Dec 2024)",transportation:"Included - Delivery & Collection",monthlyRental:15e3,securityDeposit:2,minimumCharges:3,defaultInterest:1.5,ownerSignatoryName:"Ahmad bin Abdullah",ownerNRIC:"720101-01-5678",hirerSignatoryName:"John Tan Wei Ming",hirerNRIC:"850505-10-1234",status:"Active",currentVersion:1,versions:[{versionNumber:1,createdAt:"2024-11-15 10:30:00",createdBy:"Admin User",changes:"Initial agreement created",allowedRoles:["Admin","Manager","Sales","Finance"]}],createdAt:"2024-11-15",createdBy:"Admin User"},{id:"AGR-2024-002",agreementNumber:"RA-2024-002",poNumber:"PO-2024-002",projectName:"City Center Tower",owner:"Power Metal & Steel Sdn Bhd",ownerPhone:"+60 3-1234 5678",hirer:"BuildRight Inc Sdn Bhd",hirerPhone:"+60 11-222 3333",location:"Jalan Raja, Kuala Lumpur",termOfHire:"12 months (Starting: 01 Jan 2025)",transportation:"Excluded - Self Collection",monthlyRental:28e3,securityDeposit:3,minimumCharges:6,defaultInterest:2,ownerSignatoryName:"Ahmad bin Abdullah",ownerNRIC:"720101-01-5678",hirerSignatoryName:"Sarah Lee",hirerNRIC:"900812-14-5678",status:"Draft",currentVersion:2,versions:[{versionNumber:1,createdAt:"2024-11-20 09:00:00",createdBy:"Sales User",changes:"Initial draft created",allowedRoles:["Admin","Manager","Sales"]},{versionNumber:2,createdAt:"2024-11-22 14:15:00",createdBy:"Manager User",changes:"Updated monthly rental from RM 25,000 to RM 28,000",allowedRoles:["Admin","Manager"]}],createdAt:"2024-11-20",createdBy:"Sales User"}];function Jl(){let[a,b]=(0,m.useState)(Jk),[c,d]=(0,m.useState)(!1),[e,f]=(0,m.useState)(!1),[g,h]=(0,m.useState)(!1),[i,j]=(0,m.useState)(!1),[k,n]=(0,m.useState)(!1),[o,p]=(0,m.useState)(null),[q,r]=(0,m.useState)(!1),[s,t]=(0,m.useState)("owner"),[u,w]=(0,m.useState)(null);(0,m.useRef)(null),(0,m.useRef)(null);let[x,y]=(0,m.useState)(!1),[z]=(0,m.useState)("Admin"),[A,B]=(0,m.useState)({owner:"Power Metal & Steel Sdn Bhd",ownerPhone:"+60 3-1234 5678",status:"Draft",currentVersion:1,versions:[]}),[C,E]=(0,m.useState)(["Admin","Manager"]),F=a=>{switch(a){case"Draft":return(0,l.jsx)(jk,{className:"bg-[#6B7280] hover:bg-[#4B5563]",children:"Draft"});case"Active":return(0,l.jsx)(jk,{className:"bg-[#059669] hover:bg-[#047857]",children:"Active"});case"Expired":return(0,l.jsx)(jk,{className:"bg-[#F59E0B] hover:bg-[#D97706]",children:"Expired"});case"Terminated":return(0,l.jsx)(jk,{className:"bg-[#DC2626] hover:bg-[#B91C1C]",children:"Terminated"})}},G=()=>{B({owner:"Power Metal & Steel Sdn Bhd",ownerPhone:"+60 3-1234 5678",status:"Draft",currentVersion:1,versions:[]}),E(["Admin","Manager"])},H=a=>{gG.success(`Downloading ${a.agreementNumber} as PDF...`),setTimeout(()=>{gG.success("PDF downloaded successfully!")},1500)},I=(a,b)=>{let c=b.match(/(\d+)\s*months?/i);return c?a*parseInt(c[1]):a},[J,K]=(0,m.useState)(null),[L,M]=(0,m.useState)(!1);return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("h1",{children:"Rental Agreement"}),(0,l.jsx)("p",{className:"text-[#374151]",children:"Manage rental agreements with version control and role-based access"})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsxs)(hx,{className:"flex flex-row items-center justify-between",children:[(0,l.jsx)(hy,{className:"text-[18px]",children:"All Agreements"}),(0,l.jsxs)(a2,{className:"bg-[#F15929] hover:bg-[#d94d1f] h-10 px-6 rounded-lg",onClick:()=>d(!0),children:[(0,l.jsx)(jI,{className:"mr-2 h-4 w-4"}),"Create Agreement"]})]}),(0,l.jsx)(hA,{children:(0,l.jsxs)(ju,{children:[(0,l.jsx)(jv,{children:(0,l.jsxs)(jx,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,l.jsx)(jy,{children:"Project Name"}),(0,l.jsx)(jy,{children:"Total Rental"}),(0,l.jsx)(jy,{children:"Status"}),(0,l.jsx)(jy,{children:"Version"}),(0,l.jsx)(jy,{children:"Actions"})]})}),(0,l.jsx)(jw,{children:a.map(a=>(0,l.jsxs)(jx,{className:"h-14 hover:bg-[#F3F4F6]",children:[(0,l.jsx)(jz,{className:"text-[#374151]",children:a.projectName}),(0,l.jsxs)(jz,{className:"text-[#374151]",children:["RM ",I(a.monthlyRental,a.termOfHire).toLocaleString()]}),(0,l.jsx)(jz,{children:F(a.status)}),(0,l.jsxs)(jz,{className:"text-[#374151]",children:["v",a.currentVersion]}),(0,l.jsx)(jz,{children:(0,l.jsx)(Jg,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)(Jh,{children:[(0,l.jsx)(Ji,{asChild:!0,children:(0,l.jsx)(a2,{variant:"ghost",size:"sm",onClick:()=>{a.versions[a.versions.length-1].allowedRoles.includes(z)?(p(a),f(!0)):gG.error("You don't have permission to view this agreement version")},children:(0,l.jsx)(gN,{className:"h-4 w-4 text-[#3B82F6]"})})}),(0,l.jsx)(Jj,{children:(0,l.jsx)("p",{children:"View Agreement"})})]}),(0,l.jsxs)(Jh,{children:[(0,l.jsx)(Ji,{asChild:!0,children:(0,l.jsx)(a2,{variant:"ghost",size:"sm",onClick:()=>{p(a),B(a),E(a.versions[a.versions.length-1].allowedRoles),h(!0)},children:(0,l.jsx)(ji,{className:"h-4 w-4 text-[#F59E0B]"})})}),(0,l.jsx)(Jj,{children:(0,l.jsx)("p",{children:"Edit Agreement"})})]}),(0,l.jsxs)(Jh,{children:[(0,l.jsx)(Ji,{asChild:!0,children:(0,l.jsx)(a2,{variant:"ghost",size:"sm",onClick:()=>{p(a),j(!0)},children:(0,l.jsx)(IQ,{className:"h-4 w-4 text-[#6B7280]"})})}),(0,l.jsx)(Jj,{children:(0,l.jsx)("p",{children:"Version History"})})]}),(0,l.jsxs)(Jh,{children:[(0,l.jsx)(Ji,{asChild:!0,children:(0,l.jsx)(a2,{variant:"ghost",size:"sm",onClick:()=>{p(a),n(!0)},children:a.signedDocumentUrl?(0,l.jsx)(mQ,{className:"h-4 w-4 text-[#059669]"}):(0,l.jsx)(hD,{className:"h-4 w-4 text-[#F15929]"})})}),(0,l.jsx)(Jj,{children:(0,l.jsx)("p",{children:a.signedDocumentUrl?"Signed Document Uploaded":"Upload Signed Agreement"})})]}),(0,l.jsxs)(Jh,{children:[(0,l.jsx)(Ji,{asChild:!0,children:(0,l.jsx)(a2,{variant:"ghost",size:"sm",onClick:()=>H(a),children:(0,l.jsx)(jg,{className:"h-4 w-4 text-[#059669]"})})}),(0,l.jsx)(Jj,{children:(0,l.jsx)("p",{children:"Download PDF"})})]})]})})})]},a.id))})]})})]}),(0,l.jsx)(jl,{open:c,onOpenChange:d,children:(0,l.jsxs)(jp,{className:"max-w-[900px] max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)(jq,{children:[(0,l.jsx)(js,{children:"Create Rental Agreement"}),(0,l.jsx)(jt,{children:"Fill in the details to create a new rental agreement"})]}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-[#231F20]",children:"Agreement Information"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Rental Agreement Number *"}),(0,l.jsx)(a3,{placeholder:"RA-2024-XXX",value:A.agreementNumber||"",onChange:a=>B({...A,agreementNumber:a.target.value})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"P/O Number *"}),(0,l.jsx)(a3,{placeholder:"PO-2024-XXX",value:A.poNumber||"",onChange:a=>B({...A,poNumber:a.target.value})})]}),(0,l.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,l.jsx)(gR,{children:"Project Name *"}),(0,l.jsx)(a3,{placeholder:"Enter project name",value:A.projectName||"",onChange:a=>B({...A,projectName:a.target.value})})]})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-[#231F20]",children:"Owner & Hirer Details"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Owner"}),(0,l.jsx)(a3,{value:A.owner||"Power Metal & Steel Sdn Bhd",onChange:a=>B({...A,owner:a.target.value})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Owner Telephone"}),(0,l.jsx)(a3,{placeholder:"+60 X-XXXX XXXX",value:A.ownerPhone||"",onChange:a=>B({...A,ownerPhone:a.target.value})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Hirer *"}),(0,l.jsx)(a3,{placeholder:"Enter hirer company name",value:A.hirer||"",onChange:a=>B({...A,hirer:a.target.value})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Hirer Telephone"}),(0,l.jsx)(a3,{placeholder:"+60 X-XXXX XXXX",value:A.hirerPhone||"",onChange:a=>B({...A,hirerPhone:a.target.value})})]})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-[#231F20]",children:"Location & Terms"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Location & Address of Goods"}),(0,l.jsx)(jE,{placeholder:"Enter full address",value:A.location||"",onChange:a=>B({...A,location:a.target.value}),rows:2})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Term of Hire"}),(0,l.jsx)(a3,{placeholder:"e.g., 6 months (Starting: 01 Jan 2025)",value:A.termOfHire||"",onChange:a=>B({...A,termOfHire:a.target.value})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Transportation"}),(0,l.jsxs)(iE,{value:A.transportation,onValueChange:a=>B({...A,transportation:a}),children:[(0,l.jsx)(iG,{children:(0,l.jsx)(iF,{placeholder:"Select transportation"})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"Included - Delivery & Collection",children:"Included - Delivery & Collection"}),(0,l.jsx)(iI,{value:"Excluded - Self Collection",children:"Excluded - Self Collection"}),(0,l.jsx)(iI,{value:"Delivery Only",children:"Delivery Only"}),(0,l.jsx)(iI,{value:"Collection Only",children:"Collection Only"})]})]})]})]})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-[#231F20]",children:"Financial Details"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Monthly Rental (RM)"}),(0,l.jsx)(a3,{type:"number",placeholder:"0.00",value:A.monthlyRental||"",onChange:a=>B({...A,monthlyRental:parseFloat(a.target.value)})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Security Deposit (Month)"}),(0,l.jsx)(a3,{type:"number",placeholder:"0",value:A.securityDeposit||"",onChange:a=>B({...A,securityDeposit:parseFloat(a.target.value)})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Minimum Charges (Month)"}),(0,l.jsx)(a3,{type:"number",placeholder:"0",value:A.minimumCharges||"",onChange:a=>B({...A,minimumCharges:parseFloat(a.target.value)})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Default Interest (% per month)"}),(0,l.jsx)(a3,{type:"number",step:"0.1",placeholder:"0.0",value:A.defaultInterest||"",onChange:a=>B({...A,defaultInterest:parseFloat(a.target.value)})})]})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-[#231F20]",children:"Signatory Details"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Owner Signatory Name"}),(0,l.jsx)(a3,{placeholder:"Enter owner signatory name",value:A.ownerSignatoryName||"",onChange:a=>B({...A,ownerSignatoryName:a.target.value})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Owner NRIC No."}),(0,l.jsx)(a3,{placeholder:"XXXXXX-XX-XXXX",value:A.ownerNRIC||"",onChange:a=>B({...A,ownerNRIC:a.target.value})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Hirer Signatory Name"}),(0,l.jsx)(a3,{placeholder:"Enter hirer signatory name",value:A.hirerSignatoryName||"",onChange:a=>B({...A,hirerSignatoryName:a.target.value})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Hirer NRIC No."}),(0,l.jsx)(a3,{placeholder:"XXXXXX-XX-XXXX",value:A.hirerNRIC||"",onChange:a=>B({...A,hirerNRIC:a.target.value})})]})]})]}),(0,l.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,l.jsxs)(a2,{variant:"outline",className:"flex-1",onClick:()=>{d(!1),G()},children:[(0,l.jsx)(D,{className:"mr-2 h-4 w-4"}),"Cancel"]}),(0,l.jsxs)(a2,{className:"flex-1 bg-[#F15929] hover:bg-[#d94d1f]",onClick:()=>{if(!A.projectName||!A.hirer||!A.agreementNumber||!A.poNumber)return void gG.error("Please fill in all required fields");let c={id:`AGR-2024-${String(a.length+1).padStart(3,"0")}`,agreementNumber:A.agreementNumber,poNumber:A.poNumber,projectName:A.projectName,owner:A.owner||"Power Metal & Steel Sdn Bhd",ownerPhone:A.ownerPhone||"+60 3-1234 5678",hirer:A.hirer,hirerPhone:A.hirerPhone||"",location:A.location||"",termOfHire:A.termOfHire||"",transportation:A.transportation||"",monthlyRental:A.monthlyRental||0,securityDeposit:A.securityDeposit||0,minimumCharges:A.minimumCharges||0,defaultInterest:A.defaultInterest||0,ownerSignatoryName:A.ownerSignatoryName||"",ownerNRIC:A.ownerNRIC||"",hirerSignatoryName:A.hirerSignatoryName||"",hirerNRIC:A.hirerNRIC||"",status:"Draft",currentVersion:1,versions:[{versionNumber:1,createdAt:new Date().toISOString(),createdBy:"Current User",changes:"Initial agreement created",allowedRoles:C}],createdAt:k9(new Date,"yyyy-MM-dd"),createdBy:"Current User"};b([...a,c]),gG.success("Rental agreement created successfully!"),d(!1),G()},children:[(0,l.jsx)(jY,{className:"mr-2 h-4 w-4"}),"Create Agreement"]})]})]})]})}),(0,l.jsx)(jl,{open:g,onOpenChange:h,children:(0,l.jsxs)(jp,{className:"max-w-[900px] max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)(jq,{children:[(0,l.jsx)(js,{children:"Edit Rental Agreement"}),(0,l.jsxs)(jt,{children:["Editing ",o?.agreementNumber," - This will create a new version"]})]}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-[#231F20]",children:"Agreement Information"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Rental Agreement Number"}),(0,l.jsx)(a3,{value:A.agreementNumber||"",onChange:a=>B({...A,agreementNumber:a.target.value}),disabled:!0})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"P/O Number"}),(0,l.jsx)(a3,{value:A.poNumber||"",onChange:a=>B({...A,poNumber:a.target.value}),disabled:!0})]}),(0,l.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,l.jsx)(gR,{children:"Project Name *"}),(0,l.jsx)(a3,{value:A.projectName||"",onChange:a=>B({...A,projectName:a.target.value})})]})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-[#231F20]",children:"Owner & Hirer Details"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Owner"}),(0,l.jsx)(a3,{value:A.owner||"",onChange:a=>B({...A,owner:a.target.value})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Owner Telephone"}),(0,l.jsx)(a3,{value:A.ownerPhone||"",onChange:a=>B({...A,ownerPhone:a.target.value})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Hirer *"}),(0,l.jsx)(a3,{value:A.hirer||"",onChange:a=>B({...A,hirer:a.target.value})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Hirer Telephone"}),(0,l.jsx)(a3,{value:A.hirerPhone||"",onChange:a=>B({...A,hirerPhone:a.target.value})})]})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-[#231F20]",children:"Location & Terms"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Location & Address of Goods"}),(0,l.jsx)(jE,{value:A.location||"",onChange:a=>B({...A,location:a.target.value}),rows:2})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Term of Hire"}),(0,l.jsx)(a3,{value:A.termOfHire||"",onChange:a=>B({...A,termOfHire:a.target.value})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Transportation"}),(0,l.jsxs)(iE,{value:A.transportation,onValueChange:a=>B({...A,transportation:a}),children:[(0,l.jsx)(iG,{children:(0,l.jsx)(iF,{})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"Included - Delivery & Collection",children:"Included - Delivery & Collection"}),(0,l.jsx)(iI,{value:"Excluded - Self Collection",children:"Excluded - Self Collection"}),(0,l.jsx)(iI,{value:"Delivery Only",children:"Delivery Only"}),(0,l.jsx)(iI,{value:"Collection Only",children:"Collection Only"})]})]})]})]})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-[#231F20]",children:"Financial Details"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Monthly Rental (RM)"}),(0,l.jsx)(a3,{type:"number",value:A.monthlyRental||"",onChange:a=>B({...A,monthlyRental:parseFloat(a.target.value)})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Security Deposit (Month)"}),(0,l.jsx)(a3,{type:"number",value:A.securityDeposit||"",onChange:a=>B({...A,securityDeposit:parseFloat(a.target.value)})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Minimum Charges (Month)"}),(0,l.jsx)(a3,{type:"number",value:A.minimumCharges||"",onChange:a=>B({...A,minimumCharges:parseFloat(a.target.value)})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Default Interest (% per month)"}),(0,l.jsx)(a3,{type:"number",step:"0.1",value:A.defaultInterest||"",onChange:a=>B({...A,defaultInterest:parseFloat(a.target.value)})})]})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-[#231F20]",children:"Signatory Details"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Owner Signatory Name"}),(0,l.jsx)(a3,{value:A.ownerSignatoryName||"",onChange:a=>B({...A,ownerSignatoryName:a.target.value})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Owner NRIC No."}),(0,l.jsx)(a3,{value:A.ownerNRIC||"",onChange:a=>B({...A,ownerNRIC:a.target.value})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Hirer Signatory Name"}),(0,l.jsx)(a3,{value:A.hirerSignatoryName||"",onChange:a=>B({...A,hirerSignatoryName:a.target.value})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Hirer NRIC No."}),(0,l.jsx)(a3,{value:A.hirerNRIC||"",onChange:a=>B({...A,hirerNRIC:a.target.value})})]})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-[#231F20]",children:"Agreement Status"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Status"}),(0,l.jsxs)(iE,{value:A.status,onValueChange:a=>B({...A,status:a}),children:[(0,l.jsx)(iG,{children:(0,l.jsx)(iF,{})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"Draft",children:"Draft"}),(0,l.jsx)(iI,{value:"Active",children:"Active"}),(0,l.jsx)(iI,{value:"Terminated",children:"Terminated"})]})]})]})]}),(0,l.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,l.jsxs)(a2,{variant:"outline",className:"flex-1",onClick:()=>{h(!1),p(null),G()},children:[(0,l.jsx)(D,{className:"mr-2 h-4 w-4"}),"Cancel"]}),(0,l.jsxs)(a2,{className:"flex-1 bg-[#F15929] hover:bg-[#d94d1f]",onClick:()=>{if(!o||!A.projectName)return void gG.error("Please fill in all required fields");let c={...o,...A,currentVersion:o.currentVersion+1,versions:[...o.versions,{versionNumber:o.currentVersion+1,createdAt:new Date().toISOString(),createdBy:"Current User",changes:"Agreement updated",allowedRoles:["Admin","Manager","Sales","Finance","Operations","Staff"]}]};b(a.map(a=>a.id===o.id?c:a)),gG.success("Agreement updated successfully!"),h(!1),p(null),G()},children:[(0,l.jsx)(jY,{className:"mr-2 h-4 w-4"}),"Save Changes (Create v",o?o.currentVersion+1:1,")"]})]})]})]})}),(0,l.jsx)(jl,{open:e,onOpenChange:f,children:(0,l.jsxs)(jp,{className:"max-w-[900px] max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)(jq,{children:[(0,l.jsx)(js,{children:"Rental Agreement"}),(0,l.jsxs)(jt,{children:[o?.agreementNumber," - Version ",o?.currentVersion]})]}),o&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"text-center space-y-2 pb-4 border-b-2 border-[#231F20]",children:[(0,l.jsx)("h2",{className:"text-[#231F20]",children:"RENTAL AGREEMENT"}),(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Power Metal & Steel Sdn Bhd"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Owner"}),(0,l.jsx)("p",{className:"text-[#111827]",children:o.owner})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Hirer"}),(0,l.jsx)("p",{className:"text-[#111827]",children:o.hirer})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Owner Telephone"}),(0,l.jsx)("p",{className:"text-[#111827]",children:o.ownerPhone})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Hirer Telephone"}),(0,l.jsx)("p",{className:"text-[#111827]",children:o.hirerPhone})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Rental Agreement Number"}),(0,l.jsx)("p",{className:"text-[#111827]",children:o.agreementNumber})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"P/O Number"}),(0,l.jsx)("p",{className:"text-[#111827]",children:o.poNumber})]}),(0,l.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Project Name"}),(0,l.jsx)("p",{className:"text-[#111827]",children:o.projectName})]}),(0,l.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Location & Address of Goods"}),(0,l.jsx)("p",{className:"text-[#111827]",children:o.location})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Term of Hire"}),(0,l.jsx)("p",{className:"text-[#111827]",children:o.termOfHire})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Transportation"}),(0,l.jsx)("p",{className:"text-[#111827]",children:o.transportation})]})]}),(0,l.jsxs)("div",{className:"space-y-4 p-4 bg-[#F9FAFB] rounded-lg",children:[(0,l.jsx)("h3",{className:"text-[#231F20]",children:"Financial Details"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Monthly Rental"}),(0,l.jsxs)("p",{className:"text-[#111827]",children:["RM ",o.monthlyRental.toLocaleString()]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Security Deposit"}),(0,l.jsxs)("p",{className:"text-[#111827]",children:[o.securityDeposit," Month(s)"]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Minimum Charges"}),(0,l.jsxs)("p",{className:"text-[#111827]",children:[o.minimumCharges," Month(s)"]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Default Interest"}),(0,l.jsxs)("p",{className:"text-[#111827]",children:[o.defaultInterest,"% per month"]})]})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-[#231F20]",children:"Signatory Details"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"space-y-4 p-4 border border-[#E5E7EB] rounded-lg",children:[(0,l.jsx)("h4",{className:"text-[#111827]",children:"Owner"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Name"}),(0,l.jsx)("p",{className:"text-[#111827]",children:o.ownerSignatoryName})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"NRIC No."}),(0,l.jsx)("p",{className:"text-[#111827]",children:o.ownerNRIC})]}),o.ownerSignature&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Signature"}),(0,l.jsx)("div",{className:"border-2 border-[#E5E7EB] rounded-lg p-2 bg-white",children:(0,l.jsx)("img",{src:o.ownerSignature,alt:"Owner signature"})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Date"}),(0,l.jsx)("p",{className:"text-[#111827]",children:o.ownerSignatureDate&&k9(new Date(o.ownerSignatureDate),"PPP")})]})]})]}),(0,l.jsxs)("div",{className:"space-y-4 p-4 border border-[#E5E7EB] rounded-lg",children:[(0,l.jsx)("h4",{className:"text-[#111827]",children:"Hirer"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Name"}),(0,l.jsx)("p",{className:"text-[#111827]",children:o.hirerSignatoryName})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"NRIC No."}),(0,l.jsx)("p",{className:"text-[#111827]",children:o.hirerNRIC})]}),o.hirerSignature&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Signature"}),(0,l.jsx)("div",{className:"border-2 border-[#E5E7EB] rounded-lg p-2 bg-white",children:(0,l.jsx)("img",{src:o.hirerSignature,alt:"Hirer signature"})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Date"}),(0,l.jsx)("p",{className:"text-[#111827]",children:o.hirerSignatureDate&&k9(new Date(o.hirerSignatureDate),"PPP")})]})]})]})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-[#231F20]",children:"Signed Agreement Document"}),o.signedDocumentUrl?(0,l.jsx)(hw,{className:"border-[#E5E7EB] bg-[#F0FDF4]",children:(0,l.jsx)(hA,{className:"pt-4",children:(0,l.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,l.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,l.jsx)(mQ,{className:"h-5 w-5 text-[#059669] mt-0.5"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"text-[14px] text-[#059669]",children:"Signed document uploaded"}),o.signedDocumentUploadedAt&&(0,l.jsxs)("p",{className:"text-[12px] text-[#6B7280] mt-1",children:["Uploaded on ",k9(new Date(o.signedDocumentUploadedAt),"PPp"),o.signedDocumentUploadedBy&&` by ${o.signedDocumentUploadedBy}`]})]})]}),(0,l.jsxs)(a2,{variant:"outline",size:"sm",onClick:()=>{o.signedDocumentUrl&&(gG.success("Downloading signed agreement..."),setTimeout(()=>{gG.success("Download complete!")},1e3))},className:"h-9 px-4 rounded-lg shrink-0",children:[(0,l.jsx)(jg,{className:"mr-2 h-4 w-4"}),"Download"]})]})})}):(0,l.jsx)(hw,{className:"border-[#E5E7EB] bg-[#FEF3C7]",children:(0,l.jsx)(hA,{className:"pt-4",children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(P,{className:"h-5 w-5 text-[#F59E0B] mt-0.5"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"text-[14px] text-[#92400E]",children:"No signed document uploaded yet"}),(0,l.jsx)("p",{className:"text-[12px] text-[#92400E] mt-1",children:"Use the upload button in the agreements table to upload the signed document."})]})]})})})]}),(0,l.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,l.jsx)(a2,{variant:"outline",className:"flex-1",onClick:()=>f(!1),children:"Close"}),(0,l.jsxs)(a2,{className:"flex-1 bg-[#F15929] hover:bg-[#d94d1f]",onClick:()=>H(o),children:[(0,l.jsx)(jg,{className:"mr-2 h-4 w-4"}),"Download PDF"]})]})]})]})}),(0,l.jsx)(jl,{open:i,onOpenChange:j,children:(0,l.jsxs)(jp,{className:"max-w-[700px]",children:[(0,l.jsxs)(jq,{children:[(0,l.jsx)(js,{children:"Version History"}),(0,l.jsxs)(jt,{children:["Agreement: ",o?.agreementNumber," - All versions are viewable"]})]}),o&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("div",{className:"space-y-3",children:[...o.versions].reverse().map((a,b)=>(0,l.jsx)(hw,{className:"border-[#E5E7EB]",children:(0,l.jsx)(hA,{className:"pt-4",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,l.jsxs)(jk,{className:"bg-[#F15929] hover:bg-[#d94d1f]",children:["Version ",a.versionNumber]}),a.versionNumber===o.currentVersion&&(0,l.jsx)(jk,{className:"bg-[#059669] hover:bg-[#047857]",children:"Current"})]}),(0,l.jsx)("p",{className:"text-[14px] text-[#111827] mb-1",children:a.changes}),(0,l.jsxs)("div",{className:"flex items-center gap-4 text-[12px] text-[#6B7280]",children:[(0,l.jsxs)("span",{children:["Created by: ",a.createdBy]}),(0,l.jsx)("span",{children:""}),(0,l.jsx)("span",{children:k9(new Date(a.createdAt),"PPp")})]})]}),(0,l.jsxs)(a2,{variant:"outline",size:"sm",onClick:()=>{K(a),M(!0)},className:"ml-4",children:[(0,l.jsx)(gN,{className:"h-4 w-4 mr-1"}),"View"]})]})})},a.versionNumber))}),(0,l.jsx)("div",{className:"flex gap-3 pt-4 border-t",children:(0,l.jsx)(a2,{variant:"outline",className:"flex-1",onClick:()=>j(!1),children:"Close"})})]})]})}),(0,l.jsx)(jl,{open:L,onOpenChange:M,children:(0,l.jsxs)(jp,{className:"max-w-[900px] max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)(jq,{children:[(0,l.jsx)(js,{children:"View Agreement Version"}),(0,l.jsxs)(jt,{children:[o?.agreementNumber," - Version ",J?.versionNumber,J?.versionNumber===o?.currentVersion&&" (Current)"]})]}),o&&J&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)(hw,{className:"border-[#E5E7EB] bg-[#F9FAFB]",children:(0,l.jsx)(hA,{className:"pt-4",children:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("p",{className:"text-[14px] text-[#111827]",children:[(0,l.jsx)("strong",{children:"Changes:"})," ",J.changes]}),(0,l.jsxs)("div",{className:"flex items-center gap-4 text-[12px] text-[#6B7280]",children:[(0,l.jsxs)("span",{children:["Created by: ",J.createdBy]}),(0,l.jsx)("span",{children:""}),(0,l.jsx)("span",{children:k9(new Date(J.createdAt),"PPp")})]})]})})}),(0,l.jsxs)("div",{className:"text-center space-y-2 pb-4 border-b-2 border-[#231F20]",children:[(0,l.jsx)("h2",{className:"text-[#231F20]",children:"RENTAL AGREEMENT"}),(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Power Metal & Steel Sdn Bhd"}),(0,l.jsxs)(jk,{className:"bg-[#F15929] hover:bg-[#d94d1f]",children:["Version ",J.versionNumber]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Owner"}),(0,l.jsx)("p",{className:"text-[#111827]",children:o.owner})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Hirer"}),(0,l.jsx)("p",{className:"text-[#111827]",children:o.hirer})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Owner Telephone"}),(0,l.jsx)("p",{className:"text-[#111827]",children:o.ownerPhone})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Hirer Telephone"}),(0,l.jsx)("p",{className:"text-[#111827]",children:o.hirerPhone})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Rental Agreement Number"}),(0,l.jsx)("p",{className:"text-[#111827]",children:o.agreementNumber})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"P/O Number"}),(0,l.jsx)("p",{className:"text-[#111827]",children:o.poNumber})]}),(0,l.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Project Name"}),(0,l.jsx)("p",{className:"text-[#111827]",children:o.projectName})]}),(0,l.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Location & Address of Goods"}),(0,l.jsx)("p",{className:"text-[#111827]",children:o.location})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Term of Hire"}),(0,l.jsx)("p",{className:"text-[#111827]",children:o.termOfHire})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Transportation"}),(0,l.jsx)("p",{className:"text-[#111827]",children:o.transportation})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Monthly Rental"}),(0,l.jsxs)("p",{className:"text-[#111827]",children:["RM ",o.monthlyRental.toLocaleString()]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Total Rental"}),(0,l.jsxs)("p",{className:"text-[#111827]",children:["RM ",I(o.monthlyRental,o.termOfHire).toLocaleString()]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Security Deposit"}),(0,l.jsxs)("p",{className:"text-[#111827]",children:[o.securityDeposit," month(s)"]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Minimum Charges"}),(0,l.jsxs)("p",{className:"text-[#111827]",children:[o.minimumCharges," month(s)"]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Default Interest"}),(0,l.jsxs)("p",{className:"text-[#111827]",children:[o.defaultInterest,"% per month"]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{className:"text-[#6B7280]",children:"Status"}),(0,l.jsx)("div",{children:F(o.status)})]})]}),(0,l.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,l.jsx)(a2,{variant:"outline",className:"flex-1",onClick:()=>{M(!1),K(null)},children:"Close"}),(0,l.jsxs)(a2,{className:"flex-1 bg-[#F15929] hover:bg-[#d94d1f]",onClick:()=>{gG.success(`Downloading Version ${J.versionNumber} as PDF...`),setTimeout(()=>{gG.success("PDF downloaded successfully!")},1500)},children:[(0,l.jsx)(jg,{className:"mr-2 h-4 w-4"}),"Download This Version"]})]})]})]})}),(0,l.jsx)(jl,{open:k,onOpenChange:n,children:(0,l.jsxs)(jp,{className:"max-w-[600px]",children:[(0,l.jsxs)(jq,{children:[(0,l.jsx)(js,{children:"Upload Signed Agreement"}),(0,l.jsxs)(jt,{children:["Upload the signed agreement document for ",o?.agreementNumber]})]}),(0,l.jsxs)("div",{className:"space-y-6",children:[o?.signedDocumentUrl&&(0,l.jsx)(hw,{className:"border-[#E5E7EB] bg-[#F0FDF4]",children:(0,l.jsx)(hA,{className:"pt-4",children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(mQ,{className:"h-5 w-5 text-[#059669] mt-0.5"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"text-[14px] text-[#059669]",children:"A signed document has already been uploaded for this agreement."}),o.signedDocumentUploadedAt&&(0,l.jsxs)("p",{className:"text-[12px] text-[#6B7280] mt-1",children:["Uploaded on ",k9(new Date(o.signedDocumentUploadedAt),"PPp"),o.signedDocumentUploadedBy&&` by ${o.signedDocumentUploadedBy}`]})]})]})})}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Select Document *"}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)(a3,{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:a=>{let b=a.target.files?.[0];if(b){if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(b.type))return void gG.error("Please upload a PDF or image file (JPG, PNG)");if(b.size>0xa00000)return void gG.error("File size should not exceed 10MB");w(b)}},className:"cursor-pointer"}),(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Accepted formats: PDF, JPG, PNG (Max size: 10MB)"})]})]}),u&&(0,l.jsx)(hw,{className:"border-[#E5E7EB] bg-[#F9FAFB]",children:(0,l.jsx)(hA,{className:"pt-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(v,{className:"h-5 w-5 text-[#F15929]"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"text-[14px] text-[#111827]",children:u.name}),(0,l.jsxs)("p",{className:"text-[12px] text-[#6B7280]",children:[(u.size/1024/1024).toFixed(2)," MB"]})]})]})})})]}),(0,l.jsx)(hw,{className:"border-[#E5E7EB] bg-[#FEF3C7]",children:(0,l.jsx)(hA,{className:"pt-4",children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(P,{className:"h-5 w-5 text-[#F59E0B] mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[14px] text-[#92400E]",children:"Important Information"}),(0,l.jsxs)("ul",{className:"text-[12px] text-[#92400E] mt-2 space-y-1 list-disc list-inside",children:[(0,l.jsx)("li",{children:"Upload the agreement that has been signed by the customer"}),(0,l.jsx)("li",{children:"Ensure the document is clear and legible"}),(0,l.jsx)("li",{children:"Uploading a new document will replace the existing one"})]})]})]})})}),(0,l.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,l.jsxs)(a2,{variant:"outline",className:"flex-1",onClick:()=>{n(!1),w(null),p(null)},children:[(0,l.jsx)(D,{className:"mr-2 h-4 w-4"}),"Cancel"]}),(0,l.jsxs)(a2,{className:"flex-1 bg-[#F15929] hover:bg-[#d94d1f]",onClick:()=>{if(!u||!o)return void gG.error("Please select a file to upload");let c=URL.createObjectURL(u),d={...o,signedDocumentUrl:c,signedDocumentUploadedAt:new Date().toISOString(),signedDocumentUploadedBy:"Current Admin User"};b(a.map(a=>a.id===o.id?d:a)),gG.success("Signed agreement uploaded successfully!"),n(!1),w(null),p(null)},disabled:!u,children:[(0,l.jsx)(hD,{className:"mr-2 h-4 w-4"}),"Upload Document"]})]})]})]})})]})}function Jm({status:a}){switch(a){case"Pending Payment":return(0,l.jsx)(jk,{className:"bg-[#F5A623] hover:bg-[#D88F1C] text-white",children:"Pending Payment"});case"Pending Approval":return(0,l.jsx)(jk,{className:"bg-[#3B82F6] hover:bg-[#2563EB] text-white",children:"Pending Approval"});case"Paid":return(0,l.jsx)(jk,{className:"bg-[#059669] hover:bg-[#047857] text-white",children:"Paid"});case"Rejected":return(0,l.jsx)(jk,{className:"bg-[#DC2626] hover:bg-[#B91C1C] text-white",children:"Rejected"});case"Overdue":return(0,l.jsx)(jk,{className:"bg-[#EA580C] hover:bg-[#C2410C] text-white",children:"Overdue"})}}function Jn({onFileSelect:a,existingFile:b}){let[c,d]=(0,m.useState)(b||null),[e,f]=(0,m.useState)(null),[g,h]=(0,m.useState)(null),[i,j]=(0,m.useState)(!1),k=(0,m.useRef)(null),n=b=>{if(b){if(b.size>0xa00000)return void alert("File size exceeds 10MB limit. Please choose a smaller file.");if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(b.type))return void alert("Invalid file type. Please upload PDF, JPG, or PNG only.");if(d(b),a(b),h(new Date().toLocaleString()),b.type.startsWith("image/")){let a=new FileReader;a.onloadend=()=>{f(a.result)},a.readAsDataURL(b)}else f(null)}};if(c){var o;return(0,l.jsx)(hw,{className:"border-[#E5E7EB] bg-[#F9FAFB]",children:(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,l.jsx)(hE,{className:"h-5 w-5 text-[#059669]"}),(0,l.jsx)("p",{className:"text-[#059669]",children:"File uploaded successfully"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[e&&(0,l.jsx)("div",{className:"relative w-full h-48 rounded-lg overflow-hidden border border-[#E5E7EB]",children:(0,l.jsx)("img",{src:e,alt:"Payment proof preview",className:"w-full h-full object-contain bg-white"})}),(0,l.jsx)(hw,{className:"p-4 border-[#E5E7EB] bg-white",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:c.type.startsWith("image/")?(0,l.jsx)(j$,{className:"h-10 w-10 text-[#F15929]"}):(0,l.jsx)(v,{className:"h-10 w-10 text-[#6B7280]"})}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("p",{className:"text-[14px] text-[#111827] truncate",children:c.name}),(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:(o=c.size)<1024?o+" B":o<1048576?(o/1024).toFixed(1)+" KB":(o/1048576).toFixed(1)+" MB"}),g&&(0,l.jsxs)("p",{className:"text-[12px] text-[#6B7280] mt-1",children:["Uploaded: ",g]})]}),(0,l.jsx)(a2,{type:"button",variant:"ghost",size:"sm",onClick:()=>{d(null),f(null),h(null),a(null),k.current&&(k.current.value="")},className:"flex-shrink-0 hover:bg-[#FEF2F2]",children:(0,l.jsx)(D,{className:"h-4 w-4 text-[#DC2626]"})})]})})]})]})})}return(0,l.jsxs)("div",{className:`border-2 border-dashed rounded-lg p-12 text-center transition-all cursor-pointer shadow-sm ${i?"border-[#F15929] bg-[#FFF7F5]":"border-[#D1D5DB] bg-white hover:border-[#F15929] hover:bg-[#FAFAFA]"}`,onClick:()=>k.current?.click(),onDragOver:a=>{a.preventDefault(),j(!0)},onDragLeave:a=>{a.preventDefault(),j(!1)},onDrop:a=>{a.preventDefault(),j(!1),n(a.dataTransfer.files?.[0]||null)},children:[(0,l.jsx)(hD,{className:`h-16 w-16 mx-auto mb-4 ${i?"text-[#F15929]":"text-[#6B7280]"}`}),(0,l.jsx)("p",{className:"text-[#111827] mb-2",children:i?"Drop file here":"Click to upload or drag and drop"}),(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280] mb-1",children:"Upload the receipt, bank transfer slip, or payment confirmation"}),(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"PNG, JPG, PDF up to 10MB"}),(0,l.jsx)("input",{ref:k,type:"file",accept:"image/*,.pdf",className:"hidden",onChange:a=>{n(a.target.files?.[0]||null)}})]})}function Jo({open:a,onClose:b,onSubmit:c,depositInvoiceNo:d,isReupload:e=!1}){let[f,g]=(0,m.useState)(null),h=()=>{g(null),b()};return(0,l.jsx)(jl,{open:a,onOpenChange:h,children:(0,l.jsxs)(jp,{className:"max-w-2xl",children:[(0,l.jsxs)(jq,{children:[(0,l.jsx)(js,{className:"text-[20px]",children:"Upload Proof of Payment"}),(0,l.jsxs)("p",{className:"text-[14px] text-[#6B7280] mt-2",children:["Invoice: ",(0,l.jsx)("span",{className:"text-[#111827]",children:d})]})]}),(0,l.jsxs)("div",{className:"space-y-4 py-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-[14px] text-[#374151] mb-3 block",children:"Upload Proof of Payment Document"}),(0,l.jsx)(Jn,{onFileSelect:g,existingFile:f})]}),(0,l.jsx)("div",{className:"bg-[#F0F9FF] border border-[#BAE6FD] rounded-lg p-3",children:(0,l.jsxs)("p",{className:"text-[14px] text-[#075985]",children:[(0,l.jsx)("strong",{children:"Note:"})," Accepted file types are PDF, JPG, and PNG (max 10MB).",e?' This re-submission will move the deposit back to "Pending Approval" status for review.':' After submission, this deposit will move to "Pending Approval" status.']})})]}),(0,l.jsxs)(jr,{className:"gap-2",children:[(0,l.jsx)(a2,{variant:"outline",onClick:h,className:"border-[#D1D5DB] text-[#374151] hover:bg-[#F3F4F6]",children:"Cancel"}),(0,l.jsxs)(a2,{onClick:()=>{f&&(c(f),g(null),b())},disabled:!f,className:"bg-[#F15929] hover:bg-[#D14620] text-white disabled:opacity-50",children:[(0,l.jsx)(hD,{className:"mr-2 h-4 w-4"}),"Submit for Approval"]})]})]})})}function Jp({deposits:a,onView:b,onUploadProof:c,userRole:d}){let[e,f]=(0,m.useState)(""),[g,h]=(0,m.useState)("all"),[i,j]=(0,m.useState)(!1),[k,n]=(0,m.useState)(null),o=a.filter(a=>{let b=a.depositId.toLowerCase().includes(e.toLowerCase())||a.invoiceNo.toLowerCase().includes(e.toLowerCase())||a.customerName.toLowerCase().includes(e.toLowerCase()),c="all"===g||a.status===g;return b&&c}),p=a.filter(a=>"Pending Payment"===a.status).length,q=a.filter(a=>"Pending Approval"===a.status).length,r=a.filter(a=>"Paid"===a.status).length,s=a.filter(a=>"Paid"===a.status).reduce((a,b)=>a+b.depositAmount,0),t=a.filter(a=>"Overdue"===a.status).length;return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"Pending Payment"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"h-12 w-12 rounded-full bg-[#FEF3C7] flex items-center justify-center",children:(0,l.jsx)(u,{className:"h-6 w-6 text-[#F59E0B]"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#111827]",children:p}),(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Awaiting payment"})]})]})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"Pending Approval"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"h-12 w-12 rounded-full bg-[#DBEAFE] flex items-center justify-center",children:(0,l.jsx)(v,{className:"h-6 w-6 text-[#3B82F6]"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#111827]",children:q}),(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Need review"})]})]})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"Paid Deposits"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"h-12 w-12 rounded-full bg-[#D1FAE5] flex items-center justify-center",children:(0,l.jsx)(w,{className:"h-6 w-6 text-[#059669]"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#111827]",children:r}),(0,l.jsxs)("p",{className:"text-[12px] text-[#059669]",children:["RM",s.toLocaleString()]})]})]})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-[14px] text-[#6B7280]",children:"Overdue"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"h-12 w-12 rounded-full bg-[#FFEDD5] flex items-center justify-center",children:(0,l.jsx)(S,{className:"h-6 w-6 text-[#EA580C]"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#111827]",children:t}),(0,l.jsx)("p",{className:"text-[12px] text-[#EA580C]",children:"Payment expired"})]})]})})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)("div",{className:"relative flex-1 max-w-[400px]",children:[(0,l.jsx)(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[#6B7280]"}),(0,l.jsx)(a3,{placeholder:"Search by deposit ID, invoice, or customer...",className:"pl-10 h-10 bg-white border-[#D1D5DB] rounded-md",value:e,onChange:a=>f(a.target.value)})]}),(0,l.jsxs)(iE,{value:g,onValueChange:h,children:[(0,l.jsx)(iG,{className:"w-[200px] h-10 bg-white border-[#D1D5DB] rounded-md",children:(0,l.jsx)(iF,{placeholder:"Filter by status"})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"all",children:"All Status"}),(0,l.jsx)(iI,{value:"Pending Payment",children:"Pending Payment"}),(0,l.jsx)(iI,{value:"Pending Approval",children:"Pending Approval"}),(0,l.jsx)(iI,{value:"Paid",children:"Paid"}),(0,l.jsx)(iI,{value:"Rejected",children:"Rejected"}),(0,l.jsx)(iI,{value:"Overdue",children:"Overdue"})]})]})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px]",children:"Deposit List"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)(ju,{children:[(0,l.jsx)(jv,{children:(0,l.jsxs)(jx,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,l.jsx)(jy,{children:"Invoice No."}),(0,l.jsx)(jy,{children:"Customer Name"}),(0,l.jsx)(jy,{children:"Deposit Amount"}),(0,l.jsx)(jy,{children:"Status"}),(0,l.jsx)(jy,{children:"Due Date"}),(0,l.jsx)(jy,{children:"Last Updated"}),(0,l.jsx)(jy,{className:"text-right",children:"Action"})]})}),(0,l.jsx)(jw,{children:0===o.length?(0,l.jsx)(jx,{children:(0,l.jsx)(jz,{colSpan:7,className:"text-center py-8 text-[#6B7280]",children:"No deposits found"})}):o.map(a=>{let d;return(0,l.jsxs)(jx,{className:"h-14 hover:bg-[#F3F4F6]",children:[(0,l.jsx)(jz,{className:"text-[#374151]",children:a.invoiceNo}),(0,l.jsx)(jz,{className:"text-[#374151]",children:a.customerName}),(0,l.jsxs)(jz,{className:"text-[#111827]",children:["RM",a.depositAmount.toLocaleString()]}),(0,l.jsx)(jz,{children:(0,l.jsx)(Jm,{status:a.status})}),(0,l.jsx)(jz,{children:(0,l.jsx)("div",{className:"Overdue"===a.status?"text-[#EA580C]":"text-[#374151]",children:new Date(a.dueDate).toLocaleDateString()})}),(0,l.jsx)(jz,{className:"text-[#374151]",children:new Date(a.lastUpdated).toLocaleDateString()}),(0,l.jsx)(jz,{className:"text-right",children:(0,l.jsxs)(fp,{children:[(0,l.jsx)(fq,{asChild:!0,children:(0,l.jsx)(a2,{variant:"ghost",className:"h-8 w-8 p-0 hover:bg-[#F3F4F6]",children:(0,l.jsx)(jN,{className:"h-4 w-4 text-[#6B7280]"})})}),(0,l.jsxs)(fr,{align:"end",className:"w-[200px]",children:[(0,l.jsxs)(fs,{onClick:()=>b(a.id),children:[(0,l.jsx)(gN,{className:"mr-2 h-4 w-4"}),"View Details"]}),c&&("Pending Payment"===a.status||"Rejected"===a.status)&&(d=new Date<new Date(a.dueDate),(0,l.jsxs)(fs,{onClick:()=>{d&&(n(a),j(!0))},disabled:!d,className:d?"":"opacity-50 cursor-not-allowed",title:d?"":"Cannot upload new proof after due date",children:[(0,l.jsx)(hD,{className:"mr-2 h-4 w-4"}),"Rejected"===a.status?"Re-Upload Proof":"Upload Proof"]}))]})]})})]},a.id)})})]})})]}),i&&k&&c&&(0,l.jsx)(Jo,{open:i,onClose:()=>{j(!1),n(null)},onSubmit:a=>{c(k.id,a),j(!1),n(null)},depositInvoiceNo:k.invoiceNo,isReupload:"Rejected"===k.status})]})}function Jq({isOpen:a,onClose:b,onApprove:c,depositId:d,customerName:e,amount:f}){let[g,h]=(0,m.useState)(""),[i,j]=(0,m.useState)(""),k=()=>{h(""),j(""),b()};return(0,l.jsx)(jl,{open:a,onOpenChange:k,children:(0,l.jsxs)(jp,{className:"sm:max-w-[500px]",children:[(0,l.jsxs)(jq,{children:[(0,l.jsxs)(js,{className:"flex items-center gap-2",children:[(0,l.jsx)(hE,{className:"h-5 w-5 text-[#059669]"}),"Approve Payment"]}),(0,l.jsx)(jt,{children:"Enter the transaction reference ID to approve this deposit"})]}),(0,l.jsxs)("div",{className:"space-y-4 py-4",children:[(0,l.jsxs)("div",{className:"bg-[#F0FDF4] border border-[#BBF7D0] rounded-lg p-4 space-y-3",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-[14px] text-[#374151]",children:"Deposit ID:"}),(0,l.jsx)("span",{className:"text-[#111827]",children:d})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-[14px] text-[#374151]",children:"Customer:"}),(0,l.jsx)("span",{className:"text-[#111827]",children:e})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-[14px] text-[#374151]",children:"Amount:"}),(0,l.jsxs)("span",{className:"text-[#111827]",children:["RM",f.toLocaleString()]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(gR,{htmlFor:"referenceId",children:["Reference ID / Transaction ID ",(0,l.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,l.jsx)(a3,{id:"referenceId",placeholder:"Enter transaction reference ID",value:g,onChange:a=>{h(a.target.value),j("")},className:i?"border-[#DC2626]":""}),i&&(0,l.jsx)("p",{className:"text-[14px] text-[#DC2626]",children:i})]}),(0,l.jsx)("div",{className:"bg-[#FFFBEB] border border-[#FDE68A] rounded-lg p-4",children:(0,l.jsxs)("p",{className:"text-[14px] text-[#92400E]",children:[(0,l.jsx)("strong",{children:"Note:"})," Once approved, this deposit will be marked as PAID and the customer will be notified. This action cannot be undone."]})})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,l.jsx)(a2,{variant:"outline",onClick:k,className:"h-10 px-6 rounded-lg",children:"Cancel"}),(0,l.jsx)(a2,{onClick:()=>{g.trim()?(c(g),h(""),j(""),b()):j("Reference ID / Transaction ID is required")},className:"bg-[#059669] hover:bg-[#047857] text-white h-10 px-6 rounded-lg",children:"Confirm Approval"})]})]})})}function Jr({isOpen:a,onClose:b,onReject:c,depositId:d}){let[e,f]=(0,m.useState)(""),[g,h]=(0,m.useState)(""),i=()=>{f(""),h(""),b()};return(0,l.jsx)(jl,{open:a,onOpenChange:i,children:(0,l.jsxs)(jp,{className:"sm:max-w-[500px]",children:[(0,l.jsxs)(jq,{children:[(0,l.jsxs)(js,{className:"flex items-center gap-2",children:[(0,l.jsx)(jb,{className:"h-5 w-5 text-[#DC2626]"}),"Reject Payment"]}),(0,l.jsxs)(jt,{children:["You are about to reject the payment for deposit ",d,". Please provide a detailed reason."]})]}),(0,l.jsxs)("div",{className:"space-y-4 py-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("label",{className:"text-[14px] text-[#374151]",children:["Rejection Reason ",(0,l.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,l.jsx)(jE,{placeholder:"Enter detailed reason for rejection (e.g., unclear payment proof, incorrect amount, expired document)...",value:e,onChange:a=>{f(a.target.value),h("")},className:"min-h-[150px] border-[#D1D5DB] rounded-md"}),g&&(0,l.jsx)("p",{className:"text-[12px] text-[#DC2626]",children:g})]}),(0,l.jsx)("div",{className:"bg-[#FEF2F2] border border-[#FEE2E2] rounded-lg p-4",children:(0,l.jsxs)("p",{className:"text-[14px] text-[#991B1B]",children:[(0,l.jsx)("strong",{children:"Important:"})," The customer will be notified of this rejection and can re-upload payment proof. Make sure to provide clear instructions on what needs to be corrected."]})})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,l.jsx)(a2,{variant:"outline",onClick:i,className:"h-10 px-6 rounded-lg",children:"Cancel"}),(0,l.jsx)(a2,{onClick:()=>{e.trim()?e.trim().length<10?h("Rejection reason must be at least 10 characters"):(c(e),f(""),h(""),b()):h("Please provide a reason for rejection")},className:"bg-[#DC2626] hover:bg-[#B91C1C] text-white h-10 px-6 rounded-lg",children:"Confirm Rejection"})]})]})})}function Js({isOpen:a,onClose:b,document:c,title:d}){let e=c.fileType.startsWith("image/"),f="application/pdf"===c.fileType;return(0,l.jsx)(jl,{open:a,onOpenChange:b,children:(0,l.jsxs)(jp,{className:"sm:max-w-[800px] max-h-[90vh]",children:[(0,l.jsx)(jq,{children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)(js,{children:d}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)(a2,{variant:"outline",size:"sm",onClick:()=>{let a=c.createElement("a");a.href=c.fileUrl,a.download=c.fileName,a.click()},className:"h-9 px-4 rounded-lg",children:[(0,l.jsx)(jg,{className:"h-4 w-4 mr-2"}),"Download"]}),(0,l.jsx)(a2,{variant:"ghost",size:"sm",onClick:b,className:"h-9 w-9 p-0",children:(0,l.jsx)(D,{className:"h-4 w-4"})})]})]})}),(0,l.jsxs)("div",{className:"mt-4",children:[e&&(0,l.jsx)("div",{className:"bg-[#F9FAFB] rounded-lg p-4 flex items-center justify-center min-h-[400px]",children:(0,l.jsx)("img",{src:c.fileUrl,alt:c.fileName,className:"max-w-full max-h-[600px] object-contain"})}),f&&(0,l.jsx)("div",{className:"bg-[#F9FAFB] rounded-lg p-4",children:(0,l.jsx)("iframe",{src:c.fileUrl,className:"w-full h-[600px] border-0 rounded",title:c.fileName})}),(0,l.jsxs)("div",{className:"mt-4 flex items-center justify-between text-[14px] text-[#6B7280]",children:[(0,l.jsx)("span",{children:c.fileName}),(0,l.jsxs)("span",{children:[(c.fileSize/1024).toFixed(1)," KB"]})]})]})]})})}function Jt({deposit:a,onBack:b,onSubmitPayment:c,onApprove:d,onReject:e,onGenerateNewInvoice:f,onPrintReceipt:g,userRole:h}){let[i,j]=(0,m.useState)(null),[k,n]=(0,m.useState)(!1),[o,p]=(0,m.useState)(!1),[q,r]=(0,m.useState)(null),s="Customer"===h&&("Pending Payment"===a.status||"Rejected"===a.status&&!a.isOverdue),t=("Admin"===h||"Finance"===h||"Staff"===h)&&("Pending Payment"===a.status||"Rejected"===a.status)&&!a.paymentProof,u=("Admin"===h||"Finance"===h)&&"Pending Approval"===a.status,x="Customer"===h,y="Overdue"===a.status;a.status;let z=new Date<new Date(a.dueDate),A=()=>{i?(c(a.id,i),j(null)):gG.error("Please upload payment proof")},B=(a,b)=>{r({doc:a,title:b})};return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)(a2,{variant:"ghost",onClick:b,className:"hover:bg-[#F3F4F6]",children:[(0,l.jsx)(gT,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("h1",{children:a.depositId}),(0,l.jsx)(Jm,{status:a.status})]}),(0,l.jsxs)("p",{className:"text-[#374151]",children:["Last updated: ",new Date(a.lastUpdated).toLocaleString()]})]})]})}),y&&x&&(0,l.jsx)(hw,{className:"border-[#EA580C] bg-[#FFF7ED]",children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(S,{className:"h-6 w-6 text-[#EA580C] mt-0.5"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"text-[#EA580C]",children:" Payment Overdue"}),(0,l.jsx)("p",{className:"text-[14px] text-[#9A3412] mt-2",children:"The payment period has expired. You can no longer upload payment proof for this deposit."}),(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280] mt-2",children:"Please wait for the admin or finance team to issue a new invoice for this deposit."})]})]})})}),y&&("Admin"===h||"Finance"===h)&&(0,l.jsx)(hw,{className:"border-[#EA580C] bg-[#FFF7ED]",children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,l.jsx)(S,{className:"h-6 w-6 text-[#EA580C] mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#EA580C]",children:"Payment Overdue"}),(0,l.jsx)("p",{className:"text-[14px] text-[#9A3412] mt-1",children:"Payment period has expired. Customer cannot upload proof anymore."}),(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280] mt-1",children:"Generate a new invoice to create a new deposit record for this customer."})]})]}),(0,l.jsxs)(a2,{onClick:()=>f(a.id),className:"bg-[#F15929] hover:bg-[#D14620] text-white h-10 px-6 rounded-lg flex-shrink-0",children:[(0,l.jsx)(P,{className:"mr-2 h-4 w-4"}),"Generate New Invoice"]})]})})}),u&&(0,l.jsx)(hw,{className:"border-[#F15929] bg-[#FFF7F5]",children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#231F20]",children:"Payment Review Required"}),(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280] mt-1",children:"Customer has submitted payment proof. Please review and approve or reject."})]}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsxs)(a2,{variant:"outline",onClick:()=>p(!0),className:"h-10 px-6 rounded-lg border-[#DC2626] text-[#DC2626] hover:bg-[#FEF2F2]",children:[(0,l.jsx)(jb,{className:"mr-2 h-4 w-4"}),"Reject"]}),(0,l.jsxs)(a2,{onClick:()=>n(!0),className:"bg-[#059669] hover:bg-[#047857] text-white h-10 px-6 rounded-lg",children:[(0,l.jsx)(hE,{className:"mr-2 h-4 w-4"}),"Approve Payment"]})]})]})})}),"Rejected"===a.status&&a.rejectionReason&&(0,l.jsx)(hw,{className:"border-[#DC2626] bg-[#FEF2F2]",children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(jb,{className:"h-5 w-5 text-[#DC2626] mt-0.5"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"text-[#991B1B]",children:"Payment Rejected"}),(0,l.jsxs)("p",{className:"text-[14px] text-[#6B7280] mt-1",children:["Rejected by ",a.rejectedBy||"Admin"," on ",new Date(a.rejectedAt||"").toLocaleDateString()]}),(0,l.jsx)("div",{className:"mt-3 p-3 bg-white rounded-lg border border-[#FEE2E2]",children:(0,l.jsxs)("p",{className:"text-[14px] text-[#111827]",children:[(0,l.jsx)("span",{className:"text-[#991B1B]",children:"Reason:"})," ",a.rejectionReason]})}),x&&(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280] mt-3",children:"Please review the reason above and re-upload the correct payment proof below."})]})]})})}),"Paid"===a.status&&(0,l.jsx)(hw,{className:"border-[#059669] bg-[#F0FDF4]",children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(hE,{className:"h-5 w-5 text-[#059669]"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#047857]",children:"Payment Approved"}),(0,l.jsxs)("p",{className:"text-[14px] text-[#6B7280] mt-1",children:["Approved by ",a.approvedBy||"Admin"," on ",new Date(a.approvedAt||"").toLocaleDateString()]})]})]}),g&&(0,l.jsxs)(a2,{onClick:()=>g(a.id),className:"bg-[#F15929] hover:bg-[#D14620] text-white h-10 px-6 rounded-lg",children:[(0,l.jsx)(v,{className:"mr-2 h-4 w-4"}),"View Receipt"]})]}),(a.referenceId||a.transactionId)&&(0,l.jsxs)("div",{className:"bg-white rounded-lg border border-[#BBF7D0] p-4",children:[(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Reference / Transaction ID"}),(0,l.jsx)("p",{className:"text-[#111827] mt-1",children:a.referenceId||a.transactionId})]})]})})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px]",children:"Invoice Information"})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Invoice Number"}),(0,l.jsx)("p",{className:"text-[#111827]",children:a.invoiceNo})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Customer Name"}),(0,l.jsx)("p",{className:"text-[#111827]",children:a.customerName})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Customer ID"}),(0,l.jsx)("p",{className:"text-[#111827]",children:a.customerId})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Deposit Amount"}),(0,l.jsxs)("p",{className:"text-[#111827]",children:["RM",a.depositAmount.toLocaleString()]})]})]})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px]",children:"Payment Details"})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Due Date"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(w,{className:"h-4 w-4 text-[#6B7280]"}),(0,l.jsxs)("p",{className:y?"text-[#DC2626]":"text-[#111827]",children:[new Date(a.dueDate).toLocaleDateString(),y&&" (Overdue)"]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Current Status"}),(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)(Jm,{status:a.status})})]}),a.paymentSubmittedAt&&(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280]",children:"Payment Submitted"}),(0,l.jsx)("p",{className:"text-[#111827]",children:new Date(a.paymentSubmittedAt).toLocaleString()})]})]})]})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px]",children:"Rental Agreement"})}),(0,l.jsx)(hA,{children:(0,l.jsx)(hw,{className:"border-[#E5E7EB] bg-[#F9FAFB]",children:(0,l.jsx)(hA,{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(v,{className:"h-10 w-10 text-[#F15929]"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[14px] text-[#111827]",children:a.agreementDocument.fileName}),(0,l.jsxs)("p",{className:"text-[12px] text-[#6B7280]",children:[(a.agreementDocument.fileSize/1024).toFixed(1)," KB"]})]})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(a2,{variant:"outline",size:"sm",onClick:()=>B(a.agreementDocument,"Rental Agreement"),className:"h-9 px-4 rounded-lg",children:"View"}),(0,l.jsxs)(a2,{variant:"outline",size:"sm",className:"h-9 px-4 rounded-lg",children:[(0,l.jsx)(jg,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})})})})]}),t&&(0,l.jsxs)(hw,{className:"border-[#E5E5E5] bg-white shadow-sm rounded-lg",children:[(0,l.jsxs)(hx,{children:[(0,l.jsx)(hy,{className:"text-[18px]",children:"Upload Proof of Payment"}),(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280] mt-2",children:"Upload payment proof such as receipt, bank slip, transfer confirmation, or any supporting evidence"})]}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsx)(Jn,{onFileSelect:j,existingFile:i}),(0,l.jsx)("div",{className:"bg-[#FFFBEB] border border-[#FDE68A] rounded-lg p-3",children:(0,l.jsxs)("p",{className:"text-[14px] text-[#92400E]",children:[(0,l.jsx)("strong",{children:"Note:"}),' Once uploaded, the status will change to "Pending Approval" for review.']})}),(0,l.jsx)("div",{className:"flex justify-end gap-3",children:(0,l.jsxs)(a2,{onClick:A,disabled:!i,className:"bg-[#F15929] hover:bg-[#D14620] text-white h-10 px-6 rounded-lg disabled:opacity-50",children:[(0,l.jsx)(hD,{className:"mr-2 h-4 w-4"}),"Submit Proof of Payment"]})})]})]}),s&&!y&&(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsxs)(hx,{children:[(0,l.jsx)(hy,{className:"text-[18px]",children:"Upload Payment Proof"}),(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280] mt-2",children:"Upload your payment receipt or bank transfer proof to complete this deposit payment"})]}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsx)(Jn,{onFileSelect:j,existingFile:i}),(0,l.jsx)("div",{className:"flex justify-end gap-3",children:(0,l.jsxs)(a2,{onClick:A,disabled:!i,className:"bg-[#F15929] hover:bg-[#D14620] text-white h-10 px-6 rounded-lg disabled:opacity-50",children:[(0,l.jsx)(hD,{className:"mr-2 h-4 w-4"}),"Submit Payment Proof"]})})]})]}),x&&"Rejected"===a.status&&!y&&z&&(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsxs)(hx,{children:[(0,l.jsx)(hy,{className:"text-[18px]",children:"Re-upload Payment Proof"}),(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280] mt-2",children:"Please upload the correct payment proof based on the rejection reason above"})]}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsx)(Jn,{onFileSelect:j,existingFile:i}),(0,l.jsx)("div",{className:"flex justify-end gap-3",children:(0,l.jsxs)(a2,{onClick:A,disabled:!i,className:"bg-[#F15929] hover:bg-[#D14620] text-white h-10 px-6 rounded-lg disabled:opacity-50",children:[(0,l.jsx)(hD,{className:"mr-2 h-4 w-4"}),"Submit for Re-Approval"]})})]})]}),x&&"Rejected"===a.status&&!z&&(0,l.jsx)(hw,{className:"border-[#DC2626] bg-[#FEF2F2]",children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(S,{className:"h-6 w-6 text-[#DC2626] mt-0.5"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"text-[#DC2626]",children:"Cannot Re-Upload After Due Date"}),(0,l.jsxs)("p",{className:"text-[14px] text-[#991B1B] mt-2",children:["This deposit can no longer be re-submitted after the due date (",new Date(a.dueDate).toLocaleDateString(),")."]}),(0,l.jsx)("p",{className:"text-[14px] text-[#6B7280] mt-2",children:"Please contact the admin or finance team for assistance."})]})]})})}),a.paymentProof&&(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsxs)(hx,{children:[(0,l.jsx)(hy,{className:"text-[18px]",children:"Payment Proof"}),(0,l.jsxs)("p",{className:"text-[14px] text-[#6B7280] mt-2",children:["Submitted on ",new Date(a.paymentSubmittedAt||"").toLocaleString()]})]}),(0,l.jsx)(hA,{children:(0,l.jsx)(hw,{className:"border-[#E5E7EB] bg-[#F9FAFB]",children:(0,l.jsx)(hA,{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(v,{className:"h-10 w-10 text-[#3B82F6]"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[14px] text-[#111827]",children:a.paymentProof.fileName}),(0,l.jsxs)("p",{className:"text-[12px] text-[#6B7280]",children:[(a.paymentProof.fileSize/1024).toFixed(1)," KB"]})]})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(a2,{variant:"outline",size:"sm",onClick:()=>B(a.paymentProof,"Payment Proof"),className:"h-9 px-4 rounded-lg",children:"View"}),(0,l.jsxs)(a2,{variant:"outline",size:"sm",className:"h-9 px-4 rounded-lg",children:[(0,l.jsx)(jg,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})})})})]}),a.linkedToNewInvoice&&(0,l.jsx)(hw,{className:"border-[#E5E7EB] bg-[#F0FDF4]",children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(hE,{className:"h-5 w-5 text-[#059669]"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-[#047857]",children:"New Invoice Generated"}),(0,l.jsxs)("p",{className:"text-[14px] text-[#6B7280] mt-1",children:["This overdue deposit has been linked to new invoice: ",(0,l.jsx)("span",{className:"text-[#111827]",children:a.linkedToNewInvoice})]})]})]})})}),(0,l.jsx)(Jq,{isOpen:k,onClose:()=>n(!1),onApprove:b=>{d(a.id,b)},depositId:a.depositId,customerName:a.customerName,amount:a.depositAmount}),(0,l.jsx)(Jr,{isOpen:o,onClose:()=>p(!1),onReject:b=>{e(a.id)},depositId:a.depositId}),q&&(0,l.jsx)(Js,{isOpen:!0,onClose:()=>r(null),document:q.doc,title:q.title})]})}function Ju({deposit:a,onBack:b}){let c=(0,m.useRef)(null),d=a.rentalItems?.reduce((a,b)=>a+b.totalPrice,0)||a.depositAmount;return(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6 print:hidden",children:[(0,l.jsx)("h1",{className:"text-[#231F20]",children:"Deposit Receipt - Print Preview"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)(a2,{variant:"outline",onClick:b,children:[(0,l.jsx)(D,{className:"size-4 mr-2"}),"Close"]}),(0,l.jsxs)(a2,{onClick:()=>{window.print()},className:"bg-[#F15929] hover:bg-[#d94d1f]",children:[(0,l.jsx)(oY,{className:"size-4 mr-2"}),"Print"]})]})]}),(0,l.jsx)(hw,{className:"max-w-4xl mx-auto",children:(0,l.jsxs)(hA,{className:"p-12",ref:c,children:[(0,l.jsx)("div",{className:"border-b-4 border-[#F15929] pb-6 mb-6",children:(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-[#231F20] mb-2",children:"POWER METAL & STEEL"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Scaffolding Equipment Supplier"}),(0,l.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:["123 Industrial Park, Johor Bahru",(0,l.jsx)("br",{}),"Johor, Malaysia 81200",(0,l.jsx)("br",{}),"Tel: +60 12-345 6789",(0,l.jsx)("br",{}),"Email: info@powermetalsteel.com"]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("h2",{className:"text-[#231F20] mb-4",children:"DEPOSIT RECEIPT"}),(0,l.jsxs)("div",{className:"text-sm space-y-1",children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Receipt No:"})," ",a.depositReceipt?.receiptNumber||"RCP-"+a.depositId]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Receipt Date:"})," ",a.depositReceipt?.receiptDate?new Date(a.depositReceipt.receiptDate).toLocaleDateString():new Date().toLocaleDateString()]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Invoice No:"})," ",a.invoiceNo]})]})]})]})}),(0,l.jsxs)("div",{className:"mb-6 flex items-center gap-3",children:[(0,l.jsx)(hE,{className:"size-6 text-green-600"}),(0,l.jsx)(jk,{className:"bg-green-100 text-green-800 px-4 py-2 text-base",children:"PAID"})]}),(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h3",{className:"text-sm text-gray-600 mb-2",children:"CUSTOMER DETAILS:"}),(0,l.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,l.jsxs)("p",{className:"text-[#231F20]",children:[(0,l.jsx)("strong",{children:"Name:"})," ",a.customerName]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[(0,l.jsx)("strong",{children:"Customer ID:"})," ",a.customerId]})]})]}),a.rentalItems&&a.rentalItems.length>0&&(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h3",{className:"text-sm text-gray-600 mb-3",children:"RENTAL ITEM DETAILS:"}),(0,l.jsxs)("table",{className:"w-full border-collapse",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"border-b-2 border-gray-300",children:[(0,l.jsx)("th",{className:"text-left py-3 px-2 text-sm text-[#231F20]",children:"Item Name"}),(0,l.jsx)("th",{className:"text-right py-3 px-2 text-sm text-[#231F20]",children:"Quantity"}),(0,l.jsx)("th",{className:"text-right py-3 px-2 text-sm text-[#231F20]",children:"Unit Price (RM)"}),(0,l.jsx)("th",{className:"text-right py-3 px-2 text-sm text-[#231F20]",children:"Total Price (RM)"})]})}),(0,l.jsx)("tbody",{children:a.rentalItems.map(a=>(0,l.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,l.jsx)("td",{className:"py-3 px-2 text-sm",children:a.itemName}),(0,l.jsx)("td",{className:"py-3 px-2 text-sm text-right",children:a.quantity}),(0,l.jsx)("td",{className:"py-3 px-2 text-sm text-right",children:a.unitPrice.toFixed(2)}),(0,l.jsx)("td",{className:"py-3 px-2 text-sm text-right",children:a.totalPrice.toFixed(2)})]},a.id))})]})]}),(0,l.jsx)("div",{className:"flex justify-end mb-8",children:(0,l.jsxs)("div",{className:"w-80 space-y-3",children:[(0,l.jsxs)("div",{className:"flex justify-between pb-2",children:[(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"Subtotal:"}),(0,l.jsxs)("span",{className:"text-sm text-[#231F20]",children:["RM ",d.toFixed(2)]})]}),(0,l.jsxs)("div",{className:"flex justify-between pt-2 border-t-2 border-gray-300",children:[(0,l.jsx)("span",{className:"text-[#231F20]",children:"Deposit Amount Paid:"}),(0,l.jsxs)("span",{className:"text-[#F15929]",children:["RM ",a.depositAmount.toFixed(2)]})]})]})}),(0,l.jsx)("div",{className:"mb-8 p-4 bg-green-50 rounded-lg border-2 border-green-200",children:(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Payment Status:"}),(0,l.jsx)("p",{className:"text-green-600 mt-1",children:"PAID"})]}),a.approvedBy&&(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Approved By:"}),(0,l.jsx)("p",{className:"text-sm text-[#231F20] mt-1",children:a.approvedBy})]}),a.approvedAt&&(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Approved On:"}),(0,l.jsx)("p",{className:"text-sm text-[#231F20] mt-1",children:new Date(a.approvedAt).toLocaleDateString()})]}),a.paymentSubmittedAt&&(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Payment Submitted:"}),(0,l.jsx)("p",{className:"text-sm text-[#231F20] mt-1",children:new Date(a.paymentSubmittedAt).toLocaleDateString()})]})]})}),(0,l.jsx)("div",{className:"mb-8 p-4 bg-blue-50 rounded-lg border border-blue-200",children:(0,l.jsxs)("p",{className:"text-sm text-blue-900",children:[(0,l.jsx)("strong",{children:"Official Note:"})," This receipt is generated upon confirmation of deposit payment."]})}),(0,l.jsx)("div",{className:"pt-8 border-t border-gray-300",children:(0,l.jsxs)("div",{className:"text-center text-sm text-gray-500",children:[(0,l.jsx)("p",{children:"Thank you for your business"}),(0,l.jsx)("p",{className:"mt-2",children:"This is a computer-generated document. No signature is required."})]})}),(0,l.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[(0,l.jsx)("h4",{className:"text-xs text-gray-600 mb-2",children:"TERMS & CONDITIONS:"}),(0,l.jsxs)("ul",{className:"text-xs text-gray-500 space-y-1",children:[(0,l.jsx)("li",{children:" This deposit is refundable upon return of equipment in good condition."}),(0,l.jsx)("li",{children:" Deposit will be forfeited if equipment is not returned within the agreed period."}),(0,l.jsx)("li",{children:" Any damage to equipment will be deducted from the deposit amount."}),(0,l.jsx)("li",{children:" Refund processing may take 7-14 business days after equipment inspection."})]})]}),(0,l.jsx)("div",{className:"mt-8 pt-4 border-t border-gray-300 text-center",children:(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"Power Metal & Steel | www.powermetalsteel.com | Customer Service: +60 12-345 6789"})})]})}),(0,l.jsx)("style",{children:`
        @media print {
          body * {
            visibility: hidden;
          }
          ${c.current?"#print-area, #print-area *":""} {
            visibility: visible;
          }
          .print\\:hidden {
            display: none !important;
          }
          @page {
            margin: 1cm;
            size: A4;
          }
        }
      `})]})}let Jv=[{id:"7",depositId:"DEP-2024-007",invoiceNo:"INV-2024-051",customerName:"Sunrise Holdings",customerId:"CUST-007",agreementDocument:{id:"doc-7",fileName:"rental_agreement_sunrise.pdf",fileUrl:"#",fileSize:485632,fileType:"application/pdf",uploadedAt:"2024-12-05T08:20:00Z"},depositAmount:10800,status:"Pending Payment",dueDate:"2025-12-25",lastUpdated:"2024-12-09T08:15:00Z",createdAt:"2024-12-05T08:20:00Z"},{id:"3",depositId:"DEP-2024-003",invoiceNo:"INV-2024-047",customerName:"Metro Builders",customerId:"CUST-003",agreementDocument:{id:"doc-3",fileName:"rental_agreement_metro.pdf",fileUrl:"#",fileSize:498688,fileType:"application/pdf",uploadedAt:"2024-11-08T14:00:00Z"},depositAmount:18500,status:"Pending Payment",dueDate:"2025-12-25",lastUpdated:"2024-12-09T10:30:00Z",createdAt:"2024-11-08T14:00:00Z"},{id:"1",depositId:"DEP-2024-001",invoiceNo:"INV-2024-045",customerName:"Acme Construction Ltd.",customerId:"CUST-001",agreementDocument:{id:"doc-1",fileName:"rental_agreement_acme.pdf",fileUrl:"#",fileSize:524288,fileType:"application/pdf",uploadedAt:"2024-11-01T09:00:00Z"},depositAmount:15e3,status:"Paid",dueDate:"2024-11-15",lastUpdated:"2024-11-10T14:30:00Z",createdAt:"2024-11-01T09:00:00Z",paymentProof:{id:"proof-1",fileName:"payment_receipt_acme.jpg",fileUrl:"#",fileSize:245600,fileType:"image/jpeg",uploadedAt:"2024-11-08T10:15:00Z"},paymentSubmittedAt:"2024-11-08T10:15:00Z",approvedBy:"Jane Doe (Finance Manager)",approvedAt:"2024-11-10T14:30:00Z",referenceId:"TXN-2024-ACM-15000",rentalItems:[{id:"dep-item-1",itemName:"Standard Frame 1.8m x 1.2m",quantity:50,unitPrice:15,totalPrice:750},{id:"dep-item-2",itemName:"Cross Brace 1.8m",quantity:100,unitPrice:8,totalPrice:800},{id:"dep-item-3",itemName:"Base Jack (Adjustable)",quantity:60,unitPrice:12,totalPrice:720}],depositReceipt:{id:"rcpt-1",receiptNumber:"RCP-DEP-2024-001",receiptDate:"2024-11-10T14:30:00Z",generatedAt:"2024-11-10T14:30:00Z"}},{id:"2",depositId:"DEP-2024-002",invoiceNo:"INV-2024-046",customerName:"BuildRight Inc.",customerId:"CUST-002",agreementDocument:{id:"doc-2",fileName:"rental_agreement_buildright.pdf",fileUrl:"#",fileSize:612352,fileType:"application/pdf",uploadedAt:"2024-11-05T11:20:00Z"},depositAmount:22e3,status:"Pending Approval",dueDate:"2024-11-20",lastUpdated:"2024-11-12T09:45:00Z",createdAt:"2024-11-05T11:20:00Z",paymentProof:{id:"proof-2",fileName:"bank_transfer_proof.pdf",fileUrl:"#",fileSize:189440,fileType:"application/pdf",uploadedAt:"2024-11-12T09:45:00Z"},paymentSubmittedAt:"2024-11-12T09:45:00Z"},{id:"4",depositId:"DEP-2024-004",invoiceNo:"INV-2024-048",customerName:"Premium Projects",customerId:"CUST-004",agreementDocument:{id:"doc-4",fileName:"rental_agreement_premium.pdf",fileUrl:"#",fileSize:551936,fileType:"application/pdf",uploadedAt:"2024-11-10T16:30:00Z"},depositAmount:12750,status:"Rejected",dueDate:"2024-11-18",lastUpdated:"2024-11-15T11:20:00Z",createdAt:"2024-11-10T16:30:00Z",paymentProof:{id:"proof-4",fileName:"payment_screenshot.jpg",fileUrl:"#",fileSize:152600,fileType:"image/jpeg",uploadedAt:"2024-11-14T08:30:00Z"},paymentSubmittedAt:"2024-11-14T08:30:00Z",rejectedBy:"Robert Lee (Admin)",rejectedAt:"2024-11-15T11:20:00Z",rejectionReason:"The payment proof image is unclear and the transaction details are not visible. Please upload a clearer image showing the full transaction details including date, amount, and reference number."},{id:"5",depositId:"DEP-2024-005",invoiceNo:"INV-2024-049",customerName:"Steel Masters Co.",customerId:"CUST-005",agreementDocument:{id:"doc-5",fileName:"rental_agreement_steelmasters.pdf",fileUrl:"#",fileSize:478208,fileType:"application/pdf",uploadedAt:"2024-11-02T10:00:00Z"},depositAmount:31200,status:"Pending Payment",dueDate:"2024-11-27",lastUpdated:"2024-11-02T10:00:00Z",createdAt:"2024-11-02T10:00:00Z"},{id:"6",depositId:"DEP-2024-006",invoiceNo:"INV-2024-050",customerName:"Urban Construction",customerId:"CUST-006",agreementDocument:{id:"doc-6",fileName:"rental_agreement_urban.pdf",fileUrl:"#",fileSize:522240,fileType:"application/pdf",uploadedAt:"2024-10-28T13:15:00Z"},depositAmount:9500,status:"Pending Payment",dueDate:"2024-11-10",lastUpdated:"2024-10-28T13:15:00Z",createdAt:"2024-10-28T13:15:00Z"}];function Jw({userRole:a="Admin"}){let[b,c]=(0,m.useState)("list"),[d,e]=(0,m.useState)(Jv),[f,g]=(0,m.useState)(null),[h,i]=(0,m.useState)(!1),[j,k]=(0,m.useState)(null),[n,o]=(0,m.useState)(!1),[p,q]=(0,m.useState)(null);(0,m.useEffect)(()=>{let a=localStorage.getItem("deposits");if(a)try{let b=JSON.parse(a);b&&b.length>0?e(b):e(Jv)}catch(a){console.error("Failed to load deposits from storage"),e(Jv)}else e(Jv)},[]),(0,m.useEffect)(()=>{localStorage.setItem("deposits",JSON.stringify(d))},[d]),(0,m.useEffect)(()=>{let a=()=>{let a=new Date;a.setHours(0,0,0,0);let b=d.map(b=>{if("Pending Payment"===b.status&&!b.paymentProof){let c=new Date(b.dueDate);if(c.setHours(0,0,0,0),c<a)return{...b,status:"Overdue",isOverdue:!0,lastUpdated:new Date().toISOString()}}return b});b.some((a,b)=>a.status!==d[b].status)&&e(b)};a();let b=setInterval(a,6e4);return()=>clearInterval(b)},[d]);let r=f?d.find(a=>a.id===f):null,s=()=>{c("list"),g(null)},t=(a,b)=>{let f=new Date().toISOString(),g={id:`proof-${Date.now()}`,fileName:b.name,fileUrl:URL.createObjectURL(b),fileSize:b.size,fileType:b.type,uploadedAt:f};e(d.map(b=>b.id===a?{...b,status:"Pending Approval",paymentProof:g,paymentSubmittedAt:f,lastUpdated:f,rejectedBy:void 0,rejectedAt:void 0,rejectionReason:void 0}:b));let h=d.find(b=>b.id===a);h?.status==="Rejected"?gG.success("Payment proof re-submitted for approval"):gG.success("Payment proof submitted successfully"),c("list")},u=a=>{g(a),c("receipt")};return(0,l.jsxs)("div",{className:"space-y-6",children:["list"===b&&(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("h1",{children:"Manage Deposits"}),(0,l.jsx)("p",{className:"text-[#374151]",children:"Track and manage deposit payments, rental agreements, and payment approvals"})]}),(0,l.jsxs)(a2,{onClick:()=>{localStorage.removeItem("deposits"),e(Jv),gG.success("Data reset to sample deposits")},variant:"outline",className:"border-[#D1D5DB] text-[#374151] hover:bg-[#F3F4F6]",children:[(0,l.jsx)(y,{className:"mr-2 h-4 w-4"}),"Reset Sample Data"]})]}),"list"===b&&(0,l.jsx)(Jp,{deposits:d,onView:a=>{g(a),c("details")},onUploadProof:t,userRole:a}),"details"===b&&r&&(0,l.jsx)(Jt,{deposit:r,onBack:s,onSubmitPayment:t,onApprove:(a,b)=>{let f=new Date().toISOString(),g=`RCP-${d.find(b=>b.id===a)?.depositId||"DEP-XXXX"}`,h={id:`rcpt-${Date.now()}`,receiptNumber:g,receiptDate:f,generatedAt:f};e(d.map(c=>c.id===a?{...c,status:"Paid",approvedBy:"Current User (Admin)",approvedAt:f,lastUpdated:f,referenceId:b,depositReceipt:h}:c)),gG.success("Payment approved successfully"),q(a),o(!0),c("list")},onReject:(a,b)=>{let f=new Date().toISOString();e(d.map(c=>c.id===a?{...c,status:"Rejected",rejectedBy:"Current User (Admin)",rejectedAt:f,rejectionReason:b,lastUpdated:f}:c)),gG.error("Payment rejected"),c("list")},onGenerateNewInvoice:a=>{k(a),i(!0)},onPrintReceipt:u,userRole:a}),"receipt"===b&&r&&(0,l.jsx)(Ju,{deposit:r,onBack:s}),(0,l.jsx)(gj,{open:h,onOpenChange:i,children:(0,l.jsxs)(gm,{children:[(0,l.jsxs)(gn,{children:[(0,l.jsx)(gp,{children:"Generate New Invoice"}),(0,l.jsx)(gq,{children:'This will create a new invoice for the overdue deposit. The current deposit record will remain as "Overdue" for historical tracking, and a new deposit record will be created for the customer.'})]}),(0,l.jsxs)(go,{children:[(0,l.jsx)(gs,{children:"Cancel"}),(0,l.jsx)(gr,{onClick:()=>{if(!j||!d.find(a=>a.id===j))return;let a=`INV-2024-${String(Date.now()).slice(-3)}`;e(d.map(b=>b.id===j?{...b,linkedToNewInvoice:a,lastUpdated:new Date().toISOString()}:b)),gG.success(`New invoice ${a} generated successfully`),i(!1),k(null),c("list")},className:"bg-[#F15929] hover:bg-[#D14620] text-white",children:"Generate Invoice"})]})]})}),(0,l.jsx)(gj,{open:n,onOpenChange:o,children:(0,l.jsxs)(gm,{children:[(0,l.jsxs)(gn,{children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,l.jsx)("div",{className:"size-12 rounded-full bg-green-100 flex items-center justify-center",children:(0,l.jsx)(hE,{className:"size-6 text-green-600"})}),(0,l.jsx)("div",{children:(0,l.jsx)(gp,{children:"Payment Approved"})})]}),(0,l.jsxs)(gq,{className:"space-y-2",children:[(0,l.jsx)("p",{children:"A deposit receipt has been automatically generated and attached to this record."}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"You can now view and print the deposit receipt."})]})]}),(0,l.jsxs)(go,{children:[(0,l.jsxs)(gr,{onClick:()=>{o(!1),p&&u(p)},className:"bg-[#F15929] hover:bg-[#D14620] text-white",children:[(0,l.jsx)(v,{className:"size-4 mr-2"}),"View Receipt"]}),(0,l.jsx)(gr,{onClick:()=>o(!1),className:"bg-gray-500 hover:bg-gray-600 text-white",children:"Close"})]})]})})]})}let Jx=s("file-down",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);function Jy(...a){return a_(_(a))}function Jz({records:a}){return(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-xl",children:"Deposit Records"}),(0,l.jsx)("div",{className:"border rounded-lg",children:(0,l.jsxs)(ju,{children:[(0,l.jsx)(jv,{children:(0,l.jsxs)(jx,{children:[(0,l.jsx)(jy,{children:"Invoice No"}),(0,l.jsx)(jy,{children:"Customer"}),(0,l.jsx)(jy,{children:"Deposit Amount"}),(0,l.jsx)(jy,{children:"Status"}),(0,l.jsx)(jy,{children:"Proof Uploaded"}),(0,l.jsx)(jy,{children:"Date"})]})}),(0,l.jsx)(jw,{children:a.map(a=>(0,l.jsxs)(jx,{children:[(0,l.jsx)(jz,{children:a.invoiceNo}),(0,l.jsx)(jz,{children:a.customer}),(0,l.jsxs)(jz,{children:["RM ",a.depositAmount.toLocaleString()]}),(0,l.jsx)(jz,{children:(a=>{switch(a){case"Paid":return(0,l.jsx)(jk,{className:"bg-green-600 hover:bg-green-700",children:"Paid"});case"Pending Approval":return(0,l.jsx)(jk,{className:"bg-blue-600 hover:bg-blue-700",children:"Pending Approval"});case"Overdue":return(0,l.jsx)(jk,{className:"bg-red-600 hover:bg-red-700",children:"Overdue"})}})(a.status)}),(0,l.jsx)(jz,{children:a.proofUploaded?(0,l.jsx)(hE,{className:"h-5 w-5 text-green-600"}):(0,l.jsx)(jb,{className:"h-5 w-5 text-red-600"})}),(0,l.jsx)(jz,{children:a.date})]},a.invoiceNo))})]})})]})}function JA({records:a}){return(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-xl",children:"Monthly Billing"}),(0,l.jsx)("div",{className:"border rounded-lg",children:(0,l.jsxs)(ju,{children:[(0,l.jsx)(jv,{children:(0,l.jsxs)(jx,{children:[(0,l.jsx)(jy,{children:"Invoice No"}),(0,l.jsx)(jy,{children:"Project"}),(0,l.jsx)(jy,{children:"Billing Month"}),(0,l.jsx)(jy,{children:"Amount"}),(0,l.jsx)(jy,{children:"Status"}),(0,l.jsx)(jy,{children:"Items Returned?"}),(0,l.jsx)(jy,{children:"Due Date"}),(0,l.jsx)(jy,{children:"Payment Proof"})]})}),(0,l.jsx)(jw,{children:a.map(a=>(0,l.jsxs)(jx,{children:[(0,l.jsx)(jz,{children:a.invoiceNo}),(0,l.jsx)(jz,{children:a.project}),(0,l.jsx)(jz,{children:a.billingMonth}),(0,l.jsxs)(jz,{children:["RM ",a.amount.toLocaleString()]}),(0,l.jsx)(jz,{children:(a=>{switch(a){case"Paid":return(0,l.jsx)(jk,{className:"bg-green-600 hover:bg-green-700",children:"Paid"});case"Pending Payment":return(0,l.jsx)(jk,{className:"bg-blue-600 hover:bg-blue-700",children:"Pending Payment"});case"Overdue":return(0,l.jsx)(jk,{className:"bg-red-600 hover:bg-red-700",children:"Overdue"})}})(a.status)}),(0,l.jsx)(jz,{children:a.itemsReturned?(0,l.jsx)(hE,{className:"h-5 w-5 text-green-600"}):(0,l.jsx)(jb,{className:"h-5 w-5 text-gray-400"})}),(0,l.jsx)(jz,{children:a.dueDate}),(0,l.jsx)(jz,{children:a.paymentProof?(0,l.jsx)(hE,{className:"h-5 w-5 text-green-600"}):(0,l.jsx)(jb,{className:"h-5 w-5 text-red-600"})})]},a.invoiceNo))})]})})]})}function JB({records:a}){return(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-xl",children:"Credit Notes"}),(0,l.jsx)("div",{className:"border rounded-lg",children:(0,l.jsxs)(ju,{children:[(0,l.jsx)(jv,{children:(0,l.jsxs)(jx,{children:[(0,l.jsx)(jy,{children:"CN No"}),(0,l.jsx)(jy,{children:"Invoice No"}),(0,l.jsx)(jy,{children:"Customer"}),(0,l.jsx)(jy,{children:"Item"}),(0,l.jsx)(jy,{children:"Quantity Adjusted"}),(0,l.jsx)(jy,{children:"Price Adjusted"}),(0,l.jsx)(jy,{children:"Reason"}),(0,l.jsx)(jy,{children:"Status"})]})}),(0,l.jsx)(jw,{children:a.map(a=>(0,l.jsxs)(jx,{children:[(0,l.jsx)(jz,{children:a.cnNo}),(0,l.jsx)(jz,{children:a.invoiceNo}),(0,l.jsx)(jz,{children:a.customer}),(0,l.jsx)(jz,{children:a.item}),(0,l.jsx)(jz,{children:a.quantityAdjusted}),(0,l.jsx)(jz,{children:a.priceAdjusted}),(0,l.jsx)(jz,{children:a.reason}),(0,l.jsx)(jz,{children:(a=>{switch(a){case"Paid":return(0,l.jsx)(jk,{className:"bg-green-600 hover:bg-green-700",children:"Paid"});case"Pending Approval":return(0,l.jsx)(jk,{className:"bg-blue-600 hover:bg-blue-700",children:"Pending Approval"});case"Rejected":return(0,l.jsx)(jk,{className:"bg-red-600 hover:bg-red-700",children:"Rejected"})}})(a.status)})]},a.cnNo))})]})})]})}let JC=[{invoiceNo:"DEP-1001",customer:"Alpha Construction",depositAmount:5e3,status:"Paid",proofUploaded:!0,date:"12-Jan-2025"},{invoiceNo:"DEP-1002",customer:"Beta Builders",depositAmount:3200,status:"Pending Approval",proofUploaded:!0,date:"14-Jan-2025"},{invoiceNo:"DEP-1003",customer:"Citra Engineering",depositAmount:4500,status:"Overdue",proofUploaded:!1,date:"10-Jan-2025"},{invoiceNo:"DEP-1004",customer:"Alpha Construction",depositAmount:7200,status:"Paid",proofUploaded:!0,date:"15-Jan-2025"},{invoiceNo:"DEP-1005",customer:"KL Tower Project",depositAmount:1e4,status:"Paid",proofUploaded:!0,date:"18-Jan-2025"}],JD=[{invoiceNo:"INV-2001",project:"KL Tower Project",billingMonth:"Month 1",amount:2400,status:"Paid",itemsReturned:!1,dueDate:"30-Jan-2025",paymentProof:!0},{invoiceNo:"INV-2002",project:"PJ Mall",billingMonth:"Month 1",amount:1800,status:"Pending Payment",itemsReturned:!1,dueDate:"31-Jan-2025",paymentProof:!1},{invoiceNo:"INV-3001",project:"KL Tower Project",billingMonth:"Month 2",amount:2400,status:"Paid",itemsReturned:!1,dueDate:"28-Feb-2025",paymentProof:!0},{invoiceNo:"INV-3002",project:"PJ Mall",billingMonth:"Month 2",amount:1800,status:"Overdue",itemsReturned:!1,dueDate:"28-Feb-2025",paymentProof:!1},{invoiceNo:"INV-4001",project:"Alpha Construction",billingMonth:"Month 1",amount:3200,status:"Paid",itemsReturned:!1,dueDate:"25-Jan-2025",paymentProof:!0}],JE=[{cnNo:"CN-001",invoiceNo:"INV-2001",customer:"KL Tower Project",item:"Steel Pipe",quantityAdjusted:"10  8",priceAdjusted:"RM 200  RM 160",reason:"Item damaged",status:"Pending Approval"},{cnNo:"CN-002",invoiceNo:"INV-2002",customer:"PJ Mall",item:"Scaffold Set",quantityAdjusted:"5  5",priceAdjusted:"RM 500  RM 450",reason:"Price correction",status:"Rejected"},{cnNo:"CN-003",invoiceNo:"INV-3001",customer:"KL Tower Project",item:"Frame Set",quantityAdjusted:"2  1",priceAdjusted:"RM 400  RM 200",reason:"Customer return",status:"Paid"},{cnNo:"CN-004",invoiceNo:"INV-4001",customer:"Alpha Construction",item:"Clamp",quantityAdjusted:"50  45",priceAdjusted:"RM 150  RM 135",reason:"Incorrect quantity delivered",status:"Paid"},{cnNo:"CN-005",invoiceNo:"INV-2002",customer:"PJ Mall",item:"Base Jack",quantityAdjusted:"20  18",priceAdjusted:"RM 300  RM 270",reason:"Damaged during transport",status:"Pending Approval"}];function JF({reportType:a,statusFilter:b,customerFilter:c,dateFrom:d,dateTo:e}){let f=a=>"all"===b||({paid:["Paid"],pending:["Pending Payment","Pending Approval"],overdue:["Overdue"],rejected:["Rejected"],"pending-approval":["Pending Approval"]})[b]?.includes(a),g=a=>"all"===c||({"alpha-construction":["Alpha Construction"],"beta-builders":["Beta Builders"],"citra-engineering":["Citra Engineering"],"kl-tower":["KL Tower Project"],"pj-mall":["PJ Mall"]})[c]?.includes(a),h=JC.filter(a=>f(a.status)&&g(a.customer)),i=JD.filter(a=>f(a.status)&&g(a.project)),j=JE.filter(a=>f(a.status)&&g(a.customer)),k=h.reduce((a,b)=>a+b.depositAmount,0),m=h.filter(a=>"Paid"===a.status).reduce((a,b)=>a+b.depositAmount,0),n=i.reduce((a,b)=>a+b.amount,0),o=i.filter(a=>"Paid"===a.status).reduce((a,b)=>a+b.amount,0);return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)(hw,{children:[(0,l.jsxs)(hx,{children:[(0,l.jsx)(hy,{style:{color:"#231F20"},children:"all"===a?"Consolidated Financial Report":"deposit"===a?"Deposit Report":"monthly-billing"===a?"Monthly Billing Report":"Credit Note Report"}),(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:["Generated on: ",k9(new Date,"PPP p"),d&&e&&(0,l.jsxs)("span",{className:"ml-4",children:["Period: ",k9(d,"PP")," - ",k9(e,"PP")]})]})]}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-sm",children:"Total Deposits"})}),(0,l.jsxs)(hA,{children:[(0,l.jsxs)("div",{className:"text-2xl",style:{color:"#F15929"},children:["RM ",k.toLocaleString()]}),(0,l.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:[h.length," record(s)"]})]})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-sm",children:"Deposits Paid"})}),(0,l.jsxs)(hA,{children:[(0,l.jsxs)("div",{className:"text-2xl text-green-600",children:["RM ",m.toLocaleString()]}),(0,l.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:[h.filter(a=>"Paid"===a.status).length," record(s)"]})]})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-sm",children:"Total Monthly Billing"})}),(0,l.jsxs)(hA,{children:[(0,l.jsxs)("div",{className:"text-2xl",style:{color:"#F15929"},children:["RM ",n.toLocaleString()]}),(0,l.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:[i.length," invoice(s)"]})]})]}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{className:"pb-2",children:(0,l.jsx)(hy,{className:"text-sm",children:"Billing Paid"})}),(0,l.jsxs)(hA,{children:[(0,l.jsxs)("div",{className:"text-2xl text-green-600",children:["RM ",o.toLocaleString()]}),(0,l.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:[i.filter(a=>"Paid"===a.status).length," invoice(s)"]})]})]})]})})]}),("all"===a||"deposit"===a)&&h.length>0&&(0,l.jsx)(hw,{children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsx)(Jz,{records:h})})}),("all"===a||"monthly-billing"===a)&&i.length>0&&(0,l.jsx)(hw,{children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsx)(JA,{records:i})})}),("all"===a||"credit-note"===a)&&j.length>0&&(0,l.jsx)(hw,{children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsx)(JB,{records:j})})}),0===h.length&&0===i.length&&0===j.length&&(0,l.jsx)(hw,{children:(0,l.jsx)(hA,{className:"py-8 text-center text-gray-500",children:"No records found matching the selected filters."})})]})}function JG({reportType:a,statusFilter:b,customerFilter:c,dateFrom:d,dateTo:e,onClose:f}){let g=a=>"all"===b||({paid:["Paid"],pending:["Pending Payment","Pending Approval"],overdue:["Overdue"],rejected:["Rejected"],"pending-approval":["Pending Approval"]})[b]?.includes(a),h=a=>"all"===c||({"alpha-construction":["Alpha Construction"],"beta-builders":["Beta Builders"],"citra-engineering":["Citra Engineering"],"kl-tower":["KL Tower Project"],"pj-mall":["PJ Mall"]})[c]?.includes(a),i=JC.filter(a=>g(a.status)&&h(a.customer)),j=JD.filter(a=>g(a.status)&&h(a.project)),k=JE.filter(a=>g(a.status)&&h(a.customer));return(0,l.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,l.jsx)("div",{className:"print:hidden fixed top-4 right-4 z-50",children:(0,l.jsxs)(a2,{variant:"outline",onClick:f,children:[(0,l.jsx)(D,{className:"h-4 w-4 mr-2"}),"Close Print Preview"]})}),(0,l.jsxs)("div",{className:"max-w-[210mm] mx-auto p-8 print:p-0",children:[(0,l.jsx)("div",{className:"mb-8 pb-4 border-b-2",style:{borderColor:"#231F20"},children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl mb-1",style:{color:"#F15929"},children:"Power Metal & Steel"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"ERP & CRM System"})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("h2",{className:"text-xl",style:{color:"#231F20"},children:"all"===a?"Consolidated Report":"deposit"===a?"Deposit Report":"monthly-billing"===a?"Monthly Billing Report":"Credit Note Report"}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Generated: ",k9(new Date,"PPP p")]}),d&&e&&(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Period: ",k9(d,"PP")," - ",k9(e,"PP")]})]})]})}),("all"===a||"deposit"===a)&&i.length>0&&(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h3",{className:"text-lg mb-3",style:{color:"#231F20"},children:"Deposit Records"}),(0,l.jsxs)("table",{className:"w-full border-collapse text-sm",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{style:{backgroundColor:"#F5F5F5"},children:[(0,l.jsx)("th",{className:"border px-2 py-2 text-left",children:"Invoice No"}),(0,l.jsx)("th",{className:"border px-2 py-2 text-left",children:"Customer"}),(0,l.jsx)("th",{className:"border px-2 py-2 text-right",children:"Deposit Amount"}),(0,l.jsx)("th",{className:"border px-2 py-2 text-left",children:"Status"}),(0,l.jsx)("th",{className:"border px-2 py-2 text-center",children:"Proof"}),(0,l.jsx)("th",{className:"border px-2 py-2 text-left",children:"Date"})]})}),(0,l.jsxs)("tbody",{children:[i.map(a=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"border px-2 py-2",children:a.invoiceNo}),(0,l.jsx)("td",{className:"border px-2 py-2",children:a.customer}),(0,l.jsxs)("td",{className:"border px-2 py-2 text-right",children:["RM ",a.depositAmount.toLocaleString()]}),(0,l.jsx)("td",{className:"border px-2 py-2",children:(0,l.jsx)("span",{className:`px-2 py-1 rounded text-xs ${"Paid"===a.status?"bg-green-100 text-green-800":"Pending Approval"===a.status?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:a.status})}),(0,l.jsx)("td",{className:"border px-2 py-2 text-center",children:a.proofUploaded?"Yes":"No"}),(0,l.jsx)("td",{className:"border px-2 py-2",children:a.date})]},a.invoiceNo)),(0,l.jsxs)("tr",{style:{backgroundColor:"#F5F5F5"},children:[(0,l.jsx)("td",{colSpan:2,className:"border px-2 py-2",children:"Total"}),(0,l.jsxs)("td",{className:"border px-2 py-2 text-right",children:["RM ",i.reduce((a,b)=>a+b.depositAmount,0).toLocaleString()]}),(0,l.jsx)("td",{colSpan:3,className:"border px-2 py-2"})]})]})]})]}),("all"===a||"monthly-billing"===a)&&j.length>0&&(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h3",{className:"text-lg mb-3",style:{color:"#231F20"},children:"Monthly Billing"}),(0,l.jsxs)("table",{className:"w-full border-collapse text-sm",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{style:{backgroundColor:"#F5F5F5"},children:[(0,l.jsx)("th",{className:"border px-2 py-2 text-left",children:"Invoice No"}),(0,l.jsx)("th",{className:"border px-2 py-2 text-left",children:"Project"}),(0,l.jsx)("th",{className:"border px-2 py-2 text-left",children:"Month"}),(0,l.jsx)("th",{className:"border px-2 py-2 text-right",children:"Amount"}),(0,l.jsx)("th",{className:"border px-2 py-2 text-left",children:"Status"}),(0,l.jsx)("th",{className:"border px-2 py-2 text-center",children:"Returned"}),(0,l.jsx)("th",{className:"border px-2 py-2 text-left",children:"Due Date"}),(0,l.jsx)("th",{className:"border px-2 py-2 text-center",children:"Proof"})]})}),(0,l.jsxs)("tbody",{children:[j.map(a=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"border px-2 py-2",children:a.invoiceNo}),(0,l.jsx)("td",{className:"border px-2 py-2",children:a.project}),(0,l.jsx)("td",{className:"border px-2 py-2",children:a.billingMonth}),(0,l.jsxs)("td",{className:"border px-2 py-2 text-right",children:["RM ",a.amount.toLocaleString()]}),(0,l.jsx)("td",{className:"border px-2 py-2",children:(0,l.jsx)("span",{className:`px-2 py-1 rounded text-xs ${"Paid"===a.status?"bg-green-100 text-green-800":"Pending Payment"===a.status?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:a.status})}),(0,l.jsx)("td",{className:"border px-2 py-2 text-center",children:a.itemsReturned?"Yes":"No"}),(0,l.jsx)("td",{className:"border px-2 py-2",children:a.dueDate}),(0,l.jsx)("td",{className:"border px-2 py-2 text-center",children:a.paymentProof?"Yes":"No"})]},a.invoiceNo)),(0,l.jsxs)("tr",{style:{backgroundColor:"#F5F5F5"},children:[(0,l.jsx)("td",{colSpan:3,className:"border px-2 py-2",children:"Total"}),(0,l.jsxs)("td",{className:"border px-2 py-2 text-right",children:["RM ",j.reduce((a,b)=>a+b.amount,0).toLocaleString()]}),(0,l.jsx)("td",{colSpan:4,className:"border px-2 py-2"})]})]})]})]}),("all"===a||"credit-note"===a)&&k.length>0&&(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h3",{className:"text-lg mb-3",style:{color:"#231F20"},children:"Credit Notes"}),(0,l.jsxs)("table",{className:"w-full border-collapse text-sm",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{style:{backgroundColor:"#F5F5F5"},children:[(0,l.jsx)("th",{className:"border px-2 py-2 text-left",children:"CN No"}),(0,l.jsx)("th",{className:"border px-2 py-2 text-left",children:"Invoice No"}),(0,l.jsx)("th",{className:"border px-2 py-2 text-left",children:"Customer"}),(0,l.jsx)("th",{className:"border px-2 py-2 text-left",children:"Item"}),(0,l.jsx)("th",{className:"border px-2 py-2 text-left",children:"Qty Adjusted"}),(0,l.jsx)("th",{className:"border px-2 py-2 text-left",children:"Price Adjusted"}),(0,l.jsx)("th",{className:"border px-2 py-2 text-left",children:"Reason"}),(0,l.jsx)("th",{className:"border px-2 py-2 text-left",children:"Status"})]})}),(0,l.jsx)("tbody",{children:k.map(a=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"border px-2 py-2",children:a.cnNo}),(0,l.jsx)("td",{className:"border px-2 py-2",children:a.invoiceNo}),(0,l.jsx)("td",{className:"border px-2 py-2",children:a.customer}),(0,l.jsx)("td",{className:"border px-2 py-2",children:a.item}),(0,l.jsx)("td",{className:"border px-2 py-2",children:a.quantityAdjusted}),(0,l.jsx)("td",{className:"border px-2 py-2",children:a.priceAdjusted}),(0,l.jsx)("td",{className:"border px-2 py-2",children:a.reason}),(0,l.jsx)("td",{className:"border px-2 py-2",children:(0,l.jsx)("span",{className:`px-2 py-1 rounded text-xs ${"Paid"===a.status?"bg-green-100 text-green-800":"Pending Approval"===a.status?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:a.status})})]},a.cnNo))})]})]}),(0,l.jsxs)("div",{className:"mt-8 pt-4 border-t text-sm text-gray-600 flex justify-between",children:[(0,l.jsx)("div",{children:"Power Metal & Steel - Financial Report"}),(0,l.jsx)("div",{children:"Page 1 of 1"})]}),(0,l.jsxs)("div",{className:"mt-2 text-xs text-gray-500 text-center",children:["Printed on: ",k9(new Date,"PPP p")]})]}),(0,l.jsx)("style",{children:`
        @media print {
          @page {
            size: A4;
            margin: 20mm;
          }
          
          body {
            print-color-adjust: exact;
            -webkit-print-color-adjust: exact;
          }
          
          .print\\:hidden {
            display: none !important;
          }
          
          .print\\:p-0 {
            padding: 0 !important;
          }
        }
      `})]})}function JH(){let[a,b]=(0,m.useState)("all"),[c,d]=(0,m.useState)("all"),[e,f]=(0,m.useState)("all"),[g,h]=(0,m.useState)(),[i,j]=(0,m.useState)(),[k,n]=(0,m.useState)(!1),[o,p]=(0,m.useState)(!1);return o?(0,l.jsx)(JG,{reportType:a,statusFilter:c,customerFilter:e,dateFrom:g,dateTo:i,onClose:()=>p(!1)}):k?(0,l.jsxs)("div",{className:"p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)(a2,{variant:"outline",onClick:()=>n(!1),children:" Back to Dashboard"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)(a2,{variant:"outline",onClick:()=>{alert("Exporting to Excel... (This would trigger actual Excel export in production)")},children:[(0,l.jsx)(Jx,{className:"h-4 w-4 mr-2"}),"Export Excel"]}),(0,l.jsxs)(a2,{variant:"outline",onClick:()=>{window.print()},children:[(0,l.jsx)(Jx,{className:"h-4 w-4 mr-2"}),"Export PDF"]}),(0,l.jsxs)(a2,{onClick:()=>{p(!0),n(!1),setTimeout(()=>{window.print()},500)},children:[(0,l.jsx)(oY,{className:"h-4 w-4 mr-2"}),"Print Preview"]})]})]}),(0,l.jsx)(JF,{reportType:a,statusFilter:c,customerFilter:e,dateFrom:g,dateTo:i})]}):(0,l.jsxs)("div",{className:"p-6 space-y-6",children:[(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsx)("h1",{className:"text-3xl",style:{color:"#231F20"},children:"Reports Center"})}),(0,l.jsxs)(hw,{children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{children:"Generate Financial Report"})}),(0,l.jsxs)(hA,{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"font-medium",children:"Select Report Type"}),(0,l.jsxs)(iE,{value:a,onValueChange:a=>b(a),children:[(0,l.jsx)(iG,{children:(0,l.jsx)(iF,{placeholder:"Select report type"})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"all",children:"All Reports (Consolidated)"}),(0,l.jsx)(iI,{value:"deposit",children:"Deposit Report"}),(0,l.jsx)(iI,{value:"monthly-billing",children:"Monthly Billing Report"}),(0,l.jsx)(iI,{value:"credit-note",children:"Credit Note Report"})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"font-medium",children:"From Date"}),(0,l.jsxs)(mF,{children:[(0,l.jsx)(mG,{asChild:!0,children:(0,l.jsxs)(a2,{variant:"outline",className:Jy("w-full justify-start text-left",!g&&"text-muted-foreground"),children:[(0,l.jsx)(w,{className:"mr-2 h-4 w-4"}),g?k9(g,"PPP"):(0,l.jsx)("span",{children:"Pick a date"})]})}),(0,l.jsx)(mH,{className:"w-auto p-0",children:(0,l.jsx)(mi,{mode:"single",selected:g,onSelect:h,initialFocus:!0})})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"font-medium",children:"To Date"}),(0,l.jsxs)(mF,{children:[(0,l.jsx)(mG,{asChild:!0,children:(0,l.jsxs)(a2,{variant:"outline",className:Jy("w-full justify-start text-left",!i&&"text-muted-foreground"),children:[(0,l.jsx)(w,{className:"mr-2 h-4 w-4"}),i?k9(i,"PPP"):(0,l.jsx)("span",{children:"Pick a date"})]})}),(0,l.jsx)(mH,{className:"w-auto p-0",children:(0,l.jsx)(mi,{mode:"single",selected:i,onSelect:j,initialFocus:!0})})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"font-medium",children:"Customer / Project"}),(0,l.jsxs)(iE,{value:e,onValueChange:f,children:[(0,l.jsx)(iG,{children:(0,l.jsx)(iF,{placeholder:"Select customer"})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"all",children:"All Customers"}),(0,l.jsx)(iI,{value:"alpha-construction",children:"Alpha Construction"}),(0,l.jsx)(iI,{value:"beta-builders",children:"Beta Builders"}),(0,l.jsx)(iI,{value:"citra-engineering",children:"Citra Engineering"}),(0,l.jsx)(iI,{value:"kl-tower",children:"KL Tower Project"}),(0,l.jsx)(iI,{value:"pj-mall",children:"PJ Mall"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"font-medium",children:"Status"}),(0,l.jsxs)(iE,{value:c,onValueChange:a=>d(a),children:[(0,l.jsx)(iG,{children:(0,l.jsx)(iF,{placeholder:"Select status"})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"all",children:"All Statuses"}),(0,l.jsx)(iI,{value:"paid",children:"Paid"}),(0,l.jsx)(iI,{value:"pending",children:"Pending Payment"}),(0,l.jsx)(iI,{value:"overdue",children:"Overdue"}),(0,l.jsx)(iI,{value:"pending-approval",children:"Pending Approval"}),(0,l.jsx)(iI,{value:"rejected",children:"Rejected"})]})]})]})]}),(0,l.jsx)("div",{className:"flex justify-end pt-4",children:(0,l.jsx)(a2,{onClick:()=>{n(!0),p(!1)},style:{backgroundColor:"#F15929"},className:"hover:opacity-90",children:"Generate Report"})})]})]})]})}function JI({currentUserName:a="John Smith",currentUserRole:b="Admin",currentUserEmail:c="john.smith@example.com",currentUserPhone:d="+60123456789"}){let e=a.split(" "),f=e[0]||"",g=e.slice(1).join(" ")||"",[h,i]=(0,m.useState)(c),[j,k]=(0,m.useState)(""),[n,o]=(0,m.useState)(!1),[p,q]=(0,m.useState)(""),[r,s]=(0,m.useState)(""),[t,u]=(0,m.useState)(d),[v,w]=(0,m.useState)(""),[x,y]=(0,m.useState)(!1),[z,A]=(0,m.useState)(""),[B,C]=(0,m.useState)(""),[D,E]=(0,m.useState)(""),[F,G]=(0,m.useState)(""),[H,I]=(0,m.useState)(""),[J,K]=(0,m.useState)(!1),[L,M]=(0,m.useState)(!1),[N,O]=(0,m.useState)(!1),[P,Q]=(0,m.useState)(""),[R,S]=(0,m.useState)(!1),T=a=>a.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)?(k(""),!0):(k("Please enter a valid email address."),!1):(k("Email cannot be empty."),!1),U=a=>a.trim()?/^[+]?[\d\s\-()]+$/.test(a)?(w(""),!0):(w("Please enter a valid phone number."),!1):(w("Phone number cannot be empty."),!1),V=a=>a?a.length<8?{valid:!1,message:"Password must be at least 8 characters."}:/[a-zA-Z]/.test(a)?/\d/.test(a)?{valid:!0,message:""}:{valid:!1,message:"Password must contain at least 1 digit."}:{valid:!1,message:"Password must contain at least 1 letter."}:{valid:!0,message:""},W=()=>!F||F===H||(Q("Passwords do not match."),!1),X=F?V(F).valid?F.length>=12&&/[A-Z]/.test(F)&&/[a-z]/.test(F)&&/\d/.test(F)&&/[^A-Za-z0-9]/.test(F)?{strength:"Strong",color:"text-[#059669]"}:{strength:"Medium",color:"text-[#F59E0B]"}:{strength:"Weak",color:"text-[#DC2626]"}:{strength:"",color:""};return(0,l.jsxs)("div",{className:"space-y-6 max-w-4xl",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("h1",{children:"My Profile"}),(0,l.jsx)("p",{className:"text-[#374151]",children:"Update your contact information and password settings."})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-lg bg-[#F15929] flex items-center justify-center",children:(0,l.jsx)(oa,{className:"h-4 w-4 text-white"})}),(0,l.jsx)(hy,{className:"text-[18px]",children:"Basic Information"})]})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"First Name"}),(0,l.jsx)("div",{className:"h-10 px-3 rounded-lg bg-[#F3F4F6] border border-[#E5E7EB] flex items-center text-[#6B7280]",children:f})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Last Name"}),(0,l.jsx)("div",{className:"h-10 px-3 rounded-lg bg-[#F3F4F6] border border-[#E5E7EB] flex items-center text-[#6B7280]",children:g})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{children:"Role"}),(0,l.jsx)("div",{className:"h-10 px-3 rounded-lg bg-[#F3F4F6] border border-[#E5E7EB] flex items-center text-[#6B7280]",children:b}),(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Your role is managed by system administrators."})]})]})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-lg bg-[#F15929] flex items-center justify-center",children:(0,l.jsx)(hh,{className:"h-4 w-4 text-white"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)(hy,{className:"text-[18px]",children:"Email Address"}),(0,l.jsx)(hz,{className:"text-[14px] text-[#6B7280] mt-1",children:"Update your email address (verification required)"})]})]})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"email",children:"Email Address"}),(0,l.jsx)(a3,{id:"email",type:"email",value:h,onChange:a=>{i(a.target.value),j&&k("")},onBlur:()=>T(h),className:`h-10 ${j?"border-[#DC2626] focus-visible:ring-[#DC2626]":""}`,placeholder:"Enter your email address"}),j&&(0,l.jsx)("p",{className:"text-[#DC2626] text-[14px]",children:j})]}),(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsx)(a2,{onClick:()=>{T(h)&&(o(!0),q(""),s(""),gG.info("Verification code sent to your new email address.",{duration:3e3}))},className:"bg-[#F15929] hover:bg-[#D14821] h-10 px-6 rounded-lg",children:"Update Email"})})]})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-lg bg-[#F15929] flex items-center justify-center",children:(0,l.jsx)(iM,{className:"h-4 w-4 text-white"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)(hy,{className:"text-[18px]",children:"Phone Number"}),(0,l.jsx)(hz,{className:"text-[14px] text-[#6B7280] mt-1",children:"Update your phone number (verification required)"})]})]})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"phone",children:"Phone Number"}),(0,l.jsx)(a3,{id:"phone",type:"tel",value:t,onChange:a=>{u(a.target.value),v&&w("")},onBlur:()=>U(t),className:`h-10 ${v?"border-[#DC2626] focus-visible:ring-[#DC2626]":""}`,placeholder:"Enter your phone number"}),v&&(0,l.jsx)("p",{className:"text-[#DC2626] text-[14px]",children:v})]}),(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsx)(a2,{onClick:()=>{U(t)&&(y(!0),A(""),C(""),gG.info("Verification code sent to your new phone number.",{duration:3e3}))},className:"bg-[#F15929] hover:bg-[#D14821] h-10 px-6 rounded-lg",children:"Update Phone"})})]})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-lg bg-[#F15929] flex items-center justify-center",children:(0,l.jsx)(hG,{className:"h-4 w-4 text-white"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)(hy,{className:"text-[18px]",children:"Account Security"}),(0,l.jsx)(hz,{className:"text-[14px] text-[#6B7280] mt-1",children:"Change your password to keep your account secure"})]})]})}),(0,l.jsxs)(hA,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"currentPassword",children:"Current Password"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(a3,{id:"currentPassword",type:J?"text":"password",value:D,onChange:a=>E(a.target.value),className:"h-10 pr-10",placeholder:"Enter current password"}),(0,l.jsx)("button",{type:"button",onClick:()=>K(!J),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280] hover:text-[#374151]",children:J?(0,l.jsx)(gO,{className:"h-4 w-4"}):(0,l.jsx)(gN,{className:"h-4 w-4"})})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"newPassword",children:"New Password"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(a3,{id:"newPassword",type:L?"text":"password",value:F,onChange:a=>{G(a.target.value),P&&Q("")},className:`h-10 pr-10 ${P?"border-[#DC2626] focus-visible:ring-[#DC2626]":""}`,placeholder:"Enter new password"}),(0,l.jsx)("button",{type:"button",onClick:()=>M(!L),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280] hover:text-[#374151]",children:L?(0,l.jsx)(gO,{className:"h-4 w-4"}):(0,l.jsx)(gN,{className:"h-4 w-4"})})]}),F&&X.strength&&(0,l.jsxs)("p",{className:`text-[14px] ${X.color}`,children:["Password strength: ",X.strength]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Password must meet the following requirements:"}),(0,l.jsxs)("div",{className:"space-y-1 pl-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 text-[12px]",children:[(0,l.jsx)(fm,{className:`h-3 w-3 ${F.length>=8?"text-[#059669]":"text-[#D1D5DB]"}`}),(0,l.jsx)("span",{className:F.length>=8?"text-[#059669]":"text-[#6B7280]",children:"At least 8 characters"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-[12px]",children:[(0,l.jsx)(fm,{className:`h-3 w-3 ${/[a-zA-Z]/.test(F)?"text-[#059669]":"text-[#D1D5DB]"}`}),(0,l.jsx)("span",{className:/[a-zA-Z]/.test(F)?"text-[#059669]":"text-[#6B7280]",children:"At least 1 letter"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-[12px]",children:[(0,l.jsx)(fm,{className:`h-3 w-3 ${/\d/.test(F)?"text-[#059669]":"text-[#D1D5DB]"}`}),(0,l.jsx)("span",{className:/\d/.test(F)?"text-[#059669]":"text-[#6B7280]",children:"At least 1 digit"})]})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(a3,{id:"confirmPassword",type:N?"text":"password",value:H,onChange:a=>{I(a.target.value),P&&Q("")},onBlur:W,className:`h-10 pr-10 ${P?"border-[#DC2626] focus-visible:ring-[#DC2626]":""}`,placeholder:"Re-enter new password"}),(0,l.jsx)("button",{type:"button",onClick:()=>O(!N),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280] hover:text-[#374151]",children:N?(0,l.jsx)(gO,{className:"h-4 w-4"}):(0,l.jsx)(gN,{className:"h-4 w-4"})})]}),P&&(0,l.jsx)("p",{className:"text-[#DC2626] text-[14px]",children:P})]}),(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsx)(a2,{onClick:()=>{if(Q(""),!D&&!F&&!H)return void Q("Please enter your passwords to make changes.");if(!D)return void Q("Current password is required to change password.");let a=V(F);a.valid?W()&&S(!0):Q(a.message)},className:"bg-[#F15929] hover:bg-[#D14821] h-10 px-6 rounded-lg",children:"Save Changes"})})]})]}),(0,l.jsx)(gj,{open:n,onOpenChange:o,children:(0,l.jsxs)(gm,{children:[(0,l.jsxs)(gn,{children:[(0,l.jsx)(gp,{children:"Verify Email Address"}),(0,l.jsxs)(gq,{children:["Please enter the 6-digit verification code sent to ",h]})]}),(0,l.jsx)("div",{className:"py-4",children:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"emailCode",children:"Verification Code"}),(0,l.jsx)(a3,{id:"emailCode",type:"text",value:p,onChange:a=>{q(a.target.value),r&&s("")},className:`h-10 ${r?"border-[#DC2626] focus-visible:ring-[#DC2626]":""}`,placeholder:"Enter 6-digit code",maxLength:6}),r&&(0,l.jsx)("p",{className:"text-[#DC2626] text-[14px]",children:r})]})}),(0,l.jsxs)(go,{children:[(0,l.jsx)(gs,{onClick:()=>{o(!1),q(""),s("")},children:"Cancel"}),(0,l.jsx)(gr,{onClick:()=>{p.trim()?"123456"===p?(o(!1),gG.success("Email updated successfully.",{duration:2500}),q(""),s("")):s("Invalid verification code. Please try again."):s("Please enter the verification code.")},className:"bg-[#F15929] hover:bg-[#D14821]",children:"Verify"})]})]})}),(0,l.jsx)(gj,{open:x,onOpenChange:y,children:(0,l.jsxs)(gm,{children:[(0,l.jsxs)(gn,{children:[(0,l.jsx)(gp,{children:"Verify Phone Number"}),(0,l.jsxs)(gq,{children:["Please enter the 6-digit verification code sent to ",t]})]}),(0,l.jsx)("div",{className:"py-4",children:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(gR,{htmlFor:"phoneCode",children:"Verification Code"}),(0,l.jsx)(a3,{id:"phoneCode",type:"text",value:z,onChange:a=>{A(a.target.value),B&&C("")},className:`h-10 ${B?"border-[#DC2626] focus-visible:ring-[#DC2626]":""}`,placeholder:"Enter 6-digit code",maxLength:6}),B&&(0,l.jsx)("p",{className:"text-[#DC2626] text-[14px]",children:B})]})}),(0,l.jsxs)(go,{children:[(0,l.jsx)(gs,{onClick:()=>{y(!1),A(""),C("")},children:"Cancel"}),(0,l.jsx)(gr,{onClick:()=>{z.trim()?"123456"===z?(y(!1),gG.success("Phone number updated successfully.",{duration:2500}),A(""),C("")):C("Invalid verification code. Please try again."):C("Please enter the verification code.")},className:"bg-[#F15929] hover:bg-[#D14821]",children:"Verify"})]})]})}),(0,l.jsx)(gj,{open:R,onOpenChange:S,children:(0,l.jsxs)(gm,{children:[(0,l.jsxs)(gn,{children:[(0,l.jsx)(gp,{children:"Confirm Password Update"}),(0,l.jsx)(gq,{children:"Are you sure you want to change your password?"})]}),(0,l.jsxs)(go,{children:[(0,l.jsx)(gs,{children:"Cancel"}),(0,l.jsx)(gr,{onClick:()=>{S(!1),setTimeout(()=>{gG.success("Password updated successfully.",{duration:2500}),E(""),G(""),I("")},300)},className:"bg-[#F15929] hover:bg-[#D14821]",children:"Confirm"})]})]})})]})}let JJ=[{id:"CR-001",projectId:"PRJ-2024-001",projectName:"Tower Construction Site A",customerName:"John Tan",companyName:"ABC Construction Sdn Bhd",requestDate:"",rentalStartDate:"2024-06-01",minimumRentalPeriod:6,actualRentalPeriod:6,returnStatus:"completed",shortageItems:0,status:"active",validationChecks:{rentalPeriodMet:!0,returnProcessComplete:!0,noShortageDetected:!0}},{id:"CR-002",projectId:"PRJ-2024-002",projectName:"High-Rise Building Development",customerName:"Sarah Lim",companyName:"XYZ Builders Sdn Bhd",requestDate:"2024-11-28",rentalStartDate:"2024-08-15",minimumRentalPeriod:6,actualRentalPeriod:3.5,returnStatus:"pending",shortageItems:5,status:"pending",validationChecks:{rentalPeriodMet:!1,returnProcessComplete:!1,noShortageDetected:!1}},{id:"CR-003",projectId:"PRJ-2024-003",projectName:"Residential Complex Phase 2",customerName:"Michael Wong",companyName:"Prime Development Ltd",requestDate:"2024-11-25",rentalStartDate:"2024-01-10",minimumRentalPeriod:6,actualRentalPeriod:10.7,returnStatus:"completed",shortageItems:0,status:"approved",approvedBy:"Admin User",approvedDate:"2024-11-26",validationChecks:{rentalPeriodMet:!0,returnProcessComplete:!0,noShortageDetected:!0}},{id:"CR-004",projectId:"PRJ-2024-004",projectName:"Commercial Plaza",customerName:"David Lee",companyName:"Mega Build Sdn Bhd",requestDate:"",rentalStartDate:"2024-05-20",minimumRentalPeriod:6,actualRentalPeriod:6.3,returnStatus:"completed",shortageItems:2,status:"active",validationChecks:{rentalPeriodMet:!0,returnProcessComplete:!0,noShortageDetected:!1}},{id:"CR-005",projectId:"PRJ-2024-005",projectName:"Bridge Maintenance Project",customerName:"Emily Ng",companyName:"Infrastructure Solutions Sdn Bhd",requestDate:"",rentalStartDate:"2024-07-01",minimumRentalPeriod:6,actualRentalPeriod:5,returnStatus:"in-progress",shortageItems:0,status:"active",validationChecks:{rentalPeriodMet:!1,returnProcessComplete:!1,noShortageDetected:!0}}];function JK(){let[a,b]=(0,m.useState)(JJ),[c,d]=(0,m.useState)(""),[e,f]=(0,m.useState)("all"),[g,h]=(0,m.useState)(null),[i,j]=(0,m.useState)(!1),[k,n]=(0,m.useState)(!1),o=a.filter(a=>{let b=a.projectId.toLowerCase().includes(c.toLowerCase())||a.projectName.toLowerCase().includes(c.toLowerCase())||a.customerName.toLowerCase().includes(c.toLowerCase())||a.companyName.toLowerCase().includes(c.toLowerCase()),d="all"===e||a.status===e;return b&&d}),p=a=>{switch(a){case"active":return(0,l.jsx)(jk,{className:"bg-[#6B7280] text-white",children:"Active"});case"pending":return(0,l.jsx)(jk,{className:"bg-[#F59E0B] text-white",children:"Pending Review"});case"approved":return(0,l.jsx)(jk,{className:"bg-[#10B981] text-white",children:"Approved"})}},q=a=>"pending"===a.status&&a.validationChecks.rentalPeriodMet&&a.validationChecks.returnProcessComplete&&a.validationChecks.noShortageDetected;return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-[#231F20]",children:"Project Closure Management"}),(0,l.jsx)("p",{className:"text-[#6B7280] mt-1",children:"Review and approve customer project closure requests"})]})}),(0,l.jsx)(hw,{children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,l.jsxs)("div",{className:"flex-1 relative",children:[(0,l.jsx)(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[#6B7280]"}),(0,l.jsx)(a3,{placeholder:"Search by project ID, name, customer, or company...",value:c,onChange:a=>d(a.target.value),className:"pl-10"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(n9,{className:"h-4 w-4 text-[#6B7280]"}),(0,l.jsxs)(iE,{value:e,onValueChange:f,children:[(0,l.jsx)(iG,{className:"w-[180px]",children:(0,l.jsx)(iF,{placeholder:"Filter by status"})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"all",children:"All Statuses"}),(0,l.jsx)(iI,{value:"active",children:"Active"}),(0,l.jsx)(iI,{value:"pending",children:"Pending Review"}),(0,l.jsx)(iI,{value:"approved",children:"Approved"})]})]})]})]})})}),(0,l.jsx)(hw,{children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsxs)(ju,{children:[(0,l.jsx)(jv,{children:(0,l.jsxs)(jx,{children:[(0,l.jsx)(jy,{children:"Customer"}),(0,l.jsx)(jy,{children:"Project Details"}),(0,l.jsx)(jy,{children:"Request Date"}),(0,l.jsx)(jy,{className:"text-center",children:"Validation Status"}),(0,l.jsx)(jy,{children:"Status"}),(0,l.jsx)(jy,{className:"text-right",children:"Actions"})]})}),(0,l.jsx)(jw,{children:0===o.length?(0,l.jsx)(jx,{children:(0,l.jsx)(jz,{colSpan:6,className:"text-center py-8 text-[#6B7280]",children:"No closure requests found"})}):o.map(c=>(0,l.jsxs)(jx,{children:[(0,l.jsx)(jz,{children:(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("div",{className:"text-[#231F20]",children:c.customerName}),(0,l.jsx)("div",{className:"text-[12px] text-[#6B7280]",children:c.companyName})]})}),(0,l.jsx)(jz,{children:(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("div",{className:"text-[#231F20]",children:c.projectName}),(0,l.jsxs)("div",{className:"text-[12px] text-[#6B7280]",children:["Rental: ",c.actualRentalPeriod," / ",c.minimumRentalPeriod," months"]})]})}),(0,l.jsx)(jz,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(g8,{checked:""!==c.requestDate,onCheckedChange:d=>((c,d)=>{if(d){let d=new Date().toISOString().split("T")[0];b(a.map(a=>a.id===c&&"active"===a.status?{...a,requestDate:d,status:"pending"}:a)),gG.success("Request date recorded",{description:"Status changed to Pending Review"})}})(c.id,d),disabled:"active"!==c.status}),c.requestDate&&(0,l.jsx)("span",{className:"text-[14px] text-[#6B7280]",children:c.requestDate})]})}),(0,l.jsx)(jz,{children:(0,l.jsx)(Jg,{children:(0,l.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,l.jsxs)(Jh,{children:[(0,l.jsx)(Ji,{children:c.validationChecks.rentalPeriodMet?(0,l.jsx)(hg,{className:"h-5 w-5 text-[#10B981]"}):(0,l.jsx)(jb,{className:"h-5 w-5 text-[#EF4444]"})}),(0,l.jsx)(Jj,{children:(0,l.jsx)("p",{children:"Minimum Rental Period"})})]}),(0,l.jsxs)(Jh,{children:[(0,l.jsx)(Ji,{children:c.validationChecks.returnProcessComplete?(0,l.jsx)(hg,{className:"h-5 w-5 text-[#10B981]"}):(0,l.jsx)(jb,{className:"h-5 w-5 text-[#EF4444]"})}),(0,l.jsx)(Jj,{children:(0,l.jsx)("p",{children:"Return Process Status"})})]}),(0,l.jsxs)(Jh,{children:[(0,l.jsx)(Ji,{children:c.validationChecks.noShortageDetected?(0,l.jsx)(hg,{className:"h-5 w-5 text-[#10B981]"}):(0,l.jsx)(S,{className:"h-5 w-5 text-[#F59E0B]"})}),(0,l.jsx)(Jj,{children:(0,l.jsx)("p",{children:"Scaffolding Shortage Detection"})})]})]})})}),(0,l.jsx)(jz,{children:p(c.status)}),(0,l.jsx)(jz,{className:"text-right",children:(0,l.jsxs)(a2,{variant:"outline",size:"sm",onClick:()=>{h(c),j(!0)},children:[(0,l.jsx)(gN,{className:"h-4 w-4 mr-1"}),"View"]})})]},c.id))})]})})}),(0,l.jsx)(jl,{open:i,onOpenChange:j,children:(0,l.jsxs)(jp,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)(jq,{children:[(0,l.jsx)(js,{children:"Project Closure Request Details"}),(0,l.jsx)(jt,{children:"Review the complete information for this closure request"})]}),g&&(0,l.jsxs)("div",{className:"space-y-6 py-4",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-[#231F20]",children:"Request Information"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Request ID"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:g.id})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Request Date"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:g.requestDate||"Not set"})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Status"}),p(g.status)]}),g.approvedDate&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Approval Date"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:g.approvedDate})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Approved By"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:g.approvedBy})]})]})]})]}),(0,l.jsx)(jD,{}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("h3",{className:"text-[#231F20] flex items-center gap-2",children:[(0,l.jsx)(gP,{className:"h-5 w-5"}),"Project Information"]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Project ID"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:g.projectId})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Project Name"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:g.projectName})]})]})]}),(0,l.jsx)(jD,{}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("h3",{className:"text-[#231F20] flex items-center gap-2",children:[(0,l.jsx)(oa,{className:"h-5 w-5"}),"Customer Information"]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Customer Name"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:g.customerName})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-[12px] text-[#6B7280]",children:"Company Name"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:g.companyName})]})]})]}),(0,l.jsx)(jD,{}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("h3",{className:"text-[#231F20] flex items-center gap-2",children:[(0,l.jsx)(v,{className:"h-5 w-5"}),"Validation Checks"]}),(0,l.jsx)("div",{className:"border rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[g.validationChecks.rentalPeriodMet?(0,l.jsx)(hg,{className:"h-5 w-5 text-[#10B981] mt-0.5"}):(0,l.jsx)(jb,{className:"h-5 w-5 text-[#EF4444] mt-0.5"}),(0,l.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(w,{className:"h-4 w-4 text-[#6B7280]"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:"Minimum Rental Period"})]}),(0,l.jsxs)("p",{className:"text-[14px] text-[#6B7280]",children:["Rental Start Date: ",new Date(g.rentalStartDate).toLocaleDateString("en-MY")]}),(0,l.jsxs)("p",{className:"text-[14px] text-[#6B7280]",children:["Actual Rental Period: ",g.actualRentalPeriod," months"]}),(0,l.jsxs)("p",{className:"text-[14px] text-[#6B7280]",children:["Minimum Required: ",g.minimumRentalPeriod," months"]}),g.validationChecks.rentalPeriodMet?(0,l.jsx)(jk,{className:"bg-[#10B981] text-white mt-2",children:"Requirement Met"}):(0,l.jsxs)(jk,{className:"bg-[#EF4444] text-white mt-2",children:["Requirement Not Met - ",(g.minimumRentalPeriod-g.actualRentalPeriod).toFixed(1)," months remaining"]})]})]})}),(0,l.jsx)("div",{className:"border rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[g.validationChecks.returnProcessComplete?(0,l.jsx)(hg,{className:"h-5 w-5 text-[#10B981] mt-0.5"}):(0,l.jsx)(jb,{className:"h-5 w-5 text-[#EF4444] mt-0.5"}),(0,l.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(y,{className:"h-4 w-4 text-[#6B7280]"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:"Return Process Status"})]}),(0,l.jsxs)("p",{className:"text-[14px] text-[#6B7280]",children:["Current Status: ",(a=>{switch(a){case"completed":return(0,l.jsx)(jk,{className:"bg-[#10B981] text-white",children:"Completed"});case"in-progress":return(0,l.jsx)(jk,{className:"bg-[#3B82F6] text-white",children:"In Progress"});case"pending":return(0,l.jsx)(jk,{className:"bg-[#F59E0B] text-white",children:"Pending"});default:return(0,l.jsx)(jk,{children:a})}})(g.returnStatus)]}),g.validationChecks.returnProcessComplete?(0,l.jsx)(jk,{className:"bg-[#10B981] text-white mt-2",children:"Return Process Completed"}):(0,l.jsx)(jk,{className:"bg-[#EF4444] text-white mt-2",children:"Return Process Not Complete"})]})]})}),(0,l.jsx)("div",{className:"border rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[g.validationChecks.noShortageDetected?(0,l.jsx)(hg,{className:"h-5 w-5 text-[#10B981] mt-0.5"}):(0,l.jsx)(S,{className:"h-5 w-5 text-[#F59E0B] mt-0.5"}),(0,l.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(F,{className:"h-4 w-4 text-[#6B7280]"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:"Scaffolding Shortage Detection"})]}),(0,l.jsxs)("p",{className:"text-[14px] text-[#6B7280]",children:["Items Shortage Count: ",g.shortageItems]}),g.validationChecks.noShortageDetected?(0,l.jsx)(jk,{className:"bg-[#10B981] text-white mt-2",children:"No Shortage Detected"}):(0,l.jsxs)(jk,{className:"bg-[#F59E0B] text-white mt-2",children:[g.shortageItems," Items Missing"]})]})]})})]}),(0,l.jsx)("div",{className:"bg-[#F3F4F6] rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-[#231F20]",children:"Overall Validation Status"}),q(g)?(0,l.jsx)(jk,{className:"bg-[#10B981] text-white",children:"All Requirements Met - Ready for Approval"}):(0,l.jsx)(jk,{className:"bg-[#EF4444] text-white",children:"Requirements Not Met - Cannot Approve"})]})})]}),(0,l.jsxs)(jr,{children:[g?.status==="pending"&&q(g)&&(0,l.jsxs)(a2,{className:"bg-[#10B981] hover:bg-[#059669] text-white",onClick:()=>{g&&n(!0)},children:[(0,l.jsx)(hg,{className:"h-4 w-4 mr-2"}),"Approve Closure"]}),(0,l.jsx)(a2,{variant:"outline",onClick:()=>j(!1),children:"Close"})]})]})}),(0,l.jsx)(gj,{open:k,onOpenChange:n,children:(0,l.jsxs)(gm,{children:[(0,l.jsxs)(gn,{children:[(0,l.jsx)(gp,{children:"Approve Project Closure"}),(0,l.jsxs)(gq,{children:["Are you sure you want to approve this project closure request?",(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsxs)("span",{className:"text-[#231F20]",children:["Project: ",g?.projectName]}),(0,l.jsx)("br",{}),(0,l.jsxs)("span",{className:"text-[#231F20]",children:["Request ID: ",g?.id]}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),"The approval date and time will be automatically recorded in the system."]})]}),(0,l.jsxs)(go,{children:[(0,l.jsx)(gs,{children:"Cancel"}),(0,l.jsx)(gr,{onClick:()=>{if(g){let c=new Date().toISOString().split("T")[0];b(a.map(a=>a.id===g.id?{...a,status:"approved",approvedBy:"Admin User",approvedDate:c}:a)),gG.success("Project Closure Approved",{description:`Project ${g.projectId} closure has been approved successfully.`}),n(!1),j(!1),h(null)}},className:"bg-[#10B981] hover:bg-[#059669] text-white",children:"Confirm Approval"})]})]})})]})}function JL({requestId:a,customerName:b,agreementNo:c,setDetails:d,deliveryAddress:e,deliveryDate:f,customerPhone:g,customerEmail:h,onClose:i}){let[j,k]=(0,m.useState)(`DO-${new Date().getFullYear()}-${Math.floor(1e4*Math.random()).toString().padStart(4,"0")}`),[n,o]=(0,m.useState)(""),[p,q]=(0,m.useState)(""),[r,s]=(0,m.useState)(""),[t,u]=(0,m.useState)(!1);return t?(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-[#231F20]",children:"Delivery Order Preview"}),(0,l.jsx)("p",{className:"text-gray-600",children:j})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)("button",{onClick:()=>{let i=window.open("","_blank");if(!i)return;let k=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Delivery Order - ${j}</title>
        <style>
          @media print {
            @page { margin: 20mm; }
            body { margin: 0; }
          }
          body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 210mm;
            margin: 0 auto;
          }
          .header {
            border-bottom: 3px solid #F15929;
            padding-bottom: 20px;
            margin-bottom: 20px;
          }
          .company-name {
            font-size: 24px;
            font-weight: bold;
            color: #231F20;
            margin-bottom: 5px;
          }
          .do-title {
            font-size: 28px;
            font-weight: bold;
            color: #F15929;
            text-align: right;
            margin-top: -30px;
          }
          .info-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
          }
          .info-box {
            border: 1px solid #ddd;
            padding: 15px;
            border-radius: 5px;
          }
          .info-label {
            font-weight: bold;
            color: #231F20;
            margin-bottom: 5px;
          }
          .info-value {
            color: #555;
            margin-bottom: 10px;
          }
          table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
          }
          th {
            background-color: #F15929;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: bold;
          }
          td {
            padding: 10px 12px;
            border-bottom: 1px solid #ddd;
          }
          tr:nth-child(even) {
            background-color: #f9f9f9;
          }
          .signature-section {
            margin-top: 40px;
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 40px;
          }
          .signature-box {
            text-align: center;
          }
          .signature-line {
            border-top: 1px solid #000;
            margin-top: 60px;
            padding-top: 10px;
          }
          .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #F15929;
            text-align: center;
            color: #666;
            font-size: 12px;
          }
          .instructions {
            background-color: #fff3cd;
            border: 1px solid #ffc107;
            padding: 10px;
            margin: 20px 0;
            border-radius: 5px;
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="company-name">Power Metal & Steel</div>
          <div class="do-title">DELIVERY ORDER</div>
        </div>

        <div class="info-section">
          <div class="info-box">
            <div class="info-label">DO Number:</div>
            <div class="info-value">${j}</div>
            <div class="info-label">Date:</div>
            <div class="info-value">${new Date().toLocaleDateString("en-MY")}</div>
            <div class="info-label">Request ID:</div>
            <div class="info-value">${a}</div>
            <div class="info-label">Agreement No:</div>
            <div class="info-value">${c}</div>
          </div>

          <div class="info-box">
            <div class="info-label">Customer:</div>
            <div class="info-value">${b}</div>
            <div class="info-label">Phone:</div>
            <div class="info-value">${g}</div>
            <div class="info-label">Email:</div>
            <div class="info-value">${h}</div>
          </div>
        </div>

        <div class="info-box">
          <div class="info-label">Delivery Address:</div>
          <div class="info-value">${e}</div>
          <div class="info-label">Scheduled Delivery Date:</div>
          <div class="info-value">${new Date(f).toLocaleDateString("en-MY")}</div>
        </div>

        <div class="info-section" style="margin-top: 20px;">
          <div class="info-box">
            <div class="info-label">Driver Name:</div>
            <div class="info-value">${n||"N/A"}</div>
          </div>
          <div class="info-box">
            <div class="info-label">Vehicle Number:</div>
            <div class="info-value">${p||"N/A"}</div>
          </div>
        </div>

        <div style="margin-top: 20px;">
          <div class="info-label">Set: ${d.setName}</div>
        </div>

        <table>
          <thead>
            <tr>
              <th style="width: 5%;">No.</th>
              <th style="width: 55%;">Item Description</th>
              <th style="width: 20%;">Quantity</th>
              <th style="width: 20%;">Unit</th>
            </tr>
          </thead>
          <tbody>
            ${d.items.map((a,b)=>`
              <tr>
                <td>${b+1}</td>
                <td>${a.name}</td>
                <td>${a.quantity}</td>
                <td>${a.unit}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>

        ${r?`
          <div class="instructions">
            <div class="info-label">Special Instructions:</div>
            <div>${r}</div>
          </div>
        `:""}

        <div class="signature-section">
          <div class="signature-box">
            <div class="signature-line">Prepared By</div>
          </div>
          <div class="signature-box">
            <div class="signature-line">Delivered By</div>
          </div>
          <div class="signature-box">
            <div class="signature-line">Received By</div>
          </div>
        </div>

        <div class="footer">
          This is a computer-generated document. No signature is required.<br>
          Power Metal & Steel - Scaffolding Rental Services
        </div>
      </body>
      </html>
    `;i.document.write(k),i.document.close(),i.print()},className:"px-4 py-2 bg-[#F15929] text-white rounded hover:bg-[#d14a1f] flex items-center gap-2",children:[(0,l.jsx)(oY,{className:"w-4 h-4"}),"Print"]}),(0,l.jsx)("button",{onClick:i,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50",children:"Close"})]})]}),(0,l.jsx)("div",{className:"p-6",children:(0,l.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6 bg-white",children:[(0,l.jsx)("div",{className:"border-b-2 border-[#F15929] pb-4 mb-4",children:(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-2xl text-[#231F20] mb-1",children:"Power Metal & Steel"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Scaffolding Rental Services"})]}),(0,l.jsx)("div",{className:"text-3xl text-[#F15929]",children:"DELIVERY ORDER"})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[(0,l.jsx)("div",{className:"border border-gray-200 rounded p-4",children:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-600",children:"DO Number:"}),(0,l.jsx)("span",{className:"ml-2 text-[#231F20]",children:j})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Date:"}),(0,l.jsx)("span",{className:"ml-2 text-[#231F20]",children:new Date().toLocaleDateString("en-MY")})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Request ID:"}),(0,l.jsx)("span",{className:"ml-2 text-[#231F20]",children:a})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Agreement No:"}),(0,l.jsx)("span",{className:"ml-2 text-[#231F20]",children:c})]})]})}),(0,l.jsx)("div",{className:"border border-gray-200 rounded p-4",children:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Customer:"}),(0,l.jsx)("span",{className:"ml-2 text-[#231F20]",children:b})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Phone:"}),(0,l.jsx)("span",{className:"ml-2 text-[#231F20]",children:g})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Email:"}),(0,l.jsx)("span",{className:"ml-2 text-[#231F20]",children:h})]})]})})]}),(0,l.jsx)("div",{className:"border border-gray-200 rounded p-4 mb-6",children:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Delivery Address:"}),(0,l.jsx)("span",{className:"ml-2 text-[#231F20]",children:e})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Scheduled Date:"}),(0,l.jsx)("span",{className:"ml-2 text-[#231F20]",children:new Date(f).toLocaleDateString("en-MY")})]})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[(0,l.jsxs)("div",{className:"border border-gray-200 rounded p-4",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Driver:"}),(0,l.jsx)("span",{className:"ml-2 text-[#231F20]",children:n||"N/A"})]}),(0,l.jsxs)("div",{className:"border border-gray-200 rounded p-4",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Vehicle:"}),(0,l.jsx)("span",{className:"ml-2 text-[#231F20]",children:p||"N/A"})]})]}),(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsxs)("span",{className:"text-gray-700",children:["Set: ",d.setName]})}),(0,l.jsxs)("table",{className:"w-full border-collapse mb-6",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"bg-[#F15929] text-white",children:[(0,l.jsx)("th",{className:"p-3 text-left",children:"No."}),(0,l.jsx)("th",{className:"p-3 text-left",children:"Item Description"}),(0,l.jsx)("th",{className:"p-3 text-left",children:"Quantity"}),(0,l.jsx)("th",{className:"p-3 text-left",children:"Unit"})]})}),(0,l.jsx)("tbody",{children:d.items.map((a,b)=>(0,l.jsxs)("tr",{className:b%2==0?"bg-gray-50":"",children:[(0,l.jsx)("td",{className:"p-3 border-b border-gray-200",children:b+1}),(0,l.jsx)("td",{className:"p-3 border-b border-gray-200",children:a.name}),(0,l.jsx)("td",{className:"p-3 border-b border-gray-200",children:a.quantity}),(0,l.jsx)("td",{className:"p-3 border-b border-gray-200",children:a.unit})]},b))})]}),r&&(0,l.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4 mb-6",children:[(0,l.jsx)("div",{className:"text-gray-700 mb-1",children:"Special Instructions:"}),(0,l.jsx)("div",{className:"text-gray-800",children:r})]}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-8 mt-12",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"h-16"}),(0,l.jsx)("div",{className:"border-t border-gray-800 pt-2",children:"Prepared By"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"h-16"}),(0,l.jsx)("div",{className:"border-t border-gray-800 pt-2",children:"Delivered By"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"h-16"}),(0,l.jsx)("div",{className:"border-t border-gray-800 pt-2",children:"Received By"})]})]}),(0,l.jsxs)("div",{className:"mt-8 pt-4 border-t-2 border-[#F15929] text-center text-gray-600 text-sm",children:["This is a computer-generated document. No signature is required.",(0,l.jsx)("br",{}),"Power Metal & Steel - Scaffolding Rental Services"]})]})})]})}):(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,l.jsx)("h2",{className:"text-[#231F20]",children:"Generate Delivery Order"}),(0,l.jsxs)("p",{className:"text-gray-600",children:["Create a delivery order for ",d.setName]})]}),(0,l.jsx)("div",{className:"p-6",children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"DO Number *"}),(0,l.jsx)("input",{type:"text",value:j,onChange:a=>k(a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F15929] focus:border-transparent"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Customer Name"}),(0,l.jsx)("input",{type:"text",value:b,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Agreement No"}),(0,l.jsx)("input",{type:"text",value:c,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Delivery Address"}),(0,l.jsx)("textarea",{value:e,disabled:!0,rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Scheduled Delivery Date"}),(0,l.jsx)("input",{type:"text",value:new Date(f).toLocaleDateString("en-MY"),disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Driver Name"}),(0,l.jsx)("input",{type:"text",value:n,onChange:a=>o(a.target.value),placeholder:"Enter driver name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F15929] focus:border-transparent"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Vehicle Number"}),(0,l.jsx)("input",{type:"text",value:p,onChange:a=>q(a.target.value),placeholder:"e.g., ABC1234",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F15929] focus:border-transparent"})]})]}),(0,l.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[(0,l.jsx)("h3",{className:"text-[#231F20] mb-3",children:d.setName}),(0,l.jsx)("div",{className:"space-y-2",children:d.items.map((a,b)=>(0,l.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,l.jsx)("span",{className:"text-gray-700",children:a.name}),(0,l.jsxs)("span",{className:"text-gray-600",children:[a.quantity," ",a.unit]})]},b))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Special Instructions"}),(0,l.jsx)("textarea",{value:r,onChange:a=>s(a.target.value),rows:3,placeholder:"Enter any special delivery instructions...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F15929] focus:border-transparent"})]})]})}),(0,l.jsxs)("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[(0,l.jsx)("button",{onClick:i,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50",children:"Cancel"}),(0,l.jsxs)("button",{onClick:()=>{u(!0)},className:"px-4 py-2 bg-[#F15929] text-white rounded hover:bg-[#d14a1f] flex items-center gap-2",children:[(0,l.jsx)(v,{className:"w-4 h-4"}),"Generate DO"]})]})]})})}function JM(){let[a,b]=(0,m.useState)("delivery"),[c,d]=(0,m.useState)(""),[e,f]=(0,m.useState)("all"),[g,h]=(0,m.useState)(null),[i,j]=(0,m.useState)(null),[k,n]=(0,m.useState)(!1),[o,p]=(0,m.useState)(!1),[q,r]=(0,m.useState)(!1),[s,t]=(0,m.useState)(!1),[u,x]=(0,m.useState)(!1),[y,z]=(0,m.useState)(!1),[B,C]=(0,m.useState)(!1),[D,E]=(0,m.useState)(null),[G,I]=(0,m.useState)(!1),[J,K]=(0,m.useState)(null),[L,M]=(0,m.useState)(!1),[N,O]=(0,m.useState)(!1),[P,Q]=(0,m.useState)(null),[R,S]=(0,m.useState)(!1),[T,U]=(0,m.useState)(!1),[V,W]=(0,m.useState)(!1),[X,Y]=(0,m.useState)(""),[Z,$]=(0,m.useState)(""),[_,aa]=(0,m.useState)(""),[ab,ac]=(0,m.useState)(""),[ad,ae]=(0,m.useState)(""),[af,ag]=(0,m.useState)(""),[ah,ai]=(0,m.useState)(""),[aj,ak]=(0,m.useState)([{id:"DR001",requestId:"DR-2026-001",customerName:"ABC Construction Sdn Bhd",agreementNo:"AGR-2026-001",customerPhone:"+60123456789",customerEmail:"contact@abc.com",deliveryAddress:"Jalan Raja Laut, 50350 Kuala Lumpur",deliveryType:"delivery",requestDate:"2026-12-01",totalSets:3,deliveredSets:0,sets:[{id:"SET-A",setName:"Set A - Initial Phase",items:[{name:"Scaffolding Pipe 6m",quantity:100},{name:"Coupler Standard",quantity:200},{name:"Base Plate",quantity:50}],scheduledPeriod:"Month 1-3",status:"Pending"},{id:"SET-B",setName:"Set B - Extension Phase",items:[{name:"Scaffolding Pipe 4m",quantity:150},{name:"Coupler Swivel",quantity:180},{name:"Ladder Beam",quantity:30}],scheduledPeriod:"Month 4-6",status:"Pending"},{id:"SET-C",setName:"Set C - Final Phase",items:[{name:"H-Frame Scaffolding",quantity:80},{name:"Cross Brace",quantity:120},{name:"Walk Board",quantity:60}],scheduledPeriod:"Month 7-9",status:"Pending"}]},{id:"DR002",requestId:"DR-2026-002",customerName:"XYZ Development Sdn Bhd",agreementNo:"AGR-2026-002",customerPhone:"+60129876543",customerEmail:"info@xyz.com",deliveryAddress:"Jalan Ampang, 50450 Kuala Lumpur",deliveryType:"delivery",requestDate:"2026-12-03",totalSets:1,deliveredSets:0,sets:[{id:"SET-D",setName:"Set A - Main Structure",items:[{name:"Steel Tube 4m",quantity:200},{name:"Joint Pin",quantity:150},{name:"Base Jack",quantity:80},{name:"Safety Net",quantity:40}],scheduledPeriod:"Month 1-6",status:"Pending"}]}]),[al,am]=(0,m.useState)([{id:"RR001",requestId:"RR-2026-001",customerName:"DEF Builders",agreementNo:"AGR-2026-003",setName:"Set A - Foundation Phase",items:[{name:"Scaffolding Pipe 6m",quantity:80},{name:"Coupler Standard",quantity:160},{name:"Base Plate",quantity:40}],requestDate:"2026-12-02",status:"Requested",reason:"Project completed",pickupAddress:"Jalan Ipoh, 51200 Kuala Lumpur",customerPhone:"+60124445555",customerEmail:"info@def.com",returnType:"full",collectionMethod:"transport"},{id:"RR002",requestId:"RR-2026-002",customerName:"ABC Construction Sdn Bhd",agreementNo:"AGR-2026-001",setName:"Set A - Initial Phase",items:[{name:"Scaffolding Pipe 6m",quantity:50},{name:"Coupler Standard",quantity:100}],requestDate:"2026-12-08",status:"Requested",reason:"Partial return - Phase 1 completed",pickupAddress:"Jalan Raja Laut, 50350 Kuala Lumpur",customerPhone:"+60123456789",customerEmail:"contact@abc.com",returnType:"partial",collectionMethod:"self-return"},{id:"RR003",requestId:"RR-2026-003",customerName:"Megah Engineering Sdn Bhd",agreementNo:"AGR-2026-004",setName:"Set C - Rooftop",items:[{name:"Aluminum Tube 4m",quantity:100},{name:"Edge Protection",quantity:60},{name:"Toe Board",quantity:50}],requestDate:"2026-12-05",status:"Requested",reason:"Phase completed ahead of schedule",pickupAddress:"Jalan Sultan Ismail, 50250 Kuala Lumpur",customerPhone:"+60167654321",customerEmail:"projects@megah.com",returnType:"full",collectionMethod:"self-return"},{id:"RR004",requestId:"RR-2026-004",customerName:"Sunrise Development Sdn Bhd",agreementNo:"AGR-2026-007",setName:"Set A - Bridge Construction",items:[{name:"Heavy Duty Tube 6m",quantity:120},{name:"Beam Clamp",quantity:90},{name:"Support Frame",quantity:45}],requestDate:"2026-12-07",status:"Requested",reason:"Partial return - Downsizing project scope",pickupAddress:"Jalan Damansara, 60000 Kuala Lumpur",customerPhone:"+60172223333",customerEmail:"ops@sunrise.com",returnType:"partial",collectionMethod:"transport"}]),an=a=>{switch(a){case"Pending":case"Requested":default:return"bg-gray-100 text-gray-800";case"Quoted":return"bg-blue-100 text-blue-800";case"Agreed":case"DO Generated":case"GRN Generated":case"Delivered":case"Customer Confirmed":return"bg-green-100 text-green-800";case"Scheduled":case"Confirmed":return"bg-purple-100 text-purple-800";case"Packing List Issued":case"Customer Notified":return"bg-indigo-100 text-indigo-800";case"Packing & Loading":return"bg-yellow-100 text-yellow-800";case"Driver Acknowledged":return"bg-cyan-100 text-cyan-800";case"In Transit":return"bg-orange-100 text-orange-800";case"Received":return"bg-teal-100 text-teal-800";case"Cancelled":return"bg-red-100 text-red-800"}},ao=(a,b)=>{let c=a.sets.findIndex(a=>a.id===b.id);if(0===c)return!0;let d=a.sets[c-1];return"DO Generated"===d.status||"Customer Confirmed"===d.status||"Delivered"===d.status},ap=aj.filter(a=>a.customerName.toLowerCase().includes(c.toLowerCase())||a.requestId.toLowerCase().includes(c.toLowerCase())||a.agreementNo.toLowerCase().includes(c.toLowerCase())),aq=al.filter(a=>a.customerName.toLowerCase().includes(c.toLowerCase())||a.requestId.toLowerCase().includes(c.toLowerCase())||a.agreementNo.toLowerCase().includes(c.toLowerCase()));return(0,l.jsxs)("div",{className:"p-6 space-y-6",children:[(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-[#231F20]",children:"Delivery & Return Management"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Manage delivery and return requests with quotation workflow"})]})}),(0,l.jsxs)("div",{className:"flex space-x-4 border-b border-gray-200",children:[(0,l.jsx)("button",{onClick:()=>b("delivery"),className:`pb-3 px-4 ${"delivery"===a?"border-b-2 border-[#F15929] text-[#F15929]":"text-gray-500 hover:text-gray-700"}`,children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(H,{className:"size-5"}),(0,l.jsx)("span",{children:"Delivery Requests"})]})}),(0,l.jsx)("button",{onClick:()=>b("return"),className:`pb-3 px-4 ${"return"===a?"border-b-2 border-[#F15929] text-[#F15929]":"text-gray-500 hover:text-gray-700"}`,children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(F,{className:"size-5"}),(0,l.jsx)("span",{children:"Return Requests"})]})})]}),(0,l.jsx)("div",{className:"flex items-center space-x-4",children:(0,l.jsxs)("div",{className:"flex-1 relative",children:[(0,l.jsx)(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 size-5"}),(0,l.jsx)("input",{type:"text",placeholder:"Search by customer, request ID, or agreement...",value:c,onChange:a=>d(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F15929]"})]})}),"delivery"===a&&(0,l.jsxs)("div",{className:"space-y-6",children:[ap.map(a=>(0,l.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 space-y-4",children:[(0,l.jsx)("div",{className:"flex items-start justify-between pb-4 border-b",children:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("h3",{className:"text-lg text-[#231F20]",children:a.requestId}),(0,l.jsx)("span",{className:"px-3 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:"Delivery"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[(0,l.jsx)(oa,{className:"size-4"}),(0,l.jsx)("span",{children:a.customerName})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[(0,l.jsx)(v,{className:"size-4"}),(0,l.jsx)("span",{children:a.agreementNo})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[(0,l.jsx)(iM,{className:"size-4"}),(0,l.jsx)("span",{children:a.customerPhone})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[(0,l.jsx)(mR,{className:"size-4"}),(0,l.jsx)("span",{children:a.deliveryAddress})]})]})]})}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("h4",{className:"text-sm text-gray-500",children:["Sets (",a.deliveredSets,"/",a.totalSets," delivered)"]}),a.sets.map((b,c)=>{let d;return(0,l.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 space-y-3",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("h5",{className:"text-[#231F20]",children:b.setName}),(0,l.jsx)("span",{className:`px-2 py-1 rounded-full text-xs ${an(b.status)}`,children:b.status}),c>0&&"Pending"===b.status&&!ao(a,b)&&(0,l.jsxs)("span",{className:"text-xs text-gray-500 italic",children:["(Will quote after Set ",String.fromCharCode(65+c-1)," is completed)"]})]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Period: ",b.scheduledPeriod]}),(0,l.jsxs)("div",{className:"bg-gray-50 rounded p-3 space-y-1",children:[(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"Items:"}),b.items.map((a,b)=>(0,l.jsxs)("p",{className:"text-sm text-gray-700",children:[" ",a.name," - Qty: ",a.quantity]},b))]}),b.quotedAmount&&(0,l.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,l.jsxs)("span",{className:"text-gray-600",children:["Rental: ",(0,l.jsxs)("span",{className:"text-[#F15929]",children:["RM ",b.quotedAmount.toLocaleString()]})]}),b.deliveryFee&&(0,l.jsxs)("span",{className:"text-gray-600",children:["Delivery Fee: ",(0,l.jsxs)("span",{className:"text-[#F15929]",children:["RM ",b.deliveryFee.toLocaleString()]})]})]})]}),(0,l.jsx)("div",{children:(d=((a,b)=>{if("Cancelled"===b.status)return null;if("Pending"===b.status&&!ao(a,b))return{label:"Waiting for previous set",disabled:!0,color:"gray"};if("delivery"===a.deliveryType||"pickup"===a.deliveryType)switch(b.status){case"Pending":return{label:"Issue Quotation",action:()=>{h(a),j(b),n(!0)},color:"blue"};case"Quoted":return{label:"Generate DO",action:()=>{E(a),j(b),C(!0)},color:"green"};case"DO Generated":return{label:"View DO",action:()=>{Q({request:a,set:b}),O(!0)},color:"green",disabled:!1};default:return null}})(a,b))?(0,l.jsx)("button",{onClick:d.action,disabled:d.disabled,className:`px-4 py-2 rounded-lg text-sm ${d.disabled?"bg-gray-100 text-gray-400 cursor-not-allowed":`bg-${d.color}-500 hover:bg-${d.color}-600 text-white`}`,style:{backgroundColor:d.disabled?void 0:"blue"===d.color?"#3b82f6":"indigo"===d.color?"#6366f1":"yellow"===d.color?"#eab308":"cyan"===d.color?"#06b6d4":"green"===d.color?"#10b981":"gray"===d.color?"#9ca3af":"#3b82f6"},children:d.label}):null})]})},b.id)})]})]},a.id)),0===ap.length&&(0,l.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[(0,l.jsx)(H,{className:"size-12 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-600",children:"No delivery requests found"})]})]}),"return"===a&&(0,l.jsxs)("div",{className:"space-y-4",children:[aq.map(a=>{let b;return(0,l.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 space-y-4",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("h3",{className:"text-lg text-[#231F20]",children:a.requestId}),(0,l.jsx)("span",{className:`px-3 py-1 rounded-full text-xs ${an(a.status)}`,children:a.status})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(oa,{className:"size-4"}),(0,l.jsx)("span",{children:a.customerName})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(v,{className:"size-4"}),(0,l.jsx)("span",{children:a.agreementNo})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(F,{className:"size-4"}),(0,l.jsx)("span",{children:a.setName})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(mR,{className:"size-4"}),(0,l.jsx)("span",{children:a.pickupAddress})]})]}),(0,l.jsxs)("div",{className:"bg-gray-50 rounded p-3 space-y-1",children:[(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"Items to be returned:"}),a.items.map((a,b)=>(0,l.jsxs)("p",{className:"text-sm text-gray-700",children:[" ",a.name," - Qty: ",a.quantity]},b))]}),a.pickupFee&&(0,l.jsx)("div",{className:"text-sm",children:(0,l.jsxs)("span",{className:"text-gray-600",children:["Pickup Fee: ",(0,l.jsxs)("span",{className:"text-[#F15929]",children:["RM ",a.pickupFee.toLocaleString()]})]})}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Reason: ",a.reason]}),a.scheduledDate&&(0,l.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,l.jsx)(w,{className:"size-4"}),(0,l.jsxs)("span",{children:["Scheduled: ",a.scheduledDate]})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(b=(a=>{switch(a.status){case"Requested":return{label:"Issue Quotation",action:()=>{K(a),p(!0)},color:"blue"};case"Quoted":return{label:"Agree",action:()=>{am(al.map(b=>b.id===a.id?{...b,status:"Agreed"}:b)),alert("Customer agreed to return quotation. Status updated to Agreed.")},color:"green"};case"Agreed":return{label:"Agreed",disabled:!0,color:"gray"};case"Cancelled":return{label:"Cancelled",disabled:!0,color:"gray"};default:return null}})(a))?(0,l.jsx)("button",{onClick:b.action,disabled:b.disabled,className:`px-4 py-2 rounded-lg text-sm ${b.disabled?"bg-gray-100 text-gray-400 cursor-not-allowed":`bg-${b.color}-500 hover:bg-${b.color}-600 text-white`}`,style:{backgroundColor:b.disabled?void 0:"blue"===b.color?"#3b82f6":"green"===b.color?"#10b981":"gray"===b.color?"#9ca3af":"#3b82f6"},children:b.label}):null,(0,l.jsx)("button",{onClick:()=>{K(a),M(!0)},className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"View Details",children:(0,l.jsx)(v,{className:"size-5"})})]})]})},a.id)}),0===aq.length&&(0,l.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[(0,l.jsx)(F,{className:"size-12 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-600",children:"No return requests found"})]})]}),k&&g&&i&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md space-y-4",children:[(0,l.jsx)("h3",{className:"text-xl text-[#231F20]",children:"Issue Quotation & Delivery Fee"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Set: ",i.setName]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Rental Amount: RM ",i.quotedAmount?.toLocaleString()]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Delivery Fee (RM)"}),(0,l.jsx)("input",{type:"number",value:X,onChange:a=>Y(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F15929]",placeholder:"Enter delivery fee"})]}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"Note: Sets are quoted sequentially. Set B will only be quoted after Set A is completed, unless customer requests early rental or extension."})]}),(0,l.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,l.jsx)("button",{onClick:()=>{n(!1),Y("")},className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),(0,l.jsx)("button",{onClick:()=>{g&&i&&X&&(ak(aj.map(a=>a.id===g.id?{...a,sets:a.sets.map(a=>a.id===i.id?{...a,deliveryFee:parseFloat(X),status:"Quoted"}:a)}:a)),n(!1),Y(""),alert("Quotation issued successfully!"))},className:"px-4 py-2 bg-[#F15929] hover:bg-[#d94d1f] text-white rounded-lg",children:"Issue Quotation"})]})]})}),o&&J&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md space-y-4",children:[(0,l.jsx)("h3",{className:"text-xl text-[#231F20]",children:"Issue Return Pickup Quotation"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Request ID: ",J.requestId]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Set: ",J.setName]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Pickup Address: ",J.pickupAddress]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Pickup/Transportation Fee (RM)"}),(0,l.jsx)("input",{type:"number",value:Z,onChange:a=>$(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F15929]",placeholder:"Enter pickup fee for vehicle"})]}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"Quote the transportation fee for sending a vehicle to pick up the returned items from the customer site."})]}),(0,l.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,l.jsx)("button",{onClick:()=>{p(!1),$("")},className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),(0,l.jsx)("button",{onClick:()=>{J&&Z&&(am(al.map(a=>a.id===J.id?{...a,pickupFee:parseFloat(Z),status:"Quoted"}:a)),p(!1),$(""),alert("Return pickup quotation issued successfully!"))},className:"px-4 py-2 bg-[#F15929] hover:bg-[#d94d1f] text-white rounded-lg",children:"Issue Quotation"})]})]})}),L&&J&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md space-y-4",children:[(0,l.jsx)("h3",{className:"text-xl text-[#231F20]",children:"Return Request Details"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-500",children:"Request ID"}),(0,l.jsx)("p",{className:"text-sm text-gray-900",children:J.requestId})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-500",children:"Customer Name"}),(0,l.jsx)("p",{className:"text-sm text-gray-900",children:J.customerName})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-500",children:"Agreement Number"}),(0,l.jsx)("p",{className:"text-sm text-gray-900",children:J.agreementNo})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-500",children:"Set Name"}),(0,l.jsx)("p",{className:"text-sm text-gray-900",children:J.setName})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-500",children:"Pickup Address"}),(0,l.jsx)("p",{className:"text-sm text-gray-900",children:J.pickupAddress})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-500",children:"Request Date"}),(0,l.jsx)("p",{className:"text-sm text-gray-900",children:J.requestDate})]}),J.scheduledDate&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-500",children:"Scheduled Return Date"}),(0,l.jsx)("p",{className:"text-sm text-gray-900",children:J.scheduledDate})]}),J.pickupFee&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-500",children:"Pickup Fee"}),(0,l.jsxs)("p",{className:"text-sm text-gray-900",children:["RM ",J.pickupFee.toLocaleString()]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-500",children:"Status"}),(0,l.jsx)("span",{className:`inline-block px-3 py-1 rounded-full text-xs ${an(J.status)}`,children:J.status})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-500",children:"Reason for Return"}),(0,l.jsx)("p",{className:"text-sm text-gray-900",children:J.reason})]})]}),(0,l.jsx)("div",{className:"flex items-center justify-end",children:(0,l.jsx)("button",{onClick:()=>M(!1),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg",children:"Close"})})]})}),B&&D&&i&&(0,l.jsx)(JL,{requestId:D.requestId,customerName:D.customerName,agreementNo:D.agreementNo,setDetails:{setName:i.setName,items:i.items.map(a=>({...a,unit:"pcs"}))},deliveryAddress:D.deliveryAddress,deliveryDate:new Date().toISOString().split("T")[0],customerPhone:D.customerPhone,customerEmail:D.customerEmail,onClose:()=>{ak(aj.map(a=>a.id===D.id?{...a,sets:a.sets.map(a=>a.id===i.id?{...a,status:"DO Generated"}:a)}:a)),C(!1),alert("Delivery Order generated successfully!")}}),N&&P&&(0,l.jsx)(JL,{requestId:P.request.requestId,customerName:P.request.customerName,agreementNo:P.request.agreementNo,setDetails:{setName:P.set.setName,items:P.set.items.map(a=>({...a,unit:"pcs"}))},deliveryAddress:P.request.deliveryAddress,deliveryDate:P.set.deliveryDate||new Date().toISOString().split("T")[0],customerPhone:P.request.customerPhone,customerEmail:P.request.customerEmail,onClose:()=>O(!1)}),R&&J&&(0,l.jsx)(JL,{requestId:J.requestId,customerName:J.customerName,agreementNo:J.agreementNo,setDetails:{setName:J.setName,items:J.items.map(a=>({...a,unit:"pcs"}))},deliveryAddress:J.pickupAddress,deliveryDate:new Date().toISOString().split("T")[0],customerPhone:J.customerPhone,customerEmail:J.customerEmail,onClose:()=>{am(al.map(a=>a.id===J.id?{...a,status:"DO Generated"}:a)),S(!1),alert("Return DO generated successfully!")}}),T&&J&&(0,l.jsx)(JL,{requestId:J.requestId,customerName:J.customerName,agreementNo:J.agreementNo,setDetails:{setName:J.setName,items:J.items.map(a=>({...a,unit:"pcs"}))},deliveryAddress:J.pickupAddress,deliveryDate:J.scheduledDate||new Date().toISOString().split("T")[0],customerPhone:J.customerPhone,customerEmail:J.customerEmail,onClose:()=>U(!1)})]})}function JN({status:a}){let b={"Pending Payment":{bg:"bg-[#FEF3C7]",text:"text-[#92400E]",label:"Pending Payment"},"Pending Approval":{bg:"bg-[#DBEAFE]",text:"text-[#1E40AF]",label:"Pending Approval"},Approved:{bg:"bg-[#D1FAE5]",text:"text-[#065F46]",label:"Approved"},Rejected:{bg:"bg-[#FEE2E2]",text:"text-[#991B1B]",label:"Rejected"}}[a];return(0,l.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs ${b.bg} ${b.text}`,children:b.label})}let JO=s("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);function JP({isOpen:a,onClose:b,onUpload:c,chargeId:d}){let[e,f]=(0,m.useState)(null),[g,h]=(0,m.useState)(!1);if(!a)return null;let i=a=>{a.preventDefault(),a.stopPropagation(),"dragenter"===a.type||"dragover"===a.type?h(!0):"dragleave"===a.type&&h(!1)},j=()=>{f(null),b()};return(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-[#E5E7EB]",children:[(0,l.jsx)("h2",{className:"text-[18px] text-[#231F20]",children:"Upload Proof of Payment"}),(0,l.jsx)("button",{onClick:j,className:"text-[#6B7280] hover:text-[#231F20] transition-colors",children:(0,l.jsx)(D,{className:"h-5 w-5"})})]}),(0,l.jsxs)("div",{className:"p-6 space-y-4",children:[(0,l.jsxs)("p",{className:"text-sm text-[#6B7280]",children:["Upload proof of payment for Additional Charge ",d]}),(0,l.jsxs)("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${g?"border-[#F15929] bg-[#FEF2F2]":"border-[#D1D5DB] bg-[#F9FAFB]"}`,onDragEnter:i,onDragLeave:i,onDragOver:i,onDrop:a=>{if(a.preventDefault(),a.stopPropagation(),h(!1),a.dataTransfer.files&&a.dataTransfer.files[0]){let b=a.dataTransfer.files[0];b.type.startsWith("image/")||"application/pdf"===b.type?f(b):gG.error("Please upload an image or PDF file")}},children:[e?(0,l.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,l.jsx)(JO,{className:"h-8 w-8 text-[#F15929]"}),(0,l.jsxs)("div",{className:"text-left",children:[(0,l.jsx)("p",{className:"text-sm text-[#231F20]",children:e.name}),(0,l.jsxs)("p",{className:"text-xs text-[#6B7280]",children:[(e.size/1024).toFixed(2)," KB"]})]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(hD,{className:"h-12 w-12 text-[#9CA3AF] mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-sm text-[#231F20] mb-2",children:"Drag and drop your file here, or click to browse"}),(0,l.jsx)("p",{className:"text-xs text-[#6B7280]",children:"Supported formats: JPG, PNG, PDF (Max 5MB)"})]}),(0,l.jsx)("input",{type:"file",onChange:a=>{if(a.target.files&&a.target.files[0]){let b=a.target.files[0];b.type.startsWith("image/")||"application/pdf"===b.type?f(b):gG.error("Please upload an image or PDF file")}},accept:"image/*,.pdf",className:"hidden",id:"file-upload"}),(0,l.jsx)("label",{htmlFor:"file-upload",className:"mt-4 inline-block cursor-pointer text-sm text-[#F15929] hover:text-[#D14620]",children:"Browse Files"})]}),(0,l.jsx)("div",{className:"bg-[#FEF3C7] border border-[#F59E0B] rounded-lg p-3",children:(0,l.jsxs)("p",{className:"text-xs text-[#92400E]",children:[(0,l.jsx)("strong",{children:"Note:"})," POP is required before submitting for approval. Ensure the payment reference is clearly visible."]})})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-3 p-6 border-t border-[#E5E7EB]",children:[(0,l.jsx)(a2,{variant:"outline",onClick:j,className:"h-10 px-6 rounded-lg",children:"Cancel"}),(0,l.jsx)(a2,{onClick:()=>{e?(c(e),f(null),b()):gG.error("Please select a file to upload")},disabled:!e,className:"bg-[#F15929] hover:bg-[#D14620] text-white h-10 px-6 rounded-lg",children:"Submit Proof of Payment"})]})]})})}function JQ({isOpen:a,onClose:b,onApprove:c,chargeId:d}){let[e,f]=(0,m.useState)("");if(!a)return null;let g=()=>{f(""),b()};return(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-[#E5E7EB]",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"h-10 w-10 rounded-full bg-[#D1FAE5] flex items-center justify-center",children:(0,l.jsx)(hE,{className:"h-5 w-5 text-[#065F46]"})}),(0,l.jsx)("h2",{className:"text-[18px] text-[#231F20]",children:"Approve Payment"})]}),(0,l.jsx)("button",{onClick:g,className:"text-[#6B7280] hover:text-[#231F20] transition-colors",children:(0,l.jsx)(D,{className:"h-5 w-5"})})]}),(0,l.jsxs)("div",{className:"p-6 space-y-4",children:[(0,l.jsxs)("p",{className:"text-sm text-[#6B7280]",children:["You are about to approve Additional Charge ",(0,l.jsx)("strong",{children:d}),". Please enter the reference/transaction ID for record purposes."]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("label",{className:"text-[14px] text-[#374151]",children:["Reference ID / Transaction ID ",(0,l.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,l.jsx)(a3,{type:"text",value:e,onChange:a=>f(a.target.value),placeholder:"e.g., TXN-20241210-001",className:"h-10 border-[#D1D5DB] rounded-md"})]}),(0,l.jsx)("div",{className:"bg-[#D1FAE5] border border-[#10B981] rounded-lg p-3",children:(0,l.jsxs)("p",{className:"text-xs text-[#065F46]",children:[(0,l.jsx)("strong",{children:"Confirmation:"})," Once approved, this action cannot be undone. The payment will be marked as completed."]})})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-3 p-6 border-t border-[#E5E7EB]",children:[(0,l.jsx)(a2,{variant:"outline",onClick:g,className:"h-10 px-6 rounded-lg",children:"Cancel"}),(0,l.jsxs)(a2,{onClick:()=>{e.trim()?(c(e),f(""),b()):gG.error("Please enter a reference/transaction ID")},className:"bg-[#10B981] hover:bg-[#059669] text-white h-10 px-6 rounded-lg",children:[(0,l.jsx)(hE,{className:"h-4 w-4 mr-2"}),"Approve Payment"]})]})]})})}function JR({isOpen:a,onClose:b,onReject:c,chargeId:d}){let[e,f]=(0,m.useState)("");if(!a)return null;let g=()=>{f(""),b()};return(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-[#E5E7EB]",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"h-10 w-10 rounded-full bg-[#FEE2E2] flex items-center justify-center",children:(0,l.jsx)(jb,{className:"h-5 w-5 text-[#991B1B]"})}),(0,l.jsx)("h2",{className:"text-[18px] text-[#231F20]",children:"Reject Payment"})]}),(0,l.jsx)("button",{onClick:g,className:"text-[#6B7280] hover:text-[#231F20] transition-colors",children:(0,l.jsx)(D,{className:"h-5 w-5"})})]}),(0,l.jsxs)("div",{className:"p-6 space-y-4",children:[(0,l.jsxs)("p",{className:"text-sm text-[#6B7280]",children:["You are about to reject Additional Charge ",(0,l.jsx)("strong",{children:d}),". Please provide a clear reason for rejection."]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("label",{className:"text-[14px] text-[#374151]",children:["Rejection Reason ",(0,l.jsx)("span",{className:"text-[#DC2626]",children:"*"})]}),(0,l.jsx)(jE,{value:e,onChange:a=>f(a.target.value),placeholder:"Explain why the payment proof is being rejected...",className:"min-h-[120px] border-[#D1D5DB] rounded-md"})]}),(0,l.jsx)("div",{className:"bg-[#FEF3C7] border border-[#F59E0B] rounded-lg p-3",children:(0,l.jsxs)("p",{className:"text-xs text-[#92400E]",children:[(0,l.jsx)("strong",{children:"Note:"})," The customer can resubmit a new proof of payment until the due date."]})})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-3 p-6 border-t border-[#E5E7EB]",children:[(0,l.jsx)(a2,{variant:"outline",onClick:g,className:"h-10 px-6 rounded-lg",children:"Cancel"}),(0,l.jsxs)(a2,{onClick:()=>{e.trim()?(c(e),f(""),b()):gG.error("Please provide a rejection reason")},className:"bg-[#DC2626] hover:bg-[#B91C1C] text-white h-10 px-6 rounded-lg",children:[(0,l.jsx)(jb,{className:"h-4 w-4 mr-2"}),"Reject Payment"]})]})]})})}let JS=[{id:"AC-2024-001",invoiceNo:"INV-2024-045",doId:"DO-2024-001",customerName:"Acme Construction Ltd.",customerId:"CUST-001",returnedDate:"2024-12-01",inspectionReportId:"IR-2024-001",totalCharges:315.75,status:"Pending Payment",dueDate:"2024-12-20",lastUpdated:"2024-12-10 09:30 AM",items:[{id:"1",itemName:"Steel Pipe Scaffolding - Standard (6m)",itemType:"Damaged",quantity:3,unitPrice:10.5,amount:31.5,remark:"Major dents on horizontal members"},{id:"2",itemName:"Scaffold Board - Wooden (3.9m)",itemType:"Missing",quantity:2,unitPrice:50,amount:100,remark:"Not returned"},{id:"3",itemName:"Swivel Coupler",itemType:"Cleaning",quantity:15,unitPrice:2.1,amount:31.5,remark:"Concrete residue cleaning required"},{id:"4",itemName:"Steel Tube - Heavy Duty (4m)",itemType:"Repair",quantity:4,unitPrice:5.25,amount:21,remark:"Repairable bend"}]},{id:"AC-2024-002",invoiceNo:"INV-2024-046",doId:"DO-2024-002",customerName:"BuildRight Inc.",customerId:"CUST-002",returnedDate:"2024-12-03",inspectionReportId:"IR-2024-002",totalCharges:168,status:"Pending Approval",dueDate:"2024-12-22",lastUpdated:"2024-12-10 10:15 AM",proofOfPayment:"pop-ac-2024-002.pdf",items:[{id:"1",itemName:"H-Frame Scaffolding (1.7m x 1.2m)",itemType:"Damaged",quantity:2,unitPrice:10.5,amount:21,remark:"Welding points broken"},{id:"2",itemName:"Ringlock System - Vertical (3m)",itemType:"Cleaning",quantity:70,unitPrice:2.1,amount:147}]},{id:"AC-2024-003",invoiceNo:"INV-2024-047",doId:"DO-2024-003",customerName:"Metro Builders",customerId:"CUST-003",returnedDate:"2024-12-05",inspectionReportId:"IR-2024-003",totalCharges:525.5,status:"Approved",dueDate:"2024-12-24",lastUpdated:"2024-12-08 02:45 PM",proofOfPayment:"pop-ac-2024-003.pdf",referenceId:"TXN-20241208-001",approvalDate:"2024-12-08",items:[{id:"1",itemName:"Aluminum Mobile Tower (5m)",itemType:"Missing",quantity:1,unitPrice:480,amount:480,remark:"Complete unit not returned"},{id:"2",itemName:"Steel Pipe Scaffolding - Standard (6m)",itemType:"Repair",quantity:5,unitPrice:5.25,amount:26.25},{id:"3",itemName:"Swivel Coupler",itemType:"Cleaning",quantity:9,unitPrice:2.1,amount:18.9}]},{id:"AC-2024-004",invoiceNo:"INV-2024-048",doId:"DO-2024-004",customerName:"Premium Projects",customerId:"CUST-004",returnedDate:"2024-12-07",totalCharges:94.5,status:"Rejected",dueDate:"2024-12-26",lastUpdated:"2024-12-09 11:20 AM",proofOfPayment:"pop-ac-2024-004.pdf",rejectionReason:"Payment reference number is not visible in the uploaded document. Please upload a clearer image showing the complete transaction details.",rejectionDate:"2024-12-09",items:[{id:"1",itemName:"Steel Tube - Heavy Duty (4m)",itemType:"Damaged",quantity:6,unitPrice:10.5,amount:63,remark:"Severe rust damage"},{id:"2",itemName:"Scaffold Board - Wooden (3.9m)",itemType:"Cleaning",quantity:15,unitPrice:2.1,amount:31.5,remark:"Paint removal required"}]}];function JT({onViewDetails:a}){let[b,c]=(0,m.useState)(""),[d,e]=(0,m.useState)("all"),[f,g]=(0,m.useState)(JS),[h,i]=(0,m.useState)(!1),[j,k]=(0,m.useState)(!1),[n,o]=(0,m.useState)(!1),[p,q]=(0,m.useState)(null),r=f.filter(a=>{let c=a.invoiceNo.toLowerCase().includes(b.toLowerCase())||a.doId.toLowerCase().includes(b.toLowerCase())||a.customerName.toLowerCase().includes(b.toLowerCase())||a.id.toLowerCase().includes(b.toLowerCase()),e="all"===d||a.status===d;return c&&e}),s=a=>{let b=f.find(b=>b.id===a);b&&(q(b),i(!0))};return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{children:"Additional Charges"}),(0,l.jsx)("p",{className:"text-[#374151]",children:"Manage additional charges for damaged, missing, or items requiring cleaning/repair"})]}),(0,l.jsx)(hw,{className:"border-[#E5E7EB]",children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,l.jsxs)("div",{className:"flex-1 relative",children:[(0,l.jsx)(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#9CA3AF] h-4 w-4"}),(0,l.jsx)(a3,{placeholder:"Search by Invoice, DO, Customer, or Charge ID...",value:b,onChange:a=>c(a.target.value),className:"pl-10 h-10 border-[#D1D5DB] rounded-md"})]}),(0,l.jsxs)(iE,{value:d,onValueChange:e,children:[(0,l.jsx)(iG,{className:"w-full md:w-[200px] h-10 border-[#D1D5DB] rounded-md",children:(0,l.jsx)(iF,{placeholder:"Filter by status"})}),(0,l.jsxs)(iH,{children:[(0,l.jsx)(iI,{value:"all",children:"All Statuses"}),(0,l.jsx)(iI,{value:"Pending Payment",children:"Pending Payment"}),(0,l.jsx)(iI,{value:"Pending Approval",children:"Pending Approval"}),(0,l.jsx)(iI,{value:"Approved",children:"Approved"}),(0,l.jsx)(iI,{value:"Rejected",children:"Rejected"})]})]})]})})}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsxs)(hy,{className:"text-[18px]",children:["Additional Charges List (",r.length,")"]})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"rounded-md border border-[#E5E7EB]",children:(0,l.jsxs)(ju,{children:[(0,l.jsx)(jv,{children:(0,l.jsxs)(jx,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,l.jsx)(jy,{className:"text-[#374151]",children:"Invoice No."}),(0,l.jsx)(jy,{className:"text-[#374151]",children:"DO ID"}),(0,l.jsx)(jy,{className:"text-[#374151]",children:"Customer Name"}),(0,l.jsx)(jy,{className:"text-[#374151]",children:"Total Charges"}),(0,l.jsx)(jy,{className:"text-[#374151]",children:"Status"}),(0,l.jsx)(jy,{className:"text-[#374151]",children:"Due Date"}),(0,l.jsx)(jy,{className:"text-[#374151] text-right",children:"Action"})]})}),(0,l.jsx)(jw,{children:0===r.length?(0,l.jsx)(jx,{children:(0,l.jsx)(jz,{colSpan:7,className:"text-center py-8 text-[#9CA3AF]",children:"No additional charges found"})}):r.map(b=>{let c=new Date(b.dueDate)<new Date&&("Pending Payment"===b.status||"Rejected"===b.status);return(0,l.jsxs)(jx,{className:"hover:bg-[#F9FAFB]",children:[(0,l.jsx)(jz,{className:"text-[#231F20]",children:b.invoiceNo}),(0,l.jsx)(jz,{className:"text-[#231F20]",children:b.doId}),(0,l.jsx)(jz,{className:"text-[#374151]",children:b.customerName}),(0,l.jsxs)(jz,{className:"text-[#231F20]",children:["RM",b.totalCharges.toFixed(2)]}),(0,l.jsx)(jz,{children:(0,l.jsx)(JN,{status:b.status})}),(0,l.jsx)(jz,{children:(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)("span",{className:"text-[#374151]",children:new Date(b.dueDate).toLocaleDateString()}),c&&(0,l.jsx)("span",{className:"text-xs text-[#DC2626]",children:"Overdue"})]})}),(0,l.jsx)(jz,{className:"text-right",children:(0,l.jsxs)(fp,{children:[(0,l.jsx)(fq,{asChild:!0,children:(0,l.jsx)(a2,{variant:"ghost",className:"h-8 w-8 p-0 hover:bg-[#F3F4F6]",children:(0,l.jsx)(jN,{className:"h-4 w-4 text-[#6B7280]"})})}),(0,l.jsxs)(fr,{align:"end",className:"w-48",children:[(0,l.jsxs)(fs,{onClick:()=>a(b),children:[(0,l.jsx)(gN,{className:"mr-2 h-4 w-4"}),"View Details"]}),"Pending Payment"===b.status&&(0,l.jsxs)(fs,{onClick:()=>s(b.id),children:[(0,l.jsx)(hD,{className:"mr-2 h-4 w-4"}),"Upload POP"]}),"Pending Approval"===b.status&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(fs,{onClick:()=>{var a;let c;return a=b.id,void((c=f.find(b=>b.id===a))&&(q(c),k(!0)))},children:[(0,l.jsx)(hE,{className:"mr-2 h-4 w-4 text-[#10B981]"}),"Approve"]}),(0,l.jsxs)(fs,{onClick:()=>{var a;let c;return a=b.id,void((c=f.find(b=>b.id===a))&&(q(c),o(!0)))},children:[(0,l.jsx)(jb,{className:"mr-2 h-4 w-4 text-[#DC2626]"}),"Reject"]})]}),"Rejected"===b.status&&(a=>{if("Rejected"!==a.status)return!1;let b=new Date(a.dueDate);return new Date<=b})(b)&&(0,l.jsxs)(fs,{onClick:()=>s(b.id),children:[(0,l.jsx)(hD,{className:"mr-2 h-4 w-4"}),"Re-upload POP"]})]})]})})]},b.id)})})]})})})]}),p&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(JP,{isOpen:h,onClose:()=>i(!1),onUpload:a=>{p&&(g(f.map(b=>b.id===p.id?{...b,proofOfPayment:a.name,status:"Pending Approval",lastUpdated:new Date().toLocaleString()}:b)),gG.success("Proof of payment uploaded successfully"))},chargeId:p.id}),(0,l.jsx)(JQ,{isOpen:j,onClose:()=>k(!1),onApprove:a=>{p&&(g(f.map(b=>b.id===p.id?{...b,status:"Approved",referenceId:a,approvalDate:new Date().toISOString().split("T")[0],lastUpdated:new Date().toLocaleString()}:b)),gG.success("Payment approved successfully"))},chargeId:p.id}),(0,l.jsx)(JR,{isOpen:n,onClose:()=>o(!1),onReject:a=>{p&&(g(f.map(b=>b.id===p.id?{...b,status:"Rejected",rejectionReason:a,rejectionDate:new Date().toISOString().split("T")[0],lastUpdated:new Date().toLocaleString()}:b)),gG.error("Payment rejected"))},chargeId:p.id})]})]})}function JU({charge:a,onBack:b,onUpdate:c}){let[d,e]=(0,m.useState)(a),[f,g]=(0,m.useState)(!1),[h,i]=(0,m.useState)(!1),[j,k]=(0,m.useState)(!1),n=()=>{if("Rejected"!==d.status)return!1;let a=new Date(d.dueDate);return new Date<=a},o=()=>{let a=new Date(d.dueDate);return new Date>a};return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)(a2,{variant:"ghost",onClick:b,className:"hover:bg-[#F3F4F6]",children:[(0,l.jsx)(gT,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{children:"Additional Charge Details"}),(0,l.jsx)("p",{className:"text-[#374151]",children:"View and manage additional charge information"})]})]}),(0,l.jsx)(JN,{status:d.status})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px]",children:"Charge Summary"})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-sm text-[#6B7280]",children:"Charge ID"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:d.id})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-sm text-[#6B7280]",children:"Invoice No."}),(0,l.jsx)("p",{className:"text-[#231F20]",children:d.invoiceNo})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-sm text-[#6B7280]",children:"Delivery Order (DO)"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:d.doId})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-sm text-[#6B7280]",children:"Customer Name"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:d.customerName})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-sm text-[#6B7280]",children:"Returned Date"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:new Date(d.returnedDate).toLocaleDateString()})]}),d.inspectionReportId&&(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-sm text-[#6B7280]",children:"Inspection Report ID"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:d.inspectionReportId})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-sm text-[#6B7280]",children:"Due Date"}),(0,l.jsxs)("p",{className:o()?"text-[#DC2626]":"text-[#231F20]",children:[new Date(d.dueDate).toLocaleDateString(),o()&&" (Overdue)"]})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-sm text-[#6B7280]",children:"Last Updated"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:d.lastUpdated})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("p",{className:"text-sm text-[#6B7280]",children:"Total Additional Charges"}),(0,l.jsxs)("p",{className:"text-[#F15929] text-lg",children:["RM",d.totalCharges.toFixed(2)]})]})]})})]}),"Rejected"===d.status&&d.rejectionReason&&(0,l.jsx)(hw,{className:"border-[#DC2626] bg-[#FEF2F2]",children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)(S,{className:"h-5 w-5 text-[#DC2626] mt-0.5 flex-shrink-0"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"text-sm text-[#991B1B]",children:(0,l.jsx)("strong",{children:"Rejected Reason:"})}),(0,l.jsx)("p",{className:"text-sm text-[#DC2626] mt-1",children:d.rejectionReason}),n()&&(0,l.jsxs)("p",{className:"text-xs text-[#991B1B] mt-2",children:["You can resubmit proof of payment until"," ",new Date(d.dueDate).toLocaleDateString()]})]})]})})}),"Approved"===d.status&&d.referenceId&&(0,l.jsx)(hw,{className:"border-[#10B981] bg-[#ECFDF5]",children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)(hE,{className:"h-5 w-5 text-[#10B981] mt-0.5 flex-shrink-0"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"text-sm text-[#065F46]",children:(0,l.jsx)("strong",{children:"Payment Approved"})}),(0,l.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,l.jsxs)("p",{className:"text-sm text-[#065F46]",children:["Reference ID: ",(0,l.jsx)("strong",{children:d.referenceId})]}),d.approvalDate&&(0,l.jsxs)("p",{className:"text-sm text-[#065F46]",children:["Approved on: ",new Date(d.approvalDate).toLocaleDateString()]})]})]})]})})}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px]",children:"Item Breakdown"})}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"rounded-md border border-[#E5E7EB]",children:(0,l.jsxs)(ju,{children:[(0,l.jsx)(jv,{children:(0,l.jsxs)(jx,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,l.jsx)(jy,{className:"text-[#374151]",children:"Item Name"}),(0,l.jsx)(jy,{className:"text-[#374151]",children:"Type"}),(0,l.jsx)(jy,{className:"text-[#374151]",children:"Quantity"}),(0,l.jsx)(jy,{className:"text-[#374151]",children:"Unit Price (RM)"}),(0,l.jsx)(jy,{className:"text-[#374151]",children:"Amount (RM)"}),(0,l.jsx)(jy,{className:"text-[#374151]",children:"Remark"})]})}),(0,l.jsxs)(jw,{children:[d.items.map(a=>(0,l.jsxs)(jx,{className:"hover:bg-[#F9FAFB]",children:[(0,l.jsx)(jz,{className:"text-[#231F20]",children:a.itemName}),(0,l.jsx)(jz,{children:(0,l.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs ${(a=>{switch(a){case"Missing":return"bg-[#FEE2E2] text-[#991B1B]";case"Damaged":return"bg-[#FED7AA] text-[#9A3412]";case"Repair":return"bg-[#DBEAFE] text-[#1E40AF]";case"Cleaning":return"bg-[#E0E7FF] text-[#3730A3]";default:return"bg-[#F3F4F6] text-[#374151]"}})(a.itemType)}`,children:a.itemType})}),(0,l.jsx)(jz,{className:"text-[#231F20]",children:a.quantity}),(0,l.jsx)(jz,{className:"text-[#231F20]",children:a.unitPrice.toFixed(2)}),(0,l.jsx)(jz,{className:"text-[#231F20]",children:a.amount.toFixed(2)}),(0,l.jsx)(jz,{className:"text-[#6B7280] text-sm",children:a.remark||"-"})]},a.id)),(0,l.jsxs)(jx,{className:"bg-[#FEF2F2] hover:bg-[#FEF2F2]",children:[(0,l.jsx)(jz,{colSpan:4,className:"text-right text-[#231F20]",children:(0,l.jsx)("strong",{children:"Total Additional Charges:"})}),(0,l.jsx)(jz,{colSpan:2,className:"text-[#F15929]",children:(0,l.jsxs)("strong",{children:["RM",d.totalCharges.toFixed(2)]})})]})]})]})})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{children:(0,l.jsx)(hy,{className:"text-[18px]",children:"Proof of Payment"})}),(0,l.jsx)(hA,{children:d.proofOfPayment?(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB]",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(v,{className:"h-8 w-8 text-[#F15929]"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-[#231F20]",children:d.proofOfPayment}),(0,l.jsx)("p",{className:"text-xs text-[#6B7280]",children:"Uploaded proof of payment"})]})]}),(0,l.jsxs)(a2,{variant:"outline",size:"sm",className:"h-9 px-4 rounded-lg",onClick:()=>gG.info("Download functionality would be implemented here"),children:[(0,l.jsx)(jg,{className:"h-4 w-4 mr-2"}),"Download"]})]}):(0,l.jsxs)("div",{className:"text-center py-8 border-2 border-dashed border-[#D1D5DB] rounded-lg bg-[#F9FAFB]",children:[(0,l.jsx)(hD,{className:"h-12 w-12 text-[#9CA3AF] mx-auto mb-3"}),(0,l.jsx)("p",{className:"text-sm text-[#6B7280]",children:"No proof of payment uploaded yet"})]})})]}),(0,l.jsx)(hw,{className:"border-[#E5E7EB]",children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex flex-wrap gap-3",children:["Pending Payment"===d.status&&(0,l.jsxs)(a2,{onClick:()=>g(!0),className:"bg-[#F15929] hover:bg-[#D14620] text-white h-10 px-6 rounded-lg",children:[(0,l.jsx)(hD,{className:"h-4 w-4 mr-2"}),"Upload Proof of Payment"]}),"Pending Approval"===d.status&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(a2,{onClick:()=>i(!0),className:"bg-[#10B981] hover:bg-[#059669] text-white h-10 px-6 rounded-lg",children:[(0,l.jsx)(hE,{className:"h-4 w-4 mr-2"}),"Approve Payment"]}),(0,l.jsxs)(a2,{onClick:()=>k(!0),className:"bg-[#DC2626] hover:bg-[#B91C1C] text-white h-10 px-6 rounded-lg",children:[(0,l.jsx)(jb,{className:"h-4 w-4 mr-2"}),"Reject Payment"]})]}),"Rejected"===d.status&&n()&&(0,l.jsxs)(a2,{onClick:()=>g(!0),className:"bg-[#F15929] hover:bg-[#D14620] text-white h-10 px-6 rounded-lg",children:[(0,l.jsx)(hD,{className:"h-4 w-4 mr-2"}),"Resubmit Proof of Payment"]}),"Rejected"===d.status&&!n()&&(0,l.jsx)("div",{className:"w-full p-4 bg-[#FEF3C7] border border-[#F59E0B] rounded-lg",children:(0,l.jsxs)("p",{className:"text-sm text-[#92400E]",children:[(0,l.jsx)(S,{className:"h-4 w-4 inline mr-2"}),"The due date has passed. Resubmission is no longer available."]})})]})})}),(0,l.jsx)(JP,{isOpen:f,onClose:()=>g(!1),onUpload:a=>{let b={...d,proofOfPayment:a.name,status:"Pending Approval",lastUpdated:new Date().toLocaleString()};e(b),c(b),gG.success("Proof of payment uploaded successfully")},chargeId:d.id}),(0,l.jsx)(JQ,{isOpen:h,onClose:()=>i(!1),onApprove:a=>{let b={...d,status:"Approved",referenceId:a,approvalDate:new Date().toISOString().split("T")[0],lastUpdated:new Date().toLocaleString()};e(b),c(b),gG.success("Payment approved successfully")},chargeId:d.id}),(0,l.jsx)(JR,{isOpen:j,onClose:()=>k(!1),onReject:a=>{let b={...d,status:"Rejected",rejectionReason:a,rejectionDate:new Date().toISOString().split("T")[0],lastUpdated:new Date().toLocaleString()};e(b),c(b),gG.error("Payment rejected")},chargeId:d.id})]})}function JV(){let[a,b]=(0,m.useState)("list"),[c,d]=(0,m.useState)(null);return"detail"===a&&c?(0,l.jsx)(JU,{charge:c,onBack:()=>{d(null),b("list")},onUpdate:a=>{d(a)}}):(0,l.jsx)(JT,{onViewDetails:a=>{d(a),b("detail")}})}let JW=s("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);function JX({customers:a,projects:b,selectedCustomer:c,selectedProject:d,onCustomerChange:e,onProjectChange:f}){return(0,l.jsx)(hw,{className:"border-[#E5E7EB]",children:(0,l.jsx)(hA,{className:"pt-6",children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm text-[#374151] mb-2 block",children:"Select Project"}),(0,l.jsxs)(iE,{value:d?.id,onValueChange:c=>{let d=b.find(a=>a.id===c);if(d){f(d);let b=a.find(a=>a.id===d.customerId);b&&e(b)}},children:[(0,l.jsx)(iG,{className:"w-full h-10 border-[#D1D5DB] rounded-md",children:(0,l.jsx)(iF,{placeholder:"Choose a project to view its statement of account"})}),(0,l.jsx)(iH,{children:b.map(a=>(0,l.jsx)(iI,{value:a.id,children:(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{children:a.projectName}),(0,l.jsxs)("span",{className:"text-xs text-[#6B7280]",children:[a.id,"  ",a.customerName,"  ",a.status]})]})},a.id))})]})]}),d&&c&&(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-[#F9FAFB] rounded-md border border-[#E5E7EB]",children:[(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(JW,{className:"h-5 w-5 text-[#F15929] mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-xs text-[#6B7280]",children:"Project Name"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:d.projectName}),(0,l.jsxs)("p",{className:"text-xs text-[#6B7280] mt-0.5",children:["ID: ",d.id]})]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(oa,{className:"h-5 w-5 text-[#F15929] mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-xs text-[#6B7280]",children:"Customer"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:c.name}),(0,l.jsxs)("p",{className:"text-xs text-[#6B7280] mt-0.5",children:[c.type,"  ",c.id]})]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(w,{className:"h-5 w-5 text-[#F15929] mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-xs text-[#6B7280]",children:"Project Period"}),(0,l.jsx)("p",{className:"text-[#231F20]",children:new Date(d.startDate).toLocaleDateString()}),(0,l.jsx)("p",{className:"text-xs text-[#6B7280] mt-0.5",children:d.endDate?`End: ${new Date(d.endDate).toLocaleDateString()}`:"Ongoing"})]})]}),(0,l.jsxs)("div",{className:"md:col-span-3 flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-xs text-[#6B7280]",children:"Status:"}),(0,l.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs ${"Active"===d.status?"bg-[#D1FAE5] text-[#065F46]":"Completed"===d.status?"bg-[#DBEAFE] text-[#1E40AF]":"On Hold"===d.status?"bg-[#FEF3C7] text-[#92400E]":"bg-[#FEE2E2] text-[#991B1B]"}`,children:d.status})]})]})]})})})}function JY({summary:a}){let b=a.finalBalance>0;return(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsxs)(hy,{className:"text-sm text-[#6B7280] flex items-center gap-2",children:[(0,l.jsx)(C,{className:"h-4 w-4 text-[#F15929]"}),"Total Deposit Collected"]})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("p",{className:"text-2xl text-[#231F20]",children:["RM",a.totalDepositCollected.toFixed(2)]})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsxs)(hy,{className:"text-sm text-[#6B7280] flex items-center gap-2",children:[(0,l.jsx)(x,{className:"h-4 w-4 text-[#F15929]"}),"Total Monthly Billing Issued"]})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("p",{className:"text-2xl text-[#231F20]",children:["RM",a.totalMonthlyBilling.toFixed(2)]})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsxs)(hy,{className:"text-sm text-[#6B7280] flex items-center gap-2",children:[(0,l.jsx)(S,{className:"h-4 w-4 text-[#DC2626]"}),"Total Penalty / Default Interest"]})}),(0,l.jsx)(hA,{children:(0,l.jsxs)("p",{className:"text-2xl text-[#DC2626]",children:["RM",a.totalPenalty.toFixed(2)]})})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsxs)(hy,{className:"text-sm text-[#6B7280] flex items-center gap-2",children:[(0,l.jsx)(u,{className:"h-4 w-4 text-[#F15929]"}),"Total Additional Charges"]})}),(0,l.jsxs)(hA,{children:[(0,l.jsxs)("p",{className:"text-2xl text-[#231F20]",children:["RM",a.totalAdditionalCharges.toFixed(2)]}),(0,l.jsx)("p",{className:"text-xs text-[#6B7280] mt-1",children:"Damage / Repair / Missing / Cleaning"})]})]}),(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsxs)(hy,{className:"text-sm text-[#6B7280] flex items-center gap-2",children:[(0,l.jsx)(oR,{className:"h-4 w-4 text-[#10B981]"}),"Total Paid Amount"]})}),(0,l.jsxs)(hA,{children:[(0,l.jsxs)("p",{className:"text-2xl text-[#10B981]",children:["RM",a.totalPaid.toFixed(2)]}),(0,l.jsx)("p",{className:"text-xs text-[#6B7280] mt-1",children:"All Payments Received"})]})]}),(0,l.jsxs)(hw,{className:`border-2 ${b?"border-[#DC2626] bg-[#FEF2F2]":"border-[#10B981] bg-[#F0FDF4]"}`,children:[(0,l.jsx)(hx,{className:"pb-3",children:(0,l.jsxs)(hy,{className:"text-sm text-[#6B7280] flex items-center gap-2",children:[(0,l.jsx)(jH,{className:`h-4 w-4 ${b?"text-[#DC2626]":"text-[#10B981]"}`}),"Final Balance"]})}),(0,l.jsxs)(hA,{children:[(0,l.jsxs)("p",{className:`text-2xl ${b?"text-[#DC2626]":"text-[#10B981]"}`,children:[b?"":"-","RM",Math.abs(a.finalBalance).toFixed(2)]}),(0,l.jsx)("p",{className:`text-sm mt-2 ${b?"text-[#DC2626]":"text-[#10B981]"}`,children:b?" Customer Owes":" Customer Has Credit"})]})]})]})}function JZ({type:a}){return(0,l.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs whitespace-nowrap ${(()=>{switch(a){case"Deposit":case"Deposit Payment":return"bg-[#DBEAFE] text-[#1E40AF]";case"Deposit Refund":return"bg-[#FEF3C7] text-[#92400E]";case"Monthly Bill":return"bg-[#E0E7FF] text-[#3730A3]";case"Monthly Payment":case"Additional Charge Payment":return"bg-[#D1FAE5] text-[#065F46]";case"Default Interest":return"bg-[#FEE2E2] text-[#991B1B]";case"Additional Charge":return"bg-[#FFEDD5] text-[#9A3412]";case"Credit Note":return"bg-[#F3E8FF] text-[#6B21A8]";case"Adjustment":return"bg-[#F1F5F9] text-[#475569]";default:return"bg-[#F3F4F6] text-[#374151]"}})()}`,children:a})}function J$({status:a}){return(0,l.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs ${(()=>{switch(a){case"Paid":case"Approved":return"bg-[#D1FAE5] text-[#065F46]";case"Unpaid":return"bg-[#FEE2E2] text-[#991B1B]";case"Pending Approval":return"bg-[#FEF3C7] text-[#92400E]";case"Rejected":return"bg-[#FEE2E2] text-[#DC2626]";case"Partial":return"bg-[#FFEDD5] text-[#9A3412]";default:return"bg-[#F3F4F6] text-[#374151]"}})()}`,children:a})}function J_({transactions:a,onViewDetails:b}){return(0,l.jsxs)(hw,{className:"border-[#E5E7EB]",children:[(0,l.jsxs)(hx,{className:"flex flex-row items-center justify-between",children:[(0,l.jsxs)(hy,{className:"text-[18px]",children:["Transaction Ledger (",a.length," entries)"]}),(0,l.jsxs)("div",{className:"text-xs text-[#6B7280] bg-[#F9FAFB] px-3 py-1.5 rounded-md border border-[#E5E7EB]",children:[(0,l.jsx)("strong",{children:"Formula:"})," Balance = Previous Balance + Debit - Credit"]})]}),(0,l.jsx)(hA,{children:(0,l.jsx)("div",{className:"rounded-md border border-[#E5E7EB]",children:(0,l.jsxs)(ju,{children:[(0,l.jsx)(jv,{children:(0,l.jsxs)(jx,{className:"bg-[#F9FAFB] hover:bg-[#F9FAFB]",children:[(0,l.jsx)(jy,{className:"text-[#374151]",children:"Date"}),(0,l.jsx)(jy,{className:"text-[#374151]",children:"Transaction Type"}),(0,l.jsx)(jy,{className:"text-[#374151]",children:"Description"}),(0,l.jsx)(jy,{className:"text-[#374151] text-right",children:"Debit (RM)"}),(0,l.jsx)(jy,{className:"text-[#374151] text-right",children:"Credit (RM)"}),(0,l.jsx)(jy,{className:"text-[#374151] text-right",children:"Balance (RM)"}),(0,l.jsx)(jy,{className:"text-[#374151]",children:"Status"}),(0,l.jsx)(jy,{className:"text-[#374151] text-right",children:"Action"})]})}),(0,l.jsx)(jw,{children:0===a.length?(0,l.jsx)(jx,{children:(0,l.jsx)(jz,{colSpan:8,className:"text-center py-8 text-[#9CA3AF]",children:"No transactions found for this project"})}):a.map((a,c)=>(0,l.jsxs)(jx,{className:"hover:bg-[#F9FAFB]",children:[(0,l.jsx)(jz,{className:"text-[#374151] whitespace-nowrap",children:new Date(a.date).toLocaleDateString()}),(0,l.jsx)(jz,{children:(0,l.jsx)(JZ,{type:a.type})}),(0,l.jsx)(jz,{className:"text-[#374151] max-w-xs truncate",children:a.description}),(0,l.jsx)(jz,{className:"text-right text-[#DC2626]",children:a.debit>0?a.debit.toFixed(2):"-"}),(0,l.jsx)(jz,{className:"text-right text-[#10B981]",children:a.credit>0?a.credit.toFixed(2):"-"}),(0,l.jsxs)(jz,{className:`text-right ${a.balance>0?"text-[#DC2626]":a.balance<0?"text-[#10B981]":"text-[#374151]"}`,children:[a.balance>0&&"+",a.balance.toFixed(2)]}),(0,l.jsx)(jz,{children:(0,l.jsx)(J$,{status:a.status})}),(0,l.jsx)(jz,{className:"text-right",children:(0,l.jsxs)(fp,{children:[(0,l.jsx)(fq,{asChild:!0,children:(0,l.jsx)(a2,{variant:"ghost",className:"h-8 w-8 p-0 hover:bg-[#F3F4F6]",children:(0,l.jsx)(jN,{className:"h-4 w-4 text-[#6B7280]"})})}),(0,l.jsxs)(fr,{align:"end",className:"w-48",children:[(0,l.jsxs)(fs,{onClick:()=>{b&&b(a)},children:[(0,l.jsx)(gN,{className:"mr-2 h-4 w-4"}),"View Details"]}),(0,l.jsxs)(fs,{onClick:()=>{console.log("View document for:",a.reference)},children:[(0,l.jsx)(v,{className:"mr-2 h-4 w-4"}),"View Document"]}),(0,l.jsxs)(fs,{onClick:()=>{console.log("Download document for:",a.reference)},children:[(0,l.jsx)(jg,{className:"mr-2 h-4 w-4"}),"Download Receipt"]})]})]})})]},a.id))})]})})})]})}let J0=[{id:"CUST-001",name:"Acme Construction Ltd.",type:"Company",email:"contact@acmeconstruction.com",phone:"+60 12-345 6789"},{id:"CUST-002",name:"BuildRight Inc.",type:"Company",email:"info@buildright.com",phone:"+60 12-987 6543"},{id:"CUST-003",name:"Metro Builders",type:"Company",email:"admin@metrobuilders.com",phone:"+60 11-234 5678"},{id:"CUST-004",name:"Ahmad bin Abdullah",type:"Individual",email:"ahmad.abdullah@email.com",phone:"+60 13-456 7890"}],J1=[{id:"PROJ-2024-001",projectName:"Sunway Construction Site - Tower A",customerId:"CUST-001",customerName:"Acme Construction Ltd.",startDate:"2024-01-15",endDate:"2024-12-31",status:"Active"},{id:"PROJ-2024-005",projectName:"KLCC Extension Works",customerId:"CUST-001",customerName:"Acme Construction Ltd.",startDate:"2024-06-01",status:"Active"},{id:"PROJ-2024-002",projectName:"KL Central Mall Renovation",customerId:"CUST-002",customerName:"BuildRight Inc.",startDate:"2024-03-01",status:"Active"},{id:"PROJ-2023-045",projectName:"Pavilion Exterior Works",customerId:"CUST-003",customerName:"Metro Builders",startDate:"2023-11-10",endDate:"2024-06-30",status:"Completed"},{id:"PROJ-2024-008",projectName:"Residential Renovation",customerId:"CUST-004",customerName:"Ahmad bin Abdullah",startDate:"2024-04-15",status:"Active"}],J2=a=>{let b=0;return a.map(a=>(b=b+a.debit-a.credit,{...a,balance:b}))},J3={"PROJ-2024-001":{project:J1[0],summary:{totalDepositCollected:15e3,totalMonthlyBilling:48e3,totalPenalty:720,totalAdditionalCharges:1250.5,totalPaid:52500,finalBalance:12470.5},transactions:J2([{id:"TXN-001",date:"2024-01-15",type:"Deposit",reference:"DEP-2024-001",description:"Initial deposit for scaffolding rental",debit:15e3,credit:0,status:"Unpaid"},{id:"TXN-002",date:"2024-01-20",type:"Deposit Payment",reference:"PAY-2024-001",description:"Deposit payment received",debit:0,credit:15e3,status:"Paid"},{id:"TXN-003",date:"2024-02-01",type:"Monthly Bill",reference:"INV-2024-001",description:"Monthly rental - February 2024",debit:12e3,credit:0,status:"Unpaid"},{id:"TXN-004",date:"2024-02-10",type:"Monthly Payment",reference:"PAY-2024-002",description:"Payment for INV-2024-001",debit:0,credit:12e3,status:"Paid"},{id:"TXN-005",date:"2024-03-01",type:"Monthly Bill",reference:"INV-2024-002",description:"Monthly rental - March 2024",debit:12e3,credit:0,status:"Unpaid"},{id:"TXN-006",date:"2024-03-15",type:"Monthly Payment",reference:"PAY-2024-003",description:"Payment for INV-2024-002",debit:0,credit:12e3,status:"Paid"},{id:"TXN-007",date:"2024-04-01",type:"Monthly Bill",reference:"INV-2024-003",description:"Monthly rental - April 2024",debit:12e3,credit:0,status:"Unpaid"},{id:"TXN-008",date:"2024-04-25",type:"Default Interest",reference:"INT-2024-001",description:"Late payment interest for INV-2024-003 (1.5%  RM12,000  1 month)",debit:180,credit:0,status:"Unpaid"},{id:"TXN-009",date:"2024-04-28",type:"Monthly Payment",reference:"PAY-2024-004",description:"Partial payment for INV-2024-003",debit:0,credit:8e3,status:"Paid"},{id:"TXN-010",date:"2024-05-01",type:"Monthly Bill",reference:"INV-2024-004",description:"Monthly rental - May 2024",debit:12e3,credit:0,status:"Unpaid"},{id:"TXN-011",date:"2024-05-20",type:"Additional Charge",reference:"AC-2024-001",description:"Damaged scaffolding components - inspection IR-2024-001",debit:850.5,credit:0,status:"Unpaid"},{id:"TXN-012",date:"2024-05-22",type:"Additional Charge Payment",reference:"PAY-2024-005",description:"Payment for AC-2024-001",debit:0,credit:850.5,status:"Approved"},{id:"TXN-013",date:"2024-06-01",type:"Credit Note",reference:"CN-2024-001",description:"Rebate for early return of items",debit:0,credit:500,status:"Approved"},{id:"TXN-014",date:"2024-06-10",type:"Additional Charge",reference:"AC-2024-002",description:"Missing items - DO-2024-015",debit:400,credit:0,status:"Pending Approval"},{id:"TXN-015",date:"2024-06-15",type:"Default Interest",reference:"INT-2024-002",description:"Late payment interest accumulation",debit:540,credit:0,status:"Unpaid"},{id:"TXN-016",date:"2024-07-01",type:"Monthly Payment",reference:"PAY-2024-006",description:"Bulk payment for outstanding invoices",debit:0,credit:4150,status:"Paid"}])},"PROJ-2024-005":{project:J1[1],summary:{totalDepositCollected:1e4,totalMonthlyBilling:24e3,totalPenalty:0,totalAdditionalCharges:0,totalPaid:34e3,finalBalance:-5200},transactions:J2([{id:"TXN-501",date:"2024-06-01",type:"Deposit",reference:"DEP-2024-005",description:"Initial deposit for KLCC Extension Works",debit:1e4,credit:0,status:"Unpaid"},{id:"TXN-502",date:"2024-06-05",type:"Deposit Payment",reference:"PAY-2024-501",description:"Deposit payment received",debit:0,credit:1e4,status:"Paid"},{id:"TXN-503",date:"2024-07-01",type:"Monthly Bill",reference:"INV-2024-501",description:"Monthly rental - July 2024",debit:12e3,credit:0,status:"Unpaid"},{id:"TXN-504",date:"2024-07-08",type:"Monthly Payment",reference:"PAY-2024-502",description:"Payment for INV-2024-501",debit:0,credit:12e3,status:"Paid"},{id:"TXN-505",date:"2024-08-01",type:"Monthly Bill",reference:"INV-2024-502",description:"Monthly rental - August 2024",debit:12e3,credit:0,status:"Unpaid"},{id:"TXN-506",date:"2024-08-10",type:"Monthly Payment",reference:"PAY-2024-503",description:"Payment for INV-2024-502",debit:0,credit:12e3,status:"Paid"},{id:"TXN-507",date:"2024-08-25",type:"Credit Note",reference:"CN-2024-005",description:"Project completed early - Refund for unused rental period (15 days)",debit:0,credit:3500,status:"Approved"},{id:"TXN-508",date:"2024-08-26",type:"Credit Note",reference:"CN-2024-006",description:"Goodwill credit - Customer loyalty discount",debit:0,credit:1200,status:"Approved"},{id:"TXN-509",date:"2024-08-27",type:"Credit Note",reference:"CN-2024-007",description:"Refund for returned items in excellent condition",debit:0,credit:500,status:"Approved"}])},"PROJ-2024-002":{project:J1[1],summary:{totalDepositCollected:2e4,totalMonthlyBilling:72e3,totalPenalty:0,totalAdditionalCharges:0,totalPaid:8e4,finalBalance:12e3},transactions:J2([{id:"TXN-101",date:"2024-03-01",type:"Deposit",reference:"DEP-2024-002",description:"Initial deposit",debit:2e4,credit:0,status:"Unpaid"},{id:"TXN-102",date:"2024-03-05",type:"Deposit Payment",reference:"PAY-2024-101",description:"Deposit payment received",debit:0,credit:2e4,status:"Paid"},{id:"TXN-103",date:"2024-04-01",type:"Monthly Bill",reference:"INV-2024-101",description:"Monthly rental - April 2024",debit:18e3,credit:0,status:"Unpaid"},{id:"TXN-104",date:"2024-04-08",type:"Monthly Payment",reference:"PAY-2024-102",description:"Payment for INV-2024-101",debit:0,credit:18e3,status:"Paid"},{id:"TXN-105",date:"2024-05-01",type:"Monthly Bill",reference:"INV-2024-102",description:"Monthly rental - May 2024",debit:18e3,credit:0,status:"Unpaid"},{id:"TXN-106",date:"2024-05-10",type:"Monthly Payment",reference:"PAY-2024-103",description:"Payment for INV-2024-102",debit:0,credit:18e3,status:"Paid"},{id:"TXN-107",date:"2024-06-01",type:"Monthly Bill",reference:"INV-2024-103",description:"Monthly rental - June 2024",debit:18e3,credit:0,status:"Unpaid"},{id:"TXN-108",date:"2024-06-12",type:"Monthly Payment",reference:"PAY-2024-104",description:"Payment for INV-2024-103",debit:0,credit:18e3,status:"Paid"},{id:"TXN-109",date:"2024-07-01",type:"Monthly Bill",reference:"INV-2024-104",description:"Monthly rental - July 2024",debit:18e3,credit:0,status:"Unpaid"},{id:"TXN-110",date:"2024-07-15",type:"Monthly Payment",reference:"PAY-2024-105",description:"Payment for INV-2024-104",debit:0,credit:6e3,status:"Paid"}])},"PROJ-2023-045":{project:J1[3],summary:{totalDepositCollected:25e3,totalMonthlyBilling:56e3,totalPenalty:0,totalAdditionalCharges:1500,totalPaid:57500,finalBalance:0},transactions:J2([{id:"TXN-301",date:"2023-11-10",type:"Deposit",reference:"DEP-2023-045",description:"Initial project deposit - Pavilion Exterior Works",debit:25e3,credit:0,status:"Unpaid"},{id:"TXN-302",date:"2023-11-15",type:"Deposit Payment",reference:"PAY-2023-301",description:"Deposit payment received",debit:0,credit:25e3,status:"Paid"},{id:"TXN-303",date:"2023-12-01",type:"Monthly Bill",reference:"INV-2023-301",description:"Monthly rental - December 2023",debit:14e3,credit:0,status:"Unpaid"},{id:"TXN-304",date:"2023-12-08",type:"Monthly Payment",reference:"PAY-2023-302",description:"Payment for INV-2023-301",debit:0,credit:14e3,status:"Paid"},{id:"TXN-305",date:"2024-01-01",type:"Monthly Bill",reference:"INV-2024-301",description:"Monthly rental - January 2024",debit:14e3,credit:0,status:"Unpaid"},{id:"TXN-306",date:"2024-01-10",type:"Monthly Payment",reference:"PAY-2024-301",description:"Payment for INV-2024-301",debit:0,credit:14e3,status:"Paid"},{id:"TXN-307",date:"2024-02-01",type:"Monthly Bill",reference:"INV-2024-302",description:"Monthly rental - February 2024",debit:14e3,credit:0,status:"Unpaid"},{id:"TXN-308",date:"2024-02-12",type:"Monthly Payment",reference:"PAY-2024-302",description:"Payment for INV-2024-302",debit:0,credit:14e3,status:"Paid"},{id:"TXN-309",date:"2024-03-01",type:"Monthly Bill",reference:"INV-2024-303",description:"Monthly rental - March 2024",debit:14e3,credit:0,status:"Unpaid"},{id:"TXN-310",date:"2024-03-15",type:"Monthly Payment",reference:"PAY-2024-303",description:"Payment for INV-2024-303",debit:0,credit:14e3,status:"Paid"},{id:"TXN-311",date:"2024-04-15",type:"Additional Charge",reference:"AC-2024-301",description:"Minor damages upon return inspection",debit:1500,credit:0,status:"Unpaid"},{id:"TXN-312",date:"2024-04-20",type:"Additional Charge Payment",reference:"PAY-2024-304",description:"Payment for AC-2024-301",debit:0,credit:1500,status:"Approved"},{id:"TXN-313",date:"2024-06-25",type:"Credit Note",reference:"CN-2024-301",description:"Project closure - Full deposit refund",debit:0,credit:25e3,status:"Approved"},{id:"TXN-314",date:"2024-06-30",type:"Deposit Payment",reference:"REF-2024-301",description:"Deposit refund processed to customer",debit:25e3,credit:0,status:"Refunded"},{id:"TXN-315",date:"2024-06-30",type:"Monthly Payment",reference:"PAY-2024-305",description:"Final settlement - Deposit offset against refund",debit:0,credit:25e3,status:"Paid"}])},"PROJ-2024-008":{project:J1[4],summary:{totalDepositCollected:8e3,totalMonthlyBilling:32e3,totalPenalty:0,totalAdditionalCharges:0,totalPaid:4e4,finalBalance:0},transactions:J2([{id:"TXN-401",date:"2024-04-15",type:"Deposit",reference:"DEP-2024-008",description:"Initial project deposit - Residential Renovation",debit:8e3,credit:0,status:"Unpaid"},{id:"TXN-402",date:"2024-04-18",type:"Deposit Payment",reference:"PAY-2024-401",description:"Deposit payment received",debit:0,credit:8e3,status:"Paid"},{id:"TXN-403",date:"2024-05-01",type:"Monthly Bill",reference:"INV-2024-401",description:"Monthly rental - May 2024",debit:8e3,credit:0,status:"Unpaid"},{id:"TXN-404",date:"2024-05-05",type:"Monthly Payment",reference:"PAY-2024-402",description:"Payment for INV-2024-401",debit:0,credit:8e3,status:"Paid"},{id:"TXN-405",date:"2024-06-01",type:"Monthly Bill",reference:"INV-2024-402",description:"Monthly rental - June 2024",debit:8e3,credit:0,status:"Unpaid"},{id:"TXN-406",date:"2024-06-08",type:"Monthly Payment",reference:"PAY-2024-403",description:"Payment for INV-2024-402",debit:0,credit:8e3,status:"Paid"},{id:"TXN-407",date:"2024-07-01",type:"Monthly Bill",reference:"INV-2024-403",description:"Monthly rental - July 2024",debit:8e3,credit:0,status:"Unpaid"},{id:"TXN-408",date:"2024-07-10",type:"Monthly Payment",reference:"PAY-2024-404",description:"Payment for INV-2024-403",debit:0,credit:8e3,status:"Paid"},{id:"TXN-409",date:"2024-08-01",type:"Monthly Bill",reference:"INV-2024-404",description:"Monthly rental - August 2024",debit:8e3,credit:0,status:"Unpaid"},{id:"TXN-410",date:"2024-08-12",type:"Monthly Payment",reference:"PAY-2024-405",description:"Payment for INV-2024-404",debit:0,credit:8e3,status:"Paid"}])}};function J4(){let[a,b]=(0,m.useState)(null),[c,d]=(0,m.useState)(null),[e,f]=(0,m.useState)(null);return(0,l.jsxs)("div",{className:"space-y-6 p-6",children:[(0,l.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{children:"Statement of Account (SOA)"}),(0,l.jsx)("p",{className:"text-[#374151]",children:"View complete financial health and transaction history for customer projects"})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)(a2,{onClick:()=>{c?gG.success("Exporting statement as PDF..."):gG.error("Please select a project first")},disabled:!c,className:"bg-[#F15929] hover:bg-[#D14721] text-white h-10 px-4 rounded-md",children:[(0,l.jsx)(Jx,{className:"mr-2 h-4 w-4"}),"Export as PDF"]}),(0,l.jsxs)(a2,{onClick:()=>{c?window.print():gG.error("Please select a project first")},disabled:!c,variant:"outline",className:"h-10 px-4 border-[#D1D5DB] rounded-md hover:bg-[#F9FAFB]",children:[(0,l.jsx)(oY,{className:"mr-2 h-4 w-4"}),"Print"]})]})]}),(0,l.jsx)(JX,{customers:J0,projects:J1,selectedCustomer:a,selectedProject:c,onCustomerChange:a=>{b(a)},onProjectChange:a=>{d(a),f(J3[a.id]||null)}}),e&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(JY,{summary:e.summary}),(0,l.jsx)("div",{className:`p-6 rounded-lg border-2 ${e.summary.finalBalance>0?"border-[#DC2626] bg-[#FEF2F2]":"border-[#10B981] bg-[#F0FDF4]"}`,children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-[#6B7280] mb-1",children:"Project Financial Status"}),(0,l.jsx)("p",{className:`text-3xl ${e.summary.finalBalance>0?"text-[#DC2626]":"text-[#10B981]"}`,children:e.summary.finalBalance>0?(0,l.jsxs)(l.Fragment,{children:[" Customer Owes: RM",e.summary.finalBalance.toFixed(2)]}):(0,l.jsxs)(l.Fragment,{children:[" Customer Has Credit: RM",Math.abs(e.summary.finalBalance).toFixed(2)]})})]}),(0,l.jsxs)("div",{className:"text-right text-sm text-[#6B7280]",children:[(0,l.jsx)("p",{children:"Formula: Total Charged - Total Paid"}),(0,l.jsxs)("p",{className:"mt-1",children:["RM",(e.summary.totalDepositCollected+e.summary.totalMonthlyBilling+e.summary.totalPenalty+e.summary.totalAdditionalCharges).toFixed(2)," ","- RM",e.summary.totalPaid.toFixed(2)," = RM",e.summary.finalBalance.toFixed(2)]})]})]})}),(0,l.jsx)(J_,{transactions:e.transactions,onViewDetails:a=>{console.log("View transaction details:",a)}})]}),!c&&(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,l.jsx)("div",{className:"w-20 h-20 bg-[#F9FAFB] rounded-full flex items-center justify-center mb-4",children:(0,l.jsx)(v,{className:"h-10 w-10 text-[#9CA3AF]"})}),(0,l.jsx)("h3",{className:"text-[#231F20] mb-2",children:"No Project Selected"}),(0,l.jsx)("p",{className:"text-[#6B7280] max-w-md",children:"Please select a project from the dropdown above to view its complete statement of account and transaction history. The customer will be automatically identified."})]})]})}function J5(){let{data:a,status:b}=(0,n.useSession)(),[c,d]=(0,m.useState)("portal-selector"),[e,f]=(0,m.useState)(""),[g,h]=(0,m.useState)("billing-dashboard"),[i,j]=(0,m.useState)(!0),[k,o]=(0,m.useState)("ERP"),[p,q]=(0,m.useState)(!1),[r,s]=(0,m.useState)("");(0,m.useEffect)(()=>{if("authenticated"===b&&a?.user){let b=(a.user.roles||[])[0]||"admin";f(b),"customer"===b?(o("CRM"),h("customer-portal")):(o("ERP"),h("billing-dashboard")),d("dashboard")}},[b,a]);let T=()=>{d("portal-selector")},U=async()=>{await (0,n.signOut)({redirect:!1}),f(""),o("ERP"),h("billing-dashboard"),d("portal-selector"),q(!1)};if("loading"===b)return(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#F15929] via-[#F15929] to-[#D14820]",children:(0,l.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,l.jsx)("div",{className:"w-12 h-12 border-4 border-white border-t-transparent rounded-full animate-spin"}),(0,l.jsx)("p",{className:"text-white text-lg",children:"Loading..."})]})});if("unauthenticated"===b&&"portal-selector"===c)return(0,l.jsx)(gS,{onLogin:a=>{f(a),"customer"===a?(o("CRM"),h("customer-portal")):(o("ERP"),h("billing-dashboard")),d("dashboard")},onNavigateToRegister:()=>d("register-select"),onNavigateToForgotPassword:()=>d("forgot-password-email")});if("staff-login"===c)return(0,l.jsx)(hc,{onLogin:a=>{f(a),o("ERP"),h("billing-dashboard"),d("dashboard")},onNavigateToRegister:()=>d("register-select"),onBack:()=>d("portal-selector")});if("customer-login"===c)return(0,l.jsx)(hd,{onLogin:()=>{f("customer"),o("CRM"),h("customer-portal"),d("dashboard")},onNavigateToRegister:()=>d("register-customer"),onBack:()=>d("portal-selector")});if("register-select"===c)return(0,l.jsx)(he,{onSelectType:a=>{"internal"===a?d("register-internal"):"customer"===a?d("register-customer"):d("register-vendor")},onBackToLogin:()=>d("portal-selector")});if("register-internal"===c)return(0,l.jsx)(hB,{onBack:()=>d("register-select"),onComplete:T});if("register-customer"===c)return(0,l.jsx)(hH,{onBack:()=>d("portal-selector"),onComplete:T});if("register-vendor"===c)return(0,l.jsx)(iL,{onBack:()=>d("register-select"),onComplete:T});if("forgot-password-email"===c)return(0,l.jsx)(i9,{onBack:()=>d("portal-selector"),onContinue:a=>{s(a),d("forgot-password-code")}});if("forgot-password-code"===c)return(0,l.jsx)(ja,{email:r,onBack:()=>d("forgot-password-email"),onContinue:()=>d("forgot-password-new"),onChangEmail:()=>d("forgot-password-email")});if("forgot-password-new"===c)return(0,l.jsx)(jd,{onBack:()=>d("forgot-password-code"),onSuccess:()=>d("forgot-password-success")});if("forgot-password-success"===c)return(0,l.jsx)(je,{onReturnToLogin:()=>d("portal-selector")});let V=(()=>{if("CRM"===k||"customer"===e)return[{section:"Shopping",items:[{id:"customer-portal",label:"Marketplace",icon:G}]},{section:"My Orders",items:[{id:"billing-dashboard",label:"Order History",icon:v}]},{section:"Information",items:[{id:"customer-content-view",label:"Information Center",icon:K}]}];let a=[{section:"Inventory Management",items:[{id:"scaffolding-management",label:"Scaffolding Items",icon:F},{id:"inspection-maintenance",label:"Inspection & Maintenance",icon:M}]},{section:"Sales & Orders",items:[{id:"rfq-management",label:"RFQ & Quotations",icon:L},{id:"rental-agreement",label:"Rental Agreement",icon:P},{id:"delivery-return-requests",label:"Delivery & Return Requests",icon:R},{id:"delivery-management",label:"Delivery Management",icon:H},{id:"return-management",label:"Return Management",icon:N},{id:"project-closure",label:"Project Closure",icon:Q}]},{section:"Billing & Payments",items:[{id:"billing-dashboard",label:"Dashboard",icon:u},{id:"manage-deposits",label:"Manage Deposits",icon:C},{id:"monthly-rental",label:"Monthly Rental",icon:w},{id:"credit-notes",label:"Credit Notes",icon:x},{id:"refund-management",label:"Refunds",icon:y},{id:"additional-charges",label:"Additional Charges",icon:S},{id:"statement-of-account",label:"Statement of Account",icon:v}]},{section:"Reports",items:[{id:"report-generation",label:"Report Generation",icon:O},{id:"report-financial",label:"Financial Reports",icon:z}]}];return"admin"===e||"super_user"===e?[{section:"User Management",items:[{id:"user-management",label:"Users List",icon:t}]},{section:"Content Management",items:[{id:"content-management",label:"Manage Content",icon:J}]},...a]:a})(),W=()=>{switch(e){case"super_user":return"Super Admin";case"admin":return"Admin";case"sales":return"Sales";case"finance":return"Finance";case"production":return"Production";case"operations":return"Operations";case"vendor":return"Vendor";case"customer":return"Customer";default:return"User"}};return(0,l.jsxs)("div",{className:"min-h-screen bg-[#FFFFFF]",children:[(0,l.jsx)(gL,{}),(0,l.jsx)("header",{className:"fixed top-0 left-0 right-0 h-16 bg-white border-b border-[#E5E7EB] z-50",children:(0,l.jsxs)("div",{className:"h-full px-6 flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(a2,{variant:"ghost",size:"icon",className:"h-10 w-10",onClick:()=>j(!i),children:i?(0,l.jsx)(D,{className:"h-5 w-5"}):(0,l.jsx)(B,{className:"h-5 w-5"})}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${"CRM"===k?"bg-[#059669]":"bg-[#F15929]"}`,children:"CRM"===k?(0,l.jsx)(G,{className:"h-5 w-5 text-white"}):(0,l.jsx)(u,{className:"h-5 w-5 text-white"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-[#231F20]",children:"Power Metal & Steel"}),(0,l.jsx)("p",{className:"text-[10px] text-[#6B7280]",children:"ERP"===k?"Staff Portal":"Customer Portal"})]})]})]}),(0,l.jsx)("div",{className:"hidden md:block flex-1 max-w-[400px] mx-auto",children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[#6B7280]"}),(0,l.jsx)(a3,{placeholder:"Search...",className:"pl-10 h-10 bg-[#F3F4F6] border-[#E5E7EB] rounded-lg"})]})}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(oT,{}),(0,l.jsxs)(fp,{children:[(0,l.jsx)(fq,{asChild:!0,children:(0,l.jsxs)(a2,{variant:"ghost",className:"flex items-center gap-2 h-10",children:[(0,l.jsx)(bm,{className:"h-8 w-8",children:(0,l.jsx)(bn,{className:"CRM"===k?"bg-[#059669] text-white":"bg-[#F15929] text-white",children:W().substring(0,2).toUpperCase()})}),(0,l.jsx)("span",{className:"hidden md:inline text-[#374151]",children:W()}),(0,l.jsx)(E,{className:"h-4 w-4 text-[#6B7280]"})]})}),(0,l.jsxs)(fr,{align:"end",className:"w-48",children:[(0,l.jsxs)(fs,{onClick:()=>h("profile"),children:[(0,l.jsx)(t,{className:"h-4 w-4 mr-2"}),"My Profile"]}),(0,l.jsx)(fs,{children:"Settings"}),(0,l.jsx)(ft,{}),(0,l.jsxs)(fs,{className:"text-[#DC2626] focus:text-[#DC2626] focus:bg-[#FEE2E2]",onClick:()=>{q(!0)},children:[(0,l.jsx)(I,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})]})]})}),(0,l.jsx)(gj,{open:p,onOpenChange:q,children:(0,l.jsxs)(gm,{children:[(0,l.jsxs)(gn,{children:[(0,l.jsx)(gp,{children:"Confirm Logout"}),(0,l.jsx)(gq,{children:"Are you sure you want to logout? You will be redirected to the login page."})]}),(0,l.jsxs)(go,{children:[(0,l.jsx)(gs,{children:"Cancel"}),(0,l.jsx)(gr,{onClick:U,className:"bg-[#DC2626] hover:bg-[#B91C1C] text-white",children:"Logout"})]})]})}),(0,l.jsx)("aside",{className:`fixed left-0 top-16 bottom-0 w-60 bg-[#F8FAFC] border-r border-[#E5E7EB] z-40 transition-transform duration-300 ${i?"translate-x-0":"-translate-x-full"}`,children:(0,l.jsx)("nav",{className:"p-4 space-y-6 overflow-y-auto h-full",children:V.map((a,b)=>(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("h3",{className:"text-[12px] text-[#6B7280] uppercase tracking-wider px-3",children:a.section}),(0,l.jsx)("div",{className:"space-y-1",children:a.items.map(a=>{let b=a.icon,c=g===a.id;return(0,l.jsxs)("button",{onClick:()=>h(a.id),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${c?"CRM"===k?"bg-[#059669] text-white":"bg-[#F15929] text-white":"text-[#374151] hover:bg-[#F3F4F6]"}`,children:[(0,l.jsx)(b,{className:"h-5 w-5"}),(0,l.jsx)("span",{className:"text-[14px]",children:a.label})]},a.id)})})]},b))})}),(0,l.jsx)("main",{className:`pt-16 transition-all duration-300 ${i?"pl-60":"pl-0"}`,children:(0,l.jsx)("div",{className:"p-8 min-h-screen",children:(()=>{switch(g){case"user-management":return(0,l.jsx)(jG,{});case"billing-dashboard":return(0,l.jsx)(jM,{onNavigateToCreditNotes:()=>h("credit-notes"),onNavigateToFinancialReports:()=>h("report-financial"),onNavigateToMonthlyRental:()=>h("monthly-rental"),onNavigateToManageDeposits:()=>h("manage-deposits"),onNavigateToRefunds:()=>h("refund-management")});case"manage-deposits":return(0,l.jsx)(Jw,{userRole:"admin"===e?"Admin":"finance"===e?"Finance":"Staff"});case"monthly-rental":return(0,l.jsx)(jT,{});case"credit-notes":return(0,l.jsx)(j9,{});case"refund-management":return(0,l.jsx)(ke,{userRole:"admin"===e?"Admin":"finance"===e?"Finance":"Staff"});case"additional-charges":return(0,l.jsx)(JV,{});case"statement-of-account":return(0,l.jsx)(J4,{});case"scaffolding-management":return(0,l.jsx)(kg,{});case"order-sales":return(0,l.jsx)(ki,{});case"delivery-returns":return(0,l.jsx)(mK,{});case"delivery-management":return(0,l.jsx)(pb,{});case"return-management":return(0,l.jsx)(pk,{});case"report-generation":return(0,l.jsx)(IP,{});case"report-financial":return(0,l.jsx)(JH,{});case"customer-portal":return(0,l.jsx)(mO,{});case"content-management":return(0,l.jsx)(np,{});case"customer-content-view":return(0,l.jsx)(n8,{});case"rfq-management":return(0,l.jsx)(oe,{});case"inspection-maintenance":return(0,l.jsx)(o7,{});case"rental-agreement":return(0,l.jsx)(Jl,{});case"project-closure":return(0,l.jsx)(JK,{});case"profile":return(0,l.jsx)(JI,{currentUserName:W(),currentUserRole:W()});case"delivery-return-requests":return(0,l.jsx)(JM,{});default:return(0,l.jsx)(jM,{})}})()})}),i&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>j(!1)})]})}function J6(){return(0,l.jsx)(J5,{})}a.s(["default",()=>J6],60350)}];

//# sourceMappingURL=_1970d14a._.js.map