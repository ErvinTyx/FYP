{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/additional-charges/AdditionalChargeStatusBadge.tsx"],"sourcesContent":["import { AdditionalChargeStatus } from \"../../types/additionalCharge\";\n\ninterface AdditionalChargeStatusBadgeProps {\n  status: AdditionalChargeStatus;\n}\n\nexport function AdditionalChargeStatusBadge({ status }: AdditionalChargeStatusBadgeProps) {\n  const statusConfig = {\n    \"Pending Payment\": {\n      bg: \"bg-[#FEF3C7]\",\n      text: \"text-[#92400E]\",\n      label: \"Pending Payment\",\n    },\n    \"Pending Approval\": {\n      bg: \"bg-[#DBEAFE]\",\n      text: \"text-[#1E40AF]\",\n      label: \"Pending Approval\",\n    },\n    \"Approved\": {\n      bg: \"bg-[#D1FAE5]\",\n      text: \"text-[#065F46]\",\n      label: \"Approved\",\n    },\n    \"Rejected\": {\n      bg: \"bg-[#FEE2E2]\",\n      text: \"text-[#991B1B]\",\n      label: \"Rejected\",\n    },\n  };\n\n  const config = statusConfig[status];\n\n  return (\n    <span\n      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs ${config.bg} ${config.text}`}\n    >\n      {config.label}\n    </span>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAMO,SAAS,4BAA4B,EAAE,MAAM,EAAoC;IACtF,MAAM,eAAe;QACnB,mBAAmB;YACjB,IAAI;YACJ,MAAM;YACN,OAAO;QACT;QACA,oBAAoB;YAClB,IAAI;YACJ,MAAM;YACN,OAAO;QACT;QACA,YAAY;YACV,IAAI;YACJ,MAAM;YACN,OAAO;QACT;QACA,YAAY;YACV,IAAI;YACJ,MAAM;YACN,OAAO;QACT;IACF;IAEA,MAAM,SAAS,YAAY,CAAC,OAAO;IAEnC,qBACE,8OAAC;QACC,WAAW,CAAC,4DAA4D,EAAE,OAAO,EAAE,CAAC,CAAC,EAAE,OAAO,IAAI,EAAE;kBAEnG,OAAO,KAAK;;;;;;AAGnB"}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/additional-charges/UploadPopModal.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { X, Upload, File } from \"lucide-react\";\nimport { Button } from \"../ui/button\";\nimport { toast } from \"sonner\";\n\ninterface UploadPopModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onUpload: (file: File) => void;\n  chargeId: string;\n}\n\nexport function UploadPopModal({ isOpen, onClose, onUpload, chargeId }: UploadPopModalProps) {\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [dragActive, setDragActive] = useState(false);\n\n  if (!isOpen) return null;\n\n  const handleDrag = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === \"dragenter\" || e.type === \"dragover\") {\n      setDragActive(true);\n    } else if (e.type === \"dragleave\") {\n      setDragActive(false);\n    }\n  };\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      const file = e.dataTransfer.files[0];\n      if (file.type.startsWith(\"image/\") || file.type === \"application/pdf\") {\n        setSelectedFile(file);\n      } else {\n        toast.error(\"Please upload an image or PDF file\");\n      }\n    }\n  };\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files && e.target.files[0]) {\n      const file = e.target.files[0];\n      if (file.type.startsWith(\"image/\") || file.type === \"application/pdf\") {\n        setSelectedFile(file);\n      } else {\n        toast.error(\"Please upload an image or PDF file\");\n      }\n    }\n  };\n\n  const handleSubmit = () => {\n    if (!selectedFile) {\n      toast.error(\"Please select a file to upload\");\n      return;\n    }\n\n    onUpload(selectedFile);\n    setSelectedFile(null);\n    onClose();\n  };\n\n  const handleClose = () => {\n    setSelectedFile(null);\n    onClose();\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg shadow-xl w-full max-w-md mx-4\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-[#E5E7EB]\">\n          <h2 className=\"text-[18px] text-[#231F20]\">Upload Proof of Payment</h2>\n          <button\n            onClick={handleClose}\n            className=\"text-[#6B7280] hover:text-[#231F20] transition-colors\"\n          >\n            <X className=\"h-5 w-5\" />\n          </button>\n        </div>\n\n        {/* Content */}\n        <div className=\"p-6 space-y-4\">\n          <p className=\"text-sm text-[#6B7280]\">\n            Upload proof of payment for Additional Charge {chargeId}\n          </p>\n\n          {/* File Upload Area */}\n          <div\n            className={`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${\n              dragActive\n                ? \"border-[#F15929] bg-[#FEF2F2]\"\n                : \"border-[#D1D5DB] bg-[#F9FAFB]\"\n            }`}\n            onDragEnter={handleDrag}\n            onDragLeave={handleDrag}\n            onDragOver={handleDrag}\n            onDrop={handleDrop}\n          >\n            {selectedFile ? (\n              <div className=\"flex items-center justify-center gap-3\">\n                <File className=\"h-8 w-8 text-[#F15929]\" />\n                <div className=\"text-left\">\n                  <p className=\"text-sm text-[#231F20]\">{selectedFile.name}</p>\n                  <p className=\"text-xs text-[#6B7280]\">\n                    {(selectedFile.size / 1024).toFixed(2)} KB\n                  </p>\n                </div>\n              </div>\n            ) : (\n              <>\n                <Upload className=\"h-12 w-12 text-[#9CA3AF] mx-auto mb-4\" />\n                <p className=\"text-sm text-[#231F20] mb-2\">\n                  Drag and drop your file here, or click to browse\n                </p>\n                <p className=\"text-xs text-[#6B7280]\">\n                  Supported formats: JPG, PNG, PDF (Max 5MB)\n                </p>\n              </>\n            )}\n            <input\n              type=\"file\"\n              onChange={handleFileChange}\n              accept=\"image/*,.pdf\"\n              className=\"hidden\"\n              id=\"file-upload\"\n            />\n            <label\n              htmlFor=\"file-upload\"\n              className=\"mt-4 inline-block cursor-pointer text-sm text-[#F15929] hover:text-[#D14620]\"\n            >\n              Browse Files\n            </label>\n          </div>\n\n          <div className=\"bg-[#FEF3C7] border border-[#F59E0B] rounded-lg p-3\">\n            <p className=\"text-xs text-[#92400E]\">\n              <strong>Note:</strong> POP is required before submitting for approval. Ensure the\n              payment reference is clearly visible.\n            </p>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"flex justify-end gap-3 p-6 border-t border-[#E5E7EB]\">\n          <Button\n            variant=\"outline\"\n            onClick={handleClose}\n            className=\"h-10 px-6 rounded-lg\"\n          >\n            Cancel\n          </Button>\n          <Button\n            onClick={handleSubmit}\n            disabled={!selectedFile}\n            className=\"bg-[#F15929] hover:bg-[#D14620] text-white h-10 px-6 rounded-lg\"\n          >\n            Submit Proof of Payment\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AAAA;AACA;AACA;;;;;;AASO,SAAS,eAAe,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAuB;IACzF,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAc;IAC9D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,aAAa,CAAC;QAClB,EAAE,cAAc;QAChB,EAAE,eAAe;QACjB,IAAI,EAAE,IAAI,KAAK,eAAe,EAAE,IAAI,KAAK,YAAY;YACnD,cAAc;QAChB,OAAO,IAAI,EAAE,IAAI,KAAK,aAAa;YACjC,cAAc;QAChB;IACF;IAEA,MAAM,aAAa,CAAC;QAClB,EAAE,cAAc;QAChB,EAAE,eAAe;QACjB,cAAc;QAEd,IAAI,EAAE,YAAY,CAAC,KAAK,IAAI,EAAE,YAAY,CAAC,KAAK,CAAC,EAAE,EAAE;YACnD,MAAM,OAAO,EAAE,YAAY,CAAC,KAAK,CAAC,EAAE;YACpC,IAAI,KAAK,IAAI,CAAC,UAAU,CAAC,aAAa,KAAK,IAAI,KAAK,mBAAmB;gBACrE,gBAAgB;YAClB,OAAO;gBACL,iJAAK,CAAC,KAAK,CAAC;YACd;QACF;IACF;IAEA,MAAM,mBAAmB,CAAC;QACxB,IAAI,EAAE,MAAM,CAAC,KAAK,IAAI,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE;YACvC,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;YAC9B,IAAI,KAAK,IAAI,CAAC,UAAU,CAAC,aAAa,KAAK,IAAI,KAAK,mBAAmB;gBACrE,gBAAgB;YAClB,OAAO;gBACL,iJAAK,CAAC,KAAK,CAAC;YACd;QACF;IACF;IAEA,MAAM,eAAe;QACnB,IAAI,CAAC,cAAc;YACjB,iJAAK,CAAC,KAAK,CAAC;YACZ;QACF;QAEA,SAAS;QACT,gBAAgB;QAChB;IACF;IAEA,MAAM,cAAc;QAClB,gBAAgB;QAChB;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAA6B;;;;;;sCAC3C,8OAAC;4BACC,SAAS;4BACT,WAAU;sCAEV,cAAA,8OAAC,iMAAC;gCAAC,WAAU;;;;;;;;;;;;;;;;;8BAKjB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAE,WAAU;;gCAAyB;gCACW;;;;;;;sCAIjD,8OAAC;4BACC,WAAW,CAAC,oEAAoE,EAC9E,aACI,kCACA,iCACJ;4BACF,aAAa;4BACb,aAAa;4BACb,YAAY;4BACZ,QAAQ;;gCAEP,6BACC,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,0MAAI;4CAAC,WAAU;;;;;;sDAChB,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAE,WAAU;8DAA0B,aAAa,IAAI;;;;;;8DACxD,8OAAC;oDAAE,WAAU;;wDACV,CAAC,aAAa,IAAI,GAAG,IAAI,EAAE,OAAO,CAAC;wDAAG;;;;;;;;;;;;;;;;;;yDAK7C;;sDACE,8OAAC,gNAAM;4CAAC,WAAU;;;;;;sDAClB,8OAAC;4CAAE,WAAU;sDAA8B;;;;;;sDAG3C,8OAAC;4CAAE,WAAU;sDAAyB;;;;;;;;8CAK1C,8OAAC;oCACC,MAAK;oCACL,UAAU;oCACV,QAAO;oCACP,WAAU;oCACV,IAAG;;;;;;8CAEL,8OAAC;oCACC,SAAQ;oCACR,WAAU;8CACX;;;;;;;;;;;;sCAKH,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAE,WAAU;;kDACX,8OAAC;kDAAO;;;;;;oCAAc;;;;;;;;;;;;;;;;;;8BAO5B,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,4IAAM;4BACL,SAAQ;4BACR,SAAS;4BACT,WAAU;sCACX;;;;;;sCAGD,8OAAC,4IAAM;4BACL,SAAS;4BACT,UAAU,CAAC;4BACX,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAOX"}},
    {"offset": {"line": 341, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/additional-charges/ApproveModal.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { X, CheckCircle } from \"lucide-react\";\nimport { Button } from \"../ui/button\";\nimport { Input } from \"../ui/input\";\nimport { toast } from \"sonner\";\n\ninterface ApproveModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onApprove: (referenceId: string) => void;\n  chargeId: string;\n}\n\nexport function ApproveModal({ isOpen, onClose, onApprove, chargeId }: ApproveModalProps) {\n  const [referenceId, setReferenceId] = useState(\"\");\n\n  if (!isOpen) return null;\n\n  const handleApprove = () => {\n    if (!referenceId.trim()) {\n      toast.error(\"Please enter a reference/transaction ID\");\n      return;\n    }\n\n    onApprove(referenceId);\n    setReferenceId(\"\");\n    onClose();\n  };\n\n  const handleClose = () => {\n    setReferenceId(\"\");\n    onClose();\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg shadow-xl w-full max-w-md mx-4\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-[#E5E7EB]\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"h-10 w-10 rounded-full bg-[#D1FAE5] flex items-center justify-center\">\n              <CheckCircle className=\"h-5 w-5 text-[#065F46]\" />\n            </div>\n            <h2 className=\"text-[18px] text-[#231F20]\">Approve Payment</h2>\n          </div>\n          <button\n            onClick={handleClose}\n            className=\"text-[#6B7280] hover:text-[#231F20] transition-colors\"\n          >\n            <X className=\"h-5 w-5\" />\n          </button>\n        </div>\n\n        {/* Content */}\n        <div className=\"p-6 space-y-4\">\n          <p className=\"text-sm text-[#6B7280]\">\n            You are about to approve Additional Charge <strong>{chargeId}</strong>. Please enter\n            the reference/transaction ID for record purposes.\n          </p>\n\n          <div className=\"space-y-2\">\n            <label className=\"text-[14px] text-[#374151]\">\n              Reference ID / Transaction ID <span className=\"text-[#DC2626]\">*</span>\n            </label>\n            <Input\n              type=\"text\"\n              value={referenceId}\n              onChange={(e) => setReferenceId(e.target.value)}\n              placeholder=\"e.g., TXN-20241210-001\"\n              className=\"h-10 border-[#D1D5DB] rounded-md\"\n            />\n          </div>\n\n          <div className=\"bg-[#D1FAE5] border border-[#10B981] rounded-lg p-3\">\n            <p className=\"text-xs text-[#065F46]\">\n              <strong>Confirmation:</strong> Once approved, this action cannot be undone. The\n              payment will be marked as completed.\n            </p>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"flex justify-end gap-3 p-6 border-t border-[#E5E7EB]\">\n          <Button\n            variant=\"outline\"\n            onClick={handleClose}\n            className=\"h-10 px-6 rounded-lg\"\n          >\n            Cancel\n          </Button>\n          <Button\n            onClick={handleApprove}\n            className=\"bg-[#10B981] hover:bg-[#059669] text-white h-10 px-6 rounded-lg\"\n          >\n            <CheckCircle className=\"h-4 w-4 mr-2\" />\n            Approve Payment\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AACA;AACA;AACA;;;;;;;AASO,SAAS,aAAa,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAqB;IACtF,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,gBAAgB;QACpB,IAAI,CAAC,YAAY,IAAI,IAAI;YACvB,iJAAK,CAAC,KAAK,CAAC;YACZ;QACF;QAEA,UAAU;QACV,eAAe;QACf;IACF;IAEA,MAAM,cAAc;QAClB,eAAe;QACf;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC,0OAAW;wCAAC,WAAU;;;;;;;;;;;8CAEzB,8OAAC;oCAAG,WAAU;8CAA6B;;;;;;;;;;;;sCAE7C,8OAAC;4BACC,SAAS;4BACT,WAAU;sCAEV,cAAA,8OAAC,iMAAC;gCAAC,WAAU;;;;;;;;;;;;;;;;;8BAKjB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAE,WAAU;;gCAAyB;8CACO,8OAAC;8CAAQ;;;;;;gCAAkB;;;;;;;sCAIxE,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAM,WAAU;;wCAA6B;sDACd,8OAAC;4CAAK,WAAU;sDAAiB;;;;;;;;;;;;8CAEjE,8OAAC,0IAAK;oCACJ,MAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;oCAC9C,aAAY;oCACZ,WAAU;;;;;;;;;;;;sCAId,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAE,WAAU;;kDACX,8OAAC;kDAAO;;;;;;oCAAsB;;;;;;;;;;;;;;;;;;8BAOpC,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,4IAAM;4BACL,SAAQ;4BACR,SAAS;4BACT,WAAU;sCACX;;;;;;sCAGD,8OAAC,4IAAM;4BACL,SAAS;4BACT,WAAU;;8CAEV,8OAAC,0OAAW;oCAAC,WAAU;;;;;;gCAAiB;;;;;;;;;;;;;;;;;;;;;;;;AAOpD"}},
    {"offset": {"line": 576, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/additional-charges/RejectModal.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { X, XCircle } from \"lucide-react\";\nimport { Button } from \"../ui/button\";\nimport { Textarea } from \"../ui/textarea\";\nimport { toast } from \"sonner\";\n\ninterface RejectModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onReject: (reason: string) => void;\n  chargeId: string;\n}\n\nexport function RejectModal({ isOpen, onClose, onReject, chargeId }: RejectModalProps) {\n  const [reason, setReason] = useState(\"\");\n\n  if (!isOpen) return null;\n\n  const handleReject = () => {\n    if (!reason.trim()) {\n      toast.error(\"Please provide a rejection reason\");\n      return;\n    }\n\n    onReject(reason);\n    setReason(\"\");\n    onClose();\n  };\n\n  const handleClose = () => {\n    setReason(\"\");\n    onClose();\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg shadow-xl w-full max-w-md mx-4\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-[#E5E7EB]\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"h-10 w-10 rounded-full bg-[#FEE2E2] flex items-center justify-center\">\n              <XCircle className=\"h-5 w-5 text-[#991B1B]\" />\n            </div>\n            <h2 className=\"text-[18px] text-[#231F20]\">Reject Payment</h2>\n          </div>\n          <button\n            onClick={handleClose}\n            className=\"text-[#6B7280] hover:text-[#231F20] transition-colors\"\n          >\n            <X className=\"h-5 w-5\" />\n          </button>\n        </div>\n\n        {/* Content */}\n        <div className=\"p-6 space-y-4\">\n          <p className=\"text-sm text-[#6B7280]\">\n            You are about to reject Additional Charge <strong>{chargeId}</strong>. Please provide\n            a clear reason for rejection.\n          </p>\n\n          <div className=\"space-y-2\">\n            <label className=\"text-[14px] text-[#374151]\">\n              Rejection Reason <span className=\"text-[#DC2626]\">*</span>\n            </label>\n            <Textarea\n              value={reason}\n              onChange={(e) => setReason(e.target.value)}\n              placeholder=\"Explain why the payment proof is being rejected...\"\n              className=\"min-h-[120px] border-[#D1D5DB] rounded-md\"\n            />\n          </div>\n\n          <div className=\"bg-[#FEF3C7] border border-[#F59E0B] rounded-lg p-3\">\n            <p className=\"text-xs text-[#92400E]\">\n              <strong>Note:</strong> The customer can resubmit a new proof of payment until the\n              due date.\n            </p>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"flex justify-end gap-3 p-6 border-t border-[#E5E7EB]\">\n          <Button\n            variant=\"outline\"\n            onClick={handleClose}\n            className=\"h-10 px-6 rounded-lg\"\n          >\n            Cancel\n          </Button>\n          <Button\n            onClick={handleReject}\n            className=\"bg-[#DC2626] hover:bg-[#B91C1C] text-white h-10 px-6 rounded-lg\"\n          >\n            <XCircle className=\"h-4 w-4 mr-2\" />\n            Reject Payment\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AACA;AACA;AACA;;;;;;;AASO,SAAS,YAAY,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAoB;IACnF,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IAErC,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,eAAe;QACnB,IAAI,CAAC,OAAO,IAAI,IAAI;YAClB,iJAAK,CAAC,KAAK,CAAC;YACZ;QACF;QAEA,SAAS;QACT,UAAU;QACV;IACF;IAEA,MAAM,cAAc;QAClB,UAAU;QACV;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC,uNAAO;wCAAC,WAAU;;;;;;;;;;;8CAErB,8OAAC;oCAAG,WAAU;8CAA6B;;;;;;;;;;;;sCAE7C,8OAAC;4BACC,SAAS;4BACT,WAAU;sCAEV,cAAA,8OAAC,iMAAC;gCAAC,WAAU;;;;;;;;;;;;;;;;;8BAKjB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAE,WAAU;;gCAAyB;8CACM,8OAAC;8CAAQ;;;;;;gCAAkB;;;;;;;sCAIvE,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAM,WAAU;;wCAA6B;sDAC3B,8OAAC;4CAAK,WAAU;sDAAiB;;;;;;;;;;;;8CAEpD,8OAAC,gJAAQ;oCACP,OAAO;oCACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;oCACzC,aAAY;oCACZ,WAAU;;;;;;;;;;;;sCAId,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAE,WAAU;;kDACX,8OAAC;kDAAO;;;;;;oCAAc;;;;;;;;;;;;;;;;;;8BAO5B,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,4IAAM;4BACL,SAAQ;4BACR,SAAS;4BACT,WAAU;sCACX;;;;;;sCAGD,8OAAC,4IAAM;4BACL,SAAS;4BACT,WAAU;;8CAEV,8OAAC,uNAAO;oCAAC,WAAU;;;;;;gCAAiB;;;;;;;;;;;;;;;;;;;;;;;;AAOhD"}},
    {"offset": {"line": 810, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/additional-charges/AdditionalChargesList.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { Search, Eye, Upload, CheckCircle, XCircle, MoreVertical } from \"lucide-react\";\nimport { Button } from \"../ui/button\";\nimport { Input } from \"../ui/input\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"../ui/card\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"../ui/table\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"../ui/select\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"../ui/dropdown-menu\";\nimport { AdditionalChargeStatusBadge } from \"./AdditionalChargeStatusBadge\";\nimport { UploadPopModal } from \"./UploadPopModal\";\nimport { ApproveModal } from \"./ApproveModal\";\nimport { RejectModal } from \"./RejectModal\";\nimport { AdditionalCharge } from \"../../types/additionalCharge\";\nimport { toast } from \"sonner\";\n\ninterface AdditionalChargesListProps {\n  onViewDetails: (charge: AdditionalCharge) => void;\n}\n\n// Mock data\nconst mockCharges: AdditionalCharge[] = [\n  {\n    id: \"AC-2024-001\",\n    invoiceNo: \"INV-2024-045\",\n    doId: \"DO-2024-001\",\n    customerName: \"Acme Construction Ltd.\",\n    customerId: \"CUST-001\",\n    returnedDate: \"2024-12-01\",\n    inspectionReportId: \"IR-2024-001\",\n    totalCharges: 315.75,\n    status: \"Pending Payment\",\n    dueDate: \"2024-12-20\",\n    lastUpdated: \"2024-12-10 09:30 AM\",\n    items: [\n      {\n        id: \"1\",\n        itemName: \"Steel Pipe Scaffolding - Standard (6m)\",\n        itemType: \"Damaged\",\n        quantity: 3,\n        unitPrice: 10.50,\n        amount: 31.50,\n        remark: \"Major dents on horizontal members\",\n      },\n      {\n        id: \"2\",\n        itemName: \"Scaffold Board - Wooden (3.9m)\",\n        itemType: \"Missing\",\n        quantity: 2,\n        unitPrice: 50.00,\n        amount: 100.00,\n        remark: \"Not returned\",\n      },\n      {\n        id: \"3\",\n        itemName: \"Swivel Coupler\",\n        itemType: \"Cleaning\",\n        quantity: 15,\n        unitPrice: 2.10,\n        amount: 31.50,\n        remark: \"Concrete residue cleaning required\",\n      },\n      {\n        id: \"4\",\n        itemName: \"Steel Tube - Heavy Duty (4m)\",\n        itemType: \"Repair\",\n        quantity: 4,\n        unitPrice: 5.25,\n        amount: 21.00,\n        remark: \"Repairable bend\",\n      },\n    ],\n  },\n  {\n    id: \"AC-2024-002\",\n    invoiceNo: \"INV-2024-046\",\n    doId: \"DO-2024-002\",\n    customerName: \"BuildRight Inc.\",\n    customerId: \"CUST-002\",\n    returnedDate: \"2024-12-03\",\n    inspectionReportId: \"IR-2024-002\",\n    totalCharges: 168.00,\n    status: \"Pending Approval\",\n    dueDate: \"2024-12-22\",\n    lastUpdated: \"2024-12-10 10:15 AM\",\n    proofOfPayment: \"pop-ac-2024-002.pdf\",\n    items: [\n      {\n        id: \"1\",\n        itemName: \"H-Frame Scaffolding (1.7m x 1.2m)\",\n        itemType: \"Damaged\",\n        quantity: 2,\n        unitPrice: 10.50,\n        amount: 21.00,\n        remark: \"Welding points broken\",\n      },\n      {\n        id: \"2\",\n        itemName: \"Ringlock System - Vertical (3m)\",\n        itemType: \"Cleaning\",\n        quantity: 70,\n        unitPrice: 2.10,\n        amount: 147.00,\n      },\n    ],\n  },\n  {\n    id: \"AC-2024-003\",\n    invoiceNo: \"INV-2024-047\",\n    doId: \"DO-2024-003\",\n    customerName: \"Metro Builders\",\n    customerId: \"CUST-003\",\n    returnedDate: \"2024-12-05\",\n    inspectionReportId: \"IR-2024-003\",\n    totalCharges: 525.50,\n    status: \"Approved\",\n    dueDate: \"2024-12-24\",\n    lastUpdated: \"2024-12-08 02:45 PM\",\n    proofOfPayment: \"pop-ac-2024-003.pdf\",\n    referenceId: \"TXN-20241208-001\",\n    approvalDate: \"2024-12-08\",\n    items: [\n      {\n        id: \"1\",\n        itemName: \"Aluminum Mobile Tower (5m)\",\n        itemType: \"Missing\",\n        quantity: 1,\n        unitPrice: 480.00,\n        amount: 480.00,\n        remark: \"Complete unit not returned\",\n      },\n      {\n        id: \"2\",\n        itemName: \"Steel Pipe Scaffolding - Standard (6m)\",\n        itemType: \"Repair\",\n        quantity: 5,\n        unitPrice: 5.25,\n        amount: 26.25,\n      },\n      {\n        id: \"3\",\n        itemName: \"Swivel Coupler\",\n        itemType: \"Cleaning\",\n        quantity: 9,\n        unitPrice: 2.10,\n        amount: 18.90,\n      },\n    ],\n  },\n  {\n    id: \"AC-2024-004\",\n    invoiceNo: \"INV-2024-048\",\n    doId: \"DO-2024-004\",\n    customerName: \"Premium Projects\",\n    customerId: \"CUST-004\",\n    returnedDate: \"2024-12-07\",\n    totalCharges: 94.50,\n    status: \"Rejected\",\n    dueDate: \"2024-12-26\",\n    lastUpdated: \"2024-12-09 11:20 AM\",\n    proofOfPayment: \"pop-ac-2024-004.pdf\",\n    rejectionReason: \"Payment reference number is not visible in the uploaded document. Please upload a clearer image showing the complete transaction details.\",\n    rejectionDate: \"2024-12-09\",\n    items: [\n      {\n        id: \"1\",\n        itemName: \"Steel Tube - Heavy Duty (4m)\",\n        itemType: \"Damaged\",\n        quantity: 6,\n        unitPrice: 10.50,\n        amount: 63.00,\n        remark: \"Severe rust damage\",\n      },\n      {\n        id: \"2\",\n        itemName: \"Scaffold Board - Wooden (3.9m)\",\n        itemType: \"Cleaning\",\n        quantity: 15,\n        unitPrice: 2.10,\n        amount: 31.50,\n        remark: \"Paint removal required\",\n      },\n    ],\n  },\n];\n\nexport function AdditionalChargesList({ onViewDetails }: AdditionalChargesListProps) {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\n  const [charges, setCharges] = useState<AdditionalCharge[]>(mockCharges);\n  const [uploadModalOpen, setUploadModalOpen] = useState(false);\n  const [approveModalOpen, setApproveModalOpen] = useState(false);\n  const [rejectModalOpen, setRejectModalOpen] = useState(false);\n  const [selectedCharge, setSelectedCharge] = useState<AdditionalCharge | null>(null);\n\n  const filteredCharges = charges.filter((charge) => {\n    const matchesSearch =\n      charge.invoiceNo.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      charge.doId.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      charge.customerName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      charge.id.toLowerCase().includes(searchTerm.toLowerCase());\n\n    const matchesStatus = statusFilter === \"all\" || charge.status === statusFilter;\n\n    return matchesSearch && matchesStatus;\n  });\n\n  const handleUploadPop = (chargeId: string) => {\n    const charge = charges.find((c) => c.id === chargeId);\n    if (charge) {\n      setSelectedCharge(charge);\n      setUploadModalOpen(true);\n    }\n  };\n\n  const handlePopUploaded = (file: File) => {\n    if (selectedCharge) {\n      setCharges(\n        charges.map((charge) =>\n          charge.id === selectedCharge.id\n            ? {\n                ...charge,\n                proofOfPayment: file.name,\n                status: \"Pending Approval\",\n                lastUpdated: new Date().toLocaleString(),\n              }\n            : charge\n        )\n      );\n      toast.success(\"Proof of payment uploaded successfully\");\n    }\n  };\n\n  const handleApprove = (chargeId: string) => {\n    const charge = charges.find((c) => c.id === chargeId);\n    if (charge) {\n      setSelectedCharge(charge);\n      setApproveModalOpen(true);\n    }\n  };\n\n  const handleApproveConfirmed = (referenceId: string) => {\n    if (selectedCharge) {\n      setCharges(\n        charges.map((charge) =>\n          charge.id === selectedCharge.id\n            ? {\n                ...charge,\n                status: \"Approved\",\n                referenceId,\n                approvalDate: new Date().toISOString().split(\"T\")[0],\n                lastUpdated: new Date().toLocaleString(),\n              }\n            : charge\n        )\n      );\n      toast.success(\"Payment approved successfully\");\n    }\n  };\n\n  const handleReject = (chargeId: string) => {\n    const charge = charges.find((c) => c.id === chargeId);\n    if (charge) {\n      setSelectedCharge(charge);\n      setRejectModalOpen(true);\n    }\n  };\n\n  const handleRejectConfirmed = (reason: string) => {\n    if (selectedCharge) {\n      setCharges(\n        charges.map((charge) =>\n          charge.id === selectedCharge.id\n            ? {\n                ...charge,\n                status: \"Rejected\",\n                rejectionReason: reason,\n                rejectionDate: new Date().toISOString().split(\"T\")[0],\n                lastUpdated: new Date().toLocaleString(),\n              }\n            : charge\n        )\n      );\n      toast.error(\"Payment rejected\");\n    }\n  };\n\n  const canResubmit = (charge: AdditionalCharge): boolean => {\n    if (charge.status !== \"Rejected\") return false;\n    const dueDate = new Date(charge.dueDate);\n    const today = new Date();\n    return today <= dueDate;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div>\n        <h1>Additional Charges</h1>\n        <p className=\"text-[#374151]\">\n          Manage additional charges for damaged, missing, or items requiring cleaning/repair\n        </p>\n      </div>\n\n      {/* Filters */}\n      <Card className=\"border-[#E5E7EB]\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex flex-col md:flex-row gap-4\">\n            <div className=\"flex-1 relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#9CA3AF] h-4 w-4\" />\n              <Input\n                placeholder=\"Search by Invoice, DO, Customer, or Charge ID...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"pl-10 h-10 border-[#D1D5DB] rounded-md\"\n              />\n            </div>\n            <Select value={statusFilter} onValueChange={setStatusFilter}>\n              <SelectTrigger className=\"w-full md:w-[200px] h-10 border-[#D1D5DB] rounded-md\">\n                <SelectValue placeholder=\"Filter by status\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All Statuses</SelectItem>\n                <SelectItem value=\"Pending Payment\">Pending Payment</SelectItem>\n                <SelectItem value=\"Pending Approval\">Pending Approval</SelectItem>\n                <SelectItem value=\"Approved\">Approved</SelectItem>\n                <SelectItem value=\"Rejected\">Rejected</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Table */}\n      <Card className=\"border-[#E5E7EB]\">\n        <CardHeader>\n          <CardTitle className=\"text-[18px]\">\n            Additional Charges List ({filteredCharges.length})\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"rounded-md border border-[#E5E7EB]\">\n            <Table>\n              <TableHeader>\n                <TableRow className=\"bg-[#F9FAFB] hover:bg-[#F9FAFB]\">\n                  <TableHead className=\"text-[#374151]\">Invoice No.</TableHead>\n                  <TableHead className=\"text-[#374151]\">DO ID</TableHead>\n                  <TableHead className=\"text-[#374151]\">Customer Name</TableHead>\n                  <TableHead className=\"text-[#374151]\">Total Charges</TableHead>\n                  <TableHead className=\"text-[#374151]\">Status</TableHead>\n                  <TableHead className=\"text-[#374151]\">Due Date</TableHead>\n                  <TableHead className=\"text-[#374151] text-right\">Action</TableHead>\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                {filteredCharges.length === 0 ? (\n                  <TableRow>\n                    <TableCell colSpan={7} className=\"text-center py-8 text-[#9CA3AF]\">\n                      No additional charges found\n                    </TableCell>\n                  </TableRow>\n                ) : (\n                  filteredCharges.map((charge) => {\n                    const isOverdue = new Date(charge.dueDate) < new Date() && \n                                     (charge.status === \"Pending Payment\" || charge.status === \"Rejected\");\n                    \n                    return (\n                      <TableRow key={charge.id} className=\"hover:bg-[#F9FAFB]\">\n                        <TableCell className=\"text-[#231F20]\">{charge.invoiceNo}</TableCell>\n                        <TableCell className=\"text-[#231F20]\">{charge.doId}</TableCell>\n                        <TableCell className=\"text-[#374151]\">{charge.customerName}</TableCell>\n                        <TableCell className=\"text-[#231F20]\">\n                          RM{charge.totalCharges.toFixed(2)}\n                        </TableCell>\n                        <TableCell>\n                          <AdditionalChargeStatusBadge status={charge.status} />\n                        </TableCell>\n                        <TableCell>\n                          <div className=\"flex flex-col gap-1\">\n                            <span className=\"text-[#374151]\">\n                              {new Date(charge.dueDate).toLocaleDateString()}\n                            </span>\n                            {isOverdue && (\n                              <span className=\"text-xs text-[#DC2626]\">Overdue</span>\n                            )}\n                          </div>\n                        </TableCell>\n                        <TableCell className=\"text-right\">\n                          <DropdownMenu>\n                            <DropdownMenuTrigger asChild>\n                              <Button variant=\"ghost\" className=\"h-8 w-8 p-0 hover:bg-[#F3F4F6]\">\n                                <MoreVertical className=\"h-4 w-4 text-[#6B7280]\" />\n                              </Button>\n                            </DropdownMenuTrigger>\n                            <DropdownMenuContent align=\"end\" className=\"w-48\">\n                              <DropdownMenuItem onClick={() => onViewDetails(charge)}>\n                                <Eye className=\"mr-2 h-4 w-4\" />\n                                View Details\n                              </DropdownMenuItem>\n                              {charge.status === \"Pending Payment\" && (\n                                <DropdownMenuItem onClick={() => handleUploadPop(charge.id)}>\n                                  <Upload className=\"mr-2 h-4 w-4\" />\n                                  Upload POP\n                                </DropdownMenuItem>\n                              )}\n                              {charge.status === \"Pending Approval\" && (\n                                <>\n                                  <DropdownMenuItem onClick={() => handleApprove(charge.id)}>\n                                    <CheckCircle className=\"mr-2 h-4 w-4 text-[#10B981]\" />\n                                    Approve\n                                  </DropdownMenuItem>\n                                  <DropdownMenuItem onClick={() => handleReject(charge.id)}>\n                                    <XCircle className=\"mr-2 h-4 w-4 text-[#DC2626]\" />\n                                    Reject\n                                  </DropdownMenuItem>\n                                </>\n                              )}\n                              {charge.status === \"Rejected\" && canResubmit(charge) && (\n                                <DropdownMenuItem onClick={() => handleUploadPop(charge.id)}>\n                                  <Upload className=\"mr-2 h-4 w-4\" />\n                                  Re-upload POP\n                                </DropdownMenuItem>\n                              )}\n                            </DropdownMenuContent>\n                          </DropdownMenu>\n                        </TableCell>\n                      </TableRow>\n                    );\n                  })\n                )}\n              </TableBody>\n            </Table>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Modals */}\n      {selectedCharge && (\n        <>\n          <UploadPopModal\n            isOpen={uploadModalOpen}\n            onClose={() => setUploadModalOpen(false)}\n            onUpload={handlePopUploaded}\n            chargeId={selectedCharge.id}\n          />\n          <ApproveModal\n            isOpen={approveModalOpen}\n            onClose={() => setApproveModalOpen(false)}\n            onApprove={handleApproveConfirmed}\n            chargeId={selectedCharge.id}\n          />\n          <RejectModal\n            isOpen={rejectModalOpen}\n            onClose={() => setRejectModalOpen(false)}\n            onReject={handleRejectConfirmed}\n            chargeId={selectedCharge.id}\n          />\n        </>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1645, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/additional-charges/AdditionalChargesDetail.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport {\n  ArrowLeft,\n  Calendar,\n  FileText,\n  Download,\n  Upload,\n  CheckCircle,\n  XCircle,\n  AlertCircle,\n} from \"lucide-react\";\nimport { Button } from \"../ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"../ui/card\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"../ui/table\";\nimport { AdditionalChargeStatusBadge } from \"./AdditionalChargeStatusBadge\";\nimport { UploadPopModal } from \"./UploadPopModal\";\nimport { ApproveModal } from \"./ApproveModal\";\nimport { RejectModal } from \"./RejectModal\";\nimport { AdditionalCharge } from \"../../types/additionalCharge\";\nimport { toast } from \"sonner\";\n\ninterface AdditionalChargesDetailProps {\n  charge: AdditionalCharge;\n  onBack: () => void;\n  onUpdate: (updatedCharge: AdditionalCharge) => void;\n}\n\nexport function AdditionalChargesDetail({\n  charge: initialCharge,\n  onBack,\n  onUpdate,\n}: AdditionalChargesDetailProps) {\n  const [charge, setCharge] = useState<AdditionalCharge>(initialCharge);\n  const [uploadModalOpen, setUploadModalOpen] = useState(false);\n  const [approveModalOpen, setApproveModalOpen] = useState(false);\n  const [rejectModalOpen, setRejectModalOpen] = useState(false);\n\n  const handlePopUploaded = (file: File) => {\n    const updatedCharge = {\n      ...charge,\n      proofOfPayment: file.name,\n      status: \"Pending Approval\" as const,\n      lastUpdated: new Date().toLocaleString(),\n    };\n    setCharge(updatedCharge);\n    onUpdate(updatedCharge);\n    toast.success(\"Proof of payment uploaded successfully\");\n  };\n\n  const handleApproveConfirmed = (referenceId: string) => {\n    const updatedCharge = {\n      ...charge,\n      status: \"Approved\" as const,\n      referenceId,\n      approvalDate: new Date().toISOString().split(\"T\")[0],\n      lastUpdated: new Date().toLocaleString(),\n    };\n    setCharge(updatedCharge);\n    onUpdate(updatedCharge);\n    toast.success(\"Payment approved successfully\");\n  };\n\n  const handleRejectConfirmed = (reason: string) => {\n    const updatedCharge = {\n      ...charge,\n      status: \"Rejected\" as const,\n      rejectionReason: reason,\n      rejectionDate: new Date().toISOString().split(\"T\")[0],\n      lastUpdated: new Date().toLocaleString(),\n    };\n    setCharge(updatedCharge);\n    onUpdate(updatedCharge);\n    toast.error(\"Payment rejected\");\n  };\n\n  const canResubmit = (): boolean => {\n    if (charge.status !== \"Rejected\") return false;\n    const dueDate = new Date(charge.dueDate);\n    const today = new Date();\n    return today <= dueDate;\n  };\n\n  const isDueDatePassed = (): boolean => {\n    const dueDate = new Date(charge.dueDate);\n    const today = new Date();\n    return today > dueDate;\n  };\n\n  const getItemTypeBadgeColor = (type: string) => {\n    switch (type) {\n      case \"Missing\":\n        return \"bg-[#FEE2E2] text-[#991B1B]\";\n      case \"Damaged\":\n        return \"bg-[#FED7AA] text-[#9A3412]\";\n      case \"Repair\":\n        return \"bg-[#DBEAFE] text-[#1E40AF]\";\n      case \"Cleaning\":\n        return \"bg-[#E0E7FF] text-[#3730A3]\";\n      default:\n        return \"bg-[#F3F4F6] text-[#374151]\";\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-start justify-between\">\n        <div className=\"flex items-center gap-4\">\n          <Button variant=\"ghost\" onClick={onBack} className=\"hover:bg-[#F3F4F6]\">\n            <ArrowLeft className=\"h-4 w-4 mr-2\" />\n            Back\n          </Button>\n          <div>\n            <h1>Additional Charge Details</h1>\n            <p className=\"text-[#374151]\">View and manage additional charge information</p>\n          </div>\n        </div>\n        <AdditionalChargeStatusBadge status={charge.status} />\n      </div>\n\n      {/* Summary Card */}\n      <Card className=\"border-[#E5E7EB]\">\n        <CardHeader>\n          <CardTitle className=\"text-[18px]\">Charge Summary</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            <div className=\"space-y-1\">\n              <p className=\"text-sm text-[#6B7280]\">Charge ID</p>\n              <p className=\"text-[#231F20]\">{charge.id}</p>\n            </div>\n            <div className=\"space-y-1\">\n              <p className=\"text-sm text-[#6B7280]\">Invoice No.</p>\n              <p className=\"text-[#231F20]\">{charge.invoiceNo}</p>\n            </div>\n            <div className=\"space-y-1\">\n              <p className=\"text-sm text-[#6B7280]\">Delivery Order (DO)</p>\n              <p className=\"text-[#231F20]\">{charge.doId}</p>\n            </div>\n            <div className=\"space-y-1\">\n              <p className=\"text-sm text-[#6B7280]\">Customer Name</p>\n              <p className=\"text-[#231F20]\">{charge.customerName}</p>\n            </div>\n            <div className=\"space-y-1\">\n              <p className=\"text-sm text-[#6B7280]\">Returned Date</p>\n              <p className=\"text-[#231F20]\">\n                {new Date(charge.returnedDate).toLocaleDateString()}\n              </p>\n            </div>\n            {charge.inspectionReportId && (\n              <div className=\"space-y-1\">\n                <p className=\"text-sm text-[#6B7280]\">Inspection Report ID</p>\n                <p className=\"text-[#231F20]\">{charge.inspectionReportId}</p>\n              </div>\n            )}\n            <div className=\"space-y-1\">\n              <p className=\"text-sm text-[#6B7280]\">Due Date</p>\n              <p className={isDueDatePassed() ? \"text-[#DC2626]\" : \"text-[#231F20]\"}>\n                {new Date(charge.dueDate).toLocaleDateString()}\n                {isDueDatePassed() && \" (Overdue)\"}\n              </p>\n            </div>\n            <div className=\"space-y-1\">\n              <p className=\"text-sm text-[#6B7280]\">Last Updated</p>\n              <p className=\"text-[#231F20]\">{charge.lastUpdated}</p>\n            </div>\n            <div className=\"space-y-1\">\n              <p className=\"text-sm text-[#6B7280]\">Total Additional Charges</p>\n              <p className=\"text-[#F15929] text-lg\">RM{charge.totalCharges.toFixed(2)}</p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Rejected Status Message */}\n      {charge.status === \"Rejected\" && charge.rejectionReason && (\n        <Card className=\"border-[#DC2626] bg-[#FEF2F2]\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex gap-3\">\n              <AlertCircle className=\"h-5 w-5 text-[#DC2626] mt-0.5 flex-shrink-0\" />\n              <div className=\"flex-1\">\n                <p className=\"text-sm text-[#991B1B]\">\n                  <strong>Rejected Reason:</strong>\n                </p>\n                <p className=\"text-sm text-[#DC2626] mt-1\">{charge.rejectionReason}</p>\n                {canResubmit() && (\n                  <p className=\"text-xs text-[#991B1B] mt-2\">\n                    You can resubmit proof of payment until{\" \"}\n                    {new Date(charge.dueDate).toLocaleDateString()}\n                  </p>\n                )}\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Approved Status Info */}\n      {charge.status === \"Approved\" && charge.referenceId && (\n        <Card className=\"border-[#10B981] bg-[#ECFDF5]\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex gap-3\">\n              <CheckCircle className=\"h-5 w-5 text-[#10B981] mt-0.5 flex-shrink-0\" />\n              <div className=\"flex-1\">\n                <p className=\"text-sm text-[#065F46]\">\n                  <strong>Payment Approved</strong>\n                </p>\n                <div className=\"mt-2 space-y-1\">\n                  <p className=\"text-sm text-[#065F46]\">\n                    Reference ID: <strong>{charge.referenceId}</strong>\n                  </p>\n                  {charge.approvalDate && (\n                    <p className=\"text-sm text-[#065F46]\">\n                      Approved on: {new Date(charge.approvalDate).toLocaleDateString()}\n                    </p>\n                  )}\n                </div>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Line Items */}\n      <Card className=\"border-[#E5E7EB]\">\n        <CardHeader>\n          <CardTitle className=\"text-[18px]\">Item Breakdown</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"rounded-md border border-[#E5E7EB]\">\n            <Table>\n              <TableHeader>\n                <TableRow className=\"bg-[#F9FAFB] hover:bg-[#F9FAFB]\">\n                  <TableHead className=\"text-[#374151]\">Item Name</TableHead>\n                  <TableHead className=\"text-[#374151]\">Type</TableHead>\n                  <TableHead className=\"text-[#374151]\">Quantity</TableHead>\n                  <TableHead className=\"text-[#374151]\">Unit Price (RM)</TableHead>\n                  <TableHead className=\"text-[#374151]\">Amount (RM)</TableHead>\n                  <TableHead className=\"text-[#374151]\">Remark</TableHead>\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                {charge.items.map((item) => (\n                  <TableRow key={item.id} className=\"hover:bg-[#F9FAFB]\">\n                    <TableCell className=\"text-[#231F20]\">{item.itemName}</TableCell>\n                    <TableCell>\n                      <span\n                        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs ${getItemTypeBadgeColor(\n                          item.itemType\n                        )}`}\n                      >\n                        {item.itemType}\n                      </span>\n                    </TableCell>\n                    <TableCell className=\"text-[#231F20]\">{item.quantity}</TableCell>\n                    <TableCell className=\"text-[#231F20]\">{item.unitPrice.toFixed(2)}</TableCell>\n                    <TableCell className=\"text-[#231F20]\">{item.amount.toFixed(2)}</TableCell>\n                    <TableCell className=\"text-[#6B7280] text-sm\">\n                      {item.remark || \"-\"}\n                    </TableCell>\n                  </TableRow>\n                ))}\n                <TableRow className=\"bg-[#FEF2F2] hover:bg-[#FEF2F2]\">\n                  <TableCell colSpan={4} className=\"text-right text-[#231F20]\">\n                    <strong>Total Additional Charges:</strong>\n                  </TableCell>\n                  <TableCell colSpan={2} className=\"text-[#F15929]\">\n                    <strong>RM{charge.totalCharges.toFixed(2)}</strong>\n                  </TableCell>\n                </TableRow>\n              </TableBody>\n            </Table>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Proof of Payment */}\n      <Card className=\"border-[#E5E7EB]\">\n        <CardHeader>\n          <CardTitle className=\"text-[18px]\">Proof of Payment</CardTitle>\n        </CardHeader>\n        <CardContent>\n          {charge.proofOfPayment ? (\n            <div className=\"flex items-center justify-between p-4 bg-[#F9FAFB] rounded-lg border border-[#E5E7EB]\">\n              <div className=\"flex items-center gap-3\">\n                <FileText className=\"h-8 w-8 text-[#F15929]\" />\n                <div>\n                  <p className=\"text-sm text-[#231F20]\">{charge.proofOfPayment}</p>\n                  <p className=\"text-xs text-[#6B7280]\">Uploaded proof of payment</p>\n                </div>\n              </div>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                className=\"h-9 px-4 rounded-lg\"\n                onClick={() => toast.info(\"Download functionality would be implemented here\")}\n              >\n                <Download className=\"h-4 w-4 mr-2\" />\n                Download\n              </Button>\n            </div>\n          ) : (\n            <div className=\"text-center py-8 border-2 border-dashed border-[#D1D5DB] rounded-lg bg-[#F9FAFB]\">\n              <Upload className=\"h-12 w-12 text-[#9CA3AF] mx-auto mb-3\" />\n              <p className=\"text-sm text-[#6B7280]\">No proof of payment uploaded yet</p>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Actions */}\n      <Card className=\"border-[#E5E7EB]\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex flex-wrap gap-3\">\n            {charge.status === \"Pending Payment\" && (\n              <Button\n                onClick={() => setUploadModalOpen(true)}\n                className=\"bg-[#F15929] hover:bg-[#D14620] text-white h-10 px-6 rounded-lg\"\n              >\n                <Upload className=\"h-4 w-4 mr-2\" />\n                Upload Proof of Payment\n              </Button>\n            )}\n\n            {charge.status === \"Pending Approval\" && (\n              <>\n                <Button\n                  onClick={() => setApproveModalOpen(true)}\n                  className=\"bg-[#10B981] hover:bg-[#059669] text-white h-10 px-6 rounded-lg\"\n                >\n                  <CheckCircle className=\"h-4 w-4 mr-2\" />\n                  Approve Payment\n                </Button>\n                <Button\n                  onClick={() => setRejectModalOpen(true)}\n                  className=\"bg-[#DC2626] hover:bg-[#B91C1C] text-white h-10 px-6 rounded-lg\"\n                >\n                  <XCircle className=\"h-4 w-4 mr-2\" />\n                  Reject Payment\n                </Button>\n              </>\n            )}\n\n            {charge.status === \"Rejected\" && canResubmit() && (\n              <Button\n                onClick={() => setUploadModalOpen(true)}\n                className=\"bg-[#F15929] hover:bg-[#D14620] text-white h-10 px-6 rounded-lg\"\n              >\n                <Upload className=\"h-4 w-4 mr-2\" />\n                Resubmit Proof of Payment\n              </Button>\n            )}\n\n            {charge.status === \"Rejected\" && !canResubmit() && (\n              <div className=\"w-full p-4 bg-[#FEF3C7] border border-[#F59E0B] rounded-lg\">\n                <p className=\"text-sm text-[#92400E]\">\n                  <AlertCircle className=\"h-4 w-4 inline mr-2\" />\n                  The due date has passed. Resubmission is no longer available.\n                </p>\n              </div>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Modals */}\n      <UploadPopModal\n        isOpen={uploadModalOpen}\n        onClose={() => setUploadModalOpen(false)}\n        onUpload={handlePopUploaded}\n        chargeId={charge.id}\n      />\n      <ApproveModal\n        isOpen={approveModalOpen}\n        onClose={() => setApproveModalOpen(false)}\n        onApprove={handleApproveConfirmed}\n        chargeId={charge.id}\n      />\n      <RejectModal\n        isOpen={rejectModalOpen}\n        onClose={() => setRejectModalOpen(false)}\n        onReject={handleRejectConfirmed}\n        chargeId={charge.id}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}