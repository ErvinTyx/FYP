{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/soa/ProjectSelector.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { Search, Calendar, User, Briefcase } from \"lucide-react\";\nimport { Card, CardContent } from \"../ui/card\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"../ui/select\";\nimport { Project, Customer } from \"../../types/statementOfAccount\";\n\ninterface ProjectSelectorProps {\n  customers: Customer[];\n  projects: Project[];\n  selectedCustomer: Customer | null;\n  selectedProject: Project | null;\n  onCustomerChange: (customer: Customer) => void;\n  onProjectChange: (project: Project) => void;\n}\n\nexport function ProjectSelector({\n  customers,\n  projects,\n  selectedCustomer,\n  selectedProject,\n  onCustomerChange,\n  onProjectChange,\n}: ProjectSelectorProps) {\n  return (\n    <Card className=\"border-[#E5E7EB]\">\n      <CardContent className=\"pt-6\">\n        <div className=\"space-y-4\">\n          {/* Project Selector - Now the primary selector */}\n          <div>\n            <label className=\"text-sm text-[#374151] mb-2 block\">\n              Select Project\n            </label>\n            <Select\n              value={selectedProject?.id}\n              onValueChange={(value) => {\n                const project = projects.find((p) => p.id === value);\n                if (project) {\n                  onProjectChange(project);\n                  // Auto-select the customer for this project\n                  const customer = customers.find((c) => c.id === project.customerId);\n                  if (customer) onCustomerChange(customer);\n                }\n              }}\n            >\n              <SelectTrigger className=\"w-full h-10 border-[#D1D5DB] rounded-md\">\n                <SelectValue placeholder=\"Choose a project to view its statement of account\" />\n              </SelectTrigger>\n              <SelectContent>\n                {projects.map((project) => (\n                  <SelectItem key={project.id} value={project.id}>\n                    <div className=\"flex flex-col\">\n                      <span>{project.projectName}</span>\n                      <span className=\"text-xs text-[#6B7280]\">\n                        {project.id} · {project.customerName} · {project.status}\n                      </span>\n                    </div>\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n\n          {/* Project Info Summary - Only show after project is selected */}\n          {selectedProject && selectedCustomer && (\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-[#F9FAFB] rounded-md border border-[#E5E7EB]\">\n              <div className=\"flex items-start gap-3\">\n                <Briefcase className=\"h-5 w-5 text-[#F15929] mt-0.5\" />\n                <div>\n                  <p className=\"text-xs text-[#6B7280]\">Project Name</p>\n                  <p className=\"text-[#231F20]\">{selectedProject.projectName}</p>\n                  <p className=\"text-xs text-[#6B7280] mt-0.5\">\n                    ID: {selectedProject.id}\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"flex items-start gap-3\">\n                <User className=\"h-5 w-5 text-[#F15929] mt-0.5\" />\n                <div>\n                  <p className=\"text-xs text-[#6B7280]\">Customer</p>\n                  <p className=\"text-[#231F20]\">{selectedCustomer.name}</p>\n                  <p className=\"text-xs text-[#6B7280] mt-0.5\">\n                    {selectedCustomer.type} · {selectedCustomer.id}\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"flex items-start gap-3\">\n                <Calendar className=\"h-5 w-5 text-[#F15929] mt-0.5\" />\n                <div>\n                  <p className=\"text-xs text-[#6B7280]\">Project Period</p>\n                  <p className=\"text-[#231F20]\">\n                    {new Date(selectedProject.startDate).toLocaleDateString()}\n                  </p>\n                  <p className=\"text-xs text-[#6B7280] mt-0.5\">\n                    {selectedProject.endDate\n                      ? `End: ${new Date(selectedProject.endDate).toLocaleDateString()}`\n                      : \"Ongoing\"}\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"md:col-span-3 flex items-center gap-2\">\n                <span className=\"text-xs text-[#6B7280]\">Status:</span>\n                <span\n                  className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs ${\n                    selectedProject.status === \"Active\"\n                      ? \"bg-[#D1FAE5] text-[#065F46]\"\n                      : selectedProject.status === \"Completed\"\n                      ? \"bg-[#DBEAFE] text-[#1E40AF]\"\n                      : selectedProject.status === \"On Hold\"\n                      ? \"bg-[#FEF3C7] text-[#92400E]\"\n                      : \"bg-[#FEE2E2] text-[#991B1B]\"\n                  }`}\n                >\n                  {selectedProject.status}\n                </span>\n              </div>\n            </div>\n          )}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}"],"names":[],"mappings":";;;;;AACA;AAAA;AAAA;AACA;AACA;;;;;AAkBO,SAAS,gBAAgB,EAC9B,SAAS,EACT,QAAQ,EACR,gBAAgB,EAChB,eAAe,EACf,gBAAgB,EAChB,eAAe,EACM;IACrB,qBACE,6LAAC,2IAAI;QAAC,WAAU;kBACd,cAAA,6LAAC,kJAAW;YAAC,WAAU;sBACrB,cAAA,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;;0CACC,6LAAC;gCAAM,WAAU;0CAAoC;;;;;;0CAGrD,6LAAC,+IAAM;gCACL,OAAO,iBAAiB;gCACxB,eAAe,CAAC;oCACd,MAAM,UAAU,SAAS,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;oCAC9C,IAAI,SAAS;wCACX,gBAAgB;wCAChB,4CAA4C;wCAC5C,MAAM,WAAW,UAAU,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,QAAQ,UAAU;wCAClE,IAAI,UAAU,iBAAiB;oCACjC;gCACF;;kDAEA,6LAAC,sJAAa;wCAAC,WAAU;kDACvB,cAAA,6LAAC,oJAAW;4CAAC,aAAY;;;;;;;;;;;kDAE3B,6LAAC,sJAAa;kDACX,SAAS,GAAG,CAAC,CAAC,wBACb,6LAAC,mJAAU;gDAAkB,OAAO,QAAQ,EAAE;0DAC5C,cAAA,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;sEAAM,QAAQ,WAAW;;;;;;sEAC1B,6LAAC;4DAAK,WAAU;;gEACb,QAAQ,EAAE;gEAAC;gEAAI,QAAQ,YAAY;gEAAC;gEAAI,QAAQ,MAAM;;;;;;;;;;;;;+CAJ5C,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;oBAclC,mBAAmB,kCAClB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,4NAAS;wCAAC,WAAU;;;;;;kDACrB,6LAAC;;0DACC,6LAAC;gDAAE,WAAU;0DAAyB;;;;;;0DACtC,6LAAC;gDAAE,WAAU;0DAAkB,gBAAgB,WAAW;;;;;;0DAC1D,6LAAC;gDAAE,WAAU;;oDAAgC;oDACtC,gBAAgB,EAAE;;;;;;;;;;;;;;;;;;;0CAK7B,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,6MAAI;wCAAC,WAAU;;;;;;kDAChB,6LAAC;;0DACC,6LAAC;gDAAE,WAAU;0DAAyB;;;;;;0DACtC,6LAAC;gDAAE,WAAU;0DAAkB,iBAAiB,IAAI;;;;;;0DACpD,6LAAC;gDAAE,WAAU;;oDACV,iBAAiB,IAAI;oDAAC;oDAAI,iBAAiB,EAAE;;;;;;;;;;;;;;;;;;;0CAKpD,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,yNAAQ;wCAAC,WAAU;;;;;;kDACpB,6LAAC;;0DACC,6LAAC;gDAAE,WAAU;0DAAyB;;;;;;0DACtC,6LAAC;gDAAE,WAAU;0DACV,IAAI,KAAK,gBAAgB,SAAS,EAAE,kBAAkB;;;;;;0DAEzD,6LAAC;gDAAE,WAAU;0DACV,gBAAgB,OAAO,GACpB,CAAC,KAAK,EAAE,IAAI,KAAK,gBAAgB,OAAO,EAAE,kBAAkB,IAAI,GAChE;;;;;;;;;;;;;;;;;;0CAKV,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAK,WAAU;kDAAyB;;;;;;kDACzC,6LAAC;wCACC,WAAW,CAAC,4DAA4D,EACtE,gBAAgB,MAAM,KAAK,WACvB,gCACA,gBAAgB,MAAM,KAAK,cAC3B,gCACA,gBAAgB,MAAM,KAAK,YAC3B,gCACA,+BACJ;kDAED,gBAAgB,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASzC;KA7GgB"}},
    {"offset": {"line": 329, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/soa/FinancialSummaryCards.tsx"],"sourcesContent":["import { TrendingUp, TrendingDown, DollarSign, AlertCircle, CreditCard, Wallet } from \"lucide-react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"../ui/card\";\nimport { SOASummary } from \"../../types/statementOfAccount\";\n\ninterface FinancialSummaryCardsProps {\n  summary: SOASummary;\n}\n\nexport function FinancialSummaryCards({ summary }: FinancialSummaryCardsProps) {\n  const isCustomerOwes = summary.finalBalance > 0;\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n      {/* Total Deposit Collected */}\n      <Card className=\"border-[#E5E7EB]\">\n        <CardHeader className=\"pb-3\">\n          <CardTitle className=\"text-sm text-[#6B7280] flex items-center gap-2\">\n            <Wallet className=\"h-4 w-4 text-[#F15929]\" />\n            Total Deposit Collected\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <p className=\"text-2xl text-[#231F20]\">\n            RM{summary.totalDepositCollected.toFixed(2)}\n          </p>\n        </CardContent>\n      </Card>\n\n      {/* Total Monthly Billing */}\n      <Card className=\"border-[#E5E7EB]\">\n        <CardHeader className=\"pb-3\">\n          <CardTitle className=\"text-sm text-[#6B7280] flex items-center gap-2\">\n            <CreditCard className=\"h-4 w-4 text-[#F15929]\" />\n            Total Monthly Billing Issued\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <p className=\"text-2xl text-[#231F20]\">\n            RM{summary.totalMonthlyBilling.toFixed(2)}\n          </p>\n        </CardContent>\n      </Card>\n\n      {/* Total Penalty / Default Interest */}\n      <Card className=\"border-[#E5E7EB]\">\n        <CardHeader className=\"pb-3\">\n          <CardTitle className=\"text-sm text-[#6B7280] flex items-center gap-2\">\n            <AlertCircle className=\"h-4 w-4 text-[#DC2626]\" />\n            Total Penalty / Default Interest\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <p className=\"text-2xl text-[#DC2626]\">\n            RM{summary.totalPenalty.toFixed(2)}\n          </p>\n        </CardContent>\n      </Card>\n\n      {/* Total Additional Charges */}\n      <Card className=\"border-[#E5E7EB]\">\n        <CardHeader className=\"pb-3\">\n          <CardTitle className=\"text-sm text-[#6B7280] flex items-center gap-2\">\n            <DollarSign className=\"h-4 w-4 text-[#F15929]\" />\n            Total Additional Charges\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <p className=\"text-2xl text-[#231F20]\">\n            RM{summary.totalAdditionalCharges.toFixed(2)}\n          </p>\n          <p className=\"text-xs text-[#6B7280] mt-1\">\n            Damage / Repair / Missing / Cleaning\n          </p>\n        </CardContent>\n      </Card>\n\n      {/* Total Paid Amount */}\n      <Card className=\"border-[#E5E7EB]\">\n        <CardHeader className=\"pb-3\">\n          <CardTitle className=\"text-sm text-[#6B7280] flex items-center gap-2\">\n            <TrendingDown className=\"h-4 w-4 text-[#10B981]\" />\n            Total Paid Amount\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <p className=\"text-2xl text-[#10B981]\">\n            RM{summary.totalPaid.toFixed(2)}\n          </p>\n          <p className=\"text-xs text-[#6B7280] mt-1\">All Payments Received</p>\n        </CardContent>\n      </Card>\n\n      {/* Final Balance */}\n      <Card className={`border-2 ${isCustomerOwes ? 'border-[#DC2626] bg-[#FEF2F2]' : 'border-[#10B981] bg-[#F0FDF4]'}`}>\n        <CardHeader className=\"pb-3\">\n          <CardTitle className=\"text-sm text-[#6B7280] flex items-center gap-2\">\n            <TrendingUp className={`h-4 w-4 ${isCustomerOwes ? 'text-[#DC2626]' : 'text-[#10B981]'}`} />\n            Final Balance\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <p className={`text-2xl ${isCustomerOwes ? 'text-[#DC2626]' : 'text-[#10B981]'}`}>\n            {isCustomerOwes ? '' : '-'}RM{Math.abs(summary.finalBalance).toFixed(2)}\n          </p>\n          <p className={`text-sm mt-2 ${isCustomerOwes ? 'text-[#DC2626]' : 'text-[#10B981]'}`}>\n            {isCustomerOwes ? '⚠️ Customer Owes' : '✓ Customer Has Credit'}\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;AAOO,SAAS,sBAAsB,EAAE,OAAO,EAA8B;IAC3E,MAAM,iBAAiB,QAAQ,YAAY,GAAG;IAE9C,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC,2IAAI;gBAAC,WAAU;;kCACd,6LAAC,iJAAU;wBAAC,WAAU;kCACpB,cAAA,6LAAC,gJAAS;4BAAC,WAAU;;8CACnB,6LAAC,mNAAM;oCAAC,WAAU;;;;;;gCAA2B;;;;;;;;;;;;kCAIjD,6LAAC,kJAAW;kCACV,cAAA,6LAAC;4BAAE,WAAU;;gCAA0B;gCAClC,QAAQ,qBAAqB,CAAC,OAAO,CAAC;;;;;;;;;;;;;;;;;;0BAM/C,6LAAC,2IAAI;gBAAC,WAAU;;kCACd,6LAAC,iJAAU;wBAAC,WAAU;kCACpB,cAAA,6LAAC,gJAAS;4BAAC,WAAU;;8CACnB,6LAAC,mOAAU;oCAAC,WAAU;;;;;;gCAA2B;;;;;;;;;;;;kCAIrD,6LAAC,kJAAW;kCACV,cAAA,6LAAC;4BAAE,WAAU;;gCAA0B;gCAClC,QAAQ,mBAAmB,CAAC,OAAO,CAAC;;;;;;;;;;;;;;;;;;0BAM7C,6LAAC,2IAAI;gBAAC,WAAU;;kCACd,6LAAC,iJAAU;wBAAC,WAAU;kCACpB,cAAA,6LAAC,gJAAS;4BAAC,WAAU;;8CACnB,6LAAC,sOAAW;oCAAC,WAAU;;;;;;gCAA2B;;;;;;;;;;;;kCAItD,6LAAC,kJAAW;kCACV,cAAA,6LAAC;4BAAE,WAAU;;gCAA0B;gCAClC,QAAQ,YAAY,CAAC,OAAO,CAAC;;;;;;;;;;;;;;;;;;0BAMtC,6LAAC,2IAAI;gBAAC,WAAU;;kCACd,6LAAC,iJAAU;wBAAC,WAAU;kCACpB,cAAA,6LAAC,gJAAS;4BAAC,WAAU;;8CACnB,6LAAC,mOAAU;oCAAC,WAAU;;;;;;gCAA2B;;;;;;;;;;;;kCAIrD,6LAAC,kJAAW;;0CACV,6LAAC;gCAAE,WAAU;;oCAA0B;oCAClC,QAAQ,sBAAsB,CAAC,OAAO,CAAC;;;;;;;0CAE5C,6LAAC;gCAAE,WAAU;0CAA8B;;;;;;;;;;;;;;;;;;0BAO/C,6LAAC,2IAAI;gBAAC,WAAU;;kCACd,6LAAC,iJAAU;wBAAC,WAAU;kCACpB,cAAA,6LAAC,gJAAS;4BAAC,WAAU;;8CACnB,6LAAC,yOAAY;oCAAC,WAAU;;;;;;gCAA2B;;;;;;;;;;;;kCAIvD,6LAAC,kJAAW;;0CACV,6LAAC;gCAAE,WAAU;;oCAA0B;oCAClC,QAAQ,SAAS,CAAC,OAAO,CAAC;;;;;;;0CAE/B,6LAAC;gCAAE,WAAU;0CAA8B;;;;;;;;;;;;;;;;;;0BAK/C,6LAAC,2IAAI;gBAAC,WAAW,CAAC,SAAS,EAAE,iBAAiB,kCAAkC,iCAAiC;;kCAC/G,6LAAC,iJAAU;wBAAC,WAAU;kCACpB,cAAA,6LAAC,gJAAS;4BAAC,WAAU;;8CACnB,6LAAC,mOAAU;oCAAC,WAAW,CAAC,QAAQ,EAAE,iBAAiB,mBAAmB,kBAAkB;;;;;;gCAAI;;;;;;;;;;;;kCAIhG,6LAAC,kJAAW;;0CACV,6LAAC;gCAAE,WAAW,CAAC,SAAS,EAAE,iBAAiB,mBAAmB,kBAAkB;;oCAC7E,iBAAiB,KAAK;oCAAI;oCAAG,KAAK,GAAG,CAAC,QAAQ,YAAY,EAAE,OAAO,CAAC;;;;;;;0CAEvE,6LAAC;gCAAE,WAAW,CAAC,aAAa,EAAE,iBAAiB,mBAAmB,kBAAkB;0CACjF,iBAAiB,qBAAqB;;;;;;;;;;;;;;;;;;;;;;;;AAMnD;KAvGgB"}},
    {"offset": {"line": 697, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/soa/TransactionTypeBadge.tsx"],"sourcesContent":["import { TransactionType } from \"../../types/statementOfAccount\";\n\ninterface TransactionTypeBadgeProps {\n  type: TransactionType;\n}\n\nexport function TransactionTypeBadge({ type }: TransactionTypeBadgeProps) {\n  const getTypeStyles = () => {\n    switch (type) {\n      case \"Deposit\":\n      case \"Deposit Payment\":\n        return \"bg-[#DBEAFE] text-[#1E40AF]\";\n      case \"Deposit Refund\":\n        return \"bg-[#FEF3C7] text-[#92400E]\";\n      case \"Monthly Bill\":\n        return \"bg-[#E0E7FF] text-[#3730A3]\";\n      case \"Monthly Payment\":\n        return \"bg-[#D1FAE5] text-[#065F46]\";\n      case \"Default Interest\":\n        return \"bg-[#FEE2E2] text-[#991B1B]\";\n      case \"Additional Charge\":\n        return \"bg-[#FFEDD5] text-[#9A3412]\";\n      case \"Additional Charge Payment\":\n        return \"bg-[#D1FAE5] text-[#065F46]\";\n      case \"Credit Note\":\n        return \"bg-[#F3E8FF] text-[#6B21A8]\";\n      case \"Adjustment\":\n        return \"bg-[#F1F5F9] text-[#475569]\";\n      default:\n        return \"bg-[#F3F4F6] text-[#374151]\";\n    }\n  };\n\n  return (\n    <span\n      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs whitespace-nowrap ${getTypeStyles()}`}\n    >\n      {type}\n    </span>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAMO,SAAS,qBAAqB,EAAE,IAAI,EAA6B;IACtE,MAAM,gBAAgB;QACpB,OAAQ;YACN,KAAK;YACL,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,qBACE,6LAAC;QACC,WAAW,CAAC,8EAA8E,EAAE,iBAAiB;kBAE5G;;;;;;AAGP;KAlCgB"}},
    {"offset": {"line": 748, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/soa/TransactionStatusBadge.tsx"],"sourcesContent":["import { TransactionStatus } from \"../../types/statementOfAccount\";\n\ninterface TransactionStatusBadgeProps {\n  status: TransactionStatus;\n}\n\nexport function TransactionStatusBadge({ status }: TransactionStatusBadgeProps) {\n  const getStatusStyles = () => {\n    switch (status) {\n      case \"Paid\":\n      case \"Approved\":\n        return \"bg-[#D1FAE5] text-[#065F46]\";\n      case \"Unpaid\":\n        return \"bg-[#FEE2E2] text-[#991B1B]\";\n      case \"Pending Approval\":\n        return \"bg-[#FEF3C7] text-[#92400E]\";\n      case \"Rejected\":\n        return \"bg-[#FEE2E2] text-[#DC2626]\";\n      case \"Partial\":\n        return \"bg-[#FFEDD5] text-[#9A3412]\";\n      default:\n        return \"bg-[#F3F4F6] text-[#374151]\";\n    }\n  };\n\n  return (\n    <span\n      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs ${getStatusStyles()}`}\n    >\n      {status}\n    </span>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAMO,SAAS,uBAAuB,EAAE,MAAM,EAA+B;IAC5E,MAAM,kBAAkB;QACtB,OAAQ;YACN,KAAK;YACL,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,qBACE,6LAAC;QACC,WAAW,CAAC,4DAA4D,EAAE,mBAAmB;kBAE5F;;;;;;AAGP;KA1BgB"}},
    {"offset": {"line": 791, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/soa/TransactionLedger.tsx"],"sourcesContent":["import { Eye, FileText, Download, MoreVertical } from \"lucide-react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"../ui/card\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"../ui/table\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"../ui/dropdown-menu\";\nimport { Button } from \"../ui/button\";\nimport { Transaction } from \"../../types/statementOfAccount\";\nimport { TransactionTypeBadge } from \"./TransactionTypeBadge\";\nimport { TransactionStatusBadge } from \"./TransactionStatusBadge\";\n\ninterface TransactionLedgerProps {\n  transactions: Transaction[];\n  onViewDetails?: (transaction: Transaction) => void;\n}\n\nexport function TransactionLedger({\n  transactions,\n  onViewDetails,\n}: TransactionLedgerProps) {\n  const handleViewDetails = (transaction: Transaction) => {\n    if (onViewDetails) {\n      onViewDetails(transaction);\n    }\n  };\n\n  const handleViewDocument = (transaction: Transaction) => {\n    console.log(\"View document for:\", transaction.reference);\n    // Implement document viewing logic\n  };\n\n  const handleDownload = (transaction: Transaction) => {\n    console.log(\"Download document for:\", transaction.reference);\n    // Implement download logic\n  };\n\n  return (\n    <Card className=\"border-[#E5E7EB]\">\n      <CardHeader className=\"flex flex-row items-center justify-between\">\n        <CardTitle className=\"text-[18px]\">\n          Transaction Ledger ({transactions.length} entries)\n        </CardTitle>\n        <div className=\"text-xs text-[#6B7280] bg-[#F9FAFB] px-3 py-1.5 rounded-md border border-[#E5E7EB]\">\n          <strong>Formula:</strong> Balance = Previous Balance + Debit - Credit\n        </div>\n      </CardHeader>\n      <CardContent>\n        <div className=\"rounded-md border border-[#E5E7EB]\">\n          <Table>\n            <TableHeader>\n              <TableRow className=\"bg-[#F9FAFB] hover:bg-[#F9FAFB]\">\n                <TableHead className=\"text-[#374151]\">Date</TableHead>\n                <TableHead className=\"text-[#374151]\">Transaction Type</TableHead>\n                <TableHead className=\"text-[#374151]\">Description</TableHead>\n                <TableHead className=\"text-[#374151] text-right\">Debit (RM)</TableHead>\n                <TableHead className=\"text-[#374151] text-right\">Credit (RM)</TableHead>\n                <TableHead className=\"text-[#374151] text-right\">Balance (RM)</TableHead>\n                <TableHead className=\"text-[#374151]\">Status</TableHead>\n                <TableHead className=\"text-[#374151] text-right\">Action</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {transactions.length === 0 ? (\n                <TableRow>\n                  <TableCell colSpan={8} className=\"text-center py-8 text-[#9CA3AF]\">\n                    No transactions found for this project\n                  </TableCell>\n                </TableRow>\n              ) : (\n                transactions.map((transaction, index) => (\n                  <TableRow key={transaction.id} className=\"hover:bg-[#F9FAFB]\">\n                    <TableCell className=\"text-[#374151] whitespace-nowrap\">\n                      {new Date(transaction.date).toLocaleDateString()}\n                    </TableCell>\n                    <TableCell>\n                      <TransactionTypeBadge type={transaction.type} />\n                    </TableCell>\n                    <TableCell className=\"text-[#374151] max-w-xs truncate\">\n                      {transaction.description}\n                    </TableCell>\n                    <TableCell className=\"text-right text-[#DC2626]\">\n                      {transaction.debit > 0 ? transaction.debit.toFixed(2) : \"-\"}\n                    </TableCell>\n                    <TableCell className=\"text-right text-[#10B981]\">\n                      {transaction.credit > 0 ? transaction.credit.toFixed(2) : \"-\"}\n                    </TableCell>\n                    <TableCell \n                      className={`text-right ${\n                        transaction.balance > 0 \n                          ? 'text-[#DC2626]' \n                          : transaction.balance < 0 \n                          ? 'text-[#10B981]' \n                          : 'text-[#374151]'\n                      }`}\n                    >\n                      {transaction.balance > 0 && '+'}\n                      {transaction.balance.toFixed(2)}\n                    </TableCell>\n                    <TableCell>\n                      <TransactionStatusBadge status={transaction.status} />\n                    </TableCell>\n                    <TableCell className=\"text-right\">\n                      <DropdownMenu>\n                        <DropdownMenuTrigger asChild>\n                          <Button variant=\"ghost\" className=\"h-8 w-8 p-0 hover:bg-[#F3F4F6]\">\n                            <MoreVertical className=\"h-4 w-4 text-[#6B7280]\" />\n                          </Button>\n                        </DropdownMenuTrigger>\n                        <DropdownMenuContent align=\"end\" className=\"w-48\">\n                          <DropdownMenuItem onClick={() => handleViewDetails(transaction)}>\n                            <Eye className=\"mr-2 h-4 w-4\" />\n                            View Details\n                          </DropdownMenuItem>\n                          <DropdownMenuItem onClick={() => handleViewDocument(transaction)}>\n                            <FileText className=\"mr-2 h-4 w-4\" />\n                            View Document\n                          </DropdownMenuItem>\n                          <DropdownMenuItem onClick={() => handleDownload(transaction)}>\n                            <Download className=\"mr-2 h-4 w-4\" />\n                            Download Receipt\n                          </DropdownMenuItem>\n                        </DropdownMenuContent>\n                      </DropdownMenu>\n                    </TableCell>\n                  </TableRow>\n                ))\n              )}\n            </TableBody>\n          </Table>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1182, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/soa/StatementOfAccount.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { FileDown, Printer, FileText } from \"lucide-react\";\nimport { Button } from \"../ui/button\";\nimport { ProjectSelector } from \"./ProjectSelector\";\nimport { FinancialSummaryCards } from \"./FinancialSummaryCards\";\nimport { TransactionLedger } from \"./TransactionLedger\";\nimport { Project, SOAData, Transaction, Customer } from \"../../types/statementOfAccount\";\nimport { toast } from \"sonner\";\n\n// Mock customers\nconst mockCustomers: Customer[] = [\n  {\n    id: \"CUST-001\",\n    name: \"Acme Construction Ltd.\",\n    type: \"Company\",\n    email: \"contact@acmeconstruction.com\",\n    phone: \"+60 12-345 6789\",\n  },\n  {\n    id: \"CUST-002\",\n    name: \"BuildRight Inc.\",\n    type: \"Company\",\n    email: \"info@buildright.com\",\n    phone: \"+60 12-987 6543\",\n  },\n  {\n    id: \"CUST-003\",\n    name: \"Metro Builders\",\n    type: \"Company\",\n    email: \"admin@metrobuilders.com\",\n    phone: \"+60 11-234 5678\",\n  },\n  {\n    id: \"CUST-004\",\n    name: \"Ahmad bin Abdullah\",\n    type: \"Individual\",\n    email: \"ahmad.abdullah@email.com\",\n    phone: \"+60 13-456 7890\",\n  },\n];\n\n// Mock data\nconst mockProjects: Project[] = [\n  {\n    id: \"PROJ-2024-001\",\n    projectName: \"Sunway Construction Site - Tower A\",\n    customerId: \"CUST-001\",\n    customerName: \"Acme Construction Ltd.\",\n    startDate: \"2024-01-15\",\n    endDate: \"2024-12-31\",\n    status: \"Active\",\n  },\n  {\n    id: \"PROJ-2024-005\",\n    projectName: \"KLCC Extension Works\",\n    customerId: \"CUST-001\",\n    customerName: \"Acme Construction Ltd.\",\n    startDate: \"2024-06-01\",\n    status: \"Active\",\n  },\n  {\n    id: \"PROJ-2024-002\",\n    projectName: \"KL Central Mall Renovation\",\n    customerId: \"CUST-002\",\n    customerName: \"BuildRight Inc.\",\n    startDate: \"2024-03-01\",\n    status: \"Active\",\n  },\n  {\n    id: \"PROJ-2023-045\",\n    projectName: \"Pavilion Exterior Works\",\n    customerId: \"CUST-003\",\n    customerName: \"Metro Builders\",\n    startDate: \"2023-11-10\",\n    endDate: \"2024-06-30\",\n    status: \"Completed\",\n  },\n  {\n    id: \"PROJ-2024-008\",\n    projectName: \"Residential Renovation\",\n    customerId: \"CUST-004\",\n    customerName: \"Ahmad bin Abdullah\",\n    startDate: \"2024-04-15\",\n    status: \"Active\",\n  },\n];\n\n// Calculate running balance for transactions\nconst calculateRunningBalance = (transactions: Omit<Transaction, 'balance'>[]): Transaction[] => {\n  let balance = 0;\n  return transactions.map(tx => {\n    balance = balance + tx.debit - tx.credit;\n    return {\n      ...tx,\n      balance,\n    };\n  });\n};\n\nconst mockSOAData: { [key: string]: SOAData } = {\n  \"PROJ-2024-001\": {\n    project: mockProjects[0],\n    summary: {\n      totalDepositCollected: 15000.00,\n      totalMonthlyBilling: 48000.00,\n      totalPenalty: 720.00,\n      totalAdditionalCharges: 1250.50,\n      totalPaid: 52500.00,\n      finalBalance: 12470.50, // Customer owes\n    },\n    transactions: calculateRunningBalance([\n      {\n        id: \"TXN-001\",\n        date: \"2024-01-15\",\n        type: \"Deposit\",\n        reference: \"DEP-2024-001\",\n        description: \"Initial deposit for scaffolding rental\",\n        debit: 15000.00,\n        credit: 0,\n        status: \"Unpaid\",\n      },\n      {\n        id: \"TXN-002\",\n        date: \"2024-01-20\",\n        type: \"Deposit Payment\",\n        reference: \"PAY-2024-001\",\n        description: \"Deposit payment received\",\n        debit: 0,\n        credit: 15000.00,\n        status: \"Paid\",\n      },\n      {\n        id: \"TXN-003\",\n        date: \"2024-02-01\",\n        type: \"Monthly Bill\",\n        reference: \"INV-2024-001\",\n        description: \"Monthly rental - February 2024\",\n        debit: 12000.00,\n        credit: 0,\n        status: \"Unpaid\",\n      },\n      {\n        id: \"TXN-004\",\n        date: \"2024-02-10\",\n        type: \"Monthly Payment\",\n        reference: \"PAY-2024-002\",\n        description: \"Payment for INV-2024-001\",\n        debit: 0,\n        credit: 12000.00,\n        status: \"Paid\",\n      },\n      {\n        id: \"TXN-005\",\n        date: \"2024-03-01\",\n        type: \"Monthly Bill\",\n        reference: \"INV-2024-002\",\n        description: \"Monthly rental - March 2024\",\n        debit: 12000.00,\n        credit: 0,\n        status: \"Unpaid\",\n      },\n      {\n        id: \"TXN-006\",\n        date: \"2024-03-15\",\n        type: \"Monthly Payment\",\n        reference: \"PAY-2024-003\",\n        description: \"Payment for INV-2024-002\",\n        debit: 0,\n        credit: 12000.00,\n        status: \"Paid\",\n      },\n      {\n        id: \"TXN-007\",\n        date: \"2024-04-01\",\n        type: \"Monthly Bill\",\n        reference: \"INV-2024-003\",\n        description: \"Monthly rental - April 2024\",\n        debit: 12000.00,\n        credit: 0,\n        status: \"Unpaid\",\n      },\n      {\n        id: \"TXN-008\",\n        date: \"2024-04-25\",\n        type: \"Default Interest\",\n        reference: \"INT-2024-001\",\n        description: \"Late payment interest for INV-2024-003 (1.5% × RM12,000 × 1 month)\",\n        debit: 180.00,\n        credit: 0,\n        status: \"Unpaid\",\n      },\n      {\n        id: \"TXN-009\",\n        date: \"2024-04-28\",\n        type: \"Monthly Payment\",\n        reference: \"PAY-2024-004\",\n        description: \"Partial payment for INV-2024-003\",\n        debit: 0,\n        credit: 8000.00,\n        status: \"Paid\",\n      },\n      {\n        id: \"TXN-010\",\n        date: \"2024-05-01\",\n        type: \"Monthly Bill\",\n        reference: \"INV-2024-004\",\n        description: \"Monthly rental - May 2024\",\n        debit: 12000.00,\n        credit: 0,\n        status: \"Unpaid\",\n      },\n      {\n        id: \"TXN-011\",\n        date: \"2024-05-20\",\n        type: \"Additional Charge\",\n        reference: \"AC-2024-001\",\n        description: \"Damaged scaffolding components - inspection IR-2024-001\",\n        debit: 850.50,\n        credit: 0,\n        status: \"Unpaid\",\n      },\n      {\n        id: \"TXN-012\",\n        date: \"2024-05-22\",\n        type: \"Additional Charge Payment\",\n        reference: \"PAY-2024-005\",\n        description: \"Payment for AC-2024-001\",\n        debit: 0,\n        credit: 850.50,\n        status: \"Approved\",\n      },\n      {\n        id: \"TXN-013\",\n        date: \"2024-06-01\",\n        type: \"Credit Note\",\n        reference: \"CN-2024-001\",\n        description: \"Rebate for early return of items\",\n        debit: 0,\n        credit: 500.00,\n        status: \"Approved\",\n      },\n      {\n        id: \"TXN-014\",\n        date: \"2024-06-10\",\n        type: \"Additional Charge\",\n        reference: \"AC-2024-002\",\n        description: \"Missing items - DO-2024-015\",\n        debit: 400.00,\n        credit: 0,\n        status: \"Pending Approval\",\n      },\n      {\n        id: \"TXN-015\",\n        date: \"2024-06-15\",\n        type: \"Default Interest\",\n        reference: \"INT-2024-002\",\n        description: \"Late payment interest accumulation\",\n        debit: 540.00,\n        credit: 0,\n        status: \"Unpaid\",\n      },\n      {\n        id: \"TXN-016\",\n        date: \"2024-07-01\",\n        type: \"Monthly Payment\",\n        reference: \"PAY-2024-006\",\n        description: \"Bulk payment for outstanding invoices\",\n        debit: 0,\n        credit: 4150.00,\n        status: \"Paid\",\n      },\n    ]),\n  },\n  \"PROJ-2024-005\": {\n    project: mockProjects[1],\n    summary: {\n      totalDepositCollected: 10000.00,\n      totalMonthlyBilling: 24000.00,\n      totalPenalty: 0,\n      totalAdditionalCharges: 0,\n      totalPaid: 34000.00,\n      finalBalance: -5200.00, // Company owes customer (negative balance due to credit notes)\n    },\n    transactions: calculateRunningBalance([\n      {\n        id: \"TXN-501\",\n        date: \"2024-06-01\",\n        type: \"Deposit\",\n        reference: \"DEP-2024-005\",\n        description: \"Initial deposit for KLCC Extension Works\",\n        debit: 10000.00,\n        credit: 0,\n        status: \"Unpaid\",\n      },\n      {\n        id: \"TXN-502\",\n        date: \"2024-06-05\",\n        type: \"Deposit Payment\",\n        reference: \"PAY-2024-501\",\n        description: \"Deposit payment received\",\n        debit: 0,\n        credit: 10000.00,\n        status: \"Paid\",\n      },\n      {\n        id: \"TXN-503\",\n        date: \"2024-07-01\",\n        type: \"Monthly Bill\",\n        reference: \"INV-2024-501\",\n        description: \"Monthly rental - July 2024\",\n        debit: 12000.00,\n        credit: 0,\n        status: \"Unpaid\",\n      },\n      {\n        id: \"TXN-504\",\n        date: \"2024-07-08\",\n        type: \"Monthly Payment\",\n        reference: \"PAY-2024-502\",\n        description: \"Payment for INV-2024-501\",\n        debit: 0,\n        credit: 12000.00,\n        status: \"Paid\",\n      },\n      {\n        id: \"TXN-505\",\n        date: \"2024-08-01\",\n        type: \"Monthly Bill\",\n        reference: \"INV-2024-502\",\n        description: \"Monthly rental - August 2024\",\n        debit: 12000.00,\n        credit: 0,\n        status: \"Unpaid\",\n      },\n      {\n        id: \"TXN-506\",\n        date: \"2024-08-10\",\n        type: \"Monthly Payment\",\n        reference: \"PAY-2024-503\",\n        description: \"Payment for INV-2024-502\",\n        debit: 0,\n        credit: 12000.00,\n        status: \"Paid\",\n      },\n      {\n        id: \"TXN-507\",\n        date: \"2024-08-25\",\n        type: \"Credit Note\",\n        reference: \"CN-2024-005\",\n        description: \"Project completed early - Refund for unused rental period (15 days)\",\n        debit: 0,\n        credit: 3500.00,\n        status: \"Approved\",\n      },\n      {\n        id: \"TXN-508\",\n        date: \"2024-08-26\",\n        type: \"Credit Note\",\n        reference: \"CN-2024-006\",\n        description: \"Goodwill credit - Customer loyalty discount\",\n        debit: 0,\n        credit: 1200.00,\n        status: \"Approved\",\n      },\n      {\n        id: \"TXN-509\",\n        date: \"2024-08-27\",\n        type: \"Credit Note\",\n        reference: \"CN-2024-007\",\n        description: \"Refund for returned items in excellent condition\",\n        debit: 0,\n        credit: 500.00,\n        status: \"Approved\",\n      },\n    ]),\n  },\n  \"PROJ-2024-002\": {\n    project: mockProjects[1],\n    summary: {\n      totalDepositCollected: 20000.00,\n      totalMonthlyBilling: 72000.00,\n      totalPenalty: 0,\n      totalAdditionalCharges: 0,\n      totalPaid: 80000.00,\n      finalBalance: 12000.00,\n    },\n    transactions: calculateRunningBalance([\n      {\n        id: \"TXN-101\",\n        date: \"2024-03-01\",\n        type: \"Deposit\",\n        reference: \"DEP-2024-002\",\n        description: \"Initial deposit\",\n        debit: 20000.00,\n        credit: 0,\n        status: \"Unpaid\",\n      },\n      {\n        id: \"TXN-102\",\n        date: \"2024-03-05\",\n        type: \"Deposit Payment\",\n        reference: \"PAY-2024-101\",\n        description: \"Deposit payment received\",\n        debit: 0,\n        credit: 20000.00,\n        status: \"Paid\",\n      },\n      {\n        id: \"TXN-103\",\n        date: \"2024-04-01\",\n        type: \"Monthly Bill\",\n        reference: \"INV-2024-101\",\n        description: \"Monthly rental - April 2024\",\n        debit: 18000.00,\n        credit: 0,\n        status: \"Unpaid\",\n      },\n      {\n        id: \"TXN-104\",\n        date: \"2024-04-08\",\n        type: \"Monthly Payment\",\n        reference: \"PAY-2024-102\",\n        description: \"Payment for INV-2024-101\",\n        debit: 0,\n        credit: 18000.00,\n        status: \"Paid\",\n      },\n      {\n        id: \"TXN-105\",\n        date: \"2024-05-01\",\n        type: \"Monthly Bill\",\n        reference: \"INV-2024-102\",\n        description: \"Monthly rental - May 2024\",\n        debit: 18000.00,\n        credit: 0,\n        status: \"Unpaid\",\n      },\n      {\n        id: \"TXN-106\",\n        date: \"2024-05-10\",\n        type: \"Monthly Payment\",\n        reference: \"PAY-2024-103\",\n        description: \"Payment for INV-2024-102\",\n        debit: 0,\n        credit: 18000.00,\n        status: \"Paid\",\n      },\n      {\n        id: \"TXN-107\",\n        date: \"2024-06-01\",\n        type: \"Monthly Bill\",\n        reference: \"INV-2024-103\",\n        description: \"Monthly rental - June 2024\",\n        debit: 18000.00,\n        credit: 0,\n        status: \"Unpaid\",\n      },\n      {\n        id: \"TXN-108\",\n        date: \"2024-06-12\",\n        type: \"Monthly Payment\",\n        reference: \"PAY-2024-104\",\n        description: \"Payment for INV-2024-103\",\n        debit: 0,\n        credit: 18000.00,\n        status: \"Paid\",\n      },\n      {\n        id: \"TXN-109\",\n        date: \"2024-07-01\",\n        type: \"Monthly Bill\",\n        reference: \"INV-2024-104\",\n        description: \"Monthly rental - July 2024\",\n        debit: 18000.00,\n        credit: 0,\n        status: \"Unpaid\",\n      },\n      {\n        id: \"TXN-110\",\n        date: \"2024-07-15\",\n        type: \"Monthly Payment\",\n        reference: \"PAY-2024-105\",\n        description: \"Payment for INV-2024-104\",\n        debit: 0,\n        credit: 6000.00,\n        status: \"Paid\",\n      },\n    ]),\n  },\n  \"PROJ-2023-045\": {\n    project: mockProjects[3],\n    summary: {\n      totalDepositCollected: 25000.00,\n      totalMonthlyBilling: 56000.00,\n      totalPenalty: 0,\n      totalAdditionalCharges: 1500.00,\n      totalPaid: 57500.00,\n      finalBalance: 0, // Project closed, fully settled\n    },\n    transactions: calculateRunningBalance([\n      {\n        id: \"TXN-301\",\n        date: \"2023-11-10\",\n        type: \"Deposit\",\n        reference: \"DEP-2023-045\",\n        description: \"Initial project deposit - Pavilion Exterior Works\",\n        debit: 25000.00,\n        credit: 0,\n        status: \"Unpaid\",\n      },\n      {\n        id: \"TXN-302\",\n        date: \"2023-11-15\",\n        type: \"Deposit Payment\",\n        reference: \"PAY-2023-301\",\n        description: \"Deposit payment received\",\n        debit: 0,\n        credit: 25000.00,\n        status: \"Paid\",\n      },\n      {\n        id: \"TXN-303\",\n        date: \"2023-12-01\",\n        type: \"Monthly Bill\",\n        reference: \"INV-2023-301\",\n        description: \"Monthly rental - December 2023\",\n        debit: 14000.00,\n        credit: 0,\n        status: \"Unpaid\",\n      },\n      {\n        id: \"TXN-304\",\n        date: \"2023-12-08\",\n        type: \"Monthly Payment\",\n        reference: \"PAY-2023-302\",\n        description: \"Payment for INV-2023-301\",\n        debit: 0,\n        credit: 14000.00,\n        status: \"Paid\",\n      },\n      {\n        id: \"TXN-305\",\n        date: \"2024-01-01\",\n        type: \"Monthly Bill\",\n        reference: \"INV-2024-301\",\n        description: \"Monthly rental - January 2024\",\n        debit: 14000.00,\n        credit: 0,\n        status: \"Unpaid\",\n      },\n      {\n        id: \"TXN-306\",\n        date: \"2024-01-10\",\n        type: \"Monthly Payment\",\n        reference: \"PAY-2024-301\",\n        description: \"Payment for INV-2024-301\",\n        debit: 0,\n        credit: 14000.00,\n        status: \"Paid\",\n      },\n      {\n        id: \"TXN-307\",\n        date: \"2024-02-01\",\n        type: \"Monthly Bill\",\n        reference: \"INV-2024-302\",\n        description: \"Monthly rental - February 2024\",\n        debit: 14000.00,\n        credit: 0,\n        status: \"Unpaid\",\n      },\n      {\n        id: \"TXN-308\",\n        date: \"2024-02-12\",\n        type: \"Monthly Payment\",\n        reference: \"PAY-2024-302\",\n        description: \"Payment for INV-2024-302\",\n        debit: 0,\n        credit: 14000.00,\n        status: \"Paid\",\n      },\n      {\n        id: \"TXN-309\",\n        date: \"2024-03-01\",\n        type: \"Monthly Bill\",\n        reference: \"INV-2024-303\",\n        description: \"Monthly rental - March 2024\",\n        debit: 14000.00,\n        credit: 0,\n        status: \"Unpaid\",\n      },\n      {\n        id: \"TXN-310\",\n        date: \"2024-03-15\",\n        type: \"Monthly Payment\",\n        reference: \"PAY-2024-303\",\n        description: \"Payment for INV-2024-303\",\n        debit: 0,\n        credit: 14000.00,\n        status: \"Paid\",\n      },\n      {\n        id: \"TXN-311\",\n        date: \"2024-04-15\",\n        type: \"Additional Charge\",\n        reference: \"AC-2024-301\",\n        description: \"Minor damages upon return inspection\",\n        debit: 1500.00,\n        credit: 0,\n        status: \"Unpaid\",\n      },\n      {\n        id: \"TXN-312\",\n        date: \"2024-04-20\",\n        type: \"Additional Charge Payment\",\n        reference: \"PAY-2024-304\",\n        description: \"Payment for AC-2024-301\",\n        debit: 0,\n        credit: 1500.00,\n        status: \"Approved\",\n      },\n      {\n        id: \"TXN-313\",\n        date: \"2024-06-25\",\n        type: \"Credit Note\",\n        reference: \"CN-2024-301\",\n        description: \"Project closure - Full deposit refund\",\n        debit: 0,\n        credit: 25000.00,\n        status: \"Approved\",\n      },\n      {\n        id: \"TXN-314\",\n        date: \"2024-06-30\",\n        type: \"Deposit Payment\",\n        reference: \"REF-2024-301\",\n        description: \"Deposit refund processed to customer\",\n        debit: 25000.00,\n        credit: 0,\n        status: \"Refunded\",\n      },\n      {\n        id: \"TXN-315\",\n        date: \"2024-06-30\",\n        type: \"Monthly Payment\",\n        reference: \"PAY-2024-305\",\n        description: \"Final settlement - Deposit offset against refund\",\n        debit: 0,\n        credit: 25000.00,\n        status: \"Paid\",\n      },\n    ]),\n  },\n  \"PROJ-2024-008\": {\n    project: mockProjects[4],\n    summary: {\n      totalDepositCollected: 8000.00,\n      totalMonthlyBilling: 32000.00,\n      totalPenalty: 0,\n      totalAdditionalCharges: 0,\n      totalPaid: 40000.00,\n      finalBalance: 0, // All paid\n    },\n    transactions: calculateRunningBalance([\n      {\n        id: \"TXN-401\",\n        date: \"2024-04-15\",\n        type: \"Deposit\",\n        reference: \"DEP-2024-008\",\n        description: \"Initial project deposit - Residential Renovation\",\n        debit: 8000.00,\n        credit: 0,\n        status: \"Unpaid\",\n      },\n      {\n        id: \"TXN-402\",\n        date: \"2024-04-18\",\n        type: \"Deposit Payment\",\n        reference: \"PAY-2024-401\",\n        description: \"Deposit payment received\",\n        debit: 0,\n        credit: 8000.00,\n        status: \"Paid\",\n      },\n      {\n        id: \"TXN-403\",\n        date: \"2024-05-01\",\n        type: \"Monthly Bill\",\n        reference: \"INV-2024-401\",\n        description: \"Monthly rental - May 2024\",\n        debit: 8000.00,\n        credit: 0,\n        status: \"Unpaid\",\n      },\n      {\n        id: \"TXN-404\",\n        date: \"2024-05-05\",\n        type: \"Monthly Payment\",\n        reference: \"PAY-2024-402\",\n        description: \"Payment for INV-2024-401\",\n        debit: 0,\n        credit: 8000.00,\n        status: \"Paid\",\n      },\n      {\n        id: \"TXN-405\",\n        date: \"2024-06-01\",\n        type: \"Monthly Bill\",\n        reference: \"INV-2024-402\",\n        description: \"Monthly rental - June 2024\",\n        debit: 8000.00,\n        credit: 0,\n        status: \"Unpaid\",\n      },\n      {\n        id: \"TXN-406\",\n        date: \"2024-06-08\",\n        type: \"Monthly Payment\",\n        reference: \"PAY-2024-403\",\n        description: \"Payment for INV-2024-402\",\n        debit: 0,\n        credit: 8000.00,\n        status: \"Paid\",\n      },\n      {\n        id: \"TXN-407\",\n        date: \"2024-07-01\",\n        type: \"Monthly Bill\",\n        reference: \"INV-2024-403\",\n        description: \"Monthly rental - July 2024\",\n        debit: 8000.00,\n        credit: 0,\n        status: \"Unpaid\",\n      },\n      {\n        id: \"TXN-408\",\n        date: \"2024-07-10\",\n        type: \"Monthly Payment\",\n        reference: \"PAY-2024-404\",\n        description: \"Payment for INV-2024-403\",\n        debit: 0,\n        credit: 8000.00,\n        status: \"Paid\",\n      },\n      {\n        id: \"TXN-409\",\n        date: \"2024-08-01\",\n        type: \"Monthly Bill\",\n        reference: \"INV-2024-404\",\n        description: \"Monthly rental - August 2024\",\n        debit: 8000.00,\n        credit: 0,\n        status: \"Unpaid\",\n      },\n      {\n        id: \"TXN-410\",\n        date: \"2024-08-12\",\n        type: \"Monthly Payment\",\n        reference: \"PAY-2024-405\",\n        description: \"Payment for INV-2024-404\",\n        debit: 0,\n        credit: 8000.00,\n        status: \"Paid\",\n      },\n    ]),\n  },\n};\n\nexport function StatementOfAccount() {\n  const [selectedCustomer, setSelectedCustomer] = useState<Customer | null>(null);\n  const [selectedProject, setSelectedProject] = useState<Project | null>(null);\n  const [soaData, setSOAData] = useState<SOAData | null>(null);\n\n  const handleCustomerChange = (customer: Customer) => {\n    setSelectedCustomer(customer);\n    // No need to reset project when customer changes since we're selecting project first\n  };\n\n  const handleProjectChange = (project: Project) => {\n    setSelectedProject(project);\n    setSOAData(mockSOAData[project.id] || null);\n  };\n\n  const handleExportPDF = () => {\n    if (!selectedProject) {\n      toast.error(\"Please select a project first\");\n      return;\n    }\n    toast.success(\"Exporting statement as PDF...\");\n    // Implement PDF export logic\n  };\n\n  const handlePrint = () => {\n    if (!selectedProject) {\n      toast.error(\"Please select a project first\");\n      return;\n    }\n    window.print();\n  };\n\n  const handleViewTransactionDetails = (transaction: Transaction) => {\n    console.log(\"View transaction details:\", transaction);\n    // Implement transaction details modal\n  };\n\n  return (\n    <div className=\"space-y-6 p-6\">\n      {/* Header */}\n      <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\n        <div>\n          <h1>Statement of Account (SOA)</h1>\n          <p className=\"text-[#374151]\">\n            View complete financial health and transaction history for customer projects\n          </p>\n        </div>\n        <div className=\"flex gap-2\">\n          <Button\n            onClick={handleExportPDF}\n            disabled={!selectedProject}\n            className=\"bg-[#F15929] hover:bg-[#D14721] text-white h-10 px-4 rounded-md\"\n          >\n            <FileDown className=\"mr-2 h-4 w-4\" />\n            Export as PDF\n          </Button>\n          <Button\n            onClick={handlePrint}\n            disabled={!selectedProject}\n            variant=\"outline\"\n            className=\"h-10 px-4 border-[#D1D5DB] rounded-md hover:bg-[#F9FAFB]\"\n          >\n            <Printer className=\"mr-2 h-4 w-4\" />\n            Print\n          </Button>\n        </div>\n      </div>\n\n      {/* Customer & Project Selector */}\n      <ProjectSelector\n        customers={mockCustomers}\n        projects={mockProjects}\n        selectedCustomer={selectedCustomer}\n        selectedProject={selectedProject}\n        onCustomerChange={handleCustomerChange}\n        onProjectChange={handleProjectChange}\n      />\n\n      {/* Content - Only show when project is selected */}\n      {soaData && (\n        <>\n          {/* Financial Summary Cards */}\n          <FinancialSummaryCards summary={soaData.summary} />\n\n          {/* Project Financial Status Indicator */}\n          <div\n            className={`p-6 rounded-lg border-2 ${\n              soaData.summary.finalBalance > 0\n                ? \"border-[#DC2626] bg-[#FEF2F2]\"\n                : \"border-[#10B981] bg-[#F0FDF4]\"\n            }`}\n          >\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-[#6B7280] mb-1\">\n                  Project Financial Status\n                </p>\n                <p\n                  className={`text-3xl ${\n                    soaData.summary.finalBalance > 0\n                      ? \"text-[#DC2626]\"\n                      : \"text-[#10B981]\"\n                  }`}\n                >\n                  {soaData.summary.finalBalance > 0 ? (\n                    <>⚠️ Customer Owes: RM{soaData.summary.finalBalance.toFixed(2)}</>\n                  ) : (\n                    <>✓ Customer Has Credit: RM{Math.abs(soaData.summary.finalBalance).toFixed(2)}</>\n                  )}\n                </p>\n              </div>\n              <div className=\"text-right text-sm text-[#6B7280]\">\n                <p>Formula: Total Charged - Total Paid</p>\n                <p className=\"mt-1\">\n                  RM{(\n                    soaData.summary.totalDepositCollected +\n                    soaData.summary.totalMonthlyBilling +\n                    soaData.summary.totalPenalty +\n                    soaData.summary.totalAdditionalCharges\n                  ).toFixed(2)}{\" \"}\n                  - RM{soaData.summary.totalPaid.toFixed(2)} = RM\n                  {soaData.summary.finalBalance.toFixed(2)}\n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* Transaction Ledger */}\n          <TransactionLedger\n            transactions={soaData.transactions}\n            onViewDetails={handleViewTransactionDetails}\n          />\n        </>\n      )}\n\n      {/* Empty State */}\n      {!selectedProject && (\n        <div className=\"flex flex-col items-center justify-center py-16 text-center\">\n          <div className=\"w-20 h-20 bg-[#F9FAFB] rounded-full flex items-center justify-center mb-4\">\n            <FileText className=\"h-10 w-10 text-[#9CA3AF]\" />\n          </div>\n          <h3 className=\"text-[#231F20] mb-2\">\n            No Project Selected\n          </h3>\n          <p className=\"text-[#6B7280] max-w-md\">\n            Please select a project from the dropdown above to view its complete statement of account and transaction history. The customer will be automatically identified.\n          </p>\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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"}}]
}