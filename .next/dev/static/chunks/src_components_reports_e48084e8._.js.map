{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/reports/ReportGenerationEnhanced.tsx"],"sourcesContent":["import { useState } from 'react';\nimport {\n  FileText, Download, Calendar as CalendarIcon,\n  TrendingUp, Package, DollarSign, Search,\n  FileSpreadsheet, Filter, BarChart3,\n  Clock, AlertCircle, CheckCircle2, PieChart\n} from 'lucide-react';\nimport { Button } from '../ui/button';\nimport { Input } from '../ui/input';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '../ui/card';\nimport { Badge } from '../ui/badge';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '../ui/select';\nimport { Label } from '../ui/label';\nimport { Calendar } from '../ui/calendar';\nimport { Popover, PopoverContent, PopoverTrigger } from '../ui/popover';\nimport { toast } from 'sonner';\nimport { format } from 'date-fns';\nimport {\n  BarChart as RechartsBarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n  PieChart as RechartsPieChart,\n  Pie,\n  Cell,\n  LineChart,\n  Line,\n  AreaChart,\n  Area\n} from 'recharts';\n\ntype ReportType = 'rental-performance' | 'inventory-utilization' | 'financial';\n\ninterface ReportFilters {\n  searchQuery: string;\n  category: string;\n  dateFrom?: Date;\n  dateTo?: Date;\n  status?: string;\n}\n\n// Mock data\nconst mockRentalData = [\n  {\n    itemId: 'PIPE-001',\n    itemName: 'Standard Scaffolding Pipe 6ft',\n    category: 'Pipes',\n    totalRentals: 145,\n    totalRevenue: 72500,\n    avgRentalDuration: 28,\n    quantityRented: 450,\n    totalQuantity: 500,\n    utilizationRate: 90\n  },\n  {\n    itemId: 'BOARD-003',\n    itemName: 'Metal Deck Board 7ft',\n    category: 'Boards',\n    totalRentals: 98,\n    totalRevenue: 58800,\n    avgRentalDuration: 35,\n    quantityRented: 280,\n    totalQuantity: 350,\n    utilizationRate: 80\n  },\n  {\n    itemId: 'FRAME-005',\n    itemName: 'Walk-Through Frame 6x4',\n    category: 'Frames',\n    totalRentals: 76,\n    totalRevenue: 45600,\n    avgRentalDuration: 42,\n    quantityRented: 150,\n    totalQuantity: 200,\n    utilizationRate: 75\n  },\n  {\n    itemId: 'COUP-002',\n    itemName: 'Swivel Coupler Heavy Duty',\n    category: 'Couplings',\n    totalRentals: 203,\n    totalRevenue: 40600,\n    avgRentalDuration: 21,\n    quantityRented: 800,\n    totalQuantity: 1000,\n    utilizationRate: 80\n  },\n  {\n    itemId: 'SAFE-001',\n    itemName: 'Safety Harness Full Body',\n    category: 'Safety',\n    totalRentals: 54,\n    totalRevenue: 27000,\n    avgRentalDuration: 14,\n    quantityRented: 90,\n    totalQuantity: 120,\n    utilizationRate: 75\n  }\n];\n\nconst mockInventoryData = [\n  {\n    itemId: 'PIPE-001',\n    itemName: 'Standard Scaffolding Pipe 6ft',\n    category: 'Pipes',\n    totalQuantity: 500,\n    inUse: 450,\n    idle: 50,\n    utilizationRate: 90,\n    avgIdleDays: 12,\n    location: 'Warehouse A',\n    condition: 'Good'\n  },\n  {\n    itemId: 'BOARD-003',\n    itemName: 'Metal Deck Board 7ft',\n    category: 'Boards',\n    totalQuantity: 350,\n    inUse: 280,\n    idle: 70,\n    utilizationRate: 80,\n    avgIdleDays: 18,\n    location: 'Warehouse A',\n    condition: 'Good'\n  },\n  {\n    itemId: 'FRAME-005',\n    itemName: 'Walk-Through Frame 6x4',\n    category: 'Frames',\n    totalQuantity: 200,\n    inUse: 150,\n    idle: 50,\n    utilizationRate: 75,\n    avgIdleDays: 25,\n    location: 'Warehouse B',\n    condition: 'Fair'\n  },\n  {\n    itemId: 'COUP-002',\n    itemName: 'Swivel Coupler Heavy Duty',\n    category: 'Couplings',\n    totalQuantity: 1000,\n    inUse: 800,\n    idle: 200,\n    utilizationRate: 80,\n    avgIdleDays: 8,\n    location: 'Warehouse A',\n    condition: 'Good'\n  },\n  {\n    itemId: 'ACC-008',\n    itemName: 'Base Plate Adjustable',\n    category: 'Accessories',\n    totalQuantity: 300,\n    inUse: 120,\n    idle: 180,\n    utilizationRate: 40,\n    avgIdleDays: 45,\n    location: 'Warehouse C',\n    condition: 'Good'\n  }\n];\n\nconst mockFinancialData = [\n  {\n    customerId: 'CUST-001',\n    customerName: 'Stellar Construction Sdn Bhd',\n    totalInvoiced: 125000,\n    totalPaid: 95000,\n    outstanding: 30000,\n    overdueDays: 0,\n    lastPaymentDate: '2024-11-25',\n    numberOfInvoices: 8,\n    status: 'Current'\n  },\n  {\n    customerId: 'CUST-002',\n    customerName: 'Metro Builders',\n    totalInvoiced: 98500,\n    totalPaid: 98500,\n    outstanding: 0,\n    overdueDays: 0,\n    lastPaymentDate: '2024-11-20',\n    numberOfInvoices: 6,\n    status: 'Paid'\n  },\n  {\n    customerId: 'CUST-003',\n    customerName: 'Pacific Development Corp',\n    totalInvoiced: 156000,\n    totalPaid: 110000,\n    outstanding: 46000,\n    overdueDays: 15,\n    lastPaymentDate: '2024-11-10',\n    numberOfInvoices: 10,\n    status: 'Overdue'\n  },\n  {\n    customerId: 'CUST-004',\n    customerName: 'Horizon Projects Ltd',\n    totalInvoiced: 87500,\n    totalPaid: 75000,\n    outstanding: 12500,\n    overdueDays: 0,\n    lastPaymentDate: '2024-11-22',\n    numberOfInvoices: 5,\n    status: 'Current'\n  },\n  {\n    customerId: 'CUST-005',\n    customerName: 'Summit Engineering',\n    totalInvoiced: 203000,\n    totalPaid: 150000,\n    outstanding: 53000,\n    overdueDays: 32,\n    lastPaymentDate: '2024-10-28',\n    numberOfInvoices: 12,\n    status: 'Overdue'\n  }\n];\n\nconst COLORS = ['#F15929', '#10b981', '#3b82f6', '#f59e0b', '#8b5cf6', '#ec4899'];\n\nexport function ReportGenerationEnhanced() {\n  const [selectedReport, setSelectedReport] = useState<ReportType>('rental-performance');\n  const [filters, setFilters] = useState<ReportFilters>({\n    searchQuery: '',\n    category: 'all',\n    status: 'all'\n  });\n  const [dateFrom, setDateFrom] = useState<Date>();\n  const [dateTo, setDateTo] = useState<Date>();\n  const [isReportGenerated, setIsReportGenerated] = useState(false);\n\n  const getFilteredRentalData = () => {\n    return mockRentalData.filter(item => {\n      const matchesSearch = item.itemName.toLowerCase().includes(filters.searchQuery.toLowerCase()) ||\n                           item.itemId.toLowerCase().includes(filters.searchQuery.toLowerCase());\n      const matchesCategory = filters.category === 'all' || item.category === filters.category;\n      return matchesSearch && matchesCategory;\n    });\n  };\n\n  const getFilteredInventoryData = () => {\n    return mockInventoryData.filter(item => {\n      const matchesSearch = item.itemName.toLowerCase().includes(filters.searchQuery.toLowerCase()) ||\n                           item.itemId.toLowerCase().includes(filters.searchQuery.toLowerCase());\n      const matchesCategory = filters.category === 'all' || item.category === filters.category;\n      return matchesSearch && matchesCategory;\n    });\n  };\n\n  const getFilteredFinancialData = () => {\n    return mockFinancialData.filter(item => {\n      const matchesSearch = item.customerName.toLowerCase().includes(filters.searchQuery.toLowerCase()) ||\n                           item.customerId.toLowerCase().includes(filters.searchQuery.toLowerCase());\n      const matchesStatus = filters.status === 'all' || item.status === filters.status;\n      return matchesSearch && matchesStatus;\n    });\n  };\n\n  const calculateSummary = () => {\n    if (selectedReport === 'rental-performance') {\n      const data = getFilteredRentalData();\n      return {\n        totalRentals: data.reduce((sum, item) => sum + item.totalRentals, 0),\n        totalRevenue: data.reduce((sum, item) => sum + item.totalRevenue, 0),\n        avgDuration: Math.round(data.reduce((sum, item) => sum + item.avgRentalDuration, 0) / data.length),\n        avgUtilization: Math.round(data.reduce((sum, item) => sum + item.utilizationRate, 0) / data.length)\n      };\n    } else if (selectedReport === 'inventory-utilization') {\n      const data = getFilteredInventoryData();\n      return {\n        totalItems: data.reduce((sum, item) => sum + item.totalQuantity, 0),\n        inUse: data.reduce((sum, item) => sum + item.inUse, 0),\n        idle: data.reduce((sum, item) => sum + item.idle, 0),\n        avgUtilization: Math.round(data.reduce((sum, item) => sum + item.utilizationRate, 0) / data.length),\n        avgIdleDays: Math.round(data.reduce((sum, item) => sum + item.avgIdleDays, 0) / data.length)\n      };\n    } else {\n      const data = getFilteredFinancialData();\n      return {\n        totalInvoiced: data.reduce((sum, item) => sum + item.totalInvoiced, 0),\n        totalPaid: data.reduce((sum, item) => sum + item.totalPaid, 0),\n        totalOutstanding: data.reduce((sum, item) => sum + item.outstanding, 0),\n        overdueCount: data.filter(item => item.status === 'Overdue').length\n      };\n    }\n  };\n\n  const summary = calculateSummary();\n\n  const getReportTitle = () => {\n    switch (selectedReport) {\n      case 'rental-performance':\n        return 'Rental Performance Report';\n      case 'inventory-utilization':\n        return 'Inventory Utilization Report';\n      case 'financial':\n        return 'Financial Report';\n      default:\n        return 'Report';\n    }\n  };\n\n  const getReportDescription = () => {\n    switch (selectedReport) {\n      case 'rental-performance':\n        return 'Track rental statistics, revenue generated, and average rental durations';\n      case 'inventory-utilization':\n        return 'Analyze scaffolding utilization rates and identify idle inventory';\n      case 'financial':\n        return 'Review sales summaries and outstanding payment tracking';\n      default:\n        return '';\n    }\n  };\n\n  const exportToCSV = () => {\n    let csvContent = 'Power Metal & Steel - Report\\n';\n    csvContent += `Report Type: ${getReportTitle()}\\n`;\n    csvContent += `Generated on: ${new Date().toLocaleString()}\\n`;\n    if (dateFrom && dateTo) {\n      csvContent += `Period: ${format(dateFrom, 'PPP')} - ${format(dateTo, 'PPP')}\\n`;\n    }\n    csvContent += '\\n';\n\n    if (selectedReport === 'rental-performance') {\n      const data = getFilteredRentalData();\n      csvContent += 'Item Code,Item Name,Category,Total Rentals,Revenue (RM),Avg Duration (days),Utilization (%)\\n';\n      data.forEach(item => {\n        csvContent += `${item.itemId},\"${item.itemName}\",${item.category},${item.totalRentals},${item.totalRevenue},${item.avgRentalDuration},${item.utilizationRate}\\n`;\n      });\n    } else if (selectedReport === 'inventory-utilization') {\n      const data = getFilteredInventoryData();\n      csvContent += 'Item Code,Item Name,Category,Total Qty,In Use,Idle,Utilization (%),Avg Idle Days,Location,Condition\\n';\n      data.forEach(item => {\n        csvContent += `${item.itemId},\"${item.itemName}\",${item.category},${item.totalQuantity},${item.inUse},${item.idle},${item.utilizationRate},${item.avgIdleDays},${item.location},${item.condition}\\n`;\n      });\n    } else if (selectedReport === 'financial') {\n      const data = getFilteredFinancialData();\n      csvContent += 'Customer ID,Customer Name,Invoiced (RM),Paid (RM),Outstanding (RM),Overdue Days,Last Payment,Invoices,Status\\n';\n      data.forEach(item => {\n        csvContent += `${item.customerId},\"${item.customerName}\",${item.totalInvoiced},${item.totalPaid},${item.outstanding},${item.overdueDays},${item.lastPaymentDate},${item.numberOfInvoices},${item.status}\\n`;\n      });\n    }\n\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `${getReportTitle().replace(/\\s+/g, '_')}_${new Date().toISOString().split('T')[0]}.csv`;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    URL.revokeObjectURL(url);\n    \n    toast.success('Report exported to CSV successfully');\n  };\n\n  const exportToPDF = async () => {\n    toast.info('Preparing PDF export...');\n    \n    // Generate chart images\n    const chartImages: { [key: string]: string } = {};\n    \n    try {\n      // Get all chart containers\n      const chartElements = document.querySelectorAll('.recharts-wrapper');\n      \n      for (let i = 0; i < chartElements.length; i++) {\n        const chartElement = chartElements[i];\n        const svgElement = chartElement.querySelector('svg');\n        \n        if (svgElement) {\n          try {\n            // Clone the SVG to avoid modifying the original\n            const clonedSvg = svgElement.cloneNode(true) as SVGElement;\n            \n            // Set explicit dimensions\n            const width = svgElement.width.baseVal.value || 800;\n            const height = svgElement.height.baseVal.value || 300;\n            clonedSvg.setAttribute('width', width.toString());\n            clonedSvg.setAttribute('height', height.toString());\n            \n            // Serialize the SVG\n            const svgData = new XMLSerializer().serializeToString(clonedSvg);\n            const svgBlob = new Blob([svgData], { type: 'image/svg+xml;charset=utf-8' });\n            const url = URL.createObjectURL(svgBlob);\n            \n            // Convert SVG to canvas\n            const canvas = document.createElement('canvas');\n            const ctx = canvas.getContext('2d');\n            const img = new Image();\n            \n            // Wait for image to load\n            await new Promise<void>((resolve, reject) => {\n              img.onload = () => {\n                try {\n                  canvas.width = width;\n                  canvas.height = height;\n                  \n                  if (ctx) {\n                    // Fill white background\n                    ctx.fillStyle = '#ffffff';\n                    ctx.fillRect(0, 0, width, height);\n                    \n                    // Draw the image\n                    ctx.drawImage(img, 0, 0, width, height);\n                  }\n                  \n                  // Convert to data URL with high quality\n                  chartImages[`chart${i}`] = canvas.toDataURL('image/png', 1.0);\n                  URL.revokeObjectURL(url);\n                  resolve();\n                } catch (error) {\n                  console.error('Error drawing to canvas:', error);\n                  reject(error);\n                }\n              };\n              \n              img.onerror = () => {\n                console.error('Error loading SVG image');\n                URL.revokeObjectURL(url);\n                reject(new Error('Failed to load SVG'));\n              };\n              \n              img.src = url;\n            });\n          } catch (error) {\n            console.error(`Error converting chart ${i} to image:`, error);\n          }\n        }\n      }\n\n      // Open print window and generate PDF\n      const printWindow = window.open('', '_blank');\n      if (!printWindow) {\n        toast.error('Please allow pop-ups to export PDF');\n        return;\n      }\n\n      const htmlContent = `\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <title>${getReportTitle()}</title>\n          <meta charset=\"UTF-8\">\n          <style>\n            * { margin: 0; padding: 0; box-sizing: border-box; }\n            @page {\n              size: A4;\n              margin: 15mm;\n            }\n            body { \n              font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; \n              color: #231F20;\n              background: white;\n              line-height: 1.6;\n            }\n            \n            /* Cover Page */\n            .cover-page {\n              height: 100vh;\n              display: flex;\n              flex-direction: column;\n              justify-content: center;\n              align-items: center;\n              text-align: center;\n              page-break-after: always;\n              background: linear-gradient(135deg, #231F20 0%, #4a4647 100%);\n              color: white;\n              padding: 60px 40px;\n            }\n            .cover-logo {\n              font-size: 48px;\n              font-weight: bold;\n              color: #F15929;\n              margin-bottom: 20px;\n              letter-spacing: 2px;\n            }\n            .cover-title {\n              font-size: 36px;\n              font-weight: bold;\n              margin: 30px 0 20px;\n              color: white;\n            }\n            .cover-subtitle {\n              font-size: 20px;\n              color: #E5E7EB;\n              margin-bottom: 40px;\n            }\n            .cover-date {\n              font-size: 16px;\n              color: #F15929;\n              margin-top: 60px;\n              padding: 15px 30px;\n              border: 2px solid #F15929;\n              border-radius: 8px;\n              display: inline-block;\n            }\n            \n            /* Content Pages */\n            .content-page {\n              padding: 20px 40px;\n            }\n            \n            /* Header with company branding */\n            .page-header { \n              border-bottom: 3px solid #F15929;\n              padding-bottom: 15px;\n              margin-bottom: 30px;\n            }\n            .company-name { \n              font-size: 20px;\n              font-weight: bold;\n              color: #231F20;\n            }\n            .report-info {\n              font-size: 12px;\n              color: #6B7280;\n              margin-top: 5px;\n            }\n            \n            /* Summary Section */\n            .summary-section {\n              background: linear-gradient(135deg, #FFF5F2 0%, #FFF 100%);\n              border-left: 4px solid #F15929;\n              padding: 20px;\n              margin: 30px 0;\n              border-radius: 8px;\n              page-break-inside: avoid;\n            }\n            .summary-title {\n              font-size: 20px;\n              font-weight: bold;\n              color: #231F20;\n              margin-bottom: 15px;\n            }\n            .summary-grid {\n              display: grid;\n              grid-template-columns: repeat(4, 1fr);\n              gap: 20px;\n            }\n            .summary-card {\n              text-align: center;\n              padding: 15px;\n              background: white;\n              border-radius: 8px;\n              box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            }\n            .summary-label {\n              font-size: 12px;\n              color: #6B7280;\n              margin-bottom: 8px;\n              text-transform: uppercase;\n              letter-spacing: 0.5px;\n            }\n            .summary-value {\n              font-size: 24px;\n              font-weight: bold;\n              color: #F15929;\n            }\n            \n            /* Charts */\n            .chart-section { \n              margin: 40px 0;\n              page-break-inside: avoid;\n              background: white;\n            }\n            .chart-title { \n              font-size: 18px;\n              font-weight: bold;\n              color: #231F20;\n              margin-bottom: 8px;\n              padding-left: 15px;\n              border-left: 4px solid #F15929;\n            }\n            .chart-description { \n              font-size: 13px;\n              color: #6B7280;\n              margin-bottom: 20px;\n              padding-left: 19px;\n            }\n            .chart-image { \n              width: 100%;\n              max-width: 100%;\n              height: auto;\n              margin: 0 auto;\n              display: block;\n              border: 1px solid #E5E7EB;\n              border-radius: 8px;\n              background: white;\n              box-shadow: 0 2px 4px rgba(0,0,0,0.05);\n            }\n            \n            /* Tables */\n            .table-section {\n              margin: 40px 0;\n              page-break-before: always;\n            }\n            .table-title {\n              font-size: 20px;\n              font-weight: bold;\n              color: #231F20;\n              margin-bottom: 20px;\n              padding-bottom: 10px;\n              border-bottom: 2px solid #F15929;\n            }\n            table { \n              width: 100%;\n              border-collapse: collapse;\n              margin: 20px 0;\n              background: white;\n              font-size: 11px;\n            }\n            thead {\n              background: linear-gradient(135deg, #231F20 0%, #3a3637 100%);\n            }\n            th { \n              color: white;\n              font-weight: 600;\n              padding: 12px 10px;\n              text-align: left;\n              border: none;\n              text-transform: uppercase;\n              letter-spacing: 0.5px;\n              font-size: 10px;\n            }\n            td { \n              padding: 10px;\n              border-bottom: 1px solid #E5E7EB;\n            }\n            tr:nth-child(even) { \n              background-color: #F9FAFB;\n            }\n            tr:hover {\n              background-color: #FFF5F2;\n            }\n            \n            /* Footer */\n            .footer { \n              margin-top: 60px;\n              padding-top: 20px;\n              border-top: 2px solid #E5E7EB;\n              text-align: center;\n              font-size: 11px;\n              color: #6B7280;\n            }\n            .footer-logo {\n              color: #F15929;\n              font-weight: bold;\n              font-size: 13px;\n              margin-bottom: 8px;\n            }\n            \n            @media print {\n              body {\n                margin: 0;\n                padding: 0;\n              }\n              .chart-section,\n              .table-section,\n              .summary-section {\n                page-break-inside: avoid;\n              }\n              .cover-page {\n                page-break-after: always;\n              }\n            }\n          </style>\n        </head>\n        <body>\n          <!-- Cover Page -->\n          <div class=\"cover-page\">\n            <div class=\"cover-logo\">POWER METAL & STEEL</div>\n            <div class=\"cover-title\">${getReportTitle()}</div>\n            <div class=\"cover-subtitle\">${getReportDescription()}</div>\n            <div class=\"cover-date\">\n              Generated on ${format(new Date(), 'PPPP')}\n              ${dateFrom && dateTo ? `<br/>Period: ${format(dateFrom, 'PP')} - ${format(dateTo, 'PP')}` : ''}\n            </div>\n          </div>\n          \n          <!-- Content Pages -->\n          <div class=\"content-page\">\n            <div class=\"page-header\">\n              <div class=\"company-name\">Power Metal & Steel</div>\n              <div class=\"report-info\">${getReportTitle()} | Generated: ${format(new Date(), 'PPpp')}</div>\n            </div>\n            \n            <!-- Executive Summary -->\n            <div class=\"summary-section\">\n              <div class=\"summary-title\">Executive Summary</div>\n              <div class=\"summary-grid\">\n                ${generateSummaryCards()}\n              </div>\n            </div>\n            \n            <!-- Charts -->\n            ${generateChartsHTML(chartImages)}\n            \n            <!-- Detailed Data Table -->\n            <div class=\"table-section\">\n              <div class=\"table-title\">Detailed Data Report</div>\n              ${generateTableHTML()}\n            </div>\n            \n            <!-- Footer -->\n            <div class=\"footer\">\n              <div class=\"footer-logo\">Power Metal & Steel</div>\n              <p>This is a computer-generated report from Power Metal & Steel ERP System</p>\n              <p>Â© ${new Date().getFullYear()} Power Metal & Steel. All rights reserved.</p>\n            </div>\n          </div>\n        </body>\n        </html>\n      `;\n\n      printWindow.document.write(htmlContent);\n      printWindow.document.close();\n      \n      // Wait for images to load before printing\n      setTimeout(() => {\n        printWindow.focus();\n        printWindow.print();\n        toast.success('Report exported to PDF successfully');\n      }, 1000);\n      \n    } catch (error) {\n      console.error('Error generating PDF:', error);\n      toast.error('Failed to generate PDF. Please try again.');\n    }\n  };\n\n  const generateSummaryCards = () => {\n    const summary = calculateSummary();\n    \n    if (selectedReport === 'rental-performance') {\n      return `\n        <div class=\"summary-card\">\n          <div class=\"summary-label\">Total Rentals</div>\n          <div class=\"summary-value\">${summary.totalRentals}</div>\n        </div>\n        <div class=\"summary-card\">\n          <div class=\"summary-label\">Total Revenue</div>\n          <div class=\"summary-value\">RM ${summary.totalRevenue.toLocaleString()}</div>\n        </div>\n        <div class=\"summary-card\">\n          <div class=\"summary-label\">Avg Duration</div>\n          <div class=\"summary-value\">${summary.avgDuration} days</div>\n        </div>\n        <div class=\"summary-card\">\n          <div class=\"summary-label\">Avg Utilization</div>\n          <div class=\"summary-value\">${summary.avgUtilization}%</div>\n        </div>\n      `;\n    } else if (selectedReport === 'inventory-utilization') {\n      return `\n        <div class=\"summary-card\">\n          <div class=\"summary-label\">Total Items</div>\n          <div class=\"summary-value\">${summary.totalItems}</div>\n        </div>\n        <div class=\"summary-card\">\n          <div class=\"summary-label\">In Use</div>\n          <div class=\"summary-value\">${summary.inUse}</div>\n        </div>\n        <div class=\"summary-card\">\n          <div class=\"summary-label\">Idle Items</div>\n          <div class=\"summary-value\">${summary.idle}</div>\n        </div>\n        <div class=\"summary-card\">\n          <div class=\"summary-label\">Avg Utilization</div>\n          <div class=\"summary-value\">${summary.avgUtilization}%</div>\n        </div>\n      `;\n    } else {\n      return `\n        <div class=\"summary-card\">\n          <div class=\"summary-label\">Total Invoiced</div>\n          <div class=\"summary-value\">RM ${summary.totalInvoiced.toLocaleString()}</div>\n        </div>\n        <div class=\"summary-card\">\n          <div class=\"summary-label\">Total Paid</div>\n          <div class=\"summary-value\">RM ${summary.totalPaid.toLocaleString()}</div>\n        </div>\n        <div class=\"summary-card\">\n          <div class=\"summary-label\">Outstanding</div>\n          <div class=\"summary-value\">RM ${summary.totalOutstanding.toLocaleString()}</div>\n        </div>\n        <div class=\"summary-card\">\n          <div class=\"summary-label\">Overdue Count</div>\n          <div class=\"summary-value\">${summary.overdueCount}</div>\n        </div>\n      `;\n    }\n  };\n\n  const generateChartsHTML = (chartImages: { [key: string]: string }) => {\n    if (selectedReport === 'rental-performance') {\n      return `\n        <div class=\"chart-section\">\n          <div class=\"chart-title\">Revenue by Category</div>\n          <div class=\"chart-description\">Total revenue generated per item category</div>\n          ${chartImages.chart0 ? `<img src=\"${chartImages.chart0}\" class=\"chart-image\" alt=\"Revenue Chart\" />` : ''}\n        </div>\n        <div class=\"chart-section\">\n          <div class=\"chart-title\">Utilization Rate Distribution</div>\n          <div class=\"chart-description\">Utilization rates across different items</div>\n          ${chartImages.chart1 ? `<img src=\"${chartImages.chart1}\" class=\"chart-image\" alt=\"Utilization Chart\" />` : ''}\n        </div>\n      `;\n    } else if (selectedReport === 'inventory-utilization') {\n      return `\n        <div class=\"chart-section\">\n          <div class=\"chart-title\">Inventory Status Overview</div>\n          <div class=\"chart-description\">Current inventory status across all categories</div>\n          ${chartImages.chart0 ? `<img src=\"${chartImages.chart0}\" class=\"chart-image\" alt=\"Inventory Chart\" />` : ''}\n        </div>\n        <div class=\"chart-section\">\n          <div class=\"chart-title\">Utilization Trend</div>\n          <div class=\"chart-description\">Inventory utilization percentage over time</div>\n          ${chartImages.chart1 ? `<img src=\"${chartImages.chart1}\" class=\"chart-image\" alt=\"Utilization Trend Chart\" />` : ''}\n        </div>\n      `;\n    } else if (selectedReport === 'financial') {\n      return `\n        <div class=\"chart-section\">\n          <div class=\"chart-title\">Monthly Revenue Trend</div>\n          <div class=\"chart-description\">Revenue growth over the selected period</div>\n          ${chartImages.chart0 ? `<img src=\"${chartImages.chart0}\" class=\"chart-image\" alt=\"Revenue Trend Chart\" />` : ''}\n        </div>\n        <div class=\"chart-section\">\n          <div class=\"chart-title\">Outstanding vs Collected</div>\n          <div class=\"chart-description\">Comparison of outstanding and collected amounts</div>\n          ${chartImages.chart1 ? `<img src=\"${chartImages.chart1}\" class=\"chart-image\" alt=\"Financial Overview Chart\" />` : ''}\n        </div>\n      `;\n    }\n    return '';\n  };\n\n  const generateTableHTML = () => {\n    if (selectedReport === 'rental-performance') {\n      const data = getFilteredRentalData();\n      return `\n        <table>\n          <thead>\n            <tr>\n              <th>Item Code</th>\n              <th>Item Name</th>\n              <th>Category</th>\n              <th>Total Rentals</th>\n              <th>Revenue (RM)</th>\n              <th>Avg Duration (days)</th>\n              <th>Utilization (%)</th>\n            </tr>\n          </thead>\n          <tbody>\n            ${data.map(item => `\n              <tr>\n                <td>${item.itemId}</td>\n                <td>${item.itemName}</td>\n                <td>${item.category}</td>\n                <td>${item.totalRentals}</td>\n                <td>${item.totalRevenue.toLocaleString()}</td>\n                <td>${item.avgRentalDuration}</td>\n                <td>${item.utilizationRate}%</td>\n              </tr>\n            `).join('')}\n          </tbody>\n        </table>\n      `;\n    } else if (selectedReport === 'inventory-utilization') {\n      const data = getFilteredInventoryData();\n      return `\n        <table>\n          <thead>\n            <tr>\n              <th>Item Code</th>\n              <th>Item Name</th>\n              <th>Category</th>\n              <th>Total Qty</th>\n              <th>In Use</th>\n              <th>Idle</th>\n              <th>Utilization (%)</th>\n              <th>Avg Idle Days</th>\n              <th>Location</th>\n            </tr>\n          </thead>\n          <tbody>\n            ${data.map(item => `\n              <tr>\n                <td>${item.itemId}</td>\n                <td>${item.itemName}</td>\n                <td>${item.category}</td>\n                <td>${item.totalQuantity}</td>\n                <td>${item.inUse}</td>\n                <td>${item.idle}</td>\n                <td>${item.utilizationRate}%</td>\n                <td>${item.avgIdleDays}</td>\n                <td>${item.location}</td>\n              </tr>\n            `).join('')}\n          </tbody>\n        </table>\n      `;\n    } else {\n      const data = getFilteredFinancialData();\n      return `\n        <table>\n          <thead>\n            <tr>\n              <th>Customer ID</th>\n              <th>Customer Name</th>\n              <th>Invoiced (RM)</th>\n              <th>Paid (RM)</th>\n              <th>Outstanding (RM)</th>\n              <th>Overdue Days</th>\n              <th>Last Payment</th>\n              <th>Status</th>\n            </tr>\n          </thead>\n          <tbody>\n            ${data.map(item => `\n              <tr>\n                <td>${item.customerId}</td>\n                <td>${item.customerName}</td>\n                <td>${item.totalInvoiced.toLocaleString()}</td>\n                <td>${item.totalPaid.toLocaleString()}</td>\n                <td>${item.outstanding.toLocaleString()}</td>\n                <td>${item.overdueDays}</td>\n                <td>${item.lastPaymentDate}</td>\n                <td>${item.status}</td>\n              </tr>\n            `).join('')}\n          </tbody>\n        </table>\n      `;\n    }\n  };\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      {/* Header */}\n      <div>\n        <h1 className=\"text-[#231F20]\">Report Generation & Analytics</h1>\n        <p className=\"text-gray-600\">Generate comprehensive reports with visual analytics</p>\n      </div>\n\n      {/* Report Type Selection */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <FileText className=\"size-5 text-[#F15929]\" />\n            Select Report Type\n          </CardTitle>\n          <CardDescription>Choose the type of report you want to generate</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label>Report Type</Label>\n              <Select\n                value={selectedReport}\n                onValueChange={(value) => {\n                  setSelectedReport(value as ReportType);\n                  setIsReportGenerated(false);\n                }}\n              >\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"rental-performance\">\n                    <div className=\"flex items-center gap-2\">\n                      <TrendingUp className=\"size-4\" />\n                      <div>\n                        <div>Rental Performance Report</div>\n                        <div className=\"text-xs text-gray-500\">Track rentals, revenue & durations</div>\n                      </div>\n                    </div>\n                  </SelectItem>\n                  <SelectItem value=\"inventory-utilization\">\n                    <div className=\"flex items-center gap-2\">\n                      <Package className=\"size-4\" />\n                      <div>\n                        <div>Inventory Utilization Report</div>\n                        <div className=\"text-xs text-gray-500\">Analyze utilization rates & idle inventory</div>\n                      </div>\n                    </div>\n                  </SelectItem>\n                  <SelectItem value=\"financial\">\n                    <div className=\"flex items-center gap-2\">\n                      <DollarSign className=\"size-4\" />\n                      <div>\n                        <div>Financial Report</div>\n                        <div className=\"text-xs text-gray-500\">Review sales & outstanding payments</div>\n                      </div>\n                    </div>\n                  </SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n              <p className=\"text-sm text-blue-800\">\n                <strong>Selected:</strong> {getReportTitle()}\n              </p>\n              <p className=\"text-xs text-blue-600 mt-1\">{getReportDescription()}</p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Filters */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Filter className=\"size-5 text-[#F15929]\" />\n            Report Filters\n          </CardTitle>\n          <CardDescription>Configure report parameters and filters</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            {/* Search */}\n            <div className=\"space-y-2\">\n              <Label>Search</Label>\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 size-4 text-gray-400\" />\n                <Input\n                  placeholder=\"Search...\"\n                  value={filters.searchQuery}\n                  onChange={(e) => setFilters({ ...filters, searchQuery: e.target.value })}\n                  className=\"pl-10\"\n                />\n              </div>\n            </div>\n\n            {/* Category or Status Filter */}\n            {selectedReport !== 'financial' ? (\n              <div className=\"space-y-2\">\n                <Label>Category</Label>\n                <Select value={filters.category} onValueChange={(value) => setFilters({ ...filters, category: value })}>\n                  <SelectTrigger>\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"all\">All Categories</SelectItem>\n                    <SelectItem value=\"Pipes\">Pipes</SelectItem>\n                    <SelectItem value=\"Boards\">Boards</SelectItem>\n                    <SelectItem value=\"Frames\">Frames</SelectItem>\n                    <SelectItem value=\"Couplings\">Couplings</SelectItem>\n                    <SelectItem value=\"Accessories\">Accessories</SelectItem>\n                    <SelectItem value=\"Safety\">Safety</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n            ) : (\n              <div className=\"space-y-2\">\n                <Label>Payment Status</Label>\n                <Select value={filters.status} onValueChange={(value) => setFilters({ ...filters, status: value })}>\n                  <SelectTrigger>\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"all\">All Status</SelectItem>\n                    <SelectItem value=\"Paid\">Paid</SelectItem>\n                    <SelectItem value=\"Current\">Current</SelectItem>\n                    <SelectItem value=\"Overdue\">Overdue</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n            )}\n\n            {/* From Date */}\n            <div className=\"space-y-2\">\n              <Label>From Date</Label>\n              <Popover>\n                <PopoverTrigger asChild>\n                  <Button variant=\"outline\" className=\"w-full justify-start\">\n                    <CalendarIcon className=\"size-4 mr-2\" />\n                    {dateFrom ? format(dateFrom, 'PP') : 'Select date'}\n                  </Button>\n                </PopoverTrigger>\n                <PopoverContent className=\"w-auto p-0\" align=\"start\">\n                  <Calendar\n                    mode=\"single\"\n                    selected={dateFrom}\n                    onSelect={setDateFrom}\n                  />\n                </PopoverContent>\n              </Popover>\n            </div>\n\n            {/* To Date */}\n            <div className=\"space-y-2\">\n              <Label>To Date</Label>\n              <Popover>\n                <PopoverTrigger asChild>\n                  <Button variant=\"outline\" className=\"w-full justify-start\">\n                    <CalendarIcon className=\"size-4 mr-2\" />\n                    {dateTo ? format(dateTo, 'PP') : 'Select date'}\n                  </Button>\n                </PopoverTrigger>\n                <PopoverContent className=\"w-auto p-0\" align=\"start\">\n                  <Calendar\n                    mode=\"single\"\n                    selected={dateTo}\n                    onSelect={setDateTo}\n                  />\n                </PopoverContent>\n              </Popover>\n            </div>\n          </div>\n\n          <div className=\"flex items-center justify-between pt-4 border-t\">\n            <p className=\"text-sm text-gray-600\">\n              Configure filters above and generate the report to view results\n            </p>\n            <Button \n              onClick={() => {\n                setIsReportGenerated(true);\n                toast.success('Report generated successfully!');\n              }}\n              className=\"bg-[#F15929] hover:bg-[#d94d1f]\"\n            >\n              <BarChart3 className=\"size-4 mr-2\" />\n              Generate Report\n            </Button>\n          </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Report Preview - Only show after generation */}\n      {isReportGenerated && (\n        <>\n      {/* Summary Cards */}\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n        {selectedReport === 'rental-performance' && (\n          <>\n            <Card>\n              <CardHeader className=\"pb-3\">\n                <CardDescription>Total Rentals</CardDescription>\n                <CardTitle className=\"text-2xl text-[#231F20]\">{summary.totalRentals}</CardTitle>\n              </CardHeader>\n            </Card>\n            <Card>\n              <CardHeader className=\"pb-3\">\n                <CardDescription>Total Revenue</CardDescription>\n                <CardTitle className=\"text-2xl text-[#F15929]\">RM {summary.totalRevenue.toLocaleString()}</CardTitle>\n              </CardHeader>\n            </Card>\n            <Card>\n              <CardHeader className=\"pb-3\">\n                <CardDescription>Avg Duration</CardDescription>\n                <CardTitle className=\"text-2xl text-[#231F20]\">{summary.avgDuration} days</CardTitle>\n              </CardHeader>\n            </Card>\n            <Card>\n              <CardHeader className=\"pb-3\">\n                <CardDescription>Avg Utilization</CardDescription>\n                <CardTitle className=\"text-2xl text-green-600\">{summary.avgUtilization}%</CardTitle>\n              </CardHeader>\n            </Card>\n          </>\n        )}\n\n        {selectedReport === 'inventory-utilization' && (\n          <>\n            <Card>\n              <CardHeader className=\"pb-3\">\n                <CardDescription>Total Items</CardDescription>\n                <CardTitle className=\"text-2xl text-[#231F20]\">{summary.totalItems}</CardTitle>\n              </CardHeader>\n            </Card>\n            <Card>\n              <CardHeader className=\"pb-3\">\n                <CardDescription>In Use</CardDescription>\n                <CardTitle className=\"text-2xl text-green-600\">{summary.inUse}</CardTitle>\n              </CardHeader>\n            </Card>\n            <Card>\n              <CardHeader className=\"pb-3\">\n                <CardDescription>Idle Items</CardDescription>\n                <CardTitle className=\"text-2xl text-orange-600\">{summary.idle}</CardTitle>\n              </CardHeader>\n            </Card>\n            <Card>\n              <CardHeader className=\"pb-3\">\n                <CardDescription>Avg Utilization</CardDescription>\n                <CardTitle className=\"text-2xl text-[#F15929]\">{summary.avgUtilization}%</CardTitle>\n              </CardHeader>\n            </Card>\n          </>\n        )}\n\n        {selectedReport === 'financial' && (\n          <>\n            <Card>\n              <CardHeader className=\"pb-3\">\n                <CardDescription>Total Invoiced</CardDescription>\n                <CardTitle className=\"text-2xl text-[#231F20]\">RM {summary.totalInvoiced.toLocaleString()}</CardTitle>\n              </CardHeader>\n            </Card>\n            <Card>\n              <CardHeader className=\"pb-3\">\n                <CardDescription>Total Paid</CardDescription>\n                <CardTitle className=\"text-2xl text-green-600\">RM {summary.totalPaid.toLocaleString()}</CardTitle>\n              </CardHeader>\n            </Card>\n            <Card>\n              <CardHeader className=\"pb-3\">\n                <CardDescription>Outstanding</CardDescription>\n                <CardTitle className=\"text-2xl text-[#F15929]\">RM {summary.totalOutstanding.toLocaleString()}</CardTitle>\n              </CardHeader>\n            </Card>\n            <Card>\n              <CardHeader className=\"pb-3\">\n                <CardDescription>Overdue Count</CardDescription>\n                <CardTitle className=\"text-2xl text-red-600\">{summary.overdueCount}</CardTitle>\n              </CardHeader>\n            </Card>\n          </>\n        )}\n      </div>\n\n      {/* Charts Section */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Rental Performance Charts */}\n        {selectedReport === 'rental-performance' && (\n          <>\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <BarChart3 className=\"size-5 text-[#F15929]\" />\n                  Revenue by Category\n                </CardTitle>\n                <CardDescription>Total revenue generated per item category</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <ResponsiveContainer width=\"100%\" height={300}>\n                  <RechartsBarChart data={getFilteredRentalData()}>\n                    <CartesianGrid strokeDasharray=\"3 3\" />\n                    <XAxis dataKey=\"category\" />\n                    <YAxis />\n                    <Tooltip formatter={(value: number) => `RM ${value.toLocaleString()}`} />\n                    <Legend />\n                    <Bar dataKey=\"totalRevenue\" fill=\"#F15929\" name=\"Revenue (RM)\" />\n                  </RechartsBarChart>\n                </ResponsiveContainer>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <PieChart className=\"size-5 text-[#F15929]\" />\n                  Utilization Rate Distribution\n                </CardTitle>\n                <CardDescription>Utilization rates across different items</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <ResponsiveContainer width=\"100%\" height={300}>\n                  <RechartsPieChart>\n                    <Pie\n                      data={getFilteredRentalData()}\n                      cx=\"50%\"\n                      cy=\"50%\"\n                      labelLine={false}\n                      label={(entry) => `${entry.itemId}: ${entry.utilizationRate}%`}\n                      outerRadius={80}\n                      fill=\"#8884d8\"\n                      dataKey=\"utilizationRate\"\n                    >\n                      {getFilteredRentalData().map((entry, index) => (\n                        <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n                      ))}\n                    </Pie>\n                    <Tooltip />\n                  </RechartsPieChart>\n                </ResponsiveContainer>\n              </CardContent>\n            </Card>\n          </>\n        )}\n\n        {/* Inventory Utilization Charts */}\n        {selectedReport === 'inventory-utilization' && (\n          <>\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <BarChart3 className=\"size-5 text-[#F15929]\" />\n                  In Use vs Idle Inventory\n                </CardTitle>\n                <CardDescription>Comparison of active vs idle inventory items</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <ResponsiveContainer width=\"100%\" height={300}>\n                  <RechartsBarChart data={getFilteredInventoryData()}>\n                    <CartesianGrid strokeDasharray=\"3 3\" />\n                    <XAxis dataKey=\"category\" />\n                    <YAxis />\n                    <Tooltip />\n                    <Legend />\n                    <Bar dataKey=\"inUse\" fill=\"#10b981\" name=\"In Use\" />\n                    <Bar dataKey=\"idle\" fill=\"#f59e0b\" name=\"Idle\" />\n                  </RechartsBarChart>\n                </ResponsiveContainer>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <PieChart className=\"size-5 text-[#F15929]\" />\n                  Utilization by Location\n                </CardTitle>\n                <CardDescription>Inventory utilization across warehouses</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <ResponsiveContainer width=\"100%\" height={300}>\n                  <RechartsPieChart>\n                    <Pie\n                      data={getFilteredInventoryData()}\n                      cx=\"50%\"\n                      cy=\"50%\"\n                      labelLine={false}\n                      label={(entry) => `${entry.location}: ${entry.utilizationRate}%`}\n                      outerRadius={80}\n                      fill=\"#8884d8\"\n                      dataKey=\"utilizationRate\"\n                    >\n                      {getFilteredInventoryData().map((entry, index) => (\n                        <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n                      ))}\n                    </Pie>\n                    <Tooltip />\n                  </RechartsPieChart>\n                </ResponsiveContainer>\n              </CardContent>\n            </Card>\n          </>\n        )}\n\n        {/* Financial Charts */}\n        {selectedReport === 'financial' && (\n          <>\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <BarChart3 className=\"size-5 text-[#F15929]\" />\n                  Payment Status Overview\n                </CardTitle>\n                <CardDescription>Invoiced vs Paid vs Outstanding amounts</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <ResponsiveContainer width=\"100%\" height={300}>\n                  <RechartsBarChart data={getFilteredFinancialData()}>\n                    <CartesianGrid strokeDasharray=\"3 3\" />\n                    <XAxis dataKey=\"customerId\" />\n                    <YAxis />\n                    <Tooltip formatter={(value: number) => `RM ${value.toLocaleString()}`} />\n                    <Legend />\n                    <Bar dataKey=\"totalPaid\" fill=\"#10b981\" name=\"Paid (RM)\" />\n                    <Bar dataKey=\"outstanding\" fill=\"#F15929\" name=\"Outstanding (RM)\" />\n                  </RechartsBarChart>\n                </ResponsiveContainer>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <PieChart className=\"size-5 text-[#F15929]\" />\n                  Payment Status Distribution\n                </CardTitle>\n                <CardDescription>Customer payment status breakdown</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <ResponsiveContainer width=\"100%\" height={300}>\n                  <RechartsPieChart>\n                    <Pie\n                      data={[\n                        { name: 'Paid', value: getFilteredFinancialData().filter(d => d.status === 'Paid').length },\n                        { name: 'Current', value: getFilteredFinancialData().filter(d => d.status === 'Current').length },\n                        { name: 'Overdue', value: getFilteredFinancialData().filter(d => d.status === 'Overdue').length }\n                      ]}\n                      cx=\"50%\"\n                      cy=\"50%\"\n                      labelLine={false}\n                      label={(entry) => `${entry.name}: ${entry.value}`}\n                      outerRadius={80}\n                      fill=\"#8884d8\"\n                      dataKey=\"value\"\n                    >\n                      <Cell fill=\"#10b981\" />\n                      <Cell fill=\"#3b82f6\" />\n                      <Cell fill=\"#ef4444\" />\n                    </Pie>\n                    <Tooltip />\n                    <Legend />\n                  </RechartsPieChart>\n                </ResponsiveContainer>\n              </CardContent>\n            </Card>\n          </>\n        )}\n      </div>\n\n      {/* Export Buttons */}\n      <div className=\"flex items-center justify-end space-x-4\">\n        <Button\n          onClick={exportToCSV}\n          className=\"bg-[#F15929] hover:bg-[#d94d1f]\"\n        >\n          <Download className=\"size-4 mr-2\" />\n          Export to CSV\n        </Button>\n        <Button\n          onClick={exportToPDF}\n          className=\"bg-[#F15929] hover:bg-[#d94d1f]\"\n        >\n          <Download className=\"size-4 mr-2\" />\n          Export to PDF\n        </Button>\n      </div>\n\n      {/* Data Tables */}\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <CardTitle className=\"flex items-center gap-2\">\n                <FileText className=\"size-5 text-[#F15929]\" />\n                {getReportTitle()} - Detailed Data\n              </CardTitle>\n              <CardDescription>{getReportDescription()}</CardDescription>\n            </div>\n          </div>\n        </CardHeader>\n        <CardContent>\n          <div className=\"overflow-x-auto\">\n            {selectedReport === 'rental-performance' && (\n              <table className=\"w-full\">\n                <thead className=\"bg-gray-50 border-b\">\n                  <tr>\n                    <th className=\"text-left p-3 text-sm text-gray-600\">Item Code</th>\n                    <th className=\"text-left p-3 text-sm text-gray-600\">Item Name</th>\n                    <th className=\"text-left p-3 text-sm text-gray-600\">Category</th>\n                    <th className=\"text-right p-3 text-sm text-gray-600\">Total Rentals</th>\n                    <th className=\"text-right p-3 text-sm text-gray-600\">Revenue (RM)</th>\n                    <th className=\"text-right p-3 text-sm text-gray-600\">Avg Duration (days)</th>\n                    <th className=\"text-right p-3 text-sm text-gray-600\">Utilization (%)</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {getFilteredRentalData().map((item, index) => (\n                    <tr key={index} className=\"border-b hover:bg-gray-50\">\n                      <td className=\"p-3 text-sm\">{item.itemId}</td>\n                      <td className=\"p-3 text-sm\">{item.itemName}</td>\n                      <td className=\"p-3 text-sm\">\n                        <Badge variant=\"outline\">{item.category}</Badge>\n                      </td>\n                      <td className=\"p-3 text-sm text-right\">{item.totalRentals}</td>\n                      <td className=\"p-3 text-sm text-right text-[#F15929]\">{item.totalRevenue.toLocaleString()}</td>\n                      <td className=\"p-3 text-sm text-right\">{item.avgRentalDuration}</td>\n                      <td className=\"p-3 text-sm text-right\">\n                        <Badge className={\n                          item.utilizationRate >= 80 ? 'bg-green-100 text-green-800' :\n                          item.utilizationRate >= 60 ? 'bg-yellow-100 text-yellow-800' :\n                          'bg-red-100 text-red-800'\n                        }>\n                          {item.utilizationRate}%\n                        </Badge>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            )}\n\n            {selectedReport === 'inventory-utilization' && (\n              <table className=\"w-full\">\n                <thead className=\"bg-gray-50 border-b\">\n                  <tr>\n                    <th className=\"text-left p-3 text-sm text-gray-600\">Item Code</th>\n                    <th className=\"text-left p-3 text-sm text-gray-600\">Item Name</th>\n                    <th className=\"text-left p-3 text-sm text-gray-600\">Category</th>\n                    <th className=\"text-right p-3 text-sm text-gray-600\">Total Qty</th>\n                    <th className=\"text-right p-3 text-sm text-gray-600\">In Use</th>\n                    <th className=\"text-right p-3 text-sm text-gray-600\">Idle</th>\n                    <th className=\"text-right p-3 text-sm text-gray-600\">Utilization (%)</th>\n                    <th className=\"text-right p-3 text-sm text-gray-600\">Avg Idle Days</th>\n                    <th className=\"text-left p-3 text-sm text-gray-600\">Location</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {getFilteredInventoryData().map((item, index) => (\n                    <tr key={index} className=\"border-b hover:bg-gray-50\">\n                      <td className=\"p-3 text-sm\">{item.itemId}</td>\n                      <td className=\"p-3 text-sm\">{item.itemName}</td>\n                      <td className=\"p-3 text-sm\">\n                        <Badge variant=\"outline\">{item.category}</Badge>\n                      </td>\n                      <td className=\"p-3 text-sm text-right\">{item.totalQuantity}</td>\n                      <td className=\"p-3 text-sm text-right text-green-600\">{item.inUse}</td>\n                      <td className=\"p-3 text-sm text-right text-orange-600\">{item.idle}</td>\n                      <td className=\"p-3 text-sm text-right\">\n                        <Badge className={\n                          item.utilizationRate >= 80 ? 'bg-green-100 text-green-800' :\n                          item.utilizationRate >= 60 ? 'bg-yellow-100 text-yellow-800' :\n                          'bg-red-100 text-red-800'\n                        }>\n                          {item.utilizationRate}%\n                        </Badge>\n                      </td>\n                      <td className=\"p-3 text-sm text-right\">{item.avgIdleDays}</td>\n                      <td className=\"p-3 text-sm\">{item.location}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            )}\n\n            {selectedReport === 'financial' && (\n              <table className=\"w-full\">\n                <thead className=\"bg-gray-50 border-b\">\n                  <tr>\n                    <th className=\"text-left p-3 text-sm text-gray-600\">Customer ID</th>\n                    <th className=\"text-left p-3 text-sm text-gray-600\">Customer Name</th>\n                    <th className=\"text-right p-3 text-sm text-gray-600\">Invoiced (RM)</th>\n                    <th className=\"text-right p-3 text-sm text-gray-600\">Paid (RM)</th>\n                    <th className=\"text-right p-3 text-sm text-gray-600\">Outstanding (RM)</th>\n                    <th className=\"text-right p-3 text-sm text-gray-600\">Overdue Days</th>\n                    <th className=\"text-left p-3 text-sm text-gray-600\">Last Payment</th>\n                    <th className=\"text-center p-3 text-sm text-gray-600\">Status</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {getFilteredFinancialData().map((item, index) => (\n                    <tr key={index} className=\"border-b hover:bg-gray-50\">\n                      <td className=\"p-3 text-sm\">{item.customerId}</td>\n                      <td className=\"p-3 text-sm\">{item.customerName}</td>\n                      <td className=\"p-3 text-sm text-right\">{item.totalInvoiced.toLocaleString()}</td>\n                      <td className=\"p-3 text-sm text-right text-green-600\">{item.totalPaid.toLocaleString()}</td>\n                      <td className=\"p-3 text-sm text-right text-[#F15929]\">{item.outstanding.toLocaleString()}</td>\n                      <td className=\"p-3 text-sm text-right\">\n                        {item.overdueDays > 0 ? (\n                          <span className=\"text-red-600\">{item.overdueDays}</span>\n                        ) : (\n                          <span className=\"text-gray-400\">-</span>\n                        )}\n                      </td>\n                      <td className=\"p-3 text-sm\">{item.lastPaymentDate}</td>\n                      <td className=\"p-3 text-sm text-center\">\n                        <Badge className={\n                          item.status === 'Paid' ? 'bg-green-100 text-green-800' :\n                          item.status === 'Current' ? 'bg-blue-100 text-blue-800' :\n                          'bg-red-100 text-red-800'\n                        }>\n                          {item.status === 'Paid' && <CheckCircle2 className=\"size-3 mr-1\" />}\n                          {item.status === 'Overdue' && <AlertCircle className=\"size-3 mr-1\" />}\n                          {item.status === 'Current' && <Clock className=\"size-3 mr-1\" />}\n                          {item.status}\n                        </Badge>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n        </>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3460, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/reports/DepositRecordsTable.tsx"],"sourcesContent":["import React from 'react';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '../ui/table';\nimport { Badge } from '../ui/badge';\nimport { CheckCircle, XCircle } from 'lucide-react';\nimport { DepositRecord } from '../../types/report';\n\ninterface DepositRecordsTableProps {\n  records: DepositRecord[];\n}\n\nexport function DepositRecordsTable({ records }: DepositRecordsTableProps) {\n  const getStatusBadge = (status: DepositRecord['status']) => {\n    switch (status) {\n      case 'Paid':\n        return <Badge className=\"bg-green-600 hover:bg-green-700\">Paid</Badge>;\n      case 'Pending Approval':\n        return <Badge className=\"bg-blue-600 hover:bg-blue-700\">Pending Approval</Badge>;\n      case 'Overdue':\n        return <Badge className=\"bg-red-600 hover:bg-red-700\">Overdue</Badge>;\n    }\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <h3 className=\"text-xl\">Deposit Records</h3>\n      <div className=\"border rounded-lg\">\n        <Table>\n          <TableHeader>\n            <TableRow>\n              <TableHead>Invoice No</TableHead>\n              <TableHead>Customer</TableHead>\n              <TableHead>Deposit Amount</TableHead>\n              <TableHead>Status</TableHead>\n              <TableHead>Proof Uploaded</TableHead>\n              <TableHead>Date</TableHead>\n            </TableRow>\n          </TableHeader>\n          <TableBody>\n            {records.map((record) => (\n              <TableRow key={record.invoiceNo}>\n                <TableCell>{record.invoiceNo}</TableCell>\n                <TableCell>{record.customer}</TableCell>\n                <TableCell>RM {record.depositAmount.toLocaleString()}</TableCell>\n                <TableCell>{getStatusBadge(record.status)}</TableCell>\n                <TableCell>\n                  {record.proofUploaded ? (\n                    <CheckCircle className=\"h-5 w-5 text-green-600\" />\n                  ) : (\n                    <XCircle className=\"h-5 w-5 text-red-600\" />\n                  )}\n                </TableCell>\n                <TableCell>{record.date}</TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAAA;;;;;AAOO,SAAS,oBAAoB,EAAE,OAAO,EAA4B;IACvE,MAAM,iBAAiB,CAAC;QACtB,OAAQ;YACN,KAAK;gBACH,qBAAO,6LAAC,6IAAK;oBAAC,WAAU;8BAAkC;;;;;;YAC5D,KAAK;gBACH,qBAAO,6LAAC,6IAAK;oBAAC,WAAU;8BAAgC;;;;;;YAC1D,KAAK;gBACH,qBAAO,6LAAC,6IAAK;oBAAC,WAAU;8BAA8B;;;;;;QAC1D;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAAU;;;;;;0BACxB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,6IAAK;;sCACJ,6LAAC,mJAAW;sCACV,cAAA,6LAAC,gJAAQ;;kDACP,6LAAC,iJAAS;kDAAC;;;;;;kDACX,6LAAC,iJAAS;kDAAC;;;;;;kDACX,6LAAC,iJAAS;kDAAC;;;;;;kDACX,6LAAC,iJAAS;kDAAC;;;;;;kDACX,6LAAC,iJAAS;kDAAC;;;;;;kDACX,6LAAC,iJAAS;kDAAC;;;;;;;;;;;;;;;;;sCAGf,6LAAC,iJAAS;sCACP,QAAQ,GAAG,CAAC,CAAC,uBACZ,6LAAC,gJAAQ;;sDACP,6LAAC,iJAAS;sDAAE,OAAO,SAAS;;;;;;sDAC5B,6LAAC,iJAAS;sDAAE,OAAO,QAAQ;;;;;;sDAC3B,6LAAC,iJAAS;;gDAAC;gDAAI,OAAO,aAAa,CAAC,cAAc;;;;;;;sDAClD,6LAAC,iJAAS;sDAAE,eAAe,OAAO,MAAM;;;;;;sDACxC,6LAAC,iJAAS;sDACP,OAAO,aAAa,iBACnB,6LAAC,6OAAW;gDAAC,WAAU;;;;;qEAEvB,6LAAC,0NAAO;gDAAC,WAAU;;;;;;;;;;;sDAGvB,6LAAC,iJAAS;sDAAE,OAAO,IAAI;;;;;;;mCAZV,OAAO,SAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoB7C;KAjDgB"}},
    {"offset": {"line": 3675, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/reports/MonthlyBillingTable.tsx"],"sourcesContent":["import React from 'react';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '../ui/table';\nimport { Badge } from '../ui/badge';\nimport { CheckCircle, XCircle } from 'lucide-react';\nimport { MonthlyBillingRecord } from '../../types/report';\n\ninterface MonthlyBillingTableProps {\n  records: MonthlyBillingRecord[];\n}\n\nexport function MonthlyBillingTable({ records }: MonthlyBillingTableProps) {\n  const getStatusBadge = (status: MonthlyBillingRecord['status']) => {\n    switch (status) {\n      case 'Paid':\n        return <Badge className=\"bg-green-600 hover:bg-green-700\">Paid</Badge>;\n      case 'Pending Payment':\n        return <Badge className=\"bg-blue-600 hover:bg-blue-700\">Pending Payment</Badge>;\n      case 'Overdue':\n        return <Badge className=\"bg-red-600 hover:bg-red-700\">Overdue</Badge>;\n    }\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <h3 className=\"text-xl\">Monthly Billing</h3>\n      <div className=\"border rounded-lg\">\n        <Table>\n          <TableHeader>\n            <TableRow>\n              <TableHead>Invoice No</TableHead>\n              <TableHead>Project</TableHead>\n              <TableHead>Billing Month</TableHead>\n              <TableHead>Amount</TableHead>\n              <TableHead>Status</TableHead>\n              <TableHead>Items Returned?</TableHead>\n              <TableHead>Due Date</TableHead>\n              <TableHead>Payment Proof</TableHead>\n            </TableRow>\n          </TableHeader>\n          <TableBody>\n            {records.map((record) => (\n              <TableRow key={record.invoiceNo}>\n                <TableCell>{record.invoiceNo}</TableCell>\n                <TableCell>{record.project}</TableCell>\n                <TableCell>{record.billingMonth}</TableCell>\n                <TableCell>RM {record.amount.toLocaleString()}</TableCell>\n                <TableCell>{getStatusBadge(record.status)}</TableCell>\n                <TableCell>\n                  {record.itemsReturned ? (\n                    <CheckCircle className=\"h-5 w-5 text-green-600\" />\n                  ) : (\n                    <XCircle className=\"h-5 w-5 text-gray-400\" />\n                  )}\n                </TableCell>\n                <TableCell>{record.dueDate}</TableCell>\n                <TableCell>\n                  {record.paymentProof ? (\n                    <CheckCircle className=\"h-5 w-5 text-green-600\" />\n                  ) : (\n                    <XCircle className=\"h-5 w-5 text-red-600\" />\n                  )}\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAAA;;;;;AAOO,SAAS,oBAAoB,EAAE,OAAO,EAA4B;IACvE,MAAM,iBAAiB,CAAC;QACtB,OAAQ;YACN,KAAK;gBACH,qBAAO,6LAAC,6IAAK;oBAAC,WAAU;8BAAkC;;;;;;YAC5D,KAAK;gBACH,qBAAO,6LAAC,6IAAK;oBAAC,WAAU;8BAAgC;;;;;;YAC1D,KAAK;gBACH,qBAAO,6LAAC,6IAAK;oBAAC,WAAU;8BAA8B;;;;;;QAC1D;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAAU;;;;;;0BACxB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,6IAAK;;sCACJ,6LAAC,mJAAW;sCACV,cAAA,6LAAC,gJAAQ;;kDACP,6LAAC,iJAAS;kDAAC;;;;;;kDACX,6LAAC,iJAAS;kDAAC;;;;;;kDACX,6LAAC,iJAAS;kDAAC;;;;;;kDACX,6LAAC,iJAAS;kDAAC;;;;;;kDACX,6LAAC,iJAAS;kDAAC;;;;;;kDACX,6LAAC,iJAAS;kDAAC;;;;;;kDACX,6LAAC,iJAAS;kDAAC;;;;;;kDACX,6LAAC,iJAAS;kDAAC;;;;;;;;;;;;;;;;;sCAGf,6LAAC,iJAAS;sCACP,QAAQ,GAAG,CAAC,CAAC,uBACZ,6LAAC,gJAAQ;;sDACP,6LAAC,iJAAS;sDAAE,OAAO,SAAS;;;;;;sDAC5B,6LAAC,iJAAS;sDAAE,OAAO,OAAO;;;;;;sDAC1B,6LAAC,iJAAS;sDAAE,OAAO,YAAY;;;;;;sDAC/B,6LAAC,iJAAS;;gDAAC;gDAAI,OAAO,MAAM,CAAC,cAAc;;;;;;;sDAC3C,6LAAC,iJAAS;sDAAE,eAAe,OAAO,MAAM;;;;;;sDACxC,6LAAC,iJAAS;sDACP,OAAO,aAAa,iBACnB,6LAAC,6OAAW;gDAAC,WAAU;;;;;qEAEvB,6LAAC,0NAAO;gDAAC,WAAU;;;;;;;;;;;sDAGvB,6LAAC,iJAAS;sDAAE,OAAO,OAAO;;;;;;sDAC1B,6LAAC,iJAAS;sDACP,OAAO,YAAY,iBAClB,6LAAC,6OAAW;gDAAC,WAAU;;;;;qEAEvB,6LAAC,0NAAO;gDAAC,WAAU;;;;;;;;;;;;mCAlBV,OAAO,SAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4B7C;KA3DgB"}},
    {"offset": {"line": 3930, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/reports/CreditNotesTable.tsx"],"sourcesContent":["import React from 'react';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '../ui/table';\nimport { Badge } from '../ui/badge';\nimport { CreditNoteRecord } from '../../types/report';\n\ninterface CreditNotesTableProps {\n  records: CreditNoteRecord[];\n}\n\nexport function CreditNotesTable({ records }: CreditNotesTableProps) {\n  const getStatusBadge = (status: CreditNoteRecord['status']) => {\n    switch (status) {\n      case 'Paid':\n        return <Badge className=\"bg-green-600 hover:bg-green-700\">Paid</Badge>;\n      case 'Pending Approval':\n        return <Badge className=\"bg-blue-600 hover:bg-blue-700\">Pending Approval</Badge>;\n      case 'Rejected':\n        return <Badge className=\"bg-red-600 hover:bg-red-700\">Rejected</Badge>;\n    }\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <h3 className=\"text-xl\">Credit Notes</h3>\n      <div className=\"border rounded-lg\">\n        <Table>\n          <TableHeader>\n            <TableRow>\n              <TableHead>CN No</TableHead>\n              <TableHead>Invoice No</TableHead>\n              <TableHead>Customer</TableHead>\n              <TableHead>Item</TableHead>\n              <TableHead>Quantity Adjusted</TableHead>\n              <TableHead>Price Adjusted</TableHead>\n              <TableHead>Reason</TableHead>\n              <TableHead>Status</TableHead>\n            </TableRow>\n          </TableHeader>\n          <TableBody>\n            {records.map((record) => (\n              <TableRow key={record.cnNo}>\n                <TableCell>{record.cnNo}</TableCell>\n                <TableCell>{record.invoiceNo}</TableCell>\n                <TableCell>{record.customer}</TableCell>\n                <TableCell>{record.item}</TableCell>\n                <TableCell>{record.quantityAdjusted}</TableCell>\n                <TableCell>{record.priceAdjusted}</TableCell>\n                <TableCell>{record.reason}</TableCell>\n                <TableCell>{getStatusBadge(record.status)}</TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAOO,SAAS,iBAAiB,EAAE,OAAO,EAAyB;IACjE,MAAM,iBAAiB,CAAC;QACtB,OAAQ;YACN,KAAK;gBACH,qBAAO,6LAAC,6IAAK;oBAAC,WAAU;8BAAkC;;;;;;YAC5D,KAAK;gBACH,qBAAO,6LAAC,6IAAK;oBAAC,WAAU;8BAAgC;;;;;;YAC1D,KAAK;gBACH,qBAAO,6LAAC,6IAAK;oBAAC,WAAU;8BAA8B;;;;;;QAC1D;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAAU;;;;;;0BACxB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,6IAAK;;sCACJ,6LAAC,mJAAW;sCACV,cAAA,6LAAC,gJAAQ;;kDACP,6LAAC,iJAAS;kDAAC;;;;;;kDACX,6LAAC,iJAAS;kDAAC;;;;;;kDACX,6LAAC,iJAAS;kDAAC;;;;;;kDACX,6LAAC,iJAAS;kDAAC;;;;;;kDACX,6LAAC,iJAAS;kDAAC;;;;;;kDACX,6LAAC,iJAAS;kDAAC;;;;;;kDACX,6LAAC,iJAAS;kDAAC;;;;;;kDACX,6LAAC,iJAAS;kDAAC;;;;;;;;;;;;;;;;;sCAGf,6LAAC,iJAAS;sCACP,QAAQ,GAAG,CAAC,CAAC,uBACZ,6LAAC,gJAAQ;;sDACP,6LAAC,iJAAS;sDAAE,OAAO,IAAI;;;;;;sDACvB,6LAAC,iJAAS;sDAAE,OAAO,SAAS;;;;;;sDAC5B,6LAAC,iJAAS;sDAAE,OAAO,QAAQ;;;;;;sDAC3B,6LAAC,iJAAS;sDAAE,OAAO,IAAI;;;;;;sDACvB,6LAAC,iJAAS;sDAAE,OAAO,gBAAgB;;;;;;sDACnC,6LAAC,iJAAS;sDAAE,OAAO,aAAa;;;;;;sDAChC,6LAAC,iJAAS;sDAAE,OAAO,MAAM;;;;;;sDACzB,6LAAC,iJAAS;sDAAE,eAAe,OAAO,MAAM;;;;;;;mCAR3B,OAAO,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBxC;KA/CgB"}},
    {"offset": {"line": 4155, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/reports/ReportPreview.tsx"],"sourcesContent":["import React from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '../ui/card';\nimport { DepositRecordsTable } from './DepositRecordsTable';\nimport { MonthlyBillingTable } from './MonthlyBillingTable';\nimport { CreditNotesTable } from './CreditNotesTable';\nimport { sampleDepositRecords, sampleMonthlyBillingRecords, sampleCreditNoteRecords } from '../../types/report';\nimport { format } from 'date-fns';\n\ntype ReportType = 'all' | 'deposit' | 'monthly-billing' | 'credit-note';\ntype StatusFilter = 'all' | 'paid' | 'pending' | 'overdue' | 'rejected' | 'pending-approval';\n\ninterface ReportPreviewProps {\n  reportType: ReportType;\n  statusFilter: StatusFilter;\n  customerFilter: string;\n  dateFrom?: Date;\n  dateTo?: Date;\n}\n\nexport function ReportPreview({ \n  reportType, \n  statusFilter, \n  customerFilter,\n  dateFrom,\n  dateTo \n}: ReportPreviewProps) {\n  \n  // Filter data based on filters\n  const filterByStatus = (status: string) => {\n    if (statusFilter === 'all') return true;\n    \n    const statusMap: { [key: string]: string[] } = {\n      'paid': ['Paid'],\n      'pending': ['Pending Payment', 'Pending Approval'],\n      'overdue': ['Overdue'],\n      'rejected': ['Rejected'],\n      'pending-approval': ['Pending Approval']\n    };\n    \n    return statusMap[statusFilter]?.includes(status);\n  };\n\n  const filterByCustomer = (customer: string) => {\n    if (customerFilter === 'all') return true;\n    \n    const customerMap: { [key: string]: string[] } = {\n      'alpha-construction': ['Alpha Construction'],\n      'beta-builders': ['Beta Builders'],\n      'citra-engineering': ['Citra Engineering'],\n      'kl-tower': ['KL Tower Project'],\n      'pj-mall': ['PJ Mall']\n    };\n    \n    return customerMap[customerFilter]?.includes(customer);\n  };\n\n  const filteredDepositRecords = sampleDepositRecords.filter(\n    record => filterByStatus(record.status) && filterByCustomer(record.customer)\n  );\n\n  const filteredMonthlyBillingRecords = sampleMonthlyBillingRecords.filter(\n    record => filterByStatus(record.status) && filterByCustomer(record.project)\n  );\n\n  const filteredCreditNoteRecords = sampleCreditNoteRecords.filter(\n    record => filterByStatus(record.status) && filterByCustomer(record.customer)\n  );\n\n  // Calculate summary statistics\n  const depositTotal = filteredDepositRecords.reduce((sum, r) => sum + r.depositAmount, 0);\n  const depositPaid = filteredDepositRecords.filter(r => r.status === 'Paid').reduce((sum, r) => sum + r.depositAmount, 0);\n  \n  const billingTotal = filteredMonthlyBillingRecords.reduce((sum, r) => sum + r.amount, 0);\n  const billingPaid = filteredMonthlyBillingRecords.filter(r => r.status === 'Paid').reduce((sum, r) => sum + r.amount, 0);\n\n  return (\n    <div className=\"space-y-6\">\n      <Card>\n        <CardHeader>\n          <CardTitle style={{ color: '#231F20' }}>\n            {reportType === 'all' ? 'Consolidated Financial Report' :\n             reportType === 'deposit' ? 'Deposit Report' :\n             reportType === 'monthly-billing' ? 'Monthly Billing Report' :\n             'Credit Note Report'}\n          </CardTitle>\n          <div className=\"text-sm text-gray-600\">\n            Generated on: {format(new Date(), 'PPP p')}\n            {dateFrom && dateTo && (\n              <span className=\"ml-4\">\n                Period: {format(dateFrom, 'PP')} - {format(dateTo, 'PP')}\n              </span>\n            )}\n          </div>\n        </CardHeader>\n        <CardContent>\n          {/* Summary Cards */}\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8\">\n            <Card>\n              <CardHeader className=\"pb-2\">\n                <CardTitle className=\"text-sm\">Total Deposits</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-2xl\" style={{ color: '#F15929' }}>\n                  RM {depositTotal.toLocaleString()}\n                </div>\n                <p className=\"text-xs text-gray-600 mt-1\">\n                  {filteredDepositRecords.length} record(s)\n                </p>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader className=\"pb-2\">\n                <CardTitle className=\"text-sm\">Deposits Paid</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-2xl text-green-600\">\n                  RM {depositPaid.toLocaleString()}\n                </div>\n                <p className=\"text-xs text-gray-600 mt-1\">\n                  {filteredDepositRecords.filter(r => r.status === 'Paid').length} record(s)\n                </p>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader className=\"pb-2\">\n                <CardTitle className=\"text-sm\">Total Monthly Billing</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-2xl\" style={{ color: '#F15929' }}>\n                  RM {billingTotal.toLocaleString()}\n                </div>\n                <p className=\"text-xs text-gray-600 mt-1\">\n                  {filteredMonthlyBillingRecords.length} invoice(s)\n                </p>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader className=\"pb-2\">\n                <CardTitle className=\"text-sm\">Billing Paid</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-2xl text-green-600\">\n                  RM {billingPaid.toLocaleString()}\n                </div>\n                <p className=\"text-xs text-gray-600 mt-1\">\n                  {filteredMonthlyBillingRecords.filter(r => r.status === 'Paid').length} invoice(s)\n                </p>\n              </CardContent>\n            </Card>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Tables */}\n      {(reportType === 'all' || reportType === 'deposit') && filteredDepositRecords.length > 0 && (\n        <Card>\n          <CardContent className=\"pt-6\">\n            <DepositRecordsTable records={filteredDepositRecords} />\n          </CardContent>\n        </Card>\n      )}\n\n      {(reportType === 'all' || reportType === 'monthly-billing') && filteredMonthlyBillingRecords.length > 0 && (\n        <Card>\n          <CardContent className=\"pt-6\">\n            <MonthlyBillingTable records={filteredMonthlyBillingRecords} />\n          </CardContent>\n        </Card>\n      )}\n\n      {(reportType === 'all' || reportType === 'credit-note') && filteredCreditNoteRecords.length > 0 && (\n        <Card>\n          <CardContent className=\"pt-6\">\n            <CreditNotesTable records={filteredCreditNoteRecords} />\n          </CardContent>\n        </Card>\n      )}\n\n      {/* No results message */}\n      {filteredDepositRecords.length === 0 && \n       filteredMonthlyBillingRecords.length === 0 && \n       filteredCreditNoteRecords.length === 0 && (\n        <Card>\n          <CardContent className=\"py-8 text-center text-gray-500\">\n            No records found matching the selected filters.\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4603, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/reports/ReportPrintLayout.tsx"],"sourcesContent":["import React from 'react';\nimport { Button } from '../ui/button';\nimport { X } from 'lucide-react';\nimport { sampleDepositRecords, sampleMonthlyBillingRecords, sampleCreditNoteRecords } from '../../types/report';\nimport { format } from 'date-fns';\n\ntype ReportType = 'all' | 'deposit' | 'monthly-billing' | 'credit-note';\ntype StatusFilter = 'all' | 'paid' | 'pending' | 'overdue' | 'rejected' | 'pending-approval';\n\ninterface ReportPrintLayoutProps {\n  reportType: ReportType;\n  statusFilter: StatusFilter;\n  customerFilter: string;\n  dateFrom?: Date;\n  dateTo?: Date;\n  onClose: () => void;\n}\n\nexport function ReportPrintLayout({\n  reportType,\n  statusFilter,\n  customerFilter,\n  dateFrom,\n  dateTo,\n  onClose\n}: ReportPrintLayoutProps) {\n  \n  // Filter data based on filters\n  const filterByStatus = (status: string) => {\n    if (statusFilter === 'all') return true;\n    \n    const statusMap: { [key: string]: string[] } = {\n      'paid': ['Paid'],\n      'pending': ['Pending Payment', 'Pending Approval'],\n      'overdue': ['Overdue'],\n      'rejected': ['Rejected'],\n      'pending-approval': ['Pending Approval']\n    };\n    \n    return statusMap[statusFilter]?.includes(status);\n  };\n\n  const filterByCustomer = (customer: string) => {\n    if (customerFilter === 'all') return true;\n    \n    const customerMap: { [key: string]: string[] } = {\n      'alpha-construction': ['Alpha Construction'],\n      'beta-builders': ['Beta Builders'],\n      'citra-engineering': ['Citra Engineering'],\n      'kl-tower': ['KL Tower Project'],\n      'pj-mall': ['PJ Mall']\n    };\n    \n    return customerMap[customerFilter]?.includes(customer);\n  };\n\n  const filteredDepositRecords = sampleDepositRecords.filter(\n    record => filterByStatus(record.status) && filterByCustomer(record.customer)\n  );\n\n  const filteredMonthlyBillingRecords = sampleMonthlyBillingRecords.filter(\n    record => filterByStatus(record.status) && filterByCustomer(record.project)\n  );\n\n  const filteredCreditNoteRecords = sampleCreditNoteRecords.filter(\n    record => filterByStatus(record.status) && filterByCustomer(record.customer)\n  );\n\n  return (\n    <div className=\"min-h-screen bg-white\">\n      {/* Close button - hidden when printing */}\n      <div className=\"print:hidden fixed top-4 right-4 z-50\">\n        <Button variant=\"outline\" onClick={onClose}>\n          <X className=\"h-4 w-4 mr-2\" />\n          Close Print Preview\n        </Button>\n      </div>\n\n      {/* Print content */}\n      <div className=\"max-w-[210mm] mx-auto p-8 print:p-0\">\n        {/* Header */}\n        <div className=\"mb-8 pb-4 border-b-2\" style={{ borderColor: '#231F20' }}>\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-3xl mb-1\" style={{ color: '#F15929' }}>\n                Power Metal & Steel\n              </h1>\n              <p className=\"text-sm text-gray-600\">ERP & CRM System</p>\n            </div>\n            <div className=\"text-right\">\n              <h2 className=\"text-xl\" style={{ color: '#231F20' }}>\n                {reportType === 'all' ? 'Consolidated Report' :\n                 reportType === 'deposit' ? 'Deposit Report' :\n                 reportType === 'monthly-billing' ? 'Monthly Billing Report' :\n                 'Credit Note Report'}\n              </h2>\n              <p className=\"text-sm text-gray-600\">\n                Generated: {format(new Date(), 'PPP p')}\n              </p>\n              {dateFrom && dateTo && (\n                <p className=\"text-sm text-gray-600\">\n                  Period: {format(dateFrom, 'PP')} - {format(dateTo, 'PP')}\n                </p>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Deposit Records Table */}\n        {(reportType === 'all' || reportType === 'deposit') && filteredDepositRecords.length > 0 && (\n          <div className=\"mb-8\">\n            <h3 className=\"text-lg mb-3\" style={{ color: '#231F20' }}>\n              Deposit Records\n            </h3>\n            <table className=\"w-full border-collapse text-sm\">\n              <thead>\n                <tr style={{ backgroundColor: '#F5F5F5' }}>\n                  <th className=\"border px-2 py-2 text-left\">Invoice No</th>\n                  <th className=\"border px-2 py-2 text-left\">Customer</th>\n                  <th className=\"border px-2 py-2 text-right\">Deposit Amount</th>\n                  <th className=\"border px-2 py-2 text-left\">Status</th>\n                  <th className=\"border px-2 py-2 text-center\">Proof</th>\n                  <th className=\"border px-2 py-2 text-left\">Date</th>\n                </tr>\n              </thead>\n              <tbody>\n                {filteredDepositRecords.map((record) => (\n                  <tr key={record.invoiceNo}>\n                    <td className=\"border px-2 py-2\">{record.invoiceNo}</td>\n                    <td className=\"border px-2 py-2\">{record.customer}</td>\n                    <td className=\"border px-2 py-2 text-right\">RM {record.depositAmount.toLocaleString()}</td>\n                    <td className=\"border px-2 py-2\">\n                      <span className={`px-2 py-1 rounded text-xs ${\n                        record.status === 'Paid' ? 'bg-green-100 text-green-800' :\n                        record.status === 'Pending Approval' ? 'bg-blue-100 text-blue-800' :\n                        'bg-red-100 text-red-800'\n                      }`}>\n                        {record.status}\n                      </span>\n                    </td>\n                    <td className=\"border px-2 py-2 text-center\">\n                      {record.proofUploaded ? 'Yes' : 'No'}\n                    </td>\n                    <td className=\"border px-2 py-2\">{record.date}</td>\n                  </tr>\n                ))}\n                <tr style={{ backgroundColor: '#F5F5F5' }}>\n                  <td colSpan={2} className=\"border px-2 py-2\">Total</td>\n                  <td className=\"border px-2 py-2 text-right\">\n                    RM {filteredDepositRecords.reduce((sum, r) => sum + r.depositAmount, 0).toLocaleString()}\n                  </td>\n                  <td colSpan={3} className=\"border px-2 py-2\"></td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        )}\n\n        {/* Monthly Billing Table */}\n        {(reportType === 'all' || reportType === 'monthly-billing') && filteredMonthlyBillingRecords.length > 0 && (\n          <div className=\"mb-8\">\n            <h3 className=\"text-lg mb-3\" style={{ color: '#231F20' }}>\n              Monthly Billing\n            </h3>\n            <table className=\"w-full border-collapse text-sm\">\n              <thead>\n                <tr style={{ backgroundColor: '#F5F5F5' }}>\n                  <th className=\"border px-2 py-2 text-left\">Invoice No</th>\n                  <th className=\"border px-2 py-2 text-left\">Project</th>\n                  <th className=\"border px-2 py-2 text-left\">Month</th>\n                  <th className=\"border px-2 py-2 text-right\">Amount</th>\n                  <th className=\"border px-2 py-2 text-left\">Status</th>\n                  <th className=\"border px-2 py-2 text-center\">Returned</th>\n                  <th className=\"border px-2 py-2 text-left\">Due Date</th>\n                  <th className=\"border px-2 py-2 text-center\">Proof</th>\n                </tr>\n              </thead>\n              <tbody>\n                {filteredMonthlyBillingRecords.map((record) => (\n                  <tr key={record.invoiceNo}>\n                    <td className=\"border px-2 py-2\">{record.invoiceNo}</td>\n                    <td className=\"border px-2 py-2\">{record.project}</td>\n                    <td className=\"border px-2 py-2\">{record.billingMonth}</td>\n                    <td className=\"border px-2 py-2 text-right\">RM {record.amount.toLocaleString()}</td>\n                    <td className=\"border px-2 py-2\">\n                      <span className={`px-2 py-1 rounded text-xs ${\n                        record.status === 'Paid' ? 'bg-green-100 text-green-800' :\n                        record.status === 'Pending Payment' ? 'bg-blue-100 text-blue-800' :\n                        'bg-red-100 text-red-800'\n                      }`}>\n                        {record.status}\n                      </span>\n                    </td>\n                    <td className=\"border px-2 py-2 text-center\">\n                      {record.itemsReturned ? 'Yes' : 'No'}\n                    </td>\n                    <td className=\"border px-2 py-2\">{record.dueDate}</td>\n                    <td className=\"border px-2 py-2 text-center\">\n                      {record.paymentProof ? 'Yes' : 'No'}\n                    </td>\n                  </tr>\n                ))}\n                <tr style={{ backgroundColor: '#F5F5F5' }}>\n                  <td colSpan={3} className=\"border px-2 py-2\">Total</td>\n                  <td className=\"border px-2 py-2 text-right\">\n                    RM {filteredMonthlyBillingRecords.reduce((sum, r) => sum + r.amount, 0).toLocaleString()}\n                  </td>\n                  <td colSpan={4} className=\"border px-2 py-2\"></td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        )}\n\n        {/* Credit Notes Table */}\n        {(reportType === 'all' || reportType === 'credit-note') && filteredCreditNoteRecords.length > 0 && (\n          <div className=\"mb-8\">\n            <h3 className=\"text-lg mb-3\" style={{ color: '#231F20' }}>\n              Credit Notes\n            </h3>\n            <table className=\"w-full border-collapse text-sm\">\n              <thead>\n                <tr style={{ backgroundColor: '#F5F5F5' }}>\n                  <th className=\"border px-2 py-2 text-left\">CN No</th>\n                  <th className=\"border px-2 py-2 text-left\">Invoice No</th>\n                  <th className=\"border px-2 py-2 text-left\">Customer</th>\n                  <th className=\"border px-2 py-2 text-left\">Item</th>\n                  <th className=\"border px-2 py-2 text-left\">Qty Adjusted</th>\n                  <th className=\"border px-2 py-2 text-left\">Price Adjusted</th>\n                  <th className=\"border px-2 py-2 text-left\">Reason</th>\n                  <th className=\"border px-2 py-2 text-left\">Status</th>\n                </tr>\n              </thead>\n              <tbody>\n                {filteredCreditNoteRecords.map((record) => (\n                  <tr key={record.cnNo}>\n                    <td className=\"border px-2 py-2\">{record.cnNo}</td>\n                    <td className=\"border px-2 py-2\">{record.invoiceNo}</td>\n                    <td className=\"border px-2 py-2\">{record.customer}</td>\n                    <td className=\"border px-2 py-2\">{record.item}</td>\n                    <td className=\"border px-2 py-2\">{record.quantityAdjusted}</td>\n                    <td className=\"border px-2 py-2\">{record.priceAdjusted}</td>\n                    <td className=\"border px-2 py-2\">{record.reason}</td>\n                    <td className=\"border px-2 py-2\">\n                      <span className={`px-2 py-1 rounded text-xs ${\n                        record.status === 'Paid' ? 'bg-green-100 text-green-800' :\n                        record.status === 'Pending Approval' ? 'bg-blue-100 text-blue-800' :\n                        'bg-red-100 text-red-800'\n                      }`}>\n                        {record.status}\n                      </span>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n\n        {/* Footer */}\n        <div className=\"mt-8 pt-4 border-t text-sm text-gray-600 flex justify-between\">\n          <div>\n            Power Metal & Steel - Financial Report\n          </div>\n          <div>\n            Page 1 of 1\n          </div>\n        </div>\n\n        <div className=\"mt-2 text-xs text-gray-500 text-center\">\n          Printed on: {format(new Date(), 'PPP p')}\n        </div>\n      </div>\n\n      {/* Print styles */}\n      <style>{`\n        @media print {\n          @page {\n            size: A4;\n            margin: 20mm;\n          }\n          \n          body {\n            print-color-adjust: exact;\n            -webkit-print-color-adjust: exact;\n          }\n          \n          .print\\\\:hidden {\n            display: none !important;\n          }\n          \n          .print\\\\:p-0 {\n            padding: 0 !important;\n          }\n        }\n      `}</style>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5511, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/reports/ReportFinancial.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '../ui/card';\nimport { Button } from '../ui/button';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '../ui/select';\nimport { Calendar } from '../ui/calendar';\nimport { Popover, PopoverContent, PopoverTrigger } from '../ui/popover';\nimport { CalendarIcon, FileDown, Printer } from 'lucide-react';\nimport { format } from 'date-fns';\nimport { cn } from '../../lib/utils';\nimport { ReportPreview } from './ReportPreview';\nimport { ReportPrintLayout } from './ReportPrintLayout';\n\ntype ReportType = 'all' | 'deposit' | 'monthly-billing' | 'credit-note';\ntype StatusFilter = 'all' | 'paid' | 'pending' | 'overdue' | 'rejected' | 'pending-approval';\n\nexport function ReportFinancial() {\n  const [reportType, setReportType] = useState<ReportType>('all');\n  const [statusFilter, setStatusFilter] = useState<StatusFilter>('all');\n  const [customerFilter, setCustomerFilter] = useState<string>('all');\n  const [dateFrom, setDateFrom] = useState<Date>();\n  const [dateTo, setDateTo] = useState<Date>();\n  const [showPreview, setShowPreview] = useState(false);\n  const [showPrintLayout, setShowPrintLayout] = useState(false);\n\n  const handleGenerateReport = () => {\n    setShowPreview(true);\n    setShowPrintLayout(false);\n  };\n\n  const handlePrint = () => {\n    setShowPrintLayout(true);\n    setShowPreview(false);\n    setTimeout(() => {\n      window.print();\n    }, 500);\n  };\n\n  const handleExportPDF = () => {\n    window.print();\n  };\n\n  const handleExportExcel = () => {\n    // Mock Excel export\n    alert('Exporting to Excel... (This would trigger actual Excel export in production)');\n  };\n\n  if (showPrintLayout) {\n    return (\n      <ReportPrintLayout\n        reportType={reportType}\n        statusFilter={statusFilter}\n        customerFilter={customerFilter}\n        dateFrom={dateFrom}\n        dateTo={dateTo}\n        onClose={() => setShowPrintLayout(false)}\n      />\n    );\n  }\n\n  if (showPreview) {\n    return (\n      <div className=\"p-6 space-y-6\">\n        <div className=\"flex items-center justify-between\">\n          <Button variant=\"outline\" onClick={() => setShowPreview(false)}>\n            â Back to Dashboard\n          </Button>\n          <div className=\"flex gap-2\">\n            <Button variant=\"outline\" onClick={handleExportExcel}>\n              <FileDown className=\"h-4 w-4 mr-2\" />\n              Export Excel\n            </Button>\n            <Button variant=\"outline\" onClick={handleExportPDF}>\n              <FileDown className=\"h-4 w-4 mr-2\" />\n              Export PDF\n            </Button>\n            <Button onClick={handlePrint}>\n              <Printer className=\"h-4 w-4 mr-2\" />\n              Print Preview\n            </Button>\n          </div>\n        </div>\n        <ReportPreview\n          reportType={reportType}\n          statusFilter={statusFilter}\n          customerFilter={customerFilter}\n          dateFrom={dateFrom}\n          dateTo={dateTo}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h1 className=\"text-3xl\" style={{ color: '#231F20' }}>Reports Center</h1>\n      </div>\n\n      <Card>\n        <CardHeader>\n          <CardTitle>Generate Financial Report</CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          {/* Report Type Selection */}\n          <div className=\"space-y-2\">\n            <label className=\"font-medium\">Select Report Type</label>\n            <Select value={reportType} onValueChange={(value) => setReportType(value as ReportType)}>\n              <SelectTrigger>\n                <SelectValue placeholder=\"Select report type\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All Reports (Consolidated)</SelectItem>\n                <SelectItem value=\"deposit\">Deposit Report</SelectItem>\n                <SelectItem value=\"monthly-billing\">Monthly Billing Report</SelectItem>\n                <SelectItem value=\"credit-note\">Credit Note Report</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          {/* Date Range Picker */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <label className=\"font-medium\">From Date</label>\n              <Popover>\n                <PopoverTrigger asChild>\n                  <Button\n                    variant=\"outline\"\n                    className={cn(\n                      'w-full justify-start text-left',\n                      !dateFrom && 'text-muted-foreground'\n                    )}\n                  >\n                    <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                    {dateFrom ? format(dateFrom, 'PPP') : <span>Pick a date</span>}\n                  </Button>\n                </PopoverTrigger>\n                <PopoverContent className=\"w-auto p-0\">\n                  <Calendar\n                    mode=\"single\"\n                    selected={dateFrom}\n                    onSelect={setDateFrom}\n                    initialFocus\n                  />\n                </PopoverContent>\n              </Popover>\n            </div>\n\n            <div className=\"space-y-2\">\n              <label className=\"font-medium\">To Date</label>\n              <Popover>\n                <PopoverTrigger asChild>\n                  <Button\n                    variant=\"outline\"\n                    className={cn(\n                      'w-full justify-start text-left',\n                      !dateTo && 'text-muted-foreground'\n                    )}\n                  >\n                    <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                    {dateTo ? format(dateTo, 'PPP') : <span>Pick a date</span>}\n                  </Button>\n                </PopoverTrigger>\n                <PopoverContent className=\"w-auto p-0\">\n                  <Calendar\n                    mode=\"single\"\n                    selected={dateTo}\n                    onSelect={setDateTo}\n                    initialFocus\n                  />\n                </PopoverContent>\n              </Popover>\n            </div>\n          </div>\n\n          {/* Filters */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <label className=\"font-medium\">Customer / Project</label>\n              <Select value={customerFilter} onValueChange={setCustomerFilter}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"Select customer\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"all\">All Customers</SelectItem>\n                  <SelectItem value=\"alpha-construction\">Alpha Construction</SelectItem>\n                  <SelectItem value=\"beta-builders\">Beta Builders</SelectItem>\n                  <SelectItem value=\"citra-engineering\">Citra Engineering</SelectItem>\n                  <SelectItem value=\"kl-tower\">KL Tower Project</SelectItem>\n                  <SelectItem value=\"pj-mall\">PJ Mall</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <label className=\"font-medium\">Status</label>\n              <Select value={statusFilter} onValueChange={(value) => setStatusFilter(value as StatusFilter)}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"Select status\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"all\">All Statuses</SelectItem>\n                  <SelectItem value=\"paid\">Paid</SelectItem>\n                  <SelectItem value=\"pending\">Pending Payment</SelectItem>\n                  <SelectItem value=\"overdue\">Overdue</SelectItem>\n                  <SelectItem value=\"pending-approval\">Pending Approval</SelectItem>\n                  <SelectItem value=\"rejected\">Rejected</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n\n          {/* Generate Button */}\n          <div className=\"flex justify-end pt-4\">\n            <Button \n              onClick={handleGenerateReport}\n              style={{ backgroundColor: '#F15929' }}\n              className=\"hover:opacity-90\"\n            >\n              Generate Report\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}