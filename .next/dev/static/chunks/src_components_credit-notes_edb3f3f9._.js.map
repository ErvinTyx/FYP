{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/credit-notes/StatusBadge.tsx"],"sourcesContent":["import { Badge } from \"../ui/badge\";\nimport { CreditNote } from \"../../types/creditNote\";\n\ninterface StatusBadgeProps {\n  status: CreditNote['status'];\n}\n\nexport function StatusBadge({ status }: StatusBadgeProps) {\n  switch (status) {\n    case 'Approved':\n      return (\n        <Badge className=\"bg-[#059669] hover:bg-[#047857] text-white\">\n          Approved\n        </Badge>\n      );\n    case 'Pending Approval':\n      return (\n        <Badge className=\"bg-[#F59E0B] hover:bg-[#D97706] text-white\">\n          Pending Approval\n        </Badge>\n      );\n    case 'Draft':\n      return (\n        <Badge className=\"bg-[#6B7280] hover:bg-[#4B5563] text-white\">\n          Draft\n        </Badge>\n      );\n    case 'Rejected':\n      return (\n        <Badge className=\"bg-[#DC2626] hover:bg-[#B91C1C] text-white\">\n          Rejected\n        </Badge>\n      );\n  }\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAOO,SAAS,YAAY,EAAE,MAAM,EAAoB;IACtD,OAAQ;QACN,KAAK;YACH,qBACE,6LAAC,6IAAK;gBAAC,WAAU;0BAA6C;;;;;;QAIlE,KAAK;YACH,qBACE,6LAAC,6IAAK;gBAAC,WAAU;0BAA6C;;;;;;QAIlE,KAAK;YACH,qBACE,6LAAC,6IAAK;gBAAC,WAAU;0BAA6C;;;;;;QAIlE,KAAK;YACH,qBACE,6LAAC,6IAAK;gBAAC,WAAU;0BAA6C;;;;;;IAIpE;AACF;KA3BgB"}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/credit-notes/CreditNotesList.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { Search, Eye, Edit2, Trash2, MoreVertical } from \"lucide-react\";\nimport { Button } from \"../ui/button\";\nimport { Input } from \"../ui/input\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"../ui/card\";\nimport { Badge } from \"../ui/badge\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"../ui/table\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"../ui/select\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"../ui/dropdown-menu\";\nimport { StatusBadge } from \"./StatusBadge\";\nimport { CreditNote } from \"../../types/creditNote\";\n\ninterface CreditNotesListProps {\n  creditNotes: CreditNote[];\n  onView: (id: string) => void;\n  onEdit: (id: string) => void;\n  onDelete: (id: string) => void;\n}\n\nexport function CreditNotesList({\n  creditNotes,\n  onView,\n  onEdit,\n  onDelete,\n}: CreditNotesListProps) {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [statusFilter, setStatusFilter] = useState(\"all\");\n\n  const filteredNotes = creditNotes.filter((note) => {\n    const matchesSearch =\n      note.creditNoteNumber.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      note.customer.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesStatus = statusFilter === \"all\" || note.status === statusFilter;\n    return matchesSearch && matchesStatus;\n  });\n\n  const totalApproved = creditNotes\n    .filter((note) => note.status === \"Approved\")\n    .reduce((acc, note) => acc + note.amount, 0);\n\n  const pendingAmount = creditNotes\n    .filter((note) => note.status === \"Pending Approval\")\n    .reduce((acc, note) => acc + note.amount, 0);\n\n  const draftCount = creditNotes.filter((note) => note.status === \"Draft\").length;\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Summary Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n        <Card className=\"border-[#E5E7EB]\">\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-[14px] text-[#6B7280]\">Total Credit Notes</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <p className=\"text-[#111827]\">{creditNotes.length}</p>\n            <p className=\"text-[12px] text-[#6B7280] mt-1\">All time</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"border-[#E5E7EB]\">\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-[14px] text-[#6B7280]\">Approved Amount</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <p className=\"text-[#111827]\">RM{totalApproved.toLocaleString()}</p>\n            <p className=\"text-[12px] text-[#059669] mt-1\">Processed</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"border-[#E5E7EB]\">\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-[14px] text-[#6B7280]\">Pending Approval</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <p className=\"text-[#111827]\">RM{pendingAmount.toLocaleString()}</p>\n            <p className=\"text-[12px] text-[#F59E0B] mt-1\">Awaiting review</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"border-[#E5E7EB]\">\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-[14px] text-[#6B7280]\">Drafts</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <p className=\"text-[#111827]\">{draftCount}</p>\n            <p className=\"text-[12px] text-[#6B7280] mt-1\">Not submitted</p>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Filters */}\n      <div className=\"flex items-center gap-4\">\n        <div className=\"relative flex-1 max-w-[400px]\">\n          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[#6B7280]\" />\n          <Input\n            placeholder=\"Search by credit note # or customer...\"\n            className=\"pl-10 h-10 bg-white border-[#D1D5DB] rounded-md\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n          />\n        </div>\n        <Select value={statusFilter} onValueChange={setStatusFilter}>\n          <SelectTrigger className=\"w-[200px] h-10 bg-white border-[#D1D5DB] rounded-md\">\n            <SelectValue placeholder=\"Filter by status\" />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"all\">All Status</SelectItem>\n            <SelectItem value=\"Draft\">Draft</SelectItem>\n            <SelectItem value=\"Pending Approval\">Pending Approval</SelectItem>\n            <SelectItem value=\"Approved\">Approved</SelectItem>\n            <SelectItem value=\"Rejected\">Rejected</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n\n      {/* Table */}\n      <Card className=\"border-[#E5E7EB]\">\n        <CardHeader>\n          <CardTitle className=\"text-[18px]\">Credit Notes</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <Table>\n            <TableHeader>\n              <TableRow className=\"bg-[#F9FAFB] hover:bg-[#F9FAFB]\">\n                <TableHead>Customer</TableHead>\n                <TableHead>Original Invoice</TableHead>\n                <TableHead>Amount</TableHead>\n                <TableHead>Reason</TableHead>\n                <TableHead>Date</TableHead>\n                <TableHead>Status</TableHead>\n                <TableHead className=\"text-right\">Actions</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {filteredNotes.length === 0 ? (\n                <TableRow>\n                  <TableCell colSpan={7} className=\"text-center py-8 text-[#6B7280]\">\n                    No credit notes found\n                  </TableCell>\n                </TableRow>\n              ) : (\n                filteredNotes.map((note) => (\n                  <TableRow key={note.id} className=\"h-14 hover:bg-[#F3F4F6]\">\n                    <TableCell className=\"text-[#374151]\">{note.customer}</TableCell>\n                    <TableCell className=\"text-[#374151]\">\n                      {note.originalInvoice}\n                    </TableCell>\n                    <TableCell className=\"text-[#111827]\">\n                      RM{note.amount.toLocaleString()}\n                    </TableCell>\n                    <TableCell>\n                      <Badge variant=\"secondary\" className=\"bg-[#F3F4F6] text-[#374151]\">\n                        {note.reason}\n                      </Badge>\n                    </TableCell>\n                    <TableCell className=\"text-[#374151]\">\n                      {new Date(note.date).toLocaleDateString()}\n                    </TableCell>\n                    <TableCell>\n                      <StatusBadge status={note.status} />\n                    </TableCell>\n                    <TableCell className=\"text-right\">\n                      <DropdownMenu>\n                        <DropdownMenuTrigger asChild>\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            className=\"hover:bg-[#F3F4F6]\"\n                          >\n                            <MoreVertical className=\"h-4 w-4\" />\n                          </Button>\n                        </DropdownMenuTrigger>\n                        <DropdownMenuContent align=\"end\">\n                          <DropdownMenuItem onClick={() => onView(note.id)}>\n                            <Eye className=\"h-4 w-4 mr-2\" />\n                            View\n                          </DropdownMenuItem>\n                          {note.status === \"Draft\" && (\n                            <>\n                              <DropdownMenuItem onClick={() => onEdit(note.id)}>\n                                <Edit2 className=\"h-4 w-4 mr-2\" />\n                                Edit\n                              </DropdownMenuItem>\n                              <DropdownMenuItem\n                                onClick={() => onDelete(note.id)}\n                                className=\"text-[#DC2626] focus:text-[#DC2626]\"\n                              >\n                                <Trash2 className=\"h-4 w-4 mr-2\" />\n                                Delete\n                              </DropdownMenuItem>\n                            </>\n                          )}\n                        </DropdownMenuContent>\n                      </DropdownMenu>\n                    </TableCell>\n                  </TableRow>\n                ))\n              )}\n            </TableBody>\n          </Table>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 737, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/credit-notes/ImageUpload.tsx"],"sourcesContent":["import { useState, useRef } from \"react\";\nimport { Upload, X, FileText, Image as ImageIcon } from \"lucide-react\";\nimport { Button } from \"../ui/button\";\nimport { Card } from \"../ui/card\";\n\ninterface ImageUploadProps {\n  onFilesChange: (files: File[]) => void;\n  maxFiles?: number;\n  existingFiles?: File[];\n}\n\nexport function ImageUpload({ onFilesChange, maxFiles = 5, existingFiles = [] }: ImageUploadProps) {\n  const [files, setFiles] = useState<File[]>(existingFiles);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const selectedFiles = Array.from(e.target.files || []);\n    const newFiles = [...files, ...selectedFiles].slice(0, maxFiles);\n    setFiles(newFiles);\n    onFilesChange(newFiles);\n  };\n\n  const handleRemoveFile = (index: number) => {\n    const newFiles = files.filter((_, i) => i !== index);\n    setFiles(newFiles);\n    onFilesChange(newFiles);\n  };\n\n  const formatFileSize = (bytes: number) => {\n    if (bytes < 1024) return bytes + ' B';\n    if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';\n    return (bytes / (1024 * 1024)).toFixed(1) + ' MB';\n  };\n\n  const isImage = (file: File) => {\n    return file.type.startsWith('image/');\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <div\n        className=\"border-2 border-dashed border-[#D1D5DB] rounded-lg p-8 text-center hover:border-[#F15929] transition-colors cursor-pointer\"\n        onClick={() => fileInputRef.current?.click()}\n      >\n        <Upload className=\"h-12 w-12 text-[#6B7280] mx-auto mb-4\" />\n        <p className=\"text-[#111827] mb-1\">\n          Click to upload or drag and drop\n        </p>\n        <p className=\"text-[14px] text-[#6B7280]\">\n          PNG, JPG, PDF up to 10MB (Max {maxFiles} files)\n        </p>\n        <input\n          ref={fileInputRef}\n          type=\"file\"\n          multiple\n          accept=\"image/*,.pdf\"\n          className=\"hidden\"\n          onChange={handleFileSelect}\n        />\n      </div>\n\n      {files.length > 0 && (\n        <div className=\"space-y-2\">\n          <p className=\"text-[14px] text-[#374151]\">\n            Uploaded Files ({files.length}/{maxFiles})\n          </p>\n          <div className=\"grid grid-cols-1 gap-2\">\n            {files.map((file, index) => (\n              <Card key={index} className=\"p-3 border-[#E5E7EB]\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"flex-shrink-0\">\n                    {isImage(file) ? (\n                      <ImageIcon className=\"h-8 w-8 text-[#F15929]\" />\n                    ) : (\n                      <FileText className=\"h-8 w-8 text-[#6B7280]\" />\n                    )}\n                  </div>\n                  <div className=\"flex-1 min-w-0\">\n                    <p className=\"text-[14px] text-[#111827] truncate\">\n                      {file.name}\n                    </p>\n                    <p className=\"text-[12px] text-[#6B7280]\">\n                      {formatFileSize(file.size)}\n                    </p>\n                  </div>\n                  <Button\n                    type=\"button\"\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={() => handleRemoveFile(index)}\n                    className=\"flex-shrink-0\"\n                  >\n                    <X className=\"h-4 w-4 text-[#DC2626]\" />\n                  </Button>\n                </div>\n              </Card>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;AAQO,SAAS,YAAY,EAAE,aAAa,EAAE,WAAW,CAAC,EAAE,gBAAgB,EAAE,EAAoB;;IAC/F,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAS;IAC3C,MAAM,eAAe,IAAA,uKAAM,EAAmB;IAE9C,MAAM,mBAAmB,CAAC;QACxB,MAAM,gBAAgB,MAAM,IAAI,CAAC,EAAE,MAAM,CAAC,KAAK,IAAI,EAAE;QACrD,MAAM,WAAW;eAAI;eAAU;SAAc,CAAC,KAAK,CAAC,GAAG;QACvD,SAAS;QACT,cAAc;IAChB;IAEA,MAAM,mBAAmB,CAAC;QACxB,MAAM,WAAW,MAAM,MAAM,CAAC,CAAC,GAAG,IAAM,MAAM;QAC9C,SAAS;QACT,cAAc;IAChB;IAEA,MAAM,iBAAiB,CAAC;QACtB,IAAI,QAAQ,MAAM,OAAO,QAAQ;QACjC,IAAI,QAAQ,OAAO,MAAM,OAAO,CAAC,QAAQ,IAAI,EAAE,OAAO,CAAC,KAAK;QAC5D,OAAO,CAAC,QAAQ,CAAC,OAAO,IAAI,CAAC,EAAE,OAAO,CAAC,KAAK;IAC9C;IAEA,MAAM,UAAU,CAAC;QACf,OAAO,KAAK,IAAI,CAAC,UAAU,CAAC;IAC9B;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,WAAU;gBACV,SAAS,IAAM,aAAa,OAAO,EAAE;;kCAErC,6LAAC,mNAAM;wBAAC,WAAU;;;;;;kCAClB,6LAAC;wBAAE,WAAU;kCAAsB;;;;;;kCAGnC,6LAAC;wBAAE,WAAU;;4BAA6B;4BACT;4BAAS;;;;;;;kCAE1C,6LAAC;wBACC,KAAK;wBACL,MAAK;wBACL,QAAQ;wBACR,QAAO;wBACP,WAAU;wBACV,UAAU;;;;;;;;;;;;YAIb,MAAM,MAAM,GAAG,mBACd,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAE,WAAU;;4BAA6B;4BACvB,MAAM,MAAM;4BAAC;4BAAE;4BAAS;;;;;;;kCAE3C,6LAAC;wBAAI,WAAU;kCACZ,MAAM,GAAG,CAAC,CAAC,MAAM,sBAChB,6LAAC,2IAAI;gCAAa,WAAU;0CAC1B,cAAA,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;sDACZ,QAAQ,sBACP,6LAAC,gNAAS;gDAAC,WAAU;;;;;qEAErB,6LAAC,6NAAQ;gDAAC,WAAU;;;;;;;;;;;sDAGxB,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAE,WAAU;8DACV,KAAK,IAAI;;;;;;8DAEZ,6LAAC;oDAAE,WAAU;8DACV,eAAe,KAAK,IAAI;;;;;;;;;;;;sDAG7B,6LAAC,+IAAM;4CACL,MAAK;4CACL,SAAQ;4CACR,MAAK;4CACL,SAAS,IAAM,iBAAiB;4CAChC,WAAU;sDAEV,cAAA,6LAAC,oMAAC;gDAAC,WAAU;;;;;;;;;;;;;;;;;+BAxBR;;;;;;;;;;;;;;;;;;;;;;AAkCzB;GA3FgB;KAAA"}},
    {"offset": {"line": 960, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/credit-notes/CreditNoteForm.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { ArrowLeft, Plus, Trash2, Save, Send } from \"lucide-react\";\nimport { Button } from \"../ui/button\";\nimport { Input } from \"../ui/input\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"../ui/card\";\nimport { Textarea } from \"../ui/textarea\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"../ui/select\";\nimport { ImageUpload } from \"./ImageUpload\";\nimport { CreditNote, CreditNoteItem } from \"../../types/creditNote\";\nimport { toast } from \"sonner\";\n\ninterface CreditNoteFormProps {\n  onBack: () => void;\n  onSave: (creditNote: Partial<CreditNote>, isDraft: boolean) => void;\n  editingNote?: CreditNote | null;\n}\n\n// Mock data for customers and invoices\nconst customers = [\n  { id: \"CUST-001\", name: \"Acme Construction Ltd.\" },\n  { id: \"CUST-002\", name: \"BuildRight Inc.\" },\n  { id: \"CUST-003\", name: \"Metro Builders\" },\n  { id: \"CUST-004\", name: \"Premium Projects\" },\n  { id: \"CUST-005\", name: \"Steel Masters Co.\" },\n];\n\nconst invoices = [\n  { id: \"INV-2024-045\", customerId: \"CUST-001\", amount: 15500 },\n  { id: \"INV-2024-046\", customerId: \"CUST-002\", amount: 22300 },\n  { id: \"INV-2024-047\", customerId: \"CUST-003\", amount: 18900 },\n  { id: \"INV-2024-048\", customerId: \"CUST-004\", amount: 12750 },\n  { id: \"INV-2024-049\", customerId: \"CUST-005\", amount: 31200 },\n];\n\n// Mock data for Delivery Orders\nconst deliveryOrders = [\n  { id: \"DO-2024-001\", customerId: \"CUST-001\", invoiceId: \"INV-2024-045\", doNumber: \"DO-2024-001\" },\n  { id: \"DO-2024-002\", customerId: \"CUST-002\", invoiceId: \"INV-2024-046\", doNumber: \"DO-2024-002\" },\n  { id: \"DO-2024-003\", customerId: \"CUST-003\", invoiceId: \"INV-2024-047\", doNumber: \"DO-2024-003\" },\n  { id: \"DO-2024-004\", customerId: \"CUST-004\", invoiceId: \"INV-2024-048\", doNumber: \"DO-2024-004\" },\n  { id: \"DO-2024-005\", customerId: \"CUST-005\", invoiceId: \"INV-2024-049\", doNumber: \"DO-2024-005\" },\n];\n\n// Mock DO Items with pricing\nconst doItems = [\n  { id: \"ITEM-001\", doId: \"DO-2024-001\", name: \"Steel Pipe Scaffolding - Standard (6m)\", previousPrice: 85.00, currentPrice: 95.00, maxQty: 50 },\n  { id: \"ITEM-002\", doId: \"DO-2024-001\", name: \"Scaffold Board - Wooden (3.9m)\", previousPrice: 45.00, currentPrice: 50.00, maxQty: 30 },\n  { id: \"ITEM-003\", doId: \"DO-2024-002\", name: \"H-Frame Scaffolding (1.7m x 1.2m)\", previousPrice: 120.00, currentPrice: 135.00, maxQty: 20 },\n  { id: \"ITEM-004\", doId: \"DO-2024-003\", name: \"Ringlock System - Vertical (3m)\", previousPrice: 95.00, currentPrice: 105.00, maxQty: 60 },\n  { id: \"ITEM-005\", doId: \"DO-2024-004\", name: \"Steel Tube - Heavy Duty (4m)\", previousPrice: 75.00, currentPrice: 80.00, maxQty: 100 },\n  { id: \"ITEM-006\", doId: \"DO-2024-004\", name: \"Swivel Coupler\", previousPrice: 12.00, currentPrice: 15.00, maxQty: 150 },\n  { id: \"ITEM-007\", doId: \"DO-2024-005\", name: \"Aluminum Mobile Tower (5m)\", previousPrice: 450.00, currentPrice: 480.00, maxQty: 3 },\n];\n\nexport function CreditNoteForm({ onBack, onSave, editingNote }: CreditNoteFormProps) {\n  const [customerId, setCustomerId] = useState(editingNote?.customerId || \"\");\n  const [originalInvoice, setOriginalInvoice] = useState(editingNote?.originalInvoice || \"\");\n  const [deliveryOrderId, setDeliveryOrderId] = useState(editingNote?.deliveryOrderId || \"\");\n  const [reason, setReason] = useState<CreditNote['reason']>(editingNote?.reason || \"Returned Items\");\n  const [reasonDescription, setReasonDescription] = useState(editingNote?.reasonDescription || \"\");\n  const [date, setDate] = useState(editingNote?.date || new Date().toISOString().split('T')[0]);\n  const [items, setItems] = useState<CreditNoteItem[]>(\n    editingNote?.items || [\n      {\n        id: \"1\",\n        description: \"\",\n        quantity: 1,\n        previousPrice: 0,\n        currentPrice: 0,\n        unitPrice: 0,\n        amount: 0,\n      },\n    ]\n  );\n  const [attachments, setAttachments] = useState<File[]>([]);\n\n  const availableInvoices = invoices.filter((inv) => inv.customerId === customerId);\n  const availableDOs = deliveryOrders.filter((d) => d.invoiceId === originalInvoice);\n  const availableItems = doItems.filter((item) => item.doId === deliveryOrderId);\n\n  // Check if all available items have been selected\n  const selectedItemNames = items.map((item) => item.description).filter(Boolean);\n  const allItemsSelected = availableItems.length > 0 && selectedItemNames.length >= availableItems.length;\n\n  const handleAddItem = () => {\n    const newItem: CreditNoteItem = {\n      id: Date.now().toString(),\n      description: \"\",\n      quantity: 1,\n      previousPrice: 0,\n      currentPrice: 0,\n      unitPrice: 0,\n      amount: 0,\n    };\n    setItems([...items, newItem]);\n  };\n\n  const handleRemoveItem = (id: string) => {\n    if (items.length > 1) {\n      setItems(items.filter((item) => item.id !== id));\n    }\n  };\n\n  const handleItemChange = (id: string, field: keyof CreditNoteItem, value: any) => {\n    setItems(\n      items.map((item) => {\n        if (item.id === id) {\n          const updatedItem = { ...item, [field]: value };\n          \n          // If selecting from DO items dropdown\n          if (field === \"description\" && value) {\n            const selectedItem = availableItems.find(i => i.name === value);\n            if (selectedItem) {\n              updatedItem.previousPrice = selectedItem.previousPrice;\n              updatedItem.currentPrice = selectedItem.previousPrice; // Set current price to same as previous price\n              updatedItem.unitPrice = selectedItem.previousPrice; // Use previous price for calculation\n              updatedItem.amount = updatedItem.quantity * selectedItem.previousPrice; // Calculate amount with previous price\n            }\n          }\n          \n          // Calculate amount using currentPrice (or unitPrice if currentPrice not set)\n          if (field === \"quantity\" || field === \"currentPrice\") {\n            const priceToUse = updatedItem.currentPrice || updatedItem.unitPrice;\n            updatedItem.amount = updatedItem.quantity * priceToUse;\n            updatedItem.unitPrice = priceToUse; // Keep unitPrice in sync\n          }\n          \n          return updatedItem;\n        }\n        return item;\n      })\n    );\n  };\n\n  const totalAmount = items.reduce((sum, item) => sum + item.amount, 0);\n\n  const validateForm = () => {\n    if (!customerId) {\n      toast.error(\"Please select a customer\");\n      return false;\n    }\n    if (!originalInvoice) {\n      toast.error(\"Please select an original invoice\");\n      return false;\n    }\n    if (!date) {\n      toast.error(\"Please select a date\");\n      return false;\n    }\n    if (items.some((item) => !item.description || item.quantity <= 0 || item.unitPrice <= 0)) {\n      toast.error(\"Please complete all item details\");\n      return false;\n    }\n    if (totalAmount <= 0) {\n      toast.error(\"Total amount must be greater than zero\");\n      return false;\n    }\n    return true;\n  };\n\n  const handleSaveDraft = () => {\n    const customer = customers.find((c) => c.id === customerId);\n    const creditNote: Partial<CreditNote> = {\n      id: editingNote?.id,\n      customer: customer?.name || \"\",\n      customerId,\n      originalInvoice,\n      amount: totalAmount,\n      reason,\n      reasonDescription,\n      date,\n      status: \"Draft\",\n      items,\n    };\n    onSave(creditNote, true);\n  };\n\n  const handleSubmit = () => {\n    if (!validateForm()) return;\n\n    const customer = customers.find((c) => c.id === customerId);\n    const creditNote: Partial<CreditNote> = {\n      id: editingNote?.id,\n      customer: customer?.name || \"\",\n      customerId,\n      originalInvoice,\n      amount: totalAmount,\n      reason,\n      reasonDescription,\n      date,\n      status: \"Pending Approval\",\n      items,\n    };\n    onSave(creditNote, false);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center gap-4\">\n        <Button\n          variant=\"ghost\"\n          onClick={onBack}\n          className=\"hover:bg-[#F3F4F6]\"\n        >\n          <ArrowLeft className=\"h-4 w-4 mr-2\" />\n          Back\n        </Button>\n        <div className=\"flex-1\">\n          <h1>{editingNote ? \"Edit Credit Note\" : \"Create Credit Note\"}</h1>\n          <p className=\"text-[#374151]\">\n            {editingNote ? \"Update credit note details\" : \"Fill in the details to create a new credit note\"}\n          </p>\n        </div>\n      </div>\n\n      {/* Form */}\n      <Card className=\"border-[#E5E7EB]\">\n        <CardHeader>\n          <CardTitle className=\"text-[18px]\">Credit Note Information</CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          {/* Customer & Invoice */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div className=\"space-y-2\">\n              <label className=\"text-[14px] text-[#374151]\">\n                Customer <span className=\"text-[#DC2626]\">*</span>\n              </label>\n              <Select value={customerId} onValueChange={setCustomerId}>\n                <SelectTrigger className=\"h-10 bg-white border-[#D1D5DB] rounded-md\">\n                  <SelectValue placeholder=\"Select customer...\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {customers.map((customer) => (\n                    <SelectItem key={customer.id} value={customer.id}>\n                      {customer.name}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <label className=\"text-[14px] text-[#374151]\">\n                Original Invoice <span className=\"text-[#DC2626]\">*</span>\n              </label>\n              <Select\n                value={originalInvoice}\n                onValueChange={setOriginalInvoice}\n                disabled={!customerId}\n              >\n                <SelectTrigger className=\"h-10 bg-white border-[#D1D5DB] rounded-md\">\n                  <SelectValue placeholder=\"Select invoice...\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {availableInvoices.map((invoice) => (\n                    <SelectItem key={invoice.id} value={invoice.id}>\n                      {invoice.id} - RM{invoice.amount.toLocaleString()}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n\n          {/* Delivery Order Selection */}\n          <div className=\"space-y-2\">\n            <label className=\"text-[14px] text-[#374151]\">\n              Delivery Order (DO) <span className=\"text-[#DC2626]\">*</span>\n            </label>\n            <Select\n              value={deliveryOrderId}\n              onValueChange={setDeliveryOrderId}\n              disabled={!originalInvoice}\n            >\n              <SelectTrigger className=\"h-10 bg-white border-[#D1D5DB] rounded-md\">\n                <SelectValue placeholder=\"Select delivery order...\" />\n              </SelectTrigger>\n              <SelectContent>\n                {availableDOs.map((d) => (\n                  <SelectItem key={d.id} value={d.id}>\n                    {d.doNumber}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n            <p className=\"text-xs text-gray-500\">\n              Select the DO to load items with price comparison (Previous Price from DO vs Current Price from Invoice)\n            </p>\n          </div>\n\n          {/* Reason & Date */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div className=\"space-y-2\">\n              <label className=\"text-[14px] text-[#374151]\">\n                Reason <span className=\"text-[#DC2626]\">*</span>\n              </label>\n              <Select value={reason} onValueChange={(value) => setReason(value as CreditNote['reason'])}>\n                <SelectTrigger className=\"h-10 bg-white border-[#D1D5DB] rounded-md\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"Returned Items\">Returned Items</SelectItem>\n                  <SelectItem value=\"Price Adjustment\">Price Adjustment</SelectItem>\n                  <SelectItem value=\"Service Issue\">Service Issue</SelectItem>\n                  <SelectItem value=\"Damaged Goods\">Damaged Goods</SelectItem>\n                  <SelectItem value=\"Billing Error\">Billing Error</SelectItem>\n                  <SelectItem value=\"Other\">Other</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <label className=\"text-[14px] text-[#374151]\">\n                Date\n              </label>\n              <Input\n                type=\"date\"\n                value={date}\n                onChange={(e) => setDate(e.target.value)}\n                disabled\n                className=\"h-10 bg-[#F3F4F6] border-[#D1D5DB] rounded-md\"\n              />\n            </div>\n          </div>\n\n          {/* Reason Description */}\n          <div className=\"space-y-2\">\n            <label className=\"text-[14px] text-[#374151]\">Additional Details</label>\n            <Textarea\n              placeholder=\"Provide additional details about the credit note...\"\n              value={reasonDescription}\n              onChange={(e) => setReasonDescription(e.target.value)}\n              className=\"min-h-[100px] border-[#D1D5DB] rounded-md\"\n            />\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Items */}\n      <Card className=\"border-[#E5E7EB]\">\n        <CardHeader className=\"flex flex-row items-center justify-between\">\n          <CardTitle className=\"text-[18px]\">Line Items</CardTitle>\n          <Button\n            onClick={handleAddItem}\n            variant=\"outline\"\n            className=\"h-9 px-4 rounded-lg\"\n            disabled={allItemsSelected}\n          >\n            <Plus className=\"h-4 w-4 mr-2\" />\n            Add Item\n          </Button>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          {!deliveryOrderId && (\n            <div className=\"p-4 bg-amber-50 border border-amber-200 rounded-lg text-sm text-amber-800\">\n              Please select a Delivery Order (DO) above to load items with price comparison\n            </div>\n          )}\n          \n          {items.map((item, index) => (\n            <Card key={item.id} className=\"border-[#E5E7EB] bg-[#F9FAFB]\">\n              <CardContent className=\"pt-6 pb-6\">\n                {/* Two-column layout */}\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  {/* Left Column */}\n                  <div className=\"space-y-4\">\n                    {/* Item Dropdown */}\n                    <div className=\"space-y-2\">\n                      <label className=\"text-[14px] text-[#374151]\">\n                        Select Item from DO <span className=\"text-[#DC2626]\">*</span>\n                      </label>\n                      <Select\n                        value={item.description}\n                        onValueChange={(value) => handleItemChange(item.id, \"description\", value)}\n                        disabled={!deliveryOrderId}\n                      >\n                        <SelectTrigger className=\"h-10 bg-white border-[#D1D5DB] rounded-md\">\n                          <SelectValue placeholder=\"Select item from DO...\" />\n                        </SelectTrigger>\n                        <SelectContent>\n                          {availableItems\n                            .filter((doItem) => {\n                              // Show the item if it's the current item's selection, or if it's not selected by any other item\n                              const isCurrentSelection = doItem.name === item.description;\n                              const isSelectedElsewhere = items.some(\n                                (i) => i.id !== item.id && i.description === doItem.name\n                              );\n                              return isCurrentSelection || !isSelectedElsewhere;\n                            })\n                            .map((doItem) => (\n                              <SelectItem key={doItem.id} value={doItem.name}>\n                                {doItem.name}\n                              </SelectItem>\n                            ))}\n                        </SelectContent>\n                      </Select>\n                    </div>\n\n                    {/* Previous Price (from Invoice) */}\n                    <div className=\"space-y-2\">\n                      <label className=\"text-[14px] text-[#6B7280]\">\n                        Previous Price (from Invoice)\n                      </label>\n                      <div className=\"h-10 px-3 bg-[#F9FAFB] border border-[#D1D5DB] rounded-md flex items-center\">\n                        <span className=\"text-[#6B7280]\">\n                          {item.previousPrice > 0 ? `RM${item.previousPrice.toFixed(2)}` : '-'}\n                        </span>\n                      </div>\n                    </div>\n\n                    {/* Current Price (from Invoice) */}\n                    <div className=\"space-y-2\">\n                      <label className=\"text-[14px] text-[#231F20]\">\n                        Current Price <span className=\"text-[#DC2626]\">*</span>\n                      </label>\n                      <Input\n                        type=\"number\"\n                        step=\"0.01\"\n                        min=\"0\"\n                        max={item.previousPrice || undefined}\n                        value={item.currentPrice || ''}\n                        onChange={(e) =>\n                          handleItemChange(item.id, \"currentPrice\", parseFloat(e.target.value) || 0)\n                        }\n                        placeholder=\"Enter current price\"\n                        className=\"h-10 bg-white border-[#D1D5DB] rounded-md\"\n                        disabled={!item.description}\n                      />\n                      {item.currentPrice > item.previousPrice && item.previousPrice > 0 && (\n                        <p className=\"text-xs text-[#DC2626] flex items-center gap-1\">\n                          <span className=\"font-semibold\">⚠</span> Current price cannot exceed previous price (RM{item.previousPrice.toFixed(2)})\n                        </p>\n                      )}\n                    </div>\n\n                    {/* Price Reduction */}\n                    {item.previousPrice > 0 && item.currentPrice > 0 && (\n                      <div className=\"space-y-2\">\n                        <label className=\"text-[14px] text-[#6B7280]\">\n                          Price Reduction\n                        </label>\n                        <div className=\"h-10 px-3 bg-[#FEF2F2] border border-[#DC2626] rounded-md flex items-center\">\n                          <span className={item.previousPrice - item.currentPrice > 0 ? \"text-[#DC2626]\" : \"text-[#16A34A]\"}>\n                            {item.previousPrice - item.currentPrice > 0 ? '-' : '+'}RM{Math.abs(item.previousPrice - item.currentPrice).toFixed(2)}\n                          </span>\n                        </div>\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Right Column */}\n                  <div className=\"space-y-4\">\n                    {/* Quantity to Credit */}\n                    <div className=\"space-y-2\">\n                      <label className=\"text-[14px] text-[#374151]\">\n                        Quantity to Credit <span className=\"text-[#DC2626]\">*</span>\n                      </label>\n                      <Input\n                        type=\"number\"\n                        min=\"1\"\n                        max={availableItems.find(i => i.name === item.description)?.maxQty || 999}\n                        value={item.quantity}\n                        onChange={(e) =>\n                          handleItemChange(item.id, \"quantity\", parseFloat(e.target.value) || 0)\n                        }\n                        placeholder=\"Enter quantity\"\n                        className=\"h-10 bg-white border-[#D1D5DB] rounded-md\"\n                        disabled={!item.description}\n                      />\n                      {item.description && (\n                        <p className=\"text-xs text-gray-500\">\n                          Max quantity: {availableItems.find(i => i.name === item.description)?.maxQty || 0}\n                        </p>\n                      )}\n                    </div>\n\n                    {/* Amount (auto-calculated) */}\n                    <div className=\"space-y-2\">\n                      <label className=\"text-[14px] text-[#374151]\">\n                        Amount (RM)\n                      </label>\n                      <div className=\"h-10 px-3 bg-[#F3F4F6] border border-[#D1D5DB] rounded-md flex items-center\">\n                        <span className=\"text-[#231F20]\">\n                          RM{(item.amount || 0).toFixed(2)}\n                        </span>\n                      </div>\n                      <p className=\"text-xs text-gray-500\">\n                        Calculated: {item.quantity} × RM{(item.currentPrice || 0).toFixed(2)}\n                      </p>\n                    </div>\n\n                    {/* Delete Button */}\n                    {items.length > 1 && (\n                      <div className=\"flex items-end h-10\">\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={() => handleRemoveItem(item.id)}\n                          className=\"hover:bg-[#FEF2F2] text-[#DC2626] border-[#DC2626]\"\n                        >\n                          <Trash2 className=\"h-4 w-4 mr-2\" />\n                          Remove Item\n                        </Button>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n\n          {/* Total */}\n          <div className=\"flex justify-end\">\n            <div className=\"w-full md:w-1/3 space-y-2\">\n              <div className=\"flex justify-between items-center p-4 bg-[#FEF2F2] border border-[#DC2626] rounded-lg\">\n                <span className=\"text-[#231F20]\">Total Amount Reduce (RM)</span>\n                <span className=\"text-[#DC2626]\">\n                  -RM{items.reduce((sum, item) => sum + ((item.previousPrice - item.currentPrice) * item.quantity), 0).toFixed(2)}\n                </span>\n              </div>\n              <div className=\"flex justify-between items-center p-4 bg-[#F15929] bg-opacity-10 border border-[#F15929] rounded-lg\">\n                <span className=\"text-[#231F20]\">Total Amount Charge:</span>\n                <span className=\"text-[#231F20]\">\n                  RM{totalAmount.toLocaleString()}\n                </span>\n              </div>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Attachments */}\n      <Card className=\"border-[#E5E7EB]\">\n        <CardHeader>\n          <CardTitle className=\"text-[18px]\">Supporting Documents</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <ImageUpload onFilesChange={setAttachments} maxFiles={5} />\n        </CardContent>\n      </Card>\n\n      {/* Actions */}\n      <div className=\"flex justify-end gap-3 pb-6\">\n        <Button\n          variant=\"outline\"\n          onClick={handleSaveDraft}\n          className=\"h-10 px-6 rounded-lg\"\n        >\n          <Save className=\"mr-2 h-4 w-4\" />\n          Save as Draft\n        </Button>\n        <Button\n          onClick={handleSubmit}\n          className=\"bg-[#F15929] hover:bg-[#D14620] text-white h-10 px-6 rounded-lg\"\n        >\n          <Send className=\"mr-2 h-4 w-4\" />\n          Submit for Approval\n        </Button>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2341, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/credit-notes/RejectionModal.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { X } from \"lucide-react\";\nimport { Button } from \"../ui/button\";\nimport { Textarea } from \"../ui/textarea\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n} from \"../ui/dialog\";\n\ninterface RejectionModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onReject: (reason: string) => void;\n  creditNoteNumber: string;\n}\n\nexport function RejectionModal({\n  isOpen,\n  onClose,\n  onReject,\n  creditNoteNumber,\n}: RejectionModalProps) {\n  const [reason, setReason] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const handleReject = () => {\n    if (!reason.trim()) {\n      setError(\"Please provide a reason for rejection\");\n      return;\n    }\n\n    if (reason.trim().length < 10) {\n      setError(\"Rejection reason must be at least 10 characters\");\n      return;\n    }\n\n    onReject(reason);\n    setReason(\"\");\n    setError(\"\");\n    onClose();\n  };\n\n  const handleClose = () => {\n    setReason(\"\");\n    setError(\"\");\n    onClose();\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={handleClose}>\n      <DialogContent className=\"sm:max-w-[500px]\">\n        <DialogHeader>\n          <DialogTitle>Reject Credit Note</DialogTitle>\n          <DialogDescription>\n            You are about to reject credit note {creditNoteNumber}. Please provide a reason for rejection.\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-4 py-4\">\n          <div className=\"space-y-2\">\n            <label className=\"text-[14px] text-[#374151]\">\n              Rejection Reason <span className=\"text-[#DC2626]\">*</span>\n            </label>\n            <Textarea\n              placeholder=\"Enter detailed reason for rejection...\"\n              value={reason}\n              onChange={(e) => {\n                setReason(e.target.value);\n                setError(\"\");\n              }}\n              className=\"min-h-[120px] border-[#D1D5DB] rounded-md\"\n            />\n            {error && (\n              <p className=\"text-[12px] text-[#DC2626]\">{error}</p>\n            )}\n          </div>\n\n          <div className=\"bg-[#FEF2F2] border border-[#FEE2E2] rounded-lg p-4\">\n            <p className=\"text-[14px] text-[#991B1B]\">\n              This action will reject the credit note and notify the creator. The credit note can be revised and resubmitted.\n            </p>\n          </div>\n        </div>\n\n        <div className=\"flex justify-end gap-3\">\n          <Button\n            variant=\"outline\"\n            onClick={handleClose}\n            className=\"h-10 px-6 rounded-lg\"\n          >\n            Cancel\n          </Button>\n          <Button\n            onClick={handleReject}\n            className=\"bg-[#DC2626] hover:bg-[#B91C1C] text-white h-10 px-6 rounded-lg\"\n          >\n            Reject Credit Note\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AAEA;AACA;AACA;;;;;;;AAeO,SAAS,eAAe,EAC7B,MAAM,EACN,OAAO,EACP,QAAQ,EACR,gBAAgB,EACI;;IACpB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IACrC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IAEnC,MAAM,eAAe;QACnB,IAAI,CAAC,OAAO,IAAI,IAAI;YAClB,SAAS;YACT;QACF;QAEA,IAAI,OAAO,IAAI,GAAG,MAAM,GAAG,IAAI;YAC7B,SAAS;YACT;QACF;QAEA,SAAS;QACT,UAAU;QACV,SAAS;QACT;IACF;IAEA,MAAM,cAAc;QAClB,UAAU;QACV,SAAS;QACT;IACF;IAEA,qBACE,6LAAC,+IAAM;QAAC,MAAM;QAAQ,cAAc;kBAClC,cAAA,6LAAC,sJAAa;YAAC,WAAU;;8BACvB,6LAAC,qJAAY;;sCACX,6LAAC,oJAAW;sCAAC;;;;;;sCACb,6LAAC,0JAAiB;;gCAAC;gCACoB;gCAAiB;;;;;;;;;;;;;8BAI1D,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAM,WAAU;;wCAA6B;sDAC3B,6LAAC;4CAAK,WAAU;sDAAiB;;;;;;;;;;;;8CAEpD,6LAAC,mJAAQ;oCACP,aAAY;oCACZ,OAAO;oCACP,UAAU,CAAC;wCACT,UAAU,EAAE,MAAM,CAAC,KAAK;wCACxB,SAAS;oCACX;oCACA,WAAU;;;;;;gCAEX,uBACC,6LAAC;oCAAE,WAAU;8CAA8B;;;;;;;;;;;;sCAI/C,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAE,WAAU;0CAA6B;;;;;;;;;;;;;;;;;8BAM9C,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,+IAAM;4BACL,SAAQ;4BACR,SAAS;4BACT,WAAU;sCACX;;;;;;sCAGD,6LAAC,+IAAM;4BACL,SAAS;4BACT,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAOX;GAtFgB;KAAA"}},
    {"offset": {"line": 2534, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/credit-notes/CreditNoteDetails.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { ArrowLeft, Download, CheckCircle, XCircle, FileText, Image as ImageIcon } from \"lucide-react\";\nimport { Button } from \"../ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"../ui/card\";\nimport { Badge } from \"../ui/badge\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"../ui/table\";\nimport { StatusBadge } from \"./StatusBadge\";\nimport { RejectionModal } from \"./RejectionModal\";\nimport { CreditNote } from \"../../types/creditNote\";\nimport { toast } from \"sonner\";\n\ninterface CreditNoteDetailsProps {\n  creditNote: CreditNote;\n  onBack: () => void;\n  onApprove: (id: string) => void;\n  onReject: (id: string, reason: string) => void;\n  userRole: \"Admin\" | \"Finance\" | \"Staff\" | \"Viewer\";\n}\n\nexport function CreditNoteDetails({\n  creditNote,\n  onBack,\n  onApprove,\n  onReject,\n  userRole,\n}: CreditNoteDetailsProps) {\n  const [isRejectionModalOpen, setIsRejectionModalOpen] = useState(false);\n\n  const canApprove = (userRole === \"Admin\" || userRole === \"Finance\") && \n                     creditNote.status === \"Pending Approval\";\n\n  const handleApprove = () => {\n    onApprove(creditNote.id);\n  };\n\n  const handleReject = (reason: string) => {\n    onReject(creditNote.id, reason);\n  };\n\n  const handleDownloadPDF = () => {\n    toast.success(\"PDF download started\");\n    // In a real app, this would generate and download a PDF\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-4\">\n          <Button variant=\"ghost\" onClick={onBack} className=\"hover:bg-[#F3F4F6]\">\n            <ArrowLeft className=\"h-4 w-4 mr-2\" />\n            Back\n          </Button>\n          <div>\n            <div className=\"flex items-center gap-3\">\n              <h1>{creditNote.creditNoteNumber}</h1>\n              <StatusBadge status={creditNote.status} />\n            </div>\n            <p className=\"text-[#374151]\">\n              Created on {new Date(creditNote.createdAt).toLocaleDateString()}\n            </p>\n          </div>\n        </div>\n        <Button\n          variant=\"outline\"\n          onClick={handleDownloadPDF}\n          className=\"h-10 px-6 rounded-lg\"\n        >\n          <Download className=\"mr-2 h-4 w-4\" />\n          Download PDF\n        </Button>\n      </div>\n\n      {/* Approval Actions */}\n      {canApprove && (\n        <Card className=\"border-[#F15929] bg-[#FFF7F5]\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-[#231F20]\">\n                  Approval Required\n                </p>\n                <p className=\"text-[14px] text-[#6B7280] mt-1\">\n                  This credit note requires your approval before processing\n                </p>\n              </div>\n              <div className=\"flex gap-3\">\n                <Button\n                  variant=\"outline\"\n                  onClick={() => setIsRejectionModalOpen(true)}\n                  className=\"h-10 px-6 rounded-lg border-[#DC2626] text-[#DC2626] hover:bg-[#FEF2F2]\"\n                >\n                  <XCircle className=\"mr-2 h-4 w-4\" />\n                  Reject\n                </Button>\n                <Button\n                  onClick={handleApprove}\n                  className=\"bg-[#059669] hover:bg-[#047857] text-white h-10 px-6 rounded-lg\"\n                >\n                  <CheckCircle className=\"mr-2 h-4 w-4\" />\n                  Approve\n                </Button>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Rejection Info */}\n      {creditNote.status === \"Rejected\" && creditNote.rejectionReason && (\n        <Card className=\"border-[#DC2626] bg-[#FEF2F2]\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-start gap-3\">\n              <XCircle className=\"h-5 w-5 text-[#DC2626] mt-0.5\" />\n              <div className=\"flex-1\">\n                <p className=\"text-[#991B1B]\">\n                  Rejected by {creditNote.rejectedBy || \"Unknown\"}\n                </p>\n                <p className=\"text-[14px] text-[#6B7280] mt-1\">\n                  {new Date(creditNote.rejectedAt || \"\").toLocaleDateString()}\n                </p>\n                <div className=\"mt-3 p-3 bg-white rounded-lg border border-[#FEE2E2]\">\n                  <p className=\"text-[14px] text-[#374151]\">\n                    <span className=\"text-[#991B1B]\">Reason:</span> {creditNote.rejectionReason}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Credit Note Details */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <Card className=\"border-[#E5E7EB]\">\n          <CardHeader>\n            <CardTitle className=\"text-[18px]\">Customer Information</CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div>\n              <p className=\"text-[14px] text-[#6B7280]\">Customer Name</p>\n              <p className=\"text-[#111827]\">{creditNote.customer}</p>\n            </div>\n            <div>\n              <p className=\"text-[14px] text-[#6B7280]\">Customer ID</p>\n              <p className=\"text-[#111827]\">{creditNote.customerId}</p>\n            </div>\n            <div>\n              <p className=\"text-[14px] text-[#6B7280]\">Original Invoice</p>\n              <p className=\"text-[#111827]\">{creditNote.originalInvoice}</p>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className=\"border-[#E5E7EB]\">\n          <CardHeader>\n            <CardTitle className=\"text-[18px]\">Credit Note Details</CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div>\n              <p className=\"text-[14px] text-[#6B7280]\">Reason</p>\n              <Badge variant=\"secondary\" className=\"bg-[#F3F4F6] text-[#374151] mt-1\">\n                {creditNote.reason}\n              </Badge>\n            </div>\n            <div>\n              <p className=\"text-[14px] text-[#6B7280]\">Date</p>\n              <p className=\"text-[#111827]\">\n                {new Date(creditNote.date).toLocaleDateString()}\n              </p>\n            </div>\n            <div>\n              <p className=\"text-[14px] text-[#6B7280]\">Total Amount</p>\n              <p className=\"text-[#111827]\">\n                RM{creditNote.amount.toLocaleString()}\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Additional Details */}\n      {creditNote.reasonDescription && (\n        <Card className=\"border-[#E5E7EB]\">\n          <CardHeader>\n            <CardTitle className=\"text-[18px]\">Additional Details</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <p className=\"text-[#374151]\">{creditNote.reasonDescription}</p>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Line Items */}\n      <Card className=\"border-[#E5E7EB]\">\n        <CardHeader>\n          <CardTitle className=\"text-[18px]\">Line Items</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <Table>\n            <TableHeader>\n              <TableRow className=\"bg-[#F9FAFB] hover:bg-[#F9FAFB]\">\n                <TableHead>Description</TableHead>\n                <TableHead className=\"text-right\">Quantity</TableHead>\n                <TableHead className=\"text-right\">Unit Price</TableHead>\n                <TableHead className=\"text-right\">Amount</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {creditNote.items.map((item) => (\n                <TableRow key={item.id} className=\"hover:bg-[#F3F4F6]\">\n                  <TableCell className=\"text-[#111827]\">{item.description}</TableCell>\n                  <TableCell className=\"text-right text-[#374151]\">\n                    {item.quantity}\n                  </TableCell>\n                  <TableCell className=\"text-right text-[#374151]\">\n                    RM{item.unitPrice.toLocaleString()}\n                  </TableCell>\n                  <TableCell className=\"text-right text-[#111827]\">\n                    RM{item.amount.toLocaleString()}\n                  </TableCell>\n                </TableRow>\n              ))}\n              <TableRow className=\"bg-[#F9FAFB] hover:bg-[#F9FAFB]\">\n                <TableCell colSpan={3} className=\"text-right\">\n                  Total\n                </TableCell>\n                <TableCell className=\"text-right text-[#111827]\">\n                  RM{creditNote.amount.toLocaleString()}\n                </TableCell>\n              </TableRow>\n            </TableBody>\n          </Table>\n        </CardContent>\n      </Card>\n\n      {/* Attachments */}\n      {creditNote.attachments && creditNote.attachments.length > 0 && (\n        <Card className=\"border-[#E5E7EB]\">\n          <CardHeader>\n            <CardTitle className=\"text-[18px]\">Supporting Documents</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              {creditNote.attachments.map((attachment) => (\n                <Card key={attachment.id} className=\"border-[#E5E7EB]\">\n                  <CardContent className=\"p-4\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"flex-shrink-0\">\n                        {attachment.fileName.match(/\\.(jpg|jpeg|png|gif)$/i) ? (\n                          <ImageIcon className=\"h-8 w-8 text-[#F15929]\" />\n                        ) : (\n                          <FileText className=\"h-8 w-8 text-[#6B7280]\" />\n                        )}\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"text-[14px] text-[#111827] truncate\">\n                          {attachment.fileName}\n                        </p>\n                        <p className=\"text-[12px] text-[#6B7280]\">\n                          {(attachment.fileSize / 1024).toFixed(1)} KB\n                        </p>\n                      </div>\n                      <Button variant=\"ghost\" size=\"sm\" className=\"flex-shrink-0\">\n                        <Download className=\"h-4 w-4\" />\n                      </Button>\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Audit Trail */}\n      <Card className=\"border-[#E5E7EB]\">\n        <CardHeader>\n          <CardTitle className=\"text-[18px]\">Audit Trail</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            <div className=\"flex items-start gap-3\">\n              <div className=\"h-2 w-2 rounded-full bg-[#6B7280] mt-2\"></div>\n              <div>\n                <p className=\"text-[#111827]\">Created by {creditNote.createdBy}</p>\n                <p className=\"text-[14px] text-[#6B7280]\">\n                  {new Date(creditNote.createdAt).toLocaleString()}\n                </p>\n              </div>\n            </div>\n\n            {creditNote.status === \"Approved\" && creditNote.approvedBy && (\n              <div className=\"flex items-start gap-3\">\n                <div className=\"h-2 w-2 rounded-full bg-[#059669] mt-2\"></div>\n                <div>\n                  <p className=\"text-[#111827]\">Approved by {creditNote.approvedBy}</p>\n                  <p className=\"text-[14px] text-[#6B7280]\">\n                    {new Date(creditNote.approvedAt || \"\").toLocaleString()}\n                  </p>\n                </div>\n              </div>\n            )}\n\n            {creditNote.status === \"Rejected\" && creditNote.rejectedBy && (\n              <div className=\"flex items-start gap-3\">\n                <div className=\"h-2 w-2 rounded-full bg-[#DC2626] mt-2\"></div>\n                <div>\n                  <p className=\"text-[#111827]\">Rejected by {creditNote.rejectedBy}</p>\n                  <p className=\"text-[14px] text-[#6B7280]\">\n                    {new Date(creditNote.rejectedAt || \"\").toLocaleString()}\n                  </p>\n                </div>\n              </div>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Rejection Modal */}\n      <RejectionModal\n        isOpen={isRejectionModalOpen}\n        onClose={() => setIsRejectionModalOpen(false)}\n        onReject={handleReject}\n        creditNoteNumber={creditNote.creditNoteNumber}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3599, "column": 0}, "map": {"version":3,"sources":["file:///home/ervin/Documents/Power%20Metal%20%26%20Steel/src/components/credit-notes/CreditNotesMain.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { Plus } from \"lucide-react\";\nimport { Button } from \"../ui/button\";\nimport { CreditNotesList } from \"./CreditNotesList\";\nimport { CreditNoteForm } from \"./CreditNoteForm\";\nimport { CreditNoteDetails } from \"./CreditNoteDetails\";\nimport { CreditNote } from \"../../types/creditNote\";\nimport { toast } from \"sonner\";\n\ntype View = \"list\" | \"create\" | \"edit\" | \"details\";\n\n// Mock data - in a real app, this would come from an API\nconst initialCreditNotes: CreditNote[] = [\n  {\n    id: \"1\",\n    creditNoteNumber: \"CN-2024-001\",\n    customer: \"Acme Construction Ltd.\",\n    customerId: \"CUST-001\",\n    originalInvoice: \"INV-2024-045\",\n    amount: 750,\n    reason: \"Returned Items\",\n    reasonDescription: \"Customer returned 5 units of steel bars due to excess inventory\",\n    date: \"2024-11-03\",\n    status: \"Approved\",\n    createdBy: \"John Smith\",\n    createdAt: \"2024-11-03T09:00:00Z\",\n    updatedAt: \"2024-11-03T14:30:00Z\",\n    approvedBy: \"Jane Doe (Finance Manager)\",\n    approvedAt: \"2024-11-03T14:30:00Z\",\n    attachments: [\n      {\n        id: \"att-1\",\n        fileName: \"return_receipt.pdf\",\n        fileUrl: \"#\",\n        fileSize: 245600,\n        uploadedAt: \"2024-11-03T09:00:00Z\",\n      },\n    ],\n    items: [\n      {\n        id: \"item-1\",\n        description: \"Steel Bar - 12mm x 6m\",\n        quantity: 5,\n        unitPrice: 150,\n        amount: 750,\n      },\n    ],\n  },\n  {\n    id: \"2\",\n    creditNoteNumber: \"CN-2024-002\",\n    customer: \"BuildRight Inc.\",\n    customerId: \"CUST-002\",\n    originalInvoice: \"INV-2024-043\",\n    amount: 1200,\n    reason: \"Price Adjustment\",\n    reasonDescription: \"Volume discount applied retroactively for bulk order\",\n    date: \"2024-11-02\",\n    status: \"Pending Approval\",\n    createdBy: \"Sarah Johnson\",\n    createdAt: \"2024-11-02T10:15:00Z\",\n    updatedAt: \"2024-11-02T10:15:00Z\",\n    attachments: [],\n    items: [\n      {\n        id: \"item-1\",\n        description: \"Price adjustment for scaffolding rental\",\n        quantity: 1,\n        unitPrice: 1200,\n        amount: 1200,\n      },\n    ],\n  },\n  {\n    id: \"3\",\n    creditNoteNumber: \"CN-2024-003\",\n    customer: \"Metro Builders\",\n    customerId: \"CUST-003\",\n    originalInvoice: \"INV-2024-038\",\n    amount: 450,\n    reason: \"Service Issue\",\n    reasonDescription: \"Late delivery compensation\",\n    date: \"2024-10-30\",\n    status: \"Approved\",\n    createdBy: \"Mike Chen\",\n    createdAt: \"2024-10-30T11:20:00Z\",\n    updatedAt: \"2024-10-30T16:45:00Z\",\n    approvedBy: \"Robert Lee (Admin)\",\n    approvedAt: \"2024-10-30T16:45:00Z\",\n    attachments: [],\n    items: [\n      {\n        id: \"item-1\",\n        description: \"Service credit for late delivery\",\n        quantity: 1,\n        unitPrice: 450,\n        amount: 450,\n      },\n    ],\n  },\n  {\n    id: \"4\",\n    creditNoteNumber: \"CN-2024-004\",\n    customer: \"Premium Projects\",\n    customerId: \"CUST-004\",\n    originalInvoice: \"INV-2024-047\",\n    amount: 2100,\n    reason: \"Returned Items\",\n    date: \"2024-11-01\",\n    status: \"Draft\",\n    createdBy: \"Emily Wong\",\n    createdAt: \"2024-11-01T08:30:00Z\",\n    updatedAt: \"2024-11-01T08:30:00Z\",\n    attachments: [],\n    items: [\n      {\n        id: \"item-1\",\n        description: \"Scaffolding Tubes - 6m\",\n        quantity: 10,\n        unitPrice: 180,\n        amount: 1800,\n      },\n      {\n        id: \"item-2\",\n        description: \"Couplers - Standard\",\n        quantity: 20,\n        unitPrice: 15,\n        amount: 300,\n      },\n    ],\n  },\n  {\n    id: \"5\",\n    creditNoteNumber: \"CN-2024-005\",\n    customer: \"Steel Masters Co.\",\n    customerId: \"CUST-005\",\n    originalInvoice: \"INV-2024-049\",\n    amount: 850,\n    reason: \"Damaged Goods\",\n    reasonDescription: \"3 units received with minor rust damage\",\n    date: \"2024-11-05\",\n    status: \"Rejected\",\n    createdBy: \"Tom Williams\",\n    createdAt: \"2024-11-05T13:00:00Z\",\n    updatedAt: \"2024-11-05T15:20:00Z\",\n    rejectedBy: \"Jane Doe (Finance Manager)\",\n    rejectedAt: \"2024-11-05T15:20:00Z\",\n    rejectionReason: \"Insufficient documentation. Please provide photos of the damaged goods and inspection report before resubmitting.\",\n    attachments: [],\n    items: [\n      {\n        id: \"item-1\",\n        description: \"Steel Plates - 10mm\",\n        quantity: 3,\n        unitPrice: 283.33,\n        amount: 850,\n      },\n    ],\n  },\n];\n\nexport function CreditNotesMain() {\n  const [currentView, setCurrentView] = useState<View>(\"list\");\n  const [creditNotes, setCreditNotes] = useState<CreditNote[]>(initialCreditNotes);\n  const [selectedNoteId, setSelectedNoteId] = useState<string | null>(null);\n  const [userRole] = useState<\"Admin\" | \"Finance\" | \"Staff\" | \"Viewer\">(\"Admin\");\n\n  // Load from localStorage on mount\n  useEffect(() => {\n    const stored = localStorage.getItem(\"creditNotes\");\n    if (stored) {\n      try {\n        setCreditNotes(JSON.parse(stored));\n      } catch (e) {\n        console.error(\"Failed to load credit notes from storage\");\n      }\n    }\n  }, []);\n\n  // Save to localStorage when creditNotes change\n  useEffect(() => {\n    localStorage.setItem(\"creditNotes\", JSON.stringify(creditNotes));\n  }, [creditNotes]);\n\n  const selectedNote = selectedNoteId\n    ? creditNotes.find((note) => note.id === selectedNoteId)\n    : null;\n\n  const handleCreateNew = () => {\n    setSelectedNoteId(null);\n    setCurrentView(\"create\");\n  };\n\n  const handleView = (id: string) => {\n    setSelectedNoteId(id);\n    setCurrentView(\"details\");\n  };\n\n  const handleEdit = (id: string) => {\n    setSelectedNoteId(id);\n    setCurrentView(\"edit\");\n  };\n\n  const handleDelete = (id: string) => {\n    const note = creditNotes.find((n) => n.id === id);\n    if (note && note.status === \"Draft\") {\n      setCreditNotes(creditNotes.filter((n) => n.id !== id));\n      toast.success(\"Credit note deleted successfully\");\n    }\n  };\n\n  const handleSave = (creditNote: Partial<CreditNote>, isDraft: boolean) => {\n    const now = new Date().toISOString();\n\n    if (creditNote.id) {\n      // Update existing\n      setCreditNotes(\n        creditNotes.map((note) =>\n          note.id === creditNote.id\n            ? {\n                ...note,\n                ...creditNote,\n                updatedAt: now,\n              }\n            : note\n        )\n      );\n      toast.success(\n        isDraft ? \"Draft saved successfully\" : \"Credit note submitted for approval\"\n      );\n    } else {\n      // Create new\n      const newNote: CreditNote = {\n        id: Date.now().toString(),\n        creditNoteNumber: `CN-2024-${String(creditNotes.length + 1).padStart(3, \"0\")}`,\n        customer: creditNote.customer || \"\",\n        customerId: creditNote.customerId || \"\",\n        originalInvoice: creditNote.originalInvoice || \"\",\n        amount: creditNote.amount || 0,\n        reason: creditNote.reason || \"Other\",\n        reasonDescription: creditNote.reasonDescription,\n        date: creditNote.date || new Date().toISOString().split(\"T\")[0],\n        status: creditNote.status || \"Draft\",\n        createdBy: \"Current User\",\n        createdAt: now,\n        updatedAt: now,\n        attachments: [],\n        items: creditNote.items || [],\n      };\n      setCreditNotes([newNote, ...creditNotes]);\n      toast.success(\n        isDraft ? \"Draft created successfully\" : \"Credit note submitted for approval\"\n      );\n    }\n\n    setCurrentView(\"list\");\n  };\n\n  const handleApprove = (id: string) => {\n    const now = new Date().toISOString();\n    setCreditNotes(\n      creditNotes.map((note) =>\n        note.id === id\n          ? {\n              ...note,\n              status: \"Approved\",\n              approvedBy: \"Current User (Admin)\",\n              approvedAt: now,\n              updatedAt: now,\n            }\n          : note\n      )\n    );\n    toast.success(\"Credit note approved successfully\");\n    setCurrentView(\"list\");\n  };\n\n  const handleReject = (id: string, reason: string) => {\n    const now = new Date().toISOString();\n    setCreditNotes(\n      creditNotes.map((note) =>\n        note.id === id\n          ? {\n              ...note,\n              status: \"Rejected\",\n              rejectedBy: \"Current User (Admin)\",\n              rejectedAt: now,\n              rejectionReason: reason,\n              updatedAt: now,\n            }\n          : note\n      )\n    );\n    toast.error(\"Credit note rejected\");\n    setCurrentView(\"list\");\n  };\n\n  const handleBack = () => {\n    setCurrentView(\"list\");\n    setSelectedNoteId(null);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header - only show on list view */}\n      {currentView === \"list\" && (\n        <>\n          <div className=\"flex items-center justify-between\">\n            <div className=\"space-y-2\">\n              <h1>Credit Note Management</h1>\n              <p className=\"text-[#374151]\">\n                Create and manage credit notes for customer refunds and adjustments\n              </p>\n            </div>\n            <Button\n              onClick={handleCreateNew}\n              className=\"bg-[#F15929] hover:bg-[#D14620] text-white h-10 px-6 rounded-lg\"\n            >\n              <Plus className=\"mr-2 h-4 w-4\" />\n              Create Credit Note\n            </Button>\n          </div>\n        </>\n      )}\n\n      {/* Content */}\n      {currentView === \"list\" && (\n        <CreditNotesList\n          creditNotes={creditNotes}\n          onView={handleView}\n          onEdit={handleEdit}\n          onDelete={handleDelete}\n        />\n      )}\n\n      {(currentView === \"create\" || currentView === \"edit\") && (\n        <CreditNoteForm\n          onBack={handleBack}\n          onSave={handleSave}\n          editingNote={currentView === \"edit\" ? selectedNote : null}\n        />\n      )}\n\n      {currentView === \"details\" && selectedNote && (\n        <CreditNoteDetails\n          creditNote={selectedNote}\n          onBack={handleBack}\n          onApprove={handleApprove}\n          onReject={handleReject}\n          userRole={userRole}\n        />\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}